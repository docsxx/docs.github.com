<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>completelynovel's amazon-product-advertising-api - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/completelynovel/commits/amazon-product-advertising-api/master" rel="alternate" title="Recent Commits to amazon-product-advertising-api:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("completelynovel", "amazon-product-advertising-api", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='completelynovel/amazon-product-advertising-api/blob/9a84906755642e413464c33174e325ab8d057b4b' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='completelynovel/amazon-product-advertising-api/blob/9a84906755642e413464c33174e325ab8d057b4b' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("completelynovel", "amazon-product-advertising-api", "9a84906755642e413464c33174e325ab8d057b4b", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/completelynovel/amazon-product-advertising-api/tree/">Source</a></li>
            <li class=""><a href="http://github.com/completelynovel/amazon-product-advertising-api/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/completelynovel/amazon-product-advertising-api/network">Network</a></li>            
            <li class=""><a href="http://github.com/completelynovel/amazon-product-advertising-api/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/completelynovel/amazon-product-advertising-api">Wiki</a></li>
            <li class=""><a href="http://github.com/completelynovel/amazon-product-advertising-api/graphs">Graphs</a></li>                    
            <li class="active"><a href="/completelynovel/amazon-product-advertising-api">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/completelynovel">completelynovel</a> / <b><a href="http://github.com/completelynovel/amazon-product-advertising-api/tree">amazon-product-advertising-api</a></b>        
                <a id="namespaces_button" rel="completelynovel/amazon-product-advertising-api/blob/9a84906755642e413464c33174e325ab8d057b4b" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="completelynovel/amazon-product-advertising-api/blob/9a84906755642e413464c33174e325ab8d057b4b" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="section docstring readme wikistyle">
  <h1>amazon-product-advertising-api</h1>
<h2>Introduction</h2>
<p>
A nice rubyish interface to the Amazon Product Advertising API, formerly
known as the Associates Web Service and before that the Amazon E-Commerce
Service.
</p>
<p>
The basic design philosophy is the &#8216;Principle of least
surprise&#8217;, so it&#8217;s:
</p>
<ul>
<li>a dsl that should feel familiar to ruby folk.

</li>
<li>structured generally like the API.

</li>
</ul>
<h2>Prerequisites</h2>
<p>
It&#8217;s assumed you&#8217;re reasonably familiar with Ruby as a
language, and the typical coding patterns and styles employed by the
community.
</p>
<p>
It&#8217;s also assumed that you&#8217;re familiar with the API. If not go
RTFM for a bit, it&#8217;s all pretty straight forward.
</p>
<h2>Overview</h2>
<p>
As mentioned before, the idea behind this is to model the API so that once
you&#8217;re familiar with this library and the API, you&#8217;ll find this
an easy way to navigate around it. You should then be able to just refer to
the lists of Operations, Response Groups and Response Elements in the
appendices for all you need to know.
</p>
<p>
You initiate requests by instantiating classes representing api Operations
and named the same way, i.e. ItemSearch, ItemLookup, etc. The request
parameters are represented by attributes on those objects and can be
manipulated as you wish. If a parameter is required it&#8217;ll be required
or defaulted on initialization, but everywhere else we defer to the
defaults provided by the api.
</p>
<p>
Once setup, you call &#8216;run&#8217; on the operation which will send the
request and return a response object (and after that also available as
operation.response).
</p>
<p>
The response has a bit less structure than the request operations. There is
no representation for Response Groups as beyond one level deep there is no
clear pattern for how returned XML is structured (at least not without
going down the route trying to define custom handling for each of them).
So, instead we group the Operations into broad groups which return the same
collections of data. ItemSearch, ItemLookup and SimilarityLookup all return
a Items container element with one or more Item tag in it, etc.
</p>
<p>
Everything beyond one level deep is done with a recursive sweep
instantiating Element objects as we go.
</p>
<h2>Things to know</h2>
<ul>
<li>Amazon uses a lot of Camel case in their XML, but to suit Ruby / Rails
conventions attributes, etc are converted to underscore style.

</li>
<li>One gotcha - Response Elements can either be a simple value or a container
with more elements inside. We recognise this situation by simply comparing
the parent and child names (plural parent, singular child) though that
isn&#8217;t always the pattern so we also look for multiple children of the
same name.

<p>
That means that some situations might creep through and not work as
expected. If the parent and child don&#8217;t follow the same naming
convention and there is also only one child element you&#8217;d find the
child would be defined as parent.child rather than parent.children.first.
</p>
<p>
This is a bug and will have to be addressed (probably by making a list of
container elements to check against).
</p>
</li>
</ul>
<h2>Having problems?</h2>
<p>
After running the request uri, returned raw xml and hpricot data will be
available in operation.raw_data and operation.hpricot_data which should
tell you all you need to know about the response.
</p>
<h2>Test coverage</h2>
<p>
There aren&#8217;t any tests at the moment but I&#8217;ll try to add some.
</p>
<p>
For the most part there isn&#8217;t really all that much to test though as
it&#8217;s all largely just making http requests, however the XML parsing
is quite convoluted so some tests would be good there to make sure the
parsing is following the intended rules.
</p>
<h1>TODO</h1>
<ul>
<li>Implement the rest of the Operations (Cart*, Customer*, Help, List*,
Seller*, Tag*, Transaction* and Vehicle*).

</li>
<li>Implement batch and multiple operation requests, abstracted away from the
user within the dsl.

</li>
<li>Some sort of internal caching mechanism.

</li>
<li>Ability to bind to different IP addresses, in order to circumvent API rate
limiting.

</li>
</ul>
<h1>Obtaining</h1>
<p>
The main repository is at github but there is also a rubyforge project.
</p>
<ul>
<li>https://github.com/completelynovel/amazon-product-advertising-api/tree

</li>
<li>http://amazon-pa-api.rubyforge.org/

</li>
</ul>
<h1>Credits</h1>
<p>
Created by Jon Gilbraith, jon@completelynovel.com, while working with
CompletelyNovel.
</p>
<p>
Contents of support.rb are basically taken and adapted from Rails&#8217;
ActiveSupport.
</p>

</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>