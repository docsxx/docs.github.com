<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>btakita's rr - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/btakita/commits/rr/master" rel="alternate" title="Recent Commits to rr:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("btakita", "rr", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='btakita/rr/blob/d7462382fc1200cc76c698b368dd0ffd0f87e439' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='btakita/rr/blob/d7462382fc1200cc76c698b368dd0ffd0f87e439' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("btakita", "rr", "d7462382fc1200cc76c698b368dd0ffd0f87e439", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/btakita/rr/tree/">Source</a></li>
            <li class=""><a href="http://github.com/btakita/rr/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/btakita/rr/network">Network</a></li>            
            <li class=""><a href="http://github.com/btakita/rr/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/btakita/rr">Wiki</a></li>
            <li class=""><a href="http://github.com/btakita/rr/graphs">Graphs</a></li>                    
            <li class="active"><a href="/btakita/rr">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/btakita">btakita</a> / <b><a href="http://github.com/btakita/rr/tree">rr</a></b>        
                <a id="namespaces_button" rel="btakita/rr/blob/d7462382fc1200cc76c698b368dd0ffd0f87e439" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="btakita/rr/blob/d7462382fc1200cc76c698b368dd0ffd0f87e439" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="section docstring readme wikistyle">
  <h1>RR</h1>
<p>
RR (Double Ruby) is a test double framework that features a rich selection
of double techniques and a terse syntax.
</p>
<h2>More Information</h2>
<h3>Mailing Lists</h3>
<ul>
<li>double-ruby-users@rubyforge.org

</li>
<li>double-ruby-devel@rubyforge.org

</li>
</ul>
<h3>Websites</h3>
<ul>
<li>http://rubyforge.org/projects/double-ruby

</li>
<li>http://github.com/btakita/rr

</li>
</ul>
<h2>What is a Test Double?</h2>
<p>
A Test Double is a generalization of something that replaces a real object
to make it easier to test another object. Its like a stunt double for
tests. The following are test doubles:
</p>
<ul>
<li>Mocks

</li>
<li>Stubs

</li>
<li>Fakes

</li>
<li>Spies

</li>
<li>Proxies

</li>
</ul>
<p>
http://xunitpatterns.com/Test%20Double.html
</p>
<p>
Currently RR implements mocks, stubs, proxies, and spies. Fakes usually
require custom code, so it is beyond the scope of RR.
</p>
<h2>Using RR</h2>
<h3>test/unit</h3>
<pre class="code">
  <span class='class class kw'>class</span> <span class='Test constant id'>Test</span><span class='colon2 op'>::</span><span class='Unit constant id'>Unit</span><span class='colon2 op'>::</span><span class='TestCase constant id'>TestCase</span>
    <span class='include identifier id'>include</span> <span class='RR constant id'>RR</span><span class='colon2 op'>::</span><span class='Adapters constant id'>Adapters</span><span class='colon2 op'>::</span><span class='TestUnit constant id'>TestUnit</span>
  <span class='end end kw'>end</span>
</pre>
<h3>rspec</h3>
<pre class="code">
  <span class='Spec constant id'>Spec</span><span class='colon2 op'>::</span><span class='Runner constant id'>Runner</span><span class='dot token'>.</span><span class='configure identifier id'>configure</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='config identifier id'>config</span><span class='bitor op'>|</span>
    <span class='config identifier id'>config</span><span class='dot token'>.</span><span class='mock_with identifier id'>mock_with</span> <span class='symbol val'>:rr</span>
    <span class='comment val'># or if that doesn't work due to a version incompatibility</span>
    <span class='comment val'># config.mock_with RR::Adapters::Rspec</span>
  <span class='end end kw'>end</span>
</pre>
<h2>Syntax between RR and other double/mock frameworks</h2>
<h3>Terse Syntax</h3>
<p>
One of the goals of RR is to make doubles more scannable. This is
accomplished by making the double declaration look as much as the actual
method invocation as possible. Here is RR compared to other mock
frameworks:
</p>
<pre class="code">
  <span class='flexmock identifier id'>flexmock</span><span class='lparen token'>(</span><span class='User constant id'>User</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='should_receive identifier id'>should_receive</span><span class='lparen token'>(</span><span class='symbol val'>:find</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='string val'>'42'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='and_return identifier id'>and_return</span><span class='lparen token'>(</span><span class='jane identifier id'>jane</span><span class='rparen token'>)</span> <span class='comment val'># Flexmock</span>
  <span class='User constant id'>User</span><span class='dot token'>.</span><span class='should_receive identifier id'>should_receive</span><span class='lparen token'>(</span><span class='symbol val'>:find</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='string val'>'42'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='and_return identifier id'>and_return</span><span class='lparen token'>(</span><span class='jane identifier id'>jane</span><span class='rparen token'>)</span> <span class='comment val'># Rspec</span>
  <span class='User constant id'>User</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:find</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='string val'>'42'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='returns identifier id'>returns</span> <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='jane identifier id'>jane</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt; # Mocha
  User.should_receive(:find).with('42') &lt;tt&gt;jane&lt;/</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span> <span class='comment val'># Rspec using return value blocks</span>
  <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='User constant id'>User</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='string val'>'42'</span><span class='rparen token'>)</span> <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='jane identifier id'>jane</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt; # RR
</span></pre>
<h3>Double Injections (a.k.a Partial Mocking)</h3>
<p>
RR utilizes a technique known as &quot;double injection&quot;.
</p>
<pre class="code">
  <span class='my_object identifier id'>my_object</span> <span class='assign token'>=</span> <span class='MyClass constant id'>MyClass</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='my_object identifier id'>my_object</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='hello identifier id'>hello</span>
</pre>
<p>
Compare this with doing a mock in mocha:
</p>
<pre class="code">
  <span class='my_mocked_object identifier id'>my_mocked_object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='my_mocked_object identifier id'>my_mocked_object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:hello</span><span class='rparen token'>)</span>
</pre>
<h2>Pure Mock objects</h2>
<p>
If you wish to use objects for the sole purpose of being a mock, you can do
so by creating an empty object.
</p>
<pre class="code">
  <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='my_mock_object identifier id'>my_mock_object</span> <span class='assign token'>=</span> <span class='Object constant id'>Object</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='hello identifier id'>hello</span>
</pre>
<p>
or by using mock!
</p>
<pre class="code">
  <span class='my_mock_object identifier id'>my_mock_object</span> <span class='assign token'>=</span> <span class='mock! fid id'>mock!</span><span class='dot token'>.</span><span class='hello identifier id'>hello</span><span class='dot token'>.</span><span class='subject identifier id'>subject</span> <span class='comment val'># Mocks the #hello method and retrieves that object via the #subject method</span>
</pre>
<h3>No should_receive or expects method</h3>
<p>
RR uses method_missing to set your method expectation. This means you do
not need to use a method such as should_receive or expects.
</p>
<pre class="code">
  <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='my_object identifier id'>my_object</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='hello identifier id'>hello</span> <span class='comment val'># The hello method on my_object is mocked</span>
</pre>
<p>
Mocha:
</p>
<pre class="code">
  <span class='my_object identifier id'>my_object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:hello</span><span class='rparen token'>)</span> <span class='comment val'># expects sets the hello method expectation</span>
</pre>
<p>
Rspec mocks:
</p>
<pre class="code">
  <span class='my_object identifier id'>my_object</span><span class='dot token'>.</span><span class='should_receive identifier id'>should_receive</span><span class='lparen token'>(</span><span class='symbol val'>:hello</span><span class='rparen token'>)</span> <span class='comment val'># should_receive sets the hello method expectation</span>
</pre>
<h3>with method call is not necessary</h3>
<p>
Since RR uses method_missing, it also makes using the #with method
unnecessary in most circumstances to set the argument expectations.
</p>
<pre class="code">
  <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='my_object identifier id'>my_object</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='hello identifier id'>hello</span><span class='lparen token'>(</span><span class='string val'>'bob'</span><span class='comma token'>,</span> <span class='string val'>'jane'</span><span class='rparen token'>)</span>
</pre>
<p>
Mocha:
</p>
<pre class="code">
  <span class='my_object identifier id'>my_object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:hello</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='string val'>'bob'</span><span class='comma token'>,</span> <span class='string val'>'jane'</span><span class='rparen token'>)</span>
</pre>
<p>
Rspec mocks:
</p>
<pre class="code">
  <span class='my_object identifier id'>my_object</span><span class='dot token'>.</span><span class='should_receive identifier id'>should_receive</span><span class='lparen token'>(</span><span class='symbol val'>:hello</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='string val'>'bob'</span><span class='comma token'>,</span> <span class='string val'>'jane'</span><span class='rparen token'>)</span>
</pre>
<h3>using a block to set the return value</h3>
<p>
RR supports using a block to set the return value. RR also has the #returns
method. Both of the examples are equivalent.
</p>
<pre class="code">
  <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='my_object identifier id'>my_object</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='hello identifier id'>hello</span><span class='lparen token'>(</span><span class='string val'>'bob'</span><span class='comma token'>,</span> <span class='string val'>'jane'</span><span class='rparen token'>)</span> <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='Bob constant id'>Bob</span> <span class='and and kw'>and</span> <span class='Jane constant id'>Jane</span><span class='string val'>'&lt;/tt&gt;
  mock(my_object).hello('</span><span class='bob identifier id'>bob</span><span class='string val'>', '</span><span class='jane identifier id'>jane</span><span class='string val'>').returns('</span><span class='Hello constant id'>Hello</span> <span class='Bob constant id'>Bob</span> <span class='and and kw'>and</span> <span class='Jane constant id'>Jane</span><span class='string val'>')
</span></pre>
<p>
Mocha:
</p>
<pre class="code">
  <span class='my_object identifier id'>my_object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:hello</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='string val'>'bob'</span><span class='comma token'>,</span> <span class='string val'>'jane'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='returns identifier id'>returns</span><span class='lparen token'>(</span><span class='string val'>'Hello Bob and Jane'</span><span class='rparen token'>)</span>
</pre>
<p>
Rspec mocks:
</p>
<pre class="code">
  <span class='my_object identifier id'>my_object</span><span class='dot token'>.</span><span class='should_receive identifier id'>should_receive</span><span class='lparen token'>(</span><span class='symbol val'>:hello</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='string val'>'bob'</span><span class='comma token'>,</span> <span class='string val'>'jane'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='and_return identifier id'>and_return</span><span class='lparen token'>(</span><span class='string val'>'Hello Bob and Jane'</span><span class='rparen token'>)</span>
  <span class='my_object identifier id'>my_object</span><span class='dot token'>.</span><span class='should_receive identifier id'>should_receive</span><span class='lparen token'>(</span><span class='symbol val'>:hello</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='string val'>'bob'</span><span class='comma token'>,</span> <span class='string val'>'jane'</span><span class='rparen token'>)</span> <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='Bob constant id'>Bob</span> <span class='and and kw'>and</span> <span class='Jane constant id'>Jane</span><span class='string val'>'&lt;/tt&gt; #rspec also supports blocks for the return value
</span></pre>
<h2>Using RR</h2>
<p>
To create a double on an object, you can use the following methods:
</p>
<ul>
<li>mock or mock!

</li>
<li>stub or stub!

</li>
<li>dont_allow or dont_allow!

</li>
<li>proxy or proxy!

</li>
<li>instance_of or instance_of!

</li>
</ul>
<p>
These methods are composable. mock, stub, and dont_allow can be used by
themselves and are mutually exclusive. proxy and instance_of must be
chained with mock or stub. You can also chain proxy and instance_of
together.
</p>
<p>
The ! (bang) version of these methods causes the subject object of the
Double to be instantiated.
</p>
<h3>mock</h3>
<p>
mock replaces the method on the object with an expectation and
implementation. The expectations are a mock will be called with certain
arguments a certain number of times (the default is once). You can also set
the return value of the method invocation.
</p>
<p>
See http://xunitpatterns.com/Mock%20Object.html
</p>
<p>
The following example sets an expectation that the view will receive a
method call to #render with the arguments {:partial =&gt;
&quot;user_info&quot;} once. When the method is called
&quot;Information&quot; is returned.
</p>
<pre class="code">
  <span class='view identifier id'>view</span> <span class='assign token'>=</span> <span class='controller identifier id'>controller</span><span class='dot token'>.</span><span class='template identifier id'>template</span>
  <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='view identifier id'>view</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='render identifier id'>render</span><span class='lparen token'>(</span><span class='symbol val'>:partial</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;user_info&quot;</span><span class='rparen token'>)</span> <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='bitand op'>&amp;</span><span class='quot identifier id'>quot</span><span class='semicolon token'>;</span><span class='Information constant id'>Information</span><span class='bitand op'>&amp;</span><span class='quot identifier id'>quot</span><span class='semicolon token'>;</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;
</span></pre>
<h3>stub</h3>
<p>
stub replaces the method on the object with only an implementation. You can
still use arguments to differentiate which stub gets invoked.
</p>
<p>
See http://xunitpatterns.com/Test%20Stub.html
</p>
<p>
The following example makes the User.find method return jane when passed
&#8216;42&#8217; and returns bob when passed &#8216;99&#8217;. If another
id is passed to User.find, an exception is raised.
</p>
<pre class="code">
  <span class='jane identifier id'>jane</span> <span class='assign token'>=</span> <span class='User constant id'>User</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='bob identifier id'>bob</span> <span class='assign token'>=</span> <span class='User constant id'>User</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='stub identifier id'>stub</span><span class='lparen token'>(</span><span class='User constant id'>User</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='string val'>'42'</span><span class='rparen token'>)</span> <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='jane identifier id'>jane</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;
  stub(User).find('99') &lt;tt&gt;bob&lt;/</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span>
  <span class='stub identifier id'>stub</span><span class='lparen token'>(</span><span class='User constant id'>User</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='find identifier id'>find</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='id identifier id'>id</span><span class='bitor op'>|</span>
    <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Unexpected id #{id.inspect} passed to me&quot;</span>
  <span class='end end kw'>end</span>
</pre>
<h3>dont_allow - aliased with do_not_allow, dont_call, and do_not_call</h3>
<p>
dont_allow sets an expectation on the Double that it will never be called.
If the Double is called, then a TimesCalledError is raised.
</p>
<pre class="code">
  <span class='dont_allow identifier id'>dont_allow</span><span class='lparen token'>(</span><span class='User constant id'>User</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='string val'>'42'</span><span class='rparen token'>)</span>
  <span class='User constant id'>User</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='string val'>'42'</span><span class='rparen token'>)</span> <span class='comment val'># raises a TimesCalledError</span>
</pre>
<h3>mock.proxy</h3>
<p>
mock.proxy replaces the method on the object with an expectation,
implementation, and also invokes the actual method. mock.proxy also
intercepts the return value and passes it into the return value block.
</p>
<p>
The following example makes sets an expectation that view.render({:partial
=&gt; &quot;right_navigation&quot;}) gets called once and return the actual
content of the rendered partial template. A call to view.render({:partial
=&gt; &quot;user_info&quot;}) will render the user_info partial template
and send the content into the block and is represented by the html
variable. An assertion is done on the html and &quot;Different html&quot;
is returned.
</p>
<pre class="code">
  <span class='view identifier id'>view</span> <span class='assign token'>=</span> <span class='controller identifier id'>controller</span><span class='dot token'>.</span><span class='template identifier id'>template</span>
  <span class='mock identifier id'>mock</span><span class='dot token'>.</span><span class='proxy identifier id'>proxy</span><span class='lparen token'>(</span><span class='view identifier id'>view</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='render identifier id'>render</span><span class='lparen token'>(</span><span class='symbol val'>:partial</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;right_navigation&quot;</span><span class='rparen token'>)</span>
  <span class='mock identifier id'>mock</span><span class='dot token'>.</span><span class='proxy identifier id'>proxy</span><span class='lparen token'>(</span><span class='view identifier id'>view</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='render identifier id'>render</span><span class='lparen token'>(</span><span class='symbol val'>:partial</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;user_info&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='html identifier id'>html</span><span class='bitor op'>|</span>
    <span class='html identifier id'>html</span><span class='dot token'>.</span><span class='should identifier id'>should</span> <span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='string val'>&quot;John Doe&quot;</span><span class='rparen token'>)</span>
    <span class='string val'>&quot;Different html&quot;</span>
  <span class='end end kw'>end</span>
</pre>
<p>
You can also use mock.proxy to set expectations on the returned value. In
the following example, a call to User.find(&#8216;5&#8217;) does the normal
ActiveRecord implementation and passes the actual value, represented by the
variable bob, into the block. bob is then set with a mock.proxy for
projects to return only the first 3 projects. bob is also mocked with
valid? to return false.
</p>
<pre class="code">
  <span class='mock identifier id'>mock</span><span class='dot token'>.</span><span class='proxy identifier id'>proxy</span><span class='lparen token'>(</span><span class='User constant id'>User</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='string val'>'5'</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='bob identifier id'>bob</span><span class='bitor op'>|</span>
    <span class='mock identifier id'>mock</span><span class='dot token'>.</span><span class='proxy identifier id'>proxy</span><span class='lparen token'>(</span><span class='bob identifier id'>bob</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='projects identifier id'>projects</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='projects identifier id'>projects</span><span class='bitor op'>|</span>
      <span class='projects identifier id'>projects</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>3</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>
    <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='bob identifier id'>bob</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='valid? fid id'>valid?</span> <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='false false kw'>false</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;
    bob
  end
</span></pre>
<h3>stub.proxy</h3>
<p>
Intercept the return value of a method call. The following example verifies
render partial will be called and renders the partial.
</p>
<pre class="code">
  <span class='view identifier id'>view</span> <span class='assign token'>=</span> <span class='controller identifier id'>controller</span><span class='dot token'>.</span><span class='template identifier id'>template</span>
  <span class='stub identifier id'>stub</span><span class='dot token'>.</span><span class='proxy identifier id'>proxy</span><span class='lparen token'>(</span><span class='view identifier id'>view</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='render identifier id'>render</span><span class='lparen token'>(</span><span class='symbol val'>:partial</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;user_info&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='html identifier id'>html</span><span class='bitor op'>|</span>
    <span class='html identifier id'>html</span><span class='dot token'>.</span><span class='should identifier id'>should</span> <span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='string val'>&quot;Joe Smith&quot;</span><span class='rparen token'>)</span>
    <span class='html identifier id'>html</span>
  <span class='end end kw'>end</span>
</pre>
<h3>instance_of</h3>
<p>
Put double scenarios on instances of a Class.
</p>
<pre class="code">
  <span class='mock identifier id'>mock</span><span class='dot token'>.</span><span class='instance_of identifier id'>instance_of</span><span class='lparen token'>(</span><span class='User constant id'>User</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='valid? fid id'>valid?</span> <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='false false kw'>false</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;
</span></pre>
<h3>Spies</h3>
<p>
Adding a DoubleInjection to an Object + Method (done by stub, mock, or
dont_allow) causes RR to record any method invocations to the Object +
method. Assertions can then be made on the recorded method calls.
</p>
<h4>test/unit</h4>
<pre class="code">
  <span class='subject identifier id'>subject</span> <span class='assign token'>=</span> <span class='Object constant id'>Object</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='stub identifier id'>stub</span><span class='lparen token'>(</span><span class='subject identifier id'>subject</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='foo identifier id'>foo</span>
  <span class='subject identifier id'>subject</span><span class='dot token'>.</span><span class='foo identifier id'>foo</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span>
  <span class='assert_received identifier id'>assert_received</span><span class='lparen token'>(</span><span class='subject identifier id'>subject</span><span class='rparen token'>)</span> <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='subject identifier id'>subject</span><span class='dot token'>.</span><span class='foo identifier id'>foo</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;
  assert_received(subject) &lt;tt&gt;subject.bar&lt;/</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span> <span class='comment val'># This fails</span>
</pre>
<h4>rspec</h4>
<pre class="code">
  <span class='subject identifier id'>subject</span> <span class='assign token'>=</span> <span class='Object constant id'>Object</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='stub identifier id'>stub</span><span class='lparen token'>(</span><span class='subject identifier id'>subject</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='foo identifier id'>foo</span>
  <span class='subject identifier id'>subject</span><span class='dot token'>.</span><span class='foo identifier id'>foo</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span>
  <span class='subject identifier id'>subject</span><span class='dot token'>.</span><span class='should identifier id'>should</span> <span class='have_received identifier id'>have_received</span><span class='dot token'>.</span><span class='foo identifier id'>foo</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span>
  <span class='subject identifier id'>subject</span><span class='dot token'>.</span><span class='should identifier id'>should</span> <span class='have_received identifier id'>have_received</span><span class='dot token'>.</span><span class='bar identifier id'>bar</span> <span class='comment val'># this fails</span>
</pre>
<h3>Block Syntax</h3>
<p>
The block syntax has two modes
</p>
<ul>
<li>A normal block mode with a DoubleDefinitionCreatorProxy argument

<p>
script = MyScript.new mock(script) do |expect|
</p>
<pre class="code">
  <span class='expect identifier id'>expect</span><span class='dot token'>.</span><span class='system identifier id'>system</span><span class='lparen token'>(</span><span class='dstring node'>&quot;cd #{RAILS_ENV}&quot;</span><span class='rparen token'>)</span> <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='true true kw'>true</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;
  expect.system(&quot;rake foo:bar&quot;) &lt;tt&gt;true&lt;/</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span>
  <span class='expect identifier id'>expect</span><span class='dot token'>.</span><span class='system identifier id'>system</span><span class='lparen token'>(</span><span class='string val'>&quot;rake baz&quot;</span><span class='rparen token'>)</span> <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='true true kw'>true</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;
</span></pre>
<p>
end
</p>
</li>
<li>An instance_eval mode where the DoubleDefinitionCreatorProxy is
instance_evaled

<pre class="code">
  <span class='script identifier id'>script</span> <span class='assign token'>=</span> <span class='MyScript constant id'>MyScript</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='script identifier id'>script</span><span class='rparen token'>)</span> <span class='do do kw'>do</span>
    <span class='system identifier id'>system</span><span class='lparen token'>(</span><span class='dstring node'>&quot;cd #{RAILS_ENV}&quot;</span><span class='rparen token'>)</span> <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='true true kw'>true</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;
    system(&quot;rake foo:bar&quot;) &lt;tt&gt;true&lt;/</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span>
    <span class='system identifier id'>system</span><span class='lparen token'>(</span><span class='string val'>&quot;rake baz&quot;</span><span class='rparen token'>)</span> <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='true true kw'>true</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;
  end
</span></pre>
</li>
</ul>
<h3>Block Syntax with explicit DoubleDefinitionCreatorProxy argument</h3>
<h3>Double Graphs</h3>
<p>
RR has a method-chaining api support for Double graphs. For example, lets
say you want an object to receive a method call to #foo, and have the
return value receive a method call to #bar.
</p>
<p>
In RR, you would do:
</p>
<pre class="code">
  <span class='stub identifier id'>stub</span><span class='lparen token'>(</span><span class='object identifier id'>object</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='foo identifier id'>foo</span><span class='dot token'>.</span><span class='stub! fid id'>stub!</span><span class='dot token'>.</span><span class='bar identifier id'>bar</span> <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='symbol val'>:baz</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;
  object.foo.bar # :baz
  # or
  stub(object).foo &lt;tt&gt;{:baz&lt;/</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='rbrace token'>}</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='foo identifier id'>foo</span><span class='dot token'>.</span><span class='bar identifier id'>bar</span> <span class='comment val'># :baz</span>
  <span class='comment val'># or</span>
  <span class='bar identifier id'>bar</span> <span class='assign token'>=</span> <span class='stub! fid id'>stub!</span><span class='dot token'>.</span><span class='bar identifier id'>bar</span> <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='symbol val'>:baz</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;
  stub(object).foo &lt;tt&gt;bar&lt;/</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='foo identifier id'>foo</span><span class='dot token'>.</span><span class='bar identifier id'>bar</span> <span class='comment val'># :baz</span>
</pre>
<h3>Argument Wildcard matchers</h3>
<h4>anything</h4>
<pre class="code">
  <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='object identifier id'>object</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='foobar identifier id'>foobar</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='anything identifier id'>anything</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='foobar identifier id'>foobar</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:my_symbol</span><span class='rparen token'>)</span>
</pre>
<h4>is_a</h4>
<pre class="code">
  <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='object identifier id'>object</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='foobar identifier id'>foobar</span><span class='lparen token'>(</span><span class='is_a identifier id'>is_a</span><span class='lparen token'>(</span><span class='Time constant id'>Time</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='foobar identifier id'>foobar</span><span class='lparen token'>(</span><span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='now identifier id'>now</span><span class='rparen token'>)</span>
</pre>
<h4>numeric</h4>
<pre class="code">
  <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='object identifier id'>object</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='foobar identifier id'>foobar</span><span class='lparen token'>(</span><span class='numeric identifier id'>numeric</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='foobar identifier id'>foobar</span><span class='lparen token'>(</span><span class='integer val'>99</span><span class='rparen token'>)</span>
</pre>
<h4>boolean</h4>
<pre class="code">
  <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='object identifier id'>object</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='foobar identifier id'>foobar</span><span class='lparen token'>(</span><span class='boolean identifier id'>boolean</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='foobar identifier id'>foobar</span><span class='lparen token'>(</span><span class='false false kw'>false</span><span class='rparen token'>)</span>
</pre>
<h4>duck_type</h4>
<pre class="code">
  <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='object identifier id'>object</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='foobar identifier id'>foobar</span><span class='lparen token'>(</span><span class='duck_type identifier id'>duck_type</span><span class='lparen token'>(</span><span class='symbol val'>:walk</span><span class='comma token'>,</span> <span class='symbol val'>:talk</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='arg identifier id'>arg</span> <span class='assign token'>=</span> <span class='Object constant id'>Object</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='def def kw'>def</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='walk identifier id'>walk</span><span class='semicolon token'>;</span> <span class='string val'>'waddle'</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='talk identifier id'>talk</span><span class='semicolon token'>;</span> <span class='string val'>'quack'</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='foobar identifier id'>foobar</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='rparen token'>)</span>
</pre>
<h4>Ranges</h4>
<pre class="code">
  <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='object identifier id'>object</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='foobar identifier id'>foobar</span><span class='lparen token'>(</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>10</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='foobar identifier id'>foobar</span><span class='lparen token'>(</span><span class='integer val'>5</span><span class='rparen token'>)</span>
</pre>
<h4>Regexps</h4>
<pre class="code">
  <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='object identifier id'>object</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='foobar identifier id'>foobar</span><span class='lparen token'>(</span><span class='regexp val'>/on/</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='foobar identifier id'>foobar</span><span class='lparen token'>(</span><span class='string val'>&quot;ruby on rails&quot;</span><span class='rparen token'>)</span>
</pre>
<h4>hash_including</h4>
<pre class="code">
  <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='object identifier id'>object</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='foobar identifier id'>foobar</span><span class='lparen token'>(</span><span class='hash_including identifier id'>hash_including</span><span class='lparen token'>(</span><span class='symbol val'>:red</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;#FF0000&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:blue</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;#0000FF&quot;</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='foobar identifier id'>foobar</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:red</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;#FF0000&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:blue</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;#0000FF&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:green</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;#00FF00&quot;</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
</pre>
<h4>satisfy</h4>
<pre class="code">
  <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='object identifier id'>object</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='foobar identifier id'>foobar</span><span class='lparen token'>(</span><span class='satisfy identifier id'>satisfy</span> <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='eq op'>==</span> <span class='integer val'>2</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;)
  object.foobar(&quot;xy&quot;)
</span></pre>
<h4>Writing your own Argument Matchers</h4>
<p>
Writing a custom argument wildcard matcher is not difficult. See
RR::WildcardMatchers for details.
</p>
<h3>Invocation Amount Wildcard Matchers</h3>
<h4>any_times</h4>
<pre class="code">
  <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='object identifier id'>object</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='method_name identifier id'>method_name</span><span class='lparen token'>(</span><span class='anything identifier id'>anything</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='times identifier id'>times</span><span class='lparen token'>(</span><span class='any_times identifier id'>any_times</span><span class='rparen token'>)</span> <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='return_value identifier id'>return_value</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;
</span></pre>
<h2>Special Thanks To</h2>
<p>
With any development effort, there are countless people who have
contributed to making it possible. We all are standing on the shoulders of
giants.
</p>
<ul>
<li>Andreas Haller for patches

</li>
<li>Aslak Hellesoy for Developing Rspec

</li>
<li>Dan North for syntax ideas

</li>
<li>Dave Astels for some BDD inspiration

</li>
<li>David Chelimsky for encouragement to make the RR framework, for developing
the Rspec mock framework, syntax ideas, and patches

</li>
<li>Daniel Sudol for identifing performance issues with RR

</li>
<li>Felix Morio for pairing with me

</li>
<li>Gerard Meszaros for his excellent book &quot;xUnit Test Patterns&quot;

</li>
<li>James Mead for developing Mocha

</li>
<li>Jeff Whitmire for documentation suggestions

</li>
<li>Jim Weirich for developing Flexmock, the first Terse ruby mock framework in
Ruby

</li>
<li>Joe Ferris for patches

</li>
<li>Matthew O&#8217;Conner for patches

</li>
<li>Michael Niessner for patches and pairing with me

</li>
<li>Mike Mangino (from Elevated Rails) for patches and pairing with me

</li>
<li>Nick Kallen for documentation suggestions, bug reports, and patches

</li>
<li>Nathan Sobo for various ideas and inspiration for cleaner and more
expressive code

</li>
<li>Parker Thompson for pairing with me

</li>
<li>Phil Darnowsky for patches

</li>
<li>Pivotal Labs for sponsoring RR development

</li>
<li>Stephen Baker for Developing Rspec

</li>
</ul>

</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>