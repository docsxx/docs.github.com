<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../../style.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="../../syntax_highlight.css" type="text/css" charset="utf-8" />

    <script src="../../jquery.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../app.js" type="text/javascript" charset="utf-8"></script>
    <title>Module: ActionView::Helpers::AssetTagHelper</title>
  </head>
  <body>
    <div id="content">
      <div class="section module ActionView_Helpers_AssetTagHelper">
  <h1 class="title">Module: ActionView::Helpers::AssetTagHelper</h1>
  <div class="section docstring">
  <p>
This module provides methods for generating HTML that links views to assets
such as images, javascripts, stylesheets, and feeds. These methods do not
verify the assets exist before linking to them:
</p>
<pre class="code">
  <span class='image_tag identifier id'>image_tag</span><span class='lparen token'>(</span><span class='string val'>&quot;rails.png&quot;</span><span class='rparen token'>)</span>
  <span class='comment val'># =&gt; &lt;img alt=&quot;Rails src=&quot;/images/rails.png?1230601161&quot; /&gt;</span>
  <span class='stylesheet_link_tag identifier id'>stylesheet_link_tag</span><span class='lparen token'>(</span><span class='string val'>&quot;application&quot;</span><span class='rparen token'>)</span>
  <span class='comment val'># =&gt; &lt;link href=&quot;/stylesheets/application.css?1232285206&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;</span>
</pre>
<h3>Using asset hosts</h3>
<p>
By default, Rails links to these assets on the current host in the public
folder, but you can direct Rails to link to assets from a dedicated asset
server by setting ActionController::Base.asset_host in the application
configuration, typically in <tt>config/environments/production.rb</tt>. For
example, you&#8217;d define <tt>assets.example.com</tt> to be your asset
host this way:
</p>
<pre class="code">
  <span class='ActionController constant id'>ActionController</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span><span class='dot token'>.</span><span class='asset_host identifier id'>asset_host</span> <span class='assign token'>=</span> <span class='string val'>&quot;assets.example.com&quot;</span>
</pre>
<p>
Helpers take that into account:
</p>
<pre class="code">
  <span class='image_tag identifier id'>image_tag</span><span class='lparen token'>(</span><span class='string val'>&quot;rails.png&quot;</span><span class='rparen token'>)</span>
  <span class='comment val'># =&gt; &lt;img alt=&quot;Rails&quot; src=&quot;http://assets.example.com/images/rails.png?1230601161&quot; /&gt;</span>
  <span class='stylesheet_link_tag identifier id'>stylesheet_link_tag</span><span class='lparen token'>(</span><span class='string val'>&quot;application&quot;</span><span class='rparen token'>)</span>
  <span class='comment val'># =&gt; &lt;link href=&quot;http://assets.example.com/stylesheets/application.css?1232285206&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;</span>
</pre>
<p>
Browsers typically open at most two simultaneous connections to a single
host, which means your assets often have to wait for other assets to finish
downloading. You can alleviate this by using a <tt>%d</tt> wildcard in the
<tt>asset_host</tt>. For example, &quot;assets%d.example.com&quot;. If that
wildcard is present Rails distributes asset requests among the
corresponding four hosts &quot;assets0.example.com&quot;, &#8230;,
&quot;assets3.example.com&quot;. With this trick browsers will open eight
simultaneous connections rather than two.
</p>
<pre class="code">
  <span class='image_tag identifier id'>image_tag</span><span class='lparen token'>(</span><span class='string val'>&quot;rails.png&quot;</span><span class='rparen token'>)</span>
  <span class='comment val'># =&gt; &lt;img alt=&quot;Rails&quot; src=&quot;http://assets0.example.com/images/rails.png?1230601161&quot; /&gt;</span>
  <span class='stylesheet_link_tag identifier id'>stylesheet_link_tag</span><span class='lparen token'>(</span><span class='string val'>&quot;application&quot;</span><span class='rparen token'>)</span>
  <span class='comment val'># =&gt; &lt;link href=&quot;http://assets2.example.com/stylesheets/application.css?1232285206&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;</span>
</pre>
<p>
To do this, you can either setup four actual hosts, or you can use wildcard
DNS to CNAME the wildcard to a single asset host. You can read more about
setting up your DNS CNAME records from your ISP.
</p>
<p>
Note: This is purely a browser performance optimization and is not meant
for server load balancing. See http://www.die.net/musings/page_load_time/
for background.
</p>
<p>
Alternatively, you can exert more control over the asset host by setting
<tt>asset_host</tt> to a proc like this:
</p>
<pre class="code">
  <span class='ActionController constant id'>ActionController</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span><span class='dot token'>.</span><span class='asset_host identifier id'>asset_host</span> <span class='assign token'>=</span> <span class='Proc constant id'>Proc</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='source identifier id'>source</span><span class='bitor op'>|</span>
    <span class='dstring node'>&quot;http://assets#{rand(2) + 1}.example.com&quot;</span>
  <span class='rbrace token'>}</span>
  <span class='image_tag identifier id'>image_tag</span><span class='lparen token'>(</span><span class='string val'>&quot;rails.png&quot;</span><span class='rparen token'>)</span>
  <span class='comment val'># =&gt; &lt;img alt=&quot;Rails&quot; src=&quot;http://assets0.example.com/images/rails.png?1230601161&quot; /&gt;</span>
  <span class='stylesheet_link_tag identifier id'>stylesheet_link_tag</span><span class='lparen token'>(</span><span class='string val'>&quot;application&quot;</span><span class='rparen token'>)</span>
  <span class='comment val'># =&gt; &lt;link href=&quot;http://assets1.example.com/stylesheets/application.css?1232285206&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;</span>
</pre>
<p>
The example above generates &quot;http://assets1.example.com&quot; and
&quot;http://assets2.example.com&quot; randomly. This option is useful for
example if you need fewer/more than four hosts, custom host names, etc.
</p>
<p>
As you see the proc takes a <tt>source</tt> parameter. That&#8217;s a
string with the absolute path of the asset with any extensions and
timestamps in place, for example &quot;/images/rails.png?1230601161&quot;.
</p>
<pre class="code">
   <span class='ActionController constant id'>ActionController</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span><span class='dot token'>.</span><span class='asset_host identifier id'>asset_host</span> <span class='assign token'>=</span> <span class='Proc constant id'>Proc</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='source identifier id'>source</span><span class='bitor op'>|</span>
     <span class='if if kw'>if</span> <span class='source identifier id'>source</span><span class='dot token'>.</span><span class='starts_with? fid id'>starts_with?</span><span class='lparen token'>(</span><span class='string val'>'/images'</span><span class='rparen token'>)</span>
       <span class='string val'>&quot;http://images.example.com&quot;</span>
     <span class='else else kw'>else</span>
       <span class='string val'>&quot;http://assets.example.com&quot;</span>
     <span class='end end kw'>end</span>
   <span class='rbrace token'>}</span>
  <span class='image_tag identifier id'>image_tag</span><span class='lparen token'>(</span><span class='string val'>&quot;rails.png&quot;</span><span class='rparen token'>)</span>
  <span class='comment val'># =&gt; &lt;img alt=&quot;Rails&quot; src=&quot;http://images.example.com/images/rails.png?1230601161&quot; /&gt;</span>
  <span class='stylesheet_link_tag identifier id'>stylesheet_link_tag</span><span class='lparen token'>(</span><span class='string val'>&quot;application&quot;</span><span class='rparen token'>)</span>
  <span class='comment val'># =&gt; &lt;link href=&quot;http://assets.example.com/stylesheets/application.css?1232285206&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;</span>
</pre>
<p>
Alternatively you may ask for a second parameter <tt>request</tt>. That one
is particularly useful for serving assets from an SSL-protected page. The
example proc below disables asset hosting for HTTPS connections, while
still sending assets for plain HTTP requests from asset hosts. If you
don&#8217;t have SSL certificates for each of the asset hosts this
technique allows you to avoid warnings in the client about mixed media.
</p>
<pre class="code">
  <span class='ActionController constant id'>ActionController</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span><span class='dot token'>.</span><span class='asset_host identifier id'>asset_host</span> <span class='assign token'>=</span> <span class='Proc constant id'>Proc</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='source identifier id'>source</span><span class='comma token'>,</span> <span class='request identifier id'>request</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='request identifier id'>request</span><span class='dot token'>.</span><span class='ssl? fid id'>ssl?</span>
      <span class='dstring node'>&quot;#{request.protocol}#{request.host_with_port}&quot;</span>
    <span class='else else kw'>else</span>
      <span class='dstring node'>&quot;#{request.protocol}assets.example.com&quot;</span>
    <span class='end end kw'>end</span>
  <span class='rbrace token'>}</span>
</pre>
<p>
You can also implement a custom asset host object that responds to
<tt>call</tt> and takes either one or two parameters just like the proc.
</p>
<pre class="code">
  <span class='config identifier id'>config</span><span class='dot token'>.</span><span class='action_controller identifier id'>action_controller</span><span class='dot token'>.</span><span class='asset_host identifier id'>asset_host</span> <span class='assign token'>=</span> <span class='AssetHostingWithMinimumSsl constant id'>AssetHostingWithMinimumSsl</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span>
    <span class='string val'>&quot;http://asset%d.example.com&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;https://asset1.example.com&quot;</span>
  <span class='rparen token'>)</span>
</pre>
<h3>Using asset timestamps</h3>
<p>
By default, Rails appends asset&#8217;s timestamps to all asset paths. This
allows you to set a cache-expiration date for the asset far into the
future, but still be able to instantly invalidate it by simply updating the
file (and hence updating the timestamp, which then updates the URL as the
timestamp is part of that, which in turn busts the cache).
</p>
<p>
It&#8217;s the responsibility of the web server you use to set the
far-future expiration date on cache assets that you need to take advantage
of this feature. Here&#8217;s an example for Apache:
</p>
<pre class="code">
  <span class='comment val'># Asset Expiration</span>
  <span class='ExpiresActive constant id'>ExpiresActive</span> <span class='On constant id'>On</span>
  <span class='lt op'>&lt;</span><span class='FilesMatch constant id'>FilesMatch</span> <span class='string val'>&quot;\.(ico|gif|jpe?g|png|js|css)$&quot;</span><span class='gt op'>&gt;</span>
    <span class='ExpiresDefault constant id'>ExpiresDefault</span> <span class='string val'>&quot;access plus 1 year&quot;</span>
  <span class='lt op'>&lt;</span><span class='regexp val'>/FilesMatch&gt;
</span></pre>
<p>
Also note that in order for this to work, all your application servers must
return the same timestamps. This means that they must have their clocks
synchronized. If one of them drifts out of sync, you&#8217;ll see different
timestamps at random and the cache won&#8217;t work. In that case the
browser will request the same assets over and over again even thought they
didn&#8217;t change. You can use something like Live HTTP Headers for
Firefox to verify that the cache is indeed working.
</p>

</div><div class="section constants">
  <div class="thisclass">
  <h1>Constants</h1>
  <dl>
    
      <dt id="ASSETS_DIR-constant">ASSETS_DIR</dt>
      <dd>defined?(Rails.public_path) ? Rails.public_path : &quot;public&quot;</dd>
    
      <dt id="JAVASCRIPT_DEFAULT_SOURCES-constant">JAVASCRIPT_DEFAULT_SOURCES</dt>
      <dd>['prototype', 'effects', 'dragdrop', 'controls'].freeze unless const_defined?(:JAVASCRIPT_DEFAULT_SOURCES)</dd>
    
      <dt id="JAVASCRIPTS_DIR-constant">JAVASCRIPTS_DIR</dt>
      <dd>&quot;#{ASSETS_DIR}/javascripts&quot;</dd>
    
      <dt id="STYLESHEETS_DIR-constant">STYLESHEETS_DIR</dt>
      <dd>&quot;#{ASSETS_DIR}/stylesheets&quot;</dd>
    
  </dl>
</div>

</div>  <div class="section visibilitygroup public">
    <h1>Public Visibility</h1>
      <div class="section methodsummary class public">
    <h1>Public Class Method Summary</h1>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#cache_asset_timestamps-class_method' title='cache_asset_timestamps'>cache_asset_timestamps</a></span><span class='args'>=(value)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
You can enable or disable the asset tag timestamps cache.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#register_javascript_expansion-class_method' title='register_javascript_expansion'>register_javascript_expansion</a></span><span class='args'>(expansions)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Register one or more javascript files to be included when <tt>symbol</tt>
is passed to <tt>javascript_include_tag</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#register_javascript_include_default-class_method' title='register_javascript_include_default'>register_javascript_include_default</a></span><span class='args'>(*sources)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Register one or more additional JavaScript files to be included when
<tt>javascript_include_tag :defaults</tt> is called.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#register_stylesheet_expansion-class_method' title='register_stylesheet_expansion'>register_stylesheet_expansion</a></span><span class='args'>(expansions)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Register one or more stylesheet files to be included when <tt>symbol</tt>
is passed to <tt>stylesheet_link_tag</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#reset_javascript_include_default-class_method' title='reset_javascript_include_default'>reset_javascript_include_default</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary instance public">
    <h1>Public Instance Method Summary</h1>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#auto_discovery_link_tag-instance_method' title='#auto_discovery_link_tag'>#auto_discovery_link_tag</a></span><span class='args'>(type = :rss, url_options = {}, tag_options = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a link tag that browsers and news readers can use to auto-detect an
RSS or ATOM feed.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#image_path-instance_method' title='#image_path'>#image_path</a></span><span class='args'>(source)</span>
        <span class='block'></span>
        
          <span class='alias'>#path_to_image</span>
        
      </th>
      <td class="docstring">
        <p>
Computes the path to an image asset in the public images directory.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#image_tag-instance_method' title='#image_tag'>#image_tag</a></span><span class='args'>(source, options = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns an html image tag for the <tt>source</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#javascript_include_tag-instance_method' title='#javascript_include_tag'>#javascript_include_tag</a></span><span class='args'>(*sources)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns an html script tag for each of the <tt>sources</tt> provided.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#javascript_path-instance_method' title='#javascript_path'>#javascript_path</a></span><span class='args'>(source)</span>
        <span class='block'></span>
        
          <span class='alias'>#path_to_javascript</span>
        
      </th>
      <td class="docstring">
        <p>
Computes the path to a javascript asset in the public javascripts
directory.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#stylesheet_link_tag-instance_method' title='#stylesheet_link_tag'>#stylesheet_link_tag</a></span><span class='args'>(*sources)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a stylesheet link tag for the sources specified as arguments.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#stylesheet_path-instance_method' title='#stylesheet_path'>#stylesheet_path</a></span><span class='args'>(source)</span>
        <span class='block'></span>
        
          <span class='alias'>#path_to_stylesheet</span>
        
      </th>
      <td class="docstring">
        <p>
Computes the path to a stylesheet asset in the public stylesheets
directory.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails class public">
  <h1>Public Class Method Details</h1>
  
    <div class="method">
      <div class="method_header">
  <h3>cache_asset_timestamps</h3>
</div><div id="cache_asset_timestamps-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>cache_asset_timestamps</span><span class='args'>=(value)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
You can enable or disable the asset tag timestamps cache. With the cache
enabled, the asset tag helper methods will make fewer expense file system
calls. However this prevents you from modifying any asset files while the
server is running.
</p>
<pre class="code">
  <span class='ActionView constant id'>ActionView</span><span class='colon2 op'>::</span><span class='Helpers constant id'>Helpers</span><span class='colon2 op'>::</span><span class='AssetTagHelper constant id'>AssetTagHelper</span><span class='dot token'>.</span><span class='cache_asset_timestamps identifier id'>cache_asset_timestamps</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


505
506
507</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/asset_tag_helper.rb', line 505</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='cache_asset_timestamps identifier id'>cache_asset_timestamps</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='@@cache_asset_timestamps ivar id'>@@cache_asset_timestamps</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>register_javascript_expansion</h3>
</div><div id="register_javascript_expansion-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>register_javascript_expansion</span><span class='args'>(expansions)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Register one or more javascript files to be included when <tt>symbol</tt>
is passed to <tt>javascript_include_tag</tt>. This method is typically
intended to be called from plugin initialization to register javascript
files that the plugin installed in <tt>public/javascripts</tt>.
</p>
<pre class="code">
  <span class='ActionView constant id'>ActionView</span><span class='colon2 op'>::</span><span class='Helpers constant id'>Helpers</span><span class='colon2 op'>::</span><span class='AssetTagHelper constant id'>AssetTagHelper</span><span class='dot token'>.</span><span class='register_javascript_expansion identifier id'>register_javascript_expansion</span> <span class='symbol val'>:monkey</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='string val'>&quot;head&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;body&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;tail&quot;</span><span class='rbrack token'>]</span>

  <span class='javascript_include_tag identifier id'>javascript_include_tag</span> <span class='symbol val'>:monkey</span> <span class='comment val'># =&gt;</span>
    <span class='lt op'>&lt;</span><span class='script identifier id'>script</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/javascript&quot;</span> <span class='src identifier id'>src</span><span class='assign token'>=</span><span class='string val'>&quot;/javascripts/head.js&quot;</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='regexp val'>/script&gt;
    &lt;script type=&quot;text/</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot; src=&quot;</span><span class='div op'>/</span><span class='javascripts identifier id'>javascripts</span><span class='div op'>/</span><span class='body identifier id'>body</span><span class='dot token'>.</span><span class='js identifier id'>js</span><span class='string val'>&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;</span><span class='text identifier id'>text</span><span class='div op'>/</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot; src=&quot;</span><span class='div op'>/</span><span class='javascripts identifier id'>javascripts</span><span class='div op'>/</span><span class='tail identifier id'>tail</span><span class='dot token'>.</span><span class='js identifier id'>js</span><span class='string val'>&quot;&gt;&lt;/script&gt;
</span></pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


302
303
304</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/asset_tag_helper.rb', line 302</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='register_javascript_expansion identifier id'>register_javascript_expansion</span><span class='lparen token'>(</span><span class='expansions identifier id'>expansions</span><span class='rparen token'>)</span>
  <span class='@@javascript_expansions ivar id'>@@javascript_expansions</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='expansions identifier id'>expansions</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>register_javascript_include_default</h3>
</div><div id="register_javascript_include_default-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>register_javascript_include_default</span><span class='args'>(*sources)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Register one or more additional JavaScript files to be included when
<tt>javascript_include_tag :defaults</tt> is called. This method is
typically intended to be called from plugin initialization to register
additional .js files that the plugin installed in
<tt>public/javascripts</tt>.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


327
328
329</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/asset_tag_helper.rb', line 327</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='register_javascript_include_default identifier id'>register_javascript_include_default</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='sources identifier id'>sources</span><span class='rparen token'>)</span>
  <span class='@@javascript_expansions ivar id'>@@javascript_expansions</span><span class='lbrack token'>[</span><span class='symbol val'>:defaults</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='concat identifier id'>concat</span><span class='lparen token'>(</span><span class='sources identifier id'>sources</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>register_stylesheet_expansion</h3>
</div><div id="register_stylesheet_expansion-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>register_stylesheet_expansion</span><span class='args'>(expansions)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Register one or more stylesheet files to be included when <tt>symbol</tt>
is passed to <tt>stylesheet_link_tag</tt>. This method is typically
intended to be called from plugin initialization to register stylesheet
files that the plugin installed in <tt>public/stylesheets</tt>.
</p>
<pre class="code">
  <span class='ActionView constant id'>ActionView</span><span class='colon2 op'>::</span><span class='Helpers constant id'>Helpers</span><span class='colon2 op'>::</span><span class='AssetTagHelper constant id'>AssetTagHelper</span><span class='dot token'>.</span><span class='register_stylesheet_expansion identifier id'>register_stylesheet_expansion</span> <span class='symbol val'>:monkey</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='string val'>&quot;head&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;body&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;tail&quot;</span><span class='rbrack token'>]</span>

  <span class='stylesheet_link_tag identifier id'>stylesheet_link_tag</span> <span class='symbol val'>:monkey</span> <span class='comment val'># =&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;/stylesheets/head.css&quot;</span>  <span class='media identifier id'>media</span><span class='assign token'>=</span><span class='string val'>&quot;screen&quot;</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;stylesheet&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/css&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;/stylesheets/body.css&quot;</span>  <span class='media identifier id'>media</span><span class='assign token'>=</span><span class='string val'>&quot;screen&quot;</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;stylesheet&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/css&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;/stylesheets/tail.css&quot;</span>  <span class='media identifier id'>media</span><span class='assign token'>=</span><span class='string val'>&quot;screen&quot;</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;stylesheet&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/css&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


319
320
321</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/asset_tag_helper.rb', line 319</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='register_stylesheet_expansion identifier id'>register_stylesheet_expansion</span><span class='lparen token'>(</span><span class='expansions identifier id'>expansions</span><span class='rparen token'>)</span>
  <span class='@@stylesheet_expansions ivar id'>@@stylesheet_expansions</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='expansions identifier id'>expansions</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>reset_javascript_include_default</h3>
</div><div id="reset_javascript_include_default-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>reset_javascript_include_default</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


331
332
333</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/asset_tag_helper.rb', line 331</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='reset_javascript_include_default identifier id'>reset_javascript_include_default</span> 
  <span class='@@javascript_expansions ivar id'>@@javascript_expansions</span><span class='lbrack token'>[</span><span class='symbol val'>:defaults</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='JAVASCRIPT_DEFAULT_SOURCES constant id'>JAVASCRIPT_DEFAULT_SOURCES</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
</div><div class="section methoddetails instance public">
  <h1>Public Instance Method Details</h1>
  
    <div class="method">
      <div class="method_header">
  <h3>auto_discovery_link_tag</h3>
</div><div id="auto_discovery_link_tag-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>auto_discovery_link_tag</span><span class='args'>(type = :rss, url_options = {}, tag_options = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a link tag that browsers and news readers can use to auto-detect an
RSS or ATOM feed. The <tt>type</tt> can either be <tt>:rss</tt> (default)
or <tt>:atom</tt>. Control the link options in url_for format using the
<tt>url_options</tt>. You can modify the LINK tag itself in
<tt>tag_options</tt>.
</p>
<h4>Options</h4>
<ul>
<li><tt>:rel</tt> - Specify the relation of this link, defaults to
&quot;alternate&quot;

</li>
<li><tt>:type</tt> - Override the auto-generated mime type

</li>
<li><tt>:title</tt> - Specify the title of the link, defaults to the
<tt>type</tt>

</li>
</ul>
<h4>Examples</h4>
<pre class="code">
 <span class='auto_discovery_link_tag identifier id'>auto_discovery_link_tag</span> <span class='comment val'># =&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;alternate&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;application/rss+xml&quot;</span> <span class='title identifier id'>title</span><span class='assign token'>=</span><span class='string val'>&quot;RSS&quot;</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;http://www.currenthost.com/controller/action&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
 <span class='auto_discovery_link_tag identifier id'>auto_discovery_link_tag</span><span class='lparen token'>(</span><span class='symbol val'>:atom</span><span class='rparen token'>)</span> <span class='comment val'># =&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;alternate&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;application/atom+xml&quot;</span> <span class='title identifier id'>title</span><span class='assign token'>=</span><span class='string val'>&quot;ATOM&quot;</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;http://www.currenthost.com/controller/action&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
 <span class='auto_discovery_link_tag identifier id'>auto_discovery_link_tag</span><span class='lparen token'>(</span><span class='symbol val'>:rss</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='symbol val'>:action</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;feed&quot;</span><span class='rbrace token'>}</span><span class='rparen token'>)</span> <span class='comment val'># =&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;alternate&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;application/rss+xml&quot;</span> <span class='title identifier id'>title</span><span class='assign token'>=</span><span class='string val'>&quot;RSS&quot;</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;http://www.currenthost.com/controller/feed&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
 <span class='auto_discovery_link_tag identifier id'>auto_discovery_link_tag</span><span class='lparen token'>(</span><span class='symbol val'>:rss</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='symbol val'>:action</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;feed&quot;</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='symbol val'>:title</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;My RSS&quot;</span><span class='rbrace token'>}</span><span class='rparen token'>)</span> <span class='comment val'># =&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;alternate&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;application/rss+xml&quot;</span> <span class='title identifier id'>title</span><span class='assign token'>=</span><span class='string val'>&quot;My RSS&quot;</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;http://www.currenthost.com/controller/feed&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
 <span class='auto_discovery_link_tag identifier id'>auto_discovery_link_tag</span><span class='lparen token'>(</span><span class='symbol val'>:rss</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='symbol val'>:controller</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;news&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:action</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;feed&quot;</span><span class='rbrace token'>}</span><span class='rparen token'>)</span> <span class='comment val'># =&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;alternate&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;application/rss+xml&quot;</span> <span class='title identifier id'>title</span><span class='assign token'>=</span><span class='string val'>&quot;RSS&quot;</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;http://www.currenthost.com/news/feed&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
 <span class='auto_discovery_link_tag identifier id'>auto_discovery_link_tag</span><span class='lparen token'>(</span><span class='symbol val'>:rss</span><span class='comma token'>,</span> <span class='string val'>&quot;http://www.example.com/feed.rss&quot;</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='symbol val'>:title</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Example RSS&quot;</span><span class='rbrace token'>}</span><span class='rparen token'>)</span> <span class='comment val'># =&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;alternate&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;application/rss+xml&quot;</span> <span class='title identifier id'>title</span><span class='assign token'>=</span><span class='string val'>&quot;Example RSS&quot;</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;http://www.example.com/feed&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


162
163
164
165
166
167
168
169
170</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/asset_tag_helper.rb', line 162</span>

<span class='def def kw'>def</span> <span class='auto_discovery_link_tag identifier id'>auto_discovery_link_tag</span><span class='lparen token'>(</span><span class='type identifier id'>type</span> <span class='assign token'>=</span> <span class='symbol val'>:rss</span><span class='comma token'>,</span> <span class='url_options identifier id'>url_options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='tag_options identifier id'>tag_options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='tag identifier id'>tag</span><span class='lparen token'>(</span>
    <span class='string val'>&quot;link&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;rel&quot;</span>   <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='tag_options identifier id'>tag_options</span><span class='lbrack token'>[</span><span class='symbol val'>:rel</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='string val'>&quot;alternate&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;type&quot;</span>  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='tag_options identifier id'>tag_options</span><span class='lbrack token'>[</span><span class='symbol val'>:type</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='Mime constant id'>Mime</span><span class='colon2 op'>::</span><span class='Type constant id'>Type</span><span class='dot token'>.</span><span class='lookup_by_extension identifier id'>lookup_by_extension</span><span class='lparen token'>(</span><span class='type identifier id'>type</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='comma token'>,</span>
    <span class='string val'>&quot;title&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='tag_options identifier id'>tag_options</span><span class='lbrack token'>[</span><span class='symbol val'>:title</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='type identifier id'>type</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='upcase identifier id'>upcase</span><span class='comma token'>,</span>
    <span class='string val'>&quot;href&quot;</span>  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='url_options identifier id'>url_options</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='url_for identifier id'>url_for</span><span class='lparen token'>(</span><span class='url_options identifier id'>url_options</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='symbol val'>:only_path</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='url_options identifier id'>url_options</span>
  <span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>image_path</h3>
</div><div id="image_path-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>image_path</span><span class='args'>(source)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="path_to_image-instance_method">path_to_image</tt>
  
</p>
</div><div class="section docstring">
  <p>
Computes the path to an image asset in the public images directory. Full
paths from the document root will be passed through. Used internally by
<tt>image_tag</tt> to build the image path.
</p>
<h4>Examples</h4>
<pre class="code">
  <span class='image_path identifier id'>image_path</span><span class='lparen token'>(</span><span class='string val'>&quot;edit&quot;</span><span class='rparen token'>)</span>                                         <span class='comment val'># =&gt; /images/edit</span>
  <span class='image_path identifier id'>image_path</span><span class='lparen token'>(</span><span class='string val'>&quot;edit.png&quot;</span><span class='rparen token'>)</span>                                     <span class='comment val'># =&gt; /images/edit.png</span>
  <span class='image_path identifier id'>image_path</span><span class='lparen token'>(</span><span class='string val'>&quot;icons/edit.png&quot;</span><span class='rparen token'>)</span>                               <span class='comment val'># =&gt; /images/icons/edit.png</span>
  <span class='image_path identifier id'>image_path</span><span class='lparen token'>(</span><span class='string val'>&quot;/icons/edit.png&quot;</span><span class='rparen token'>)</span>                              <span class='comment val'># =&gt; /icons/edit.png</span>
  <span class='image_path identifier id'>image_path</span><span class='lparen token'>(</span><span class='string val'>&quot;http://www.railsapplication.com/img/edit.png&quot;</span><span class='rparen token'>)</span> <span class='comment val'># =&gt; http://www.railsapplication.com/img/edit.png</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


439
440
441</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/asset_tag_helper.rb', line 439</span>

<span class='def def kw'>def</span> <span class='image_path identifier id'>image_path</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='rparen token'>)</span>
  <span class='compute_public_path identifier id'>compute_public_path</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='comma token'>,</span> <span class='string val'>'images'</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>image_tag</h3>
</div><div id="image_tag-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>image_tag</span><span class='args'>(source, options = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns an html image tag for the <tt>source</tt>. The <tt>source</tt> can
be a full path or a file that exists in your public images directory.
</p>
<h4>Options</h4>
<p>
You can add HTML attributes using the <tt>options</tt>. The
<tt>options</tt> supports three additional keys for convenience and
conformance:
</p>
<ul>
<li><tt>:alt</tt> - If no alt text is given, the file name part of the
<tt>source</tt> is used (capitalized and without the extension)

</li>
<li><tt>:size</tt> - Supplied as &quot;{Width}x{Height}&quot;, so
&quot;30x45&quot; becomes width=&quot;30&quot; and height=&quot;45&quot;.
<tt>:size</tt> will be ignored if the value is not in the correct format.

</li>
<li><tt>:mouseover</tt> - Set an alternate image to be used when the
onmouseover event is fired, and sets the original image to be replaced
onmouseout. This can be used to implement an easy image toggle that fires
on onmouseover.

</li>
</ul>
<h4>Examples</h4>
<pre class="code">
 <span class='image_tag identifier id'>image_tag</span><span class='lparen token'>(</span><span class='string val'>&quot;icon&quot;</span><span class='rparen token'>)</span>  <span class='comment val'># =&gt;</span>
   <span class='lt op'>&lt;</span><span class='img identifier id'>img</span> <span class='src identifier id'>src</span><span class='assign token'>=</span><span class='string val'>&quot;/images/icon&quot;</span> <span class='alt identifier id'>alt</span><span class='assign token'>=</span><span class='string val'>&quot;Icon&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
 <span class='image_tag identifier id'>image_tag</span><span class='lparen token'>(</span><span class='string val'>&quot;icon.png&quot;</span><span class='rparen token'>)</span>  <span class='comment val'># =&gt;</span>
   <span class='lt op'>&lt;</span><span class='img identifier id'>img</span> <span class='src identifier id'>src</span><span class='assign token'>=</span><span class='string val'>&quot;/images/icon.png&quot;</span> <span class='alt identifier id'>alt</span><span class='assign token'>=</span><span class='string val'>&quot;Icon&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
 <span class='image_tag identifier id'>image_tag</span><span class='lparen token'>(</span><span class='string val'>&quot;icon.png&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:size</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;16x10&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:alt</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Edit Entry&quot;</span><span class='rparen token'>)</span>  <span class='comment val'># =&gt;</span>
   <span class='lt op'>&lt;</span><span class='img identifier id'>img</span> <span class='src identifier id'>src</span><span class='assign token'>=</span><span class='string val'>&quot;/images/icon.png&quot;</span> <span class='width identifier id'>width</span><span class='assign token'>=</span><span class='string val'>&quot;16&quot;</span> <span class='height identifier id'>height</span><span class='assign token'>=</span><span class='string val'>&quot;10&quot;</span> <span class='alt identifier id'>alt</span><span class='assign token'>=</span><span class='string val'>&quot;Edit Entry&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
 <span class='image_tag identifier id'>image_tag</span><span class='lparen token'>(</span><span class='string val'>&quot;/icons/icon.gif&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:size</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;16x16&quot;</span><span class='rparen token'>)</span>  <span class='comment val'># =&gt;</span>
   <span class='lt op'>&lt;</span><span class='img identifier id'>img</span> <span class='src identifier id'>src</span><span class='assign token'>=</span><span class='string val'>&quot;/icons/icon.gif&quot;</span> <span class='width identifier id'>width</span><span class='assign token'>=</span><span class='string val'>&quot;16&quot;</span> <span class='height identifier id'>height</span><span class='assign token'>=</span><span class='string val'>&quot;16&quot;</span> <span class='alt identifier id'>alt</span><span class='assign token'>=</span><span class='string val'>&quot;Icon&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
 <span class='image_tag identifier id'>image_tag</span><span class='lparen token'>(</span><span class='string val'>&quot;/icons/icon.gif&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:height</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'32'</span><span class='comma token'>,</span> <span class='symbol val'>:width</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'32'</span><span class='rparen token'>)</span> <span class='comment val'># =&gt;</span>
   <span class='lt op'>&lt;</span><span class='img identifier id'>img</span> <span class='alt identifier id'>alt</span><span class='assign token'>=</span><span class='string val'>&quot;Icon&quot;</span> <span class='height identifier id'>height</span><span class='assign token'>=</span><span class='string val'>&quot;32&quot;</span> <span class='src identifier id'>src</span><span class='assign token'>=</span><span class='string val'>&quot;/icons/icon.gif&quot;</span> <span class='width identifier id'>width</span><span class='assign token'>=</span><span class='string val'>&quot;32&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
 <span class='image_tag identifier id'>image_tag</span><span class='lparen token'>(</span><span class='string val'>&quot;/icons/icon.gif&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:class</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;menu_icon&quot;</span><span class='rparen token'>)</span> <span class='comment val'># =&gt;</span>
   <span class='lt op'>&lt;</span><span class='img identifier id'>img</span> <span class='alt identifier id'>alt</span><span class='assign token'>=</span><span class='string val'>&quot;Icon&quot;</span> <span class='class class kw'>class</span><span class='assign token'>=</span><span class='string val'>&quot;menu_icon&quot;</span> <span class='src identifier id'>src</span><span class='assign token'>=</span><span class='string val'>&quot;/icons/icon.gif&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
 <span class='image_tag identifier id'>image_tag</span><span class='lparen token'>(</span><span class='string val'>&quot;mouse.png&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:mouseover</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;/images/mouse_over.png&quot;</span><span class='rparen token'>)</span> <span class='comment val'># =&gt;</span>
   <span class='lt op'>&lt;</span><span class='img identifier id'>img</span> <span class='src identifier id'>src</span><span class='assign token'>=</span><span class='string val'>&quot;/images/mouse.png&quot;</span> <span class='onmouseover identifier id'>onmouseover</span><span class='assign token'>=</span><span class='string val'>&quot;this.src='/images/mouse_over.png'&quot;</span> <span class='onmouseout identifier id'>onmouseout</span><span class='assign token'>=</span><span class='string val'>&quot;this.src='/images/mouse.png'&quot;</span> <span class='alt identifier id'>alt</span><span class='assign token'>=</span><span class='string val'>&quot;Mouse&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
 <span class='image_tag identifier id'>image_tag</span><span class='lparen token'>(</span><span class='string val'>&quot;mouse.png&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:mouseover</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='image_path identifier id'>image_path</span><span class='lparen token'>(</span><span class='string val'>&quot;mouse_over.png&quot;</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='comment val'># =&gt;</span>
   <span class='lt op'>&lt;</span><span class='img identifier id'>img</span> <span class='src identifier id'>src</span><span class='assign token'>=</span><span class='string val'>&quot;/images/mouse.png&quot;</span> <span class='onmouseover identifier id'>onmouseover</span><span class='assign token'>=</span><span class='string val'>&quot;this.src='/images/mouse_over.png'&quot;</span> <span class='onmouseout identifier id'>onmouseout</span><span class='assign token'>=</span><span class='string val'>&quot;this.src='/images/mouse.png'&quot;</span> <span class='alt identifier id'>alt</span><span class='assign token'>=</span><span class='string val'>&quot;Mouse&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/asset_tag_helper.rb', line 477</span>

<span class='def def kw'>def</span> <span class='image_tag identifier id'>image_tag</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='symbolize_keys! fid id'>symbolize_keys!</span>

  <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:src</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='path_to_image identifier id'>path_to_image</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='rparen token'>)</span>
  <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:alt</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='basename identifier id'>basename</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:src</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='string val'>'.*'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>'.'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='capitalize identifier id'>capitalize</span>

  <span class='if if kw'>if</span> <span class='size identifier id'>size</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='colon op'>:</span><span class='size identifier id'>size</span><span class='rparen token'>)</span>
    <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:width</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:height</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='size identifier id'>size</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>&quot;x&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='size identifier id'>size</span> <span class='match op'>=~</span> <span class='regexp val'>%r{^\d+x\d+$}</span>
  <span class='end end kw'>end</span>

  <span class='if if kw'>if</span> <span class='mouseover identifier id'>mouseover</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='colon op'>:</span><span class='mouseover identifier id'>mouseover</span><span class='rparen token'>)</span>
    <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:onmouseover</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;this.src='#{image_path(mouseover)}'&quot;</span>
    <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:onmouseout</span><span class='rbrack token'>]</span>  <span class='assign token'>=</span> <span class='dstring node'>&quot;this.src='#{image_path(options[:src])}'&quot;</span>
  <span class='end end kw'>end</span>

  <span class='tag identifier id'>tag</span><span class='lparen token'>(</span><span class='string val'>&quot;img&quot;</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>javascript_include_tag</h3>
</div><div id="javascript_include_tag-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>javascript_include_tag</span><span class='args'>(*sources)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns an html script tag for each of the <tt>sources</tt> provided. You
can pass in the filename (.js extension is optional) of javascript files
that exist in your public/javascripts directory for inclusion into the
current page or you can pass the full path relative to your document root.
To include the Prototype and Scriptaculous javascript libraries in your
application, pass <tt>:defaults</tt> as the source. When using
<tt>:defaults</tt>, if an application.js file exists in your public
javascripts directory, it will be included as well. You can modify the html
attributes of the script tag by passing a hash as the last argument.
</p>
<h4>Examples</h4>
<pre class="code">
  <span class='javascript_include_tag identifier id'>javascript_include_tag</span> <span class='string val'>&quot;xmlhr&quot;</span> <span class='comment val'># =&gt;</span>
    <span class='lt op'>&lt;</span><span class='script identifier id'>script</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/javascript&quot;</span> <span class='src identifier id'>src</span><span class='assign token'>=</span><span class='string val'>&quot;/javascripts/xmlhr.js&quot;</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='regexp val'>/script&gt;

  javascript_include_tag &quot;xmlhr.js&quot; # =&gt;
    &lt;script type=&quot;text/</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot; src=&quot;</span><span class='div op'>/</span><span class='javascripts identifier id'>javascripts</span><span class='div op'>/</span><span class='xmlhr identifier id'>xmlhr</span><span class='dot token'>.</span><span class='js identifier id'>js</span><span class='string val'>&quot;&gt;&lt;/script&gt;

  javascript_include_tag &quot;</span><span class='common identifier id'>common</span><span class='dot token'>.</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot;, &quot;</span><span class='div op'>/</span><span class='elsewhere identifier id'>elsewhere</span><span class='div op'>/</span><span class='cools identifier id'>cools</span><span class='string val'>&quot; # =&gt;
    &lt;script type=&quot;</span><span class='text identifier id'>text</span><span class='div op'>/</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot; src=&quot;</span><span class='div op'>/</span><span class='javascripts identifier id'>javascripts</span><span class='div op'>/</span><span class='common identifier id'>common</span><span class='dot token'>.</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;</span><span class='text identifier id'>text</span><span class='div op'>/</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot; src=&quot;</span><span class='div op'>/</span><span class='elsewhere identifier id'>elsewhere</span><span class='div op'>/</span><span class='cools identifier id'>cools</span><span class='dot token'>.</span><span class='js identifier id'>js</span><span class='string val'>&quot;&gt;&lt;/script&gt;

  javascript_include_tag &quot;</span><span class='http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/www.railsapplication.com/</span><span class='xmlhr identifier id'>xmlhr</span><span class='string val'>&quot; # =&gt;
    &lt;script type=&quot;</span><span class='text identifier id'>text</span><span class='div op'>/</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot; src=&quot;</span><span class='http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/www.railsapplication.com/</span><span class='xmlhr identifier id'>xmlhr</span><span class='dot token'>.</span><span class='js identifier id'>js</span><span class='string val'>&quot;&gt;&lt;/script&gt;

  javascript_include_tag &quot;</span><span class='http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/www.railsapplication.com/</span><span class='xmlhr identifier id'>xmlhr</span><span class='dot token'>.</span><span class='js identifier id'>js</span><span class='string val'>&quot; # =&gt;
    &lt;script type=&quot;</span><span class='text identifier id'>text</span><span class='div op'>/</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot; src=&quot;</span><span class='http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/www.railsapplication.com/</span><span class='xmlhr identifier id'>xmlhr</span><span class='dot token'>.</span><span class='js identifier id'>js</span><span class='string val'>&quot;&gt;&lt;/script&gt;

  javascript_include_tag :defaults # =&gt;
    &lt;script type=&quot;</span><span class='text identifier id'>text</span><span class='div op'>/</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot; src=&quot;</span><span class='div op'>/</span><span class='javascripts identifier id'>javascripts</span><span class='div op'>/</span><span class='prototype identifier id'>prototype</span><span class='dot token'>.</span><span class='js identifier id'>js</span><span class='string val'>&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;</span><span class='text identifier id'>text</span><span class='div op'>/</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot; src=&quot;</span><span class='div op'>/</span><span class='javascripts identifier id'>javascripts</span><span class='div op'>/</span><span class='effects identifier id'>effects</span><span class='dot token'>.</span><span class='js identifier id'>js</span><span class='string val'>&quot;&gt;&lt;/script&gt;
    ...
    &lt;script type=&quot;</span><span class='text identifier id'>text</span><span class='div op'>/</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot; src=&quot;</span><span class='div op'>/</span><span class='javascripts identifier id'>javascripts</span><span class='div op'>/</span><span class='application identifier id'>application</span><span class='dot token'>.</span><span class='js identifier id'>js</span><span class='string val'>&quot;&gt;&lt;/script&gt;
</span></pre>
<ul>
<li>= The application.js file is only referenced if it exists

</li>
</ul>
<p>
Though it&#8217;s not really recommended practice, if you need to extend
the default JavaScript set for any reason (e.g., you&#8217;re going to be
using a certain .js file in every action), then take a look at the
register_javascript_include_default method.
</p>
<p>
You can also include all javascripts in the javascripts directory using
<tt>:all</tt> as the source:
</p>
<pre class="code">
  <span class='javascript_include_tag identifier id'>javascript_include_tag</span> <span class='symbol val'>:all</span> <span class='comment val'># =&gt;</span>
    <span class='lt op'>&lt;</span><span class='script identifier id'>script</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/javascript&quot;</span> <span class='src identifier id'>src</span><span class='assign token'>=</span><span class='string val'>&quot;/javascripts/prototype.js&quot;</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='regexp val'>/script&gt;
    &lt;script type=&quot;text/</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot; src=&quot;</span><span class='div op'>/</span><span class='javascripts identifier id'>javascripts</span><span class='div op'>/</span><span class='effects identifier id'>effects</span><span class='dot token'>.</span><span class='js identifier id'>js</span><span class='string val'>&quot;&gt;&lt;/script&gt;
    ...
    &lt;script type=&quot;</span><span class='text identifier id'>text</span><span class='div op'>/</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot; src=&quot;</span><span class='div op'>/</span><span class='javascripts identifier id'>javascripts</span><span class='div op'>/</span><span class='application identifier id'>application</span><span class='dot token'>.</span><span class='js identifier id'>js</span><span class='string val'>&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;</span><span class='text identifier id'>text</span><span class='div op'>/</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot; src=&quot;</span><span class='div op'>/</span><span class='javascripts identifier id'>javascripts</span><span class='div op'>/</span><span class='shop identifier id'>shop</span><span class='dot token'>.</span><span class='js identifier id'>js</span><span class='string val'>&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;</span><span class='text identifier id'>text</span><span class='div op'>/</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot; src=&quot;</span><span class='div op'>/</span><span class='javascripts identifier id'>javascripts</span><span class='div op'>/</span><span class='checkout identifier id'>checkout</span><span class='dot token'>.</span><span class='js identifier id'>js</span><span class='string val'>&quot;&gt;&lt;/script&gt;
</span></pre>
<p>
Note that the default javascript files will be included first. So Prototype
and Scriptaculous are available to all subsequently included files.
</p>
<p>
If you want Rails to search in all the subdirectories under javascripts,
you should explicitly set <tt>:recursive</tt>:
</p>
<pre class="code">
  <span class='javascript_include_tag identifier id'>javascript_include_tag</span> <span class='symbol val'>:all</span><span class='comma token'>,</span> <span class='symbol val'>:recursive</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span>
</pre>
<h2>Caching multiple javascripts into one</h2>
<p>
You can also cache multiple javascripts into one file, which requires less
HTTP connections to download and can better be compressed by gzip (leading
to faster transfers). Caching will only happen if
ActionController::Base.perform_caching is set to <tt>true</tt> (which is
the case by default for the Rails production environment, but not for the
development environment).
</p>
<h4>Examples</h4>
<pre class="code">
  <span class='javascript_include_tag identifier id'>javascript_include_tag</span> <span class='symbol val'>:all</span><span class='comma token'>,</span> <span class='symbol val'>:cache</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span> <span class='comment val'># when ActionController::Base.perform_caching is false =&gt;</span>
    <span class='lt op'>&lt;</span><span class='script identifier id'>script</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/javascript&quot;</span> <span class='src identifier id'>src</span><span class='assign token'>=</span><span class='string val'>&quot;/javascripts/prototype.js&quot;</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='regexp val'>/script&gt;
    &lt;script type=&quot;text/</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot; src=&quot;</span><span class='div op'>/</span><span class='javascripts identifier id'>javascripts</span><span class='div op'>/</span><span class='effects identifier id'>effects</span><span class='dot token'>.</span><span class='js identifier id'>js</span><span class='string val'>&quot;&gt;&lt;/script&gt;
    ...
    &lt;script type=&quot;</span><span class='text identifier id'>text</span><span class='div op'>/</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot; src=&quot;</span><span class='div op'>/</span><span class='javascripts identifier id'>javascripts</span><span class='div op'>/</span><span class='application identifier id'>application</span><span class='dot token'>.</span><span class='js identifier id'>js</span><span class='string val'>&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;</span><span class='text identifier id'>text</span><span class='div op'>/</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot; src=&quot;</span><span class='div op'>/</span><span class='javascripts identifier id'>javascripts</span><span class='div op'>/</span><span class='shop identifier id'>shop</span><span class='dot token'>.</span><span class='js identifier id'>js</span><span class='string val'>&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;</span><span class='text identifier id'>text</span><span class='div op'>/</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot; src=&quot;</span><span class='div op'>/</span><span class='javascripts identifier id'>javascripts</span><span class='div op'>/</span><span class='checkout identifier id'>checkout</span><span class='dot token'>.</span><span class='js identifier id'>js</span><span class='string val'>&quot;&gt;&lt;/script&gt;

  javascript_include_tag :all, :cache =&gt; true # when ActionController::Base.perform_caching is true =&gt;
    &lt;script type=&quot;</span><span class='text identifier id'>text</span><span class='div op'>/</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot; src=&quot;</span><span class='div op'>/</span><span class='javascripts identifier id'>javascripts</span><span class='div op'>/</span><span class='all identifier id'>all</span><span class='dot token'>.</span><span class='js identifier id'>js</span><span class='string val'>&quot;&gt;&lt;/script&gt;

  javascript_include_tag &quot;</span><span class='prototype identifier id'>prototype</span><span class='string val'>&quot;, &quot;</span><span class='cart identifier id'>cart</span><span class='string val'>&quot;, &quot;</span><span class='checkout identifier id'>checkout</span><span class='string val'>&quot;, :cache =&gt; &quot;</span><span class='shop identifier id'>shop</span><span class='string val'>&quot; # when ActionController::Base.perform_caching is false =&gt;
    &lt;script type=&quot;</span><span class='text identifier id'>text</span><span class='div op'>/</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot; src=&quot;</span><span class='div op'>/</span><span class='javascripts identifier id'>javascripts</span><span class='div op'>/</span><span class='prototype identifier id'>prototype</span><span class='dot token'>.</span><span class='js identifier id'>js</span><span class='string val'>&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;</span><span class='text identifier id'>text</span><span class='div op'>/</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot; src=&quot;</span><span class='div op'>/</span><span class='javascripts identifier id'>javascripts</span><span class='div op'>/</span><span class='cart identifier id'>cart</span><span class='dot token'>.</span><span class='js identifier id'>js</span><span class='string val'>&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;</span><span class='text identifier id'>text</span><span class='div op'>/</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot; src=&quot;</span><span class='div op'>/</span><span class='javascripts identifier id'>javascripts</span><span class='div op'>/</span><span class='checkout identifier id'>checkout</span><span class='dot token'>.</span><span class='js identifier id'>js</span><span class='string val'>&quot;&gt;&lt;/script&gt;

  javascript_include_tag &quot;</span><span class='prototype identifier id'>prototype</span><span class='string val'>&quot;, &quot;</span><span class='cart identifier id'>cart</span><span class='string val'>&quot;, &quot;</span><span class='checkout identifier id'>checkout</span><span class='string val'>&quot;, :cache =&gt; &quot;</span><span class='shop identifier id'>shop</span><span class='string val'>&quot; # when ActionController::Base.perform_caching is true =&gt;
    &lt;script type=&quot;</span><span class='text identifier id'>text</span><span class='div op'>/</span><span class='javascript identifier id'>javascript</span><span class='string val'>&quot; src=&quot;</span><span class='div op'>/</span><span class='javascripts identifier id'>javascripts</span><span class='div op'>/</span><span class='shop identifier id'>shop</span><span class='dot token'>.</span><span class='js identifier id'>js</span><span class='string val'>&quot;&gt;&lt;/script&gt;
</span></pre>
<p>
The <tt>:recursive</tt> option is also available for caching:
</p>
<pre class="code">
  <span class='javascript_include_tag identifier id'>javascript_include_tag</span> <span class='symbol val'>:all</span><span class='comma token'>,</span> <span class='symbol val'>:cache</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:recursive</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


273
274
275
276
277
278
279
280
281
282
283
284
285
286
287</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/asset_tag_helper.rb', line 273</span>

<span class='def def kw'>def</span> <span class='javascript_include_tag identifier id'>javascript_include_tag</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='sources identifier id'>sources</span><span class='rparen token'>)</span>
  <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='sources identifier id'>sources</span><span class='dot token'>.</span><span class='extract_options! fid id'>extract_options!</span><span class='dot token'>.</span><span class='stringify_keys identifier id'>stringify_keys</span>
  <span class='cache identifier id'>cache</span>   <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='string val'>&quot;cache&quot;</span><span class='rparen token'>)</span>
  <span class='recursive identifier id'>recursive</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='string val'>&quot;recursive&quot;</span><span class='rparen token'>)</span>

  <span class='if if kw'>if</span> <span class='ActionController constant id'>ActionController</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span><span class='dot token'>.</span><span class='perform_caching identifier id'>perform_caching</span> <span class='andop op'>&amp;&amp;</span> <span class='cache identifier id'>cache</span>
    <span class='joined_javascript_name identifier id'>joined_javascript_name</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='cache identifier id'>cache</span> <span class='eq op'>==</span> <span class='true true kw'>true</span> <span class='question op'>?</span> <span class='string val'>&quot;all&quot;</span> <span class='colon op'>:</span> <span class='cache identifier id'>cache</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='string val'>&quot;.js&quot;</span>
    <span class='joined_javascript_path identifier id'>joined_javascript_path</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='JAVASCRIPTS_DIR constant id'>JAVASCRIPTS_DIR</span><span class='comma token'>,</span> <span class='joined_javascript_name identifier id'>joined_javascript_name</span><span class='rparen token'>)</span>

    <span class='write_asset_file_contents identifier id'>write_asset_file_contents</span><span class='lparen token'>(</span><span class='joined_javascript_path identifier id'>joined_javascript_path</span><span class='comma token'>,</span> <span class='compute_javascript_paths identifier id'>compute_javascript_paths</span><span class='lparen token'>(</span><span class='sources identifier id'>sources</span><span class='comma token'>,</span> <span class='recursive identifier id'>recursive</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='exists? fid id'>exists?</span><span class='lparen token'>(</span><span class='joined_javascript_path identifier id'>joined_javascript_path</span><span class='rparen token'>)</span>
    <span class='javascript_src_tag identifier id'>javascript_src_tag</span><span class='lparen token'>(</span><span class='joined_javascript_name identifier id'>joined_javascript_name</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='expand_javascript_sources identifier id'>expand_javascript_sources</span><span class='lparen token'>(</span><span class='sources identifier id'>sources</span><span class='comma token'>,</span> <span class='recursive identifier id'>recursive</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='source identifier id'>source</span><span class='bitor op'>|</span> <span class='javascript_src_tag identifier id'>javascript_src_tag</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;\n&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>javascript_path</h3>
</div><div id="javascript_path-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>javascript_path</span><span class='args'>(source)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="path_to_javascript-instance_method">path_to_javascript</tt>
  
</p>
</div><div class="section docstring">
  <p>
Computes the path to a javascript asset in the public javascripts
directory. If the <tt>source</tt> filename has no extension, .js will be
appended. Full paths from the document root will be passed through. Used
internally by javascript_include_tag to build the script path.
</p>
<h4>Examples</h4>
<pre class="code">
  <span class='javascript_path identifier id'>javascript_path</span> <span class='string val'>&quot;xmlhr&quot;</span> <span class='comment val'># =&gt; /javascripts/xmlhr.js</span>
  <span class='javascript_path identifier id'>javascript_path</span> <span class='string val'>&quot;dir/xmlhr.js&quot;</span> <span class='comment val'># =&gt; /javascripts/dir/xmlhr.js</span>
  <span class='javascript_path identifier id'>javascript_path</span> <span class='string val'>&quot;/dir/xmlhr&quot;</span> <span class='comment val'># =&gt; /dir/xmlhr.js</span>
  <span class='javascript_path identifier id'>javascript_path</span> <span class='string val'>&quot;http://www.railsapplication.com/js/xmlhr&quot;</span> <span class='comment val'># =&gt; http://www.railsapplication.com/js/xmlhr.js</span>
  <span class='javascript_path identifier id'>javascript_path</span> <span class='string val'>&quot;http://www.railsapplication.com/js/xmlhr.js&quot;</span> <span class='comment val'># =&gt; http://www.railsapplication.com/js/xmlhr.js</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


183
184
185</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/asset_tag_helper.rb', line 183</span>

<span class='def def kw'>def</span> <span class='javascript_path identifier id'>javascript_path</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='rparen token'>)</span>
  <span class='compute_public_path identifier id'>compute_public_path</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='comma token'>,</span> <span class='string val'>'javascripts'</span><span class='comma token'>,</span> <span class='string val'>'js'</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>stylesheet_link_tag</h3>
</div><div id="stylesheet_link_tag-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>stylesheet_link_tag</span><span class='args'>(*sources)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a stylesheet link tag for the sources specified as arguments. If
you don&#8217;t specify an extension, <tt>.css</tt> will be appended
automatically. You can modify the link attributes by passing a hash as the
last argument.
</p>
<h4>Examples</h4>
<pre class="code">
  <span class='stylesheet_link_tag identifier id'>stylesheet_link_tag</span> <span class='string val'>&quot;style&quot;</span> <span class='comment val'># =&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;/stylesheets/style.css&quot;</span> <span class='media identifier id'>media</span><span class='assign token'>=</span><span class='string val'>&quot;screen&quot;</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;stylesheet&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/css&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>

  <span class='stylesheet_link_tag identifier id'>stylesheet_link_tag</span> <span class='string val'>&quot;style.css&quot;</span> <span class='comment val'># =&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;/stylesheets/style.css&quot;</span> <span class='media identifier id'>media</span><span class='assign token'>=</span><span class='string val'>&quot;screen&quot;</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;stylesheet&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/css&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>

  <span class='stylesheet_link_tag identifier id'>stylesheet_link_tag</span> <span class='string val'>&quot;http://www.railsapplication.com/style.css&quot;</span> <span class='comment val'># =&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;http://www.railsapplication.com/style.css&quot;</span> <span class='media identifier id'>media</span><span class='assign token'>=</span><span class='string val'>&quot;screen&quot;</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;stylesheet&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/css&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>

  <span class='stylesheet_link_tag identifier id'>stylesheet_link_tag</span> <span class='string val'>&quot;style&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:media</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;all&quot;</span> <span class='comment val'># =&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;/stylesheets/style.css&quot;</span> <span class='media identifier id'>media</span><span class='assign token'>=</span><span class='string val'>&quot;all&quot;</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;stylesheet&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/css&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>

  <span class='stylesheet_link_tag identifier id'>stylesheet_link_tag</span> <span class='string val'>&quot;style&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:media</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;print&quot;</span> <span class='comment val'># =&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;/stylesheets/style.css&quot;</span> <span class='media identifier id'>media</span><span class='assign token'>=</span><span class='string val'>&quot;print&quot;</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;stylesheet&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/css&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>

  <span class='stylesheet_link_tag identifier id'>stylesheet_link_tag</span> <span class='string val'>&quot;random.styles&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;/css/stylish&quot;</span> <span class='comment val'># =&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;/stylesheets/random.styles&quot;</span> <span class='media identifier id'>media</span><span class='assign token'>=</span><span class='string val'>&quot;screen&quot;</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;stylesheet&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/css&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;/css/stylish.css&quot;</span> <span class='media identifier id'>media</span><span class='assign token'>=</span><span class='string val'>&quot;screen&quot;</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;stylesheet&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/css&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
</pre>
<p>
You can also include all styles in the stylesheets directory using
<tt>:all</tt> as the source:
</p>
<pre class="code">
  <span class='stylesheet_link_tag identifier id'>stylesheet_link_tag</span> <span class='symbol val'>:all</span> <span class='comment val'># =&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;/stylesheets/style1.css&quot;</span>  <span class='media identifier id'>media</span><span class='assign token'>=</span><span class='string val'>&quot;screen&quot;</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;stylesheet&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/css&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;/stylesheets/styleB.css&quot;</span>  <span class='media identifier id'>media</span><span class='assign token'>=</span><span class='string val'>&quot;screen&quot;</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;stylesheet&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/css&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;/stylesheets/styleX2.css&quot;</span> <span class='media identifier id'>media</span><span class='assign token'>=</span><span class='string val'>&quot;screen&quot;</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;stylesheet&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/css&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
</pre>
<p>
If you want Rails to search in all the subdirectories under stylesheets,
you should explicitly set <tt>:recursive</tt>:
</p>
<pre class="code">
  <span class='stylesheet_link_tag identifier id'>stylesheet_link_tag</span> <span class='symbol val'>:all</span><span class='comma token'>,</span> <span class='symbol val'>:recursive</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span>
</pre>
<h2>Caching multiple stylesheets into one</h2>
<p>
You can also cache multiple stylesheets into one file, which requires less
HTTP connections and can better be compressed by gzip (leading to faster
transfers). Caching will only happen if
ActionController::Base.perform_caching is set to true (which is the case by
default for the Rails production environment, but not for the development
environment). Examples:
</p>
<h4>Examples</h4>
<pre class="code">
  <span class='stylesheet_link_tag identifier id'>stylesheet_link_tag</span> <span class='symbol val'>:all</span><span class='comma token'>,</span> <span class='symbol val'>:cache</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span> <span class='comment val'># when ActionController::Base.perform_caching is false =&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;/stylesheets/style1.css&quot;</span>  <span class='media identifier id'>media</span><span class='assign token'>=</span><span class='string val'>&quot;screen&quot;</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;stylesheet&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/css&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;/stylesheets/styleB.css&quot;</span>  <span class='media identifier id'>media</span><span class='assign token'>=</span><span class='string val'>&quot;screen&quot;</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;stylesheet&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/css&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;/stylesheets/styleX2.css&quot;</span> <span class='media identifier id'>media</span><span class='assign token'>=</span><span class='string val'>&quot;screen&quot;</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;stylesheet&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/css&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>

  <span class='stylesheet_link_tag identifier id'>stylesheet_link_tag</span> <span class='symbol val'>:all</span><span class='comma token'>,</span> <span class='symbol val'>:cache</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span> <span class='comment val'># when ActionController::Base.perform_caching is true =&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;/stylesheets/all.css&quot;</span>  <span class='media identifier id'>media</span><span class='assign token'>=</span><span class='string val'>&quot;screen&quot;</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;stylesheet&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/css&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>

  <span class='stylesheet_link_tag identifier id'>stylesheet_link_tag</span> <span class='string val'>&quot;shop&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;cart&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;checkout&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:cache</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;payment&quot;</span> <span class='comment val'># when ActionController::Base.perform_caching is false =&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;/stylesheets/shop.css&quot;</span>  <span class='media identifier id'>media</span><span class='assign token'>=</span><span class='string val'>&quot;screen&quot;</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;stylesheet&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/css&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;/stylesheets/cart.css&quot;</span>  <span class='media identifier id'>media</span><span class='assign token'>=</span><span class='string val'>&quot;screen&quot;</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;stylesheet&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/css&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;/stylesheets/checkout.css&quot;</span> <span class='media identifier id'>media</span><span class='assign token'>=</span><span class='string val'>&quot;screen&quot;</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;stylesheet&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/css&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>

  <span class='stylesheet_link_tag identifier id'>stylesheet_link_tag</span> <span class='string val'>&quot;shop&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;cart&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;checkout&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:cache</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;payment&quot;</span> <span class='comment val'># when ActionController::Base.perform_caching is true =&gt;</span>
    <span class='lt op'>&lt;</span><span class='link identifier id'>link</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;/stylesheets/payment.css&quot;</span>  <span class='media identifier id'>media</span><span class='assign token'>=</span><span class='string val'>&quot;screen&quot;</span> <span class='rel identifier id'>rel</span><span class='assign token'>=</span><span class='string val'>&quot;stylesheet&quot;</span> <span class='type identifier id'>type</span><span class='assign token'>=</span><span class='string val'>&quot;text/css&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
</pre>
<p>
The <tt>:recursive</tt> option is also available for caching:
</p>
<pre class="code">
  <span class='stylesheet_link_tag identifier id'>stylesheet_link_tag</span> <span class='symbol val'>:all</span><span class='comma token'>,</span> <span class='symbol val'>:cache</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:recursive</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


413
414
415
416
417
418
419
420
421
422
423
424
425
426
427</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/asset_tag_helper.rb', line 413</span>

<span class='def def kw'>def</span> <span class='stylesheet_link_tag identifier id'>stylesheet_link_tag</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='sources identifier id'>sources</span><span class='rparen token'>)</span>
  <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='sources identifier id'>sources</span><span class='dot token'>.</span><span class='extract_options! fid id'>extract_options!</span><span class='dot token'>.</span><span class='stringify_keys identifier id'>stringify_keys</span>
  <span class='cache identifier id'>cache</span>   <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='string val'>&quot;cache&quot;</span><span class='rparen token'>)</span>
  <span class='recursive identifier id'>recursive</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='string val'>&quot;recursive&quot;</span><span class='rparen token'>)</span>

  <span class='if if kw'>if</span> <span class='ActionController constant id'>ActionController</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span><span class='dot token'>.</span><span class='perform_caching identifier id'>perform_caching</span> <span class='andop op'>&amp;&amp;</span> <span class='cache identifier id'>cache</span>
    <span class='joined_stylesheet_name identifier id'>joined_stylesheet_name</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='cache identifier id'>cache</span> <span class='eq op'>==</span> <span class='true true kw'>true</span> <span class='question op'>?</span> <span class='string val'>&quot;all&quot;</span> <span class='colon op'>:</span> <span class='cache identifier id'>cache</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='string val'>&quot;.css&quot;</span>
    <span class='joined_stylesheet_path identifier id'>joined_stylesheet_path</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='STYLESHEETS_DIR constant id'>STYLESHEETS_DIR</span><span class='comma token'>,</span> <span class='joined_stylesheet_name identifier id'>joined_stylesheet_name</span><span class='rparen token'>)</span>

    <span class='write_asset_file_contents identifier id'>write_asset_file_contents</span><span class='lparen token'>(</span><span class='joined_stylesheet_path identifier id'>joined_stylesheet_path</span><span class='comma token'>,</span> <span class='compute_stylesheet_paths identifier id'>compute_stylesheet_paths</span><span class='lparen token'>(</span><span class='sources identifier id'>sources</span><span class='comma token'>,</span> <span class='recursive identifier id'>recursive</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='exists? fid id'>exists?</span><span class='lparen token'>(</span><span class='joined_stylesheet_path identifier id'>joined_stylesheet_path</span><span class='rparen token'>)</span>
    <span class='stylesheet_tag identifier id'>stylesheet_tag</span><span class='lparen token'>(</span><span class='joined_stylesheet_name identifier id'>joined_stylesheet_name</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='expand_stylesheet_sources identifier id'>expand_stylesheet_sources</span><span class='lparen token'>(</span><span class='sources identifier id'>sources</span><span class='comma token'>,</span> <span class='recursive identifier id'>recursive</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='source identifier id'>source</span><span class='bitor op'>|</span> <span class='stylesheet_tag identifier id'>stylesheet_tag</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;\n&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>stylesheet_path</h3>
</div><div id="stylesheet_path-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>stylesheet_path</span><span class='args'>(source)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="path_to_stylesheet-instance_method">path_to_stylesheet</tt>
  
</p>
</div><div class="section docstring">
  <p>
Computes the path to a stylesheet asset in the public stylesheets
directory. If the <tt>source</tt> filename has no extension, <tt>.css</tt>
will be appended. Full paths from the document root will be passed through.
Used internally by <tt>stylesheet_link_tag</tt> to build the stylesheet
path.
</p>
<h4>Examples</h4>
<pre class="code">
  <span class='stylesheet_path identifier id'>stylesheet_path</span> <span class='string val'>&quot;style&quot;</span> <span class='comment val'># =&gt; /stylesheets/style.css</span>
  <span class='stylesheet_path identifier id'>stylesheet_path</span> <span class='string val'>&quot;dir/style.css&quot;</span> <span class='comment val'># =&gt; /stylesheets/dir/style.css</span>
  <span class='stylesheet_path identifier id'>stylesheet_path</span> <span class='string val'>&quot;/dir/style.css&quot;</span> <span class='comment val'># =&gt; /dir/style.css</span>
  <span class='stylesheet_path identifier id'>stylesheet_path</span> <span class='string val'>&quot;http://www.railsapplication.com/css/style&quot;</span> <span class='comment val'># =&gt; http://www.railsapplication.com/css/style.css</span>
  <span class='stylesheet_path identifier id'>stylesheet_path</span> <span class='string val'>&quot;http://www.railsapplication.com/css/style.js&quot;</span> <span class='comment val'># =&gt; http://www.railsapplication.com/css/style.css</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


346
347
348</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/asset_tag_helper.rb', line 346</span>

<span class='def def kw'>def</span> <span class='stylesheet_path identifier id'>stylesheet_path</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='rparen token'>)</span>
  <span class='compute_public_path identifier id'>compute_public_path</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='comma token'>,</span> <span class='string val'>'stylesheets'</span><span class='comma token'>,</span> <span class='string val'>'css'</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
</div>
  </div>

</div>
    </div>
  </body>
</html>