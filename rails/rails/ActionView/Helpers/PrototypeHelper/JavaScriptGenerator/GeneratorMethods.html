<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../../../../style.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="../../../../syntax_highlight.css" type="text/css" charset="utf-8" />

    <script src="../../../../jquery.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../app.js" type="text/javascript" charset="utf-8"></script>
    <title>Module: ActionView::Helpers::PrototypeHelper::JavaScriptGenerator::GeneratorMethods</title>
  </head>
  <body>
    <div id="content">
      <div class="section module ActionView_Helpers_PrototypeHelper_JavaScriptGenerator_GeneratorMethods">
  <h1 class="title">Module: ActionView::Helpers::PrototypeHelper::JavaScriptGenerator::GeneratorMethods</h1>
  <div class="section docstring">
  <p>
JavaScriptGenerator generates blocks of JavaScript code that allow you to
change the content and presentation of multiple DOM elements. Use this in
your Ajax response bodies, either in a &lt;script&gt; tag or as plain
JavaScript sent with a Content-type of &quot;text/javascript&quot;.
</p>
<p>
Create new instances with PrototypeHelper#update_page or with
ActionController::Base#render, then call <tt>insert_html</tt>,
<tt>replace_html</tt>, <tt>remove</tt>, <tt>show</tt>, <tt>hide</tt>,
<tt>visual_effect</tt>, or any other of the built-in methods on the yielded
generator in any order you like to modify the content and appearance of the
current page.
</p>
<p>
Example:
</p>
<pre class="code">
  <span class='comment val'># Generates:</span>
  <span class='comment val'>#     new Element.insert(&quot;list&quot;, { bottom: &quot;&lt;li&gt;Some item&lt;/li&gt;&quot; });</span>
  <span class='comment val'>#     new Effect.Highlight(&quot;list&quot;);</span>
  <span class='comment val'>#     [&quot;status-indicator&quot;, &quot;cancel-link&quot;].each(Element.hide);</span>
  <span class='update_page identifier id'>update_page</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='page identifier id'>page</span><span class='bitor op'>|</span>
    <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='insert_html identifier id'>insert_html</span> <span class='symbol val'>:bottom</span><span class='comma token'>,</span> <span class='string val'>'list'</span><span class='comma token'>,</span> <span class='dstring node'>&quot;&lt;li&gt;#{@item.name}&lt;/li&gt;&quot;</span>
    <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='visual_effect identifier id'>visual_effect</span> <span class='symbol val'>:highlight</span><span class='comma token'>,</span> <span class='string val'>'list'</span>
    <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='hide identifier id'>hide</span> <span class='string val'>'status-indicator'</span><span class='comma token'>,</span> <span class='string val'>'cancel-link'</span>
  <span class='end end kw'>end</span>
</pre>
<p>
Helper methods can be used in conjunction with JavaScriptGenerator. When a
helper method is called inside an update block on the <tt>page</tt> object,
that method will also have access to a <tt>page</tt> object.
</p>
<p>
Example:
</p>
<pre class="code">
  <span class='module module kw'>module</span> <span class='ApplicationHelper constant id'>ApplicationHelper</span>
    <span class='def def kw'>def</span> <span class='update_time identifier id'>update_time</span>
      <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='replace_html identifier id'>replace_html</span> <span class='string val'>'time'</span><span class='comma token'>,</span> <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='now identifier id'>now</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='lparen token'>(</span><span class='symbol val'>:db</span><span class='rparen token'>)</span>
      <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='visual_effect identifier id'>visual_effect</span> <span class='symbol val'>:highlight</span><span class='comma token'>,</span> <span class='string val'>'time'</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># Controller action</span>
  <span class='def def kw'>def</span> <span class='poll identifier id'>poll</span>
    <span class='render identifier id'>render</span><span class='lparen token'>(</span><span class='symbol val'>:update</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='page identifier id'>page</span><span class='bitor op'>|</span> <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='update_time identifier id'>update_time</span> <span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
</pre>
<p>
Calls to JavaScriptGenerator not matching a helper method below generate a
proxy to the JavaScript Class named by the method called.
</p>
<p>
Examples:
</p>
<pre class="code">
  <span class='comment val'># Generates:</span>
  <span class='comment val'>#     Foo.init();</span>
  <span class='update_page identifier id'>update_page</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='page identifier id'>page</span><span class='bitor op'>|</span>
    <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='foo identifier id'>foo</span><span class='dot token'>.</span><span class='init identifier id'>init</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># Generates:</span>
  <span class='comment val'>#     Event.observe('one', 'click', function () {</span>
  <span class='comment val'>#       $('two').show();</span>
  <span class='comment val'>#     });</span>
  <span class='update_page identifier id'>update_page</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='page identifier id'>page</span><span class='bitor op'>|</span>
    <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='event identifier id'>event</span><span class='dot token'>.</span><span class='observe identifier id'>observe</span><span class='lparen token'>(</span><span class='string val'>'one'</span><span class='comma token'>,</span> <span class='string val'>'click'</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='p identifier id'>p</span><span class='bitor op'>|</span>
     <span class='p identifier id'>p</span><span class='lbrack token'>[</span><span class='symbol val'>:two</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='show identifier id'>show</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
<p>
You can also use PrototypeHelper#update_page_tag instead of
PrototypeHelper#update_page to wrap the generated JavaScript in a
&lt;script&gt; tag.
</p>

</div><div class="section constants">
  
</div>  <div class="section visibilitygroup public">
    <h1>Public Visibility</h1>
      <div class="section methodsummary instance public">
    <h1>Public Instance Method Summary</h1>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#%3C%3C-instance_method' title='#&lt;&lt;'>#&lt;&lt;</a></span><span class='args'>(javascript)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Writes raw JavaScript to the page.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#%5B%5D-instance_method' title='#[]'>#[]</a></span><span class='args'>(id)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a element reference by finding it through <tt>id</tt> in the DOM.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#alert-instance_method' title='#alert'>#alert</a></span><span class='args'>(message)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Displays an alert dialog with the given <tt>message</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#assign-instance_method' title='#assign'>#assign</a></span><span class='args'>(variable, value)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Assigns the JavaScript <tt>variable</tt> the given <tt>value</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#call-instance_method' title='#call'>#call</a></span><span class='args'>(function, *arguments, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Calls the JavaScript <tt>function</tt>, optionally with the given
<tt>arguments</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#delay-instance_method' title='#delay'>#delay</a></span><span class='args'>(seconds = 1)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Executes the content of the block after a delay of <tt>seconds</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#draggable-instance_method' title='#draggable'>#draggable</a></span><span class='args'>(id, options = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Creates a script.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#drop_receiving-instance_method' title='#drop_receiving'>#drop_receiving</a></span><span class='args'>(id, options = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Creates a script.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#hide-instance_method' title='#hide'>#hide</a></span><span class='args'>(*ids)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Hides the visible DOM elements with the given <tt>ids</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#insert_html-instance_method' title='#insert_html'>#insert_html</a></span><span class='args'>(position, id, *options_for_render)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Inserts HTML at the specified <tt>position</tt> relative to the DOM element
identified by the given <tt>id</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#literal-instance_method' title='#literal'>#literal</a></span><span class='args'>(code)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns an object whose <tt>to_json</tt> evaluates to <tt>code</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#redirect_to-instance_method' title='#redirect_to'>#redirect_to</a></span><span class='args'>(location)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Redirects the browser to the given <tt>location</tt> using JavaScript, in
the same form as <tt>url_for</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#reload-instance_method' title='#reload'>#reload</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Reloads the browser&#8217;s current <tt>location</tt> using JavaScript.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#remove-instance_method' title='#remove'>#remove</a></span><span class='args'>(*ids)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Removes the DOM elements with the given <tt>ids</tt> from the page.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#replace-instance_method' title='#replace'>#replace</a></span><span class='args'>(id, *options_for_render)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Replaces the &quot;outer HTML&quot; (i.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#replace_html-instance_method' title='#replace_html'>#replace_html</a></span><span class='args'>(id, *options_for_render)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Replaces the inner HTML of the DOM element with the given <tt>id</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#select-instance_method' title='#select'>#select</a></span><span class='args'>(pattern)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a collection reference by finding it through a CSS <tt>pattern</tt>
in the DOM.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#show-instance_method' title='#show'>#show</a></span><span class='args'>(*ids)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Shows hidden DOM elements with the given <tt>ids</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#sortable-instance_method' title='#sortable'>#sortable</a></span><span class='args'>(id, options = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Creates a script.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#to_s-instance_method' title='#to_s'>#to_s</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#toggle-instance_method' title='#toggle'>#toggle</a></span><span class='args'>(*ids)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Toggles the visibility of the DOM elements with the given <tt>ids</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#visual_effect-instance_method' title='#visual_effect'>#visual_effect</a></span><span class='args'>(name, id = nil, options = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Starts a script.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails instance public">
  <h1>Public Instance Method Details</h1>
  
    <div class="method">
      <div class="method_header">
  <h3>&lt;&lt;</h3>
</div><div id="%3C%3C-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'><<</span><span class='args'>(javascript)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Writes raw JavaScript to the page.
</p>
<p>
Example:
</p>
<pre class="code">
 <span class='page identifier id'>page</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;alert('JavaScript with Prototype.');&quot;</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


926
927
928</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/prototype_helper.rb', line 926</span>

<span class='def def kw'>def</span> <span class='lshft op'>&lt;&lt;</span><span class='lparen token'>(</span><span class='javascript identifier id'>javascript</span><span class='rparen token'>)</span>
  <span class='@lines ivar id'>@lines</span> <span class='lshft op'>&lt;&lt;</span> <span class='javascript identifier id'>javascript</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>[]</h3>
</div><div id="%5B%5D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>[]</span><span class='args'>(id)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a element reference by finding it through <tt>id</tt> in the DOM.
This element can then be used for further method calls. Examples:
</p>
<pre class="code">
  <span class='page identifier id'>page</span><span class='lbrack token'>[</span><span class='string val'>'blank_slate'</span><span class='rbrack token'>]</span>                  <span class='comment val'># =&gt; $('blank_slate');</span>
  <span class='page identifier id'>page</span><span class='lbrack token'>[</span><span class='string val'>'blank_slate'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='show identifier id'>show</span>             <span class='comment val'># =&gt; $('blank_slate').show();</span>
  <span class='page identifier id'>page</span><span class='lbrack token'>[</span><span class='string val'>'blank_slate'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='show identifier id'>show</span><span class='lparen token'>(</span><span class='string val'>'first'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='up identifier id'>up</span> <span class='comment val'># =&gt; $('blank_slate').show('first').up();</span>
</pre>
<p>
You can also pass in a record, which will use
ActionController::RecordIdentifier.dom_id to lookup the correct id:
</p>
<pre class="code">
  <span class='page identifier id'>page</span><span class='lbrack token'>[</span><span class='@post ivar id'>@post</span><span class='rbrack token'>]</span>     <span class='comment val'># =&gt; $('post_45')</span>
  <span class='page identifier id'>page</span><span class='lbrack token'>[</span><span class='Post constant id'>Post</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='rbrack token'>]</span>  <span class='comment val'># =&gt; $('new_post')</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


677
678
679
680
681
682
683
684</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/prototype_helper.rb', line 677</span>

<span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='rparen token'>)</span>
  <span class='case case kw'>case</span> <span class='id identifier id'>id</span>
    <span class='when when kw'>when</span> <span class='String constant id'>String</span><span class='comma token'>,</span> <span class='Symbol constant id'>Symbol</span><span class='comma token'>,</span> <span class='NilClass constant id'>NilClass</span>
      <span class='JavaScriptElementProxy constant id'>JavaScriptElementProxy</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='id identifier id'>id</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='JavaScriptElementProxy constant id'>JavaScriptElementProxy</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='ActionController constant id'>ActionController</span><span class='colon2 op'>::</span><span class='RecordIdentifier constant id'>RecordIdentifier</span><span class='dot token'>.</span><span class='dom_id identifier id'>dom_id</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>alert</h3>
</div><div id="alert-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>alert</span><span class='args'>(message)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Displays an alert dialog with the given <tt>message</tt>.
</p>
<p>
Example:
</p>
<pre class="code">
  <span class='comment val'># Generates: alert('This message is from Rails!')</span>
  <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='alert identifier id'>alert</span><span class='lparen token'>(</span><span class='string val'>'This message is from Rails!'</span><span class='rparen token'>)</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


849
850
851</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/prototype_helper.rb', line 849</span>

<span class='def def kw'>def</span> <span class='alert identifier id'>alert</span><span class='lparen token'>(</span><span class='message identifier id'>message</span><span class='rparen token'>)</span>
  <span class='call identifier id'>call</span> <span class='string val'>'alert'</span><span class='comma token'>,</span> <span class='message identifier id'>message</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>assign</h3>
</div><div id="assign-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>assign</span><span class='args'>(variable, value)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Assigns the JavaScript <tt>variable</tt> the given <tt>value</tt>.
</p>
<p>
Examples:
</p>
<pre class="code">
 <span class='comment val'># Generates: my_string = &quot;This is mine!&quot;;</span>
 <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='assign identifier id'>assign</span> <span class='string val'>'my_string'</span><span class='comma token'>,</span> <span class='string val'>'This is mine!'</span>

 <span class='comment val'># Generates: record_count = 33;</span>
 <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='assign identifier id'>assign</span> <span class='string val'>'record_count'</span><span class='comma token'>,</span> <span class='integer val'>33</span>

 <span class='comment val'># Generates: tabulated_total = 47</span>
 <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='assign identifier id'>assign</span> <span class='string val'>'tabulated_total'</span><span class='comma token'>,</span> <span class='@total_from_cart ivar id'>@total_from_cart</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


917
918
919</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/prototype_helper.rb', line 917</span>

<span class='def def kw'>def</span> <span class='assign identifier id'>assign</span><span class='lparen token'>(</span><span class='variable identifier id'>variable</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='record identifier id'>record</span> <span class='dstring node'>&quot;#{variable} = #{javascript_object_for(value)}&quot;</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>call</h3>
</div><div id="call-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>call</span><span class='args'>(function, *arguments, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Calls the JavaScript <tt>function</tt>, optionally with the given
<tt>arguments</tt>.
</p>
<p>
If a block is given, the block will be passed to a new JavaScriptGenerator;
the resulting JavaScript code will then be wrapped inside <tt>function() {
&#8230; }</tt> and passed as the called function&#8217;s final argument.
</p>
<p>
Examples:
</p>
<pre class="code">
  <span class='comment val'># Generates: Element.replace(my_element, &quot;My content to replace with.&quot;)</span>
  <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='call identifier id'>call</span> <span class='string val'>'Element.replace'</span><span class='comma token'>,</span> <span class='string val'>'my_element'</span><span class='comma token'>,</span> <span class='string val'>&quot;My content to replace with.&quot;</span>

  <span class='comment val'># Generates: alert('My message!')</span>
  <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='call identifier id'>call</span> <span class='string val'>'alert'</span><span class='comma token'>,</span> <span class='string val'>'My message!'</span>

  <span class='comment val'># Generates:</span>
  <span class='comment val'>#     my_method(function() {</span>
  <span class='comment val'>#       $(&quot;one&quot;).show();</span>
  <span class='comment val'>#       $(&quot;two&quot;).hide();</span>
  <span class='comment val'>#    });</span>
  <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='symbol val'>:my_method</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='p identifier id'>p</span><span class='bitor op'>|</span>
     <span class='p identifier id'>p</span><span class='lbrack token'>[</span><span class='symbol val'>:one</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='show identifier id'>show</span>
     <span class='p identifier id'>p</span><span class='lbrack token'>[</span><span class='symbol val'>:two</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='hide identifier id'>hide</span>
  <span class='end end kw'>end</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


900
901
902</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/prototype_helper.rb', line 900</span>

<span class='def def kw'>def</span> <span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='function identifier id'>function</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='arguments identifier id'>arguments</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='record identifier id'>record</span> <span class='dstring node'>&quot;#{function}(#{arguments_for_call(arguments, block)})&quot;</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>delay</h3>
</div><div id="delay-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>delay</span><span class='args'>(seconds = 1)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Executes the content of the block after a delay of <tt>seconds</tt>.
Example:
</p>
<pre class="code">
  <span class='comment val'># Generates:</span>
  <span class='comment val'>#     setTimeout(function() {</span>
  <span class='comment val'>#     ;</span>
  <span class='comment val'>#     new Effect.Fade(&quot;notice&quot;,{});</span>
  <span class='comment val'>#     }, 20000);</span>
  <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='delay identifier id'>delay</span><span class='lparen token'>(</span><span class='integer val'>20</span><span class='rparen token'>)</span> <span class='do do kw'>do</span>
    <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='visual_effect identifier id'>visual_effect</span> <span class='symbol val'>:fade</span><span class='comma token'>,</span> <span class='string val'>'notice'</span>
  <span class='end end kw'>end</span>
</pre>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  
</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


940
941
942
943
944</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/prototype_helper.rb', line 940</span>

<span class='def def kw'>def</span> <span class='delay identifier id'>delay</span><span class='lparen token'>(</span><span class='seconds identifier id'>seconds</span> <span class='assign token'>=</span> <span class='integer val'>1</span><span class='rparen token'>)</span>
  <span class='record identifier id'>record</span> <span class='string val'>&quot;setTimeout(function() {\n\n&quot;</span>
  <span class='yield yield kw'>yield</span>
  <span class='record identifier id'>record</span> <span class='dstring node'>&quot;}, #{(seconds * 1000).to_i})&quot;</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>draggable</h3>
</div><div id="draggable-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>draggable</span><span class='args'>(id, options = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Creates a script.aculo.us draggable element. See
ActionView::Helpers::ScriptaculousHelper for more information.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


962
963
964</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/prototype_helper.rb', line 962</span>

<span class='def def kw'>def</span> <span class='draggable identifier id'>draggable</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='record identifier id'>record</span> <span class='@context ivar id'>@context</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='symbol val'>:draggable_element_js</span><span class='comma token'>,</span> <span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>drop_receiving</h3>
</div><div id="drop_receiving-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>drop_receiving</span><span class='args'>(id, options = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Creates a script.aculo.us drop receiving element. See
ActionView::Helpers::ScriptaculousHelper for more information.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


968
969
970</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/prototype_helper.rb', line 968</span>

<span class='def def kw'>def</span> <span class='drop_receiving identifier id'>drop_receiving</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='record identifier id'>record</span> <span class='@context ivar id'>@context</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='symbol val'>:drop_receiving_element_js</span><span class='comma token'>,</span> <span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>hide</h3>
</div><div id="hide-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>hide</span><span class='args'>(*ids)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Hides the visible DOM elements with the given <tt>ids</tt>.
</p>
<p>
Example:
</p>
<pre class="code">
 <span class='comment val'># Hide a few people</span>
 <span class='comment val'># Generates: [&quot;person_29&quot;, &quot;person_9&quot;, &quot;person_0&quot;].each(Element.hide);</span>
 <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='hide identifier id'>hide</span> <span class='string val'>'person_29'</span><span class='comma token'>,</span> <span class='string val'>'person_9'</span><span class='comma token'>,</span> <span class='string val'>'person_0'</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


827
828
829</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/prototype_helper.rb', line 827</span>

<span class='def def kw'>def</span> <span class='hide identifier id'>hide</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='ids identifier id'>ids</span><span class='rparen token'>)</span>
  <span class='loop_on_multiple_args identifier id'>loop_on_multiple_args</span> <span class='string val'>'Element.hide'</span><span class='comma token'>,</span> <span class='ids identifier id'>ids</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>insert_html</h3>
</div><div id="insert_html-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>insert_html</span><span class='args'>(position, id, *options_for_render)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Inserts HTML at the specified <tt>position</tt> relative to the DOM element
identified by the given <tt>id</tt>.
</p>
<p>
<tt>position</tt> may be one of:
</p>
<table>
<tr><td valign="top"><tt>:top</tt>:</td><td>HTML is inserted inside the element, before the element&#8217;s existing
content.

</td></tr>
<tr><td valign="top"><tt>:bottom</tt>:</td><td>HTML is inserted inside the element, after the element&#8217;s existing
content.

</td></tr>
<tr><td valign="top"><tt>:before</tt>:</td><td>HTML is inserted immediately preceding the element.

</td></tr>
<tr><td valign="top"><tt>:after</tt>:</td><td>HTML is inserted immediately following the element.

</td></tr>
</table>
<p>
<tt>options_for_render</tt> may be either a string of HTML to insert, or a
hash of options to be passed to ActionView::Base#render. For example:
</p>
<pre class="code">
  <span class='comment val'># Insert the rendered 'navigation' partial just before the DOM</span>
  <span class='comment val'># element with ID 'content'.</span>
  <span class='comment val'># Generates: Element.insert(&quot;content&quot;, { before: &quot;-- Contents of 'navigation' partial --&quot; });</span>
  <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='insert_html identifier id'>insert_html</span> <span class='symbol val'>:before</span><span class='comma token'>,</span> <span class='string val'>'content'</span><span class='comma token'>,</span> <span class='symbol val'>:partial</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'navigation'</span>

  <span class='comment val'># Add a list item to the bottom of the &lt;ul&gt; with ID 'list'.</span>
  <span class='comment val'># Generates: Element.insert(&quot;list&quot;, { bottom: &quot;&lt;li&gt;Last item&lt;/li&gt;&quot; });</span>
  <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='insert_html identifier id'>insert_html</span> <span class='symbol val'>:bottom</span><span class='comma token'>,</span> <span class='string val'>'list'</span><span class='comma token'>,</span> <span class='string val'>'&lt;li&gt;Last item&lt;/li&gt;'</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


742
743
744
745</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/prototype_helper.rb', line 742</span>

<span class='def def kw'>def</span> <span class='insert_html identifier id'>insert_html</span><span class='lparen token'>(</span><span class='position identifier id'>position</span><span class='comma token'>,</span> <span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='options_for_render identifier id'>options_for_render</span><span class='rparen token'>)</span>
  <span class='content identifier id'>content</span> <span class='assign token'>=</span> <span class='javascript_object_for identifier id'>javascript_object_for</span><span class='lparen token'>(</span><span class='render identifier id'>render</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='options_for_render identifier id'>options_for_render</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='record identifier id'>record</span> <span class='dstring node'>&quot;Element.insert(\&quot;#{id}\&quot;, { #{position.to_s.downcase}: #{content} });&quot;</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>literal</h3>
</div><div id="literal-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>literal</span><span class='args'>(code)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns an object whose <tt>to_json</tt> evaluates to <tt>code</tt>. Use
this to pass a literal JavaScript expression as an argument to another
JavaScriptGenerator method.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


688
689
690</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/prototype_helper.rb', line 688</span>

<span class='def def kw'>def</span> <span class='literal identifier id'>literal</span><span class='lparen token'>(</span><span class='code identifier id'>code</span><span class='rparen token'>)</span>
  <span class='ActiveSupport constant id'>ActiveSupport</span><span class='colon2 op'>::</span><span class='JSON constant id'>JSON</span><span class='colon2 op'>::</span><span class='Variable constant id'>Variable</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='code identifier id'>code</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>redirect_to</h3>
</div><div id="redirect_to-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>redirect_to</span><span class='args'>(location)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Redirects the browser to the given <tt>location</tt> using JavaScript, in
the same form as <tt>url_for</tt>.
</p>
<p>
Examples:
</p>
<pre class="code">
 <span class='comment val'># Generates: window.location.href = &quot;/mycontroller&quot;;</span>
 <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='redirect_to identifier id'>redirect_to</span><span class='lparen token'>(</span><span class='symbol val'>:action</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'index'</span><span class='rparen token'>)</span>

 <span class='comment val'># Generates: window.location.href = &quot;/account/signup&quot;;</span>
 <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='redirect_to identifier id'>redirect_to</span><span class='lparen token'>(</span><span class='symbol val'>:controller</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'account'</span><span class='comma token'>,</span> <span class='symbol val'>:action</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'signup'</span><span class='rparen token'>)</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


862
863
864
865</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/prototype_helper.rb', line 862</span>

<span class='def def kw'>def</span> <span class='redirect_to identifier id'>redirect_to</span><span class='lparen token'>(</span><span class='location identifier id'>location</span><span class='rparen token'>)</span>
  <span class='url identifier id'>url</span> <span class='assign token'>=</span> <span class='location identifier id'>location</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='String constant id'>String</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='location identifier id'>location</span> <span class='colon op'>:</span> <span class='@context ivar id'>@context</span><span class='dot token'>.</span><span class='url_for identifier id'>url_for</span><span class='lparen token'>(</span><span class='location identifier id'>location</span><span class='rparen token'>)</span>
  <span class='record identifier id'>record</span> <span class='dstring node'>&quot;window.location.href = #{url.inspect}&quot;</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>reload</h3>
</div><div id="reload-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>reload</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Reloads the browser&#8217;s current <tt>location</tt> using JavaScript
</p>
<p>
Examples:
</p>
<pre class="code">
 <span class='comment val'># Generates: window.location.reload();</span>
 <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='reload identifier id'>reload</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


873
874
875</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/prototype_helper.rb', line 873</span>

<span class='def def kw'>def</span> <span class='reload identifier id'>reload</span>
  <span class='record identifier id'>record</span> <span class='string val'>'window.location.reload()'</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>remove</h3>
</div><div id="remove-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>remove</span><span class='args'>(*ids)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Removes the DOM elements with the given <tt>ids</tt> from the page.
</p>
<p>
Example:
</p>
<pre class="code">
 <span class='comment val'># Remove a few people</span>
 <span class='comment val'># Generates: [&quot;person_23&quot;, &quot;person_9&quot;, &quot;person_2&quot;].each(Element.remove);</span>
 <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='remove identifier id'>remove</span> <span class='string val'>'person_23'</span><span class='comma token'>,</span> <span class='string val'>'person_9'</span><span class='comma token'>,</span> <span class='string val'>'person_2'</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


803
804
805</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/prototype_helper.rb', line 803</span>

<span class='def def kw'>def</span> <span class='remove identifier id'>remove</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='ids identifier id'>ids</span><span class='rparen token'>)</span>
  <span class='loop_on_multiple_args identifier id'>loop_on_multiple_args</span> <span class='string val'>'Element.remove'</span><span class='comma token'>,</span> <span class='ids identifier id'>ids</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>replace</h3>
</div><div id="replace-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>replace</span><span class='args'>(id, *options_for_render)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Replaces the &quot;outer HTML&quot; (i.e., the entire element, not just its
contents) of the DOM element with the given <tt>id</tt>.
</p>
<p>
<tt>options_for_render</tt> may be either a string of HTML to insert, or a
hash of options to be passed to ActionView::Base#render. For example:
</p>
<pre class="code">
  <span class='comment val'># Replace the DOM element having ID 'person-45' with the</span>
  <span class='comment val'># 'person' partial for the appropriate object.</span>
  <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='replace identifier id'>replace</span> <span class='string val'>'person-45'</span><span class='comma token'>,</span> <span class='symbol val'>:partial</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'person'</span><span class='comma token'>,</span> <span class='symbol val'>:object</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='@person ivar id'>@person</span>
</pre>
<p>
This allows the same partial that is used for the <tt>insert_html</tt> to
be also used for the input to <tt>replace</tt> without resorting to the use
of wrapper elements.
</p>
<p>
Examples:
</p>
<pre class="code">
  <span class='lt op'>&lt;</span><span class='div identifier id'>div</span> <span class='id identifier id'>id</span><span class='assign token'>=</span><span class='string val'>&quot;people&quot;</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='string val'>%= render :partial =</span><span class='gt op'>&gt;</span> <span class='string val'>'person'</span><span class='comma token'>,</span> <span class='symbol val'>:collection</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='@people ivar id'>@people</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
  <span class='lt op'>&lt;</span><span class='regexp val'>/div&gt;

  # Insert a new person
  #
  # Generates: new Insertion.Bottom({object: &quot;Matz&quot;, partial: &quot;person&quot;}, &quot;&quot;);
  page.insert_html :bottom, :partial =&gt; 'person', :object =&gt; @person

  # Replace an existing person

  # Generates: Element.replace(&quot;person_45&quot;, &quot;-- Contents of partial --&quot;);
  page.replace 'person_45', :partial =&gt; 'person', :object =&gt; @person
</span></pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


791
792
793</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/prototype_helper.rb', line 791</span>

<span class='def def kw'>def</span> <span class='replace identifier id'>replace</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='options_for_render identifier id'>options_for_render</span><span class='rparen token'>)</span>
  <span class='call identifier id'>call</span> <span class='string val'>'Element.replace'</span><span class='comma token'>,</span> <span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='render identifier id'>render</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='options_for_render identifier id'>options_for_render</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>replace_html</h3>
</div><div id="replace_html-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>replace_html</span><span class='args'>(id, *options_for_render)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Replaces the inner HTML of the DOM element with the given <tt>id</tt>.
</p>
<p>
<tt>options_for_render</tt> may be either a string of HTML to insert, or a
hash of options to be passed to ActionView::Base#render. For example:
</p>
<pre class="code">
  <span class='comment val'># Replace the HTML of the DOM element having ID 'person-45' with the</span>
  <span class='comment val'># 'person' partial for the appropriate object.</span>
  <span class='comment val'># Generates:  Element.update(&quot;person-45&quot;, &quot;-- Contents of 'person' partial --&quot;);</span>
  <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='replace_html identifier id'>replace_html</span> <span class='string val'>'person-45'</span><span class='comma token'>,</span> <span class='symbol val'>:partial</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'person'</span><span class='comma token'>,</span> <span class='symbol val'>:object</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='@person ivar id'>@person</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


757
758
759</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/prototype_helper.rb', line 757</span>

<span class='def def kw'>def</span> <span class='replace_html identifier id'>replace_html</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='options_for_render identifier id'>options_for_render</span><span class='rparen token'>)</span>
  <span class='call identifier id'>call</span> <span class='string val'>'Element.update'</span><span class='comma token'>,</span> <span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='render identifier id'>render</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='options_for_render identifier id'>options_for_render</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>select</h3>
</div><div id="select-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>select</span><span class='args'>(pattern)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a collection reference by finding it through a CSS <tt>pattern</tt>
in the DOM. This collection can then be used for further method calls.
Examples:
</p>
<pre class="code">
  <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='select identifier id'>select</span><span class='lparen token'>(</span><span class='string val'>'p'</span><span class='rparen token'>)</span>                      <span class='comment val'># =&gt; $$('p');</span>
  <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='select identifier id'>select</span><span class='lparen token'>(</span><span class='string val'>'p.welcome b'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='first identifier id'>first</span>      <span class='comment val'># =&gt; $$('p.welcome b').first();</span>
  <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='select identifier id'>select</span><span class='lparen token'>(</span><span class='string val'>'p.welcome b'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='dot token'>.</span><span class='hide identifier id'>hide</span> <span class='comment val'># =&gt; $$('p.welcome b').first().hide();</span>
</pre>
<p>
You can also use prototype enumerations with the collection. Observe:
</p>
<pre class="code">
  <span class='comment val'># Generates: $$('#items li').each(function(value) { value.hide(); });</span>
  <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='select identifier id'>select</span><span class='lparen token'>(</span><span class='string val'>'#items li'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='value identifier id'>value</span><span class='bitor op'>|</span>
    <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='hide identifier id'>hide</span>
  <span class='end end kw'>end</span>
</pre>
<p>
Though you can call the block param anything you want, they are always
rendered in the javascript as &#8216;value, index.&#8217; Other
enumerations, like collect() return the last statement:
</p>
<pre class="code">
  <span class='comment val'># Generates: var hidden = $$('#items li').collect(function(value, index) { return value.hide(); });</span>
  <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='select identifier id'>select</span><span class='lparen token'>(</span><span class='string val'>'#items li'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lparen token'>(</span><span class='string val'>'hidden'</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='item identifier id'>item</span><span class='bitor op'>|</span>
    <span class='item identifier id'>item</span><span class='dot token'>.</span><span class='hide identifier id'>hide</span>
  <span class='end end kw'>end</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


714
715
716</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/prototype_helper.rb', line 714</span>

<span class='def def kw'>def</span> <span class='select identifier id'>select</span><span class='lparen token'>(</span><span class='pattern identifier id'>pattern</span><span class='rparen token'>)</span>
  <span class='JavaScriptElementCollectionProxy constant id'>JavaScriptElementCollectionProxy</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='pattern identifier id'>pattern</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>show</h3>
</div><div id="show-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>show</span><span class='args'>(*ids)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Shows hidden DOM elements with the given <tt>ids</tt>.
</p>
<p>
Example:
</p>
<pre class="code">
 <span class='comment val'># Show a few people</span>
 <span class='comment val'># Generates: [&quot;person_6&quot;, &quot;person_13&quot;, &quot;person_223&quot;].each(Element.show);</span>
 <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='show identifier id'>show</span> <span class='string val'>'person_6'</span><span class='comma token'>,</span> <span class='string val'>'person_13'</span><span class='comma token'>,</span> <span class='string val'>'person_223'</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


815
816
817</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/prototype_helper.rb', line 815</span>

<span class='def def kw'>def</span> <span class='show identifier id'>show</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='ids identifier id'>ids</span><span class='rparen token'>)</span>
  <span class='loop_on_multiple_args identifier id'>loop_on_multiple_args</span> <span class='string val'>'Element.show'</span><span class='comma token'>,</span> <span class='ids identifier id'>ids</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>sortable</h3>
</div><div id="sortable-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>sortable</span><span class='args'>(id, options = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Creates a script.aculo.us sortable element. Useful to recreate sortable
elements after items get added or deleted. See
ActionView::Helpers::ScriptaculousHelper for more information.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


956
957
958</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/prototype_helper.rb', line 956</span>

<span class='def def kw'>def</span> <span class='sortable identifier id'>sortable</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='record identifier id'>record</span> <span class='@context ivar id'>@context</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='symbol val'>:sortable_element_js</span><span class='comma token'>,</span> <span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_s</h3>
</div><div id="to_s-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_s</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


655
656
657
658
659
660
661
662
663</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/prototype_helper.rb', line 655</span>

<span class='def def kw'>def</span> <span class='to_s identifier id'>to_s</span> 
  <span class='returning identifier id'>returning</span> <span class='javascript identifier id'>javascript</span> <span class='assign token'>=</span> <span class='@lines ivar id'>@lines</span> <span class='mult op'>*</span> <span class='$/ gvar id'>$/</span> <span class='do do kw'>do</span>
    <span class='if if kw'>if</span> <span class='ActionView constant id'>ActionView</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span><span class='dot token'>.</span><span class='debug_rjs identifier id'>debug_rjs</span>
      <span class='source identifier id'>source</span> <span class='assign token'>=</span> <span class='javascript identifier id'>javascript</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
      <span class='javascript identifier id'>javascript</span><span class='dot token'>.</span><span class='replace identifier id'>replace</span> <span class='dstring node'>&quot;try {\n#{source}\n} catch (e) &quot;</span>
      <span class='javascript identifier id'>javascript</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;{ alert('RJS error:\\n\\n' + e.toString()); alert('#{source.gsub('\\','\0\0').gsub(/\r\n|\n|\r/, &quot;\\n&quot;).gsub(/[&quot;']/) { |m| &quot;\\#{m}&quot; }}'); throw e }&quot;</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>toggle</h3>
</div><div id="toggle-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>toggle</span><span class='args'>(*ids)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Toggles the visibility of the DOM elements with the given <tt>ids</tt>.
Example:
</p>
<pre class="code">
 <span class='comment val'># Show a few people</span>
 <span class='comment val'># Generates: [&quot;person_14&quot;, &quot;person_12&quot;, &quot;person_23&quot;].each(Element.toggle);</span>
 <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='toggle identifier id'>toggle</span> <span class='string val'>'person_14'</span><span class='comma token'>,</span> <span class='string val'>'person_12'</span><span class='comma token'>,</span> <span class='string val'>'person_23'</span>      <span class='comment val'># Hides the elements</span>
 <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='toggle identifier id'>toggle</span> <span class='string val'>'person_14'</span><span class='comma token'>,</span> <span class='string val'>'person_12'</span><span class='comma token'>,</span> <span class='string val'>'person_23'</span>      <span class='comment val'># Shows the previously hidden elements</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


839
840
841</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/prototype_helper.rb', line 839</span>

<span class='def def kw'>def</span> <span class='toggle identifier id'>toggle</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='ids identifier id'>ids</span><span class='rparen token'>)</span>
  <span class='loop_on_multiple_args identifier id'>loop_on_multiple_args</span> <span class='string val'>'Element.toggle'</span><span class='comma token'>,</span> <span class='ids identifier id'>ids</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>visual_effect</h3>
</div><div id="visual_effect-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>visual_effect</span><span class='args'>(name, id = nil, options = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Starts a script.aculo.us visual effect. See
ActionView::Helpers::ScriptaculousHelper for more information.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


948
949
950</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/prototype_helper.rb', line 948</span>

<span class='def def kw'>def</span> <span class='visual_effect identifier id'>visual_effect</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='id identifier id'>id</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='record identifier id'>record</span> <span class='@context ivar id'>@context</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='symbol val'>:visual_effect</span><span class='comma token'>,</span> <span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
</div>
  </div>

</div>
    </div>
  </body>
</html>