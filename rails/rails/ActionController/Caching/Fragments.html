<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../../style.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="../../syntax_highlight.css" type="text/css" charset="utf-8" />

    <script src="../../jquery.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../app.js" type="text/javascript" charset="utf-8"></script>
    <title>Module: ActionController::Caching::Fragments</title>
  </head>
  <body>
    <div id="content">
      <div class="section module ActionController_Caching_Fragments">
  <h1 class="title">Module: ActionController::Caching::Fragments</h1>
  <div class="section docstring">
  <p>
Fragment caching is used for caching various blocks within templates
without caching the entire action as a whole. This is useful when certain
elements of an action change frequently or depend on complicated state
while other parts rarely change or can be shared amongst multiple parties.
The caching is done using the cache helper available in the Action View. A
template with caching might look something like:
</p>
<pre class="code">
  <span class='lt op'>&lt;</span><span class='b identifier id'>b</span><span class='gt op'>&gt;</span><span class='Hello constant id'>Hello</span> <span class='lt op'>&lt;</span><span class='string val'>%= @name %&gt;&lt;/b&gt;
  &lt;% cache do %&gt;
    All the topics in the system:
    &lt;%=</span> <span class='render identifier id'>render</span> <span class='symbol val'>:partial</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;topic&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:collection</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Topic constant id'>Topic</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='symbol val'>:all</span><span class='rparen token'>)</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
  <span class='lt op'>&lt;</span><span class='string val'>% end </span><span class='mod op'>%</span><span class='gt op'>&gt;</span>
</pre>
<p>
This cache will bind to the name of the action that called it, so if this
code was part of the view for the topics/list action, you would be able to
invalidate it using <tt>expire_fragment(:controller =&gt;
&quot;topics&quot;, :action =&gt; &quot;list&quot;)</tt>.
</p>
<p>
This default behavior is of limited use if you need to cache multiple
fragments per action or if the action itself is cached using
<tt>caches_action</tt>, so we also have the option to qualify the name of
the cached fragment with something like:
</p>
<pre class="code">
  <span class='lt op'>&lt;</span><span class='string val'>% cache(:action </span><span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;list&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:action_suffix</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;all_topics&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='string val'>%&gt;
</span></pre>
<p>
That would result in a name such as &quot;/topics/list/all_topics&quot;,
avoiding conflicts with the action cache and with any fragments that use a
different suffix. Note that the URL doesn&#8217;t have to really exist or
be callable - the url_for system is just used to generate unique cache
names that we can refer to when we need to expire the cache.
</p>
<p>
The expiration call for this example is:
</p>
<pre class="code">
  <span class='expire_fragment identifier id'>expire_fragment</span><span class='lparen token'>(</span><span class='symbol val'>:controller</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;topics&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:action</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;list&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:action_suffix</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;all_topics&quot;</span><span class='rparen token'>)</span>
</pre>

</div><div class="section constants">
  
</div>  <div class="section visibilitygroup public">
    <h1>Public Visibility</h1>
      <div class="section methodsummary instance public">
    <h1>Public Instance Method Summary</h1>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#expire_fragment-instance_method' title='#expire_fragment'>#expire_fragment</a></span><span class='args'>(key, options = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Removes fragments from the cache.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#fragment_cache_key-instance_method' title='#fragment_cache_key'>#fragment_cache_key</a></span><span class='args'>(key)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Given a key (as described in <tt>expire_fragment</tt>), returns a key
suitable for use in reading, writing, or expiring a cached fragment.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#fragment_exist%3F-instance_method' title='#fragment_exist?'>#fragment_exist?</a></span><span class='args'>(key, options = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Check if a cached fragment from the location signified by <tt>key</tt>
exists (see <tt>expire_fragment</tt> for acceptable formats).
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#fragment_for-instance_method' title='#fragment_for'>#fragment_for</a></span><span class='args'>(buffer, name = {}, options = nil, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#read_fragment-instance_method' title='#read_fragment'>#read_fragment</a></span><span class='args'>(key, options = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Reads a cached fragment from the location signified by <tt>key</tt> (see
<tt>expire_fragment</tt> for acceptable formats).
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#write_fragment-instance_method' title='#write_fragment'>#write_fragment</a></span><span class='args'>(key, content, options = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Writes <tt>content</tt> to the location signified by <tt>key</tt> (see
<tt>expire_fragment</tt> for acceptable formats).
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails instance public">
  <h1>Public Instance Method Details</h1>
  
    <div class="method">
      <div class="method_header">
  <h3>expire_fragment</h3>
</div><div id="expire_fragment-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>expire_fragment</span><span class='args'>(key, options = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Removes fragments from the cache.
</p>
<p>
<tt>key</tt> can take one of three forms:
</p>
<ul>
<li>String - This would normally take the form of a path, like
<tt>&quot;pages/45/notes&quot;</tt>.

</li>
<li>Hash - Treated as an implicit call to <tt>url_for</tt>, like
<tt>{:controller =&gt; &quot;pages&quot;, :action =&gt; &quot;notes&quot;,
:id =&gt; 45}</tt>

</li>
<li>Regexp - Will remove any fragment that matches, so
<tt>%r{pages/\d*/notes}</tt> might remove all notes. Make sure you
don&#8217;t use anchors in the regex (<tt>^</tt> or <tt>$</tt>) because the
actual filename matched looks like <tt>./cache/filename/path.cache</tt>.
Note: Regexp expiration is only supported on caches that can iterate over
all keys (unlike memcached).

</li>
</ul>
<p>
<tt>options</tt> is passed through to the cache store&#8217;s
<tt>delete</tt> method (or <tt>delete_matched</tt>, for Regexp keys.)
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


103
104
105
106
107
108
109
110
111
112
113
114
115
116
117</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/caching/fragments.rb', line 103</span>

<span class='def def kw'>def</span> <span class='expire_fragment identifier id'>expire_fragment</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='unless unless_mod kw'>unless</span> <span class='cache_configured? fid id'>cache_configured?</span>

  <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='key identifier id'>key</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Regexp constant id'>Regexp</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='key identifier id'>key</span> <span class='colon op'>:</span> <span class='fragment_cache_key identifier id'>fragment_cache_key</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span>

  <span class='if if kw'>if</span> <span class='key identifier id'>key</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Regexp constant id'>Regexp</span><span class='rparen token'>)</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='benchmark identifier id'>benchmark</span> <span class='dstring node'>&quot;Expired fragments matching: #{key.source}&quot;</span> <span class='do do kw'>do</span>
      <span class='cache_store identifier id'>cache_store</span><span class='dot token'>.</span><span class='delete_matched identifier id'>delete_matched</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='benchmark identifier id'>benchmark</span> <span class='dstring node'>&quot;Expired fragment: #{key}&quot;</span> <span class='do do kw'>do</span>
      <span class='cache_store identifier id'>cache_store</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>fragment_cache_key</h3>
</div><div id="fragment_cache_key-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>fragment_cache_key</span><span class='args'>(key)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Given a key (as described in <tt>expire_fragment</tt>), returns a key
suitable for use in reading, writing, or expiring a cached fragment. If the
key is a hash, the generated key is the return value of url_for on that
hash (without the protocol). All keys are prefixed with &quot;views/&quot;
and uses ActiveSupport::Cache.expand_cache_key for the expansion.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


33
34
35</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/caching/fragments.rb', line 33</span>

<span class='def def kw'>def</span> <span class='fragment_cache_key identifier id'>fragment_cache_key</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span>
  <span class='ActiveSupport constant id'>ActiveSupport</span><span class='colon2 op'>::</span><span class='Cache constant id'>Cache</span><span class='dot token'>.</span><span class='expand_cache_key identifier id'>expand_cache_key</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='url_for identifier id'>url_for</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>&quot;://&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='last identifier id'>last</span> <span class='colon op'>:</span> <span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='symbol val'>:views</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>fragment_exist?</h3>
</div><div id="fragment_exist%3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>fragment_exist?</span><span class='args'>(key, options = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Check if a cached fragment from the location signified by <tt>key</tt>
exists (see <tt>expire_fragment</tt> for acceptable formats)
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


76
77
78
79
80
81
82
83
84</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/caching/fragments.rb', line 76</span>

<span class='def def kw'>def</span> <span class='fragment_exist? fid id'>fragment_exist?</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='unless unless_mod kw'>unless</span> <span class='cache_configured? fid id'>cache_configured?</span>

  <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='fragment_cache_key identifier id'>fragment_cache_key</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span>

  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='benchmark identifier id'>benchmark</span> <span class='dstring node'>&quot;Cached fragment exists?: #{key}&quot;</span> <span class='do do kw'>do</span>
    <span class='cache_store identifier id'>cache_store</span><span class='dot token'>.</span><span class='exist? fid id'>exist?</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>fragment_for</h3>
</div><div id="fragment_for-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>fragment_for</span><span class='args'>(buffer, name = {}, options = nil, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


37
38
39
40
41
42
43
44
45
46
47
48
49</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/caching/fragments.rb', line 37</span>

<span class='def def kw'>def</span> <span class='fragment_for identifier id'>fragment_for</span><span class='lparen token'>(</span><span class='buffer identifier id'>buffer</span><span class='comma token'>,</span> <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='if if kw'>if</span> <span class='perform_caching identifier id'>perform_caching</span>
    <span class='if if kw'>if</span> <span class='cache identifier id'>cache</span> <span class='assign token'>=</span> <span class='read_fragment identifier id'>read_fragment</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
      <span class='buffer identifier id'>buffer</span><span class='dot token'>.</span><span class='concat identifier id'>concat</span><span class='lparen token'>(</span><span class='cache identifier id'>cache</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='pos identifier id'>pos</span> <span class='assign token'>=</span> <span class='buffer identifier id'>buffer</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
      <span class='block identifier id'>block</span><span class='dot token'>.</span><span class='call identifier id'>call</span>
      <span class='write_fragment identifier id'>write_fragment</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='buffer identifier id'>buffer</span><span class='lbrack token'>[</span><span class='pos identifier id'>pos</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='block identifier id'>block</span><span class='dot token'>.</span><span class='call identifier id'>call</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>read_fragment</h3>
</div><div id="read_fragment-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>read_fragment</span><span class='args'>(key, options = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Reads a cached fragment from the location signified by <tt>key</tt> (see
<tt>expire_fragment</tt> for acceptable formats)
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


65
66
67
68
69
70
71
72
73</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/caching/fragments.rb', line 65</span>

<span class='def def kw'>def</span> <span class='read_fragment identifier id'>read_fragment</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='unless unless_mod kw'>unless</span> <span class='cache_configured? fid id'>cache_configured?</span>

  <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='fragment_cache_key identifier id'>fragment_cache_key</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span>

  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='benchmark identifier id'>benchmark</span> <span class='dstring node'>&quot;Cached fragment hit: #{key}&quot;</span> <span class='do do kw'>do</span>
    <span class='cache_store identifier id'>cache_store</span><span class='dot token'>.</span><span class='read identifier id'>read</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>write_fragment</h3>
</div><div id="write_fragment-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>write_fragment</span><span class='args'>(key, content, options = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Writes <tt>content</tt> to the location signified by <tt>key</tt> (see
<tt>expire_fragment</tt> for acceptable formats)
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


52
53
54
55
56
57
58
59
60
61
62</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/caching/fragments.rb', line 52</span>

<span class='def def kw'>def</span> <span class='write_fragment identifier id'>write_fragment</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='content identifier id'>content</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='content identifier id'>content</span> <span class='unless unless_mod kw'>unless</span> <span class='cache_configured? fid id'>cache_configured?</span>

  <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='fragment_cache_key identifier id'>fragment_cache_key</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span>

  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='benchmark identifier id'>benchmark</span> <span class='dstring node'>&quot;Cached fragment miss: #{key}&quot;</span> <span class='do do kw'>do</span>
    <span class='cache_store identifier id'>cache_store</span><span class='dot token'>.</span><span class='write identifier id'>write</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='content identifier id'>content</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='content identifier id'>content</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
</div>
  </div>

</div>
    </div>
  </body>
</html>