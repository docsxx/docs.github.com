<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>lardawge's rfm - Class: Rfm::Result::Record - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/lardawge/commits/rfm/master" rel="alternate" title="Recent Commits to rfm:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("lardawge", "rfm", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='lardawge/rfm/blob/cd996ec90bd0eff1e09463432f5e6c2b07730573' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='lardawge/rfm/blob/cd996ec90bd0eff1e09463432f5e6c2b07730573' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("lardawge", "rfm", "cd996ec90bd0eff1e09463432f5e6c2b07730573", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/lardawge/rfm/tree/">Source</a></li>
            <li class=""><a href="http://github.com/lardawge/rfm/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/lardawge/rfm/network">Network</a></li>            
            <li class=""><a href="http://github.com/lardawge/rfm/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/lardawge/rfm">Wiki</a></li>
            <li class=""><a href="http://github.com/lardawge/rfm/graphs">Graphs</a></li>                    
            <li class="active"><a href="/lardawge/rfm">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/lardawge">lardawge</a> / <b><a href="http://github.com/lardawge/rfm/tree">rfm</a></b>        
                <a id="namespaces_button" rel="lardawge/rfm/blob/cd996ec90bd0eff1e09463432f5e6c2b07730573" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="lardawge/rfm/blob/cd996ec90bd0eff1e09463432f5e6c2b07730573" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Rfm_Result_Record">
  <h1>Class: Rfm::Result::Record</h1>
  <div class="section inheritance">
  <ul>
  <li>Hash</li><ul><li><a href="../Util/CaseInsensitiveHash.html" title="Rfm::Util::CaseInsensitiveHash">Rfm::Util::CaseInsensitiveHash</a></li><ul><li>Rfm::Result::Record</li>
  </ul></ul></ul>
</div><div class="section docstring">
  <p>
The Record object represents a single FileMaker record. You typically get
them from ResultSet objects. For example, you might use a Layout object to
find some records:
</p>
<pre class="code">
  <span class='results identifier id'>results</span> <span class='assign token'>=</span> <span class='myLayout identifier id'>myLayout</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='string val'>&quot;First Name&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Bill&quot;</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
</pre>
<p>
The <tt>results</tt> variable in this example now contains a ResultSet
object. ResultSets are really just arrays of Record objects (with a little
extra added in). So you can get a record object just like you would access
any typical array element:
</p>
<pre class="code">
  <span class='first_record identifier id'>first_record</span> <span class='assign token'>=</span> <span class='results identifier id'>results</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
</pre>
<p>
You can find out how many record were returned:
</p>
<pre class="code">
  <span class='record_count identifier id'>record_count</span> <span class='assign token'>=</span> <span class='results identifier id'>results</span><span class='dot token'>.</span><span class='size identifier id'>size</span>
</pre>
<p>
And you can of course iterate:
</p>
<pre class="code">
  <span class='results identifier id'>results</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lparen token'>(</span><span class='bitor op'>|</span><span class='record identifier id'>record</span><span class='bitor op'>|</span>
    <span class='regexp val'>//</span> <span class='you identifier id'>you</span> <span class='can identifier id'>can</span> <span class='work identifier id'>work</span> <span class='with identifier id'>with</span> <span class='the identifier id'>the</span> <span class='record identifier id'>record</span> <span class='here identifier id'>here</span>
  <span class='rparen token'>)</span>
</pre>
<h1>Accessing Field Data</h1>
<p>
You can access field data in the Record object in two ways. Typically, you
simply treat Record like a hash (because it <em>is</em> a hash&#8230;I love
OOP). Keys are field names:
</p>
<pre class="code">
  <span class='first identifier id'>first</span> <span class='assign token'>=</span> <span class='myRecord identifier id'>myRecord</span><span class='lbrack token'>[</span><span class='string val'>&quot;First Name&quot;</span><span class='rbrack token'>]</span>
  <span class='last identifier id'>last</span> <span class='assign token'>=</span> <span class='myRecord identifier id'>myRecord</span><span class='lbrack token'>[</span><span class='string val'>&quot;Last Name&quot;</span><span class='rbrack token'>]</span>
</pre>
<p>
If your field naming conventions mean that your field names are also valid
Ruby symbol named (ie: they contain only letters, numbers, and underscores)
then you can treat them like attributes of the record. For example, if your
fields are called &quot;first_name&quot; and &quot;last_name&quot; you can
do this:
</p>
<pre class="code">
  <span class='first identifier id'>first</span> <span class='assign token'>=</span> <span class='myRecord identifier id'>myRecord</span><span class='dot token'>.</span><span class='first_name identifier id'>first_name</span>
  <span class='last identifier id'>last</span> <span class='assign token'>=</span> <span class='myRecord identifier id'>myRecord</span><span class='dot token'>.</span><span class='last_name identifier id'>last_name</span>
</pre>
<p>
Note: This shortcut will fail (in a rather mysterious way) if your field
name happens to match any real attribute name of a Record object. For
instance, you may have a field called &quot;server&quot;. If you try this:
</p>
<pre class="code">
  <span class='server_name identifier id'>server_name</span> <span class='assign token'>=</span> <span class='myRecord identifier id'>myRecord</span><span class='dot token'>.</span><span class='server identifier id'>server</span>
</pre>
<p>
you&#8217;ll actually set <tt>server_name</tt> to the Rfm::Server object
this Record came from. This won&#8217;t fail until you try to treat it as a
String somewhere else in your code. It is also possible a future version of
Rfm will include new attributes on the Record class which may clash with
your field names. This will cause perfectly valid code today to fail later
when you upgrade. If you can&#8217;t stomach this kind of insanity, stick
with the hash-like method of field access, which has none of these
limitations. Also note that the <tt>myRecord[]</tt> method is probably somewhat
faster since it doesn&#8217;t go through <tt>method_missing</tt>.
</p>
<h1>Accessing Repeating Fields</h1>
<p>
If you have a repeating field, RFM simply returns an array:
</p>
<pre class="code">
  <span class='val1 identifier id'>val1</span> <span class='assign token'>=</span> <span class='myRecord identifier id'>myRecord</span><span class='lbrack token'>[</span><span class='string val'>&quot;Price&quot;</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
  <span class='val2 identifier id'>val2</span> <span class='assign token'>=</span> <span class='myRecord identifier id'>myRecord</span><span class='lbrack token'>[</span><span class='string val'>&quot;Price&quot;</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
</pre>
<p>
In the above example, the Price field is a repeating field. The code puts
the first repetition in a variable called <tt>val1</tt> and the second in a
variable called <tt>val2</tt>.
</p>
<h1>Accessing Portals</h1>
<p>
If the ResultSet includes portals (because the layout it comes from has
portals on it) you can access them using the Record::portals attribute. It
is a hash with table occurrence names for keys, and arrays of Record
objects for values. In other words, you can do this:
</p>
<pre class="code">
  <span class='myRecord identifier id'>myRecord</span><span class='dot token'>.</span><span class='portals identifier id'>portals</span><span class='lbrack token'>[</span><span class='string val'>&quot;Orders&quot;</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='record identifier id'>record</span><span class='bitor op'>|</span>
    <span class='puts identifier id'>puts</span> <span class='record identifier id'>record</span><span class='lbrack token'>[</span><span class='string val'>&quot;Order Number&quot;</span><span class='rbrack token'>]</span>
  <span class='rbrace token'>}</span>
</pre>
<p>
This code iterates through the rows of the <em>Orders</em> portal.
</p>
<h1>Field Types and Ruby Types</h1>
<p>
RFM automatically converts data from FileMaker into a Ruby object with the
most reasonable type possible. The type are mapped thusly:
</p>
<ul>
<li><b>Text</b> fields are converted to Ruby String objects

</li>
<li><b>Number</b> fields are converted to Ruby BigDecimal objects (the basic
Ruby numeric types have much less precision and range than FileMaker number
fields)

</li>
<li><b>Date</b> fields are converted to Ruby Date objects

</li>
<li><b>Time</b> fields are converted to Ruby DateTime objects (you can ignore
the date component)

</li>
<li><b>Timestamp</b> fields are converted to Ruby DateTime objects

</li>
<li><b>Container</b> fields are converted to Ruby URI objects

</li>
</ul>
<h1>Attributes</h1>
<p>
In addition to <tt>portals</tt>, the Record object has these useful
attributes:
</p>
<ul>
<li><b>record_id</b> is FileMaker&#8217;s internal identifier for this record
(<em>not</em> any ID field you might have in your table); you need a
<tt>record_id</tt> to edit or delete a record

</li>
<li><b>mod_id</b> is the modification identifier for the record; whenever a
record is modified, its <tt>mod_id</tt> changes so you can tell if the
Record object you&#8217;re looking at is up-to-date as compared to another
copy of the same record

</li>
</ul>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">mod_id</td>
          <td class="readwrite">
            [<span id='mod_id-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>mod_id</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">portals</td>
          <td class="readwrite">
            [<span id='portals-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>portals</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">record_id</td>
          <td class="readwrite">
            [<span id='record_id-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>record_id</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(row_element, resultset, fields, layout, portal = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Initializes a Record object. You really really never need to do this
yourself. Instead, get your records from a ResultSet object.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rfm_result.rb', line 229</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/lardawge/rfm/blob/cd996ec90bd0eff1e09463432f5e6c2b07730573/lib/rfm_result.rb#L229">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='row_element identifier id'>row_element</span><span class='comma token'>,</span> <span class='resultset identifier id'>resultset</span><span class='comma token'>,</span> <span class='fields identifier id'>fields</span><span class='comma token'>,</span> <span class='layout identifier id'>layout</span><span class='comma token'>,</span> <span class='portal identifier id'>portal</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='@record_id ivar id'>@record_id</span> <span class='assign token'>=</span> <span class='row_element identifier id'>row_element</span><span class='dot token'>.</span><span class='attributes identifier id'>attributes</span><span class='lbrack token'>[</span><span class='string val'>'record-id'</span><span class='rbrack token'>]</span>
  <span class='@mod_id ivar id'>@mod_id</span> <span class='assign token'>=</span> <span class='row_element identifier id'>row_element</span><span class='dot token'>.</span><span class='attributes identifier id'>attributes</span><span class='lbrack token'>[</span><span class='string val'>'mod-id'</span><span class='rbrack token'>]</span>
  <span class='@mods ivar id'>@mods</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='@resultset ivar id'>@resultset</span> <span class='assign token'>=</span> <span class='resultset identifier id'>resultset</span>
  <span class='@layout ivar id'>@layout</span> <span class='assign token'>=</span> <span class='layout identifier id'>layout</span>
  
  <span class='@loaded ivar id'>@loaded</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
  
  <span class='row_element identifier id'>row_element</span><span class='dot token'>.</span><span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='string val'>'field'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='field identifier id'>field</span><span class='bitor op'>|</span> 
    <span class='field_name identifier id'>field_name</span> <span class='assign token'>=</span> <span class='field identifier id'>field</span><span class='dot token'>.</span><span class='attributes identifier id'>attributes</span><span class='lbrack token'>[</span><span class='string val'>'name'</span><span class='rbrack token'>]</span>
    <span class='field_name identifier id'>field_name</span><span class='dot token'>.</span><span class='sub! fid id'>sub!</span><span class='lparen token'>(</span><span class='Regexp constant id'>Regexp</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='portal identifier id'>portal</span> <span class='plus op'>+</span> <span class='string val'>'::'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>''</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='portal identifier id'>portal</span>
    <span class='datum identifier id'>datum</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='field identifier id'>field</span><span class='dot token'>.</span><span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='string val'>'data'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> 
      <span class='datum identifier id'>datum</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='fields identifier id'>fields</span><span class='lbrack token'>[</span><span class='field_name identifier id'>field_name</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='coerce identifier id'>coerce</span><span class='lparen token'>(</span><span class='x identifier id'>x</span><span class='dot token'>.</span><span class='inner_text identifier id'>inner_text</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='if if kw'>if</span> <span class='datum identifier id'>datum</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='eq op'>==</span> <span class='integer val'>1</span>
      <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='field_name identifier id'>field_name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='datum identifier id'>datum</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
    <span class='elsif elsif kw'>elsif</span> <span class='datum identifier id'>datum</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='eq op'>==</span> <span class='integer val'>0</span>
      <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='field_name identifier id'>field_name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='else else kw'>else</span>
      <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='field_name identifier id'>field_name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='datum identifier id'>datum</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  
  <span class='@portals ivar id'>@portals</span> <span class='assign token'>=</span> <span class='Rfm constant id'>Rfm</span><span class='colon2 op'>::</span><span class='Util constant id'>Util</span><span class='colon2 op'>::</span><span class='CaseInsensitiveHash constant id'>CaseInsensitiveHash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='row_element identifier id'>row_element</span><span class='dot token'>.</span><span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='string val'>'relatedset'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='relatedset identifier id'>relatedset</span><span class='bitor op'>|</span>
    <span class='table identifier id'>table</span> <span class='assign token'>=</span> <span class='relatedset identifier id'>relatedset</span><span class='dot token'>.</span><span class='attributes identifier id'>attributes</span><span class='lbrack token'>[</span><span class='string val'>'table'</span><span class='rbrack token'>]</span>
    <span class='records identifier id'>records</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='relatedset identifier id'>relatedset</span><span class='dot token'>.</span><span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='string val'>'record'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='record identifier id'>record</span><span class='bitor op'>|</span>
      <span class='records identifier id'>records</span> <span class='lshft op'>&lt;&lt;</span> <span class='Record constant id'>Record</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='record identifier id'>record</span><span class='comma token'>,</span> <span class='@resultset ivar id'>@resultset</span><span class='comma token'>,</span> <span class='@resultset ivar id'>@resultset</span><span class='dot token'>.</span><span class='portals identifier id'>portals</span><span class='lbrack token'>[</span><span class='table identifier id'>table</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='@layout ivar id'>@layout</span><span class='comma token'>,</span> <span class='table identifier id'>table</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='@portals ivar id'>@portals</span><span class='lbrack token'>[</span><span class='table identifier id'>table</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='records identifier id'>records</span>
  <span class='end end kw'>end</span>      
  <span class='@loaded ivar id'>@loaded</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div><div class="section methodmissing">
  <h2>Dynamic Method Handling</h2>

  <p class="note">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
  </p>

  <div id="method_missing-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>method_missing</span><span class='args'>(symbol, *attrs)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rfm_result.rb', line 317</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/lardawge/rfm/blob/cd996ec90bd0eff1e09463432f5e6c2b07730573/lib/rfm_result.rb#L317">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">317
318
319
320
321
322
323
324
325
326
327</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='method_missing identifier id'>method_missing</span> <span class='lparen token'>(</span><span class='symbol identifier id'>symbol</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='attrs identifier id'>attrs</span><span class='rparen token'>)</span>
  <span class='comment val'># check for simple getter</span>
  <span class='return return kw'>return</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='symbol identifier id'>symbol</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='symbol identifier id'>symbol</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span> 

  <span class='comment val'># check for setter</span>
  <span class='symbol_name identifier id'>symbol_name</span> <span class='assign token'>=</span> <span class='symbol identifier id'>symbol</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
  <span class='if if kw'>if</span> <span class='symbol_name identifier id'>symbol_name</span><span class='lbrack token'>[</span><span class='float val'>-1</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='string val'>'='</span> <span class='andop op'>&amp;&amp;</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='symbol_name identifier id'>symbol_name</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>-2</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='@mods ivar id'>@mods</span><span class='lbrack token'>[</span><span class='symbol_name identifier id'>symbol_name</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>-2</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='attrs identifier id'>attrs</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>
  <span class='super super kw'>super</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-5B-5D-3D-instance_method">#[]=</span><span class='args'>(pname, value)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Gets the value of a field from the record.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#respond_to-3F-instance_method">#respond_to?</span><span class='args'>(symbol, include_private = false)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#save-instance_method">#save</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Saves local changes to the Record object back to Filemaker.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#save_if_not_modified-instance_method">#save_if_not_modified</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Like Record::save, except it fails (and raises an error) if the underlying
record in FileMaker was modified after the record was fetched but before it
was saved.
</p>

        
      </td>
    </tr>
  
</table><div class="inherited">
  
  <div>
    <h2>Public Instance Methods Inherited from <a href="../Util/CaseInsensitiveHash.html" title="Rfm::Util::CaseInsensitiveHash">Rfm::Util::CaseInsensitiveHash</a></h2>
    <p><span class='name'><a href="../Util/CaseInsensitiveHash.html#%5B%5D-instance_method" title="[]">[]</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>[]=</h3>
</div><div id="-5B-5D-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>[]=</span><span class='args'>(pname, value)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Gets the value of a field from the record. For example:
</p>
<pre class="code">
  <span class='first identifier id'>first</span> <span class='assign token'>=</span> <span class='myRecord identifier id'>myRecord</span><span class='lbrack token'>[</span><span class='string val'>&quot;First Name&quot;</span><span class='rbrack token'>]</span>
  <span class='last identifier id'>last</span> <span class='assign token'>=</span> <span class='myRecord identifier id'>myRecord</span><span class='lbrack token'>[</span><span class='string val'>&quot;Last Name&quot;</span><span class='rbrack token'>]</span>
</pre>
<p>
This sample puts the first and last name from the record into Ruby
variables.
</p>
<p>
You can also update a field:
</p>
<pre class="code">
  <span class='myRecord identifier id'>myRecord</span><span class='lbrack token'>[</span><span class='string val'>&quot;First Name&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='string val'>&quot;Sophia&quot;</span>
</pre>
<p>
When you do, the change is noted, but *the data is not updated in
FileMaker*. You must call Record::save or Record::save_if_not_modified to
actually save the data.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rfm_result.rb', line 307</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/lardawge/rfm/blob/cd996ec90bd0eff1e09463432f5e6c2b07730573/lib/rfm_result.rb#L307">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">307
308
309
310
311
312
313
314
315</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='aset op'>[]=</span><span class='lparen token'>(</span><span class='pname identifier id'>pname</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='super super kw'>super</span> <span class='if if_mod kw'>if</span> <span class='notop op'>!</span><span class='@loaded ivar id'>@loaded</span> <span class='comment val'># this just keeps us from getting mods during initialization</span>
  <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='pname identifier id'>pname</span>
  <span class='if if kw'>if</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='neq op'>!=</span> <span class='nil nil kw'>nil</span>
    <span class='@mods ivar id'>@mods</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='val identifier id'>val</span>
  <span class='else else kw'>else</span>
    <span class='raise identifier id'>raise</span> <span class='Rfm constant id'>Rfm</span><span class='colon2 op'>::</span><span class='Error constant id'>Error</span><span class='colon2 op'>::</span><span class='ParameterError constant id'>ParameterError</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='dstring node'>&quot;You attempted to modify a field called '#{name}' on the Rfm::Record object, but that field does not exist.&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>respond_to?</h3>
</div><div id="respond_to-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>respond_to?</span><span class='args'>(symbol, include_private = false)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rfm_result.rb', line 329</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/lardawge/rfm/blob/cd996ec90bd0eff1e09463432f5e6c2b07730573/lib/rfm_result.rb#L329">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">329
330
331
332</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol identifier id'>symbol</span><span class='comma token'>,</span> <span class='include_private identifier id'>include_private</span> <span class='assign token'>=</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='symbol identifier id'>symbol</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span> <span class='neq op'>!=</span> <span class='nil nil kw'>nil</span>
  <span class='super super kw'>super</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>save</h3>
</div><div id="save-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>save</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Saves local changes to the Record object back to Filemaker. For example:
</p>
<pre class="code">
  <span class='myLayout identifier id'>myLayout</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='string val'>&quot;First Name&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Bill&quot;</span><span class='rbrace token'>}</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lparen token'>(</span><span class='bitor op'>|</span><span class='record identifier id'>record</span><span class='bitor op'>|</span>
    <span class='record identifier id'>record</span><span class='lbrack token'>[</span><span class='string val'>&quot;First Name&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='string val'>&quot;Steve&quot;</span>
    <span class='record identifier id'>record</span><span class='dot token'>.</span><span class='save identifier id'>save</span>
  <span class='rparen token'>)</span>
</pre>
<p>
This code finds every record with <em>Bill</em> in the First Name field,
then changes the first name to Steve.
</p>
<p>
Note: This method is smart enough to not bother saving if nothing has
changed. So there&#8217;s no need to optimize on your end. Just save, and
if you&#8217;ve changed the record it will be saved. If not, no server hit
is incurred.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rfm_result.rb', line 281</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/lardawge/rfm/blob/cd996ec90bd0eff1e09463432f5e6c2b07730573/lib/rfm_result.rb#L281">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">281
282
283
284</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='save identifier id'>save</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='@layout ivar id'>@layout</span><span class='dot token'>.</span><span class='edit identifier id'>edit</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='record_id identifier id'>record_id</span><span class='comma token'>,</span> <span class='@mods ivar id'>@mods</span><span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='@mods ivar id'>@mods</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>
  <span class='@mods ivar id'>@mods</span><span class='dot token'>.</span><span class='clear identifier id'>clear</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>save_if_not_modified</h3>
</div><div id="save_if_not_modified-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>save_if_not_modified</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Like Record::save, except it fails (and raises an error) if the underlying
record in FileMaker was modified after the record was fetched but before it
was saved. In other words, prevents you from accidentally overwriting
changes someone else made to the record.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rfm_result.rb', line 289</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/lardawge/rfm/blob/cd996ec90bd0eff1e09463432f5e6c2b07730573/lib/rfm_result.rb#L289">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">289
290
291
292</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='save_if_not_modified identifier id'>save_if_not_modified</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='@layout ivar id'>@layout</span><span class='dot token'>.</span><span class='edit identifier id'>edit</span><span class='lparen token'>(</span><span class='@record_id ivar id'>@record_id</span><span class='comma token'>,</span> <span class='@mods ivar id'>@mods</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='symbol val'>:modification_id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='@mod_id ivar id'>@mod_id</span><span class='rbrace token'>}</span><span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='@mods ivar id'>@mods</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>
  <span class='@mods ivar id'>@mods</span><span class='dot token'>.</span><span class='clear identifier id'>clear</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>