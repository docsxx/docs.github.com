<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>lardawge's rfm - Class: Rfm::Database - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/lardawge/commits/rfm/master" rel="alternate" title="Recent Commits to rfm:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("lardawge", "rfm", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='lardawge/rfm/blob/dd44739aad7a0dad94fc4256b4f3f50f4c1fb426' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='lardawge/rfm/blob/dd44739aad7a0dad94fc4256b4f3f50f4c1fb426' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("lardawge", "rfm", "dd44739aad7a0dad94fc4256b4f3f50f4c1fb426", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/lardawge/rfm/tree/">Source</a></li>
            <li class=""><a href="http://github.com/lardawge/rfm/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/lardawge/rfm/network">Network</a></li>            
            <li class=""><a href="http://github.com/lardawge/rfm/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/lardawge/rfm">Wiki</a></li>
            <li class=""><a href="http://github.com/lardawge/rfm/graphs">Graphs</a></li>                    
            <li class="active"><a href="/lardawge/rfm">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/lardawge">lardawge</a> / <b><a href="http://github.com/lardawge/rfm/tree">rfm</a></b>        
                <a id="namespaces_button" rel="lardawge/rfm/blob/dd44739aad7a0dad94fc4256b4f3f50f4c1fb426" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="lardawge/rfm/blob/dd44739aad7a0dad94fc4256b4f3f50f4c1fb426" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Rfm_Database">
  <h1>Class: Rfm::Database</h1>
  <div class="section docstring">
  <p>
The Database object represents a single FileMaker Pro database. When you
retrieve a Database object from a server, its account name and password are
set to the account name and password you used when initializing the Server
object. You can override this of course:
</p>
<pre class="code">
  <span class='myDatabase identifier id'>myDatabase</span> <span class='assign token'>=</span> <span class='myServer identifier id'>myServer</span><span class='lbrack token'>[</span><span class='string val'>&quot;Customers&quot;</span><span class='rbrack token'>]</span>
  <span class='myDatabase identifier id'>myDatabase</span><span class='dot token'>.</span><span class='account_name identifier id'>account_name</span> <span class='assign token'>=</span> <span class='string val'>&quot;foo&quot;</span>
  <span class='myDatabase identifier id'>myDatabase</span><span class='dot token'>.</span><span class='password identifier id'>password</span> <span class='assign token'>=</span> <span class='string val'>&quot;bar&quot;</span>
</pre>
<h1>Accessing Layouts</h1>
<p>
All interaction with FileMaker happens through a Layout object. You can get
a Layout object from the Database object like this:
</p>
<pre class="code">
  <span class='myLayout identifier id'>myLayout</span> <span class='assign token'>=</span> <span class='myDatabase identifier id'>myDatabase</span><span class='lbrack token'>[</span><span class='string val'>&quot;Details&quot;</span><span class='rbrack token'>]</span>
</pre>
<p>
This code gets the Layout object representing the layout called Details in
the database.
</p>
<p>
Note: RFM does not talk to the server when you retrieve a Layout object in
this way. Instead, it simply assumes you know what you&#8217;re talking
about. If the layout you specify does not exist, you will get no error at
this point. Instead, you&#8217;ll get an error when you use the Layout
object methods to talk to FileMaker. This makes debugging a little less
convenient, but it would introduce too much overhead to hit the server at
this point.
</p>
<p>
The Database object has a <tt>layout</tt> attribute that provides alternate
access to Layout objects. It acts like a hash of Layout objects, one for
each accessible layout in the database. So, for example, you can do this if
you want to print out a list of all layouts:
</p>
<pre class="code">
  <span class='myDatabase identifier id'>myDatabase</span><span class='dot token'>.</span><span class='layout identifier id'>layout</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='layout identifier id'>layout</span><span class='bitor op'>|</span>
    <span class='puts identifier id'>puts</span> <span class='layout identifier id'>layout</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='rbrace token'>}</span>
</pre>
<p>
The Database::layout attribute is actually a LayoutFactory object, although
it subclasses hash, so it should work in all the ways you expect. Note,
though, that it is completely empty until the first time you attempt to
access its elements. At that (lazy) point, it hits FileMaker, loads in the
list of layouts, and constructs a Layout object for each one. In other
words, it incurrs no overhead until you use it.
</p>
<h1>Accessing Scripts</h1>
<p>
If for some reason you need to enumerate the scripts in a database, you can
do so:
</p>
<pre class="code">
  <span class='myDatabase identifier id'>myDatabase</span><span class='dot token'>.</span><span class='script identifier id'>script</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='script identifier id'>script</span><span class='bitor op'>|</span>
    <span class='puts identifier id'>puts</span> <span class='script identifier id'>script</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='rbrace token'>}</span>
</pre>
<p>
The Database::script attribute is actually a ScriptFactory object, although
it subclasses hash, so it should work in all the ways you expect. Note,
though, that it is completely empty until the first time you attempt to
access its elements. At that (lazy) point, it hits FileMaker, loads in the
list of scripts, and constructs a Script object for each one. In other
words, it incurrs no overhead until you use it.
</p>
<p>
Note: You don&#8217;t need a Script object to <em>run</em> a script (see
the Layout object instead).
</p>
<h1>Attributes</h1>
<p>
In addition to the <tt>layout</tt> attribute, Server has a few other useful
attributes:
</p>
<ul>
<li><b>server</b> is the Server object this database comes from

</li>
<li><b>name</b> is the name of this database

</li>
<li><b>state</b> is a hash of all server options used to initialize this server

</li>
</ul>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">account_name</td>
          <td class="readwrite">
            [R<span id='account_name%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>account_name</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">layout</td>
          <td class="readwrite">
            [<span id='layout-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>layout</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">name</td>
          <td class="readwrite">
            [<span id='name-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>name</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">password</td>
          <td class="readwrite">
            [R<span id='password%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>password</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">script</td>
          <td class="readwrite">
            [<span id='script-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>script</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">server</td>
          <td class="readwrite">
            [<span id='server-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>server</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(name, server)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Initialize a database object. You never really need to do this. Instead,
just do this:
</p>
<pre class="code">
  <span class='myServer identifier id'>myServer</span> <span class='assign token'>=</span> <span class='Rfm constant id'>Rfm</span><span class='colon2 op'>::</span><span class='Server constant id'>Server</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='dot3 op'>...</span><span class='rparen token'>)</span>
  <span class='myDatabase identifier id'>myDatabase</span> <span class='assign token'>=</span> <span class='myServer identifier id'>myServer</span><span class='lbrack token'>[</span><span class='string val'>&quot;Customers&quot;</span><span class='rbrack token'>]</span>
</pre>
<p>
This sample code gets a database object representing the Customers database
on the FileMaker server.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rfm_command.rb', line 419</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/lardawge/rfm/blob/dd44739aad7a0dad94fc4256b4f3f50f4c1fb426/lib/rfm_command.rb#L419">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">419
420
421
422
423
424
425
426</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='server identifier id'>server</span><span class='rparen token'>)</span>
  <span class='@name ivar id'>@name</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span>
  <span class='@server ivar id'>@server</span> <span class='assign token'>=</span> <span class='server identifier id'>server</span>
  <span class='@account_name ivar id'>@account_name</span> <span class='assign token'>=</span> <span class='server identifier id'>server</span><span class='dot token'>.</span><span class='state identifier id'>state</span><span class='lbrack token'>[</span><span class='symbol val'>:account_name</span><span class='rbrack token'>]</span> <span class='or or kw'>or</span> <span class='string val'>&quot;&quot;</span>
  <span class='@password ivar id'>@password</span> <span class='assign token'>=</span> <span class='server identifier id'>server</span><span class='dot token'>.</span><span class='state identifier id'>state</span><span class='lbrack token'>[</span><span class='symbol val'>:password</span><span class='rbrack token'>]</span> <span class='or or kw'>or</span> <span class='string val'>&quot;&quot;</span>
  <span class='@layout ivar id'>@layout</span> <span class='assign token'>=</span> <span class='Rfm constant id'>Rfm</span><span class='colon2 op'>::</span><span class='Factory constant id'>Factory</span><span class='colon2 op'>::</span><span class='LayoutFactory constant id'>LayoutFactory</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='server identifier id'>server</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='rparen token'>)</span>
  <span class='@script ivar id'>@script</span> <span class='assign token'>=</span> <span class='Rfm constant id'>Rfm</span><span class='colon2 op'>::</span><span class='Factory constant id'>Factory</span><span class='colon2 op'>::</span><span class='ScriptFactory constant id'>ScriptFactory</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='server identifier id'>server</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-5B-5D-instance_method">#[]</span><span class='args'>(layout_name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Access the Layout object representing a layout in this database.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>[]</h3>
</div><div id="-5B-5D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>[]</span><span class='args'>(layout_name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Access the Layout object representing a layout in this database. For
example:
</p>
<pre class="code">
  <span class='myDatabase identifier id'>myDatabase</span><span class='lbrack token'>[</span><span class='string val'>'Details'</span><span class='rbrack token'>]</span>
</pre>
<p>
would return a Layout object representing the <em>Details</em> layout in
the database.
</p>
<p>
Note: RFM never talks to the server until you perform an action. The Layout
object returned is created on the fly and assumed to refer to a valid
layout, but you will get no error at this point if the layout you specify
doesn&#8217;t exist. Instead, you&#8217;ll receive an error when you
actually try to perform some action it.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rfm_command.rb', line 442</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/lardawge/rfm/blob/dd44739aad7a0dad94fc4256b4f3f50f4c1fb426/lib/rfm_command.rb#L442">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">442
443
444</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span><span class='layout_name identifier id'>layout_name</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='layout identifier id'>layout</span><span class='lbrack token'>[</span><span class='layout_name identifier id'>layout_name</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>