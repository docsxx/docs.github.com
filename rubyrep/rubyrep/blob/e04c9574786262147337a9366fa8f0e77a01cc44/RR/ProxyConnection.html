<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>rubyrep's rubyrep - Class: RR::ProxyConnection - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/rubyrep/commits/rubyrep/master" rel="alternate" title="Recent Commits to rubyrep:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("rubyrep", "rubyrep", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='rubyrep/rubyrep/blob/e04c9574786262147337a9366fa8f0e77a01cc44' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='rubyrep/rubyrep/blob/e04c9574786262147337a9366fa8f0e77a01cc44' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("rubyrep", "rubyrep", "e04c9574786262147337a9366fa8f0e77a01cc44", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/rubyrep/rubyrep/tree/">Source</a></li>
            <li class=""><a href="http://github.com/rubyrep/rubyrep/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/rubyrep/rubyrep/network">Network</a></li>            
            <li class=""><a href="http://github.com/rubyrep/rubyrep/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/rubyrep/rubyrep">Wiki</a></li>
            <li class=""><a href="http://github.com/rubyrep/rubyrep/graphs">Graphs</a></li>                    
            <li class="active"><a href="/rubyrep/rubyrep">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/rubyrep">rubyrep</a> / <b><a href="http://github.com/rubyrep/rubyrep/tree">rubyrep</a></b>        
                <a id="namespaces_button" rel="rubyrep/rubyrep/blob/e04c9574786262147337a9366fa8f0e77a01cc44" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="rubyrep/rubyrep/blob/e04c9574786262147337a9366fa8f0e77a01cc44" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class RR_ProxyConnection">
  <h1>Class: RR::ProxyConnection</h1>
  <div class="section mixins">
  <h2>Included Modules</h2>
  <p>Forwardable</p>
</div><div class="section docstring">
  <p>
This class represents a remote activerecord database connection. Normally
created by DatabaseProxy
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">config</td>
          <td class="readwrite">
            [<span id='config-instance_method'>R</span><span id='config=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
A hash as described by ActiveRecord::Base#establish_connection.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">connection</td>
          <td class="readwrite">
            [<span id='connection-instance_method'>R</span><span id='connection=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
The database connection.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">cursors</td>
          <td class="readwrite">
            [R<span id='cursors=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Hash to register cursors.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">manual_primary_keys</td>
          <td class="readwrite">
            [<span id='manual_primary_keys-instance_method'>R</span><span id='manual_primary_keys=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
A hash of manually overwritten primary keys:
</p>
<ul>
<li>key: table_name

</li>
<li>value: array of primary key names.

</li>
</ul>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">primary_key_names_cache</td>
          <td class="readwrite">
            [<span id='primary_key_names_cache-instance_method'>R</span><span id='primary_key_names_cache=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Caching the primary keys.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">table_column_names</td>
          <td class="readwrite">
            [<span id='table_column_names-instance_method'>R</span><span id='table_column_names=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Hash of table_name =&gt; array of column names pairs.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">table_columns</td>
          <td class="readwrite">
            [<span id='table_columns-instance_method'>R</span><span id='table_columns=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
2-level Hash of table_name =&gt; column_name =&gt; Column objects.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="DEFAULT_ROW_BUFFER_SIZE-constant">DEFAULT_ROW_BUFFER_SIZE</dt>
      <dd>1000</dd>
    
  </dl>
</div>

</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(config)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Create a session on the proxy side according to provided configuration
hash. <tt>config</tt> is a hash as described by
ActiveRecord::Base#establish_connection
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rubyrep/proxy_connection.rb', line 195</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rubyrep/rubyrep/blob/e04c9574786262147337a9366fa8f0e77a01cc44/lib/rubyrep/proxy_connection.rb#L195">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">195
196
197
198
199</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='config identifier id'>config</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='connection identifier id'>connection</span> <span class='assign token'>=</span> <span class='ConnectionExtenders constant id'>ConnectionExtenders</span><span class='dot token'>.</span><span class='db_connect identifier id'>db_connect</span> <span class='config identifier id'>config</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='config identifier id'>config</span> <span class='assign token'>=</span> <span class='config identifier id'>config</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='manual_primary_keys identifier id'>manual_primary_keys</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#column_names-instance_method">#column_names</span><span class='args'>(table)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns an array of column names of the given table name.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#create_cursor-instance_method">#create_cursor</span><span class='args'>(cursor_class, table, options = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Create a cursor for the given table.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#cursors-instance_method">#cursors</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a Hash of currently registerred cursors.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#delete_record-instance_method">#delete_record</span><span class='args'>(table, values)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Deletes the specified record from the named <tt>table</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#destroy-instance_method">#destroy</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Destroys the session.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#destroy_cursor-instance_method">#destroy_cursor</span><span class='args'>(cursor)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Destroys the provided cursor and removes it from the register.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#insert_record-instance_method">#insert_record</span><span class='args'>(table, values)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Inserts the specified records into the named <tt>table</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#primary_key_names-instance_method">#primary_key_names</span><span class='args'>(table_name, options = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns an array of primary key names for the given <tt>table_name</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#quote_value-instance_method">#quote_value</span><span class='args'>(table, column, value)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Quotes the given value.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#refresh-instance_method">#refresh</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Checks if the connection is still active and if not, reestablished it.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#save_cursor-instance_method">#save_cursor</span><span class='args'>(cursor)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Store a cursor in the register to protect it from the garbage collector.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#select_cursor-instance_method">#select_cursor</span><span class='args'>(options)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a cusor as produced by the #select_cursor method of the connection
extenders.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#table_delete_query-instance_method">#table_delete_query</span><span class='args'>(table, values)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns an SQL delete query for the given <tt>table</tt> and
<tt>values</tt> <tt>values</tt> is a hash of column_name =&gt; value pairs.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#table_insert_query-instance_method">#table_insert_query</span><span class='args'>(table, values)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns an SQL insert query for the given <tt>table</tt> and
<tt>values</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#table_select_query-instance_method">#table_select_query</span><span class='args'>(table, options = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns an SQL query string for the given <tt>table</tt> based on the
provided <tt>options</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#table_update_query-instance_method">#table_update_query</span><span class='args'>(table, values, org_key = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns an SQL update query.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#update_record-instance_method">#update_record</span><span class='args'>(table, values, org_key = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Updates the specified records of the specified table.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>column_names</h3>
</div><div id="column_names-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>column_names</span><span class='args'>(table)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns an array of column names of the given table name. The array is
ordered in the sequence as returned by the database. The result is cached
for higher speed.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rubyrep/proxy_connection.rb', line 249</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rubyrep/rubyrep/blob/e04c9574786262147337a9366fa8f0e77a01cc44/lib/rubyrep/proxy_connection.rb#L249">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">249
250
251
252
253
254
255</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='column_names identifier id'>column_names</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='table_column_names identifier id'>table_column_names</span> <span class='opasgn op'>||=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='unless unless kw'>unless</span> <span class='table_column_names identifier id'>table_column_names</span><span class='dot token'>.</span><span class='include? fid id'>include?</span> <span class='table identifier id'>table</span>
    <span class='table_column_names identifier id'>table_column_names</span><span class='lbrack token'>[</span><span class='table identifier id'>table</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='columns identifier id'>columns</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='c identifier id'>c</span><span class='bitor op'>|</span> <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
  <span class='table_column_names identifier id'>table_column_names</span><span class='lbrack token'>[</span><span class='table identifier id'>table</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>create_cursor</h3>
</div><div id="create_cursor-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>create_cursor</span><span class='args'>(cursor_class, table, options = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Create a cursor for the given table.
</p>
<pre class="code">
  <span class='mult op'>*</span> <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='cursor_class identifier id'>cursor_class</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;: should specify the Cursor class (e. g. ProxyBlockCursor or ProxyRowCursor).
  * &lt;tt&gt;table&lt;/</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='colon op'>:</span> <span class='name identifier id'>name</span> <span class='of identifier id'>of</span> <span class='the identifier id'>the</span> <span class='table identifier id'>table</span>
  <span class='mult op'>*</span> <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='options identifier id'>options</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;: An option hash that is used to construct the SQL query. See ProxyCursor#construct_query for details.
</span></pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rubyrep/proxy_connection.rb', line 233</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rubyrep/rubyrep/blob/e04c9574786262147337a9366fa8f0e77a01cc44/lib/rubyrep/proxy_connection.rb#L233">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">233
234
235
236
237
238</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='create_cursor identifier id'>create_cursor</span><span class='lparen token'>(</span><span class='cursor_class identifier id'>cursor_class</span><span class='comma token'>,</span> <span class='table identifier id'>table</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='cursor identifier id'>cursor</span> <span class='assign token'>=</span> <span class='cursor_class identifier id'>cursor_class</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='self self kw'>self</span><span class='comma token'>,</span> <span class='table identifier id'>table</span>
  <span class='cursor identifier id'>cursor</span><span class='dot token'>.</span><span class='prepare_fetch identifier id'>prepare_fetch</span> <span class='options identifier id'>options</span>
  <span class='save_cursor identifier id'>save_cursor</span> <span class='cursor identifier id'>cursor</span>
  <span class='cursor identifier id'>cursor</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>cursors</h3>
</div><div id="cursors-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>cursors</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a Hash of currently registerred cursors
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rubyrep/proxy_connection.rb', line 125</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rubyrep/rubyrep/blob/e04c9574786262147337a9366fa8f0e77a01cc44/lib/rubyrep/proxy_connection.rb#L125">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">125
126
127</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='cursors identifier id'>cursors</span>
  <span class='@cursors ivar id'>@cursors</span> <span class='opasgn op'>||=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>delete_record</h3>
</div><div id="delete_record-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>delete_record</span><span class='args'>(table, values)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Deletes the specified record from the named <tt>table</tt>. <tt>values</tt>
is a hash of column_name =&gt; value pairs. (Only the primary key values
will be used and must be included in the hash.)
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rubyrep/proxy_connection.rb', line 393</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rubyrep/rubyrep/blob/e04c9574786262147337a9366fa8f0e77a01cc44/lib/rubyrep/proxy_connection.rb#L393">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">393
394
395</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='delete_record identifier id'>delete_record</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='comma token'>,</span> <span class='values identifier id'>values</span><span class='rparen token'>)</span>
  <span class='execute identifier id'>execute</span> <span class='table_delete_query identifier id'>table_delete_query</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='comma token'>,</span> <span class='values identifier id'>values</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>destroy</h3>
</div><div id="destroy-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>destroy</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Destroys the session
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rubyrep/proxy_connection.rb', line 209</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rubyrep/rubyrep/blob/e04c9574786262147337a9366fa8f0e77a01cc44/lib/rubyrep/proxy_connection.rb#L209">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">209
210
211
212
213
214
215
216</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='destroy identifier id'>destroy</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='connection identifier id'>connection</span><span class='dot token'>.</span><span class='disconnect! fid id'>disconnect!</span>
  
  <span class='cursors identifier id'>cursors</span><span class='dot token'>.</span><span class='each_key identifier id'>each_key</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='cursor identifier id'>cursor</span><span class='bitor op'>|</span>
    <span class='cursor identifier id'>cursor</span><span class='dot token'>.</span><span class='destroy identifier id'>destroy</span>
  <span class='end end kw'>end</span>
  <span class='cursors identifier id'>cursors</span><span class='dot token'>.</span><span class='clear identifier id'>clear</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>destroy_cursor</h3>
</div><div id="destroy_cursor-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>destroy_cursor</span><span class='args'>(cursor)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Destroys the provided cursor and removes it from the register
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rubyrep/proxy_connection.rb', line 241</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rubyrep/rubyrep/blob/e04c9574786262147337a9366fa8f0e77a01cc44/lib/rubyrep/proxy_connection.rb#L241">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">241
242
243
244</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='destroy_cursor identifier id'>destroy_cursor</span><span class='lparen token'>(</span><span class='cursor identifier id'>cursor</span><span class='rparen token'>)</span>
  <span class='cursor identifier id'>cursor</span><span class='dot token'>.</span><span class='destroy identifier id'>destroy</span>
  <span class='cursors identifier id'>cursors</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span> <span class='cursor identifier id'>cursor</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>insert_record</h3>
</div><div id="insert_record-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>insert_record</span><span class='args'>(table, values)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Inserts the specified records into the named <tt>table</tt>.
<tt>values</tt> is a hash of column_name =&gt; value pairs.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rubyrep/proxy_connection.rb', line 347</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rubyrep/rubyrep/blob/e04c9574786262147337a9366fa8f0e77a01cc44/lib/rubyrep/proxy_connection.rb#L347">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">347
348
349</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='insert_record identifier id'>insert_record</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='comma token'>,</span> <span class='values identifier id'>values</span><span class='rparen token'>)</span>
  <span class='execute identifier id'>execute</span> <span class='table_insert_query identifier id'>table_insert_query</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='comma token'>,</span> <span class='values identifier id'>values</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>primary_key_names</h3>
</div><div id="primary_key_names-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>primary_key_names</span><span class='args'>(table_name, options = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns an array of primary key names for the given <tt>table_name</tt>.
Caches the result for future calls. Allows manual overwrites through the
Configuration options <tt>:primary_key_names</tt> or
:<tt>primary_key_only_limit</tt>.
</p>
<p>
Parameters:
</p>
<ul>
<li><tt>table_name</tt>: name of the table

</li>
<li><tt>options</tt>: An option hash with the following valid options:

<ul>
<li>:<tt>raw</tt>: if <tt>true</tt>, than don&#8217;t use manual overwrites and
don&#8217;t cache

</li>
</ul>
</li>
</ul>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rubyrep/proxy_connection.rb', line 146</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rubyrep/rubyrep/blob/e04c9574786262147337a9366fa8f0e77a01cc44/lib/rubyrep/proxy_connection.rb#L146">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">146
147
148
149
150
151
152
153
154
155
156</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='primary_key_names identifier id'>primary_key_names</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='connection identifier id'>connection</span><span class='dot token'>.</span><span class='primary_key_names identifier id'>primary_key_names</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:raw</span><span class='rbrack token'>]</span>
  
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='primary_key_names_cache identifier id'>primary_key_names_cache</span> <span class='opasgn op'>||=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='primary_key_names_cache identifier id'>primary_key_names_cache</span><span class='lbrack token'>[</span><span class='table_name identifier id'>table_name</span><span class='rbrack token'>]</span>
  <span class='unless unless kw'>unless</span> <span class='result identifier id'>result</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='manual_primary_keys identifier id'>manual_primary_keys</span><span class='lbrack token'>[</span><span class='table_name identifier id'>table_name</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='connection identifier id'>connection</span><span class='dot token'>.</span><span class='primary_key_names identifier id'>primary_key_names</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='rparen token'>)</span>
    <span class='primary_key_names_cache identifier id'>primary_key_names_cache</span><span class='lbrack token'>[</span><span class='table_name identifier id'>table_name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='result identifier id'>result</span>
  <span class='end end kw'>end</span>
  <span class='result identifier id'>result</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>quote_value</h3>
</div><div id="quote_value-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>quote_value</span><span class='args'>(table, column, value)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Quotes the given value. It is assumed that the value belongs to the
specified column name and table name. Caches the column objects for higher
speed.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rubyrep/proxy_connection.rb', line 220</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rubyrep/rubyrep/blob/e04c9574786262147337a9366fa8f0e77a01cc44/lib/rubyrep/proxy_connection.rb#L220">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">220
221
222
223
224
225
226
227</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='quote_value identifier id'>quote_value</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='comma token'>,</span> <span class='column identifier id'>column</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='table_columns identifier id'>table_columns</span> <span class='opasgn op'>||=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='unless unless kw'>unless</span> <span class='table_columns identifier id'>table_columns</span><span class='dot token'>.</span><span class='include? fid id'>include?</span> <span class='table identifier id'>table</span>
    <span class='table_columns identifier id'>table_columns</span><span class='lbrack token'>[</span><span class='table identifier id'>table</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
    <span class='columns identifier id'>columns</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='c identifier id'>c</span><span class='bitor op'>|</span> <span class='table_columns identifier id'>table_columns</span><span class='lbrack token'>[</span><span class='table identifier id'>table</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='c identifier id'>c</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='c identifier id'>c</span><span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
  <span class='connection identifier id'>connection</span><span class='dot token'>.</span><span class='quote identifier id'>quote</span> <span class='value identifier id'>value</span><span class='comma token'>,</span> <span class='table_columns identifier id'>table_columns</span><span class='lbrack token'>[</span><span class='table identifier id'>table</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='column identifier id'>column</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>refresh</h3>
</div><div id="refresh-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>refresh</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Checks if the connection is still active and if not, reestablished it.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rubyrep/proxy_connection.rb', line 202</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rubyrep/rubyrep/blob/e04c9574786262147337a9366fa8f0e77a01cc44/lib/rubyrep/proxy_connection.rb#L202">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">202
203
204
205
206</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='refresh identifier id'>refresh</span>
  <span class='unless unless kw'>unless</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='connection identifier id'>connection</span><span class='dot token'>.</span><span class='active? fid id'>active?</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='connection identifier id'>connection</span> <span class='assign token'>=</span> <span class='ConnectionExtenders constant id'>ConnectionExtenders</span><span class='dot token'>.</span><span class='db_connect identifier id'>db_connect</span> <span class='config identifier id'>config</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>save_cursor</h3>
</div><div id="save_cursor-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>save_cursor</span><span class='args'>(cursor)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Store a cursor in the register to protect it from the garbage collector.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rubyrep/proxy_connection.rb', line 164</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rubyrep/rubyrep/blob/e04c9574786262147337a9366fa8f0e77a01cc44/lib/rubyrep/proxy_connection.rb#L164">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">164
165
166</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='save_cursor identifier id'>save_cursor</span><span class='lparen token'>(</span><span class='cursor identifier id'>cursor</span><span class='rparen token'>)</span>
  <span class='cursors identifier id'>cursors</span><span class='lbrack token'>[</span><span class='cursor identifier id'>cursor</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='cursor identifier id'>cursor</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>select_cursor</h3>
</div><div id="select_cursor-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>select_cursor</span><span class='args'>(options)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a cusor as produced by the #select_cursor method of the connection
extenders.
</p>
<p>
Two modes of operation: Either
</p>
<ul>
<li>execute the specified query (takes precedense) OR

</li>
<li>first build the query based on options forwarded to #table_select_query

</li>
</ul>
<p>
<tt>options</tt> is a hash with
</p>
<ul>
<li>:<tt>query</tt>: executes the given query

</li>
<li>:<tt>type_cast</tt>: if <tt>true</tt>, build a type casting cursor around
the result

</li>
<li>:<tt>table</tt>: name of the table from which to read data

</li>
<li>further options as taken by #table_select_query to build the query

</li>
<li>:<tt>row_buffer_size</tt>: Integer controlling how many rows a read into
memory at one time.

</li>
</ul>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rubyrep/proxy_connection.rb', line 185</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rubyrep/rubyrep/blob/e04c9574786262147337a9366fa8f0e77a01cc44/lib/rubyrep/proxy_connection.rb#L185">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">185
186
187
188
189
190
191</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='select_cursor identifier id'>select_cursor</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='cursor identifier id'>cursor</span> <span class='assign token'>=</span> <span class='ResultFetcher constant id'>ResultFetcher</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:type_cast</span><span class='rbrack token'>]</span>
    <span class='cursor identifier id'>cursor</span> <span class='assign token'>=</span> <span class='TypeCastingCursor constant id'>TypeCastingCursor</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:table</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='cursor identifier id'>cursor</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='cursor identifier id'>cursor</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>table_delete_query</h3>
</div><div id="table_delete_query-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>table_delete_query</span><span class='args'>(table, values)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns an SQL delete query for the given <tt>table</tt> and
<tt>values</tt> <tt>values</tt> is a hash of column_name =&gt; value pairs.
(Only the primary key values will be used and must be included in the
hash.)
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rubyrep/proxy_connection.rb', line 382</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rubyrep/rubyrep/blob/e04c9574786262147337a9366fa8f0e77a01cc44/lib/rubyrep/proxy_connection.rb#L382">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">382
383
384
385
386
387
388</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='table_delete_query identifier id'>table_delete_query</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='comma token'>,</span> <span class='values identifier id'>values</span><span class='rparen token'>)</span>
  <span class='query identifier id'>query</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;delete from #{quote_table_name(table)}&quot;</span>
  <span class='query identifier id'>query</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot; where (&quot;</span> <span class='lshft op'>&lt;&lt;</span> <span class='quote_key_list identifier id'>quote_key_list</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='rparen token'>)</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;) = (&quot;</span>
  <span class='query identifier id'>query</span> <span class='lshft op'>&lt;&lt;</span> <span class='primary_key_names identifier id'>primary_key_names</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='bitor op'>|</span>
    <span class='quote_value identifier id'>quote_value</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='comma token'>,</span> <span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='values identifier id'>values</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>', '</span><span class='rparen token'>)</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;)&quot;</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>table_insert_query</h3>
</div><div id="table_insert_query-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>table_insert_query</span><span class='args'>(table, values)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns an SQL insert query for the given <tt>table</tt> and
<tt>values</tt>. <tt>values</tt> is a hash of column_name =&gt; value
pairs.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rubyrep/proxy_connection.rb', line 334</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rubyrep/rubyrep/blob/e04c9574786262147337a9366fa8f0e77a01cc44/lib/rubyrep/proxy_connection.rb#L334">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">334
335
336
337
338
339
340
341
342
343</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='table_insert_query identifier id'>table_insert_query</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='comma token'>,</span> <span class='values identifier id'>values</span><span class='rparen token'>)</span>
  <span class='query identifier id'>query</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;insert into #{quote_table_name(table)}&quot;</span>
  <span class='query identifier id'>query</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>'('</span> <span class='lshft op'>&lt;&lt;</span> <span class='values identifier id'>values</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='column_name identifier id'>column_name</span><span class='bitor op'>|</span>
    <span class='quote_column_name identifier id'>quote_column_name</span><span class='lparen token'>(</span><span class='column_name identifier id'>column_name</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>', '</span><span class='rparen token'>)</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>') '</span>
  <span class='query identifier id'>query</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>'values('</span> <span class='lshft op'>&lt;&lt;</span> <span class='values identifier id'>values</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='column_name identifier id'>column_name</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span>
    <span class='quote_value identifier id'>quote_value</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='comma token'>,</span> <span class='column_name identifier id'>column_name</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>', '</span><span class='rparen token'>)</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>')'</span>
  <span class='query identifier id'>query</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>table_select_query</h3>
</div><div id="table_select_query-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>table_select_query</span><span class='args'>(table, options = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns an SQL query string for the given <tt>table</tt> based on the
provided <tt>options</tt>. <tt>options</tt> is a hash that can contain any
of the following:
</p>
<pre class="code">
  <span class='mult op'>*</span> <span class='symbol val'>:&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='from identifier id'>from</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;: nil OR the hash of primary key =&gt; value pairs designating the start of the selection
  * :&lt;tt&gt;exclude_starting_row&lt;/</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='colon op'>:</span> <span class='if if kw'>if</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='do do kw'>do</span> <span class='not not kw'>not</span> <span class='include identifier id'>include</span> <span class='the identifier id'>the</span> <span class='row identifier id'>row</span> <span class='specified identifier id'>specified</span> <span class='by identifier id'>by</span> <span class='symbol val'>:&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='from identifier id'>from</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;
  * :&lt;tt&gt;to&lt;/</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='colon op'>:</span> <span class='nil nil kw'>nil</span> <span class='OR constant id'>OR</span> <span class='the identifier id'>the</span> <span class='hash identifier id'>hash</span> <span class='of identifier id'>of</span> <span class='primary identifier id'>primary</span> <span class='key identifier id'>key</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='value identifier id'>value</span> <span class='pairs identifier id'>pairs</span> <span class='designating identifier id'>designating</span> <span class='the identifier id'>the</span> <span class='end end kw'>end</span> <span class='of identifier id'>of</span> <span class='the identifier id'>the</span> <span class='selection identifier id'>selection</span>
  <span class='mult op'>*</span> <span class='symbol val'>:&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='row_keys identifier id'>row_keys</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;: an array of primary key =&gt; value hashes specify the target rows.
</span></pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rubyrep/proxy_connection.rb', line 295</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rubyrep/rubyrep/blob/e04c9574786262147337a9366fa8f0e77a01cc44/lib/rubyrep/proxy_connection.rb#L295">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='table_select_query identifier id'>table_select_query</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='query identifier id'>query</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;select #{quote_column_list(table)}&quot;</span>
  <span class='query identifier id'>query</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot; from #{quote_table_name(table)}&quot;</span>
  <span class='query identifier id'>query</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot; where&quot;</span> <span class='if if_mod kw'>if</span> <span class='lbrack token'>[</span><span class='symbol val'>:from</span><span class='comma token'>,</span> <span class='symbol val'>:to</span><span class='comma token'>,</span> <span class='symbol val'>:row_keys</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='any? fid id'>any?</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='bitor op'>|</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='include? fid id'>include?</span> <span class='key identifier id'>key</span><span class='rbrace token'>}</span>
  <span class='first_condition identifier id'>first_condition</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
  <span class='if if kw'>if</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:from</span><span class='rbrack token'>]</span>
    <span class='first_condition identifier id'>first_condition</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
    <span class='matching_condition identifier id'>matching_condition</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:exclude_starting_row</span><span class='rbrack token'>]</span> <span class='question op'>?</span> <span class='string val'>'&gt;'</span> <span class='colon op'>:</span> <span class='string val'>'&gt;='</span>
    <span class='query identifier id'>query</span> <span class='lshft op'>&lt;&lt;</span> <span class='row_condition identifier id'>row_condition</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:from</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='matching_condition identifier id'>matching_condition</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='if if kw'>if</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:to</span><span class='rbrack token'>]</span>
    <span class='query identifier id'>query</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>' and'</span> <span class='unless unless_mod kw'>unless</span> <span class='first_condition identifier id'>first_condition</span>
    <span class='first_condition identifier id'>first_condition</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
    <span class='query identifier id'>query</span> <span class='lshft op'>&lt;&lt;</span> <span class='row_condition identifier id'>row_condition</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:to</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='string val'>'&lt;='</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='if if kw'>if</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:row_keys</span><span class='rbrack token'>]</span>
    <span class='query identifier id'>query</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>' and'</span> <span class='unless unless_mod kw'>unless</span> <span class='first_condition identifier id'>first_condition</span>
    <span class='if if kw'>if</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:row_keys</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
      <span class='query identifier id'>query</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>' false'</span>
    <span class='else else kw'>else</span>
      <span class='query identifier id'>query</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>' ('</span> <span class='lshft op'>&lt;&lt;</span> <span class='quote_key_list identifier id'>quote_key_list</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='rparen token'>)</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>') in ('</span>
      <span class='first_key identifier id'>first_key</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
      <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:row_keys</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='row identifier id'>row</span><span class='bitor op'>|</span>
        <span class='query identifier id'>query</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>', '</span> <span class='unless unless_mod kw'>unless</span> <span class='first_key identifier id'>first_key</span>
        <span class='first_key identifier id'>first_key</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
        <span class='query identifier id'>query</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>'('</span> <span class='lshft op'>&lt;&lt;</span> <span class='primary_key_names identifier id'>primary_key_names</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='bitor op'>|</span>
          <span class='quote_value identifier id'>quote_value</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='comma token'>,</span> <span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='row identifier id'>row</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>', '</span><span class='rparen token'>)</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>')'</span>
      <span class='end end kw'>end</span>
      <span class='query identifier id'>query</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>')'</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='query identifier id'>query</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot; order by #{quote_key_list(table)}&quot;</span>

  <span class='query identifier id'>query</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>table_update_query</h3>
</div><div id="table_update_query-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>table_update_query</span><span class='args'>(table, values, org_key = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns an SQL update query.
</p>
<ul>
<li><tt>table</tt>: name of the target table

</li>
<li><tt>values</tt>: a hash of column_name =&gt; value pairs

</li>
<li><tt>org_key</tt>: A hash of column_name =&gt; value pairs. If <tt>nil</tt>,
use the key specified by <tt>values</tt> instead.

</li>
</ul>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rubyrep/proxy_connection.rb', line 357</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rubyrep/rubyrep/blob/e04c9574786262147337a9366fa8f0e77a01cc44/lib/rubyrep/proxy_connection.rb#L357">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">357
358
359
360
361
362
363
364
365
366
367</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='table_update_query identifier id'>table_update_query</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='comma token'>,</span> <span class='values identifier id'>values</span><span class='comma token'>,</span> <span class='org_key identifier id'>org_key</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='org_key identifier id'>org_key</span> <span class='opasgn op'>||=</span> <span class='values identifier id'>values</span>
  <span class='query identifier id'>query</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;update #{quote_table_name(table)} set &quot;</span>
  <span class='query identifier id'>query</span> <span class='lshft op'>&lt;&lt;</span> <span class='values identifier id'>values</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='column_name identifier id'>column_name</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span>
    <span class='dstring node'>&quot;#{quote_column_name(column_name)} = #{quote_value(table, column_name, value)}&quot;</span>
  <span class='end end kw'>end</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>', '</span><span class='rparen token'>)</span>
  <span class='query identifier id'>query</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot; where (&quot;</span> <span class='lshft op'>&lt;&lt;</span> <span class='quote_key_list identifier id'>quote_key_list</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='rparen token'>)</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;) = (&quot;</span>
  <span class='query identifier id'>query</span> <span class='lshft op'>&lt;&lt;</span> <span class='primary_key_names identifier id'>primary_key_names</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='bitor op'>|</span>
    <span class='quote_value identifier id'>quote_value</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='comma token'>,</span> <span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='org_key identifier id'>org_key</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>', '</span><span class='rparen token'>)</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;)&quot;</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>update_record</h3>
</div><div id="update_record-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>update_record</span><span class='args'>(table, values, org_key = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Updates the specified records of the specified table.
</p>
<ul>
<li><tt>table</tt>: name of the target table

</li>
<li><tt>values</tt>: a hash of column_name =&gt; value pairs.

</li>
<li><tt>org_key</tt>: A hash of column_name =&gt; value pairs. If <tt>nil</tt>,
use the key specified by <tt>values</tt> instead.

</li>
</ul>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rubyrep/proxy_connection.rb', line 375</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rubyrep/rubyrep/blob/e04c9574786262147337a9366fa8f0e77a01cc44/lib/rubyrep/proxy_connection.rb#L375">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">375
376
377</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='update_record identifier id'>update_record</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='comma token'>,</span> <span class='values identifier id'>values</span><span class='comma token'>,</span> <span class='org_key identifier id'>org_key</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='execute identifier id'>execute</span> <span class='table_update_query identifier id'>table_update_query</span><span class='lparen token'>(</span><span class='table identifier id'>table</span><span class='comma token'>,</span> <span class='values identifier id'>values</span><span class='comma token'>,</span> <span class='org_key identifier id'>org_key</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>