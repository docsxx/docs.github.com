<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>rgrove's larch - Class: Larch::IMAP - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/rgrove/commits/larch/master" rel="alternate" title="Recent Commits to larch:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("rgrove", "larch", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='rgrove/larch/blob/f091c4566f0e58df29b32150e0e2be9a3b4e3446' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='rgrove/larch/blob/f091c4566f0e58df29b32150e0e2be9a3b4e3446' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("rgrove", "larch", "f091c4566f0e58df29b32150e0e2be9a3b4e3446", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/rgrove/larch/tree/">Source</a></li>
            <li class=""><a href="http://github.com/rgrove/larch/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/rgrove/larch/network">Network</a></li>            
            <li class=""><a href="http://github.com/rgrove/larch/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/rgrove/larch">Wiki</a></li>
            <li class=""><a href="http://github.com/rgrove/larch/graphs">Graphs</a></li>                    
            <li class="active"><a href="/rgrove/larch">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/rgrove">rgrove</a> / <b><a href="http://github.com/rgrove/larch/tree">larch</a></b>        
                <a id="namespaces_button" rel="rgrove/larch/blob/f091c4566f0e58df29b32150e0e2be9a3b4e3446" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="rgrove/larch/blob/f091c4566f0e58df29b32150e0e2be9a3b4e3446" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Larch_IMAP">
  <h1>Class: Larch::IMAP</h1>
  <div class="section docstring">
  <p>
This class borrows heavily from Sup, the source code of which should be
required reading if you&#8217;re doing anything with IMAP in Ruby:
http://sup.rubyforge.org
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">conn</td>
          <td class="readwrite">
            [<span id='conn-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>conn</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">options</td>
          <td class="readwrite">
            [<span id='options-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>options</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="Message-constant">Message</dt>
      <dd>Struct.new(:id, :envelope, :rfc822, :flags, :internaldate)</dd>
    
      <dt id="REGEX_URI-constant">REGEX_URI</dt>
      <dd>URI.regexp(['imap', 'imaps'])</dd>
    
  </dl>
</div>

</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(uri, options = )</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Initializes a new Larch::IMAP instance that will connect to the specified
IMAP URI.
</p>
<p>
In addition to the URI, the following options may also be specified:
</p>
<dl>
<dt>:create_mailbox</dt><dd>If <tt>true</tt>, mailboxes that don&#8217;t already exist will be created
if necessary.

</dd>
<dt>:dry_run</dt><dd>If <tt>true</tt>, read-only operations will be performed as usual and all
change operations will be simulated, but no changes will actually be made.
Note that it&#8217;s not actually possible to simulate mailbox creation, so
<tt>:dry_run</tt> mode always behaves as if <tt>:create_mailbox</tt> is <tt>false</tt>.

</dd>
<dt>:fast_scan</dt><dd>If <tt>true</tt>, a faster but less accurate method will be used to scan
mailboxes. This will speed up the initial mailbox scan, but will also
reduce the effectiveness of the message unique id generator. This is
probably acceptable when copying a very large mailbox to an empty mailbox,
but if the destination already contains messages, using this option is not
advised.

</dd>
<dt>:max_retries</dt><dd>After a recoverable error occurs, retry the operation up to this many
times. Default is 3.

</dd>
<dt>:ssl_certs</dt><dd>Path to a trusted certificate bundle to use to verify server SSL
certificates. You can download a bundle of certificate authority root certs
at http://curl.haxx.se/ca/cacert.pem (it&#8217;s up to you to verify that
this bundle hasn&#8217;t been tampered with, however; don&#8217;t trust it
blindly).

</dd>
<dt>:ssl_verify</dt><dd>If <tt>true</tt>, server SSL certificates will be verified against the
trusted certificate bundle specified in <tt>ssl_certs</tt>. By default,
server SSL certificates are not verified.

</dd>
</dl>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/larch/imap.rb', line 56</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rgrove/larch/blob/f091c4566f0e58df29b32150e0e2be9a3b4e3446/lib/larch/imap.rb#L56">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='uri identifier id'>uri</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='semicolon token'>;</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;not an IMAP URI: #{uri}&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='uri identifier id'>uri</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='URI constant id'>URI</span><span class='rparen token'>)</span> <span class='orop op'>||</span> <span class='uri identifier id'>uri</span> <span class='match op'>=~</span> <span class='REGEX_URI constant id'>REGEX_URI</span>
  <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;options must be a Hash&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='rparen token'>)</span>

  <span class='@options ivar id'>@options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:max_retries</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>3</span><span class='comma token'>,</span> <span class='symbol val'>:ssl_verify</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='@uri ivar id'>@uri</span>     <span class='assign token'>=</span> <span class='uri identifier id'>uri</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='URI constant id'>URI</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='uri identifier id'>uri</span> <span class='colon op'>:</span> <span class='URI constant id'>URI</span><span class='lparen token'>(</span><span class='uri identifier id'>uri</span><span class='rparen token'>)</span>

  <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;must provide a username and password&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='@uri ivar id'>@uri</span><span class='dot token'>.</span><span class='user identifier id'>user</span> <span class='andop op'>&amp;&amp;</span> <span class='@uri ivar id'>@uri</span><span class='dot token'>.</span><span class='password identifier id'>password</span>

  <span class='@conn ivar id'>@conn</span>      <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@mailboxes ivar id'>@mailboxes</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='@mutex ivar id'>@mutex</span>     <span class='assign token'>=</span> <span class='Mutex constant id'>Mutex</span><span class='dot token'>.</span><span class='new identifier id'>new</span>

  <span class='comment val'># Create private convenience methods (debug, info, warn, etc.) to make</span>
  <span class='comment val'># logging easier.</span>
  <span class='Logger constant id'>Logger</span><span class='colon2 op'>::</span><span class='LEVELS constant id'>LEVELS</span><span class='dot token'>.</span><span class='each_key identifier id'>each_key</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='level identifier id'>level</span><span class='bitor op'>|</span>
    <span class='IMAP constant id'>IMAP</span><span class='dot token'>.</span><span class='class_eval identifier id'>class_eval</span> <span class='do do kw'>do</span>
      <span class='define_method identifier id'>define_method</span><span class='lparen token'>(</span><span class='level identifier id'>level</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='msg identifier id'>msg</span><span class='bitor op'>|</span>
        <span class='Larch constant id'>Larch</span><span class='dot token'>.</span><span class='log identifier id'>log</span><span class='dot token'>.</span><span class='log identifier id'>log</span><span class='lparen token'>(</span><span class='level identifier id'>level</span><span class='comma token'>,</span> <span class='dstring node'>&quot;#{username}@#{host}: #{msg}&quot;</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>

      <span class='private identifier id'>private</span> <span class='level identifier id'>level</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#connect-instance_method">#connect</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Connects to the IMAP server and logs in if a connection hasn&#8217;t
already been established.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#delim-instance_method">#delim</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Gets the server&#8217;s mailbox hierarchy delimiter.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#disconnect-instance_method">#disconnect</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Closes the IMAP connection if one is currently open.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#each_mailbox-instance_method">#each_mailbox</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Iterates through all mailboxes in the account, yielding each one as a
Larch::IMAP::Mailbox instance to the given block.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#host-instance_method">#host</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Gets the IMAP hostname.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#mailbox-instance_method">#mailbox</span><span class='args'>(name, delim = '/')</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Gets a Larch::IMAP::Mailbox instance representing the specified mailbox.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#noop-instance_method">#noop</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Sends an IMAP NOOP command.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#password-instance_method">#password</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Gets the IMAP password.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#port-instance_method">#port</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Gets the IMAP port number.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#safely-instance_method">#safely</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Connect if necessary, execute the given block, retry if a recoverable error
occurs, die if an unrecoverable error occurs.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#ssl-3F-instance_method">#ssl?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Gets the SSL status.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#uri-instance_method">#uri</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Gets the IMAP URI.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#uri_mailbox-instance_method">#uri_mailbox</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Gets the IMAP mailbox specified in the URI, or <tt>nil</tt> if none.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#username-instance_method">#username</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Gets the IMAP username.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>connect</h3>
</div><div id="connect-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>connect</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Connects to the IMAP server and logs in if a connection hasn&#8217;t
already been established.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/larch/imap.rb', line 84</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rgrove/larch/blob/f091c4566f0e58df29b32150e0e2be9a3b4e3446/lib/larch/imap.rb#L84">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">84
85
86
87</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='connect identifier id'>connect</span>
  <span class='return return kw'>return</span> <span class='if if_mod kw'>if</span> <span class='@conn ivar id'>@conn</span>
  <span class='safely identifier id'>safely</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span> <span class='comment val'># connect, but do nothing else</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>delim</h3>
</div><div id="delim-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>delim</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Gets the server&#8217;s mailbox hierarchy delimiter.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/larch/imap.rb', line 90</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rgrove/larch/blob/f091c4566f0e58df29b32150e0e2be9a3b4e3446/lib/larch/imap.rb#L90">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">90
91
92</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='delim identifier id'>delim</span>
  <span class='@delim ivar id'>@delim</span> <span class='opasgn op'>||=</span> <span class='safely identifier id'>safely</span> <span class='lbrace token'>{</span> <span class='@conn ivar id'>@conn</span><span class='dot token'>.</span><span class='list identifier id'>list</span><span class='lparen token'>(</span><span class='string val'>''</span><span class='comma token'>,</span> <span class='string val'>''</span><span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='delim identifier id'>delim</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>disconnect</h3>
</div><div id="disconnect-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>disconnect</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Closes the IMAP connection if one is currently open.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/larch/imap.rb', line 95</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rgrove/larch/blob/f091c4566f0e58df29b32150e0e2be9a3b4e3446/lib/larch/imap.rb#L95">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">95
96
97
98
99
100
101
102
103
104
105
106
107</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='disconnect identifier id'>disconnect</span>
  <span class='return return kw'>return</span> <span class='unless unless_mod kw'>unless</span> <span class='@conn ivar id'>@conn</span>

  <span class='begin begin kw'>begin</span>
    <span class='@conn ivar id'>@conn</span><span class='dot token'>.</span><span class='disconnect identifier id'>disconnect</span>
  <span class='rescue rescue kw'>rescue</span> <span class='Errno constant id'>Errno</span><span class='colon2 op'>::</span><span class='ENOTCONN constant id'>ENOTCONN</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='e identifier id'>e</span>
    <span class='debug identifier id'>debug</span> <span class='dstring node'>&quot;#{e.class.name}: #{e.message}&quot;</span>
  <span class='end end kw'>end</span>

  <span class='reset identifier id'>reset</span>

  <span class='info identifier id'>info</span> <span class='string val'>&quot;disconnected&quot;</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>each_mailbox</h3>
</div><div id="each_mailbox-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>each_mailbox</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Iterates through all mailboxes in the account, yielding each one as a
Larch::IMAP::Mailbox instance to the given block.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/larch/imap.rb', line 111</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rgrove/larch/blob/f091c4566f0e58df29b32150e0e2be9a3b4e3446/lib/larch/imap.rb#L111">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">111
112
113
114</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='each_mailbox identifier id'>each_mailbox</span>
  <span class='update_mailboxes identifier id'>update_mailboxes</span>
  <span class='@mailboxes ivar id'>@mailboxes</span><span class='dot token'>.</span><span class='each_value identifier id'>each_value</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='mailbox identifier id'>mailbox</span><span class='bitor op'>|</span> <span class='yield yield kw'>yield</span> <span class='mailbox identifier id'>mailbox</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>host</h3>
</div><div id="host-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>host</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Gets the IMAP hostname.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/larch/imap.rb', line 117</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rgrove/larch/blob/f091c4566f0e58df29b32150e0e2be9a3b4e3446/lib/larch/imap.rb#L117">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">117
118
119</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='host identifier id'>host</span>
  <span class='@uri ivar id'>@uri</span><span class='dot token'>.</span><span class='host identifier id'>host</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>mailbox</h3>
</div><div id="mailbox-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>mailbox</span><span class='args'>(name, delim = '/')</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Gets a Larch::IMAP::Mailbox instance representing the specified mailbox. If
the mailbox doesn&#8217;t exist and the <tt>:create_mailbox</tt> option is
<tt>false</tt>, or if <tt>:create_mailbox</tt> is <tt>true</tt> and mailbox
creation fails, a Larch::IMAP::MailboxNotFoundError will be raised.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/larch/imap.rb', line 125</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rgrove/larch/blob/f091c4566f0e58df29b32150e0e2be9a3b4e3446/lib/larch/imap.rb#L125">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='mailbox identifier id'>mailbox</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='delim identifier id'>delim</span> <span class='assign token'>=</span> <span class='string val'>'/'</span><span class='rparen token'>)</span>
  <span class='retries identifier id'>retries</span> <span class='assign token'>=</span> <span class='integer val'>0</span>

  <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='delim identifier id'>delim</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='delim identifier id'>delim</span><span class='rparen token'>)</span>

  <span class='begin begin kw'>begin</span>
    <span class='@mailboxes ivar id'>@mailboxes</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='do do kw'>do</span>
      <span class='update_mailboxes identifier id'>update_mailboxes</span>
      <span class='return return kw'>return</span> <span class='@mailboxes ivar id'>@mailboxes</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='@mailboxes ivar id'>@mailboxes</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
      <span class='raise identifier id'>raise</span> <span class='MailboxNotFoundError constant id'>MailboxNotFoundError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;mailbox not found: #{name}&quot;</span>
    <span class='end end kw'>end</span>

  <span class='rescue rescue kw'>rescue</span> <span class='MailboxNotFoundError constant id'>MailboxNotFoundError</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='e identifier id'>e</span>
    <span class='raise identifier id'>raise</span> <span class='unless unless_mod kw'>unless</span> <span class='@options ivar id'>@options</span><span class='lbrack token'>[</span><span class='symbol val'>:create_mailbox</span><span class='rbrack token'>]</span> <span class='andop op'>&amp;&amp;</span> <span class='retries identifier id'>retries</span> <span class='eq op'>==</span> <span class='integer val'>0</span>

    <span class='info identifier id'>info</span> <span class='dstring node'>&quot;creating mailbox: #{name}&quot;</span>
    <span class='safely identifier id'>safely</span> <span class='lbrace token'>{</span> <span class='@conn ivar id'>@conn</span><span class='dot token'>.</span><span class='create identifier id'>create</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span> <span class='unless unless_mod kw'>unless</span> <span class='@options ivar id'>@options</span><span class='lbrack token'>[</span><span class='symbol val'>:dry_run</span><span class='rbrack token'>]</span>

    <span class='retries identifier id'>retries</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
    <span class='retry retry kw'>retry</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>noop</h3>
</div><div id="noop-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>noop</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Sends an IMAP NOOP command.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/larch/imap.rb', line 149</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rgrove/larch/blob/f091c4566f0e58df29b32150e0e2be9a3b4e3446/lib/larch/imap.rb#L149">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">149
150
151</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='noop identifier id'>noop</span>
  <span class='safely identifier id'>safely</span> <span class='lbrace token'>{</span> <span class='@conn ivar id'>@conn</span><span class='dot token'>.</span><span class='noop identifier id'>noop</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>password</h3>
</div><div id="password-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>password</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Gets the IMAP password.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/larch/imap.rb', line 154</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rgrove/larch/blob/f091c4566f0e58df29b32150e0e2be9a3b4e3446/lib/larch/imap.rb#L154">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">154
155
156</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='password identifier id'>password</span>
  <span class='CGI constant id'>CGI</span><span class='dot token'>.</span><span class='unescape identifier id'>unescape</span><span class='lparen token'>(</span><span class='@uri ivar id'>@uri</span><span class='dot token'>.</span><span class='password identifier id'>password</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>port</h3>
</div><div id="port-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>port</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Gets the IMAP port number.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/larch/imap.rb', line 159</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rgrove/larch/blob/f091c4566f0e58df29b32150e0e2be9a3b4e3446/lib/larch/imap.rb#L159">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">159
160
161</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='port identifier id'>port</span>
  <span class='@uri ivar id'>@uri</span><span class='dot token'>.</span><span class='port identifier id'>port</span> <span class='orop op'>||</span> <span class='lparen token'>(</span><span class='ssl? fid id'>ssl?</span> <span class='integer val'>? </span><span class='integer val'>993</span> <span class='colon op'>:</span> <span class='integer val'>143</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>safely</h3>
</div><div id="safely-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>safely</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Connect if necessary, execute the given block, retry if a recoverable error
occurs, die if an unrecoverable error occurs.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
  </dl>
</div><div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="IMAP/Error.html" title="Error">Error</a></tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/larch/imap.rb', line 165</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rgrove/larch/blob/f091c4566f0e58df29b32150e0e2be9a3b4e3446/lib/larch/imap.rb#L165">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='safely identifier id'>safely</span>
  <span class='safe_connect identifier id'>safe_connect</span>

  <span class='retries identifier id'>retries</span> <span class='assign token'>=</span> <span class='integer val'>0</span>

  <span class='begin begin kw'>begin</span>
    <span class='yield yield kw'>yield</span>

  <span class='rescue rescue kw'>rescue</span> <span class='Errno constant id'>Errno</span><span class='colon2 op'>::</span><span class='ECONNRESET constant id'>ECONNRESET</span><span class='comma token'>,</span>
         <span class='Errno constant id'>Errno</span><span class='colon2 op'>::</span><span class='ENOTCONN constant id'>ENOTCONN</span><span class='comma token'>,</span>
         <span class='Errno constant id'>Errno</span><span class='colon2 op'>::</span><span class='EPIPE constant id'>EPIPE</span><span class='comma token'>,</span>
         <span class='Errno constant id'>Errno</span><span class='colon2 op'>::</span><span class='ETIMEDOUT constant id'>ETIMEDOUT</span><span class='comma token'>,</span>
         <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='IMAP constant id'>IMAP</span><span class='colon2 op'>::</span><span class='ByeResponseError constant id'>ByeResponseError</span><span class='comma token'>,</span>
         <span class='OpenSSL constant id'>OpenSSL</span><span class='colon2 op'>::</span><span class='SSL constant id'>SSL</span><span class='colon2 op'>::</span><span class='SSLError constant id'>SSLError</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='e identifier id'>e</span>

    <span class='raise identifier id'>raise</span> <span class='unless unless_mod kw'>unless</span> <span class='lparen token'>(</span><span class='retries identifier id'>retries</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span><span class='rparen token'>)</span> <span class='leq op'>&lt;=</span> <span class='@options ivar id'>@options</span><span class='lbrack token'>[</span><span class='symbol val'>:max_retries</span><span class='rbrack token'>]</span>

    <span class='info identifier id'>info</span> <span class='dstring node'>&quot;#{e.class.name}: #{e.message} (reconnecting)&quot;</span>

    <span class='reset identifier id'>reset</span>
    <span class='sleep identifier id'>sleep</span> <span class='integer val'>1</span> <span class='mult op'>*</span> <span class='retries identifier id'>retries</span>
    <span class='safe_connect identifier id'>safe_connect</span>
    <span class='retry retry kw'>retry</span>

  <span class='rescue rescue kw'>rescue</span> <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='IMAP constant id'>IMAP</span><span class='colon2 op'>::</span><span class='BadResponseError constant id'>BadResponseError</span><span class='comma token'>,</span>
         <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='IMAP constant id'>IMAP</span><span class='colon2 op'>::</span><span class='NoResponseError constant id'>NoResponseError</span><span class='comma token'>,</span>
         <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='IMAP constant id'>IMAP</span><span class='colon2 op'>::</span><span class='ResponseParseError constant id'>ResponseParseError</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='e identifier id'>e</span>

    <span class='raise identifier id'>raise</span> <span class='unless unless_mod kw'>unless</span> <span class='lparen token'>(</span><span class='retries identifier id'>retries</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span><span class='rparen token'>)</span> <span class='leq op'>&lt;=</span> <span class='@options ivar id'>@options</span><span class='lbrack token'>[</span><span class='symbol val'>:max_retries</span><span class='rbrack token'>]</span>

    <span class='info identifier id'>info</span> <span class='dstring node'>&quot;#{e.class.name}: #{e.message} (will retry)&quot;</span>

    <span class='sleep identifier id'>sleep</span> <span class='integer val'>1</span> <span class='mult op'>*</span> <span class='retries identifier id'>retries</span>
    <span class='retry retry kw'>retry</span>
  <span class='end end kw'>end</span>

<span class='rescue rescue kw'>rescue</span> <span class='Larch constant id'>Larch</span><span class='colon2 op'>::</span><span class='Error constant id'>Error</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='e identifier id'>e</span>
  <span class='raise identifier id'>raise</span>

<span class='rescue rescue kw'>rescue</span> <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='IMAP constant id'>IMAP</span><span class='colon2 op'>::</span><span class='Error constant id'>Error</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='e identifier id'>e</span>
  <span class='raise identifier id'>raise</span> <span class='Error constant id'>Error</span><span class='comma token'>,</span> <span class='dstring node'>&quot;#{e.class.name}: #{e.message} (giving up)&quot;</span>

<span class='rescue rescue kw'>rescue</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='e identifier id'>e</span>
  <span class='raise identifier id'>raise</span> <span class='FatalError constant id'>FatalError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;#{e.class.name}: #{e.message} (cannot recover)&quot;</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>ssl?</h3>
</div><div id="ssl-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>ssl?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Gets the SSL status.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/larch/imap.rb', line 212</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rgrove/larch/blob/f091c4566f0e58df29b32150e0e2be9a3b4e3446/lib/larch/imap.rb#L212">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">212
213
214</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='ssl? fid id'>ssl?</span>
  <span class='@uri ivar id'>@uri</span><span class='dot token'>.</span><span class='scheme identifier id'>scheme</span> <span class='eq op'>==</span> <span class='string val'>'imaps'</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>uri</h3>
</div><div id="uri-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>uri</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Gets the IMAP URI.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/larch/imap.rb', line 217</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rgrove/larch/blob/f091c4566f0e58df29b32150e0e2be9a3b4e3446/lib/larch/imap.rb#L217">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">217
218
219</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='uri identifier id'>uri</span>
  <span class='@uri ivar id'>@uri</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>uri_mailbox</h3>
</div><div id="uri_mailbox-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>uri_mailbox</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Gets the IMAP mailbox specified in the URI, or <tt>nil</tt> if none.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/larch/imap.rb', line 222</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rgrove/larch/blob/f091c4566f0e58df29b32150e0e2be9a3b4e3446/lib/larch/imap.rb#L222">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">222
223
224
225</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='uri_mailbox identifier id'>uri_mailbox</span>
  <span class='mb identifier id'>mb</span> <span class='assign token'>=</span> <span class='@uri ivar id'>@uri</span><span class='dot token'>.</span><span class='path identifier id'>path</span><span class='lbrack token'>[</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span>
  <span class='mb identifier id'>mb</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span> <span class='orop op'>||</span> <span class='mb identifier id'>mb</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span> <span class='integer val'>? </span><span class='nil nil kw'>nil</span> <span class='colon op'>:</span> <span class='CGI constant id'>CGI</span><span class='dot token'>.</span><span class='unescape identifier id'>unescape</span><span class='lparen token'>(</span><span class='mb identifier id'>mb</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>username</h3>
</div><div id="username-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>username</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Gets the IMAP username.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/larch/imap.rb', line 228</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/rgrove/larch/blob/f091c4566f0e58df29b32150e0e2be9a3b4e3446/lib/larch/imap.rb#L228">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">228
229
230</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='username identifier id'>username</span>
  <span class='CGI constant id'>CGI</span><span class='dot token'>.</span><span class='unescape identifier id'>unescape</span><span class='lparen token'>(</span><span class='@uri ivar id'>@uri</span><span class='dot token'>.</span><span class='user identifier id'>user</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>