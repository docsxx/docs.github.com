<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>dvyjones's redcar - Module: Redcar::App - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/dvyjones/commits/redcar/master" rel="alternate" title="Recent Commits to redcar:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("dvyjones", "redcar", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='dvyjones/redcar/blob/b6f31adb9875a9f4439522d5879a7d736cee785f' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='dvyjones/redcar/blob/b6f31adb9875a9f4439522d5879a7d736cee785f' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("dvyjones", "redcar", "b6f31adb9875a9f4439522d5879a7d736cee785f", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/dvyjones/redcar/tree/">Source</a></li>
            <li class=""><a href="http://github.com/dvyjones/redcar/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/dvyjones/redcar/network">Network</a></li>            
            <li class=""><a href="http://github.com/dvyjones/redcar/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/dvyjones/redcar">Wiki</a></li>
            <li class=""><a href="http://github.com/dvyjones/redcar/graphs">Graphs</a></li>                    
            <li class="active"><a href="/dvyjones/redcar">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/dvyjones">dvyjones</a> / <b><a href="http://github.com/dvyjones/redcar/tree">redcar</a></b>        
                <a id="namespaces_button" rel="dvyjones/redcar/blob/b6f31adb9875a9f4439522d5879a7d736cee785f" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="dvyjones/redcar/blob/b6f31adb9875a9f4439522d5879a7d736cee785f" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section module Redcar_App">
  <h1>Module: Redcar::App</h1>
  <div class="section mixins">
  <h2>Included Modules</h2>
  <p>FreeBASE::DataBusHelper</p>
</div><div class="section docstring">
  <p>
Application wide configuration. App manages Redcar::Windows (of which there
may only be one currently).
</p>

</div><div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="ENV_VARS-constant">ENV_VARS</dt>
      <dd>%w(REDCAR_FEATURE_PROCESS RUBYLIB TM_RUBY TM_BUNDLE_SUPPORT TM_CURRENT_LINE)+      %w(TM_CURRENT_LINE TM_LINE_INDEX TM_LINE_NUMBER TM_SELECTED_TEXT)+      %w(TM_DIRECTORY TM_FILEPATH TM_SCOPE TM_SOFT_TABS TM_SUPPORT_PATH)+      %w(TM_TAB_SIZE TM_FILENAME)</dd>
    
  </dl>
</div>

</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-5B-5D-class_method">[]</span><span class='args'>(name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Retrieve a value associated with this key.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-5B-5D-3D-class_method">[]=</span><span class='args'>(key, val)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Set key-value pair to be stored in the databus.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#clipboard-class_method">clipboard</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#close_all_windows-class_method">close_all_windows</span><span class='args'>(close_if_no_win = true)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Closes all Redcar windows.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#close_window-class_method">close_window</span><span class='args'>(window, close_if_no_win = true)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Closes the given window.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#focussed_window-class_method">focussed_window</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the currently focussed window.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#home_dot_dir-class_method">home_dot_dir</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#init_paste_history-class_method">init_paste_history</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#load-class_method">load</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#log-class_method">log</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Application-wide logger.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#new_window-class_method">new_window</span><span class='args'>(focus = true)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Creates a new window.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#paste_history-class_method">paste_history</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#quit-class_method">quit</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Quits the application.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#set_environment_variables-class_method">set_environment_variables</span><span class='args'>(bundle = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#textmate_share_dir-class_method">textmate_share_dir</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#windows-class_method">windows</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns an array of all Redcar windows.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#with_cache-class_method">with_cache</span><span class='args'>(dir, name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Load a Marshalled object from the cache.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>[]</h3>
</div><div id="-5B-5D-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>[]</span><span class='args'>(name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Retrieve a value associated with this key. This may have been set in a
previous instance of the application.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/lib/core/app.rb', line 20</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/b6f31adb9875a9f4439522d5879a7d736cee785f/plugins/core/lib/core/app.rb#L20">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">20
21
22
23
24</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='slot identifier id'>slot</span> <span class='assign token'>=</span> <span class='bus identifier id'>bus</span><span class='lparen token'>(</span><span class='dstring node'>&quot;/redcar/appdata/#{name}&quot;</span><span class='comma token'>,</span> <span class='true true kw'>true</span><span class='rparen token'>)</span>
    <span class='slot identifier id'>slot</span><span class='dot token'>.</span><span class='data identifier id'>data</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>[]=</h3>
</div><div id="-5B-5D-3D-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>[]=</span><span class='args'>(key, val)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Set key-value pair to be stored in the databus. This is persistent across
application instances.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/lib/core/app.rb', line 14</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/b6f31adb9875a9f4439522d5879a7d736cee785f/plugins/core/lib/core/app.rb#L14">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">14
15
16</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='rparen token'>)</span>
  <span class='bus identifier id'>bus</span><span class='lparen token'>(</span><span class='dstring node'>&quot;/redcar/appdata/#{key}&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='data identifier id'>data</span> <span class='assign token'>=</span> <span class='val identifier id'>val</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>clipboard</h3>
</div><div id="clipboard-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>clipboard</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/lib/core/app.rb', line 137</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/b6f31adb9875a9f4439522d5879a7d736cee785f/plugins/core/lib/core/app.rb#L137">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">137
138
139</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='clipboard identifier id'>clipboard</span>
  <span class='Gtk constant id'>Gtk</span><span class='colon2 op'>::</span><span class='Clipboard constant id'>Clipboard</span><span class='dot token'>.</span><span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='Gdk constant id'>Gdk</span><span class='colon2 op'>::</span><span class='Atom constant id'>Atom</span><span class='dot token'>.</span><span class='intern identifier id'>intern</span><span class='lparen token'>(</span><span class='string val'>&quot;CLIPBOARD&quot;</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>close_all_windows</h3>
</div><div id="close_all_windows-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>close_all_windows</span><span class='args'>(close_if_no_win = true)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Closes all Redcar windows. If close_if_no_win is true (the default) then
Redcar will quit.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/lib/core/app.rb', line 105</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/b6f31adb9875a9f4439522d5879a7d736cee785f/plugins/core/lib/core/app.rb#L105">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">105
106
107
108
109</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='close_all_windows identifier id'>close_all_windows</span><span class='lparen token'>(</span><span class='close_if_no_win identifier id'>close_if_no_win</span><span class='assign token'>=</span><span class='true true kw'>true</span><span class='rparen token'>)</span>
  <span class='is_win identifier id'>is_win</span> <span class='assign token'>=</span> <span class='notop op'>!</span><span class='windows identifier id'>windows</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
  <span class='close_window identifier id'>close_window</span><span class='lparen token'>(</span><span class='@window ivar id'>@window</span><span class='comma token'>,</span> <span class='close_if_no_win identifier id'>close_if_no_win</span><span class='rparen token'>)</span>
  <span class='quit identifier id'>quit</span> <span class='if if_mod kw'>if</span> <span class='close_if_no_win identifier id'>close_if_no_win</span> <span class='and and kw'>and</span> <span class='is_win identifier id'>is_win</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>close_window</h3>
</div><div id="close_window-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>close_window</span><span class='args'>(window, close_if_no_win = true)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Closes the given window. If close_if_no_win is true (the default) then
Redcar will quit if there are no more windows.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/lib/core/app.rb', line 92</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/b6f31adb9875a9f4439522d5879a7d736cee785f/plugins/core/lib/core/app.rb#L92">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">92
93
94
95
96
97
98
99
100
101</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='close_window identifier id'>close_window</span><span class='lparen token'>(</span><span class='window identifier id'>window</span><span class='comma token'>,</span> <span class='close_if_no_win identifier id'>close_if_no_win</span><span class='assign token'>=</span><span class='true true kw'>true</span><span class='rparen token'>)</span>
  <span class='is_win identifier id'>is_win</span> <span class='assign token'>=</span> <span class='notop op'>!</span><span class='windows identifier id'>windows</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
  <span class='if if kw'>if</span> <span class='window identifier id'>window</span>
    <span class='Hook constant id'>Hook</span><span class='dot token'>.</span><span class='trigger identifier id'>trigger</span> <span class='symbol val'>:close_window</span> <span class='do do kw'>do</span>
      <span class='window identifier id'>window</span><span class='dot token'>.</span><span class='panes identifier id'>panes</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='pane identifier id'>pane</span><span class='bitor op'>|</span> <span class='pane identifier id'>pane</span><span class='dot token'>.</span><span class='tabs identifier id'>tabs</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='tab identifier id'>tab</span><span class='bitor op'>|</span> <span class='tab identifier id'>tab</span><span class='dot token'>.</span><span class='close identifier id'>close</span><span class='rbrace token'>}</span> <span class='rbrace token'>}</span>
      <span class='@window ivar id'>@window</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span> <span class='if if_mod kw'>if</span> <span class='window identifier id'>window</span> <span class='eq op'>==</span> <span class='@window ivar id'>@window</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='quit identifier id'>quit</span> <span class='if if_mod kw'>if</span> <span class='close_if_no_win identifier id'>close_if_no_win</span> <span class='and and kw'>and</span> <span class='is_win identifier id'>is_win</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>focussed_window</h3>
</div><div id="focussed_window-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>focussed_window</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the currently focussed window.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/lib/core/app.rb', line 86</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/b6f31adb9875a9f4439522d5879a7d736cee785f/plugins/core/lib/core/app.rb#L86">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">86
87
88</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='focussed_window identifier id'>focussed_window</span>
  <span class='@window ivar id'>@window</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>home_dot_dir</h3>
</div><div id="home_dot_dir-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>home_dot_dir</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/lib/core/app.rb', line 26</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/b6f31adb9875a9f4439522d5879a7d736cee785f/plugins/core/lib/core/app.rb#L26">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">26
27
28
29
30</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='home_dot_dir identifier id'>home_dot_dir</span>
  <span class='dir identifier id'>dir</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='expand_path identifier id'>expand_path</span><span class='lparen token'>(</span><span class='string val'>&quot;~/.redcar/&quot;</span><span class='rparen token'>)</span>
  <span class='FileUtils constant id'>FileUtils</span><span class='dot token'>.</span><span class='mkdir identifier id'>mkdir</span><span class='lparen token'>(</span><span class='dir identifier id'>dir</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='exist? fid id'>exist?</span><span class='lparen token'>(</span><span class='dir identifier id'>dir</span><span class='rparen token'>)</span>
  <span class='dir identifier id'>dir</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>init_paste_history</h3>
</div><div id="init_paste_history-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>init_paste_history</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/lib/core/app.rb', line 141</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/b6f31adb9875a9f4439522d5879a7d736cee785f/plugins/core/lib/core/app.rb#L141">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">141
142
143
144
145
146
147
148
149
150</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='init_paste_history identifier id'>init_paste_history</span>
  <span class='@paste_history ivar id'>@paste_history</span> <span class='assign token'>=</span> <span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='size identifier id'>size</span><span class='assign token'>=</span><span class='integer val'>0</span><span class='comma token'>,</span><span class='obj identifier id'>obj</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  
  <span class='def def kw'>def</span> <span class='@paste_history ivar id'>@paste_history</span><span class='dot token'>.</span><span class='push_with_limit identifier id'>push_with_limit</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='eq op'>==</span> <span class='integer val'>20</span><span class='rparen token'>)</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span>
    <span class='end end kw'>end</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>load</h3>
</div><div id="load-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>load</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/lib/core/app.rb', line 32</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/b6f31adb9875a9f4439522d5879a7d736cee785f/plugins/core/lib/core/app.rb#L32">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">32
33
34
35
36
37
38
39
40</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='load identifier id'>load</span>
  <span class='Hook constant id'>Hook</span><span class='dot token'>.</span><span class='register identifier id'>register</span> <span class='symbol val'>:open_window</span>
  <span class='Hook constant id'>Hook</span><span class='dot token'>.</span><span class='register identifier id'>register</span> <span class='symbol val'>:close_window</span>
  <span class='FreeBASE constant id'>FreeBASE</span><span class='colon2 op'>::</span><span class='Properties constant id'>Properties</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>&quot;Redcar Application Data&quot;</span><span class='comma token'>,</span>
                           <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='VERSION constant id'>VERSION</span><span class='comma token'>,</span>
                           <span class='bus identifier id'>bus</span><span class='lparen token'>(</span><span class='string val'>'/redcar/appdata'</span><span class='rparen token'>)</span><span class='comma token'>,</span>
                           <span class='home_dot_dir identifier id'>home_dot_dir</span> <span class='plus op'>+</span> <span class='string val'>&quot;/appdata.yaml&quot;</span><span class='rparen token'>)</span>
  <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='App constant id'>App</span><span class='lbrack token'>[</span><span class='symbol val'>:execution</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='App constant id'>App</span><span class='lbrack token'>[</span><span class='symbol val'>:execution</span><span class='rbrack token'>]</span><span class='orop op'>||</span><span class='integer val'>0</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='integer val'>1</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>log</h3>
</div><div id="log-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>log</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Application-wide logger. Plugins may use this for logging.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/lib/core/app.rb', line 59</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/b6f31adb9875a9f4439522d5879a7d736cee785f/plugins/core/lib/core/app.rb#L59">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">59
60
61
62
63
64
65
66
67
68
69</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='log identifier id'>log</span>
  <span class='if if kw'>if</span> <span class='ARGV constant id'>ARGV</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='string val'>&quot;--log&quot;</span><span class='rparen token'>)</span> <span class='or or kw'>or</span> <span class='in_features_process? fid id'>in_features_process?</span>
    <span class='if if kw'>if</span> <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='string val'>&quot;REDCAR_DEBUG&quot;</span><span class='rbrack token'>]</span>
      <span class='@logger ivar id'>@logger</span> <span class='opasgn op'>||=</span> <span class='Logger constant id'>Logger</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='STDOUT constant id'>STDOUT</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='@logger ivar id'>@logger</span> <span class='opasgn op'>||=</span> <span class='Logger constant id'>Logger</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='ROOT constant id'>ROOT</span> <span class='plus op'>+</span> <span class='string val'>&quot;/redcar.log&quot;</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='@logger ivar id'>@logger</span> <span class='opasgn op'>||=</span> <span class='Logger constant id'>Logger</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>new_window</h3>
</div><div id="new_window-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>new_window</span><span class='args'>(focus = true)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Creates a new window.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/lib/core/app.rb', line 72</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/b6f31adb9875a9f4439522d5879a7d736cee785f/plugins/core/lib/core/app.rb#L72">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">72
73
74
75
76
77
78</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='new_window identifier id'>new_window</span><span class='lparen token'>(</span><span class='focus identifier id'>focus</span> <span class='assign token'>=</span> <span class='true true kw'>true</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span> <span class='if if_mod kw'>if</span> <span class='@window ivar id'>@window</span>
  <span class='log identifier id'>log</span><span class='dot token'>.</span><span class='info identifier id'>info</span> <span class='string val'>&quot;[App] new window&quot;</span>
  <span class='Hook constant id'>Hook</span><span class='dot token'>.</span><span class='trigger identifier id'>trigger</span> <span class='symbol val'>:open_window</span> <span class='do do kw'>do</span>
    <span class='@window ivar id'>@window</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='Window constant id'>Window</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>paste_history</h3>
</div><div id="paste_history-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>paste_history</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/lib/core/app.rb', line 152</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/b6f31adb9875a9f4439522d5879a7d736cee785f/plugins/core/lib/core/app.rb#L152">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">152
153
154</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='paste_history identifier id'>paste_history</span>
  <span class='@paste_history ivar id'>@paste_history</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>quit</h3>
</div><div id="quit-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>quit</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Quits the application. All plugins are stopped first.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/lib/core/app.rb', line 43</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/b6f31adb9875a9f4439522d5879a7d736cee785f/plugins/core/lib/core/app.rb#L43">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">43
44
45
46
47
48
49
50
51
52
53
54
55</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='quit identifier id'>quit</span>
  <span class='puts identifier id'>puts</span> <span class='string val'>&quot;quit&quot;</span>
  <span class='windows identifier id'>windows</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='w identifier id'>w</span><span class='bitor op'>|</span>
    <span class='close_window identifier id'>close_window</span><span class='lparen token'>(</span><span class='w identifier id'>w</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='unless unless kw'>unless</span> <span class='@gtk_quit ivar id'>@gtk_quit</span>
    <span class='log identifier id'>log</span><span class='dot token'>.</span><span class='info identifier id'>info</span> <span class='string val'>&quot;[App] system shutdown&quot;</span>
    <span class='puts identifier id'>puts</span> <span class='symbol val'>:system_shutdow</span>
    <span class='bus identifier id'>bus</span><span class='lbrack token'>[</span><span class='string val'>&quot;/system/shutdown&quot;</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='Gtk constant id'>Gtk</span><span class='dot token'>.</span><span class='main_quit identifier id'>main_quit</span>
  <span class='end end kw'>end</span>
  <span class='@gtk_quit ivar id'>@gtk_quit</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>set_environment_variables</h3>
</div><div id="set_environment_variables-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>set_environment_variables</span><span class='args'>(bundle = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/lib/core/app.rb', line 162</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/b6f31adb9875a9f4439522d5879a7d736cee785f/plugins/core/lib/core/app.rb#L162">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='set_environment_variables identifier id'>set_environment_variables</span><span class='lparen token'>(</span><span class='bundle identifier id'>bundle</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='ENV_VARS constant id'>ENV_VARS</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='var identifier id'>var</span><span class='bitor op'>|</span>
    <span class='log identifier id'>log</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span> <span class='lbrace token'>{</span> <span class='dstring node'>&quot;deleting #{var.inspect}&quot;</span> <span class='rbrace token'>}</span>
    <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='var identifier id'>var</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='end end kw'>end</span>
  <span class='@env_variables ivar id'>@env_variables</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@env_variables ivar id'>@env_variables</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='bitor op'>|</span> <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rbrace token'>}</span>

  <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='string val'>'REDCAR_BIN'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='ROOT constant id'>ROOT</span> <span class='plus op'>+</span> <span class='string val'>&quot;/bin/redcar&quot;</span>
  <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='string val'>'RUBYLIB'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='string val'>'RUBYLIB'</span><span class='rbrack token'>]</span><span class='orop op'>||</span><span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span><span class='plus op'>+</span><span class='dstring node'>&quot;:#{textmate_share_dir}/Support/lib&quot;</span>
  <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='string val'>'TM_RUBY'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='Config constant id'>Config</span><span class='colon2 op'>::</span><span class='CONFIG constant id'>CONFIG</span><span class='lbrack token'>[</span><span class='string val'>'bindir'</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='Config constant id'>Config</span><span class='colon2 op'>::</span><span class='CONFIG constant id'>CONFIG</span><span class='lbrack token'>[</span><span class='string val'>'ruby_install_name'</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='string val'>'REDCAR_FEATURE_PROCESS'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='string val'>&quot;1&quot;</span> <span class='if if_mod kw'>if</span> <span class='in_features_process? fid id'>in_features_process?</span> <span class='or or kw'>or</span> <span class='ARGV constant id'>ARGV</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='string val'>&quot;--dbus-features&quot;</span><span class='rparen token'>)</span>
  
  <span class='if if kw'>if</span> <span class='bundle identifier id'>bundle</span>
    <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='string val'>'TM_BUNDLE_SUPPORT'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='bundle identifier id'>bundle</span><span class='dot token'>.</span><span class='dir identifier id'>dir</span><span class='plus op'>+</span><span class='string val'>&quot;/Support&quot;</span>
  <span class='end end kw'>end</span>
  <span class='current_scope identifier id'>current_scope</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='if if kw'>if</span> <span class='Redcar constant id'>Redcar</span><span class='dot token'>.</span><span class='tab identifier id'>tab</span> <span class='and and kw'>and</span> <span class='Redcar constant id'>Redcar</span><span class='dot token'>.</span><span class='tab identifier id'>tab</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='eq op'>==</span> <span class='string val'>&quot;Redcar::EditTab&quot;</span>
    <span class='line identifier id'>line</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='dot token'>.</span><span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='get_line identifier id'>get_line</span>
    <span class='line identifier id'>line</span> <span class='assign token'>=</span> <span class='line identifier id'>line</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>-2</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='line identifier id'>line</span><span class='lbrack token'>[</span><span class='float val'>-1</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='string val'>&quot;\n&quot;</span>
    <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='string val'>'TM_CURRENT_LINE'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='line identifier id'>line</span>
    <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='string val'>'TM_LINE_INDEX'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='dot token'>.</span><span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='cursor_line_offset identifier id'>cursor_line_offset</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
    <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='string val'>'TM_LINE_NUMBER'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='Redcar constant id'>Redcar</span><span class='dot token'>.</span><span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='cursor_line identifier id'>cursor_line</span><span class='plus op'>+</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
    <span class='if if kw'>if</span> <span class='Redcar constant id'>Redcar</span><span class='dot token'>.</span><span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='selection? fid id'>selection?</span>
      <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='string val'>'TM_SELECTED_TEXT'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='dot token'>.</span><span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='selection identifier id'>selection</span>
    <span class='end end kw'>end</span>
    <span class='if if kw'>if</span> <span class='Redcar constant id'>Redcar</span><span class='dot token'>.</span><span class='tab identifier id'>tab</span><span class='dot token'>.</span><span class='filename identifier id'>filename</span>
      <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='string val'>'TM_DIRECTORY'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='dirname identifier id'>dirname</span><span class='lparen token'>(</span><span class='Redcar constant id'>Redcar</span><span class='dot token'>.</span><span class='tab identifier id'>tab</span><span class='dot token'>.</span><span class='filename identifier id'>filename</span><span class='rparen token'>)</span>
      <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='string val'>'TM_FILEPATH'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='dot token'>.</span><span class='tab identifier id'>tab</span><span class='dot token'>.</span><span class='filename identifier id'>filename</span>
      <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='string val'>'TM_FILENAME'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='basename identifier id'>basename</span><span class='lparen token'>(</span><span class='Redcar constant id'>Redcar</span><span class='dot token'>.</span><span class='tab identifier id'>tab</span><span class='dot token'>.</span><span class='filename identifier id'>filename</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='if if kw'>if</span> <span class='Redcar constant id'>Redcar</span><span class='dot token'>.</span><span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='cursor_scope identifier id'>cursor_scope</span>
      <span class='current_scope identifier id'>current_scope</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='dot token'>.</span><span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='cursor_scope identifier id'>cursor_scope</span><span class='dot token'>.</span><span class='hierarchy_names identifier id'>hierarchy_names</span><span class='lparen token'>(</span><span class='true true kw'>true</span><span class='rparen token'>)</span>
      <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='string val'>'TM_SCOPE'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='current_scope identifier id'>current_scope</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='string val'>'TM_SOFT_TABS'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='string val'>&quot;YES&quot;</span>
  <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='string val'>'TM_SUPPORT_PATH'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='textmate_share_dir identifier id'>textmate_share_dir</span> <span class='plus op'>+</span> <span class='string val'>&quot;/Support&quot;</span>
  <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='string val'>'BASH_ENV'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{App.textmate_share_dir}/Support/lib/bash_init.sh&quot;</span>
  <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='string val'>'TM_TAB_SIZE'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='string val'>&quot;2&quot;</span>

  <span class='preferences identifier id'>preferences</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='Bundle constant id'>Bundle</span><span class='dot token'>.</span><span class='bundles identifier id'>bundles</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='this_bundle identifier id'>this_bundle</span><span class='bitor op'>|</span>
    <span class='this_bundle identifier id'>this_bundle</span><span class='dot token'>.</span><span class='preferences identifier id'>preferences</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='prefs identifier id'>prefs</span><span class='bitor op'>|</span>
      <span class='scope identifier id'>scope</span> <span class='assign token'>=</span> <span class='prefs identifier id'>prefs</span><span class='lbrack token'>[</span><span class='string val'>&quot;scope&quot;</span><span class='rbrack token'>]</span>
      <span class='if if kw'>if</span> <span class='scope identifier id'>scope</span>
        <span class='next next kw'>next</span> <span class='unless unless_mod kw'>unless</span> <span class='current_scope identifier id'>current_scope</span>
        <span class='next next kw'>next</span> <span class='unless unless_mod kw'>unless</span> <span class='match identifier id'>match</span> <span class='assign token'>=</span> <span class='Gtk constant id'>Gtk</span><span class='colon2 op'>::</span><span class='Mate constant id'>Mate</span><span class='colon2 op'>::</span><span class='Matcher constant id'>Matcher</span><span class='dot token'>.</span><span class='get_match identifier id'>get_match</span><span class='lparen token'>(</span><span class='scope identifier id'>scope</span><span class='comma token'>,</span> <span class='current_scope identifier id'>current_scope</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
      <span class='settings identifier id'>settings</span> <span class='assign token'>=</span> <span class='prefs identifier id'>prefs</span><span class='lbrack token'>[</span><span class='string val'>&quot;settings&quot;</span><span class='rbrack token'>]</span>
      <span class='if if kw'>if</span> <span class='shell_variables identifier id'>shell_variables</span> <span class='assign token'>=</span> <span class='settings identifier id'>settings</span><span class='lbrack token'>[</span><span class='string val'>&quot;shellVariables&quot;</span><span class='rbrack token'>]</span>
        <span class='if if kw'>if</span> <span class='preferences identifier id'>preferences</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span>
          <span class='prev_match identifier id'>prev_match</span><span class='comma token'>,</span> <span class='_ identifier id'>_</span> <span class='assign token'>=</span> <span class='preferences identifier id'>preferences</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span>
          <span class='if if kw'>if</span> <span class='Gtk constant id'>Gtk</span><span class='colon2 op'>::</span><span class='Mate constant id'>Mate</span><span class='colon2 op'>::</span><span class='Matcher constant id'>Matcher</span><span class='dot token'>.</span><span class='compare_match identifier id'>compare_match</span><span class='lparen token'>(</span><span class='current_scope identifier id'>current_scope</span><span class='comma token'>,</span> <span class='prev_match identifier id'>prev_match</span><span class='comma token'>,</span> <span class='match identifier id'>match</span><span class='rparen token'>)</span> <span class='lt op'>&lt;</span> <span class='integer val'>0</span>
            <span class='preferences identifier id'>preferences</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='match identifier id'>match</span><span class='comma token'>,</span> <span class='shell_variables identifier id'>shell_variables</span><span class='comma token'>,</span> <span class='this_bundle identifier id'>this_bundle</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span>
          <span class='end end kw'>end</span>
        <span class='else else kw'>else</span>
          <span class='preferences identifier id'>preferences</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='match identifier id'>match</span><span class='comma token'>,</span> <span class='shell_variables identifier id'>shell_variables</span><span class='comma token'>,</span> <span class='this_bundle identifier id'>this_bundle</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  
  <span class='preferences identifier id'>preferences</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='pair identifier id'>pair</span><span class='bitor op'>|</span>
    <span class='shell_variables identifier id'>shell_variables</span><span class='comma token'>,</span> <span class='bundle_name identifier id'>bundle_name</span> <span class='assign token'>=</span> <span class='mult op'>*</span><span class='pair identifier id'>pair</span><span class='lbrack token'>[</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span>
    <span class='shell_variables identifier id'>shell_variables</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='variable_hash identifier id'>variable_hash</span><span class='bitor op'>|</span>
      <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='variable_hash identifier id'>variable_hash</span><span class='lbrack token'>[</span><span class='string val'>&quot;name&quot;</span><span class='rbrack token'>]</span>
      <span class='@env_variables ivar id'>@env_variables</span> <span class='lshft op'>&lt;&lt;</span> <span class='name identifier id'>name</span> <span class='unless unless_mod kw'>unless</span> <span class='@env_variables ivar id'>@env_variables</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
      <span class='log identifier id'>log</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span> <span class='lbrace token'>{</span> <span class='dstring node'>&quot;setting #{name.inspect} to #{variable_hash[&quot;value&quot;].inspect} from #{bundle_name.inspect}&quot;</span> <span class='rbrace token'>}</span>
      <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='variable_hash identifier id'>variable_hash</span><span class='lbrack token'>[</span><span class='string val'>&quot;value&quot;</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>        
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>textmate_share_dir</h3>
</div><div id="textmate_share_dir-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>textmate_share_dir</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/lib/core/app.rb', line 236</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/b6f31adb9875a9f4439522d5879a7d736cee785f/plugins/core/lib/core/app.rb#L236">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">236
237
238</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='textmate_share_dir identifier id'>textmate_share_dir</span>
  <span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='ROOT constant id'>ROOT</span><span class='comma token'>,</span> <span class='string val'>&quot;textmate&quot;</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>windows</h3>
</div><div id="windows-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>windows</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns an array of all Redcar windows.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/lib/core/app.rb', line 81</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/b6f31adb9875a9f4439522d5879a7d736cee785f/plugins/core/lib/core/app.rb#L81">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">81
82
83</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='windows identifier id'>windows</span>
  <span class='lbrack token'>[</span><span class='@window ivar id'>@window</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='compact identifier id'>compact</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>with_cache</h3>
</div><div id="with_cache-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>with_cache</span><span class='args'>(dir, name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Load a Marshalled object from the cache.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/lib/core/app.rb', line 112</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/b6f31adb9875a9f4439522d5879a7d736cee785f/plugins/core/lib/core/app.rb#L112">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='with_cache identifier id'>with_cache</span><span class='lparen token'>(</span><span class='dir identifier id'>dir</span><span class='comma token'>,</span> <span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='cache_dir identifier id'>cache_dir</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='home_dot_dir identifier id'>home_dot_dir</span><span class='comma token'>,</span> <span class='string val'>&quot;cache&quot;</span><span class='rparen token'>)</span>
  <span class='unless unless kw'>unless</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='exist? fid id'>exist?</span><span class='lparen token'>(</span><span class='cache_dir identifier id'>cache_dir</span><span class='rparen token'>)</span>
    <span class='FileUtils constant id'>FileUtils</span><span class='dot token'>.</span><span class='mkdir identifier id'>mkdir</span><span class='lparen token'>(</span><span class='cache_dir identifier id'>cache_dir</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='cache_dir identifier id'>cache_dir</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='cache_dir identifier id'>cache_dir</span><span class='comma token'>,</span> <span class='string val'>&quot;0_2&quot;</span><span class='rparen token'>)</span>
  <span class='unless unless kw'>unless</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='exist? fid id'>exist?</span><span class='lparen token'>(</span><span class='cache_dir identifier id'>cache_dir</span><span class='rparen token'>)</span>
    <span class='FileUtils constant id'>FileUtils</span><span class='dot token'>.</span><span class='mkdir identifier id'>mkdir</span><span class='lparen token'>(</span><span class='cache_dir identifier id'>cache_dir</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  
  <span class='unless unless kw'>unless</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='exist? fid id'>exist?</span><span class='lparen token'>(</span><span class='this_dir identifier id'>this_dir</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='cache_dir identifier id'>cache_dir</span><span class='comma token'>,</span> <span class='dir identifier id'>dir</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='FileUtils constant id'>FileUtils</span><span class='dot token'>.</span><span class='mkdir identifier id'>mkdir</span> <span class='this_dir identifier id'>this_dir</span>
  <span class='end end kw'>end</span>
  <span class='cache_file identifier id'>cache_file</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='this_dir identifier id'>this_dir</span><span class='comma token'>,</span> <span class='dstring node'>&quot;#{name}.dump&quot;</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='exist? fid id'>exist?</span><span class='lparen token'>(</span><span class='cache_file identifier id'>cache_file</span><span class='rparen token'>)</span>
    <span class='obj identifier id'>obj</span> <span class='assign token'>=</span> <span class='Marshal constant id'>Marshal</span><span class='dot token'>.</span><span class='load identifier id'>load</span><span class='lparen token'>(</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='read identifier id'>read</span><span class='lparen token'>(</span><span class='cache_file identifier id'>cache_file</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='obj identifier id'>obj</span> <span class='assign token'>=</span> <span class='yield yield kw'>yield</span>
    <span class='File constant id'>File</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='cache_file identifier id'>cache_file</span><span class='comma token'>,</span> <span class='string val'>&quot;w&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='fout identifier id'>fout</span><span class='bitor op'>|</span>
      <span class='fout identifier id'>fout</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span> <span class='Marshal constant id'>Marshal</span><span class='dot token'>.</span><span class='dump identifier id'>dump</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='obj identifier id'>obj</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>