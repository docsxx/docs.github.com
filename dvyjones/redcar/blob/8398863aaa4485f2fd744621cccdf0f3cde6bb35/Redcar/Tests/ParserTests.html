<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>dvyjones's redcar - Class: Redcar::Tests::ParserTests - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/dvyjones/commits/redcar/master" rel="alternate" title="Recent Commits to redcar:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("dvyjones", "redcar", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("dvyjones", "redcar", "8398863aaa4485f2fd744621cccdf0f3cde6bb35", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/dvyjones/redcar/tree/">Source</a></li>
            <li class=""><a href="http://github.com/dvyjones/redcar/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/dvyjones/redcar/network">Network</a></li>            
            <li class=""><a href="http://github.com/dvyjones/redcar/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/dvyjones/redcar">Wiki</a></li>
            <li class=""><a href="http://github.com/dvyjones/redcar/graphs">Graphs</a></li>                    
            <li class="active"><a href="/dvyjones/redcar">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/dvyjones">dvyjones</a> / <b><a href="http://github.com/dvyjones/redcar/tree">redcar</a></b>        
                <a id="namespaces_button" rel="dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Redcar_Tests_ParserTests">
  <h1>Class: Redcar::Tests::ParserTests</h1>
  <div class="section inheritance">
  <ul>
  <li>Test::Unit::TestCase</li><ul><li>Redcar::Tests::ParserTests</li>
  </ul></ul>
</div><div class="section constants">
  
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#clean_parser_and_buffer-class_method">clean_parser_and_buffer</span><span class='args'>(grh)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_begin_and_end_captures_are_children_for_double_scope-instance_method">#atest_begin_and_end_captures_are_children_for_double_scope</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_bug-instance_method">#atest_bug</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_build_closing_regexp-instance_method">#atest_build_closing_regexp</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_captures_are_children_for_double_scope-instance_method">#atest_captures_are_children_for_double_scope</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_captures_are_children_for_single_scope-instance_method">#atest_captures_are_children_for_single_scope</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_delete_between-instance_method">#atest_delete_between</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_delete_line-instance_method">#atest_delete_line</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_delete_line_that_closes_scope-instance_method">#atest_delete_line_that_closes_scope</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_delete_line_that_opens_scope-instance_method">#atest_delete_line_that_opens_scope</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_delete_return_from_line-instance_method">#atest_delete_return_from_line</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_delete_text_that_closes_scope_from_line-instance_method">#atest_delete_text_that_closes_scope_from_line</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_delete_text_that_opens_scope_from_line-instance_method">#atest_delete_text_that_opens_scope_from_line</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_deletes_a_symbol_from_a_line-instance_method">#atest_deletes_a_symbol_from_a_line</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_deletes_a_whole_line-instance_method">#atest_deletes_a_whole_line</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_duplicate_nonclosing_bug-instance_method">#atest_duplicate_nonclosing_bug</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_embedded_grammar-instance_method">#atest_embedded_grammar</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_embedded_grammar2-instance_method">#atest_embedded_grammar2</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_embedded_grammar_delete_closing_scope-instance_method">#atest_embedded_grammar_delete_closing_scope</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_incremental_the_same_as_all_at_once-instance_method">#atest_incremental_the_same_as_all_at_once</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_insert-instance_method">#atest_insert</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_insert_in_line_bug_with_comments-instance_method">#atest_insert_in_line_bug_with_comments</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_insert_line-instance_method">#atest_insert_line</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_insert_new_lines-instance_method">#atest_insert_new_lines</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_insert_text_in_line_repeated-instance_method">#atest_insert_text_in_line_repeated</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_insert_text_in_line_repeated2-instance_method">#atest_insert_text_in_line_repeated2</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_insert_text_in_line_that_adds_a_closing_scope-instance_method">#atest_insert_text_in_line_that_adds_a_closing_scope</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_insert_text_in_line_that_adds_an_opening_scope-instance_method">#atest_insert_text_in_line_that_adds_an_opening_scope</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_insert_text_in_line_that_appends_a_scope-instance_method">#atest_insert_text_in_line_that_appends_a_scope</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_insert_text_in_line_that_contains_an_opening_scope-instance_method">#atest_insert_text_in_line_that_contains_an_opening_scope</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_insert_text_in_line_that_prepends_a_scope-instance_method">#atest_insert_text_in_line_that_prepends_a_scope</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_inserts_a_couple_of_lines_from_nothing-instance_method">#atest_inserts_a_couple_of_lines_from_nothing</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_inserts_a_line_between_two_lines-instance_method">#atest_inserts_a_line_between_two_lines</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_inserts_a_line_from_nothing-instance_method">#atest_inserts_a_line_from_nothing</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_inserts_a_symbol_into_a_line-instance_method">#atest_inserts_a_symbol_into_a_line</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_lisp_grammar-instance_method">#atest_lisp_grammar</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_multiline_parsing-instance_method">#atest_multiline_parsing</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_parse_line_with_begin_ends-instance_method">#atest_parse_line_with_begin_ends</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_parse_line_with_matches-instance_method">#atest_parse_line_with_matches</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_parse_line_with_nested_begin_ends-instance_method">#atest_parse_line_with_nested_begin_ends</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_parse_line_with_nesting-instance_method">#atest_parse_line_with_nesting</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_parse_line_with_repository-instance_method">#atest_parse_line_with_repository</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_parse_text_bug_for_included_base_pattern-instance_method">#atest_parse_text_bug_for_included_base_pattern</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_parser-instance_method">#atest_parser</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
&#8212; old tests ---.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_parsing_inserted_line_that_closes_scope-instance_method">#atest_parsing_inserted_line_that_closes_scope</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_parsing_inserted_line_that_opens_new_scope-instance_method">#atest_parsing_inserted_line_that_opens_new_scope</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_pattern_captures_form_a_tree-instance_method">#atest_pattern_captures_form_a_tree</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_re_parse_line-instance_method">#atest_re_parse_line</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Parse line should work repeatedly with no ill effects.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_re_parse_line_with_closing_scopes-instance_method">#atest_re_parse_line_with_closing_scopes</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_re_parse_line_with_extra_single_scopes-instance_method">#atest_re_parse_line_with_extra_single_scopes</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Reparsing should also work ok when there are new things.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_re_parse_line_with_opening_scopes-instance_method">#atest_re_parse_line_with_opening_scopes</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_ruby_syntax-instance_method">#atest_ruby_syntax</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_ruby_syntax2-instance_method">#atest_ruby_syntax2</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_signals_connected1-instance_method">#atest_signals_connected1</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#atest_signals_connected2-instance_method">#atest_signals_connected2</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#setup-instance_method">#setup</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#test_bug_with_multiple_endings-instance_method">#test_bug_with_multiple_endings</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>clean_parser_and_buffer</h3>
</div><div id="clean_parser_and_buffer-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>clean_parser_and_buffer</span><span class='args'>(grh)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 7</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L7">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='grh identifier id'>grh</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='grh identifier id'>grh</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='EditView constant id'>EditView</span><span class='colon2 op'>::</span><span class='Grammar constant id'>Grammar</span>
    <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='grh identifier id'>grh</span>
  <span class='elsif elsif kw'>elsif</span> <span class='grh identifier id'>grh</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span> <span class='String constant id'>String</span>
    <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='EditView constant id'>EditView</span><span class='colon2 op'>::</span><span class='Grammar constant id'>Grammar</span><span class='dot token'>.</span><span class='grammar identifier id'>grammar</span><span class='lparen token'>(</span><span class='symbol val'>:name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='grh identifier id'>grh</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='EditView constant id'>EditView</span><span class='colon2 op'>::</span><span class='Grammar constant id'>Grammar</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='grh identifier id'>grh</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='buf identifier id'>buf</span> <span class='assign token'>=</span> <span class='Gtk constant id'>Gtk</span><span class='colon2 op'>::</span><span class='SourceBuffer constant id'>SourceBuffer</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='sc identifier id'>sc</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='EditView constant id'>EditView</span><span class='colon2 op'>::</span><span class='Scope constant id'>Scope</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:pattern</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='gr identifier id'>gr</span><span class='comma token'>,</span>
                                   <span class='symbol val'>:grammar</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='gr identifier id'>gr</span><span class='comma token'>,</span>
                                   <span class='symbol val'>:start</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='TextLoc constant id'>TextLoc</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='integer val'>0</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='sc identifier id'>sc</span><span class='dot token'>.</span><span class='set_start_mark identifier id'>set_start_mark</span> <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='integer val'>0</span><span class='comma token'>,</span> <span class='true true kw'>true</span>
  <span class='sc identifier id'>sc</span><span class='dot token'>.</span><span class='set_end_mark identifier id'>set_end_mark</span>   <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='char_count identifier id'>char_count</span><span class='comma token'>,</span> <span class='false false kw'>false</span>
  <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='EditView constant id'>EditView</span><span class='colon2 op'>::</span><span class='Parser constant id'>Parser</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='sc identifier id'>sc</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='gr identifier id'>gr</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='parse_all identifier id'>parse_all</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
  <span class='return return kw'>return</span> <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_begin_and_end_captures_are_children_for_double_scope</h3>
</div><div id="atest_begin_and_end_captures_are_children_for_double_scope-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_begin_and_end_captures_are_children_for_double_scope</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 380</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L380">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_begin_and_end_captures_are_children_for_double_scope identifier id'>atest_begin_and_end_captures_are_children_for_double_scope</span>
  <span class='source identifier id'>source</span><span class='assign token'>=</span><span class='string val'>&quot;; Here is a comment\n(defun hello (x y)\n  (+ x y))\n(hello \&quot;foo\&quot; \&quot;bar\&quot;)\n&quot;</span><span class='semicolon token'>;</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='EditView constant id'>EditView</span><span class='colon2 op'>::</span><span class='Grammar constant id'>Grammar</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@lisp_grammar ivar id'>@lisp_grammar</span><span class='rparen token'>)</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='rparen token'>)</span>
  

  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;string.quoted.double.lisp&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;string.quoted.double.lisp&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;punctuation.definition.string.begin.lisp&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;punctuation.definition.string.end.lisp&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='end identifier id'>end</span><span class='comma token'>,</span> 
               <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='end identifier id'>end</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_bug</h3>
</div><div id="atest_bug-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_bug</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 901</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L901">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">901
902
903
904
905
906
907
908
909
910
911
912
913
914
915
916
917
918
919</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_bug identifier id'>atest_bug</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='source identifier id'>source</span><span class='assign token'>=</span><span class='string val'>&quot;#! /usr/bin/env ruby\n\nrequire File.dirname(__FILE__) + '/lib/redcar'\nRedcar.startup(:output =&gt; :silent)\nGtk.main\n&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='rparen token'>)</span>
  
  <span class='arr identifier id'>arr</span> <span class='assign token'>=</span> <span class='dstring node'>%w{p u t s}</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot; &quot;</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;\&quot;&quot;</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;h&quot;</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;#&quot;</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;{&quot;</span>
  <span class='arr identifier id'>arr</span><span class='dot token'>.</span><span class='each_with_index identifier id'>each_with_index</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='l identifier id'>l</span><span class='comma token'>,</span> <span class='i identifier id'>i</span><span class='bitor op'>|</span>
    <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='TextLoc constant id'>TextLoc</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='i identifier id'>i</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='l identifier id'>l</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='comment val'>#     iter = buf.iter(buf.line_end1(1).offset-1)</span>
<span class='comment val'>#     buf.delete(iter, buf.line_end1(1))</span>
<span class='comment val'>#     iter = buf.iter(buf.line_end1(1).offset-1)</span>
<span class='comment val'>#     buf.delete(iter, buf.line_end1(1))</span>
<span class='comment val'>#     iter = buf.iter(buf.line_end1(1).offset-1)</span>
<span class='comment val'>#     buf.delete(iter, buf.line_end1(1))</span>
<span class='comment val'>#     buf.insert(buf.line_end(1), &quot;\&quot;&quot;)</span>
<span class='comment val'>#     assert_equal 2, smp.root.children[1].children.length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_build_closing_regexp</h3>
</div><div id="atest_build_closing_regexp-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_build_closing_regexp</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 452</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L452">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_build_closing_regexp identifier id'>atest_build_closing_regexp</span>
  <span class='hash identifier id'>hash</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span>
    <span class='string val'>&quot;scopeName&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;source.example1&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;patterns&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span> 
                   <span class='lbrace token'>{</span> <span class='string val'>&quot;name&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;text.heredoc&quot;</span><span class='comma token'>,</span>
                     <span class='string val'>&quot;begin&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;=&lt;&lt;(\\w+):(\\w+)$&quot;</span><span class='comma token'>,</span> 
                     <span class='string val'>&quot;end&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'^\1,\2$'</span>
                   <span class='rbrace token'>}</span>
                  <span class='rbrack token'>]</span> 
  <span class='rbrace token'>}</span>
  
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span><span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='EditView constant id'>EditView</span><span class='colon2 op'>::</span><span class='Grammar constant id'>Grammar</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='hash identifier id'>hash</span><span class='rparen token'>)</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='md identifier id'>md</span> <span class='assign token'>=</span> <span class='gr identifier id'>gr</span><span class='dot token'>.</span><span class='pattern identifier id'>pattern</span><span class='lparen token'>(</span><span class='string val'>&quot;text.heredoc&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='begin identifier id'>begin</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='string val'>&quot;text=\&lt;\&lt;END:FOR&quot;</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;^END,FOR$&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='build_closing_regexp identifier id'>build_closing_regexp</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='dot token'>.</span><span class='pattern identifier id'>pattern</span><span class='lparen token'>(</span><span class='string val'>&quot;text.heredoc&quot;</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='md identifier id'>md</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_captures_are_children_for_double_scope</h3>
</div><div id="atest_captures_are_children_for_double_scope-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_captures_are_children_for_double_scope</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 363</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L363">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_captures_are_children_for_double_scope identifier id'>atest_captures_are_children_for_double_scope</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='rubycode identifier id'>rubycode</span> <span class='assign token'>=</span> <span class='string val'>&quot;puts \&quot;\#{1+2}\&quot;&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='rubycode identifier id'>rubycode</span><span class='rparen token'>)</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;source.ruby.embedded.source&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span>
    <span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='pattern identifier id'>pattern</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='string val'>&quot;punctuation.section.embedded.ruby&quot;</span><span class='comma token'>,</span>
                <span class='string val'>&quot;constant.numeric.ruby&quot;</span><span class='comma token'>,</span>
                <span class='string val'>&quot;keyword.operator.arithmetic.ruby&quot;</span><span class='comma token'>,</span>
                <span class='string val'>&quot;constant.numeric.ruby&quot;</span><span class='comma token'>,</span>
                <span class='string val'>&quot;punctuation.section.embedded.ruby&quot;</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
               <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='c identifier id'>c</span><span class='bitor op'>|</span> <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_captures_are_children_for_single_scope</h3>
</div><div id="atest_captures_are_children_for_single_scope-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_captures_are_children_for_single_scope</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 348</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L348">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">348
349
350
351
352
353
354
355
356</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_captures_are_children_for_single_scope identifier id'>atest_captures_are_children_for_single_scope</span>
  <span class='source identifier id'>source</span><span class='assign token'>=</span><span class='string val'>&quot;; Here is a comment\n(defun hello (x y)\n  (+ x y))\n&quot;</span><span class='semicolon token'>;</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span><span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='EditView constant id'>EditView</span><span class='colon2 op'>::</span><span class='Grammar constant id'>Grammar</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@lisp_grammar ivar id'>@lisp_grammar</span><span class='rparen token'>)</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;comment.line.semicolon.lisp&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;punctuation.definition.comment.lisp&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_delete_between</h3>
</div><div id="atest_delete_between-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_delete_between</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 877</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L877">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">877
878
879
880
881
882
883
884
885
886
887</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_delete_between identifier id'>atest_delete_between</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='source identifier id'>source</span><span class='assign token'>=</span><span class='string val'>&quot;#! /usr/bin/env ruby\n\nrequire File.dirname(__FILE__) + '/lib/redcar'\nRedcar.startup(:output =&gt; :silent)\nGtk.main\n&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='rparen token'>)</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='TextLoc constant id'>TextLoc</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='integer val'>7</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='TextLoc constant id'>TextLoc</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='comma token'>,</span> <span class='integer val'>9</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  
  <span class='new_source identifier id'>new_source</span><span class='assign token'>=</span><span class='string val'>&quot;#! /usrartup(:output =&gt; :silent)\nGtk.main\n&quot;</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='new_source identifier id'>new_source</span><span class='comma token'>,</span> <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>3</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_delete_line</h3>
</div><div id="atest_delete_line-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_delete_line</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 686</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L686">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">686
687
688
689
690
691
692
693
694
695</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_delete_line identifier id'>atest_delete_line</span> 
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='rubycode identifier id'>rubycode</span> <span class='assign token'>=</span> <span class='string val'>&quot;class Redcar::File\n  def nice_name\n    @filename.split(\&quot;/\&quot;).last\n  end\nend\n&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='rubycode identifier id'>rubycode</span><span class='rparen token'>)</span>
  
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_start identifier id'>line_start</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_end identifier id'>line_end</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>5</span><span class='comma token'>,</span> <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_count identifier id'>line_count</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>4</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_delete_line_that_closes_scope</h3>
</div><div id="atest_delete_line_that_closes_scope-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_delete_line_that_closes_scope</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 716</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L716">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">716
717
718
719
720
721
722
723
724
725
726</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_delete_line_that_closes_scope identifier id'>atest_delete_line_that_closes_scope</span>
  <span class='source identifier id'>source</span><span class='assign token'>=</span><span class='string val'>&quot;puts \&quot;hello\&quot;\nfoo=&lt;&lt;HI\n  Here.foo\n  Here.foo\nHI\nputs \&quot;hello\&quot;\n&quot;</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='rparen token'>)</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>3</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_start identifier id'>line_start</span><span class='lparen token'>(</span><span class='integer val'>4</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_end identifier id'>line_end</span><span class='lparen token'>(</span><span class='integer val'>4</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='integer val'>1</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='c identifier id'>c</span><span class='bitor op'>|</span><span class='c identifier id'>c</span><span class='dot token'>.</span><span class='start identifier id'>start</span><span class='dot token'>.</span><span class='line identifier id'>line</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_delete_line_that_opens_scope</h3>
</div><div id="atest_delete_line_that_opens_scope-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_delete_line_that_opens_scope</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 697</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L697">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">697
698
699
700
701
702
703
704
705
706</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_delete_line_that_opens_scope identifier id'>atest_delete_line_that_opens_scope</span>
  <span class='source identifier id'>source</span><span class='assign token'>=</span><span class='string val'>&quot;puts \&quot;hello\&quot;\nfoo=\\&lt;\\&lt;HI\n  Here.foo\n  Here.foo\nHI\nputs \&quot;hello\&quot;\n&quot;</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='rparen token'>)</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>3</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_start identifier id'>line_start</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_end identifier id'>line_end</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>7</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_delete_return_from_line</h3>
</div><div id="atest_delete_return_from_line-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_delete_return_from_line</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 676</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L676">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">676
677
678
679
680
681
682
683
684</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_delete_return_from_line identifier id'>atest_delete_return_from_line</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='rubycode identifier id'>rubycode</span> <span class='assign token'>=</span> <span class='string val'>&quot;class Redcar::File\n  def nice_name\n    @filename.split(\&quot;/\&quot;).last\n  end\nend\n&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='rubycode identifier id'>rubycode</span><span class='rparen token'>)</span>
  
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_end1 identifier id'>line_end1</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_end identifier id'>line_end</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>4</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_delete_text_that_closes_scope_from_line</h3>
</div><div id="atest_delete_text_that_closes_scope_from_line-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_delete_text_that_closes_scope_from_line</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 656</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L656">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">656
657
658
659
660
661
662
663
664
665
666</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_delete_text_that_closes_scope_from_line identifier id'>atest_delete_text_that_closes_scope_from_line</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='rubycode identifier id'>rubycode</span><span class='assign token'>=</span><span class='string val'>&quot;puts \&quot;hello\&quot;\nfoo=\\&lt;\\&lt;HI\n  Here.foo\n  Here.foo\nHI\nputs \&quot;hello\&quot;\n&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='rubycode identifier id'>rubycode</span><span class='rparen token'>)</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>3</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='off identifier id'>off</span> <span class='assign token'>=</span> <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_start identifier id'>line_start</span><span class='lparen token'>(</span><span class='integer val'>4</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='offset identifier id'>offset</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='off identifier id'>off</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='off identifier id'>off</span><span class='plus op'>+</span><span class='integer val'>2</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_delete_text_that_opens_scope_from_line</h3>
</div><div id="atest_delete_text_that_opens_scope_from_line-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_delete_text_that_opens_scope_from_line</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 636</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L636">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">636
637
638
639
640
641
642
643
644
645
646</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_delete_text_that_opens_scope_from_line identifier id'>atest_delete_text_that_opens_scope_from_line</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='rubycode identifier id'>rubycode</span><span class='assign token'>=</span><span class='string val'>&quot;puts \&quot;hello\&quot;\nfoo=\\&lt;\\&lt;HI\n  Here.foo\n  Here.foo\nHI\nputs \&quot;hello\&quot;\n&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='rubycode identifier id'>rubycode</span><span class='rparen token'>)</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>3</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='off identifier id'>off</span> <span class='assign token'>=</span> <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_start identifier id'>line_start</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='offset identifier id'>offset</span><span class='plus op'>+</span><span class='integer val'>2</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='off identifier id'>off</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='off identifier id'>off</span><span class='plus op'>+</span><span class='integer val'>2</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>9</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_deletes_a_symbol_from_a_line</h3>
</div><div id="atest_deletes_a_symbol_from_a_line-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_deletes_a_symbol_from_a_line</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 76</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L76">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">76
77
78
79
80
81</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_deletes_a_symbol_from_a_line identifier id'>atest_deletes_a_symbol_from_a_line</span>
  <span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;puts(:symbol)&quot;</span><span class='rparen token'>)</span>
  <span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='integer val'>5</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='integer val'>12</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;puts()&quot;</span><span class='comma token'>,</span> <span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='@root ivar id'>@root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_deletes_a_whole_line</h3>
</div><div id="atest_deletes_a_whole_line-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_deletes_a_whole_line</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 83</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L83">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">83
84
85
86
87</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_deletes_a_whole_line identifier id'>atest_deletes_a_whole_line</span>
  <span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;class &lt; Red\ndef foo\nend&quot;</span><span class='rparen token'>)</span>
  <span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='integer val'>12</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='integer val'>20</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>4</span><span class='comma token'>,</span> <span class='@root ivar id'>@root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_duplicate_nonclosing_bug</h3>
</div><div id="atest_duplicate_nonclosing_bug-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_duplicate_nonclosing_bug</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 978</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L978">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">978
979
980
981
982
983
984
985
986
987
988
989
990</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_duplicate_nonclosing_bug identifier id'>atest_duplicate_nonclosing_bug</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='EditView constant id'>EditView</span><span class='colon2 op'>::</span><span class='Grammar constant id'>Grammar</span><span class='dot token'>.</span><span class='grammar identifier id'>grammar</span> <span class='symbol val'>:name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'Ruby'</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span>
  
  <span class='arr identifier id'>arr</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;p&quot;</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot; &quot;</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;\&quot;&quot;</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;a&quot;</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;\&quot;&quot;</span>
  <span class='arr identifier id'>arr</span><span class='dot token'>.</span><span class='each_with_index identifier id'>each_with_index</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='l identifier id'>l</span><span class='comma token'>,</span> <span class='i identifier id'>i</span><span class='bitor op'>|</span>
    <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='char_count identifier id'>char_count</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='l identifier id'>l</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='char_count identifier id'>char_count</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;\n&quot;</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_embedded_grammar</h3>
</div><div id="atest_embedded_grammar-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_embedded_grammar</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 928</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L928">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">928
929
930
931
932
933
934
935
936</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_embedded_grammar identifier id'>atest_embedded_grammar</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='source identifier id'>source</span><span class='assign token'>=</span><span class='string val'>&quot;#! /usr/bin/env ruby\nfoo&lt;&lt;-HTML\n&lt;p&gt;Foo&lt;/p&gt;\nHTML\n&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='rparen token'>)</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;string.unquoted.embedded.html.ruby&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;meta.tag.block.any.html&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_embedded_grammar2</h3>
</div><div id="atest_embedded_grammar2-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_embedded_grammar2</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 944</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L944">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">944
945
946
947
948
949
950
951
952</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_embedded_grammar2 identifier id'>atest_embedded_grammar2</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='EditView constant id'>EditView</span><span class='colon2 op'>::</span><span class='Grammar constant id'>Grammar</span><span class='dot token'>.</span><span class='grammar identifier id'>grammar</span> <span class='symbol val'>:name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'Ruby'</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='source identifier id'>source</span><span class='assign token'>=</span><span class='string val'>&quot;    html_template=&lt;&lt;-HTML\n  &lt;title&gt;&lt;%= :foo %&gt;&lt;/title&gt;\nHTML\n&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='rparen token'>)</span>
  
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='string val'>&quot;constant.other.symbol.ruby&quot;</span><span class='comma token'>,</span>
               <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_embedded_grammar_delete_closing_scope</h3>
</div><div id="atest_embedded_grammar_delete_closing_scope-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_embedded_grammar_delete_closing_scope</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 959</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L959">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">959
960
961
962
963
964
965
966
967
968
969
970</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_embedded_grammar_delete_closing_scope identifier id'>atest_embedded_grammar_delete_closing_scope</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='EditView constant id'>EditView</span><span class='colon2 op'>::</span><span class='Grammar constant id'>Grammar</span><span class='dot token'>.</span><span class='grammar identifier id'>grammar</span> <span class='symbol val'>:name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'Ruby'</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='source identifier id'>source</span><span class='assign token'>=</span><span class='string val'>&quot;    html_template=&lt;&lt;-HTML\n  &lt;title&gt;&lt;%= :foo %&gt;&lt;/title&gt;\nHTML\nFile\n&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='rparen token'>)</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>3</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;variable.other.constant.ruby&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='last identifier id'>last</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='TextLoc constant id'>TextLoc</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='comma token'>,</span> <span class='integer val'>2</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='TextLoc constant id'>TextLoc</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='comma token'>,</span> <span class='integer val'>4</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_incremental_the_same_as_all_at_once</h3>
</div><div id="atest_incremental_the_same_as_all_at_once-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_incremental_the_same_as_all_at_once</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 992</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L992">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">992
993
994
995
996
997
998
999
1000
1001
1002
1003
1004
1005</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_incremental_the_same_as_all_at_once identifier id'>atest_incremental_the_same_as_all_at_once</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='EditView constant id'>EditView</span><span class='colon2 op'>::</span><span class='Grammar constant id'>Grammar</span><span class='dot token'>.</span><span class='grammar identifier id'>grammar</span> <span class='symbol val'>:name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'Ruby'</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='source identifier id'>source</span><span class='assign token'>=</span><span class='string val'>&quot;foo=&lt;&lt;H\n&quot;</span>
  <span class='source identifier id'>source</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>-2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>//</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='l identifier id'>l</span><span class='bitor op'>|</span>
    <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='char_count identifier id'>char_count</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='l identifier id'>l</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  
  <span class='gr1 identifier id'>gr1</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='EditView constant id'>EditView</span><span class='colon2 op'>::</span><span class='Grammar constant id'>Grammar</span><span class='dot token'>.</span><span class='grammar identifier id'>grammar</span> <span class='symbol val'>:name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'Ruby'</span>
  <span class='buf1 identifier id'>buf1</span><span class='comma token'>,</span> <span class='smp1 identifier id'>smp1</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr1 identifier id'>gr1</span><span class='rparen token'>)</span>
  <span class='buf1 identifier id'>buf1</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>-2</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='pretty2 identifier id'>pretty2</span><span class='comma token'>,</span> <span class='smp1 identifier id'>smp1</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='pretty2 identifier id'>pretty2</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_insert</h3>
</div><div id="atest_insert-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_insert</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 792</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L792">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">792
793
794
795
796
797
798
799
800
801
802
803
804</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_insert identifier id'>atest_insert</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='source identifier id'>source</span><span class='assign token'>=</span><span class='string val'>&quot;#! /usr/bin/env ruby\n\nrequire File.dirname(__FILE__) + '/lib/redcar'\nRedcar.startup(:output =&gt; :silent)\nGtk.main\n&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='rparen token'>)</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>11</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='TextLoc constant id'>TextLoc</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='comma token'>,</span> <span class='integer val'>14</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;\nclass Red; attr :foo; end\nFile.rm&quot;</span><span class='rparen token'>)</span>
  <span class='newsource identifier id'>newsource</span><span class='assign token'>=</span><span class='string val'>&quot;#! /usr/bin/env ruby\n\nrequire File.dirname(__FILE__) + '/lib/redcar'\nRedcar.startup\nclass Red; attr :foo; end\nFile.rm(:output =&gt; :silent)\nGtk.main\n&quot;</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='newsource identifier id'>newsource</span><span class='comma token'>,</span> <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>19</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_insert_in_line_bug_with_comments</h3>
</div><div id="atest_insert_in_line_bug_with_comments-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_insert_in_line_bug_with_comments</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 625</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L625">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">625
626
627
628
629
630
631
632
633
634</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_insert_in_line_bug_with_comments identifier id'>atest_insert_in_line_bug_with_comments</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='initcode identifier id'>initcode</span> <span class='assign token'>=</span> <span class='string val'>&quot;# Comment line one&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='initcode identifier id'>initcode</span><span class='rparen token'>)</span>
  <span class='dstring node'>%w(R e)</span><span class='dot token'>.</span><span class='each_with_index identifier id'>each_with_index</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='l identifier id'>l</span><span class='comma token'>,</span> <span class='i identifier id'>i</span><span class='bitor op'>|</span>
    <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='TextLoc constant id'>TextLoc</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='i identifier id'>i</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='l identifier id'>l</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_insert_line</h3>
</div><div id="atest_insert_line-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_insert_line</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 736</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L736">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">736
737
738
739
740
741
742
743
744
745
746
747</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_insert_line identifier id'>atest_insert_line</span>
  <span class='source identifier id'>source</span><span class='assign token'>=</span><span class='string val'>&quot;puts \&quot;hello\&quot;\nfoo=&lt;&lt;HI\n  Here.foo\n  Here.foo\nHI\nputs \&quot;hello\&quot;\n&quot;</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='rparen token'>)</span>

  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>3</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_start identifier id'>line_start</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;@foobar\n&quot;</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>4</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_start identifier id'>line_start</span><span class='lparen token'>(</span><span class='integer val'>6</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;puts \&quot;woot\&quot;\n&quot;</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>5</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_insert_new_lines</h3>
</div><div id="atest_insert_new_lines-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_insert_new_lines</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 822</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L822">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">822
823
824
825
826
827
828
829
830
831
832
833
834
835
836
837
838
839
840
841</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_insert_new_lines identifier id'>atest_insert_new_lines</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='source identifier id'>source</span><span class='assign token'>=</span><span class='string val'>&quot;#! /usr/bin/env ruby\n\nrequire File.dirname(__FILE__) + '/lib/redcar'\nRedcar.startup(:output =&gt; :silent)\nGtk.main\n&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>11</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_start identifier id'>line_start</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;\n&quot;</span><span class='rparen token'>)</span>
  <span class='newsource identifier id'>newsource</span><span class='assign token'>=</span><span class='string val'>&quot;#! /usr/bin/env ruby\n\nrequire File.dirname(__FILE__) + '/lib/redcar'\n\nRedcar.startup(:output =&gt; :silent)\nGtk.main\n&quot;</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='newsource identifier id'>newsource</span><span class='comma token'>,</span> <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>11</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='TextLoc constant id'>TextLoc</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='comma token'>,</span> <span class='integer val'>0</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;\n&quot;</span><span class='rparen token'>)</span>
  <span class='newsource identifier id'>newsource</span><span class='assign token'>=</span><span class='string val'>&quot;#! /usr/bin/env ruby\n\nrequire File.dirname(__FILE__) + '/lib/redcar'\n\n\nRedcar.startup(:output =&gt; :silent)\nGtk.main\n&quot;</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>11</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='TextLoc constant id'>TextLoc</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='comma token'>,</span> <span class='integer val'>0</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;\n&quot;</span><span class='rparen token'>)</span>
  <span class='newsource identifier id'>newsource</span><span class='assign token'>=</span><span class='string val'>&quot;#! /usr/bin/env ruby\n\nrequire File.dirname(__FILE__) + '/lib/redcar'\n\n\n\nRedcar.startup(:output =&gt; :silent)\nGtk.main\n&quot;</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>11</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_insert_text_in_line_repeated</h3>
</div><div id="atest_insert_text_in_line_repeated-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_insert_text_in_line_repeated</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 573</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L573">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_insert_text_in_line_repeated identifier id'>atest_insert_text_in_line_repeated</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='initcode identifier id'>initcode</span> <span class='assign token'>=</span> <span class='string val'>&quot;# Comment line one\n# Comment line two\n&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='initcode identifier id'>initcode</span><span class='rparen token'>)</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  
  <span class='dstring node'>%w{F i l e}</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='l identifier id'>l</span><span class='bitor op'>|</span>
    <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_end1 identifier id'>line_end1</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='l identifier id'>l</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>3</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='new_scope identifier id'>new_scope</span> <span class='assign token'>=</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='integer val'>4</span><span class='comma token'>,</span> <span class='string val'>&quot;variable.other.constant.ruby&quot;</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
               <span class='lbrack token'>[</span><span class='new_scope identifier id'>new_scope</span><span class='dot token'>.</span><span class='start identifier id'>start</span><span class='dot token'>.</span><span class='offset identifier id'>offset</span><span class='comma token'>,</span>
                <span class='new_scope identifier id'>new_scope</span><span class='dot token'>.</span><span class='end identifier id'>end</span><span class='dot token'>.</span><span class='offset identifier id'>offset</span><span class='comma token'>,</span>
                <span class='new_scope identifier id'>new_scope</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_end1 identifier id'>line_end1</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;.&quot;</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>4</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='new_scope identifier id'>new_scope</span> <span class='assign token'>=</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='integer val'>4</span><span class='comma token'>,</span> <span class='string val'>&quot;variable.other.constant.ruby&quot;</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
               <span class='lbrack token'>[</span><span class='new_scope identifier id'>new_scope</span><span class='dot token'>.</span><span class='start identifier id'>start</span><span class='dot token'>.</span><span class='offset identifier id'>offset</span><span class='comma token'>,</span>
                <span class='new_scope identifier id'>new_scope</span><span class='dot token'>.</span><span class='end identifier id'>end</span><span class='dot token'>.</span><span class='offset identifier id'>offset</span><span class='comma token'>,</span>
                <span class='new_scope identifier id'>new_scope</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_insert_text_in_line_repeated2</h3>
</div><div id="atest_insert_text_in_line_repeated2-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_insert_text_in_line_repeated2</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 601</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L601">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_insert_text_in_line_repeated2 identifier id'>atest_insert_text_in_line_repeated2</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='string val'>&quot;puts \&quot;hello &quot;</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>//</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='l identifier id'>l</span><span class='bitor op'>|</span>
    <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_end1 identifier id'>line_end1</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='l identifier id'>l</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='str_scope identifier id'>str_scope</span> <span class='assign token'>=</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;string.quoted.double.ruby&quot;</span><span class='comma token'>,</span> <span class='str_scope identifier id'>str_scope</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>5</span><span class='comma token'>,</span> <span class='str_scope identifier id'>str_scope</span><span class='dot token'>.</span><span class='start identifier id'>start</span><span class='dot token'>.</span><span class='offset identifier id'>offset</span>
  <span class='string val'>&quot;\#{1+2&quot;</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>//</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='l identifier id'>l</span><span class='bitor op'>|</span>
    <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_end1 identifier id'>line_end1</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='l identifier id'>l</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='emb_scope identifier id'>emb_scope</span> <span class='assign token'>=</span> <span class='str_scope identifier id'>str_scope</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>4</span><span class='comma token'>,</span> <span class='emb_scope identifier id'>emb_scope</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='string val'>&quot;}\&quot;&quot;</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>//</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='l identifier id'>l</span><span class='bitor op'>|</span>
    <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_end1 identifier id'>line_end1</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='l identifier id'>l</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='emb_scope identifier id'>emb_scope</span> <span class='assign token'>=</span> <span class='str_scope identifier id'>str_scope</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>5</span><span class='comma token'>,</span> <span class='emb_scope identifier id'>emb_scope</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>3</span><span class='comma token'>,</span> <span class='str_scope identifier id'>str_scope</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_insert_text_in_line_that_adds_a_closing_scope</h3>
</div><div id="atest_insert_text_in_line_that_adds_a_closing_scope-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_insert_text_in_line_that_adds_a_closing_scope</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 552</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L552">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">552
553
554
555
556
557
558
559
560
561
562
563</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_insert_text_in_line_that_adds_a_closing_scope identifier id'>atest_insert_text_in_line_that_adds_a_closing_scope</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='rubycode identifier id'>rubycode</span><span class='assign token'>=</span><span class='string val'>&quot;puts \&quot;hello\&quot;\nfoo=\\&lt;\\&lt;HI\n  Here.foo\n  Here.foo\n\nputs \&quot;hello\&quot;\n&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='rubycode identifier id'>rubycode</span><span class='rparen token'>)</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_start identifier id'>line_start</span><span class='lparen token'>(</span><span class='integer val'>4</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;HI&quot;</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>3</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;string.unquoted.heredoc.ruby&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_insert_text_in_line_that_adds_an_opening_scope</h3>
</div><div id="atest_insert_text_in_line_that_adds_an_opening_scope-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_insert_text_in_line_that_adds_an_opening_scope</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 530</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L530">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">530
531
532
533
534
535
536
537
538
539
540
541
542
543</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_insert_text_in_line_that_adds_an_opening_scope identifier id'>atest_insert_text_in_line_that_adds_an_opening_scope</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>

  <span class='rubycode identifier id'>rubycode</span><span class='assign token'>=</span><span class='string val'>&quot;class Redcar::File\n  def nice_name\n    @filename.split(\\\&quot;/\\\&quot;).last\n  end\nend\n&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='rubycode identifier id'>rubycode</span><span class='rparen token'>)</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>10</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_end1 identifier id'>line_end1</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;=\&lt;\&lt;HI&quot;</span><span class='rparen token'>)</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>9</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;string.unquoted.heredoc.ruby&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='last identifier id'>last</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_insert_text_in_line_that_appends_a_scope</h3>
</div><div id="atest_insert_text_in_line_that_appends_a_scope-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_insert_text_in_line_that_appends_a_scope</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 492</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L492">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">492
493
494
495
496
497
498
499
500
501
502</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_insert_text_in_line_that_appends_a_scope identifier id'>atest_insert_text_in_line_that_appends_a_scope</span>
      <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
      <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
      <span class='rubycode identifier id'>rubycode</span><span class='assign token'>=</span><span class='string val'>&quot;class Redcar::File\n  def nice_name\n    @filename.split(\\\&quot;/\\\&quot;).last\n  end\nend\n&quot;</span>
    <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='rubycode identifier id'>rubycode</span><span class='rparen token'>)</span>
    
    <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>10</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
    
    <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_end identifier id'>line_end</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='offset identifier id'>offset</span><span class='minus op'>-</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;(\&quot;asdf\&quot;)&quot;</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>13</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_insert_text_in_line_that_contains_an_opening_scope</h3>
</div><div id="atest_insert_text_in_line_that_contains_an_opening_scope-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_insert_text_in_line_that_contains_an_opening_scope</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 469</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L469">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">469
470
471
472
473
474
475
476
477
478
479
480
481
482</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_insert_text_in_line_that_contains_an_opening_scope identifier id'>atest_insert_text_in_line_that_contains_an_opening_scope</span>
  <span class='source identifier id'>source</span><span class='assign token'>=</span><span class='string val'>&quot;puts \&quot;hello\&quot;\nfoo=\\&lt;\\&lt;HI\n  Here.foo\n  Here.foo\nHI\nputs \&quot;hello\&quot;\n&quot;</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='rparen token'>)</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>3</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='assert identifier id'>assert</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='end identifier id'>end</span> <span class='comment val'># heredoc is closed</span>
  
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_start identifier id'>line_start</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;a;&quot;</span><span class='rparen token'>)</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>4</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='assert identifier id'>assert</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='end identifier id'>end</span> <span class='comment val'># heredoc is closed</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_insert_text_in_line_that_prepends_a_scope</h3>
</div><div id="atest_insert_text_in_line_that_prepends_a_scope-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_insert_text_in_line_that_prepends_a_scope</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 511</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L511">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">511
512
513
514
515
516
517
518
519
520
521</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_insert_text_in_line_that_prepends_a_scope identifier id'>atest_insert_text_in_line_that_prepends_a_scope</span>
<span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
<span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
<span class='rubycode identifier id'>rubycode</span><span class='assign token'>=</span><span class='string val'>&quot;class Redcar::File\n  def nice_name\n    @filename.split(\\\&quot;/\\\&quot;).last\n  end\nend\n&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='rubycode identifier id'>rubycode</span><span class='rparen token'>)</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>10</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_start identifier id'>line_start</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='offset identifier id'>offset</span><span class='plus op'>+</span><span class='integer val'>4</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;@thing &quot;</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>11</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_inserts_a_couple_of_lines_from_nothing</h3>
</div><div id="atest_inserts_a_couple_of_lines_from_nothing-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_inserts_a_couple_of_lines_from_nothing</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 58</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L58">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">58
59
60
61</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_inserts_a_couple_of_lines_from_nothing identifier id'>atest_inserts_a_couple_of_lines_from_nothing</span>
  <span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;class Red\nend&quot;</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='@root ivar id'>@root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_inserts_a_line_between_two_lines</h3>
</div><div id="atest_inserts_a_line_between_two_lines-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_inserts_a_line_between_two_lines</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 63</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L63">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">63
64
65
66
67
68</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_inserts_a_line_between_two_lines identifier id'>atest_inserts_a_line_between_two_lines</span>
  <span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;class Red\nend&quot;</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='@root ivar id'>@root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='line_start identifier id'>line_start</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;def foo\n&quot;</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>3</span><span class='comma token'>,</span> <span class='@root ivar id'>@root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_inserts_a_line_from_nothing</h3>
</div><div id="atest_inserts_a_line_from_nothing-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_inserts_a_line_from_nothing</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 53</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L53">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">53
54
55
56</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_inserts_a_line_from_nothing identifier id'>atest_inserts_a_line_from_nothing</span>
  <span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;class Red&quot;</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='@root ivar id'>@root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_inserts_a_symbol_into_a_line</h3>
</div><div id="atest_inserts_a_symbol_into_a_line-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_inserts_a_symbol_into_a_line</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 70</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L70">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">70
71
72
73
74</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_inserts_a_symbol_into_a_line identifier id'>atest_inserts_a_symbol_into_a_line</span>
  <span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;puts()&quot;</span><span class='rparen token'>)</span>
  <span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='integer val'>5</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;:symbol&quot;</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>3</span><span class='comma token'>,</span> <span class='@root ivar id'>@root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_lisp_grammar</h3>
</div><div id="atest_lisp_grammar-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_lisp_grammar</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 403</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L403">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">403
404
405
406
407
408
409
410
411
412</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_lisp_grammar identifier id'>atest_lisp_grammar</span>
  <span class='source identifier id'>source</span><span class='assign token'>=</span><span class='string val'>&quot;(car (1 2 3))\n&quot;</span><span class='semicolon token'>;</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span><span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='EditView constant id'>EditView</span><span class='colon2 op'>::</span><span class='Grammar constant id'>Grammar</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@lisp_grammar ivar id'>@lisp_grammar</span><span class='rparen token'>)</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='rparen token'>)</span>

  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>4</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;support.function.lisp&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;constant.numeric.lisp&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
<span class='end end kw'>end</span>  
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_multiline_parsing</h3>
</div><div id="atest_multiline_parsing-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_multiline_parsing</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 243</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L243">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_multiline_parsing identifier id'>atest_multiline_parsing</span>
  <span class='lines identifier id'>lines</span> <span class='assign token'>=</span> <span class='string val'>&quot;asdf ( asdf ( asdf \nasf ) asfd asdfa ) asdf&quot;</span>
  <span class='grh identifier id'>grh</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> 
    <span class='string val'>&quot;scopeName&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;source.example1&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;repository&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span>
      <span class='string val'>&quot;brackets&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span> 
        <span class='string val'>&quot;name&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;code.list&quot;</span><span class='comma token'>,</span>
        <span class='string val'>&quot;begin&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;\\(&quot;</span><span class='comma token'>,</span>
        <span class='string val'>&quot;end&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;\\)&quot;</span><span class='comma token'>,</span>
        <span class='string val'>&quot;patterns&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span> <span class='string val'>&quot;include&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;#brackets&quot;</span> <span class='rbrace token'>}</span><span class='rbrack token'>]</span>
      <span class='rbrace token'>}</span>
    <span class='rbrace token'>}</span><span class='comma token'>,</span>
    <span class='string val'>&quot;patterns&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span> <span class='string val'>&quot;include&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;#brackets&quot;</span><span class='rbrace token'>}</span><span class='rbrack token'>]</span> 
  <span class='rbrace token'>}</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='grh identifier id'>grh</span><span class='rparen token'>)</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span> <span class='assign token'>=</span> <span class='lines identifier id'>lines</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_parse_line_with_begin_ends</h3>
</div><div id="atest_parse_line_with_begin_ends-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_parse_line_with_begin_ends</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 136</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L136">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_parse_line_with_begin_ends identifier id'>atest_parse_line_with_begin_ends</span>
  <span class='line identifier id'>line</span> <span class='assign token'>=</span> <span class='string val'>&quot;asdf asdf if \&quot;asd\\\&quot;f asdf\&quot; for asdfa asdf&quot;</span>
  <span class='grh identifier id'>grh</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> 
    <span class='string val'>&quot;scopeName&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;source.example1&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;patterns&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span> 
                   <span class='lbrace token'>{</span> <span class='string val'>&quot;name&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;if&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;match&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;\\b(if|for)\\b&quot;</span><span class='rbrace token'>}</span><span class='comma token'>,</span>
                   <span class='lbrace token'>{</span> <span class='string val'>&quot;name&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;string&quot;</span><span class='comma token'>,</span> 
                     <span class='string val'>&quot;begin&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;\&quot;&quot;</span><span class='comma token'>,</span> 
                     <span class='string val'>&quot;end&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;\&quot;&quot;</span><span class='comma token'>,</span>
                     <span class='string val'>&quot;patterns&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span> <span class='string val'>&quot;name&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'constant.character.escape.untitled'</span><span class='comma token'>,</span>
                                      <span class='string val'>&quot;match&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'\\\\.'</span><span class='rbrace token'>}</span><span class='rbrack token'>]</span>
                   <span class='rbrace token'>}</span>
                  <span class='rbrack token'>]</span> 
  <span class='rbrace token'>}</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='grh identifier id'>grh</span><span class='rparen token'>)</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span> <span class='assign token'>=</span> <span class='line identifier id'>line</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;source.example1&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>3</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;if&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;if&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;string&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;constant.character.escape.untitled&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_parse_line_with_matches</h3>
</div><div id="atest_parse_line_with_matches-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_parse_line_with_matches</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 118</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L118">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_parse_line_with_matches identifier id'>atest_parse_line_with_matches</span>
  <span class='line identifier id'>line</span> <span class='assign token'>=</span> <span class='string val'>&quot;asdf asdf if asdf asdf for asdfa asdf&quot;</span>
  <span class='grh identifier id'>grh</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> 
    <span class='string val'>&quot;name&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Grammar Test&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;scopeName&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;source.example1&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;patterns&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span> <span class='lbrace token'>{</span><span class='string val'>&quot;name&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;if&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;match&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;\\b(if|for)\\b&quot;</span><span class='rbrace token'>}</span> <span class='rbrack token'>]</span> 
  <span class='rbrace token'>}</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='grh identifier id'>grh</span><span class='rparen token'>)</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span> <span class='assign token'>=</span> <span class='line identifier id'>line</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;source.example1&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='cs identifier id'>cs</span><span class='bitor op'>|</span>
    <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;if&quot;</span><span class='comma token'>,</span> <span class='cs identifier id'>cs</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
    <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>0</span><span class='comma token'>,</span> <span class='cs identifier id'>cs</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_parse_line_with_nested_begin_ends</h3>
</div><div id="atest_parse_line_with_nested_begin_ends-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_parse_line_with_nested_begin_ends</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 162</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L162">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_parse_line_with_nested_begin_ends identifier id'>atest_parse_line_with_nested_begin_ends</span>
  <span class='line identifier id'>line</span> <span class='assign token'>=</span> <span class='string val'>&quot;asdf [ asdf { asdf asf } asfd asdfa ] asdf&quot;</span>
  <span class='grh identifier id'>grh</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> 
    <span class='string val'>&quot;scopeName&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;source.example1&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;patterns&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span> 
                   <span class='lbrace token'>{</span> <span class='string val'>&quot;name&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;square&quot;</span><span class='comma token'>,</span>
                     <span class='string val'>&quot;begin&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;\\[&quot;</span><span class='comma token'>,</span> 
                     <span class='string val'>&quot;end&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;\\]&quot;</span><span class='comma token'>,</span>
                     <span class='string val'>&quot;patterns&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span> <span class='string val'>&quot;name&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'curly'</span><span class='comma token'>,</span>
                                      <span class='string val'>&quot;begin&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'\\{'</span><span class='comma token'>,</span>
                                      <span class='string val'>&quot;end&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;\\}&quot;</span>
                                    <span class='rbrace token'>}</span><span class='rbrack token'>]</span>
                   <span class='rbrace token'>}</span>
                  <span class='rbrack token'>]</span> 
  <span class='rbrace token'>}</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='grh identifier id'>grh</span><span class='rparen token'>)</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span> <span class='assign token'>=</span> <span class='line identifier id'>line</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;source.example1&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='ch0 identifier id'>ch0</span> <span class='assign token'>=</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;square&quot;</span><span class='comma token'>,</span> <span class='ch0 identifier id'>ch0</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='ch0 identifier id'>ch0</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='ch1 identifier id'>ch1</span> <span class='assign token'>=</span> <span class='ch0 identifier id'>ch0</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;curly&quot;</span><span class='comma token'>,</span> <span class='ch1 identifier id'>ch1</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>0</span><span class='comma token'>,</span> <span class='ch1 identifier id'>ch1</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_parse_line_with_nesting</h3>
</div><div id="atest_parse_line_with_nesting-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_parse_line_with_nesting</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 220</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L220">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_parse_line_with_nesting identifier id'>atest_parse_line_with_nesting</span>
  <span class='line identifier id'>line</span> <span class='assign token'>=</span> <span class='string val'>&quot;asdf ( asdf ( asdf asf ) asfd asdfa ) asdf&quot;</span>
  <span class='grh identifier id'>grh</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> 
    <span class='string val'>&quot;scopeName&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;source.example1&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;repository&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span>
      <span class='string val'>&quot;brackets&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span> 
        <span class='string val'>&quot;name&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;code.list&quot;</span><span class='comma token'>,</span>
        <span class='string val'>&quot;begin&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;\\(&quot;</span><span class='comma token'>,</span>
        <span class='string val'>&quot;end&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;\\)&quot;</span><span class='comma token'>,</span>
        <span class='string val'>&quot;patterns&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span> <span class='string val'>&quot;include&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;#brackets&quot;</span> <span class='rbrace token'>}</span><span class='rbrack token'>]</span>
      <span class='rbrace token'>}</span>
    <span class='rbrace token'>}</span><span class='comma token'>,</span>
    <span class='string val'>&quot;patterns&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span> <span class='string val'>&quot;include&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;#brackets&quot;</span><span class='rbrace token'>}</span><span class='rbrack token'>]</span> 
  <span class='rbrace token'>}</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='grh identifier id'>grh</span><span class='rparen token'>)</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span> <span class='assign token'>=</span> <span class='line identifier id'>line</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;code.list&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;code.list&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_parse_line_with_repository</h3>
</div><div id="atest_parse_line_with_repository-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_parse_line_with_repository</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 190</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L190">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_parse_line_with_repository identifier id'>atest_parse_line_with_repository</span>
  <span class='line identifier id'>line</span> <span class='assign token'>=</span> <span class='string val'>&quot;asd if f [ asdf if asdf { asdf if asf } asfd if asdfa ] asdf if adsf&quot;</span>
  <span class='grh identifier id'>grh</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> 
    <span class='string val'>&quot;scopeName&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;source.example1&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;repository&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='string val'>&quot;if&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='string val'>&quot;name&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;keyword.if&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;match&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'\bif\b'</span> <span class='rbrace token'>}</span><span class='rbrace token'>}</span><span class='comma token'>,</span>
    <span class='string val'>&quot;patterns&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span> 
                   <span class='lbrace token'>{</span> <span class='string val'>&quot;include&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;#if&quot;</span> <span class='rbrace token'>}</span><span class='comma token'>,</span>
                   <span class='lbrace token'>{</span> <span class='string val'>&quot;name&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;code.collection.array&quot;</span><span class='comma token'>,</span>
                     <span class='string val'>&quot;begin&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;\\[&quot;</span><span class='comma token'>,</span> 
                     <span class='string val'>&quot;end&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;\\]&quot;</span><span class='comma token'>,</span>
                     <span class='string val'>&quot;patterns&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span>
                                    <span class='lbrace token'>{</span> <span class='string val'>&quot;include&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;#if&quot;</span> <span class='rbrace token'>}</span><span class='comma token'>,</span>
                                    <span class='lbrace token'>{</span> <span class='string val'>&quot;name&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'code.collection.set'</span><span class='comma token'>,</span>
                                      <span class='string val'>&quot;begin&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'\\{'</span><span class='comma token'>,</span>
                                      <span class='string val'>&quot;end&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;\\}&quot;</span><span class='comma token'>,</span>
                                      <span class='string val'>&quot;patterns&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span> <span class='string val'>&quot;include&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;#if&quot;</span> <span class='rbrace token'>}</span><span class='rbrack token'>]</span>
                                    <span class='rbrace token'>}</span><span class='rbrack token'>]</span>
                   <span class='rbrace token'>}</span>
                  <span class='rbrack token'>]</span> 
  <span class='rbrace token'>}</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='grh identifier id'>grh</span><span class='rparen token'>)</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span> <span class='assign token'>=</span> <span class='line identifier id'>line</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>3</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;keyword.if&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>3</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;keyword.if&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;code.collection.set&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_parse_text_bug_for_included_base_pattern</h3>
</div><div id="atest_parse_text_bug_for_included_base_pattern-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_parse_text_bug_for_included_base_pattern</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 264</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L264">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">264
265
266
267
268
269
270</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_parse_text_bug_for_included_base_pattern identifier id'>atest_parse_text_bug_for_included_base_pattern</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='source identifier id'>source</span><span class='assign token'>=</span><span class='string val'>&quot;require \&quot;foobar\&quot;\n&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span> <span class='assign token'>=</span> <span class='source identifier id'>source</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_parser</h3>
</div><div id="atest_parser-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_parser</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
&#8212; old tests ---
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 106</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L106">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">106
107
108
109
110
111
112
113
114
115</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_parser identifier id'>atest_parser</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='EditView constant id'>EditView</span><span class='colon2 op'>::</span><span class='Grammar constant id'>Grammar</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@grammar1 ivar id'>@grammar1</span><span class='rparen token'>)</span>
  <span class='sc identifier id'>sc</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='EditView constant id'>EditView</span><span class='colon2 op'>::</span><span class='Scope constant id'>Scope</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:grammar</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='gr identifier id'>gr</span><span class='comma token'>,</span>
                                   <span class='symbol val'>:pattern</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='gr identifier id'>gr</span><span class='comma token'>,</span>
                                   <span class='symbol val'>:start</span>   <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='TextLoc constant id'>TextLoc</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='integer val'>0</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='buf identifier id'>buf</span> <span class='assign token'>=</span> <span class='Gtk constant id'>Gtk</span><span class='colon2 op'>::</span><span class='SourceBuffer constant id'>SourceBuffer</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='EditView constant id'>EditView</span><span class='colon2 op'>::</span><span class='Parser constant id'>Parser</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='sc identifier id'>sc</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='gr identifier id'>gr</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='assert identifier id'>assert</span> <span class='smp identifier id'>smp</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;source.untitled&quot;</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_parsing_inserted_line_that_closes_scope</h3>
</div><div id="atest_parsing_inserted_line_that_closes_scope-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_parsing_inserted_line_that_closes_scope</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 774</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L774">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">774
775
776
777
778
779
780
781
782
783</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_parsing_inserted_line_that_closes_scope identifier id'>atest_parsing_inserted_line_that_closes_scope</span>
  <span class='source identifier id'>source</span><span class='assign token'>=</span><span class='string val'>&quot;puts \&quot;hello\&quot;\nfoo=\\&lt;\\&lt;HI\n  Here.foo\n  Here.foo\nputs \&quot;hello\&quot;\n&quot;</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='rparen token'>)</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_end identifier id'>line_end</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;HI\n&quot;</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>3</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_parsing_inserted_line_that_opens_new_scope</h3>
</div><div id="atest_parsing_inserted_line_that_opens_new_scope-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_parsing_inserted_line_that_opens_new_scope</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 757</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L757">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">757
758
759
760
761
762
763
764
765
766</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_parsing_inserted_line_that_opens_new_scope identifier id'>atest_parsing_inserted_line_that_opens_new_scope</span>
  <span class='source identifier id'>source</span><span class='assign token'>=</span><span class='string val'>&quot;puts \&quot;hello\&quot;\n  Here.foo\n  Here.foo\nputs \&quot;hello\&quot;\n&quot;</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='rparen token'>)</span>
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>6</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='line_start identifier id'>line_start</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;foo=\&lt;\&lt;HI\n&quot;</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_pattern_captures_form_a_tree</h3>
</div><div id="atest_pattern_captures_form_a_tree-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_pattern_captures_form_a_tree</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 89</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L89">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">89
90
91
92
93
94</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_pattern_captures_form_a_tree identifier id'>atest_pattern_captures_form_a_tree</span>
  <span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;class Red &lt; \n&quot;</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='@root ivar id'>@root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='line_end1 identifier id'>line_end1</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;C&quot;</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='@root ivar id'>@root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_re_parse_line</h3>
</div><div id="atest_re_parse_line-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_re_parse_line</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Parse line should work repeatedly with no ill effects.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 276</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L276">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">276
277
278
279
280
281
282
283
284
285</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_re_parse_line identifier id'>atest_re_parse_line</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='rubycode identifier id'>rubycode</span><span class='assign token'>=</span><span class='string val'>&quot;class Redcar::File\n  def nice_name\n    @filename.split(\&quot;asdf \#{foo} asdf\&quot;).last\n  end\nend\n&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='rubycode identifier id'>rubycode</span><span class='rparen token'>)</span>
  
  <span class='copy identifier id'>copy</span> <span class='assign token'>=</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='pretty2 identifier id'>pretty2</span>
  <span class='float val'>10</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='lbrace token'>{</span> <span class='assert identifier id'>assert</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='parse_line identifier id'>parse_line</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='copy identifier id'>copy</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='pretty2 identifier id'>pretty2</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_re_parse_line_with_closing_scopes</h3>
</div><div id="atest_re_parse_line_with_closing_scopes-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_re_parse_line_with_closing_scopes</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
&#8230; or closing scopes.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 307</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L307">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">307
308
309
310
311
312
313
314
315
316</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_re_parse_line_with_closing_scopes identifier id'>atest_re_parse_line_with_closing_scopes</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='rubycode identifier id'>rubycode</span><span class='assign token'>=</span><span class='string val'>&quot;puts \&quot;hello\&quot;\nfoo=&lt;&lt;HI\n  Here.foo\n  Here.foo\nHI\nputs \&quot;hello\&quot;\n&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='rubycode identifier id'>rubycode</span><span class='rparen token'>)</span>
  
  <span class='copy identifier id'>copy</span> <span class='assign token'>=</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='pretty2 identifier id'>pretty2</span>
  <span class='float val'>10</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='lbrace token'>{</span> <span class='assert identifier id'>assert</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='parse_line identifier id'>parse_line</span><span class='lparen token'>(</span><span class='integer val'>4</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='copy identifier id'>copy</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='pretty2 identifier id'>pretty2</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_re_parse_line_with_extra_single_scopes</h3>
</div><div id="atest_re_parse_line_with_extra_single_scopes-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_re_parse_line_with_extra_single_scopes</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Reparsing should also work ok when there are new things. Like new single
scopes &#8230;
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 329</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L329">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">329
330
331
332
333
334
335
336
337
338</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_re_parse_line_with_extra_single_scopes identifier id'>atest_re_parse_line_with_extra_single_scopes</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='rubycode identifier id'>rubycode</span><span class='assign token'>=</span><span class='string val'>&quot;puts \&quot;hello\&quot;\nfoo=&lt;&lt;HI\n  Here.foo\n  Here.foo\nHI\nputs \&quot;hello\&quot;\n&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='rubycode identifier id'>rubycode</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>3</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='cursor identifier id'>cursor</span> <span class='assign token'>=</span> <span class='TextLoc constant id'>TextLoc</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='integer val'>0</span><span class='rparen token'>)</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='replace_line identifier id'>replace_line</span><span class='lparen token'>(</span><span class='string val'>&quot;puts \&quot;hello\&quot;, @hello&quot;</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>5</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_re_parse_line_with_opening_scopes</h3>
</div><div id="atest_re_parse_line_with_opening_scopes-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_re_parse_line_with_opening_scopes</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
&#8230; even when there are opening scopes in the line
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 288</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L288">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">288
289
290
291
292
293
294
295
296</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_re_parse_line_with_opening_scopes identifier id'>atest_re_parse_line_with_opening_scopes</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='rubycode identifier id'>rubycode</span><span class='assign token'>=</span><span class='string val'>&quot;puts \&quot;hello\&quot;\nfoo=&lt;&lt;HI\n  Here.foo\n  Here.foo\nHI\nputs \&quot;hello\&quot;\n&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='rubycode identifier id'>rubycode</span><span class='rparen token'>)</span>
  <span class='copy identifier id'>copy</span> <span class='assign token'>=</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='pretty2 identifier id'>pretty2</span>
  <span class='float val'>1</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='lbrace token'>{</span> <span class='assert identifier id'>assert</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='parse_line identifier id'>parse_line</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='copy identifier id'>copy</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='pretty2 identifier id'>pretty2</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_ruby_syntax</h3>
</div><div id="atest_ruby_syntax-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_ruby_syntax</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 417</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L417">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_ruby_syntax identifier id'>atest_ruby_syntax</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>

  <span class='rubycode identifier id'>rubycode</span> <span class='assign token'>=</span> <span class='string val'>&quot;class Foo\n  def hello\n    puts \&quot;hello\&quot;\n  end\nend\n&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='rubycode identifier id'>rubycode</span><span class='rparen token'>)</span>
  
  
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>5</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='class_scope identifier id'>class_scope</span> <span class='assign token'>=</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;meta.class.ruby&quot;</span><span class='comma token'>,</span> <span class='class_scope identifier id'>class_scope</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  
  <span class='comment val'># let's assert that zero length scopes don't exist in the scope tree.</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='class_scope identifier id'>class_scope</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  
  <span class='comment val'># def is in the right place?</span>
  <span class='method_def_scope identifier id'>method_def_scope</span> <span class='assign token'>=</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='method_def_scope identifier id'>method_def_scope</span><span class='dot token'>.</span><span class='start identifier id'>start</span><span class='dot token'>.</span><span class='offset identifier id'>offset</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>5</span><span class='comma token'>,</span> <span class='method_def_scope identifier id'>method_def_scope</span><span class='dot token'>.</span><span class='end identifier id'>end</span><span class='dot token'>.</span><span class='offset identifier id'>offset</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_ruby_syntax2</h3>
</div><div id="atest_ruby_syntax2-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_ruby_syntax2</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 438</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L438">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">438
439
440
441
442
443
444
445
446
447
448
449
450</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_ruby_syntax2 identifier id'>atest_ruby_syntax2</span>
  <span class='gr identifier id'>gr</span> <span class='assign token'>=</span> <span class='@ruby_grammar ivar id'>@ruby_grammar</span>
  <span class='buf identifier id'>buf</span><span class='comma token'>,</span> <span class='smp identifier id'>smp</span> <span class='assign token'>=</span> <span class='ParserTests constant id'>ParserTests</span><span class='dot token'>.</span><span class='clean_parser_and_buffer identifier id'>clean_parser_and_buffer</span><span class='lparen token'>(</span><span class='gr identifier id'>gr</span><span class='rparen token'>)</span>
  <span class='rubycode identifier id'>rubycode</span><span class='assign token'>=</span><span class='string val'>&quot;class Redcar::File\n  def nice_name\n    @filename.split(\&quot;/\&quot;).last\n  end\nend&quot;</span>
  <span class='buf identifier id'>buf</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='assign token'>=</span><span class='lparen token'>(</span><span class='rubycode identifier id'>rubycode</span><span class='rparen token'>)</span>

   <span class='comment val'># check that the &quot;class&quot; and &quot;Redcar::File&quot; are picked up:</span>
  <span class='class_scope identifier id'>class_scope</span> <span class='assign token'>=</span> <span class='smp identifier id'>smp</span><span class='dot token'>.</span><span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>0</span><span class='comma token'>,</span> <span class='class_scope identifier id'>class_scope</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='start identifier id'>start</span><span class='dot token'>.</span><span class='offset identifier id'>offset</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>5</span><span class='comma token'>,</span> <span class='class_scope identifier id'>class_scope</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='end identifier id'>end</span><span class='dot token'>.</span><span class='offset identifier id'>offset</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>6</span><span class='comma token'>,</span> <span class='class_scope identifier id'>class_scope</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='start identifier id'>start</span><span class='dot token'>.</span><span class='offset identifier id'>offset</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>18</span><span class='comma token'>,</span> <span class='class_scope identifier id'>class_scope</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='end identifier id'>end</span><span class='dot token'>.</span><span class='offset identifier id'>offset</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_signals_connected1</h3>
</div><div id="atest_signals_connected1-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_signals_connected1</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 43</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L43">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">43
44
45
46</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_signals_connected1 identifier id'>atest_signals_connected1</span>
  <span class='@parser ivar id'>@parser</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:store_insertion</span><span class='rparen token'>)</span>
  <span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;hi&quot;</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>atest_signals_connected2</h3>
</div><div id="atest_signals_connected2-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>atest_signals_connected2</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 48</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L48">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">48
49
50
51</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='atest_signals_connected2 identifier id'>atest_signals_connected2</span>
  <span class='@parser ivar id'>@parser</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:process_changes</span><span class='rparen token'>)</span>      
  <span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;hi&quot;</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>setup</h3>
</div><div id="setup-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>setup</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 26</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L26">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='setup identifier id'>setup</span>
  <span class='@buf ivar id'>@buf</span>  <span class='assign token'>=</span> <span class='Gtk constant id'>Gtk</span><span class='colon2 op'>::</span><span class='SourceBuffer constant id'>SourceBuffer</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='@gr ivar id'>@gr</span>   <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='EditView constant id'>EditView</span><span class='colon2 op'>::</span><span class='Grammar constant id'>Grammar</span><span class='dot token'>.</span><span class='grammar identifier id'>grammar</span><span class='lparen token'>(</span><span class='symbol val'>:name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Ruby&quot;</span><span class='rparen token'>)</span>
  <span class='@root ivar id'>@root</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='EditView constant id'>EditView</span><span class='colon2 op'>::</span><span class='Scope constant id'>Scope</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:pattern</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='@gr ivar id'>@gr</span><span class='comma token'>,</span>
                                      <span class='symbol val'>:grammar</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='@gr ivar id'>@gr</span><span class='comma token'>,</span>
                                      <span class='symbol val'>:start</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='EditView constant id'>EditView</span><span class='colon2 op'>::</span><span class='TextLoc constant id'>TextLoc</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='integer val'>0</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='@root ivar id'>@root</span><span class='dot token'>.</span><span class='set_start_mark identifier id'>set_start_mark</span> <span class='@buf ivar id'>@buf</span><span class='comma token'>,</span> <span class='integer val'>0</span><span class='comma token'>,</span> <span class='true true kw'>true</span>
  <span class='@root ivar id'>@root</span><span class='dot token'>.</span><span class='set_end_mark identifier id'>set_end_mark</span>   <span class='@buf ivar id'>@buf</span><span class='comma token'>,</span> <span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='char_count identifier id'>char_count</span><span class='comma token'>,</span> <span class='false false kw'>false</span>
  <span class='@parser ivar id'>@parser</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='EditView constant id'>EditView</span><span class='colon2 op'>::</span><span class='Parser constant id'>Parser</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@buf ivar id'>@buf</span><span class='comma token'>,</span> <span class='@root ivar id'>@root</span><span class='rparen token'>)</span>
  
  <span class='comment val'># stuff for old tests</span>
  <span class='@ruby_grammar ivar id'>@ruby_grammar</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='EditView constant id'>EditView</span><span class='colon2 op'>::</span><span class='Grammar constant id'>Grammar</span><span class='dot token'>.</span><span class='grammar identifier id'>grammar</span><span class='lparen token'>(</span><span class='symbol val'>:name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'Ruby'</span><span class='rparen token'>)</span>
  <span class='@grammar1 ivar id'>@grammar1</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='Tests constant id'>Tests</span><span class='colon2 op'>::</span><span class='GrammarTests constant id'>GrammarTests</span><span class='dot token'>.</span><span class='example_grammar1 identifier id'>example_grammar1</span>
  <span class='@grammar2 ivar id'>@grammar2</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='Tests constant id'>Tests</span><span class='colon2 op'>::</span><span class='GrammarTests constant id'>GrammarTests</span><span class='dot token'>.</span><span class='example_grammar2 identifier id'>example_grammar2</span>
  <span class='@lisp_grammar ivar id'>@lisp_grammar</span> <span class='assign token'>=</span> <span class='Redcar constant id'>Redcar</span><span class='colon2 op'>::</span><span class='Tests constant id'>Tests</span><span class='colon2 op'>::</span><span class='GrammarTests constant id'>GrammarTests</span><span class='dot token'>.</span><span class='lisp_grammar identifier id'>lisp_grammar</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>test_bug_with_multiple_endings</h3>
</div><div id="test_bug_with_multiple_endings-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>test_bug_with_multiple_endings</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'plugins/core/tests/ev_parser_test.rb', line 96</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dvyjones/redcar/blob/8398863aaa4485f2fd744621cccdf0f3cde6bb35/plugins/core/tests/ev_parser_test.rb#L96">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">96
97
98
99
100
101
102</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='test_bug_with_multiple_endings identifier id'>test_bug_with_multiple_endings</span>
  <span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>&quot;def foo()&quot;</span><span class='rparen token'>)</span>
  <span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='place_cursor identifier id'>place_cursor</span><span class='lparen token'>(</span><span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='iter identifier id'>iter</span><span class='lparen token'>(</span><span class='integer val'>8</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='insert_at_cursor identifier id'>insert_at_cursor</span><span class='lparen token'>(</span><span class='string val'>&quot;a&quot;</span><span class='rparen token'>)</span>
  <span class='@buf ivar id'>@buf</span><span class='dot token'>.</span><span class='insert_at_cursor identifier id'>insert_at_cursor</span><span class='lparen token'>(</span><span class='string val'>&quot;s&quot;</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span> <span class='integer val'>4</span><span class='comma token'>,</span> <span class='@root ivar id'>@root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>