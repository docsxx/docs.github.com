<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>outoftime's sunspot_rails - Module: Sunspot::Rails::Searchable::ClassMethods - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/outoftime/commits/sunspot_rails/master" rel="alternate" title="Recent Commits to sunspot_rails:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../../../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("outoftime", "sunspot_rails", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='outoftime/sunspot_rails/blob/c4f3cc6c025bcc98cc2fafc75edbf5e15ce70011' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='outoftime/sunspot_rails/blob/c4f3cc6c025bcc98cc2fafc75edbf5e15ce70011' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("outoftime", "sunspot_rails", "c4f3cc6c025bcc98cc2fafc75edbf5e15ce70011", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../../../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/outoftime/sunspot_rails/tree/">Source</a></li>
            <li class=""><a href="http://github.com/outoftime/sunspot_rails/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/outoftime/sunspot_rails/network">Network</a></li>            
            <li class=""><a href="http://github.com/outoftime/sunspot_rails/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/outoftime/sunspot_rails">Wiki</a></li>
            <li class=""><a href="http://github.com/outoftime/sunspot_rails/graphs">Graphs</a></li>                    
            <li class="active"><a href="/outoftime/sunspot_rails">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/outoftime">outoftime</a> / <b><a href="http://github.com/outoftime/sunspot_rails/tree">sunspot_rails</a></b>        
                <a id="namespaces_button" rel="outoftime/sunspot_rails/blob/c4f3cc6c025bcc98cc2fafc75edbf5e15ce70011" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="outoftime/sunspot_rails/blob/c4f3cc6c025bcc98cc2fafc75edbf5e15ce70011" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section module Sunspot_Rails_Searchable_ClassMethods">
  <h1>Module: Sunspot::Rails::Searchable::ClassMethods</h1>
  <div class="section constants">
  
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#clean_index_orphans-instance_method">#clean_index_orphans</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Find IDs of records of this class that are indexed in Solr but do not exist
in the database, and remove them from Solr.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#index_orphans-instance_method">#index_orphans</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Return the IDs of records of this class that are indexed in Solr but do not
exist in the database.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#reindex-instance_method">#reindex</span><span class='args'>(opts = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Completely rebuild the index for this class.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#remove_all_from_index-instance_method">#remove_all_from_index</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Remove instances of this class from the Solr index.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#remove_all_from_index-21-instance_method">#remove_all_from_index!</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Remove all instances of this class from the Solr index and immediately
commit.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#search-instance_method">#search</span><span class='args'>(&amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Search for instances of this class in Solr.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#search_ids-instance_method">#search_ids</span><span class='args'>(&amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Get IDs of matching results without loading the result objects from the
database.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#searchable-3F-instance_method">#searchable?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Classes that have been defined as searchable return <tt>true</tt> for this
method.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>clean_index_orphans</h3>
</div><div id="clean_index_orphans-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>clean_index_orphans</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Find IDs of records of this class that are indexed in Solr but do not exist
in the database, and remove them from Solr. Under normal circumstances,
this should not be necessary; this method is provided in case something
goes wrong.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/sunspot/rails/searchable.rb', line 224</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/outoftime/sunspot_rails/blob/c4f3cc6c025bcc98cc2fafc75edbf5e15ce70011/lib/sunspot/rails/searchable.rb#L224">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">224
225
226
227
228
229
230</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='clean_index_orphans identifier id'>clean_index_orphans</span>
  <span class='index_orphans identifier id'>index_orphans</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='id identifier id'>id</span><span class='bitor op'>|</span>
    <span class='new identifier id'>new</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='fake_instance identifier id'>fake_instance</span><span class='bitor op'>|</span>
      <span class='fake_instance identifier id'>fake_instance</span><span class='dot token'>.</span><span class='id identifier id'>id</span> <span class='assign token'>=</span> <span class='id identifier id'>id</span>
    <span class='end end kw'>end</span><span class='dot token'>.</span><span class='remove_from_index identifier id'>remove_from_index</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>index_orphans</h3>
</div><div id="index_orphans-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>index_orphans</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Return the IDs of records of this class that are indexed in Solr but do not
exist in the database. Under normal circumstances, this should never
happen, but this method is provided in case something goes wrong. Usually
you will want to rectify the situation by calling #clean_index_orphans or
#reindex
</p>
<h4>Returns</h4>
<table>
<tr><td valign="top">Array:</td><td>Collection of IDs that exist in Solr but not in the database

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/sunspot/rails/searchable.rb', line 210</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/outoftime/sunspot_rails/blob/c4f3cc6c025bcc98cc2fafc75edbf5e15ce70011/lib/sunspot/rails/searchable.rb#L210">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">210
211
212
213
214
215
216</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='index_orphans identifier id'>index_orphans</span>
  <span class='indexed_ids identifier id'>indexed_ids</span> <span class='assign token'>=</span> <span class='search_ids identifier id'>search_ids</span><span class='dot token'>.</span><span class='to_set identifier id'>to_set</span>
  <span class='all identifier id'>all</span><span class='lparen token'>(</span><span class='symbol val'>:select</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'id'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='object identifier id'>object</span><span class='bitor op'>|</span>
    <span class='indexed_ids identifier id'>indexed_ids</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='object identifier id'>object</span><span class='dot token'>.</span><span class='id identifier id'>id</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='indexed_ids identifier id'>indexed_ids</span><span class='dot token'>.</span><span class='to_a identifier id'>to_a</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>reindex</h3>
</div><div id="reindex-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>reindex</span><span class='args'>(opts = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Completely rebuild the index for this class. First removes all instances
from the index, then loads records and save them. The <tt>batch_size</tt>
argument specifies how many records to load out of the database at a time.
The default batch size is 500; if nil is passed, records will not be
indexed in batches. By default, a commit is issued after each batch;
passing <tt>false</tt> for <tt>batch_commit</tt> will disable this, and
only issue a commit at the end of the process. If associated objects need
to indexed also, you can specify <tt>include</tt> in format accepted by
ActiveRecord to improve your sql select performance
</p>
<h4>Options (passed as a hash)</h4>
<table>
<tr><td valign="top">batch_size&lt;Integer&gt;:</td><td>Batch size with which to load records. Passing &#8216;nil&#8217; will skip
batches. Default is 500.

</td></tr>
<tr><td valign="top">batch_commit&lt;Boolean&gt;:</td><td>Flag signalling if a commit should be done after after each batch is
indexed, default is &#8216;true&#8217;

</td></tr>
<tr><td valign="top">include&lt;Mixed&gt;:</td><td>include option to be passed to the ActiveRecord find, used for including
associated objects that need to be indexed with the parent object, accepts
all formats ActiveRecord::Base.find does

</td></tr>
</table>
<h4>Examples</h4>
<pre class="code">
  <span class='comment val'># reindex in batches of 500, commit after each</span>
  <span class='Post constant id'>Post</span><span class='dot token'>.</span><span class='reindex identifier id'>reindex</span>

  <span class='comment val'># index all rows at once, then commit</span>
  <span class='Post constant id'>Post</span><span class='dot token'>.</span><span class='reindex identifier id'>reindex</span><span class='lparen token'>(</span><span class='symbol val'>:batch_size</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>

  <span class='comment val'># reindex in batches of 500, commit when all batches complete</span>
  <span class='Post constant id'>Post</span><span class='dot token'>.</span><span class='reindex identifier id'>reindex</span><span class='lparen token'>(</span><span class='symbol val'>:batch_commit</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>

  <span class='comment val'># include the associated &lt;tt&gt;author&lt;/tt&gt; object when loading to index</span>
  <span class='Post constant id'>Post</span><span class='dot token'>.</span><span class='reindex identifier id'>reindex</span><span class='lparen token'>(</span><span class='symbol val'>:include</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:author</span><span class='rparen token'>)</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/sunspot/rails/searchable.rb', line 179</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/outoftime/sunspot_rails/blob/c4f3cc6c025bcc98cc2fafc75edbf5e15ce70011/lib/sunspot/rails/searchable.rb#L179">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='reindex identifier id'>reindex</span><span class='lparen token'>(</span><span class='opts identifier id'>opts</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:batch_size</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>500</span><span class='comma token'>,</span> <span class='symbol val'>:batch_commit</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:include</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='opts identifier id'>opts</span><span class='rparen token'>)</span>
  <span class='remove_all_from_index identifier id'>remove_all_from_index</span>
  <span class='unless unless kw'>unless</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:batch_size</span><span class='rbrack token'>]</span>
    <span class='Sunspot constant id'>Sunspot</span><span class='dot token'>.</span><span class='index! fid id'>index!</span><span class='lparen token'>(</span><span class='all identifier id'>all</span><span class='lparen token'>(</span><span class='symbol val'>:include</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:include</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='record_count identifier id'>record_count</span> <span class='assign token'>=</span> <span class='count identifier id'>count</span>
    <span class='counter identifier id'>counter</span> <span class='assign token'>=</span> <span class='integer val'>1</span>
    <span class='offset identifier id'>offset</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
    <span class='while while kw'>while</span><span class='lparen token'>(</span><span class='offset identifier id'>offset</span> <span class='lt op'>&lt;</span> <span class='record_count identifier id'>record_count</span><span class='rparen token'>)</span>
      <span class='benchmark identifier id'>benchmark</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:batch_size</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='counter identifier id'>counter</span> <span class='do do kw'>do</span>
        <span class='Sunspot constant id'>Sunspot</span><span class='dot token'>.</span><span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='all identifier id'>all</span><span class='lparen token'>(</span><span class='symbol val'>:include</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:include</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:offset</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='offset identifier id'>offset</span><span class='comma token'>,</span> <span class='symbol val'>:limit</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:batch_size</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:order</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='primary_key identifier id'>primary_key</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
      <span class='Sunspot constant id'>Sunspot</span><span class='dot token'>.</span><span class='commit identifier id'>commit</span> <span class='if if_mod kw'>if</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:batch_commit</span><span class='rbrack token'>]</span>
      <span class='offset identifier id'>offset</span> <span class='opasgn op'>+=</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:batch_size</span><span class='rbrack token'>]</span>
      <span class='counter identifier id'>counter</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
    <span class='end end kw'>end</span>
    <span class='Sunspot constant id'>Sunspot</span><span class='dot token'>.</span><span class='commit identifier id'>commit</span> <span class='unless unless_mod kw'>unless</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:batch_commit</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>remove_all_from_index</h3>
</div><div id="remove_all_from_index-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>remove_all_from_index</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Remove instances of this class from the Solr index.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/sunspot/rails/searchable.rb', line 127</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/outoftime/sunspot_rails/blob/c4f3cc6c025bcc98cc2fafc75edbf5e15ce70011/lib/sunspot/rails/searchable.rb#L127">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">127
128
129</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='remove_all_from_index identifier id'>remove_all_from_index</span>
  <span class='Sunspot constant id'>Sunspot</span><span class='dot token'>.</span><span class='remove_all identifier id'>remove_all</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>remove_all_from_index!</h3>
</div><div id="remove_all_from_index-21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>remove_all_from_index!</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Remove all instances of this class from the Solr index and immediately
commit.
</p>
<hr size="1"></hr><p>
XXX Sunspot should implement remove_all!()
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/sunspot/rails/searchable.rb', line 138</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/outoftime/sunspot_rails/blob/c4f3cc6c025bcc98cc2fafc75edbf5e15ce70011/lib/sunspot/rails/searchable.rb#L138">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">138
139
140
141</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='remove_all_from_index! fid id'>remove_all_from_index!</span>
  <span class='Sunspot constant id'>Sunspot</span><span class='dot token'>.</span><span class='remove_all identifier id'>remove_all</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
  <span class='Sunspot constant id'>Sunspot</span><span class='dot token'>.</span><span class='commit identifier id'>commit</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>search</h3>
</div><div id="search-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>search</span><span class='args'>(&amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Search for instances of this class in Solr. The block is delegated to the
Sunspot.search method - see the Sunspot documentation for the full API.
</p>
<h4>Example</h4>
<pre class="code">
  <span class='Post constant id'>Post</span><span class='dot token'>.</span><span class='search identifier id'>search</span> <span class='do do kw'>do</span>
    <span class='keywords identifier id'>keywords</span> <span class='string val'>'best pizza'</span>
    <span class='with identifier id'>with</span> <span class='symbol val'>:blog_id</span><span class='comma token'>,</span> <span class='integer val'>1</span>
    <span class='order identifier id'>order</span> <span class='symbol val'>:updated_at</span><span class='comma token'>,</span> <span class='symbol val'>:desc</span>
    <span class='facet identifier id'>facet</span> <span class='symbol val'>:category_ids</span>
  <span class='end end kw'>end</span>
</pre>
<h4>Returns</h4>
<table>
<tr><td valign="top">Sunspot::Search:</td><td>Object containing results, totals, facets, etc.

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/sunspot/rails/searchable.rb', line 106</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/outoftime/sunspot_rails/blob/c4f3cc6c025bcc98cc2fafc75edbf5e15ce70011/lib/sunspot/rails/searchable.rb#L106">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">106
107
108</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='Sunspot constant id'>Sunspot</span><span class='dot token'>.</span><span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>search_ids</h3>
</div><div id="search_ids-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>search_ids</span><span class='args'>(&amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Get IDs of matching results without loading the result objects from the
database. This method may be useful if search is used as an intermediate
step in a larger find operation. The block is the same as the block
provided to the #search method.
</p>
<h4>Returns</h4>
<table>
<tr><td valign="top">Array:</td><td>Array of IDs, in the order returned by the search

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/sunspot/rails/searchable.rb', line 120</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/outoftime/sunspot_rails/blob/c4f3cc6c025bcc98cc2fafc75edbf5e15ce70011/lib/sunspot/rails/searchable.rb#L120">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">120
121
122</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='search_ids identifier id'>search_ids</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='raw_results identifier id'>raw_results</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='raw_result identifier id'>raw_result</span><span class='bitor op'>|</span> <span class='raw_result identifier id'>raw_result</span><span class='dot token'>.</span><span class='primary_key identifier id'>primary_key</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>searchable?</h3>
</div><div id="searchable-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>searchable?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Classes that have been defined as searchable return <tt>true</tt> for this
method.
</p>
<h4>Returns</h4>
<p>
<tt>true</tt>
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/sunspot/rails/searchable.rb', line 240</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/outoftime/sunspot_rails/blob/c4f3cc6c025bcc98cc2fafc75edbf5e15ce70011/lib/sunspot/rails/searchable.rb#L240">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">240
241
242</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='searchable? fid id'>searchable?</span>
  <span class='true true kw'>true</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> Â©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>