<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../../style.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="../../syntax_highlight.css" type="text/css" charset="utf-8" />

    <script src="../../jquery.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../app.js" type="text/javascript" charset="utf-8"></script>
    <title>Class: Sequel::SQL::StringExpression</title>
  </head>
  <body>
    <div id="content">
      <div class="section class Sequel_SQL_StringExpression">
  <h1 class="title">Class: Sequel::SQL::StringExpression</h1>
  <div class="section inheritance">
  <ul>
  <li><a href='Expression.html' title='Sequel::SQL::Expression'>Sequel::SQL::Expression</a></li><ul><li><a href='ComplexExpression.html' title='Sequel::SQL::ComplexExpression'>Sequel::SQL::ComplexExpression</a></li><ul><li>Sequel::SQL::StringExpression</li>
  </ul></ul></ul>
</div><div class="section mixins">
  <h1>Included Modules</h1>
  <p><a href='StringExpression/StringMethods.html' title='Sequel::SQL::StringMethods'>Sequel::SQL::StringMethods</a>, <a href='StringExpression/StringConcatenationMethods.html' title='Sequel::SQL::StringConcatenationMethods'>Sequel::SQL::StringConcatenationMethods</a>, <a href='StringExpression/InequalityMethods.html' title='Sequel::SQL::InequalityMethods'>Sequel::SQL::InequalityMethods</a>, <a href='StringExpression/NoBooleanInputMethods.html' title='Sequel::SQL::NoBooleanInputMethods'>Sequel::SQL::NoBooleanInputMethods</a></p>
</div><div class="section docstring">
  <p>
Subclass of ComplexExpression where the expression results in a
text/string/varchar value in SQL.
</p>

</div><div class="section constants">
  <div class="inherited">
  
  <div>
    <h1>Constants Inherited from <a href='ComplexExpression.html' title='Sequel::SQL::ComplexExpression'>Sequel::SQL::ComplexExpression</a></h1>
    <p><span class='name'><a href='ComplexExpression.html#BITWISE_OPERATORS-constant' title='BITWISE_OPERATORS'>BITWISE_OPERATORS</a></span>, <span class='name'><a href='ComplexExpression.html#BOOLEAN_OPERATOR_METHODS-constant' title='BOOLEAN_OPERATOR_METHODS'>BOOLEAN_OPERATOR_METHODS</a></span>, <span class='name'><a href='ComplexExpression.html#INEQUALITY_OPERATORS-constant' title='INEQUALITY_OPERATORS'>INEQUALITY_OPERATORS</a></span>, <span class='name'><a href='ComplexExpression.html#IS_OPERATORS-constant' title='IS_OPERATORS'>IS_OPERATORS</a></span>, <span class='name'><a href='ComplexExpression.html#MATHEMATICAL_OPERATORS-constant' title='MATHEMATICAL_OPERATORS'>MATHEMATICAL_OPERATORS</a></span>, <span class='name'><a href='ComplexExpression.html#N_ARITY_OPERATORS-constant' title='N_ARITY_OPERATORS'>N_ARITY_OPERATORS</a></span>, <span class='name'><a href='ComplexExpression.html#ONE_ARITY_OPERATORS-constant' title='ONE_ARITY_OPERATORS'>ONE_ARITY_OPERATORS</a></span>, <span class='name'><a href='ComplexExpression.html#OPERTATOR_INVERSIONS-constant' title='OPERTATOR_INVERSIONS'>OPERTATOR_INVERSIONS</a></span>, <span class='name'><a href='ComplexExpression.html#TWO_ARITY_OPERATORS-constant' title='TWO_ARITY_OPERATORS'>TWO_ARITY_OPERATORS</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
</div><div class="section constructor">
<h1>Constructor Summary</h1>
  <p class="inherited_msg">
    This class inherits a constructor from <a href='NoBooleanInputMethods.html#initialize-instance_method' title='Sequel::SQL::NoBooleanInputMethods'>Sequel::SQL::NoBooleanInputMethods</a>.
  </p>
</div>  <div class="section visibilitygroup public">
    <h1>Public Visibility</h1>
      <div class="section methodsummary class public">
    <h1>Public Class Method Summary</h1>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#like-class_method' title='like'>like</a></span><span class='args'>(l, *ces)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Creates a SQL pattern match exprssion.
</p>

        
      </td>
    </tr>
  
</table><div class="inherited">
  
  <div>
    <h1>Public Class Methods Inherited from <a href='Expression.html' title='Sequel::SQL::Expression'>Sequel::SQL::Expression</a></h1>
    <p><span class='name'><a href='Expression.html#to_s_method-class_method' title='to_s_method'>to_s_method</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
  <div class="section methodsummary instance public">
    <div class="inherited">
  
  <div>
    <h1>Public Instance Methods Inherited from <a href='ComplexExpression.html' title='Sequel::SQL::ComplexExpression'>Sequel::SQL::ComplexExpression</a></h1>
    <p><span class='name'><a href='ComplexExpression.html#eql%3F-instance_method' title='eql?'>eql?</a></span></p>
  </div>
  
  <div>
    <h1>Public Instance Methods Inherited from <a href='Expression.html' title='Sequel::SQL::Expression'>Sequel::SQL::Expression</a></h1>
    <p><span class='name'><a href='Expression.html#lit-instance_method' title='lit'>lit</a></span></p>
  </div>
  
</div>
<div class="clear"></div><div class="included">
  
  <div>
    <h1>Public Instance Methods Included from <a href='StringExpression/StringMethods.html' title='Sequel::SQL::StringMethods'>Sequel::SQL::StringMethods</a></h1>
    <p><span class='name'><a href='StringMethods.html#ilike-instance_method' title='ilike'>ilike</a></span>, <span class='name'><a href='StringMethods.html#like-instance_method' title='like'>like</a></span></p>
  </div>
  
  <div>
    <h1>Public Instance Methods Included from <a href='StringExpression/StringConcatenationMethods.html' title='Sequel::SQL::StringConcatenationMethods'>Sequel::SQL::StringConcatenationMethods</a></h1>
    <p><span class='name'><a href='StringConcatenationMethods.html#%2B-instance_method' title='+'>+</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails class public">
  <h1>Public Class Method Details</h1>
  
    <div class="method">
      <div class="method_header">
  <h3>like</h3>
</div><div id="like-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>like</span><span class='args'>(l, *ces)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Creates a SQL pattern match exprssion. left (l) is the SQL string we are
matching against, and ces are the patterns we are matching. The match
succeeds if any of the patterns match (SQL OR). Patterns can be given as
strings or regular expressions. Strings will cause the SQL LIKE operator to
be used, and should be supported by most databases. Regular expressions
will probably only work on MySQL and PostgreSQL, and SQL regular expression
syntax is not fully compatible with ruby regular expression syntax, so be
careful if using regular expressions.
</p>
<p>
The pattern match will be case insensitive if the last argument is a hash
with a key of :case_insensitive that is not false or nil. Also, if a case
insensitive regular expression is used (//i), that particular pattern which
will always be case insensitive.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


696
697
698
699
700
701
702
703</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/sequel/sql.rb', line 696</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='like identifier id'>like</span><span class='lparen token'>(</span><span class='l identifier id'>l</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='ces identifier id'>ces</span><span class='rparen token'>)</span>
  <span class='case_insensitive identifier id'>case_insensitive</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='ces identifier id'>ces</span><span class='dot token'>.</span><span class='last identifier id'>last</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='ces identifier id'>ces</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span> <span class='colon op'>:</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='symbol val'>:case_insensitive</span><span class='rbrack token'>]</span>
  <span class='ces identifier id'>ces</span><span class='dot token'>.</span><span class='collect! fid id'>collect!</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='ce identifier id'>ce</span><span class='bitor op'>|</span>
    <span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='expr identifier id'>expr</span> <span class='assign token'>=</span> <span class='Regexp constant id'>Regexp</span> <span class='eqq op'>===</span> <span class='ce identifier id'>ce</span> <span class='integer val'>? </span><span class='lbrack token'>[</span><span class='ce identifier id'>ce</span><span class='dot token'>.</span><span class='casefold? fid id'>casefold?</span> <span class='orop op'>||</span> <span class='case_insensitive identifier id'>case_insensitive</span> <span class='integer val'>? </span><span class='symbol val'>:'~*'</span> <span class='colon op'>:</span> <span class='symbol val'>:~</span><span class='comma token'>,</span> <span class='ce identifier id'>ce</span><span class='dot token'>.</span><span class='source identifier id'>source</span><span class='rbrack token'>]</span> <span class='colon op'>:</span> <span class='lbrack token'>[</span><span class='case_insensitive identifier id'>case_insensitive</span> <span class='integer val'>? </span><span class='symbol val'>:ILIKE</span> <span class='colon op'>:</span> <span class='symbol val'>:LIKE</span><span class='comma token'>,</span> <span class='ce identifier id'>ce</span><span class='rbrack token'>]</span>
    <span class='BooleanExpression constant id'>BooleanExpression</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='l identifier id'>l</span><span class='comma token'>,</span> <span class='expr identifier id'>expr</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='ces identifier id'>ces</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='eq op'>==</span> <span class='integer val'>1</span> <span class='question op'>?</span> <span class='ces identifier id'>ces</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='BooleanExpression constant id'>BooleanExpression</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:OR</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='ces identifier id'>ces</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
</div>
  </div>

</div>
    </div>
  </body>
</html>