<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="../syntax_highlight.css" type="text/css" charset="utf-8" />

    <script src="../jquery.js" type="text/javascript" charset="utf-8"></script>
    <script src="../app.js" type="text/javascript" charset="utf-8"></script>
    <title>Class: Sequel::Dataset</title>
  </head>
  <body>
    <div id="content">
      <div class="section class Sequel_Dataset">
  <h1 class="title">Class: Sequel::Dataset</h1>
  <div class="section mixins">
  <h1>Included Modules</h1>
  <p><a href='Dataset/Metaprogramming.html' title='Sequel::Metaprogramming'>Sequel::Metaprogramming</a>, Enumerable</p>
</div><div class="section docstring">
  <p>
A dataset represents an SQL query, or more generally, an abstract set of
rows in the database. Datasets can be used to create, retrieve, update and
delete records.
</p>
<p>
Query results are always retrieved on demand, so a dataset can be kept
around and reused indefinitely (datasets never cache results):
</p>
<pre class="code">
  <span class='my_posts identifier id'>my_posts</span> <span class='assign token'>=</span> <span class='DB constant id'>DB</span><span class='lbrack token'>[</span><span class='symbol val'>:posts</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='filter identifier id'>filter</span><span class='lparen token'>(</span><span class='symbol val'>:author</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'david'</span><span class='rparen token'>)</span> <span class='comment val'># no records are retrieved</span>
  <span class='my_posts identifier id'>my_posts</span><span class='dot token'>.</span><span class='all identifier id'>all</span> <span class='comment val'># records are retrieved</span>
  <span class='my_posts identifier id'>my_posts</span><span class='dot token'>.</span><span class='all identifier id'>all</span> <span class='comment val'># records are retrieved again</span>
</pre>
<p>
Most dataset methods return modified copies of the dataset (functional
style), so you can reuse different datasets to access data:
</p>
<pre class="code">
  <span class='posts identifier id'>posts</span> <span class='assign token'>=</span> <span class='DB constant id'>DB</span><span class='lbrack token'>[</span><span class='symbol val'>:posts</span><span class='rbrack token'>]</span>
  <span class='davids_posts identifier id'>davids_posts</span> <span class='assign token'>=</span> <span class='posts identifier id'>posts</span><span class='dot token'>.</span><span class='filter identifier id'>filter</span><span class='lparen token'>(</span><span class='symbol val'>:author</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'david'</span><span class='rparen token'>)</span>
  <span class='old_posts identifier id'>old_posts</span> <span class='assign token'>=</span> <span class='posts identifier id'>posts</span><span class='dot token'>.</span><span class='filter identifier id'>filter</span><span class='lparen token'>(</span><span class='string val'>'stamp &lt; ?'</span><span class='comma token'>,</span> <span class='Date constant id'>Date</span><span class='dot token'>.</span><span class='today identifier id'>today</span> <span class='minus op'>-</span> <span class='integer val'>7</span><span class='rparen token'>)</span>
  <span class='davids_old_posts identifier id'>davids_old_posts</span> <span class='assign token'>=</span> <span class='davids_posts identifier id'>davids_posts</span><span class='dot token'>.</span><span class='filter identifier id'>filter</span><span class='lparen token'>(</span><span class='string val'>'stamp &lt; ?'</span><span class='comma token'>,</span> <span class='Date constant id'>Date</span><span class='dot token'>.</span><span class='today identifier id'>today</span> <span class='minus op'>-</span> <span class='integer val'>7</span><span class='rparen token'>)</span>
</pre>
<p>
Datasets are Enumerable objects, so they can be manipulated using any of
the Enumerable methods, such as map, inject, etc.
</p>
<h3>Methods added via metaprogramming</h3>
<p>
Some methods are added via metaprogramming:
</p>
<ul>
<li>! methods - These methods are the same as their non-! counterparts, but
they modify the receiver instead of returning a modified copy of the
dataset.

</li>
<li>inner_join, full_outer_join, right_outer_join, left_outer_join - This
methods are shortcuts to join_table with the join type already specified.

</li>
</ul>

</div><div class="section attributes">
  <h1>Attributes</h1>

  
    <div class="instance">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">db</td>
          <td class="readwrite">
            [<span id='db-instance_method'>R</span><span id='db%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
The database that corresponds to this dataset.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">identifier_input_method</td>
          <td class="readwrite">
            [<span id='identifier_input_method-instance_method'>R</span><span id='identifier_input_method%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Set the method to call on identifiers going into the database for this
dataset.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">identifier_output_method</td>
          <td class="readwrite">
            [<span id='identifier_output_method-instance_method'>R</span><span id='identifier_output_method%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Set the method to call on identifiers coming the database for this dataset.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">opts</td>
          <td class="readwrite">
            [<span id='opts-instance_method'>R</span><span id='opts%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
The hash of options for this dataset, keys are symbols.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">quote_identifiers</td>
          <td class="readwrite">
            [R<span id='quote_identifiers%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Whether to quote identifiers for this dataset.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">row_proc</td>
          <td class="readwrite">
            [<span id='row_proc-instance_method'>R</span><span id='row_proc%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
The row_proc for this database, should be a Proc that takes a single hash
argument and returns the object you want each to return.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  <div class="thisclass">
  <h1>Constants</h1>
  <dl>
    
      <dt id="COLUMN_CHANGE_OPTS-constant">COLUMN_CHANGE_OPTS</dt>
      <dd>[:select, :sql, :from, :join].freeze</dd>
    
      <dt id="MUTATION_METHODS-constant">MUTATION_METHODS</dt>
      <dd>%w'add_graph_aliases and distinct exclude exists
filter from from_self full_outer_join graph
group group_and_count group_by having inner_join intersect invert join
left_outer_join limit naked or order order_by order_more paginate query reject
reverse reverse_order right_outer_join select select_all select_more
set_defaults set_graph_aliases set_overrides sort sort_by
unfiltered union unordered where with_sql'.collect{|x| x.to_sym}</dd>
    
      <dt id="NOTIMPL_MSG-constant">NOTIMPL_MSG</dt>
      <dd>&quot;This method must be overridden in Sequel adapters&quot;.freeze</dd>
    
  </dl>
</div>

</div><div class="section constructor">
<h1>Constructor Summary</h1>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(db, opts = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Constructs a new Dataset instance with an associated database and options.
Datasets are usually constructed by invoking the Database#[] method:
</p>
<pre class="code">
  <span class='DB constant id'>DB</span><span class='lbrack token'>[</span><span class='symbol val'>:posts</span><span class='rbrack token'>]</span>
</pre>
<p>
Sequel::Dataset is an abstract class that is not useful by itself. Each
database adaptor should provide a subclass of Sequel::Dataset, and have the
Database#dataset method return an instance of that class.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


83
84
85
86
87
88
89
90</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/sequel/dataset.rb', line 83</span>

<span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='db identifier id'>db</span><span class='comma token'>,</span> <span class='opts identifier id'>opts</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='@db ivar id'>@db</span> <span class='assign token'>=</span> <span class='db identifier id'>db</span>
  <span class='@quote_identifiers ivar id'>@quote_identifiers</span> <span class='assign token'>=</span> <span class='db identifier id'>db</span><span class='dot token'>.</span><span class='quote_identifiers? fid id'>quote_identifiers?</span> <span class='if if_mod kw'>if</span> <span class='db identifier id'>db</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:quote_identifiers?</span><span class='rparen token'>)</span>
  <span class='@identifier_input_method ivar id'>@identifier_input_method</span> <span class='assign token'>=</span> <span class='db identifier id'>db</span><span class='dot token'>.</span><span class='identifier_input_method identifier id'>identifier_input_method</span> <span class='if if_mod kw'>if</span> <span class='db identifier id'>db</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:identifier_input_method</span><span class='rparen token'>)</span>
  <span class='@identifier_output_method ivar id'>@identifier_output_method</span> <span class='assign token'>=</span> <span class='db identifier id'>db</span><span class='dot token'>.</span><span class='identifier_output_method identifier id'>identifier_output_method</span> <span class='if if_mod kw'>if</span> <span class='db identifier id'>db</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:identifier_output_method</span><span class='rparen token'>)</span>
  <span class='@opts ivar id'>@opts</span> <span class='assign token'>=</span> <span class='opts identifier id'>opts</span> <span class='orop op'>||</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='@row_proc ivar id'>@row_proc</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
</div>  <div class="section visibilitygroup public">
    <h1>Public Visibility</h1>
      <div class="section methodsummary class public">
    <h1>Public Class Method Summary</h1>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#def_mutation_method-class_method' title='def_mutation_method'>def_mutation_method</a></span><span class='args'>(*meths)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Class Methods ### Setup mutation (e.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary instance public">
    <h1>Public Instance Method Summary</h1>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#%3C%3C-instance_method' title='#&lt;&lt;'>#&lt;&lt;</a></span><span class='args'>(*args)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Instance Methods ### Alias for insert, but not aliased directly so
subclasses don&#8217;t have to override both methods.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#all-instance_method' title='#all'>#all</a></span><span class='args'>(&amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns an array with all records in the dataset.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#as-instance_method' title='#as'>#as</a></span><span class='args'>(aliaz)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Return the dataset as an aliased expression with the given alias.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#clone-instance_method' title='#clone'>#clone</a></span><span class='args'>(opts = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a new clone of the dataset with with the given options merged.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#columns-instance_method' title='#columns'>#columns</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the columns in the result set in order.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#columns%21-instance_method' title='#columns!'>#columns!</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Remove the cached list of columns and do a SELECT query to find the
columns.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#def_mutation_method-instance_method' title='#def_mutation_method'>#def_mutation_method</a></span><span class='args'>(*meths)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Add a mutation method to this dataset instance.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#delete-instance_method' title='#delete'>#delete</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Deletes the records in the dataset.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#each-instance_method' title='#each'>#each</a></span><span class='args'>(&amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Iterates over the records in the dataset as they are yielded from the
database adapter, and returns self.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#fetch_rows-instance_method' title='#fetch_rows'>#fetch_rows</a></span><span class='args'>(sql, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Executes a select query and fetches records, passing each record to the
supplied block.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#insert-instance_method' title='#insert'>#insert</a></span><span class='args'>(*values)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Inserts values into the associated table.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#inspect-instance_method' title='#inspect'>#inspect</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a string representation of the dataset including the class name and
the corresponding SQL select statement.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#naked-instance_method' title='#naked'>#naked</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a naked dataset clone - i.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#quote_identifiers%3F-instance_method' title='#quote_identifiers?'>#quote_identifiers?</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Whether this dataset quotes identifiers.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#server-instance_method' title='#server'>#server</a></span><span class='args'>(servr)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Set the server for this dataset to use.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#set-instance_method' title='#set'>#set</a></span><span class='args'>(*args)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Alias for set, but not aliased directly so subclasses don&#8217;t have to
override both methods.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#set_defaults-instance_method' title='#set_defaults'>#set_defaults</a></span><span class='args'>(hash)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Set the default values for insert and update statements.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#set_overrides-instance_method' title='#set_overrides'>#set_overrides</a></span><span class='args'>(hash)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Set values that override hash arguments given to insert and update
statements.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#update-instance_method' title='#update'>#update</a></span><span class='args'>(values={})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Updates values for the dataset.
</p>

        
      </td>
    </tr>
  
</table><div class="included">
  
  <div>
    <h1>Public Instance Methods Included from <a href='Dataset/Metaprogramming.html' title='Sequel::Metaprogramming'>Sequel::Metaprogramming</a></h1>
    <p><span class='name'><a href='Metaprogramming.html#meta_def-instance_method' title='meta_def'>meta_def</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails class public">
  <h1>Public Class Method Details</h1>
  
    <div class="method">
      <div class="method_header">
  <h3>def_mutation_method</h3>
</div><div id="def_mutation_method-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>def_mutation_method</span><span class='args'>(*meths)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Class Methods ### Setup mutation (e.g. filter!) methods. These operate the
same as the non-! methods, but replace the options of the current dataset
with the options of the resulting dataset.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


97
98
99
100
101</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/sequel/dataset.rb', line 97</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='def_mutation_method identifier id'>def_mutation_method</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='meths identifier id'>meths</span><span class='rparen token'>)</span>
  <span class='meths identifier id'>meths</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='meth identifier id'>meth</span><span class='bitor op'>|</span>
    <span class='class_eval identifier id'>class_eval</span><span class='lparen token'>(</span><span class='dstring node'>&quot;def #{meth}!(*args, &amp;block); mutation_method(:#{meth}, *args, &amp;block) end&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
</div><div class="section methoddetails instance public">
  <h1>Public Instance Method Details</h1>
  
    <div class="method">
      <div class="method_header">
  <h3>&lt;&lt;</h3>
</div><div id="%3C%3C-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'><<</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Instance Methods ### Alias for insert, but not aliased directly so
subclasses don&#8217;t have to override both methods.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


107
108
109</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/sequel/dataset.rb', line 107</span>

<span class='def def kw'>def</span> <span class='lshft op'>&lt;&lt;</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>all</h3>
</div><div id="all-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>all</span><span class='args'>(&amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns an array with all records in the dataset. If a block is given, the
array is iterated over after all items have been loaded.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


120
121
122
123
124
125
126</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/sequel/dataset.rb', line 120</span>

<span class='def def kw'>def</span> <span class='all identifier id'>all</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='each identifier id'>each</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='r identifier id'>r</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span> <span class='lshft op'>&lt;&lt;</span> <span class='r identifier id'>r</span><span class='rbrace token'>}</span>
  <span class='post_load identifier id'>post_load</span><span class='lparen token'>(</span><span class='a identifier id'>a</span><span class='rparen token'>)</span>
  <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='block identifier id'>block</span>
  <span class='a identifier id'>a</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>as</h3>
</div><div id="as-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>as</span><span class='args'>(aliaz)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Return the dataset as an aliased expression with the given alias. You can
use this as a FROM or JOIN dataset, or as a column if this dataset returns
a single row and column.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


114
115
116</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/sequel/dataset.rb', line 114</span>

<span class='def def kw'>def</span> <span class='as identifier id'>as</span><span class='lparen token'>(</span><span class='aliaz identifier id'>aliaz</span><span class='rparen token'>)</span>
  <span class='colon3 op'>::</span><span class='Sequel constant id'>Sequel</span><span class='colon2 op'>::</span><span class='SQL constant id'>SQL</span><span class='colon2 op'>::</span><span class='AliasedExpression constant id'>AliasedExpression</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='aliaz identifier id'>aliaz</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>clone</h3>
</div><div id="clone-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>clone</span><span class='args'>(opts = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a new clone of the dataset with with the given options merged. If
the options changed include options in COLUMN_CHANGE_OPTS, the cached
columns are deleted.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


131
132
133
134
135
136</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/sequel/dataset.rb', line 131</span>

<span class='def def kw'>def</span> <span class='clone identifier id'>clone</span><span class='lparen token'>(</span><span class='opts identifier id'>opts</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='c identifier id'>c</span> <span class='assign token'>=</span> <span class='super super kw'>super</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='opts identifier id'>opts</span> <span class='assign token'>=</span> <span class='@opts ivar id'>@opts</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='opts identifier id'>opts</span><span class='rparen token'>)</span>
  <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='instance_variable_set identifier id'>instance_variable_set</span><span class='lparen token'>(</span><span class='symbol val'>:@columns</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='any? fid id'>any?</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='o identifier id'>o</span><span class='bitor op'>|</span> <span class='COLUMN_CHANGE_OPTS constant id'>COLUMN_CHANGE_OPTS</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='o identifier id'>o</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
  <span class='c identifier id'>c</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>columns</h3>
</div><div id="columns-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>columns</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the columns in the result set in order. If the columns are
currently cached, returns the cached value. Otherwise, a SELECT query is
performed to get a single row. Adapters are expected to fill the columns
cache with the column information when a query is performed. If the dataset
does not have any rows, this may be an empty array depending on how the
adapter is programmed.
</p>
<p>
If you are looking for all columns for a single table and maybe some
information about each column (e.g. type), see Database#schema.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


147
148
149
150
151
152
153</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/sequel/dataset.rb', line 147</span>

<span class='def def kw'>def</span> <span class='columns identifier id'>columns</span>
  <span class='return return kw'>return</span> <span class='@columns ivar id'>@columns</span> <span class='if if_mod kw'>if</span> <span class='@columns ivar id'>@columns</span>
  <span class='ds identifier id'>ds</span> <span class='assign token'>=</span> <span class='unfiltered identifier id'>unfiltered</span><span class='dot token'>.</span><span class='unordered identifier id'>unordered</span><span class='dot token'>.</span><span class='clone identifier id'>clone</span><span class='lparen token'>(</span><span class='symbol val'>:distinct</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='symbol val'>:limit</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>1</span><span class='rparen token'>)</span>
  <span class='ds identifier id'>ds</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span><span class='break break kw'>break</span><span class='rbrace token'>}</span>
  <span class='@columns ivar id'>@columns</span> <span class='assign token'>=</span> <span class='ds identifier id'>ds</span><span class='dot token'>.</span><span class='instance_variable_get identifier id'>instance_variable_get</span><span class='lparen token'>(</span><span class='symbol val'>:@columns</span><span class='rparen token'>)</span>
  <span class='@columns ivar id'>@columns</span> <span class='orop op'>||</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>columns!</h3>
</div><div id="columns%21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>columns!</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Remove the cached list of columns and do a SELECT query to find the
columns.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


157
158
159
160</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/sequel/dataset.rb', line 157</span>

<span class='def def kw'>def</span> <span class='columns! fid id'>columns!</span>
  <span class='@columns ivar id'>@columns</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='columns identifier id'>columns</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>def_mutation_method</h3>
</div><div id="def_mutation_method-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>def_mutation_method</span><span class='args'>(*meths)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Add a mutation method to this dataset instance.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


163
164
165
166
167</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/sequel/dataset.rb', line 163</span>

<span class='def def kw'>def</span> <span class='def_mutation_method identifier id'>def_mutation_method</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='meths identifier id'>meths</span><span class='rparen token'>)</span>
  <span class='meths identifier id'>meths</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='meth identifier id'>meth</span><span class='bitor op'>|</span>
    <span class='instance_eval identifier id'>instance_eval</span><span class='lparen token'>(</span><span class='dstring node'>&quot;def #{meth}!(*args, &amp;block); mutation_method(:#{meth}, *args, &amp;block) end&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>delete</h3>
</div><div id="delete-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>delete</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Deletes the records in the dataset. The returned value is generally the
number of records deleted, but that is adapter dependent.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


171
172
173</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/sequel/dataset.rb', line 171</span>

<span class='def def kw'>def</span> <span class='delete identifier id'>delete</span>
  <span class='execute_dui identifier id'>execute_dui</span><span class='lparen token'>(</span><span class='delete_sql identifier id'>delete_sql</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>each</h3>
</div><div id="each-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>each</span><span class='args'>(&amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Iterates over the records in the dataset as they are yielded from the
database adapter, and returns self.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


177
178
179
180
181
182
183
184
185
186
187
188</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/sequel/dataset.rb', line 177</span>

<span class='def def kw'>def</span> <span class='each identifier id'>each</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='@opts ivar id'>@opts</span><span class='lbrack token'>[</span><span class='colon op'>:</span><span class='graph identifier id'>graph</span><span class='rbrack token'>]</span>
    <span class='graph_each identifier id'>graph_each</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='if if kw'>if</span> <span class='row_proc identifier id'>row_proc</span> <span class='assign token'>=</span> <span class='@row_proc ivar id'>@row_proc</span>
      <span class='fetch_rows identifier id'>fetch_rows</span><span class='lparen token'>(</span><span class='select_sql identifier id'>select_sql</span><span class='rparen token'>)</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='r identifier id'>r</span><span class='bitor op'>|</span> <span class='yield yield kw'>yield</span> <span class='row_proc identifier id'>row_proc</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='r identifier id'>r</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
    <span class='else else kw'>else</span>
      <span class='fetch_rows identifier id'>fetch_rows</span><span class='lparen token'>(</span><span class='select_sql identifier id'>select_sql</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>fetch_rows</h3>
</div><div id="fetch_rows-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>fetch_rows</span><span class='args'>(sql, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Executes a select query and fetches records, passing each record to the
supplied block. The yielded records should be hashes with symbol keys.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>NotImplementedError</tt>]</span>
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


192
193
194</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/sequel/dataset.rb', line 192</span>

<span class='def def kw'>def</span> <span class='fetch_rows identifier id'>fetch_rows</span><span class='lparen token'>(</span><span class='sql identifier id'>sql</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='NotImplementedError constant id'>NotImplementedError</span><span class='comma token'>,</span> <span class='NOTIMPL_MSG constant id'>NOTIMPL_MSG</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>insert</h3>
</div><div id="insert-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>insert</span><span class='args'>(*values)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Inserts values into the associated table. The returned value is generally
the value of the primary key for the inserted row, but that is adapter
dependent.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


198
199
200</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/sequel/dataset.rb', line 198</span>

<span class='def def kw'>def</span> <span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='values identifier id'>values</span><span class='rparen token'>)</span>
  <span class='execute_insert identifier id'>execute_insert</span><span class='lparen token'>(</span><span class='insert_sql identifier id'>insert_sql</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='values identifier id'>values</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>inspect</h3>
</div><div id="inspect-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>inspect</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a string representation of the dataset including the class name and
the corresponding SQL select statement.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


204
205
206</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/sequel/dataset.rb', line 204</span>

<span class='def def kw'>def</span> <span class='inspect identifier id'>inspect</span>
  <span class='dstring node'>&quot;#&lt;#{self.class}: #{sql.inspect}&gt;&quot;</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>naked</h3>
</div><div id="naked-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>naked</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a naked dataset clone - i.e. a dataset that returns records as
hashes instead of calling the row proc.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


210
211
212
213
214</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/sequel/dataset.rb', line 210</span>

<span class='def def kw'>def</span> <span class='naked identifier id'>naked</span>
  <span class='ds identifier id'>ds</span> <span class='assign token'>=</span> <span class='clone identifier id'>clone</span>
  <span class='ds identifier id'>ds</span><span class='dot token'>.</span><span class='row_proc identifier id'>row_proc</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='ds identifier id'>ds</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>quote_identifiers?</h3>
</div><div id="quote_identifiers%3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>quote_identifiers?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Whether this dataset quotes identifiers.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


217
218
219</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/sequel/dataset.rb', line 217</span>

<span class='def def kw'>def</span> <span class='quote_identifiers? fid id'>quote_identifiers?</span>
  <span class='@quote_identifiers ivar id'>@quote_identifiers</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>server</h3>
</div><div id="server-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>server</span><span class='args'>(servr)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Set the server for this dataset to use. Used to pick a specific database
shard to run a query against, or to override the default (which is SELECT
uses :read_only database and all other queries use the :default database).
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


224
225
226</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/sequel/dataset.rb', line 224</span>

<span class='def def kw'>def</span> <span class='server identifier id'>server</span><span class='lparen token'>(</span><span class='servr identifier id'>servr</span><span class='rparen token'>)</span>
  <span class='clone identifier id'>clone</span><span class='lparen token'>(</span><span class='symbol val'>:server=</span><span class='gt op'>&gt;</span><span class='servr identifier id'>servr</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>set</h3>
</div><div id="set-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>set</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Alias for set, but not aliased directly so subclasses don&#8217;t have to
override both methods.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


230
231
232</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/sequel/dataset.rb', line 230</span>

<span class='def def kw'>def</span> <span class='set identifier id'>set</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='update identifier id'>update</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>set_defaults</h3>
</div><div id="set_defaults-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>set_defaults</span><span class='args'>(hash)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Set the default values for insert and update statements. The values passed
to insert or update are merged into this hash.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


236
237
238</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/sequel/dataset.rb', line 236</span>

<span class='def def kw'>def</span> <span class='set_defaults identifier id'>set_defaults</span><span class='lparen token'>(</span><span class='hash identifier id'>hash</span><span class='rparen token'>)</span>
  <span class='clone identifier id'>clone</span><span class='lparen token'>(</span><span class='symbol val'>:defaults=</span><span class='gt op'>&gt;</span><span class='lparen token'>(</span><span class='@opts ivar id'>@opts</span><span class='lbrack token'>[</span><span class='symbol val'>:defaults</span><span class='rbrack token'>]</span><span class='orop op'>||</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='hash identifier id'>hash</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>set_overrides</h3>
</div><div id="set_overrides-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>set_overrides</span><span class='args'>(hash)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Set values that override hash arguments given to insert and update
statements. This hash is merged into the hash provided to insert or update.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


242
243
244</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/sequel/dataset.rb', line 242</span>

<span class='def def kw'>def</span> <span class='set_overrides identifier id'>set_overrides</span><span class='lparen token'>(</span><span class='hash identifier id'>hash</span><span class='rparen token'>)</span>
  <span class='clone identifier id'>clone</span><span class='lparen token'>(</span><span class='symbol val'>:overrides=</span><span class='gt op'>&gt;</span><span class='hash identifier id'>hash</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='@opts ivar id'>@opts</span><span class='lbrack token'>[</span><span class='symbol val'>:overrides</span><span class='rbrack token'>]</span><span class='orop op'>||</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>update</h3>
</div><div id="update-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>update</span><span class='args'>(values={})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Updates values for the dataset. The returned value is generally the number
of rows updated, but that is adapter dependent.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


248
249
250</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/sequel/dataset.rb', line 248</span>

<span class='def def kw'>def</span> <span class='update identifier id'>update</span><span class='lparen token'>(</span><span class='values identifier id'>values</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='execute_dui identifier id'>execute_dui</span><span class='lparen token'>(</span><span class='update_sql identifier id'>update_sql</span><span class='lparen token'>(</span><span class='values identifier id'>values</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
</div>
  </div>

</div>
    </div>
  </body>
</html>