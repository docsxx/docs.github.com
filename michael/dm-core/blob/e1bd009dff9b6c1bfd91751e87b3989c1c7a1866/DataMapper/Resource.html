<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>michael's dm-core - Module: DataMapper::Resource - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/michael/commits/dm-core/master" rel="alternate" title="Recent Commits to dm-core:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("michael", "dm-core", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("michael", "dm-core", "e1bd009dff9b6c1bfd91751e87b3989c1c7a1866", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/michael/dm-core/tree/">Source</a></li>
            <li class=""><a href="http://github.com/michael/dm-core/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/michael/dm-core/network">Network</a></li>            
            <li class=""><a href="http://github.com/michael/dm-core/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/michael/dm-core">Wiki</a></li>
            <li class=""><a href="http://github.com/michael/dm-core/graphs">Graphs</a></li>                    
            <li class="active"><a href="/michael/dm-core">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/michael">michael</a> / <b><a href="http://github.com/michael/dm-core/tree">dm-core</a></b>        
                <a id="namespaces_button" rel="michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section module DataMapper_Resource">
  <h1>Module: DataMapper::Resource</h1>
  <div class="section mixins">
  <h2>Included Modules</h2>
  <p><a href="Resource/Chainable.html" title="DataMapper::Chainable">DataMapper::Chainable</a>, <a href="Resource/Deprecate.html" title="DataMapper::Deprecate">DataMapper::Deprecate</a>, Extlib::Assertions</p>
</div><div class="section mixins">
  <h2>Included Modules</h2>
  <p><a href="Resource/Chainable.html" title="DataMapper::Chainable">DataMapper::Chainable</a>, <a href="Resource/Deprecate.html" title="DataMapper::Deprecate">DataMapper::Deprecate</a>, Extlib::Assertions</p>
</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">collection</td>
          <td class="readwrite">
            [R<span id='collection=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Collection this resource associated with.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#append_inclusions-class_method">append_inclusions</span><span class='args'>(*inclusions)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#descendants-class_method">descendants</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#extra_inclusions-class_method">extra_inclusions</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#included-class_method">included</span><span class='args'>(model)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Makes sure a class gets all the methods when it includes Resource.
</p>

        
      </td>
    </tr>
  
</table><div class="included">
  
  <div>
    <h2>Public Class Methods Included from <a href="Resource/Chainable.html" title="DataMapper::Chainable">DataMapper::Chainable</a></h2>
    <p><span class='name'><a href="Chainable.html#chainable-instance_method" title="chainable">chainable</a></span>, <span class='name'><a href="Chainable.html#extendable-instance_method" title="extendable">extendable</a></span></p>
  </div>
  
  <div>
    <h2>Public Class Methods Included from <a href="Resource/Deprecate.html" title="DataMapper::Deprecate">DataMapper::Deprecate</a></h2>
    <p><span class='name'><a href="Deprecate.html#deprecate-instance_method" title="deprecate">deprecate</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-3C-3D-instance_method">#<=</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Compares two Resources to allow them to be sorted.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Integer</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-3D-3D-instance_method">#==</span><span class='args'>(other)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Compares another Resource for equivalency.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#attribute_dirty-3F-instance_method">#attribute_dirty?</span><span class='args'>(name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Checks if an attribute has unsaved changes.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#attribute_get-instance_method">#attribute_get</span><span class='args'>(name)</span>
        <span class='block'></span>
        
          <span class='alias'>#[]</span>
        
      </th>
      <td class="docstring">
        <p>
Returns the value of the attribute.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Object</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#attribute_loaded-3F-instance_method">#attribute_loaded?</span><span class='args'>(name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Checks if an attribute has been loaded from the repository.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#attribute_set-instance_method">#attribute_set</span><span class='args'>(name, value)</span>
        <span class='block'></span>
        
          <span class='alias'>#[]=</span>
        
      </th>
      <td class="docstring">
        <p>
Sets the value of the attribute and marks the attribute as dirty if it has
been changed so that it may be saved.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Object</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#attributes-instance_method">#attributes</span><span class='args'>(key_on = :name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Gets all the attributes of the Resource instance.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Hash</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#attributes-3D-instance_method">#attributes=</span><span class='args'>(attributes)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Assign values to multiple attributes in one call (mass assignment).
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Hash</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#collection-instance_method">#collection</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Gets a Collection with the current Resource instance as its only member.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt><a href="Collection.html" title="Collection">Collection</a></tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#destroy-instance_method">#destroy</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Destroy the instance, remove it from the repository.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#destroy-21-instance_method">#destroy!</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Destroy the instance, remove it from the repository, bypassing hooks.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#dirty-3F-instance_method">#dirty?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Checks if the resource has unsaved changes.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#dirty_attributes-instance_method">#dirty_attributes</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Hash of attributes that have unsaved changes.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Hash</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#eql-3F-instance_method">#eql?</span><span class='args'>(other)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Compares another Resource for equality.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#hash-instance_method">#hash</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns hash value of the object.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#inspect-instance_method">#inspect</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Get a Human-readable representation of this Resource instance.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>String</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#key-instance_method">#key</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Retrieve the key(s) for this resource.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Array(Key)</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#loaded_properties-instance_method">#loaded_properties</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Fetches all the names of the attributes that have been loaded, even if they
are lazy but have been called.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Array(Property)</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#new-3F-instance_method">#new?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Checks if this Resource instance is new.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#original_attributes-instance_method">#original_attributes</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Hash of original values of attributes that have unsaved changes.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Hash</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#reload-instance_method">#reload</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Reloads association and all child association.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt><a href="" title="Resource">Resource</a></tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#repository-instance_method">#repository</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Repository this resource belongs to in the context of this collection or of
the resource&#8217;s class.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt><a href="Repository.html" title="Repository">Repository</a></tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#reset-instance_method">#reset</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Reset the Resource to a similar state as a new record: removes it from
identity map and clears original property values (thus making all
properties non dirty).
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#saved-3F-instance_method">#saved?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Checks if this Resource instance is saved.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#update-instance_method">#update</span><span class='args'>(attributes = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Updates attributes and saves this Resource instance.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#update-21-instance_method">#update!</span><span class='args'>(attributes = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Updates attributes and saves this Resource instance, bypassing hooks.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#update_attributes-instance_method">#update_attributes</span><span class='args'>(attributes = {}, *allowed)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Deprecated API for updating attributes and saving Resource.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>append_inclusions</h3>
</div><div id="append_inclusions-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>append_inclusions</span><span class='args'>(*inclusions)</span>
    <span class='block'></span>
  </tt>
</div>

</div><p class="section deprecated">
  <strong>Deprecated.</strong> <em></em>
</p>

<div class="section tags">
  <h2>Meta Tags</h2>
  
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 10</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L10">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">10
11
12
13</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='append_inclusions identifier id'>append_inclusions</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='inclusions identifier id'>inclusions</span><span class='rparen token'>)</span>
  <span class='warn identifier id'>warn</span> <span class='string val'>'DataMapper::Resource.append_inclusions is deprecated, use DataMapper::Model.append_inclusions instead'</span>
  <span class='Model constant id'>Model</span><span class='dot token'>.</span><span class='append_inclusions identifier id'>append_inclusions</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='inclusions identifier id'>inclusions</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>descendants</h3>
</div><div id="descendants-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>descendants</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><p class="section deprecated">
  <strong>Deprecated.</strong> <em></em>
</p>

<div class="section tags">
  <h2>Meta Tags</h2>
  
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 22</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L22">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">22
23
24
25</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='descendants identifier id'>descendants</span>
  <span class='warn identifier id'>warn</span> <span class='string val'>'DataMapper::Resource.descendants is deprecated, use DataMapper::Model.descendants instead'</span>
  <span class='DataMapper constant id'>DataMapper</span><span class='colon2 op'>::</span><span class='Model constant id'>Model</span><span class='dot token'>.</span><span class='descendants identifier id'>descendants</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>extra_inclusions</h3>
</div><div id="extra_inclusions-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>extra_inclusions</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><p class="section deprecated">
  <strong>Deprecated.</strong> <em></em>
</p>

<div class="section tags">
  <h2>Meta Tags</h2>
  
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 16</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L16">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">16
17
18
19</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='extra_inclusions identifier id'>extra_inclusions</span>
  <span class='warn identifier id'>warn</span> <span class='string val'>'DataMapper::Resource.extra_inclusions is deprecated, use DataMapper::Model.extra_inclusions instead'</span>
  <span class='Model constant id'>Model</span><span class='dot token'>.</span><span class='extra_inclusions identifier id'>extra_inclusions</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>included</h3>
</div><div id="included-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>included</span><span class='args'>(model)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Makes sure a class gets all the methods when it includes Resource
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 49</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L49">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">49
50
51</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='included identifier id'>included</span><span class='lparen token'>(</span><span class='model identifier id'>model</span><span class='rparen token'>)</span>
  <span class='model identifier id'>model</span><span class='dot token'>.</span><span class='extend identifier id'>extend</span> <span class='Model constant id'>Model</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>&lt;=</h3>
</div><div id="-3C-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Integer</tt></span>
    <span class='name'><=</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Compares two Resources to allow them to be sorted
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Integer</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
Return 0 if Resources should be sorted as the same, -1 if the other
Resource should be after self, and 1 if the other Resource should be before
self
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 442</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L442">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">442
443
444
445
446
447
448
449
450
451
452
453</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='cmp op'>&lt;=&gt;</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
  <span class='unless unless kw'>unless</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span><span class='lparen token'>(</span><span class='model identifier id'>model</span><span class='rparen token'>)</span>
    <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Cannot compare a #{other.model} instance with a #{model} instance&quot;</span>
  <span class='end end kw'>end</span>
  <span class='cmp identifier id'>cmp</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='model identifier id'>model</span><span class='dot token'>.</span><span class='default_order identifier id'>default_order</span><span class='lparen token'>(</span><span class='repository_name identifier id'>repository_name</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='direction identifier id'>direction</span><span class='bitor op'>|</span>
    <span class='cmp identifier id'>cmp</span> <span class='assign token'>=</span> <span class='direction identifier id'>direction</span><span class='dot token'>.</span><span class='target identifier id'>target</span><span class='dot token'>.</span><span class='get! fid id'>get!</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='cmp op'>&lt;=&gt;</span> <span class='direction identifier id'>direction</span><span class='dot token'>.</span><span class='target identifier id'>target</span><span class='dot token'>.</span><span class='get! fid id'>get!</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
    <span class='cmp identifier id'>cmp</span> <span class='opasgn op'>*=</span> <span class='integer val'>-1</span> <span class='if if_mod kw'>if</span> <span class='direction identifier id'>direction</span><span class='dot token'>.</span><span class='operator identifier id'>operator</span> <span class='eq op'>==</span> <span class='symbol val'>:desc</span>
    <span class='break break kw'>break</span> <span class='if if_mod kw'>if</span> <span class='cmp identifier id'>cmp</span> <span class='neq op'>!=</span> <span class='integer val'>0</span>
  <span class='end end kw'>end</span>
  <span class='cmp identifier id'>cmp</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>==</h3>
</div><div id="-3D-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>==</span><span class='args'>(other)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Compares another Resource for equivalency
</p>
<p>
Resource is equal to <tt>other</tt> if they are the same object (identity)
or if they are both of the *same base model* and all of their attributes
are equivalent
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt><a href="" title="Resource">Resource</a></tt>]</span>
        <span class='name'>other</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
the other Resource to compare with
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt>FalseClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
true if they are equivalent, false if not
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 418</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L418">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">418
419
420
421
422
423
424
425
426
427
428</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='eq op'>==</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='equal? fid id'>equal?</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span>
  <span class='end end kw'>end</span>

  <span class='unless unless kw'>unless</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:model</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='model identifier id'>model</span><span class='dot token'>.</span><span class='base_model identifier id'>base_model</span><span class='dot token'>.</span><span class='equal? fid id'>equal?</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='dot token'>.</span><span class='model identifier id'>model</span><span class='dot token'>.</span><span class='base_model identifier id'>base_model</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='false false kw'>false</span>
  <span class='end end kw'>end</span>

  <span class='cmp? fid id'>cmp?</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='comma token'>,</span> <span class='symbol val'>:==</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>attribute_dirty?</h3>
</div><div id="attribute_dirty-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>attribute_dirty?</span><span class='args'>(name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Checks if an attribute has unsaved changes
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt><a href="../Symbol.html" title="Symbol">Symbol</a></tt>]</span>
        <span class='name'>name</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
name of attribute to check for unsaved changes
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt>FalseClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
true if attribute has unsaved changes
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 557</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L557">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">557
558
559</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='attribute_dirty? fid id'>attribute_dirty?</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='dirty_attributes identifier id'>dirty_attributes</span><span class='dot token'>.</span><span class='key? fid id'>key?</span><span class='lparen token'>(</span><span class='properties identifier id'>properties</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>attribute_get</h3>
</div><div id="attribute_get-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Object</tt></span>
    <span class='name'>attribute_get</span><span class='args'>(name)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="[]-instance_method">[]</tt>
  
</p>
</div><div class="section docstring">
  <p>
Returns the value of the attribute.
</p>
<p>
Do not read from instance variables directly, but use this method. This
method handles lazy loading the attribute and returning of defaults if
nessesary.
</p>
<pre class="code">
  <span class='Class constant id'>Class</span> <span class='Foo constant id'>Foo</span>
    <span class='include identifier id'>include</span> <span class='DataMapper constant id'>DataMapper</span><span class='colon2 op'>::</span><span class='Resource constant id'>Resource</span>

    <span class='property identifier id'>property</span> <span class='symbol val'>:first_name</span><span class='comma token'>,</span> <span class='String constant id'>String</span>
    <span class='property identifier id'>property</span> <span class='symbol val'>:last_name</span><span class='comma token'>,</span>  <span class='String constant id'>String</span>

    <span class='def def kw'>def</span> <span class='full_name identifier id'>full_name</span>
      <span class='dstring node'>&quot;#{attribute_get(:first_name)} #{attribute_get(:last_name)}&quot;</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># using the shorter syntax</span>
    <span class='def def kw'>def</span> <span class='name_for_address_book identifier id'>name_for_address_book</span>
      <span class='dstring node'>&quot;#{last_name}, #{first_name}&quot;</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt><a href="../Symbol.html" title="Symbol">Symbol</a></tt>]</span>
        <span class='name'>name</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
name of attribute to retrieve
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Object</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
the value stored at that given attribute (nil if none, and default if
necessary)
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 173</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L173">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">173
174
175</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='attribute_get identifier id'>attribute_get</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='properties identifier id'>properties</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>attribute_loaded?</h3>
</div><div id="attribute_loaded-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>attribute_loaded?</span><span class='args'>(name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Checks if an attribute has been loaded from the repository
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='Foo constant id'>Foo</span>
    <span class='include identifier id'>include</span> <span class='DataMapper constant id'>DataMapper</span><span class='colon2 op'>::</span><span class='Resource constant id'>Resource</span>

    <span class='property identifier id'>property</span> <span class='symbol val'>:name</span><span class='comma token'>,</span>        <span class='String constant id'>String</span>
    <span class='property identifier id'>property</span> <span class='symbol val'>:description</span><span class='comma token'>,</span> <span class='Text constant id'>Text</span><span class='comma token'>,</span>   <span class='symbol val'>:lazy</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span>
  <span class='end end kw'>end</span>

  <span class='Foo constant id'>Foo</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='dot token'>.</span><span class='attribute_loaded? fid id'>attribute_loaded?</span><span class='lparen token'>(</span><span class='symbol val'>:description</span><span class='rparen token'>)</span>   <span class='comment val'>#=&gt; false</span>
</pre>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt>FalseClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
true if ivar <tt>name</tt> has been loaded
</p>
</span>
    </dd>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt>FalseClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
true if ivar <tt>name</tt> has been loaded
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 522</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L522">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">522
523
524</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='attribute_loaded? fid id'>attribute_loaded?</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='properties identifier id'>properties</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='loaded? fid id'>loaded?</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>attribute_set</h3>
</div><div id="attribute_set-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Object</tt></span>
    <span class='name'>attribute_set</span><span class='args'>(name, value)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="[]=-instance_method">[]=</tt>
  
</p>
</div><div class="section docstring">
  <p>
Sets the value of the attribute and marks the attribute as dirty if it has
been changed so that it may be saved. Do not set from instance variables
directly, but use this method. This method handles the lazy loading the
property and returning of defaults if nessesary.
</p>
<pre class="code">
  <span class='Class constant id'>Class</span> <span class='Foo constant id'>Foo</span>
    <span class='include identifier id'>include</span> <span class='DataMapper constant id'>DataMapper</span><span class='colon2 op'>::</span><span class='Resource constant id'>Resource</span>

    <span class='property identifier id'>property</span> <span class='symbol val'>:first_name</span><span class='comma token'>,</span> <span class='String constant id'>String</span>
    <span class='property identifier id'>property</span> <span class='symbol val'>:last_name</span><span class='comma token'>,</span>  <span class='String constant id'>String</span>

    <span class='def def kw'>def</span> <span class='full_name identifier id'>full_name</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
      <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>' '</span><span class='rparen token'>)</span>
      <span class='attribute_set identifier id'>attribute_set</span><span class='lparen token'>(</span><span class='symbol val'>:first_name</span><span class='comma token'>,</span> <span class='name identifier id'>name</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
      <span class='attribute_set identifier id'>attribute_set</span><span class='lparen token'>(</span><span class='symbol val'>:last_name</span><span class='comma token'>,</span> <span class='name identifier id'>name</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># using the shorter syntax</span>
    <span class='def def kw'>def</span> <span class='name_from_address_book identifier id'>name_from_address_book</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
      <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>', '</span><span class='rparen token'>)</span>
      <span class='first_name identifier id'>first_name</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
      <span class='last_name identifier id'>last_name</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt><a href="../Symbol.html" title="Symbol">Symbol</a></tt>]</span>
        <span class='name'>name</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
name of attribute to set
</p>
</span>
      </dd>
    
  
    
      <dt>
        <span class='type'>[<tt>Object</tt>]</span>
        <span class='name'>value</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
value to store
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Object</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
the value stored at that given attribute, nil if none, and default if
necessary
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 216</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L216">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">216
217
218</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='attribute_set identifier id'>attribute_set</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='properties identifier id'>properties</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='set identifier id'>set</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>attributes</h3>
</div><div id="attributes-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Hash</tt></span>
    <span class='name'>attributes</span><span class='args'>(key_on = :name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Gets all the attributes of the Resource instance
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt><a href="../Symbol.html" title="Symbol">Symbol</a></tt>]</span>
        <span class='name'>key_on</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
Use this attribute of the Property as keys. defaults to :name. :field is
useful for adapters :property or nil use the actual Property object.
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Hash</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
All the attributes
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 234</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L234">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">234
235
236
237
238
239
240
241
242
243
244
245
246
247
248</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='attributes identifier id'>attributes</span><span class='lparen token'>(</span><span class='key_on identifier id'>key_on</span> <span class='assign token'>=</span> <span class='symbol val'>:name</span><span class='rparen token'>)</span>
  <span class='attributes identifier id'>attributes</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='properties identifier id'>properties</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='property identifier id'>property</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='model identifier id'>model</span><span class='dot token'>.</span><span class='public_method_defined? fid id'>public_method_defined?</span><span class='lparen token'>(</span><span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='property identifier id'>property</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
      <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='case case kw'>case</span> <span class='key_on identifier id'>key_on</span>
        <span class='when when kw'>when</span> <span class='symbol val'>:name</span>  <span class='then then kw'>then</span> <span class='name identifier id'>name</span>
        <span class='when when kw'>when</span> <span class='symbol val'>:field</span> <span class='then then kw'>then</span> <span class='property identifier id'>property</span><span class='dot token'>.</span><span class='field identifier id'>field</span>
        <span class='else else kw'>else</span>             <span class='property identifier id'>property</span>
      <span class='end end kw'>end</span>

      <span class='attributes identifier id'>attributes</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='attributes identifier id'>attributes</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>attributes=</h3>
</div><div id="attributes-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Hash</tt></span>
    <span class='name'>attributes=</span><span class='args'>(attributes)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Assign values to multiple attributes in one call (mass assignment)
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>Hash</tt>]</span>
        <span class='name'>attributes</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
names and values of attributes to assign
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Hash</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
names and values of attributes assigned
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 260</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L260">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">260
261
262
263
264
265
266
267
268
269
270
271
272
273
274</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='attributes= identifier id'>attributes=</span><span class='lparen token'>(</span><span class='attributes identifier id'>attributes</span><span class='rparen token'>)</span>
  <span class='comment val'># TODO: update to accept Property and Relationship objects as keys</span>
  <span class='attributes identifier id'>attributes</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span>
    <span class='case case kw'>case</span> <span class='name identifier id'>name</span>
      <span class='when when kw'>when</span> <span class='String constant id'>String</span><span class='comma token'>,</span> <span class='Symbol constant id'>Symbol</span>
        <span class='if if kw'>if</span> <span class='model identifier id'>model</span><span class='dot token'>.</span><span class='public_method_defined? fid id'>public_method_defined?</span><span class='lparen token'>(</span><span class='setter identifier id'>setter</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{name}=&quot;</span><span class='rparen token'>)</span>
          <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='setter identifier id'>setter</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
        <span class='else else kw'>else</span>
          <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;The property '#{name}' is not accessible in #{model}&quot;</span>
        <span class='end end kw'>end</span>
      <span class='when when kw'>when</span> <span class='Associations constant id'>Associations</span><span class='colon2 op'>::</span><span class='Relationship constant id'>Relationship</span><span class='comma token'>,</span> <span class='Property constant id'>Property</span>
        <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='set identifier id'>set</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>collection</h3>
</div><div id="collection-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt><a href="Collection.html" title="Collection">Collection</a></tt></span>
    <span class='name'>collection</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Gets a Collection with the current Resource instance as its only member
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="Collection.html" title="Collection">Collection</a></tt>, <tt>FalseClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
nil if this is a new record, otherwise a Collection with self as its only
member
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 597</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L597">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">597
598
599
600</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='collection identifier id'>collection</span>
  <span class='return return kw'>return</span> <span class='@collection ivar id'>@collection</span> <span class='if if_mod kw'>if</span> <span class='@collection ivar id'>@collection</span> <span class='orop op'>||</span> <span class='new? fid id'>new?</span> <span class='orop op'>||</span> <span class='frozen? fid id'>frozen?</span>
  <span class='@collection ivar id'>@collection</span> <span class='assign token'>=</span> <span class='Collection constant id'>Collection</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='query identifier id'>query</span><span class='comma token'>,</span> <span class='lbrack token'>[</span> <span class='self self kw'>self</span> <span class='rbrack token'>]</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>destroy</h3>
</div><div id="destroy-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>destroy</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Destroy the instance, remove it from the repository
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt>FalseClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
true if resource was destroyed
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 363</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L363">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">363
364
365</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='destroy identifier id'>destroy</span>
  <span class='_destroy identifier id'>_destroy</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>destroy!</h3>
</div><div id="destroy-21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>destroy!</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Destroy the instance, remove it from the repository, bypassing hooks
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt>FalseClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
true if resource was destroyed
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 374</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L374">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">374
375
376</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='destroy! fid id'>destroy!</span>
  <span class='_destroy identifier id'>_destroy</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>dirty?</h3>
</div><div id="dirty-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>dirty?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Checks if the resource has unsaved changes
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt>FalseClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
true if resource is new or has any unsaved changes
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 132</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L132">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">132
133
134
135
136
137
138
139
140</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='dirty? fid id'>dirty?</span>
  <span class='if if kw'>if</span> <span class='dirty_attributes identifier id'>dirty_attributes</span><span class='dot token'>.</span><span class='any? fid id'>any?</span>
    <span class='true true kw'>true</span>
  <span class='elsif elsif kw'>elsif</span> <span class='new? fid id'>new?</span>
    <span class='model identifier id'>model</span><span class='dot token'>.</span><span class='identity_field identifier id'>identity_field</span> <span class='orop op'>||</span> <span class='properties identifier id'>properties</span><span class='dot token'>.</span><span class='any? fid id'>any?</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='p identifier id'>p</span><span class='bitor op'>|</span> <span class='p identifier id'>p</span><span class='dot token'>.</span><span class='default? fid id'>default?</span> <span class='rbrace token'>}</span>
  <span class='else else kw'>else</span>
    <span class='false false kw'>false</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>dirty_attributes</h3>
</div><div id="dirty_attributes-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Hash</tt></span>
    <span class='name'>dirty_attributes</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Hash of attributes that have unsaved changes
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Hash</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
attributes that have unsaved changes
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 568</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L568">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">568
569
570
571
572
573
574
575
576</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='dirty_attributes identifier id'>dirty_attributes</span>
  <span class='dirty_attributes identifier id'>dirty_attributes</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>

  <span class='original_attributes identifier id'>original_attributes</span><span class='dot token'>.</span><span class='each_key identifier id'>each_key</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='property identifier id'>property</span><span class='bitor op'>|</span>
    <span class='dirty_attributes identifier id'>dirty_attributes</span><span class='lbrack token'>[</span><span class='property identifier id'>property</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='property identifier id'>property</span><span class='dot token'>.</span><span class='value identifier id'>value</span><span class='lparen token'>(</span><span class='property identifier id'>property</span><span class='dot token'>.</span><span class='get! fid id'>get!</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='dirty_attributes identifier id'>dirty_attributes</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>eql?</h3>
</div><div id="eql-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>eql?</span><span class='args'>(other)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Compares another Resource for equality
</p>
<p>
Resource is equal to <tt>other</tt> if they are the same object (identity)
or if they are both of the *same model* and all of their attributes are
equivalent
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt><a href="" title="Resource">Resource</a></tt>]</span>
        <span class='name'>other</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
the other Resource to compare with
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt>FalseClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
true if they are equal, false if not
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 392</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L392">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">392
393
394
395
396
397
398
399
400
401
402</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='eql? fid id'>eql?</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='equal? fid id'>equal?</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span>
  <span class='end end kw'>end</span>

  <span class='unless unless kw'>unless</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='equal? fid id'>equal?</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='false false kw'>false</span>
  <span class='end end kw'>end</span>

  <span class='cmp? fid id'>cmp?</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='comma token'>,</span> <span class='symbol val'>:eql?</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>hash</h3>
</div><div id="hash-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>hash</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns hash value of the object. Two objects with the same hash value
assumed equal (using eql? method)
</p>
<p>
DataMapper resources are equal when their models have the same hash and
they have the same set of properties
</p>
<p>
When used as key in a Hash or Hash subclass, objects are compared by eql?
and thus hash value has direct effect on lookup
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 465</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L465">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">465
466
467</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='hash identifier id'>hash</span>
  <span class='key identifier id'>key</span><span class='dot token'>.</span><span class='hash identifier id'>hash</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>inspect</h3>
</div><div id="inspect-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>String</tt></span>
    <span class='name'>inspect</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Get a Human-readable representation of this Resource instance
</p>
<pre class="code">
  <span class='Foo constant id'>Foo</span><span class='dot token'>.</span><span class='new identifier id'>new</span>   <span class='comment val'>#=&gt; #&lt;Foo name=nil updated_at=nil created_at=nil id=nil&gt;</span>
</pre>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>String</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
Human-readable representation of this Resource instance
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 478</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L478">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">478
479
480
481
482
483
484
485
486
487
488
489
490
491</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='inspect identifier id'>inspect</span>
  <span class='comment val'># TODO: display relationship values</span>
  <span class='attrs identifier id'>attrs</span> <span class='assign token'>=</span> <span class='properties identifier id'>properties</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='property identifier id'>property</span><span class='bitor op'>|</span>
    <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='if if kw'>if</span> <span class='new? fid id'>new?</span> <span class='orop op'>||</span> <span class='property identifier id'>property</span><span class='dot token'>.</span><span class='loaded? fid id'>loaded?</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
      <span class='property identifier id'>property</span><span class='dot token'>.</span><span class='get! fid id'>get!</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='inspect identifier id'>inspect</span>
    <span class='else else kw'>else</span>
      <span class='string val'>'&lt;not loaded&gt;'</span>
    <span class='end end kw'>end</span>

    <span class='dstring node'>&quot;#{property.instance_variable_name}=#{value}&quot;</span>
  <span class='end end kw'>end</span>

  <span class='dstring node'>&quot;#&lt;#{model.name} #{attrs.join(' ')}&gt;&quot;</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>key</h3>
</div><div id="key-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Array(Key)</tt></span>
    <span class='name'>key</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Retrieve the key(s) for this resource.
</p>
<p>
This always returns the persisted key value, even if the key is changed and
not yet persisted. This is done so all relations still work.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Array(Key)</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
the key(s) identifying this resource
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 88</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L88">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">88
89
90
91
92
93
94
95
96
97
98
99
100
101</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='key identifier id'>key</span>
  <span class='return return kw'>return</span> <span class='@key ivar id'>@key</span> <span class='if if_mod kw'>if</span> <span class='defined? defined kw'>defined?</span><span class='lparen token'>(</span><span class='@key ivar id'>@key</span><span class='rparen token'>)</span>

  <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='model identifier id'>model</span><span class='dot token'>.</span><span class='key identifier id'>key</span><span class='lparen token'>(</span><span class='repository_name identifier id'>repository_name</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='property identifier id'>property</span><span class='bitor op'>|</span>
    <span class='original_attributes identifier id'>original_attributes</span><span class='lbrack token'>[</span><span class='property identifier id'>property</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='lparen token'>(</span><span class='property identifier id'>property</span><span class='dot token'>.</span><span class='loaded? fid id'>loaded?</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='property identifier id'>property</span><span class='dot token'>.</span><span class='get! fid id'>get!</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='return return kw'>return</span> <span class='unless unless_mod kw'>unless</span> <span class='key identifier id'>key</span><span class='dot token'>.</span><span class='all? fid id'>all?</span>

  <span class='comment val'># memoize the key if the Resource is not frozen</span>
  <span class='@key ivar id'>@key</span> <span class='assign token'>=</span> <span class='key identifier id'>key</span> <span class='unless unless_mod kw'>unless</span> <span class='frozen? fid id'>frozen?</span>

  <span class='key identifier id'>key</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>loaded_properties</h3>
</div><div id="loaded_properties-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Array(Property)</tt></span>
    <span class='name'>loaded_properties</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Fetches all the names of the attributes that have been loaded, even if they
are lazy but have been called
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='Foo constant id'>Foo</span>
    <span class='include identifier id'>include</span> <span class='DataMapper constant id'>DataMapper</span><span class='colon2 op'>::</span><span class='Resource constant id'>Resource</span>

    <span class='property identifier id'>property</span> <span class='symbol val'>:name</span><span class='comma token'>,</span>        <span class='String constant id'>String</span>
    <span class='property identifier id'>property</span> <span class='symbol val'>:description</span><span class='comma token'>,</span> <span class='Text constant id'>Text</span><span class='comma token'>,</span>   <span class='symbol val'>:lazy</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span>
  <span class='end end kw'>end</span>

  <span class='Foo constant id'>Foo</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='dot token'>.</span><span class='loaded_properties identifier id'>loaded_properties</span>   <span class='comment val'>#=&gt;  [ #&lt;Property @model=Foo @name=:name&gt; ]</span>
</pre>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Array(Property)</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
names of attributes that have been loaded
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 543</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L543">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">543
544
545</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='loaded_properties identifier id'>loaded_properties</span>
  <span class='properties identifier id'>properties</span><span class='dot token'>.</span><span class='select identifier id'>select</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='p identifier id'>p</span><span class='bitor op'>|</span> <span class='p identifier id'>p</span><span class='dot token'>.</span><span class='loaded? fid id'>loaded?</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>new?</h3>
</div><div id="new-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>new?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Checks if this Resource instance is new
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt>FalseClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
true if the resource is new and not saved
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 110</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L110">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">110
111
112</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='new? fid id'>new?</span>
  <span class='notop op'>!</span><span class='saved? fid id'>saved?</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>original_attributes</h3>
</div><div id="original_attributes-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Hash</tt></span>
    <span class='name'>original_attributes</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Hash of original values of attributes that have unsaved changes
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Hash</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
original values of attributes that have unsaved changes
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 500</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L500">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">500
501
502</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='original_attributes identifier id'>original_attributes</span>
  <span class='@original_attributes ivar id'>@original_attributes</span> <span class='opasgn op'>||=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>reload</h3>
</div><div id="reload-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt><a href="" title="Resource">Resource</a></tt></span>
    <span class='name'>reload</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Reloads association and all child association
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="" title="Resource">Resource</a></tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
the receiver, the current Resource instance
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 283</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L283">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">283
284
285
286
287
288
289
290</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='reload identifier id'>reload</span>
  <span class='if if kw'>if</span> <span class='saved? fid id'>saved?</span>
    <span class='reload_attributes identifier id'>reload_attributes</span><span class='lparen token'>(</span><span class='loaded_properties identifier id'>loaded_properties</span><span class='rparen token'>)</span>
    <span class='child_associations identifier id'>child_associations</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='reload identifier id'>reload</span> <span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>

  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>repository</h3>
</div><div id="repository-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt><a href="Repository.html" title="Repository">Repository</a></tt></span>
    <span class='name'>repository</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Repository this resource belongs to in the context of this collection or of
the resource&#8217;s class.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="Repository.html" title="Repository">Repository</a></tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
the respository this resource belongs to, in the context of a collection OR
in the instance&#8217;s Model&#8217;s context
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 72</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L72">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">72
73
74
75</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='repository identifier id'>repository</span>
  <span class='comment val'># only set @repository explicitly when persisted</span>
  <span class='defined? defined kw'>defined?</span><span class='lparen token'>(</span><span class='@repository ivar id'>@repository</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='@repository ivar id'>@repository</span> <span class='colon op'>:</span> <span class='model identifier id'>model</span><span class='dot token'>.</span><span class='repository identifier id'>repository</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>reset</h3>
</div><div id="reset-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>reset</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Reset the Resource to a similar state as a new record: removes it from
identity map and clears original property values (thus making all
properties non dirty)
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 584</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L584">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">584
585
586
587
588</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='reset identifier id'>reset</span>
  <span class='@saved ivar id'>@saved</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
  <span class='identity_map identifier id'>identity_map</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span>
  <span class='original_attributes identifier id'>original_attributes</span><span class='dot token'>.</span><span class='clear identifier id'>clear</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>saved?</h3>
</div><div id="saved-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>saved?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Checks if this Resource instance is saved
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt>FalseClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
true if the resource has been saved
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 121</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L121">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">121
122
123</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='saved? fid id'>saved?</span>
  <span class='@saved ivar id'>@saved</span> <span class='eq op'>==</span> <span class='true true kw'>true</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>update</h3>
</div><div id="update-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>update</span><span class='args'>(attributes = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Updates attributes and saves this Resource instance
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>Hash</tt>]</span>
        <span class='name'>attributes</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
attributes to be updated
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt>FalseClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
true if resource and storage state match
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 302</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L302">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">302
303
304
305</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='update identifier id'>update</span><span class='lparen token'>(</span><span class='attributes identifier id'>attributes</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='attributes identifier id'>attributes</span> <span class='assign token'>=</span> <span class='attributes identifier id'>attributes</span>
  <span class='_update identifier id'>_update</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>update!</h3>
</div><div id="update-21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>update!</span><span class='args'>(attributes = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Updates attributes and saves this Resource instance, bypassing hooks
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>Hash</tt>]</span>
        <span class='name'>attributes</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
attributes to be updated
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt>FalseClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
true if resource and storage state match
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 317</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L317">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">317
318
319
320</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='update! fid id'>update!</span><span class='lparen token'>(</span><span class='attributes identifier id'>attributes</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='attributes identifier id'>attributes</span> <span class='assign token'>=</span> <span class='attributes identifier id'>attributes</span>
  <span class='_update identifier id'>_update</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>update_attributes</h3>
</div><div id="update_attributes-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>update_attributes</span><span class='args'>(attributes = {}, *allowed)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Deprecated API for updating attributes and saving Resource
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt><a href="#update-instance_method" title="#update">#update</a></tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/resource.rb', line 33</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/resource.rb#L33">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">33
34
35
36
37
38
39
40
41
42
43</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='update_attributes identifier id'>update_attributes</span><span class='lparen token'>(</span><span class='attributes identifier id'>attributes</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='allowed identifier id'>allowed</span><span class='rparen token'>)</span>
  <span class='warn identifier id'>warn</span> <span class='dstring node'>&quot;#{model}#update_attributes is deprecated, use #{model}#update instead&quot;</span>

  <span class='if if kw'>if</span> <span class='allowed identifier id'>allowed</span><span class='dot token'>.</span><span class='any? fid id'>any?</span>
    <span class='warn identifier id'>warn</span> <span class='dstring node'>&quot;specifying allowed in #{model}#update_attributes is deprecated, &quot;</span> \
      <span class='string val'>'use Hash#only to filter the attributes in the caller'</span>
    <span class='attributes identifier id'>attributes</span> <span class='assign token'>=</span> <span class='attributes identifier id'>attributes</span><span class='dot token'>.</span><span class='only identifier id'>only</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='allowed identifier id'>allowed</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='update identifier id'>update</span><span class='lparen token'>(</span><span class='attributes identifier id'>attributes</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>