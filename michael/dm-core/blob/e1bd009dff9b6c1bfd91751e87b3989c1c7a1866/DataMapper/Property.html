<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>michael's dm-core - Class: DataMapper::Property - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/michael/commits/dm-core/master" rel="alternate" title="Recent Commits to dm-core:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("michael", "dm-core", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("michael", "dm-core", "e1bd009dff9b6c1bfd91751e87b3989c1c7a1866", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/michael/dm-core/tree/">Source</a></li>
            <li class=""><a href="http://github.com/michael/dm-core/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/michael/dm-core/network">Network</a></li>            
            <li class=""><a href="http://github.com/michael/dm-core/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/michael/dm-core">Wiki</a></li>
            <li class=""><a href="http://github.com/michael/dm-core/graphs">Graphs</a></li>                    
            <li class="active"><a href="/michael/dm-core">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/michael">michael</a> / <b><a href="http://github.com/michael/dm-core/tree">dm-core</a></b>        
                <a id="namespaces_button" rel="michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class DataMapper_Property">
  <h1>Class: DataMapper::Property</h1>
  <div class="section mixins">
  <h2>Included Modules</h2>
  <p><a href="Property/Deprecate.html" title="DataMapper::Deprecate">DataMapper::Deprecate</a>, Extlib::Assertions</p>
</div><div class="section mixins">
  <h2>Included Modules</h2>
  <p><a href="Property/Deprecate.html" title="DataMapper::Deprecate">DataMapper::Deprecate</a>, Extlib::Assertions</p>
</div><div class="section docstring">
  <p>
:include:QUICKLINKS
</p>
<h1>Properties</h1>
<p>
Properties for a model are not derived from a database structure, but
instead explicitly declared inside your model class definitions. These
properties then map (or, if using automigrate, generate) fields in your
repository/database.
</p>
<p>
If you are coming to DataMapper from another ORM framework, such as
ActiveRecord, this may be a fundamental difference in thinking to you.
However, there are several advantages to defining your properties in your
models:
</p>
<ul>
<li>information about your model is centralized in one place: rather than
having to dig out migrations, xml or other configuration files.

</li>
<li>use of mixins can be applied to model properties: better code reuse

</li>
<li>having information centralized in your models, encourages you and the
developers on your team to take a model-centric view of development.

</li>
<li>it provides the ability to use Ruby&#8217;s access control functions.

</li>
<li>and, because DataMapper only cares about properties explicitly defined

</li>
</ul>
<p>
in
</p>
<pre class="code">
  <span class='your identifier id'>your</span> <span class='models identifier id'>models</span><span class='comma token'>,</span> <span class='DataMapper constant id'>DataMapper</span> <span class='plays identifier id'>plays</span> <span class='well identifier id'>well</span> <span class='with identifier id'>with</span> <span class='legacy identifier id'>legacy</span> <span class='databases identifier id'>databases</span><span class='comma token'>,</span> <span class='and and kw'>and</span> <span class='shares identifier id'>shares</span>
  <span class='databases identifier id'>databases</span> <span class='easily identifier id'>easily</span> <span class='with identifier id'>with</span> <span class='other identifier id'>other</span> <span class='applications identifier id'>applications</span><span class='dot token'>.</span>
</pre>
<h2>Declaring Properties</h2>
<p>
Inside your class, you call the property method for each property you want
to add. The only two required arguments are the name and type, everything
else is optional.
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='Post constant id'>Post</span>
    <span class='include identifier id'>include</span> <span class='DataMapper constant id'>DataMapper</span><span class='colon2 op'>::</span><span class='Resource constant id'>Resource</span>

    <span class='property identifier id'>property</span> <span class='symbol val'>:title</span><span class='comma token'>,</span>   <span class='String constant id'>String</span><span class='comma token'>,</span>  <span class='symbol val'>:nullable</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span>  <span class='comment val'># Cannot be null</span>
    <span class='property identifier id'>property</span> <span class='symbol val'>:publish</span><span class='comma token'>,</span> <span class='Boolean constant id'>Boolean</span><span class='comma token'>,</span> <span class='symbol val'>:default</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span>   <span class='comment val'># Default value for new records is false</span>
  <span class='end end kw'>end</span>
</pre>
<p>
By default, DataMapper supports the following primitive (Ruby) types also
called core types:
</p>
<ul>
<li>TrueClass, Boolean

</li>
<li>String (default length is 50)

</li>
<li>Text (limit of 65k characters by default)

</li>
<li>Float

</li>
<li>Integer

</li>
<li>BigDecimal

</li>
<li>DateTime

</li>
<li>Date

</li>
<li>Time

</li>
<li>Object (marshalled out during serialization)

</li>
<li>Class (datastore primitive is the same as String. Used for Inheritance)

</li>
</ul>
<p>
Other types are known as custom types.
</p>
<p>
For more information about available Types, see DataMapper::Type
</p>
<h2>Limiting Access</h2>
<p>
Property access control is uses the same terminology Ruby does. Properties
are public by default, but can also be declared private or protected as
needed (via the :accessor option).
</p>
<pre class="code">
 <span class='class class kw'>class</span> <span class='Post constant id'>Post</span>
  <span class='include identifier id'>include</span> <span class='DataMapper constant id'>DataMapper</span><span class='colon2 op'>::</span><span class='Resource constant id'>Resource</span>

   <span class='property identifier id'>property</span> <span class='symbol val'>:title</span><span class='comma token'>,</span> <span class='String constant id'>String</span><span class='comma token'>,</span> <span class='symbol val'>:accessor</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:private</span>    <span class='comment val'># Both reader and writer are private</span>
   <span class='property identifier id'>property</span> <span class='symbol val'>:body</span><span class='comma token'>,</span>  <span class='Text constant id'>Text</span><span class='comma token'>,</span>   <span class='symbol val'>:accessor</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:protected</span>  <span class='comment val'># Both reader and writer are protected</span>
 <span class='end end kw'>end</span>
</pre>
<p>
Access control is also analogous to Ruby attribute readers and writers, and
can be declared using :reader and :writer, in addition to :accessor.
</p>
<pre class="code">
 <span class='class class kw'>class</span> <span class='Post constant id'>Post</span>
   <span class='include identifier id'>include</span> <span class='DataMapper constant id'>DataMapper</span><span class='colon2 op'>::</span><span class='Resource constant id'>Resource</span>

   <span class='property identifier id'>property</span> <span class='symbol val'>:title</span><span class='comma token'>,</span> <span class='String constant id'>String</span><span class='comma token'>,</span> <span class='symbol val'>:writer</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:private</span>    <span class='comment val'># Only writer is private</span>
   <span class='property identifier id'>property</span> <span class='symbol val'>:tags</span><span class='comma token'>,</span>  <span class='String constant id'>String</span><span class='comma token'>,</span> <span class='symbol val'>:reader</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:protected</span>  <span class='comment val'># Only reader is protected</span>
 <span class='end end kw'>end</span>
</pre>
<h2>Overriding Accessors</h2>
<p>
The reader/writer for any property can be overridden in the same manner
that Ruby attr readers/writers can be. After the property is defined, just
add your custom reader or writer:
</p>
<pre class="code">
 <span class='class class kw'>class</span> <span class='Post constant id'>Post</span>
   <span class='include identifier id'>include</span> <span class='DataMapper constant id'>DataMapper</span><span class='colon2 op'>::</span><span class='Resource constant id'>Resource</span>

   <span class='property identifier id'>property</span> <span class='symbol val'>:title</span><span class='comma token'>,</span> <span class='String constant id'>String</span>

   <span class='def def kw'>def</span> <span class='title= identifier id'>title=</span><span class='lparen token'>(</span><span class='new_title identifier id'>new_title</span><span class='rparen token'>)</span>
     <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span> <span class='if if_mod kw'>if</span> <span class='new_title identifier id'>new_title</span> <span class='neq op'>!=</span> <span class='string val'>'Luke is Awesome'</span>
     <span class='@title ivar id'>@title</span> <span class='assign token'>=</span> <span class='new_title identifier id'>new_title</span>
   <span class='end end kw'>end</span>
 <span class='end end kw'>end</span>
</pre>
<h2>Lazy Loading</h2>
<p>
By default, some properties are not loaded when an object is fetched in
DataMapper. These lazily loaded properties are fetched on demand when their
accessor is called for the first time (as it is often unnecessary to
instantiate -every- property -every- time an object is loaded). For
instance, DataMapper::Types::Text fields are lazy loading by default,
although you can over-ride this behavior if you wish:
</p>
<p>
Example:
</p>
<pre class="code">
 <span class='class class kw'>class</span> <span class='Post constant id'>Post</span>
   <span class='include identifier id'>include</span> <span class='DataMapper constant id'>DataMapper</span><span class='colon2 op'>::</span><span class='Resource constant id'>Resource</span>

   <span class='property identifier id'>property</span> <span class='symbol val'>:title</span><span class='comma token'>,</span> <span class='String constant id'>String</span>  <span class='comment val'># Loads normally</span>
   <span class='property identifier id'>property</span> <span class='symbol val'>:body</span><span class='comma token'>,</span>  <span class='Text constant id'>Text</span>    <span class='comment val'># Is lazily loaded by default</span>
 <span class='end end kw'>end</span>
</pre>
<p>
If you want to over-ride the lazy loading on any field you can set it to a
context or false to disable it with the :lazy option. Contexts allow
multipule lazy properties to be loaded at one time. If you set :lazy to
true, it is placed in the :default context
</p>
<pre class="code">
 <span class='class class kw'>class</span> <span class='Post constant id'>Post</span>
   <span class='include identifier id'>include</span> <span class='DataMapper constant id'>DataMapper</span><span class='colon2 op'>::</span><span class='Resource constant id'>Resource</span>

   <span class='property identifier id'>property</span> <span class='symbol val'>:title</span><span class='comma token'>,</span>   <span class='String constant id'>String</span>                                    <span class='comment val'># Loads normally</span>
   <span class='property identifier id'>property</span> <span class='symbol val'>:body</span><span class='comma token'>,</span>    <span class='Text constant id'>Text</span><span class='comma token'>,</span>   <span class='symbol val'>:lazy</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span>                    <span class='comment val'># The default is now over-ridden</span>
   <span class='property identifier id'>property</span> <span class='symbol val'>:comment</span><span class='comma token'>,</span> <span class='String constant id'>String</span><span class='comma token'>,</span> <span class='symbol val'>:lazy</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span> <span class='symbol val'>:detailed</span> <span class='rbrack token'>]</span>            <span class='comment val'># Loads in the :detailed context</span>
   <span class='property identifier id'>property</span> <span class='symbol val'>:author</span><span class='comma token'>,</span>  <span class='String constant id'>String</span><span class='comma token'>,</span> <span class='symbol val'>:lazy</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span> <span class='symbol val'>:summary</span><span class='comma token'>,</span> <span class='symbol val'>:detailed</span> <span class='rbrack token'>]</span>  <span class='comment val'># Loads in :summary &amp; :detailed context</span>
 <span class='end end kw'>end</span>
</pre>
<p>
Delaying the request for lazy-loaded attributes even applies to objects
accessed through associations. In a sense, DataMapper anticipates that you
will likely be iterating over objects in associations and rolls all of the
load commands for lazy-loaded properties into one request from the
database.
</p>
<p>
Example:
</p>
<pre class="code">
  <span class='Widget constant id'>Widget</span><span class='dot token'>.</span><span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='components identifier id'>components</span>
    <span class='comment val'># loads when the post object is pulled from database, by default</span>

  <span class='Widget constant id'>Widget</span><span class='dot token'>.</span><span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='components identifier id'>components</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='dot token'>.</span><span class='body identifier id'>body</span>
    <span class='comment val'># loads the values for the body property on all objects in the</span>
    <span class='comment val'># association, rather than just this one.</span>

  <span class='Widget constant id'>Widget</span><span class='dot token'>.</span><span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='components identifier id'>components</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='dot token'>.</span><span class='comment identifier id'>comment</span>
    <span class='comment val'># loads both comment and author for all objects in the association</span>
    <span class='comment val'># since they are both in the :detailed context</span>
</pre>
<h2>Keys</h2>
<p>
Properties can be declared as primary or natural keys on a table. You
should a property as the primary key of the table:
</p>
<p>
Examples:
</p>
<pre class="code">
 <span class='property identifier id'>property</span> <span class='symbol val'>:id</span><span class='comma token'>,</span>        <span class='Serial constant id'>Serial</span>                <span class='comment val'># auto-incrementing key</span>
 <span class='property identifier id'>property</span> <span class='symbol val'>:legacy_pk</span><span class='comma token'>,</span> <span class='String constant id'>String</span><span class='comma token'>,</span> <span class='symbol val'>:key</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span>  <span class='comment val'># 'natural' key</span>
</pre>
<p>
This is roughly equivalent to ActiveRecord&#8217;s
<tt>set_primary_key</tt>, though non-integer data types may be used, thus
DataMapper supports natural keys. When a property is declared as a natural
key, accessing the object using the indexer syntax <tt>Class[key]</tt>
remains valid.
</p>
<pre class="code">
  <span class='User constant id'>User</span><span class='dot token'>.</span><span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span>
     <span class='comment val'># when :id is the primary key on the users table</span>
  <span class='User constant id'>User</span><span class='dot token'>.</span><span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='string val'>'bill'</span><span class='rparen token'>)</span>
     <span class='comment val'># when :name is the primary (natural) key on the users table</span>
</pre>
<h2>Indices</h2>
<p>
You can add indices for your properties by using the <tt>:index</tt>
option. If you use <tt>true</tt> as the option value, the index will be
automatically named. If you want to name the index yourself, use a symbol
as the value.
</p>
<pre class="code">
  <span class='property identifier id'>property</span> <span class='symbol val'>:last_name</span><span class='comma token'>,</span>  <span class='String constant id'>String</span><span class='comma token'>,</span> <span class='symbol val'>:index</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span>
  <span class='property identifier id'>property</span> <span class='symbol val'>:first_name</span><span class='comma token'>,</span> <span class='String constant id'>String</span><span class='comma token'>,</span> <span class='symbol val'>:index</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:name</span>
</pre>
<p>
You can create multi-column composite indices by using the same symbol in
all the columns belonging to the index. The columns will appear in the
index in the order they are declared.
</p>
<pre class="code">
  <span class='property identifier id'>property</span> <span class='symbol val'>:last_name</span><span class='comma token'>,</span>  <span class='String constant id'>String</span><span class='comma token'>,</span> <span class='symbol val'>:index</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:name</span>
  <span class='property identifier id'>property</span> <span class='symbol val'>:first_name</span><span class='comma token'>,</span> <span class='String constant id'>String</span><span class='comma token'>,</span> <span class='symbol val'>:index</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:name</span>
     <span class='comment val'># =&gt; index on (last_name, first_name)</span>
</pre>
<p>
If you want to make the indices unique, use <tt>:unique_index</tt> instead
of <tt>:index</tt>
</p>
<h2>Inferred Validations</h2>
<p>
If you require the dm-validations plugin, auto-validations will
automatically be mixed-in in to your model classes: validation rules that
are inferred when properties are declared with specific column
restrictions.
</p>
<pre class="code">
 <span class='class class kw'>class</span> <span class='Post constant id'>Post</span>
   <span class='include identifier id'>include</span> <span class='DataMapper constant id'>DataMapper</span><span class='colon2 op'>::</span><span class='Resource constant id'>Resource</span>

   <span class='property identifier id'>property</span> <span class='symbol val'>:title</span><span class='comma token'>,</span> <span class='String constant id'>String</span><span class='comma token'>,</span> <span class='symbol val'>:length</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>250</span>
     <span class='comment val'># =&gt; infers 'validates_length :title,</span>
            <span class='symbol val'>:minimum</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>0</span><span class='comma token'>,</span> <span class='symbol val'>:maximum</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>250</span><span class='string val'>'

   property :title, String, :nullable =&gt; false
     # =&gt; infers '</span><span class='validates_present identifier id'>validates_present</span> <span class='symbol val'>:title</span>

   <span class='property identifier id'>property</span> <span class='symbol val'>:email</span><span class='comma token'>,</span> <span class='String constant id'>String</span><span class='comma token'>,</span> <span class='symbol val'>:format</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:email_address</span>
     <span class='comment val'># =&gt; infers 'validates_format :email, :with =&gt; :email_address</span>

   <span class='property identifier id'>property</span> <span class='symbol val'>:title</span><span class='comma token'>,</span> <span class='String constant id'>String</span><span class='comma token'>,</span> <span class='symbol val'>:length</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>255</span><span class='comma token'>,</span> <span class='symbol val'>:nullable</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span>
     <span class='comment val'># =&gt; infers both 'validates_length' as well as</span>
     <span class='comment val'>#    'validates_present'</span>
     <span class='comment val'>#    better: property :title, String, :length =&gt; 1..255</span>

 <span class='end end kw'>end</span>
</pre>
<p>
This functionality is available with the dm-validations gem, part of the
dm-more bundle. For more information about validations, check the
documentation for dm-validations.
</p>
<h2>Default Values</h2>
<p>
To set a default for a property, use the <tt>:default</tt> key. The
property will be set to the value associated with that key the first time
it is accessed, or when the resource is saved if it hasn&#8217;t been set
with another value already. This value can be a static value, such as
&#8216;hello&#8217; but it can also be a proc that will be evaluated when
the property is read before its value has been set. The property is set to
the return of the proc. The proc is passed two values, the resource the
property is being set for and the property itself.
</p>
<pre class="code">
  <span class='property identifier id'>property</span> <span class='symbol val'>:display_name</span><span class='comma token'>,</span> <span class='String constant id'>String</span><span class='comma token'>,</span> <span class='symbol val'>:default</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='r identifier id'>r</span><span class='comma token'>,</span> <span class='p identifier id'>p</span><span class='bitor op'>|</span> <span class='r identifier id'>r</span><span class='dot token'>.</span><span class='login identifier id'>login</span> <span class='rbrace token'>}</span>
</pre>
<p>
Word of warning. Don&#8217;t try to read the value of the property
you&#8217;re setting the default for in the proc. An infinite loop will
ensue.
</p>
<h2>Embedded Values</h2>
<p>
As an alternative to extraneous has_one relationships, consider using an
EmbeddedValue.
</p>
<h2>Property options reference</h2>
<pre class="code">
 <span class='symbol val'>:accessor</span>            <span class='if if_mod kw'>if</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='neither identifier id'>neither</span> <span class='reader identifier id'>reader</span> <span class='nor identifier id'>nor</span> <span class='writer identifier id'>writer</span> <span class='methods identifier id'>methods</span> <span class='are identifier id'>are</span>
                      <span class='created identifier id'>created</span> <span class='for for kw'>for</span> <span class='this identifier id'>this</span> <span class='property identifier id'>property</span>

 <span class='symbol val'>:reader</span>              <span class='if if_mod kw'>if</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='reader identifier id'>reader</span> <span class='method identifier id'>method</span> <span class='is identifier id'>is</span> <span class='not not kw'>not</span> <span class='created identifier id'>created</span> <span class='for for kw'>for</span> <span class='this identifier id'>this</span> <span class='property identifier id'>property</span>

 <span class='symbol val'>:writer</span>              <span class='if if_mod kw'>if</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='writer identifier id'>writer</span> <span class='method identifier id'>method</span> <span class='is identifier id'>is</span> <span class='not not kw'>not</span> <span class='created identifier id'>created</span> <span class='for for kw'>for</span> <span class='this identifier id'>this</span> <span class='property identifier id'>property</span>

 <span class='symbol val'>:lazy</span>                <span class='if if_mod kw'>if</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='property identifier id'>property</span> <span class='value identifier id'>value</span> <span class='is identifier id'>is</span> <span class='only identifier id'>only</span> <span class='loaded identifier id'>loaded</span> <span class='when when kw'>when</span> <span class='on identifier id'>on</span> <span class='first identifier id'>first</span> <span class='read identifier id'>read</span>
                      <span class='if if kw'>if</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='property identifier id'>property</span> <span class='value identifier id'>value</span> <span class='is identifier id'>is</span> <span class='always identifier id'>always</span> <span class='loaded identifier id'>loaded</span>
                      <span class='if if kw'>if</span> <span class='a identifier id'>a</span> <span class='symbol identifier id'>symbol</span><span class='comma token'>,</span> <span class='property identifier id'>property</span> <span class='value identifier id'>value</span> <span class='is identifier id'>is</span> <span class='loaded identifier id'>loaded</span> <span class='with identifier id'>with</span> <span class='other identifier id'>other</span> <span class='properties identifier id'>properties</span>
                      <span class='in in kw'>in</span> <span class='the identifier id'>the</span> <span class='same identifier id'>same</span> <span class='group identifier id'>group</span>

 <span class='symbol val'>:default</span>             <span class='default identifier id'>default</span> <span class='value identifier id'>value</span> <span class='of identifier id'>of</span> <span class='this identifier id'>this</span> <span class='property identifier id'>property</span>

 <span class='symbol val'>:nullable</span>            <span class='if if_mod kw'>if</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='property identifier id'>property</span> <span class='may identifier id'>may</span> <span class='have identifier id'>have</span> <span class='a identifier id'>a</span> <span class='nil nil kw'>nil</span> <span class='value identifier id'>value</span> <span class='on identifier id'>on</span> <span class='save identifier id'>save</span>

 <span class='symbol val'>:key</span>                 <span class='name identifier id'>name</span> <span class='of identifier id'>of</span> <span class='the identifier id'>the</span> <span class='key identifier id'>key</span> <span class='associated identifier id'>associated</span> <span class='with identifier id'>with</span> <span class='this identifier id'>this</span> <span class='property identifier id'>property</span><span class='dot token'>.</span>

 <span class='symbol val'>:serial</span>              <span class='if if_mod kw'>if</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='field identifier id'>field</span> <span class='value identifier id'>value</span> <span class='is identifier id'>is</span> <span class='auto identifier id'>auto</span> <span class='incrementing identifier id'>incrementing</span>

 <span class='symbol val'>:field</span>               <span class='field identifier id'>field</span> <span class='in in kw'>in</span> <span class='the identifier id'>the</span> <span class='data identifier id'>data</span><span class='minus op'>-</span><span class='store identifier id'>store</span> <span class='which identifier id'>which</span> <span class='the identifier id'>the</span> <span class='property identifier id'>property</span> <span class='corresponds identifier id'>corresponds</span> <span class='to identifier id'>to</span>

 <span class='symbol val'>:size</span>                <span class='field identifier id'>field</span> <span class='size identifier id'>size</span><span class='dot token'>.</span> <span class='Usually constant id'>Usually</span> <span class='makes identifier id'>makes</span> <span class='sense identifier id'>sense</span> <span class='for for kw'>for</span> <span class='properties identifier id'>properties</span> <span class='of identifier id'>of</span> <span class='type identifier id'>type</span> <span class='String constant id'>String</span><span class='dot token'>.</span>

 <span class='symbol val'>:length</span>              <span class='alias alias kw'>alias</span> <span class='for for kw'>for</span> <span class='symbol val'>:length</span> <span class='option identifier id'>option</span>

 <span class='symbol val'>:format</span>              <span class='format identifier id'>format</span> <span class='for for kw'>for</span> <span class='autovalidation identifier id'>autovalidation</span><span class='dot token'>.</span> <span class='Use constant id'>Use</span> <span class='with identifier id'>with</span> <span class='dm identifier id'>dm</span><span class='minus op'>-</span><span class='validations identifier id'>validations</span> <span class='plugin identifier id'>plugin</span><span class='dot token'>.</span>

 <span class='symbol val'>:index</span>               <span class='if if_mod kw'>if</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='index identifier id'>index</span> <span class='is identifier id'>is</span> <span class='created identifier id'>created</span> <span class='for for kw'>for</span> <span class='the identifier id'>the</span> <span class='property identifier id'>property</span><span class='dot token'>.</span> <span class='If constant id'>If</span> <span class='a identifier id'>a</span> <span class='Symbol constant id'>Symbol</span><span class='comma token'>,</span> <span class='index identifier id'>index</span>
                      <span class='is identifier id'>is</span> <span class='named identifier id'>named</span> <span class='after identifier id'>after</span> <span class='Symbol constant id'>Symbol</span> <span class='value identifier id'>value</span> <span class='instead identifier id'>instead</span> <span class='of identifier id'>of</span> <span class='being identifier id'>being</span> <span class='based identifier id'>based</span> <span class='on identifier id'>on</span> <span class='property identifier id'>property</span> <span class='name identifier id'>name</span><span class='dot token'>.</span>

 <span class='symbol val'>:unique_index</span>        <span class='true true kw'>true</span> <span class='specifies identifier id'>specifies</span> <span class='that identifier id'>that</span> <span class='index identifier id'>index</span> <span class='on identifier id'>on</span> <span class='this identifier id'>this</span> <span class='property identifier id'>property</span> <span class='should identifier id'>should</span> <span class='be identifier id'>be</span> <span class='unique identifier id'>unique</span>

 <span class='symbol val'>:auto_validation</span>     <span class='if if_mod kw'>if</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='automatic identifier id'>automatic</span> <span class='validation identifier id'>validation</span> <span class='is identifier id'>is</span> <span class='performed identifier id'>performed</span> <span class='on identifier id'>on</span> <span class='the identifier id'>the</span> <span class='property identifier id'>property</span>

 <span class='symbol val'>:validates</span>           <span class='validation identifier id'>validation</span> <span class='context identifier id'>context</span><span class='dot token'>.</span> <span class='Use constant id'>Use</span> <span class='together identifier id'>together</span> <span class='with identifier id'>with</span> <span class='dm identifier id'>dm</span><span class='minus op'>-</span><span class='validations identifier id'>validations</span><span class='dot token'>.</span>

 <span class='symbol val'>:unique</span>              <span class='if if_mod kw'>if</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='property identifier id'>property</span> <span class='column identifier id'>column</span> <span class='is identifier id'>is</span> <span class='unique identifier id'>unique</span><span class='dot token'>.</span> <span class='Properties constant id'>Properties</span> <span class='of identifier id'>of</span> <span class='type identifier id'>type</span> <span class='Serial constant id'>Serial</span>
                      <span class='are identifier id'>are</span> <span class='unique identifier id'>unique</span> <span class='by identifier id'>by</span> <span class='default identifier id'>default</span><span class='dot token'>.</span>

 <span class='symbol val'>:precision</span>           <span class='Indicates constant id'>Indicates</span> <span class='the identifier id'>the</span> <span class='number identifier id'>number</span> <span class='of identifier id'>of</span> <span class='significant identifier id'>significant</span> <span class='digits identifier id'>digits</span><span class='dot token'>.</span> <span class='Usually constant id'>Usually</span> <span class='only identifier id'>only</span> <span class='makes identifier id'>makes</span> <span class='sense identifier id'>sense</span>
                      <span class='for for kw'>for</span> <span class='float identifier id'>float</span> <span class='type identifier id'>type</span> <span class='properties identifier id'>properties</span><span class='dot token'>.</span> <span class='Must constant id'>Must</span> <span class='be identifier id'>be</span> <span class='geq op'>&gt;=</span> <span class='scale identifier id'>scale</span> <span class='option identifier id'>option</span> <span class='value identifier id'>value</span><span class='dot token'>.</span> <span class='Default constant id'>Default</span> <span class='is identifier id'>is</span> <span class='float val'>10</span><span class='dot token'>.</span>

 <span class='symbol val'>:scale</span>               <span class='The constant id'>The</span> <span class='number identifier id'>number</span> <span class='of identifier id'>of</span> <span class='significant identifier id'>significant</span> <span class='digits identifier id'>digits</span> <span class='to identifier id'>to</span> <span class='the identifier id'>the</span> <span class='right identifier id'>right</span> <span class='of identifier id'>of</span> <span class='the identifier id'>the</span> <span class='decimal identifier id'>decimal</span> <span class='point identifier id'>point</span><span class='dot token'>.</span>
                      <span class='Only constant id'>Only</span> <span class='makes identifier id'>makes</span> <span class='sense identifier id'>sense</span> <span class='for for kw'>for</span> <span class='float identifier id'>float</span> <span class='type identifier id'>type</span> <span class='properties identifier id'>properties</span><span class='dot token'>.</span> <span class='Must constant id'>Must</span> <span class='be identifier id'>be</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span><span class='dot token'>.</span>
                      <span class='Default constant id'>Default</span> <span class='is identifier id'>is</span> <span class='nil nil kw'>nil</span> <span class='for for kw'>for</span> <span class='Float constant id'>Float</span> <span class='type identifier id'>type</span> <span class='and and kw'>and</span> <span class='integer val'>10</span> <span class='for for kw'>for</span> <span class='BigDecimal constant id'>BigDecimal</span> <span class='type identifier id'>type</span><span class='dot token'>.</span>

 <span class='All constant id'>All</span> <span class='other identifier id'>other</span> <span class='keys identifier id'>keys</span> <span class='you identifier id'>you</span> <span class='pass identifier id'>pass</span> <span class='to identifier id'>to</span> <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='property identifier id'>property</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt; method are stored and available
 as options[:extra_keys].
</span></pre>
<h2>Misc. Notes</h2>
<ul>
<li>Properties declared as strings will default to a length of 50, rather than
255 (typical max varchar column size). To overload the default, pass
<tt>:length =&gt; 255</tt> or <tt>:length =&gt; 0..255</tt>. Since
DataMapper does not introspect for properties, this means that legacy
database tables may need their <tt>String</tt> columns defined with a
<tt>:length</tt> so that DM does not apply an un-needed length validation,
or allow overflow.

</li>
<li>You may declare a Property with the data-type of <tt>Class</tt>. see
SingleTableInheritance for more on how to use <tt>Class</tt> columns.

</li>
</ul>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">default</td>
          <td class="readwrite">
            [<span id='default-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>default</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">instance_variable_name</td>
          <td class="readwrite">
            [<span id='instance_variable_name-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>instance_variable_name</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">model</td>
          <td class="readwrite">
            [<span id='model-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>model</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">name</td>
          <td class="readwrite">
            [<span id='name-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>name</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">options</td>
          <td class="readwrite">
            [<span id='options-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>options</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">precision</td>
          <td class="readwrite">
            [<span id='precision-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>precision</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">primitive</td>
          <td class="readwrite">
            [<span id='primitive-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>primitive</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">reader_visibility</td>
          <td class="readwrite">
            [<span id='reader_visibility-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>reader_visibility</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">repository_name</td>
          <td class="readwrite">
            [<span id='repository_name-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>repository_name</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">scale</td>
          <td class="readwrite">
            [<span id='scale-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>scale</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">type</td>
          <td class="readwrite">
            [<span id='type-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>type</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">writer_visibility</td>
          <td class="readwrite">
            [<span id='writer_visibility-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>writer_visibility</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="DEFAULT_LENGTH-constant">DEFAULT_LENGTH</dt>
      <dd>50</dd>
    
      <dt id="DEFAULT_PRECISION-constant">DEFAULT_PRECISION</dt>
      <dd>10</dd>
    
      <dt id="DEFAULT_SCALE_BIGDECIMAL-constant">DEFAULT_SCALE_BIGDECIMAL</dt>
      <dd>0    </dd>
    
      <dt id="DEFAULT_SCALE_FLOAT-constant">DEFAULT_SCALE_FLOAT</dt>
      <dd>nil  </dd>
    
      <dt id="OPTIONS-constant">OPTIONS</dt>
      <dd>[
  :accessor, :reader, :writer,
  :lazy, :default, :nullable, :key, :serial, :field, :size, :length,
  :format, :index, :unique_index, :auto_validation,
  :validates, :unique, :precision, :scale
]</dd>
    
      <dt id="PRIMITIVES-constant">PRIMITIVES</dt>
      <dd>[
  TrueClass,
  String,
  Float,
  Integer,
  BigDecimal,
  DateTime,
  Date,
  Time,
  Object,
  Class,
].to_set.freeze</dd>
    
      <dt id="VISIBILITY_OPTIONS-constant">VISIBILITY_OPTIONS</dt>
      <dd>[ :public, :protected, :private ].to_set.freeze</dd>
    
  </dl>
</div>

</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>private</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(model, name, type, options = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
TODO: document
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 777</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L777">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">777
778
779
780
781
782
783
784
785
786
787
788
789
790
791
792
793
794
795
796
797
798
799
800
801
802
803
804
805
806
807
808
809
810
811
812
813
814
815
816
817
818
819
820
821
822
823
824
825
826
827
828
829
830
831
832
833
834
835
836
837
838
839
840
841
842
843
844
845
846
847
848
849
850
851
852
853
854
855
856
857
858</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='model identifier id'>model</span><span class='comma token'>,</span> <span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='type identifier id'>type</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='assert_kind_of identifier id'>assert_kind_of</span> <span class='string val'>'model'</span><span class='comma token'>,</span>   <span class='model identifier id'>model</span><span class='comma token'>,</span>   <span class='Model constant id'>Model</span>
  <span class='assert_kind_of identifier id'>assert_kind_of</span> <span class='string val'>'name'</span><span class='comma token'>,</span>    <span class='name identifier id'>name</span><span class='comma token'>,</span>    <span class='Symbol constant id'>Symbol</span>
  <span class='assert_kind_of identifier id'>assert_kind_of</span> <span class='string val'>'type'</span><span class='comma token'>,</span>    <span class='type identifier id'>type</span><span class='comma token'>,</span>    <span class='Class constant id'>Class</span><span class='comma token'>,</span> <span class='Module constant id'>Module</span>
  <span class='assert_kind_of identifier id'>assert_kind_of</span> <span class='string val'>'options'</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='Hash constant id'>Hash</span>

  <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>

  <span class='if if kw'>if</span> <span class='TrueClass constant id'>TrueClass</span> <span class='eq op'>==</span> <span class='type identifier id'>type</span>
    <span class='warn identifier id'>warn</span> <span class='dstring node'>&quot;#{type} is deprecated, use Boolean instead&quot;</span>
    <span class='type identifier id'>type</span> <span class='assign token'>=</span> <span class='Types constant id'>Types</span><span class='colon2 op'>::</span><span class='Boolean constant id'>Boolean</span>
  <span class='elsif elsif kw'>elsif</span> <span class='Integer constant id'>Integer</span> <span class='eq op'>==</span> <span class='type identifier id'>type</span> <span class='andop op'>&amp;&amp;</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='symbol val'>:serial</span><span class='rparen token'>)</span>
    <span class='warn identifier id'>warn</span> <span class='dstring node'>&quot;#{type} with explicit :serial option is deprecated, use Serial instead&quot;</span>
    <span class='type identifier id'>type</span> <span class='assign token'>=</span> <span class='Types constant id'>Types</span><span class='colon2 op'>::</span><span class='Serial constant id'>Serial</span>
  <span class='elsif elsif kw'>elsif</span> <span class='String constant id'>String</span> <span class='eq op'>==</span> <span class='type identifier id'>type</span> <span class='andop op'>&amp;&amp;</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='key? fid id'>key?</span><span class='lparen token'>(</span><span class='symbol val'>:size</span><span class='rparen token'>)</span>
    <span class='warn identifier id'>warn</span> <span class='dstring node'>&quot;#{type} with :size option is deprecated, use #{type} with :length instead&quot;</span>
    <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:length</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='symbol val'>:size</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='assert_valid_options identifier id'>assert_valid_options</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>

  <span class='comment val'># if the type can be found within Types then</span>
  <span class='comment val'># use that class rather than the primitive</span>
  <span class='unless unless kw'>unless</span> <span class='type identifier id'>type</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='dot token'>.</span><span class='blank? fid id'>blank?</span>
    <span class='type identifier id'>type</span> <span class='assign token'>=</span> <span class='Types constant id'>Types</span><span class='dot token'>.</span><span class='find_const identifier id'>find_const</span><span class='lparen token'>(</span><span class='type identifier id'>type</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='unless unless kw'>unless</span> <span class='PRIMITIVES constant id'>PRIMITIVES</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='type identifier id'>type</span><span class='rparen token'>)</span> <span class='orop op'>||</span> <span class='lparen token'>(</span><span class='Type constant id'>Type</span> <span class='gt op'>&gt;</span> <span class='type identifier id'>type</span> <span class='andop op'>&amp;&amp;</span> <span class='PRIMITIVES constant id'>PRIMITIVES</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='type identifier id'>type</span><span class='dot token'>.</span><span class='primitive identifier id'>primitive</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;+type+ was #{type.inspect}, which is not a supported type&quot;</span>
  <span class='end end kw'>end</span>

  <span class='@repository_name ivar id'>@repository_name</span>        <span class='assign token'>=</span> <span class='model identifier id'>model</span><span class='dot token'>.</span><span class='repository_name identifier id'>repository_name</span>
  <span class='@model ivar id'>@model</span>                  <span class='assign token'>=</span> <span class='model identifier id'>model</span>
  <span class='@name ivar id'>@name</span>                   <span class='assign token'>=</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='sub identifier id'>sub</span><span class='lparen token'>(</span><span class='regexp val'>/\?$/</span><span class='comma token'>,</span> <span class='string val'>''</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span>
  <span class='@type ivar id'>@type</span>                   <span class='assign token'>=</span> <span class='type identifier id'>type</span>
  <span class='@custom ivar id'>@custom</span>                 <span class='assign token'>=</span> <span class='Type constant id'>Type</span> <span class='gt op'>&gt;</span> <span class='@type ivar id'>@type</span>
  <span class='@options ivar id'>@options</span>                <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='@custom ivar id'>@custom</span> <span class='question op'>?</span> <span class='@type ivar id'>@type</span><span class='dot token'>.</span><span class='options identifier id'>options</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='freeze identifier id'>freeze</span>
  <span class='@instance_variable_name ivar id'>@instance_variable_name</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;@#{@name}&quot;</span><span class='dot token'>.</span><span class='freeze identifier id'>freeze</span>

  <span class='@primitive ivar id'>@primitive</span> <span class='assign token'>=</span> <span class='@type ivar id'>@type</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:primitive</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='@type ivar id'>@type</span><span class='dot token'>.</span><span class='primitive identifier id'>primitive</span> <span class='colon op'>:</span> <span class='@type ivar id'>@type</span>
  <span class='@field ivar id'>@field</span>     <span class='assign token'>=</span> <span class='@options ivar id'>@options</span><span class='lbrack token'>[</span><span class='symbol val'>:field</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='freeze identifier id'>freeze</span>
  <span class='@default ivar id'>@default</span>   <span class='assign token'>=</span> <span class='@options ivar id'>@options</span><span class='lbrack token'>[</span><span class='symbol val'>:default</span><span class='rbrack token'>]</span>

  <span class='@serial ivar id'>@serial</span>       <span class='assign token'>=</span> <span class='@options ivar id'>@options</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='symbol val'>:serial</span><span class='comma token'>,</span>       <span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='@key ivar id'>@key</span>          <span class='assign token'>=</span> <span class='@options ivar id'>@options</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='symbol val'>:key</span><span class='comma token'>,</span>          <span class='@serial ivar id'>@serial</span> <span class='orop op'>||</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='@nullable ivar id'>@nullable</span>     <span class='assign token'>=</span> <span class='@options ivar id'>@options</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='symbol val'>:nullable</span><span class='comma token'>,</span>     <span class='@key ivar id'>@key</span> <span class='eq op'>==</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='@index ivar id'>@index</span>        <span class='assign token'>=</span> <span class='@options ivar id'>@options</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='symbol val'>:index</span><span class='comma token'>,</span>        <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='@unique_index ivar id'>@unique_index</span> <span class='assign token'>=</span> <span class='@options ivar id'>@options</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='symbol val'>:unique_index</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='@unique ivar id'>@unique</span>       <span class='assign token'>=</span> <span class='@options ivar id'>@options</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='symbol val'>:unique</span><span class='comma token'>,</span>       <span class='@serial ivar id'>@serial</span> <span class='orop op'>||</span> <span class='@key ivar id'>@key</span> <span class='orop op'>||</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='@lazy ivar id'>@lazy</span>         <span class='assign token'>=</span> <span class='@options ivar id'>@options</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='symbol val'>:lazy</span><span class='comma token'>,</span>         <span class='@type ivar id'>@type</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:lazy</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='@type ivar id'>@type</span><span class='dot token'>.</span><span class='lazy identifier id'>lazy</span> <span class='colon op'>:</span> <span class='false false kw'>false</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='notop op'>!</span><span class='@key ivar id'>@key</span>

  <span class='comment val'># assign attributes per-type</span>
  <span class='if if kw'>if</span> <span class='String constant id'>String</span> <span class='eq op'>==</span> <span class='@primitive ivar id'>@primitive</span> <span class='orop op'>||</span> <span class='Class constant id'>Class</span> <span class='eq op'>==</span> <span class='@primitive ivar id'>@primitive</span>
    <span class='@length ivar id'>@length</span> <span class='assign token'>=</span> <span class='@options ivar id'>@options</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='symbol val'>:length</span><span class='comma token'>,</span> <span class='DEFAULT_LENGTH constant id'>DEFAULT_LENGTH</span><span class='rparen token'>)</span>
  <span class='elsif elsif kw'>elsif</span> <span class='BigDecimal constant id'>BigDecimal</span> <span class='eq op'>==</span> <span class='@primitive ivar id'>@primitive</span> <span class='orop op'>||</span> <span class='Float constant id'>Float</span> <span class='eq op'>==</span> <span class='@primitive ivar id'>@primitive</span>
    <span class='@precision ivar id'>@precision</span> <span class='assign token'>=</span> <span class='@options ivar id'>@options</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='symbol val'>:precision</span><span class='comma token'>,</span> <span class='DEFAULT_PRECISION constant id'>DEFAULT_PRECISION</span><span class='rparen token'>)</span>
    <span class='@scale ivar id'>@scale</span>     <span class='assign token'>=</span> <span class='@options ivar id'>@options</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='symbol val'>:scale</span><span class='comma token'>,</span>     <span class='Float constant id'>Float</span> <span class='eq op'>==</span> <span class='@primitive ivar id'>@primitive</span> <span class='question op'>?</span> <span class='DEFAULT_SCALE_FLOAT constant id'>DEFAULT_SCALE_FLOAT</span> <span class='colon op'>:</span> <span class='DEFAULT_SCALE_BIGDECIMAL constant id'>DEFAULT_SCALE_BIGDECIMAL</span><span class='rparen token'>)</span>

    <span class='unless unless kw'>unless</span> <span class='@precision ivar id'>@precision</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>
      <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;precision must be greater than 0, but was #{@precision.inspect}&quot;</span>
    <span class='end end kw'>end</span>

    <span class='unless unless kw'>unless</span> <span class='Float constant id'>Float</span> <span class='eq op'>==</span> <span class='@primitive ivar id'>@primitive</span> <span class='andop op'>&amp;&amp;</span> <span class='@scale ivar id'>@scale</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
      <span class='unless unless kw'>unless</span> <span class='@scale ivar id'>@scale</span> <span class='geq op'>&gt;=</span> <span class='integer val'>0</span>
        <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;scale must be equal to or greater than 0, but was #{@scale.inspect}&quot;</span>
      <span class='end end kw'>end</span>

      <span class='unless unless kw'>unless</span> <span class='@precision ivar id'>@precision</span> <span class='geq op'>&gt;=</span> <span class='@scale ivar id'>@scale</span>
        <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;precision must be equal to or greater than scale, but was #{@precision.inspect} and scale was #{@scale.inspect}&quot;</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='determine_visibility identifier id'>determine_visibility</span>

  <span class='if if kw'>if</span> <span class='custom? fid id'>custom?</span>
    <span class='type identifier id'>type</span><span class='dot token'>.</span><span class='bind identifier id'>bind</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># comes from dm-validations</span>
  <span class='@model ivar id'>@model</span><span class='dot token'>.</span><span class='auto_generate_validations identifier id'>auto_generate_validations</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='@model ivar id'>@model</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:auto_generate_validations</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <div class="included">
  
  <div>
    <h2>Public Class Methods Included from <a href="Property/Deprecate.html" title="DataMapper::Deprecate">DataMapper::Deprecate</a></h2>
    <p><span class='name'><a href="Deprecate.html#deprecate-instance_method" title="deprecate">deprecate</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-3D-3D-instance_method">#==</span><span class='args'>(other)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Compares another Property for equivalency.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#custom-3F-instance_method">#custom?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns whether or not the property is custom (not provided by dm-core).
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#default-3F-instance_method">#default?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns true if the property has a default value.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#default_for-instance_method">#default_for</span><span class='args'>(resource)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a default value of the property for given resource.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Object</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#eql-3F-instance_method">#eql?</span><span class='args'>(other)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Compares another Property for equality.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#field-instance_method">#field</span><span class='args'>(repository_name = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Supplies the field in the data-store which the property corresponds to.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>String</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get-instance_method">#get</span><span class='args'>(resource)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Standardized reader method for the property.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Object</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get-21-instance_method">#get!</span><span class='args'>(resource)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Bypases resource loading and returns value of.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Object</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#hash-instance_method">#hash</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the hash of the property name.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Integer</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#index-instance_method">#index</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns index name if property has index.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#inspect-instance_method">#inspect</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a concise string representation of the property instance.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>String</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#key-3F-instance_method">#key?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns whether or not the property is a key or a part of a key.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#lazy-3F-instance_method">#lazy?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns whether or not the property is to be lazy-loaded.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#lazy_load-instance_method">#lazy_load</span><span class='args'>(resource)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Loads lazy columns when get or set is called.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#length-instance_method">#length</span><span class='args'></span>
        <span class='block'></span>
        
          <span class='alias'>#size</span>
        
      </th>
      <td class="docstring">
        <p>
Returns maximum property length (if applicable).
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Integer</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#loaded-3F-instance_method">#loaded?</span><span class='args'>(resource)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Check if the attribute corresponding to the property is loaded.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#nullable-3F-instance_method">#nullable?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns whether or not the property can accept &#8216;nil&#8217; as
it&#8217;s value.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#serial-3F-instance_method">#serial?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns whether or not the property is &quot;serial&quot;
(auto-incrementing).
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#set-instance_method">#set</span><span class='args'>(resource, value)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Provides a standardized setter method for the property.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Object</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#set-21-instance_method">#set!</span><span class='args'>(resource, value)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Bypases resource loading and sets value on.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Object</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#set_original_value-instance_method">#set_original_value</span><span class='args'>(resource, original)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Sets original value of the property on given resource.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#typecast-instance_method">#typecast</span><span class='args'>(value)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
typecasts values into a primitive (Ruby class that backs DataMapper
property type).
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#unique-3F-instance_method">#unique?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns true if property is unique.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#unique_index-instance_method">#unique_index</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns true if property has unique index.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>TrueClass</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#value-instance_method">#value</span><span class='args'>(value)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns given value unchanged for core types and uses <tt>dump</tt> method
of the property type for custom types.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Object</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>==</h3>
</div><div id="-3D-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>==</span><span class='args'>(other)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Compares another Property for equivalency
</p>
<pre class="code">
  <span class='TODO constant id'>TODO</span><span class='colon op'>:</span> <span class='needs identifier id'>needs</span> <span class='example identifier id'>example</span>
</pre>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt><a href="" title="Property">Property</a></tt>]</span>
        <span class='name'>other</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
the other Property to compare with
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt>FalseClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
true if they are equivalent, false if not
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 381</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L381">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">381
382
383
384
385
386
387
388
389
390
391</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='eq op'>==</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='equal? fid id'>equal?</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span>
  <span class='end end kw'>end</span>

  <span class='unless unless kw'>unless</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:model</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:name</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='false false kw'>false</span>
  <span class='end end kw'>end</span>

  <span class='cmp? fid id'>cmp?</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='comma token'>,</span> <span class='symbol val'>:==</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>custom?</h3>
</div><div id="custom-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>custom?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns whether or not the property is custom (not provided by dm-core)
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt>FalseClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
whether or not the property is custom
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 518</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L518">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">518
519
520</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='custom? fid id'>custom?</span>
  <span class='@custom ivar id'>@custom</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>default?</h3>
</div><div id="default-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>default?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns true if the property has a default value
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt>FalseClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
true if the property has a default value
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 745</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L745">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">745
746
747</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='default? fid id'>default?</span>
  <span class='@options ivar id'>@options</span><span class='dot token'>.</span><span class='key? fid id'>key?</span><span class='lparen token'>(</span><span class='symbol val'>:default</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>default_for</h3>
</div><div id="default_for-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Object</tt></span>
    <span class='name'>default_for</span><span class='args'>(resource)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a default value of the property for given resource.
</p>
<p>
When default value is a callable object, it is called with resource and
property passed as arguments.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt><a href="Resource.html" title="Resource">Resource</a></tt>]</span>
        <span class='name'>resource</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
the model instance for which the default is to be set
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Object</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
the default value of this property for <tt>resource</tt>
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 735</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L735">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">735
736
737</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='default_for identifier id'>default_for</span><span class='lparen token'>(</span><span class='resource identifier id'>resource</span><span class='rparen token'>)</span>
  <span class='@default ivar id'>@default</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:call</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='@default ivar id'>@default</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='resource identifier id'>resource</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='@default ivar id'>@default</span><span class='dot token'>.</span><span class='try_dup identifier id'>try_dup</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>eql?</h3>
</div><div id="eql-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>eql?</span><span class='args'>(other)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Compares another Property for equality
</p>
<pre class="code">
  <span class='TODO constant id'>TODO</span><span class='colon op'>:</span> <span class='needs identifier id'>needs</span> <span class='example identifier id'>example</span>
</pre>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt><a href="" title="Property">Property</a></tt>]</span>
        <span class='name'>other</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
the other Property to compare with
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt>FalseClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
true if they are equal, false if not
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 405</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L405">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">405
406
407
408
409
410
411
412
413
414
415</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='eql? fid id'>eql?</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='equal? fid id'>equal?</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span>
  <span class='end end kw'>end</span>

  <span class='unless unless kw'>unless</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='false false kw'>false</span>
  <span class='end end kw'>end</span>

  <span class='cmp? fid id'>cmp?</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='comma token'>,</span> <span class='symbol val'>:eql?</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>field</h3>
</div><div id="field-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>String</tt></span>
    <span class='name'>field</span><span class='args'>(repository_name = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Supplies the field in the data-store which the property corresponds to
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>String</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
name of field in data-store
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 344</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L344">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">344
345
346
347
348
349
350
351
352
353
354
355
356</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='field identifier id'>field</span><span class='lparen token'>(</span><span class='repository_name identifier id'>repository_name</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='repository_name identifier id'>repository_name</span>
    <span class='warn identifier id'>warn</span> <span class='dstring node'>&quot;Passing in +repository_name+ to #{self.class}#field is deprecated: #{caller[0]}&quot;</span>

    <span class='if if kw'>if</span> <span class='repository_name identifier id'>repository_name</span> <span class='neq op'>!=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='repository_name identifier id'>repository_name</span>
      <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Mismatching +repository_name+ with #{self.class}#repository_name (#{repository_name.inspect} != #{self.repository_name.inspect})&quot;</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># defer setting the field with the adapter specific naming</span>
  <span class='comment val'># conventions until after the adapter has been setup</span>
  <span class='@field ivar id'>@field</span> <span class='opasgn op'>||=</span> <span class='model identifier id'>model</span><span class='dot token'>.</span><span class='field_naming_convention identifier id'>field_naming_convention</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='repository_name identifier id'>repository_name</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='freeze identifier id'>freeze</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get</h3>
</div><div id="get-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Object</tt></span>
    <span class='name'>get</span><span class='args'>(resource)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Standardized reader method for the property
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt><a href="Resource.html" title="Resource">Resource</a></tt>]</span>
        <span class='name'>resource</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
model instance for which this property is to be loaded
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Object</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
the value of this property for the provided instance
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>ArgumentError</tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
&quot;<tt>resource</tt> should be a Resource, but was .&#8230;&quot;
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 533</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L533">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">533
534
535
536
537
538
539
540
541
542
543</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='resource identifier id'>resource</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='if if_mod kw'>if</span> <span class='resource identifier id'>resource</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>

  <span class='lazy_load identifier id'>lazy_load</span><span class='lparen token'>(</span><span class='resource identifier id'>resource</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='loaded? fid id'>loaded?</span><span class='lparen token'>(</span><span class='resource identifier id'>resource</span><span class='rparen token'>)</span> <span class='orop op'>||</span> <span class='resource identifier id'>resource</span><span class='dot token'>.</span><span class='new? fid id'>new?</span>

  <span class='if if kw'>if</span> <span class='loaded? fid id'>loaded?</span><span class='lparen token'>(</span><span class='resource identifier id'>resource</span><span class='rparen token'>)</span>
    <span class='get! fid id'>get!</span><span class='lparen token'>(</span><span class='resource identifier id'>resource</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='set identifier id'>set</span><span class='lparen token'>(</span><span class='resource identifier id'>resource</span><span class='comma token'>,</span> <span class='default? fid id'>default?</span> <span class='integer val'>? </span><span class='default_for identifier id'>default_for</span><span class='lparen token'>(</span><span class='resource identifier id'>resource</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get!</h3>
</div><div id="get-21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Object</tt></span>
    <span class='name'>get!</span><span class='args'>(resource)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Bypases resource loading and returns value of
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt><a href="Resource.html" title="Resource">Resource</a></tt>]</span>
        <span class='name'>resource</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
model instance for which this property is to be unsafely loaded
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Object</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
current @ivar value of this property in <tt>resource</tt>
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 558</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L558">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">558
559
560</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get! fid id'>get!</span><span class='lparen token'>(</span><span class='resource identifier id'>resource</span><span class='rparen token'>)</span>
  <span class='resource identifier id'>resource</span><span class='dot token'>.</span><span class='instance_variable_get identifier id'>instance_variable_get</span><span class='lparen token'>(</span><span class='instance_variable_name identifier id'>instance_variable_name</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>hash</h3>
</div><div id="hash-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Integer</tt></span>
    <span class='name'>hash</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the hash of the property name
</p>
<p>
This is necessary to allow comparisons between different properties in
different models, having the same base model
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Integer</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
the property name hash
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 427</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L427">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">427
428
429</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='hash identifier id'>hash</span>
  <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='hash identifier id'>hash</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>index</h3>
</div><div id="index-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>index</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns index name if property has index.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt><a href="../Symbol.html" title="Symbol">Symbol</a></tt>, <tt>Array</tt>, <tt>NilClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
returns true if property is indexed by itself returns a Symbol if the
property is indexed with other properties returns an Array if the property
belongs to multiple indexes returns nil if the property does not belong to
any indexes
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 454</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L454">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">454
455
456</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='index identifier id'>index</span>
  <span class='@index ivar id'>@index</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>inspect</h3>
</div><div id="inspect-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>String</tt></span>
    <span class='name'>inspect</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a concise string representation of the property instance.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>String</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
Concise string representation of the property instance.
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 769</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L769">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">769
770
771</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='inspect identifier id'>inspect</span>
  <span class='dstring node'>&quot;#&lt;#{self.class.name} @model=#{model.inspect} @name=#{name.inspect}&gt;&quot;</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>key?</h3>
</div><div id="key-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>key?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns whether or not the property is a key or a part of a key
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt>FalseClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
true if the property is a key or a part of a key
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 488</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L488">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">488
489
490</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='key? fid id'>key?</span>
  <span class='@key ivar id'>@key</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>lazy?</h3>
</div><div id="lazy-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>lazy?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns whether or not the property is to be lazy-loaded
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt>FalseClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
true if the property is to be lazy-loaded
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 478</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L478">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">478
479
480</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='lazy? fid id'>lazy?</span>
  <span class='@lazy ivar id'>@lazy</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>lazy_load</h3>
</div><div id="lazy_load-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>lazy_load</span><span class='args'>(resource)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Loads lazy columns when get or set is called.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt><a href="Resource.html" title="Resource">Resource</a></tt>]</span>
        <span class='name'>resource</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
model instance for which lazy loaded attribute are loaded
</p>
</span>
      </dd>
    
  
  </dl>
</div>
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 652</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L652">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">652
653
654
655
656
657
658</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='lazy_load identifier id'>lazy_load</span><span class='lparen token'>(</span><span class='resource identifier id'>resource</span><span class='rparen token'>)</span>
  <span class='comment val'># If we're trying to load a lazy property, load it. Otherwise, lazy-load</span>
  <span class='comment val'># any properties that should be eager-loaded but were not included</span>
  <span class='comment val'># in the original :fields list</span>
  <span class='property_names identifier id'>property_names</span> <span class='assign token'>=</span> <span class='lazy? fid id'>lazy?</span> <span class='integer val'>? </span><span class='lbrack token'>[</span> <span class='name identifier id'>name</span> <span class='rbrack token'>]</span> <span class='colon op'>:</span> <span class='model identifier id'>model</span><span class='dot token'>.</span><span class='properties identifier id'>properties</span><span class='lparen token'>(</span><span class='resource identifier id'>resource</span><span class='dot token'>.</span><span class='repository identifier id'>repository</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='defaults identifier id'>defaults</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='p identifier id'>p</span><span class='bitor op'>|</span> <span class='p identifier id'>p</span><span class='dot token'>.</span><span class='name identifier id'>name</span> <span class='rbrace token'>}</span>
  <span class='resource identifier id'>resource</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='symbol val'>:lazy_load</span><span class='comma token'>,</span> <span class='property_names identifier id'>property_names</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>length</h3>
</div><div id="length-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Integer</tt></span>
    <span class='name'>length</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="size-instance_method">size</tt>
  
</p>
</div><div class="section docstring">
  <p>
Returns maximum property length (if applicable). This usually only makes
sense when property is of type Range or custom type.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Integer</tt>, <tt>NilClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
the maximum length of this property
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 439</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L439">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">439
440
441</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='length identifier id'>length</span>
  <span class='@length ivar id'>@length</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span><span class='lparen token'>(</span><span class='Range constant id'>Range</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='@length ivar id'>@length</span><span class='dot token'>.</span><span class='max identifier id'>max</span> <span class='colon op'>:</span> <span class='@length ivar id'>@length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>loaded?</h3>
</div><div id="loaded-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>loaded?</span><span class='args'>(resource)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Check if the attribute corresponding to the property is loaded
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt><a href="Resource.html" title="Resource">Resource</a></tt>]</span>
        <span class='name'>resource</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
model instance for which the attribute is to be tested
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt>FalseClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
true if the attribute is loaded in the resource
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 642</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L642">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">642
643
644</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='loaded? fid id'>loaded?</span><span class='lparen token'>(</span><span class='resource identifier id'>resource</span><span class='rparen token'>)</span>
  <span class='resource identifier id'>resource</span><span class='dot token'>.</span><span class='instance_variable_defined? fid id'>instance_variable_defined?</span><span class='lparen token'>(</span><span class='instance_variable_name identifier id'>instance_variable_name</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>nullable?</h3>
</div><div id="nullable-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>nullable?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns whether or not the property can accept &#8216;nil&#8217; as
it&#8217;s value
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt>FalseClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
whether or not the property can accept &#8216;nil&#8217;
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 508</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L508">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">508
509
510</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='nullable? fid id'>nullable?</span>
  <span class='@nullable ivar id'>@nullable</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>serial?</h3>
</div><div id="serial-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>serial?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns whether or not the property is &quot;serial&quot;
(auto-incrementing)
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt>FalseClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
whether or not the property is &quot;serial&quot;
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 498</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L498">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">498
499
500</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='serial? fid id'>serial?</span>
  <span class='@serial ivar id'>@serial</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>set</h3>
</div><div id="set-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Object</tt></span>
    <span class='name'>set</span><span class='args'>(resource, value)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Provides a standardized setter method for the property
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt><a href="Resource.html" title="Resource">Resource</a></tt>]</span>
        <span class='name'>resource</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
model instance for which this property is to be set
</p>
</span>
      </dd>
    
  
    
      <dt>
        <span class='type'>[<tt>Object</tt>]</span>
        <span class='name'>value</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
value to which value of this property will be set for <tt>resource</tt>
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Object</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
<tt>value</tt> after being typecasted according to this property&#8217;s
primitive
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>ArgumentError</tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
&quot;<tt>resource</tt> should be a Resource, but was .&#8230;&quot;
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 600</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L600">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">600
601
602
603
604
605
606
607
608
609
610
611
612</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='set identifier id'>set</span><span class='lparen token'>(</span><span class='resource identifier id'>resource</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='loaded identifier id'>loaded</span>   <span class='assign token'>=</span> <span class='loaded? fid id'>loaded?</span><span class='lparen token'>(</span><span class='resource identifier id'>resource</span><span class='rparen token'>)</span>
  <span class='original identifier id'>original</span> <span class='assign token'>=</span> <span class='get! fid id'>get!</span><span class='lparen token'>(</span><span class='resource identifier id'>resource</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='loaded identifier id'>loaded</span>
  <span class='value identifier id'>value</span>    <span class='assign token'>=</span> <span class='typecast identifier id'>typecast</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>

  <span class='if if kw'>if</span> <span class='loaded identifier id'>loaded</span> <span class='andop op'>&amp;&amp;</span> <span class='value identifier id'>value</span> <span class='eq op'>==</span> <span class='original identifier id'>original</span>
    <span class='return return kw'>return</span> <span class='original identifier id'>original</span>
  <span class='end end kw'>end</span>

  <span class='set_original_value identifier id'>set_original_value</span><span class='lparen token'>(</span><span class='resource identifier id'>resource</span><span class='comma token'>,</span> <span class='original identifier id'>original</span><span class='rparen token'>)</span>

  <span class='set! fid id'>set!</span><span class='lparen token'>(</span><span class='resource identifier id'>resource</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>set!</h3>
</div><div id="set-21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Object</tt></span>
    <span class='name'>set!</span><span class='args'>(resource, value)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Bypases resource loading and sets value on
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt><a href="Resource.html" title="Resource">Resource</a></tt>]</span>
        <span class='name'>resource</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
the model instance for which to unsafely set the value of this property
</p>
</span>
      </dd>
    
  
    
      <dt>
        <span class='type'>[<tt>Object</tt>]</span>
        <span class='name'>value</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
the value to which this property should be unsafely set for
<tt>resource</tt>
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Object</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
<tt>value</tt>, the value to which this property was unsafely set for
<tt>resource</tt>
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 629</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L629">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">629
630
631</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='set! fid id'>set!</span><span class='lparen token'>(</span><span class='resource identifier id'>resource</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='resource identifier id'>resource</span><span class='dot token'>.</span><span class='instance_variable_set identifier id'>instance_variable_set</span><span class='lparen token'>(</span><span class='instance_variable_name identifier id'>instance_variable_name</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>set_original_value</h3>
</div><div id="set_original_value-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>set_original_value</span><span class='args'>(resource, original)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Sets original value of the property on given resource. When property is set
on DataMapper resource instance, original value is preserved. This makes
possible to track dirty attributes and save only those really changed, and
avoid extra queries to the data source in certain situations.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt><a href="Resource.html" title="Resource">Resource</a></tt>]</span>
        <span class='name'>resource</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
model instance for which to set the original value
</p>
</span>
      </dd>
    
  
    
      <dt>
        <span class='type'>[<tt>Object</tt>]</span>
        <span class='name'>original</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
value to set as original value for this property in <tt>resource</tt>
</p>
</span>
      </dd>
    
  
  </dl>
</div>
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 575</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L575">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">575
576
577
578
579
580
581
582
583
584
585</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='set_original_value identifier id'>set_original_value</span><span class='lparen token'>(</span><span class='resource identifier id'>resource</span><span class='comma token'>,</span> <span class='original identifier id'>original</span><span class='rparen token'>)</span>
  <span class='original_attributes identifier id'>original_attributes</span> <span class='assign token'>=</span> <span class='resource identifier id'>resource</span><span class='dot token'>.</span><span class='original_attributes identifier id'>original_attributes</span>
  <span class='original identifier id'>original</span>        <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='value identifier id'>value</span><span class='lparen token'>(</span><span class='original identifier id'>original</span><span class='rparen token'>)</span>

  <span class='if if kw'>if</span> <span class='original_attributes identifier id'>original_attributes</span><span class='dot token'>.</span><span class='key? fid id'>key?</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
    <span class='comment val'># stop tracking the value if it has not changed</span>
    <span class='original_attributes identifier id'>original_attributes</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='original identifier id'>original</span> <span class='eq op'>==</span> <span class='original_attributes identifier id'>original_attributes</span><span class='lbrack token'>[</span><span class='self self kw'>self</span><span class='rbrack token'>]</span> <span class='andop op'>&amp;&amp;</span> <span class='resource identifier id'>resource</span><span class='dot token'>.</span><span class='saved? fid id'>saved?</span>
  <span class='else else kw'>else</span>
    <span class='original_attributes identifier id'>original_attributes</span><span class='lbrack token'>[</span><span class='self self kw'>self</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='original identifier id'>original</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>typecast</h3>
</div><div id="typecast-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>typecast</span><span class='args'>(value)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
typecasts values into a primitive (Ruby class that backs DataMapper
property type). If property type can handle typecasting, it is delegated.
How typecasting is perfomed, depends on the primitive of the type.
</p>
<p>
If type&#8217;s primitive is a TrueClass, values of 1, t and true are
casted to true.
</p>
<p>
For String primitive, <tt>to_s</tt> is called on value.
</p>
<p>
For Float primitive, <tt>to_f</tt> is called on value.
</p>
<p>
For Integer primitive, <tt>to_i</tt> is called on value but only if value
is an integer (decimal or binary), otherwise nil is returned. This is so
because &quot;junk&quot;.to_i returns 0.
</p>
<p>
Properties of type with BigDecimal primitive use <tt>BigDecimal(value)</tt> for
casting. Casting to DateTime, Time and Date can handle both hashes with
keys like :day or :hour and strings in format methods like Time.parse can
handle.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>#to_s</tt>, <tt>#to_f</tt>, <tt>#to_i</tt>]</span>
        <span class='name'>value</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
the value to be typecast to this property&#8217;s primitive
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt>String</tt>, <tt>Float</tt>, <tt>Integer</tt>, <tt>BigDecimal</tt>, <tt>DateTime</tt>, <tt>Date</tt>, <tt>Time</tt>, <tt>Class</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
The typecasted <tt>value</tt>
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 685</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L685">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712
713
714
715
716
717
718
719</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='typecast identifier id'>typecast</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='type identifier id'>type</span><span class='dot token'>.</span><span class='typecast identifier id'>typecast</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='type identifier id'>type</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:typecast</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='value identifier id'>value</span> <span class='if if_mod kw'>if</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span><span class='lparen token'>(</span><span class='primitive identifier id'>primitive</span><span class='rparen token'>)</span> <span class='orop op'>||</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
  <span class='begin begin kw'>begin</span>
    <span class='comment val'># TODO: optimize this using a Hash lookup table</span>
    <span class='if if kw'>if</span> <span class='primitive identifier id'>primitive</span> <span class='eq op'>==</span> <span class='Integer constant id'>Integer</span>
      <span class='comment val'># The simplest possible implementation, i.e. value.to_i, is not</span>
      <span class='comment val'># desirable because &quot;junk&quot;.to_i gives &quot;0&quot;. We want nil instead,</span>
      <span class='comment val'># because this makes it clear that the typecast failed.</span>
      <span class='comment val'>#</span>
      <span class='comment val'># After benchmarking, we preferred the current implementation over</span>
      <span class='comment val'># these two alternatives:</span>
      <span class='comment val'># * Integer(value) rescue nil</span>
      <span class='comment val'># * Integer(value_to_s =~ /(\d+)/ ? $1 : value_to_s) rescue nil</span>
      <span class='value_to_i identifier id'>value_to_i</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
      <span class='if if kw'>if</span> <span class='value_to_i identifier id'>value_to_i</span> <span class='eq op'>==</span> <span class='integer val'>0</span>
        <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='match op'>=~</span> <span class='regexp val'>/\A(0x|0b)?0+\z/</span> <span class='question op'>?</span> <span class='integer val'>0</span> <span class='colon op'>:</span> <span class='nil nil kw'>nil</span>
      <span class='else else kw'>else</span>
        <span class='value_to_i identifier id'>value_to_i</span>
      <span class='end end kw'>end</span>
    <span class='elsif elsif kw'>elsif</span> <span class='primitive identifier id'>primitive</span> <span class='eq op'>==</span> <span class='String constant id'>String</span>     <span class='then then kw'>then</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
    <span class='elsif elsif kw'>elsif</span> <span class='primitive identifier id'>primitive</span> <span class='eq op'>==</span> <span class='TrueClass constant id'>TrueClass</span>  <span class='then then kw'>then</span> <span class='dstring node'>%w[ true 1 t ]</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span><span class='rparen token'>)</span>
    <span class='elsif elsif kw'>elsif</span> <span class='primitive identifier id'>primitive</span> <span class='eq op'>==</span> <span class='BigDecimal constant id'>BigDecimal</span> <span class='then then kw'>then</span> <span class='BigDecimal constant id'>BigDecimal</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
    <span class='elsif elsif kw'>elsif</span> <span class='primitive identifier id'>primitive</span> <span class='eq op'>==</span> <span class='Float constant id'>Float</span>      <span class='then then kw'>then</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span>
    <span class='elsif elsif kw'>elsif</span> <span class='primitive identifier id'>primitive</span> <span class='eq op'>==</span> <span class='DateTime constant id'>DateTime</span>   <span class='then then kw'>then</span> <span class='typecast_to_datetime identifier id'>typecast_to_datetime</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
    <span class='elsif elsif kw'>elsif</span> <span class='primitive identifier id'>primitive</span> <span class='eq op'>==</span> <span class='Time constant id'>Time</span>       <span class='then then kw'>then</span> <span class='typecast_to_time identifier id'>typecast_to_time</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
    <span class='elsif elsif kw'>elsif</span> <span class='primitive identifier id'>primitive</span> <span class='eq op'>==</span> <span class='Date constant id'>Date</span>       <span class='then then kw'>then</span> <span class='typecast_to_date identifier id'>typecast_to_date</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
    <span class='elsif elsif kw'>elsif</span> <span class='primitive identifier id'>primitive</span> <span class='eq op'>==</span> <span class='Class constant id'>Class</span>      <span class='then then kw'>then</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='find_const identifier id'>find_const</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='value identifier id'>value</span>
    <span class='end end kw'>end</span>
  <span class='rescue rescue kw'>rescue</span>
    <span class='value identifier id'>value</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>unique?</h3>
</div><div id="unique-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>unique?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns true if property is unique. Serial properties and keys are unique
by default.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt>FalseClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
true if property has uniq index defined, false otherwise
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 365</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L365">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">365
366
367</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='unique? fid id'>unique?</span>
  <span class='@unique ivar id'>@unique</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>unique_index</h3>
</div><div id="unique_index-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>TrueClass</tt></span>
    <span class='name'>unique_index</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns true if property has unique index. Serial properties and keys are
unique by default.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>TrueClass</tt>, <tt><a href="../Symbol.html" title="Symbol">Symbol</a></tt>, <tt>Array</tt>, <tt>NilClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
returns true if property is indexed by itself returns a Symbol if the
property is indexed with other properties returns an Array if the property
belongs to multiple indexes returns nil if the property does not belong to
any indexes
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 468</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L468">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">468
469
470</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='unique_index identifier id'>unique_index</span>
  <span class='@unique_index ivar id'>@unique_index</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>value</h3>
</div><div id="value-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Object</tt></span>
    <span class='name'>value</span><span class='args'>(value)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns given value unchanged for core types and uses <tt>dump</tt> method
of the property type for custom types.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Object</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
the primitive value to be stored in the repository for <tt>val</tt>
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dm-core/property.rb', line 759</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/michael/dm-core/blob/e1bd009dff9b6c1bfd91751e87b3989c1c7a1866/lib/dm-core/property.rb#L759">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">759
760
761</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='value identifier id'>value</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='custom? fid id'>custom?</span> <span class='integer val'>? </span><span class='type identifier id'>type</span><span class='dot token'>.</span><span class='dump identifier id'>dump</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='value identifier id'>value</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>