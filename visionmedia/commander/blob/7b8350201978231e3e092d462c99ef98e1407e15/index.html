<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>visionmedia's commander - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/visionmedia/commits/commander/master" rel="alternate" title="Recent Commits to commander:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("visionmedia", "commander", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='visionmedia/commander/blob/7b8350201978231e3e092d462c99ef98e1407e15' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='visionmedia/commander/blob/7b8350201978231e3e092d462c99ef98e1407e15' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("visionmedia", "commander", "7b8350201978231e3e092d462c99ef98e1407e15", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/visionmedia/commander/tree/">Source</a></li>
            <li class=""><a href="http://github.com/visionmedia/commander/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/visionmedia/commander/network">Network</a></li>            
            <li class=""><a href="http://github.com/visionmedia/commander/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/visionmedia/commander">Wiki</a></li>
            <li class=""><a href="http://github.com/visionmedia/commander/graphs">Graphs</a></li>                    
            <li class="active"><a href="/visionmedia/commander">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/visionmedia">visionmedia</a> / <b><a href="http://github.com/visionmedia/commander/tree">commander</a></b>        
                <a id="namespaces_button" rel="visionmedia/commander/blob/7b8350201978231e3e092d462c99ef98e1407e15" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="visionmedia/commander/blob/7b8350201978231e3e092d462c99ef98e1407e15" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="section docstring readme wikistyle">
  <h1>Commander</h1>
<p>
The complete solution for Ruby command-line executables. Commander bridges
the gap between other terminal related libraries you know and love
(OptionParser, HighLine), while providing many new features, and an elegant
API.
</p>
<h2>Features</h2>
<ul>
<li>Easier than baking cookies

</li>
<li>Parses options using OptionParser

</li>
<li>Auto-populates struct with options ( no more { |v| options[:recursive] = v
} )

</li>
<li>Auto-generates help documentation via pluggable help formatters

</li>
<li>Optional default command when none is present

</li>
<li>Global / Command level options

</li>
<li>Packaged with two help formatters (Terminal, TerminalCompact)

</li>
<li>Imports the highline gem for interacting with the terminal

</li>
<li>Adds additional user interaction functionality

</li>
<li>Highly customizable progress bar with intuative, simple usage

</li>
<li>Multi-word command name support such as &#8216;drupal module install
MOD&#8217;, rather than &#8216;drupal module_install MOD&#8217;

</li>
<li>Sexy paging for long bodies of text

</li>
<li>Support for MacOS text-to-speech

</li>
<li>Command aliasing (very powerful, as both switches and arguments can be
used)

</li>
<li>Growl notification support for MacOS

</li>
<li>Use the &#8216;commander&#8217; executable to initialize a commander driven
program

</li>
</ul>
<h2>Installation</h2>
<p>
Due to issues with Github and supporting previous releases, until 4.0 you
must:
</p>
<pre class="code">
  <span class='sudo identifier id'>sudo</span> <span class='gem identifier id'>gem</span> <span class='install identifier id'>install</span> <span class='visionmedia identifier id'>visionmedia</span><span class='minus op'>-</span><span class='commander identifier id'>commander</span> <span class='minus op'>-</span><span class='minus op'>-</span><span class='version identifier id'>version</span> <span class='float val'>3.2</span><span class='integer val'>.9</span>
</pre>
<h2>Example</h2>
<p>
For more option examples view the Commander::Command#option method. Also an
important feature to note is that when_called may be a class to
instantiate, as well as an object, specifying a method to call, so view the
RDoc for more information.
</p>
<pre class="code">
   <span class='require identifier id'>require</span> <span class='string val'>'rubygems'</span>
   <span class='require identifier id'>require</span> <span class='string val'>'commander/import'</span>

   <span class='comment val'># :name is optional, otherwise uses the basename of this executable</span>
   <span class='program identifier id'>program</span> <span class='symbol val'>:name</span><span class='comma token'>,</span> <span class='string val'>'Foo Bar'</span>
   <span class='program identifier id'>program</span> <span class='symbol val'>:version</span><span class='comma token'>,</span> <span class='string val'>'1.0.0'</span>
   <span class='program identifier id'>program</span> <span class='symbol val'>:description</span><span class='comma token'>,</span> <span class='string val'>'Stupid command that prints foo or bar.'</span>

   <span class='command identifier id'>command</span> <span class='symbol val'>:foo</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='c identifier id'>c</span><span class='bitor op'>|</span>
     <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='syntax identifier id'>syntax</span> <span class='assign token'>=</span> <span class='string val'>'foobar foo'</span>
     <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='description identifier id'>description</span> <span class='assign token'>=</span> <span class='string val'>'Displays foo'</span>
     <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='when_called identifier id'>when_called</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='bitor op'>|</span>
       <span class='say identifier id'>say</span> <span class='string val'>'foo'</span>
     <span class='end end kw'>end</span>
   <span class='end end kw'>end</span>

   <span class='command identifier id'>command</span> <span class='symbol val'>:bar</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='c identifier id'>c</span><span class='bitor op'>|</span>
     <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='syntax identifier id'>syntax</span> <span class='assign token'>=</span> <span class='string val'>'foobar bar [options]'</span>
     <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='description identifier id'>description</span> <span class='assign token'>=</span> <span class='string val'>'Display bar with optional prefix and suffix'</span>
     <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='option identifier id'>option</span> <span class='string val'>'--prefix STRING'</span><span class='comma token'>,</span> <span class='String constant id'>String</span><span class='comma token'>,</span> <span class='string val'>'Adds a prefix to bar'</span>
     <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='option identifier id'>option</span> <span class='string val'>'--suffix STRING'</span><span class='comma token'>,</span> <span class='String constant id'>String</span><span class='comma token'>,</span> <span class='string val'>'Adds a suffix to bar'</span>
     <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='when_called identifier id'>when_called</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='bitor op'>|</span>
       <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='default identifier id'>default</span> <span class='symbol val'>:prefix</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'('</span><span class='comma token'>,</span> <span class='symbol val'>:suffix</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>')'</span>
       <span class='say identifier id'>say</span> <span class='dstring node'>&quot;#{options.prefix}bar#{options.suffix}&quot;</span>
     <span class='end end kw'>end</span>
   <span class='end end kw'>end</span>

   $ <span class='foobar identifier id'>foobar</span> <span class='bar identifier id'>bar</span>
   <span class='comment val'># =&gt; (bar)</span>

   $ <span class='foobar identifier id'>foobar</span> <span class='bar identifier id'>bar</span> <span class='minus op'>-</span><span class='minus op'>-</span><span class='suffix identifier id'>suffix</span> <span class='string val'>'{'</span> <span class='minus op'>-</span><span class='minus op'>-</span><span class='prefix identifier id'>prefix</span> <span class='string val'>'}'</span>
   <span class='comment val'># =&gt; &lt;tt&gt;bar&lt;/tt&gt;</span>
</pre>
<h2>HighLine</h2>
<p>
As mentioned above the highline gem is imported into &#8216;global
scope&#8217;, below are some quick examples for how to utilize highline in
your command(s):
</p>
<pre class="code">
   <span class='comment val'># Ask for password masked with '*' character</span>
   <span class='ask identifier id'>ask</span><span class='lparen token'>(</span><span class='string val'>&quot;Password:  &quot;</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='q identifier id'>q</span><span class='bitor op'>|</span> <span class='q identifier id'>q</span><span class='dot token'>.</span><span class='echo identifier id'>echo</span> <span class='assign token'>=</span> <span class='string val'>&quot;*&quot;</span> <span class='rbrace token'>}</span>

   <span class='comment val'># Ask for password</span>
   <span class='ask identifier id'>ask</span><span class='lparen token'>(</span><span class='string val'>&quot;Password:  &quot;</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='q identifier id'>q</span><span class='bitor op'>|</span> <span class='q identifier id'>q</span><span class='dot token'>.</span><span class='echo identifier id'>echo</span> <span class='assign token'>=</span> <span class='false false kw'>false</span> <span class='rbrace token'>}</span>

   <span class='comment val'># Ask if the user agrees (yes or no)</span>
   <span class='agree identifier id'>agree</span><span class='lparen token'>(</span><span class='string val'>&quot;Do something?&quot;</span><span class='rparen token'>)</span>

   <span class='comment val'># Asks on a single line (note the space after ':')</span>
   <span class='ask identifier id'>ask</span><span class='lparen token'>(</span><span class='string val'>&quot;Name: &quot;</span><span class='rparen token'>)</span>

   <span class='comment val'># Asks with new line after &quot;Description:&quot;</span>
   <span class='ask identifier id'>ask</span><span class='lparen token'>(</span><span class='string val'>&quot;Description:&quot;</span><span class='rparen token'>)</span>

   <span class='comment val'># Calls Date#parse to parse the date string passed</span>
   <span class='ask identifier id'>ask</span><span class='lparen token'>(</span><span class='string val'>&quot;Birthday? &quot;</span><span class='comma token'>,</span> <span class='Date constant id'>Date</span><span class='rparen token'>)</span>

   <span class='comment val'># Ensures Integer is within the range specified</span>
   <span class='ask identifier id'>ask</span><span class='lparen token'>(</span><span class='string val'>&quot;Age? &quot;</span><span class='comma token'>,</span> <span class='Integer constant id'>Integer</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='q identifier id'>q</span><span class='bitor op'>|</span> <span class='q identifier id'>q</span><span class='dot token'>.</span><span class='in identifier id'>in</span> <span class='assign token'>=</span> <span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>105</span> <span class='rbrace token'>}</span>

   <span class='comment val'># Asks for a list of strings, converts to array</span>
   <span class='ask identifier id'>ask</span><span class='lparen token'>(</span><span class='string val'>&quot;Fav colors?&quot;</span><span class='comma token'>,</span> <span class='Array constant id'>Array</span><span class='rparen token'>)</span>
</pre>
<h2>HighLine &amp; Interaction Additions</h2>
<p>
In addition to highline&#8217;s fantastic choice of methods we will
continue to simplify common tasks using the following methods:
</p>
<pre class="code">
   <span class='comment val'># Ask for password</span>
   <span class='password identifier id'>password</span>

   <span class='comment val'># Ask for password with specific message and mask character</span>
   <span class='password identifier id'>password</span> <span class='string val'>&quot;Enter your password please:&quot;</span><span class='comma token'>,</span> <span class='string val'>'-'</span>

   <span class='comment val'># Ask for CLASS, which may be any valid class responding to #parse. Date, Time, Array, etc</span>
   <span class='names identifier id'>names</span> <span class='assign token'>=</span> <span class='ask_for_array identifier id'>ask_for_array</span> <span class='string val'>'Names: '</span>
   <span class='bday identifier id'>bday</span> <span class='assign token'>=</span> <span class='ask_for_date identifier id'>ask_for_date</span> <span class='string val'>'Birthday?: '</span>

   <span class='comment val'># Simple progress bar (Commander::UI::ProgressBar)</span>
   <span class='uris identifier id'>uris</span> <span class='assign token'>=</span> <span class='dstring node'>%w[
     http://vision-media.ca
     http://google.com
     http://yahoo.com
     ]</span>
   <span class='progress identifier id'>progress</span> <span class='uris identifier id'>uris</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='uri identifier id'>uri</span><span class='bitor op'>|</span>
     <span class='res identifier id'>res</span> <span class='assign token'>=</span> <span class='open identifier id'>open</span> <span class='uri identifier id'>uri</span>
     <span class='comment val'># Do something with response</span>
   <span class='end end kw'>end</span>

  <span class='comment val'># 'Log' action to stdout</span>
  <span class='log identifier id'>log</span> <span class='string val'>&quot;create&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;path/to/file.rb&quot;</span>

  <span class='comment val'># Enable paging of output after this point</span>
  <span class='enable_paging identifier id'>enable_paging</span>

  <span class='comment val'># Ask editor for input (EDITOR or TextMate by default)</span>
  <span class='ask_editor identifier id'>ask_editor</span>

  <span class='comment val'># Ask editor, supplying initial text</span>
  <span class='ask_editor identifier id'>ask_editor</span> <span class='string val'>'previous data to update'</span>

  <span class='comment val'># Display a generic Growl notification</span>
  <span class='notify identifier id'>notify</span> <span class='string val'>'Something happened'</span>

  <span class='comment val'># Display an 'info' status notification</span>
  <span class='notify_info identifier id'>notify_info</span> <span class='string val'>'You have #{emails.length} new email(s)'</span>

  <span class='comment val'># Display an 'ok' status notification</span>
  <span class='notify_ok identifier id'>notify_ok</span> <span class='string val'>'Gems updated'</span>

  <span class='comment val'># Display a 'warning' status notification</span>
  <span class='notify_warning identifier id'>notify_warning</span> <span class='string val'>'1 gem failed installation'</span>

  <span class='comment val'># Display an 'error' status notification</span>
  <span class='notify_error identifier id'>notify_error</span> <span class='dstring node'>&quot;Gem #{name} failed&quot;</span>

  <span class='comment val'># Choose from an array of elements</span>
  <span class='choice identifier id'>choice</span> <span class='assign token'>=</span> <span class='choose identifier id'>choose</span><span class='lparen token'>(</span><span class='string val'>&quot;Favorite language?&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:ruby</span><span class='comma token'>,</span> <span class='symbol val'>:perl</span><span class='comma token'>,</span> <span class='symbol val'>:js</span><span class='rparen token'>)</span>

  <span class='comment val'># Alter IO for the duration of the block</span>
  <span class='io identifier id'>io</span> <span class='new_input identifier id'>new_input</span><span class='comma token'>,</span> <span class='new_output identifier id'>new_output</span> <span class='do do kw'>do</span>
    <span class='new_input_contents identifier id'>new_input_contents</span> <span class='assign token'>=</span> <span class='$stdin gvar id'>$stdin</span><span class='dot token'>.</span><span class='read identifier id'>read</span>
    <span class='puts identifier id'>puts</span> <span class='new_input_contents identifier id'>new_input_contents</span> <span class='comment val'># outputs to new_output stream</span>
  <span class='end end kw'>end</span>
  <span class='comment val'># $stdin / $stdout reset back to original streams</span>

  <span class='comment val'># Speech synthesis</span>
  <span class='speak identifier id'>speak</span> <span class='string val'>'What is your favorite food? '</span>
  <span class='food identifier id'>food</span> <span class='assign token'>=</span> <span class='ask identifier id'>ask</span> <span class='string val'>'favorite food?: '</span>
  <span class='speak identifier id'>speak</span> <span class='dstring node'>&quot;wow, I like #{food} too. We have so much alike.&quot;</span>

  <span class='comment val'># Execute arbitrary applescript</span>
  <span class='applescript identifier id'>applescript</span> <span class='string val'>'foo'</span>

  <span class='comment val'># Converse with speech recognition server</span>
  <span class='case case kw'>case</span> <span class='converse identifier id'>converse</span> <span class='string val'>'What is the best food?'</span><span class='comma token'>,</span> <span class='symbol val'>:cookies</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'Cookies'</span><span class='comma token'>,</span> <span class='symbol val'>:unknown</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'Nothing'</span>
  <span class='when when kw'>when</span> <span class='symbol val'>:cookies</span>
    <span class='speak identifier id'>speak</span> <span class='string val'>'o.m.g. you are awesome!'</span>
  <span class='else else kw'>else</span>
    <span class='case case kw'>case</span> <span class='converse identifier id'>converse</span> <span class='string val'>'That is lame, shall I convince you cookies are the best?'</span><span class='comma token'>,</span> <span class='symbol val'>:yes</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'Ok'</span><span class='comma token'>,</span> <span class='symbol val'>:no</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'No'</span><span class='comma token'>,</span> <span class='symbol val'>:maybe</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'Maybe another time'</span>
    <span class='when when kw'>when</span> <span class='symbol val'>:yes</span>
      <span class='speak identifier id'>speak</span> <span class='string val'>'Well you see, cookies are just fantastic, they melt in your mouth.'</span>
    <span class='else else kw'>else</span>
      <span class='speak identifier id'>speak</span> <span class='string val'>'Ok then, bye.'</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
<h2>Commander Goodies</h2>
<h3>Option Defaults</h3>
<p>
The options struct passed to #when_called provides a #default method,
allowing you to set defaults in a clean manor to options which have not
been set.
</p>
<pre class="code">
  <span class='command identifier id'>command</span> <span class='symbol val'>:foo</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='c identifier id'>c</span><span class='bitor op'>|</span>
    <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='option identifier id'>option</span> <span class='string val'>'--interval SECONDS'</span><span class='comma token'>,</span> <span class='Integer constant id'>Integer</span><span class='comma token'>,</span> <span class='string val'>'Interval in seconds'</span>
    <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='option identifier id'>option</span> <span class='string val'>'--timeout SECONDS'</span><span class='comma token'>,</span> <span class='Integer constant id'>Integer</span><span class='comma token'>,</span> <span class='string val'>'Timeout in seconds'</span>
    <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='when_called identifier id'>when_called</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='bitor op'>|</span>
      <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='default identifier id'>default</span> \
        <span class='symbol val'>:interval</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>2</span><span class='comma token'>,</span>
        <span class='symbol val'>:timeout</span>  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>60</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
<h3>Command Aliasing</h3>
<p>
Aliases can be created using the #alias_command method like below:
</p>
<pre class="code">
  <span class='command identifier id'>command</span> <span class='symbol val'>:'install gem'</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='c identifier id'>c</span><span class='bitor op'>|</span>
    <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='when_called identifier id'>when_called</span> <span class='lbrace token'>{</span> <span class='puts identifier id'>puts</span> <span class='string val'>'foo'</span> <span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
  <span class='alias_command identifier id'>alias_command</span> <span class='symbol val'>:'gem install'</span><span class='comma token'>,</span> <span class='symbol val'>:'install gem'</span>
</pre>
<p>
Or more complicated aliases can be made, passing any arguments as if it was
invoked via the command line:
</p>
<pre class="code">
  <span class='command identifier id'>command</span> <span class='symbol val'>:'install gem'</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='c identifier id'>c</span><span class='bitor op'>|</span>
    <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='syntax identifier id'>syntax</span> <span class='assign token'>=</span> <span class='string val'>'install gem &lt;name&gt; [options]'</span>
    <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='option identifier id'>option</span> <span class='string val'>'--dest DIR'</span><span class='comma token'>,</span> <span class='String constant id'>String</span><span class='comma token'>,</span> <span class='string val'>'Destination directory'</span>
    <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='when_called identifier id'>when_called</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='bitor op'>|</span> <span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;installing #{args.first} to #{options.dest}&quot;</span> <span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
  <span class='alias_command identifier id'>alias_command</span> <span class='symbol val'>:update</span><span class='comma token'>,</span> <span class='symbol val'>:'install gem'</span><span class='comma token'>,</span> <span class='string val'>'rubygems'</span><span class='comma token'>,</span> <span class='string val'>'--dest'</span><span class='comma token'>,</span> <span class='string val'>'some_path'</span>

  $ <span class='foo identifier id'>foo</span> <span class='update identifier id'>update</span>
  <span class='comment val'># =&gt; installing rubygems to some_path</span>
</pre>
<h3>Command Defaults</h3>
<p>
Although working with a command executable framework provides many benefits
over a single command implementation, sometimes you still want the ability
to create a terse syntax for your command. With that in mind we may use
#default_command to help with this. Considering our previous
:&#8217;install gem&#8217; example:
</p>
<pre class="code">
  <span class='default_command identifier id'>default_command</span> <span class='symbol val'>:update</span>

  $ <span class='foo identifier id'>foo</span>
  <span class='comment val'># =&gt; installing rubygems to some_path</span>
</pre>
<p>
Keeping in mind that commander searches for the longest possible match when
considering a command, so if you were to pass arguments to foo like below,
expecting them to be passed to :update, this would be incorrect, and would
end up calling :&#8217;install gem&#8217;, so be careful that the users do
not need to use command names within the arguments.
</p>
<pre class="code">
  $ <span class='foo identifier id'>foo</span> <span class='install identifier id'>install</span> <span class='gem identifier id'>gem</span>
  <span class='comment val'># =&gt; installing  to</span>
</pre>
<h3>Additional Global Help</h3>
<p>
Arbitrary help can be added using the following #program symbol:
</p>
<pre class="code">
  <span class='program identifier id'>program</span> <span class='symbol val'>:help</span><span class='comma token'>,</span> <span class='string val'>'Author'</span><span class='comma token'>,</span> <span class='string val'>'TJ Holowaychuk &lt;tj@vision-media.ca&gt;'</span>
</pre>
<p>
Which will output the rest of the help doc, along with:
</p>
<pre class="code">
  <span class='AUTHOR constant id'>AUTHOR</span><span class='colon op'>:</span>

    <span class='TJ constant id'>TJ</span> <span class='Holowaychuk constant id'>Holowaychuk</span> <span class='lt op'>&lt;</span><span class='tj identifier id'>tj</span><span class='@vision ivar id'>@vision</span><span class='minus op'>-</span><span class='media identifier id'>media</span><span class='dot token'>.</span><span class='ca identifier id'>ca</span><span class='gt op'>&gt;</span>
</pre>
<h3>Global Options</h3>
<p>
Although most switches will be at the command level, several are available
by default at the global level, such as --version, and --help.
Using #global_option you can add additional global options:
</p>
<pre class="code">
  <span class='global_option identifier id'>global_option</span><span class='lparen token'>(</span><span class='string val'>'-c'</span><span class='comma token'>,</span> <span class='string val'>'--config FILE'</span><span class='comma token'>,</span> <span class='string val'>'Load config data for your commands to use'</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='file identifier id'>file</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
</pre>
<p>
This method accepts the same syntax as Commander::Command#option so check
it out for documentation.
</p>
<p>
All global options regardless of providing a block are accessable at the
command level. This means that instead of the following:
</p>
<pre class="code">
  <span class='global_option identifier id'>global_option</span><span class='lparen token'>(</span><span class='string val'>'--verbose'</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='$verbose gvar id'>$verbose</span> <span class='assign token'>=</span> <span class='true true kw'>true</span> <span class='rbrace token'>}</span>
  <span class='dot3 op'>...</span>
  <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='when_called identifier id'>when_called</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='bitor op'>|</span>
    <span class='say identifier id'>say</span> <span class='string val'>'foo'</span> <span class='if if_mod kw'>if</span> <span class='$verbose gvar id'>$verbose</span>
  <span class='dot3 op'>...</span>
</pre>
<p>
You may:
</p>
<pre class="code">
  <span class='global_option identifier id'>global_option</span> <span class='string val'>'--verbose'</span>
  <span class='dot3 op'>...</span>
  <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='when_called identifier id'>when_called</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='bitor op'>|</span>
    <span class='say identifier id'>say</span> <span class='string val'>'foo'</span> <span class='if if_mod kw'>if</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='verbose identifier id'>verbose</span>
  <span class='dot3 op'>...</span>
</pre>
<h3>Formatters</h3>
<p>
Two core formatters are currently available, the default Terminal formatter
as well as TerminalCompact. To utilize a different formatter simply use
:help_formatter like below:
</p>
<pre class="code">
  <span class='program identifier id'>program</span> <span class='symbol val'>:help_formatter</span><span class='comma token'>,</span> <span class='Commander constant id'>Commander</span><span class='colon2 op'>::</span><span class='HelpFormatter constant id'>HelpFormatter</span><span class='colon2 op'>::</span><span class='TerminalCompact constant id'>TerminalCompact</span>
</pre>
<p>
Or utilize the help formatter aliases:
</p>
<pre class="code">
  <span class='program identifier id'>program</span> <span class='symbol val'>:help_formatter</span><span class='comma token'>,</span> <span class='symbol val'>:compact</span>
</pre>
<p>
This abstraction could be utilized to generate HTML documentation for your
executable.
</p>
<h2>Tips</h2>
<p>
When adding a global or command option, OptionParser implicitly adds a
small switch even when not explicitly created, for example -c will be the
same as --config in both examples, however &#8217;-c&#8217; will only
appear in the documentation when explicitly assigning it.
</p>
<pre class="code">
  <span class='global_option identifier id'>global_option</span> <span class='string val'>'-c'</span><span class='comma token'>,</span> <span class='string val'>'--config FILE'</span>
  <span class='global_option identifier id'>global_option</span> <span class='string val'>'--config FILE'</span>
</pre>
<h2>ASCII Tables</h2>
<p>
For feature rich ASCII tables for your terminal app check out
visionmedia&#8217;s terminal-table gem at
http://github.com/visionmedia/terminal-table
</p>
<pre class="code">
   <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;-------&lt;tt&gt;----&lt;/</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;
   | Terminal | Table | Is | Wicked | Awesome               |
   &lt;tt&gt;----------&lt;/</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;--------&lt;tt&gt;-----------------------&lt;/</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span>
   <span class='bitor op'>|</span>          <span class='bitor op'>|</span>       <span class='bitor op'>|</span>    <span class='bitor op'>|</span>        <span class='bitor op'>|</span> <span class='get identifier id'>get</span> <span class='it identifier id'>it</span> <span class='while while_mod kw'>while</span> <span class='its identifier id'>its</span> <span class='hot! fid id'>hot!</span> <span class='bitor op'>|</span>
   <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;-------&lt;tt&gt;----&lt;/</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;
</span></pre>
<h2>Growl Notifications</h2>
<p>
To utilize the #notify and #notify_STATUS methods you need to install
http://github.com/visionmedia/growl which utilizes the
&#8216;growlnotify&#8217; executable. Note that growl is auto-imported by
Commander when available, no need to require.
</p>
<h2>Contrib</h2>
<p>
Feel free to fork and request a pull, or submit a ticket
http://visionmedia.lighthouseapp.com/projects/27643-commander
</p>
<h2>Known Issues</h2>
<ul>
<li>ask_editor has been tested with TextMate only

</li>
</ul>
<h2>License</h2>
<p>
(The MIT License)
</p>
<p>
Copyright &#169; 2008-2009 TJ Holowaychuk &lt;tj@vision-media.ca&gt;
</p>
<p>
Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the
&#8216;Software&#8217;), to deal in the Software without restriction,
including without limitation the rights to use, copy, modify, merge,
publish, distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to the
following conditions:
</p>
<p>
The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.
</p>
<p>
THE SOFTWARE IS PROVIDED &#8216;AS IS&#8217;, WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
USE OR OTHER DEALINGS IN THE SOFTWARE.
</p>

</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>