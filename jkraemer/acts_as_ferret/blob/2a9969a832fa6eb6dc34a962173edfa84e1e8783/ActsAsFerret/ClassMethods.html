<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>jkraemer's acts_as_ferret - Module: ActsAsFerret::ClassMethods - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/jkraemer/commits/acts_as_ferret/master" rel="alternate" title="Recent Commits to acts_as_ferret:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("jkraemer", "acts_as_ferret", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='jkraemer/acts_as_ferret/blob/2a9969a832fa6eb6dc34a962173edfa84e1e8783' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='jkraemer/acts_as_ferret/blob/2a9969a832fa6eb6dc34a962173edfa84e1e8783' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("jkraemer", "acts_as_ferret", "2a9969a832fa6eb6dc34a962173edfa84e1e8783", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/jkraemer/acts_as_ferret/tree/">Source</a></li>
            <li class=""><a href="http://github.com/jkraemer/acts_as_ferret/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/jkraemer/acts_as_ferret/network">Network</a></li>            
            <li class=""><a href="http://github.com/jkraemer/acts_as_ferret/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/jkraemer/acts_as_ferret">Wiki</a></li>
            <li class=""><a href="http://github.com/jkraemer/acts_as_ferret/graphs">Graphs</a></li>                    
            <li class="active"><a href="/jkraemer/acts_as_ferret">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/jkraemer">jkraemer</a> / <b><a href="http://github.com/jkraemer/acts_as_ferret/tree">acts_as_ferret</a></b>        
                <a id="namespaces_button" rel="jkraemer/acts_as_ferret/blob/2a9969a832fa6eb6dc34a962173edfa84e1e8783" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="jkraemer/acts_as_ferret/blob/2a9969a832fa6eb6dc34a962173edfa84e1e8783" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section module ActsAsFerret_ClassMethods">
  <h1>Module: ActsAsFerret::ClassMethods</h1>
  <div class="section constants">
  
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#aaf_index-instance_method">#aaf_index</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Retrieve the index instance for this model class.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#bulk_index-instance_method">#bulk_index</span><span class='args'>(*ids)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
re-index a number records specified by the given ids.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#disable_ferret-instance_method">#disable_ferret</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Disables ferret index updates for this model.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#enable_ferret-instance_method">#enable_ferret</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#ferret_enabled-3F-instance_method">#ferret_enabled?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#find_ids_with_ferret-instance_method">#find_ids_with_ferret</span><span class='args'>(q, options = {}, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Finds instance model name, ids and scores by contents.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#find_with_ferret-instance_method">#find_with_ferret</span><span class='args'>(q, options = {}, find_options = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Finds instances by searching the Ferret index.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#rebuild_index-instance_method">#rebuild_index</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
rebuild the index from all data stored for this model, and any other model
classes associated with the same index.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#records_for_bulk_index-instance_method">#records_for_bulk_index</span><span class='args'>(ids, batch_size = 1000)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
yields the records with the given ids, in batches of batch_size.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#records_for_rebuild-instance_method">#records_for_rebuild</span><span class='args'>(batch_size = 1000)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
runs across all records yielding those to be indexed when the index is
rebuilt.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#records_modified_since-instance_method">#records_modified_since</span><span class='args'>(time)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns all records modified or created after the specified time.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#total_hits-instance_method">#total_hits</span><span class='args'>(q, options = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the total number of hits for the given query .
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#use_fast_batches-3F-instance_method">#use_fast_batches?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
true if our db and table appear to be suitable for the mysql fast batch
hack (see http://weblog.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>aaf_index</h3>
</div><div id="aaf_index-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>aaf_index</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Retrieve the index instance for this model class. This can either be a
LocalIndex, or a RemoteIndex instance.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/class_methods.rb', line 106</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jkraemer/acts_as_ferret/blob/2a9969a832fa6eb6dc34a962173edfa84e1e8783/lib/class_methods.rb#L106">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">106
107
108</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='aaf_index identifier id'>aaf_index</span>
  <span class='@index ivar id'>@index</span> <span class='opasgn op'>||=</span> <span class='ActsAsFerret constant id'>ActsAsFerret</span><span class='colon2 op'>::</span><span class='get_index identifier id'>get_index</span><span class='lparen token'>(</span><span class='aaf_configuration identifier id'>aaf_configuration</span><span class='lbrack token'>[</span><span class='symbol val'>:name</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span> 
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>bulk_index</h3>
</div><div id="bulk_index-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>bulk_index</span><span class='args'>(*ids)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
re-index a number records specified by the given ids. Use for large
indexing jobs i.e. after modifying a lot of records with Ferret disabled.
Please note that the state of Ferret (enabled or disabled at class or
record level) is not checked by this method, so if you need to do so (e.g.
because of a custom ferret_enabled? implementation), you have to do so
yourself.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/class_methods.rb', line 37</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jkraemer/acts_as_ferret/blob/2a9969a832fa6eb6dc34a962173edfa84e1e8783/lib/class_methods.rb#L37">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">37
38
39
40
41</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='bulk_index identifier id'>bulk_index</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='ids identifier id'>ids</span><span class='rparen token'>)</span>
  <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span> <span class='eqq op'>===</span> <span class='ids identifier id'>ids</span><span class='dot token'>.</span><span class='last identifier id'>last</span> <span class='integer val'>? </span><span class='ids identifier id'>ids</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span> <span class='colon op'>:</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='ids identifier id'>ids</span> <span class='assign token'>=</span> <span class='ids identifier id'>ids</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='if if_mod kw'>if</span> <span class='ids identifier id'>ids</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='eq op'>==</span> <span class='integer val'>1</span> <span class='andop op'>&amp;&amp;</span> <span class='ids identifier id'>ids</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Enumerable constant id'>Enumerable</span><span class='rparen token'>)</span>
  <span class='aaf_index identifier id'>aaf_index</span><span class='dot token'>.</span><span class='bulk_index identifier id'>bulk_index</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='ids identifier id'>ids</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>disable_ferret</h3>
</div><div id="disable_ferret-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>disable_ferret</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Disables ferret index updates for this model. When a block is given, Ferret
will be re-enabled again after executing the block.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/class_methods.rb', line 7</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jkraemer/acts_as_ferret/blob/2a9969a832fa6eb6dc34a962173edfa84e1e8783/lib/class_methods.rb#L7">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">7
8
9
10
11
12
13</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='disable_ferret identifier id'>disable_ferret</span>
  <span class='aaf_configuration identifier id'>aaf_configuration</span><span class='lbrack token'>[</span><span class='symbol val'>:enabled</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='yield yield kw'>yield</span>
    <span class='enable_ferret identifier id'>enable_ferret</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>enable_ferret</h3>
</div><div id="enable_ferret-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>enable_ferret</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/class_methods.rb', line 15</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jkraemer/acts_as_ferret/blob/2a9969a832fa6eb6dc34a962173edfa84e1e8783/lib/class_methods.rb#L15">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">15
16
17</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='enable_ferret identifier id'>enable_ferret</span>
  <span class='aaf_configuration identifier id'>aaf_configuration</span><span class='lbrack token'>[</span><span class='symbol val'>:enabled</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>ferret_enabled?</h3>
</div><div id="ferret_enabled-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>ferret_enabled?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/class_methods.rb', line 19</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jkraemer/acts_as_ferret/blob/2a9969a832fa6eb6dc34a962173edfa84e1e8783/lib/class_methods.rb#L19">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">19
20
21</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='ferret_enabled? fid id'>ferret_enabled?</span>
  <span class='aaf_configuration identifier id'>aaf_configuration</span><span class='lbrack token'>[</span><span class='symbol val'>:enabled</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>find_ids_with_ferret</h3>
</div><div id="find_ids_with_ferret-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>find_ids_with_ferret</span><span class='args'>(q, options = {}, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Finds instance model name, ids and scores by contents. Useful e.g. if you
want to search across models or do not want to fetch all result records
(yet).
</p>
<p>
Options are the same as for find_with_ferret
</p>
<p>
A block can be given too, it will be executed with every result:
find_ids_with_ferret(q, options) do |model, id, score|
</p>
<pre class="code">
   <span class='id_array identifier id'>id_array</span> <span class='lshft op'>&lt;&lt;</span> <span class='id identifier id'>id</span>
   <span class='scores_by_id identifier id'>scores_by_id</span><span class='lbrack token'>[</span><span class='id identifier id'>id</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='score identifier id'>score</span>
</pre>
<p>
end NOTE: in case a block is given, only the total_hits value will be
returned instead of the [total_hits, results] array!
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/class_methods.rb', line 182</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jkraemer/acts_as_ferret/blob/2a9969a832fa6eb6dc34a962173edfa84e1e8783/lib/class_methods.rb#L182">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">182
183
184</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='find_ids_with_ferret identifier id'>find_ids_with_ferret</span><span class='lparen token'>(</span><span class='q identifier id'>q</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='aaf_index identifier id'>aaf_index</span><span class='dot token'>.</span><span class='find_ids identifier id'>find_ids</span><span class='lparen token'>(</span><span class='q identifier id'>q</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>find_with_ferret</h3>
</div><div id="find_with_ferret-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>find_with_ferret</span><span class='args'>(q, options = {}, find_options = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Finds instances by searching the Ferret index. Terms are ANDed by default,
use OR between terms for ORed queries. Or specify <tt>:or_default =&gt; true</tt>
in the <tt>:ferret</tt> options hash of acts_as_ferret.
</p>
<p>
You may either use the <tt>offset</tt> and <tt>limit</tt> options to
implement your own pagination logic, or use the <tt>page</tt> and
<tt>per_page</tt> options to use the built in pagination support which is
compatible with will_paginate&#8217;s view helpers. If <tt>page</tt> and
<tt>per_page</tt> are given, <tt>offset</tt> and <tt>limit</tt> will be
ignored.
</p>
<h2>options:</h2>
<table>
<tr><td valign="top">page:</td><td>page of search results to retrieve

</td></tr>
<tr><td valign="top">per_page:</td><td>number of search results that are displayed per page

</td></tr>
<tr><td valign="top">offset:</td><td>first hit to retrieve (useful for paging)

</td></tr>
<tr><td valign="top">limit:</td><td>number of hits to retrieve, or :all to retrieve all results

</td></tr>
<tr><td valign="top">lazy:</td><td>Array of field names whose contents should be read directly from the index.
Those fields have to be marked <tt>:store =&gt; :yes</tt> in their field options.
Give true to get all stored fields. Note that if you have a shared index,
you have to explicitly state the fields you want to fetch, true won&#8217;t
work here)

</td></tr>
</table>
<p>
<tt>find_options</tt> is a hash passed on to active_record&#8217;s find
when retrieving the data from db, useful to i.e. prefetch relationships
with :include or to specify additional filter criteria with :conditions.
</p>
<p>
This method returns a <tt>SearchResults</tt> instance, which really is an
Array that has been decorated with a total_hits attribute holding the total
number of hits. Additionally, SearchResults is compatible with the
pagination helper methods of the will_paginate plugin.
</p>
<p>
Please keep in mind that the number of results delivered might be less than
<tt>limit</tt> if you specify any active record conditions that further
limit the result. Use <tt>limit</tt> and <tt>offset</tt> as AR find_options
instead. <tt>page</tt> and <tt>per_page</tt> are supposed to work
regardless of any <tt>conitions</tt> present in <tt>find_options</tt>.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/class_methods.rb', line 147</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jkraemer/acts_as_ferret/blob/2a9969a832fa6eb6dc34a962173edfa84e1e8783/lib/class_methods.rb#L147">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">147
148
149
150
151
152
153
154
155
156</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='find_with_ferret identifier id'>find_with_ferret</span><span class='lparen token'>(</span><span class='q identifier id'>q</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='find_options identifier id'>find_options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:scope</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='scope identifier id'>scope</span><span class='lparen token'>(</span><span class='symbol val'>:find</span><span class='comma token'>,</span> <span class='symbol val'>:conditions</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='find_options identifier id'>find_options</span><span class='lbrack token'>[</span><span class='symbol val'>:conditions</span><span class='rbrack token'>]</span>
      <span class='find_options identifier id'>find_options</span><span class='lbrack token'>[</span><span class='symbol val'>:conditions</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;(#{find_options[:conditions]}) AND (#{scope(:find, :conditions)})&quot;</span>
    <span class='else else kw'>else</span>
      <span class='find_options identifier id'>find_options</span><span class='lbrack token'>[</span><span class='symbol val'>:conditions</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='scope identifier id'>scope</span><span class='lparen token'>(</span><span class='symbol val'>:find</span><span class='comma token'>,</span> <span class='symbol val'>:conditions</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='return return kw'>return</span> <span class='ActsAsFerret constant id'>ActsAsFerret</span><span class='colon2 op'>::</span><span class='find identifier id'>find</span> <span class='q identifier id'>q</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='find_options identifier id'>find_options</span>
<span class='end end kw'>end</span> 
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>rebuild_index</h3>
</div><div id="rebuild_index-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>rebuild_index</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
rebuild the index from all data stored for this model, and any other model
classes associated with the same index. This is called automatically when
no index exists yet.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/class_methods.rb', line 27</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jkraemer/acts_as_ferret/blob/2a9969a832fa6eb6dc34a962173edfa84e1e8783/lib/class_methods.rb#L27">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">27
28
29</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='rebuild_index identifier id'>rebuild_index</span>
  <span class='aaf_index identifier id'>aaf_index</span><span class='dot token'>.</span><span class='rebuild_index identifier id'>rebuild_index</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>records_for_bulk_index</h3>
</div><div id="records_for_bulk_index-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>records_for_bulk_index</span><span class='args'>(ids, batch_size = 1000)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
yields the records with the given ids, in batches of batch_size
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/class_methods.rb', line 91</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jkraemer/acts_as_ferret/blob/2a9969a832fa6eb6dc34a962173edfa84e1e8783/lib/class_methods.rb#L91">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">91
92
93
94
95
96
97
98
99
100
101</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='records_for_bulk_index identifier id'>records_for_bulk_index</span><span class='lparen token'>(</span><span class='ids identifier id'>ids</span><span class='comma token'>,</span> <span class='batch_size identifier id'>batch_size</span> <span class='assign token'>=</span> <span class='integer val'>1000</span><span class='rparen token'>)</span>
  <span class='transaction identifier id'>transaction</span> <span class='do do kw'>do</span>
    <span class='offset identifier id'>offset</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
    <span class='ids identifier id'>ids</span><span class='dot token'>.</span><span class='each_slice identifier id'>each_slice</span><span class='lparen token'>(</span><span class='batch_size identifier id'>batch_size</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='id_slice identifier id'>id_slice</span><span class='bitor op'>|</span>
      <span class='records identifier id'>records</span> <span class='assign token'>=</span> <span class='find identifier id'>find</span><span class='lparen token'>(</span> <span class='symbol val'>:all</span><span class='comma token'>,</span> <span class='symbol val'>:conditions</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='string val'>&quot;id in (?)&quot;</span><span class='comma token'>,</span> <span class='id_slice identifier id'>id_slice</span><span class='rbrack token'>]</span> <span class='rparen token'>)</span>
      <span class='comment val'>#yield records, offset</span>
      <span class='yield yield kw'>yield</span> <span class='find identifier id'>find</span><span class='lparen token'>(</span> <span class='symbol val'>:all</span><span class='comma token'>,</span> <span class='symbol val'>:conditions</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='string val'>&quot;id in (?)&quot;</span><span class='comma token'>,</span> <span class='id_slice identifier id'>id_slice</span><span class='rbrack token'>]</span> <span class='rparen token'>)</span><span class='comma token'>,</span> <span class='offset identifier id'>offset</span>
      <span class='offset identifier id'>offset</span> <span class='opasgn op'>+=</span> <span class='batch_size identifier id'>batch_size</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>records_for_rebuild</h3>
</div><div id="records_for_rebuild-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>records_for_rebuild</span><span class='args'>(batch_size = 1000)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
runs across all records yielding those to be indexed when the index is
rebuilt
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/class_methods.rb', line 73</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jkraemer/acts_as_ferret/blob/2a9969a832fa6eb6dc34a962173edfa84e1e8783/lib/class_methods.rb#L73">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='records_for_rebuild identifier id'>records_for_rebuild</span><span class='lparen token'>(</span><span class='batch_size identifier id'>batch_size</span> <span class='assign token'>=</span> <span class='integer val'>1000</span><span class='rparen token'>)</span>
  <span class='transaction identifier id'>transaction</span> <span class='do do kw'>do</span>
    <span class='if if kw'>if</span> <span class='use_fast_batches? fid id'>use_fast_batches?</span>
      <span class='offset identifier id'>offset</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
      <span class='while while kw'>while</span> <span class='lparen token'>(</span><span class='rows identifier id'>rows</span> <span class='assign token'>=</span> <span class='find identifier id'>find</span> <span class='colon op'>:</span><span class='all identifier id'>all</span><span class='comma token'>,</span> <span class='symbol val'>:conditions</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span> <span class='dstring node'>&quot;#{table_name}.id &gt; ?&quot;</span><span class='comma token'>,</span> <span class='offset identifier id'>offset</span> <span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:limit</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='batch_size identifier id'>batch_size</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='any? fid id'>any?</span>
        <span class='offset identifier id'>offset</span> <span class='assign token'>=</span> <span class='rows identifier id'>rows</span><span class='dot token'>.</span><span class='last identifier id'>last</span><span class='dot token'>.</span><span class='id identifier id'>id</span>
        <span class='yield yield kw'>yield</span> <span class='rows identifier id'>rows</span><span class='comma token'>,</span> <span class='offset identifier id'>offset</span>
      <span class='end end kw'>end</span>
    <span class='else else kw'>else</span>
      <span class='order identifier id'>order</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{primary_key} ASC&quot;</span> <span class='comment val'># fixes #212</span>
      <span class='integer val'>0</span><span class='dot token'>.</span><span class='step identifier id'>step</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='count identifier id'>count</span><span class='comma token'>,</span> <span class='batch_size identifier id'>batch_size</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='offset identifier id'>offset</span><span class='bitor op'>|</span>
        <span class='yield yield kw'>yield</span> <span class='find identifier id'>find</span><span class='lparen token'>(</span> <span class='symbol val'>:all</span><span class='comma token'>,</span> <span class='symbol val'>:limit</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='batch_size identifier id'>batch_size</span><span class='comma token'>,</span> <span class='symbol val'>:offset</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='offset identifier id'>offset</span><span class='comma token'>,</span> <span class='symbol val'>:order</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='order identifier id'>order</span> <span class='rparen token'>)</span><span class='comma token'>,</span> <span class='offset identifier id'>offset</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>records_modified_since</h3>
</div><div id="records_modified_since-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>records_modified_since</span><span class='args'>(time)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns all records modified or created after the specified time. Used by
the rake rebuild task to find models that need to be updated in the index
after the rebuild finished because they changed while the rebuild was
running. Override if your models don&#8217;t stick to the
created_at/updated_at convention.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/class_methods.rb', line 59</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jkraemer/acts_as_ferret/blob/2a9969a832fa6eb6dc34a962173edfa84e1e8783/lib/class_methods.rb#L59">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">59
60
61
62
63
64
65
66
67
68
69
70</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='records_modified_since identifier id'>records_modified_since</span><span class='lparen token'>(</span><span class='time identifier id'>time</span><span class='rparen token'>)</span>
  <span class='condition identifier id'>condition</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='dstring node'>%w(updated_at created_at)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='col identifier id'>col</span><span class='bitor op'>|</span>
    <span class='condition identifier id'>condition</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;#{col} &gt;= ?&quot;</span> <span class='if if_mod kw'>if</span> <span class='column_names identifier id'>column_names</span><span class='dot token'>.</span><span class='include? fid id'>include?</span> <span class='col identifier id'>col</span>
  <span class='end end kw'>end</span>
  <span class='if if kw'>if</span> <span class='condition identifier id'>condition</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
    <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='warn identifier id'>warn</span> <span class='dstring node'>&quot;#{self.name}: Override records_modified_since(time) to keep the index up to date with records changed during rebuild.&quot;</span>
    <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='else else kw'>else</span>
    <span class='find identifier id'>find</span> <span class='symbol val'>:all</span><span class='comma token'>,</span> <span class='symbol val'>:conditions</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span> <span class='condition identifier id'>condition</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>' AND '</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='time identifier id'>time</span><span class='rbrack token'>]</span><span class='mult op'>*</span><span class='condition identifier id'>condition</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='rparen token'>)</span> <span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>total_hits</h3>
</div><div id="total_hits-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>total_hits</span><span class='args'>(q, options = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the total number of hits for the given query
</p>
<p>
Note that since we don&#8217;t query the database here, this method
won&#8217;t deliver the expected results when used on an AR association.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/class_methods.rb', line 164</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jkraemer/acts_as_ferret/blob/2a9969a832fa6eb6dc34a962173edfa84e1e8783/lib/class_methods.rb#L164">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">164
165
166</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='total_hits identifier id'>total_hits</span><span class='lparen token'>(</span><span class='q identifier id'>q</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='aaf_index identifier id'>aaf_index</span><span class='dot token'>.</span><span class='total_hits identifier id'>total_hits</span><span class='lparen token'>(</span><span class='q identifier id'>q</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>use_fast_batches?</h3>
</div><div id="use_fast_batches-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>use_fast_batches?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
true if our db and table appear to be suitable for the mysql fast batch
hack (see
http://weblog.jamisbuck.org/2007/4/6/faking-cursors-in-activerecord)
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/class_methods.rb', line 46</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jkraemer/acts_as_ferret/blob/2a9969a832fa6eb6dc34a962173edfa84e1e8783/lib/class_methods.rb#L46">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">46
47
48
49
50
51</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='use_fast_batches? fid id'>use_fast_batches?</span>
  <span class='if if kw'>if</span> <span class='connection identifier id'>connection</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='name identifier id'>name</span> <span class='match op'>=~</span> <span class='regexp val'>/Mysql/</span> <span class='andop op'>&amp;&amp;</span> <span class='primary_key identifier id'>primary_key</span> <span class='eq op'>==</span> <span class='string val'>'id'</span> <span class='andop op'>&amp;&amp;</span> <span class='aaf_configuration identifier id'>aaf_configuration</span><span class='lbrack token'>[</span><span class='symbol val'>:mysql_fast_batches</span><span class='rbrack token'>]</span>
    <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='info identifier id'>info</span> <span class='string val'>&quot;using mysql specific batched find :all. Turn off with  :mysql_fast_batches =&gt; false if you encounter problems (i.e. because of non-integer UUIDs in the id column)&quot;</span>
    <span class='true true kw'>true</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>