<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>badboy's jabbot - Class: Jabbot::Bot - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/badboy/commits/jabbot/master" rel="alternate" title="Recent Commits to jabbot:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("badboy", "jabbot", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='badboy/jabbot/blob/a5198975a0c3c0a3431b6c4efcbf5700d4482bfc' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='badboy/jabbot/blob/a5198975a0c3c0a3431b6c4efcbf5700d4482bfc' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("badboy", "jabbot", "a5198975a0c3c0a3431b6c4efcbf5700d4482bfc", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/badboy/jabbot/tree/">Source</a></li>
            <li class=""><a href="http://github.com/badboy/jabbot/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/badboy/jabbot/network">Network</a></li>            
            <li class=""><a href="http://github.com/badboy/jabbot/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/badboy/jabbot">Wiki</a></li>
            <li class=""><a href="http://github.com/badboy/jabbot/graphs">Graphs</a></li>                    
            <li class="active"><a href="/badboy/jabbot">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/badboy">badboy</a> / <b><a href="http://github.com/badboy/jabbot/tree">jabbot</a></b>        
                <a id="namespaces_button" rel="badboy/jabbot/blob/a5198975a0c3c0a3431b6c4efcbf5700d4482bfc" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="badboy/jabbot/blob/a5198975a0c3c0a3431b6c4efcbf5700d4482bfc" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Jabbot_Bot">
  <h1>Class: Jabbot::Bot</h1>
  <div class="section mixins">
  <h2>Included Modules</h2>
  <p><a title="Jabbot::Handlers" href="Handlers.html">Jabbot::Handlers</a></p>
</div><div class="section docstring">
  <p>
Main bot &quot;controller&quot; class
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">client</td>
          <td class="readwrite">
            [<span id='client-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>client</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">user</td>
          <td class="readwrite">
            [<span id='user-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>user</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="Message-constant">Message</dt>
      <dd>Struct.new(:user, :text, :time) do
  def to_s
    &quot;#{user}: #{text}&quot;
  end
end</dd>
    
  </dl>
</div>

</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(options = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
  </dl>
</div><div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>SystemExit</tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/jabbot/bot.rb', line 20</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/badboy/jabbot/blob/a5198975a0c3c0a3431b6c4efcbf5700d4482bfc/lib/jabbot/bot.rb#L20">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">20
21
22
23
24
25
26
27
28
29</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='@conf ivar id'>@conf</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@config ivar id'>@config</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span> <span class='orop op'>||</span> <span class='Jabbot constant id'>Jabbot</span><span class='colon2 op'>::</span><span class='Config constant id'>Config</span><span class='dot token'>.</span><span class='default identifier id'>default</span> <span class='lshft op'>&lt;&lt;</span> <span class='Jabbot constant id'>Jabbot</span><span class='colon2 op'>::</span><span class='FileConfig constant id'>FileConfig</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='@log ivar id'>@log</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@abort ivar id'>@abort</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
  <span class='@user ivar id'>@user</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>

<span class='rescue rescue kw'>rescue</span> <span class='Exception constant id'>Exception</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='krash identifier id'>krash</span>
  <span class='raise identifier id'>raise</span> <span class='SystemExit constant id'>SystemExit</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='krash identifier id'>krash</span><span class='dot token'>.</span><span class='message identifier id'>message</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div><div class="section methodmissing">
  <h2>Dynamic Method Handling</h2>

  <p class="note">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
  </p>

  <div id="method_missing-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>private</span>
    <span class='return_types'></span>
    <span class='name'>method_missing</span><span class='args'>(name, *args, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Map configuration settings
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/jabbot/bot.rb', line 220</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/badboy/jabbot/blob/a5198975a0c3c0a3431b6c4efcbf5700d4482bfc/lib/jabbot/bot.rb#L220">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">220
221
222
223
224
225</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='method_missing identifier id'>method_missing</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='super super kw'>super</span> <span class='unless unless_mod kw'>unless</span> <span class='config identifier id'>config</span><span class='dot token'>.</span><span class='key? fid id'>key?</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>

  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='symbol val'>:define_method</span><span class='comma token'>,</span> <span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
  <span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#close-instance_method">#close</span><span class='args'></span>
        <span class='block'></span>
        
          <span class='alias'>#quit</span>
        
      </th>
      <td class="docstring">
        <p>
close connection.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#configure-instance_method">#configure</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Configure bot.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#connect-instance_method">#connect</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
connect to Jabber and join channel.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#connected-3F-instance_method">#connected?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
still connected?.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#dispatch_messages-instance_method">#dispatch_messages</span><span class='args'>(type, messages)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Dispatch a collection of messages.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#log-instance_method">#log</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Return logger instance.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#muc_handlers-instance_method">#muc_handlers</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
defines what to do on different actions.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#poll-instance_method">#poll</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
just a lame infinite loop to keep the bot alive while he is connected :).
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#run-21-instance_method">#run!</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Run application.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#send_message-instance_method">#send_message</span><span class='args'>(msg, to = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
send message alternative: send query to user.
</p>

        
      </td>
    </tr>
  
</table><div class="included">
  
  <div>
    <h2>Public Instance Methods Included from <a title="Jabbot::Handlers" href="Handlers.html">Jabbot::Handlers</a></h2>
    <p><span class='name'><a title="add_handler" href="Handlers.html#add_handler-instance_method">add_handler</a></span>, <span class='name'><a title="dispatch" href="Handlers.html#dispatch-instance_method">dispatch</a></span>, <span class='name'><a title="handlers" href="Handlers.html#handlers-instance_method">handlers</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>close</h3>
</div><div id="close-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>close</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="quit-instance_method">quit</tt>
  
</p>
</div><div class="section docstring">
  <p>
close connection
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/jabbot/bot.rb', line 102</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/badboy/jabbot/blob/a5198975a0c3c0a3431b6c4efcbf5700d4482bfc/lib/jabbot/bot.rb#L102">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">102
103
104
105
106
107</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='close identifier id'>close</span>
  <span class='if if kw'>if</span> <span class='connected? fid id'>connected?</span>
    <span class='@connected ivar id'>@connected</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
    <span class='client identifier id'>client</span><span class='dot token'>.</span><span class='close identifier id'>close</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>configure</h3>
</div><div id="configure-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>configure</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Configure bot
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
  </dl>
</div>
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/jabbot/bot.rb', line 211</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/badboy/jabbot/blob/a5198975a0c3c0a3431b6c4efcbf5700d4482bfc/lib/jabbot/bot.rb#L211">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">211
212
213
214</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='configure identifier id'>configure</span>
  <span class='yield yield kw'>yield</span> <span class='@config ivar id'>@config</span>
  <span class='@conf ivar id'>@conf</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>connect</h3>
</div><div id="connect-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>connect</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
connect to Jabber and join channel
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/jabbot/bot.rb', line 34</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/badboy/jabbot/blob/a5198975a0c3c0a3431b6c4efcbf5700d4482bfc/lib/jabbot/bot.rb#L34">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='connect identifier id'>connect</span>
  <span class='@jid ivar id'>@jid</span> <span class='assign token'>=</span> <span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='login identifier id'>login</span><span class='rparen token'>)</span>
  <span class='@mucjid ivar id'>@mucjid</span> <span class='assign token'>=</span> <span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{channel}@#{server}&quot;</span><span class='rparen token'>)</span>

  <span class='if if kw'>if</span> <span class='@jid ivar id'>@jid</span><span class='dot token'>.</span><span class='node identifier id'>node</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
    <span class='raise identifier id'>raise</span> <span class='string val'>&quot;Your Jabber ID must contain a user name and therefore contain one @ character.&quot;</span>
  <span class='elsif elsif kw'>elsif</span> <span class='@jid ivar id'>@jid</span><span class='dot token'>.</span><span class='resource identifier id'>resource</span>
    <span class='raise identifier id'>raise</span> <span class='string val'>&quot;If you intend to set a custom resource, put that in the right text field. Remove the slash!&quot;</span>
  <span class='elsif elsif kw'>elsif</span> <span class='@mucjid ivar id'>@mucjid</span><span class='dot token'>.</span><span class='node identifier id'>node</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
    <span class='raise identifier id'>raise</span> <span class='string val'>&quot;Please set a room name, e.g. myroom@conference.jabber.org&quot;</span>
  <span class='elsif elsif kw'>elsif</span> <span class='@mucjid ivar id'>@mucjid</span><span class='dot token'>.</span><span class='resource identifier id'>resource</span>
    <span class='raise identifier id'>raise</span> <span class='string val'>&quot;The MUC room must not contain a resource. Remove the slash!&quot;</span>
  <span class='else else kw'>else</span>
    <span class='@jid ivar id'>@jid</span><span class='dot token'>.</span><span class='resource identifier id'>resource</span> <span class='assign token'>=</span> <span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='symbol val'>:resource</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='string val'>&quot;jabbot&quot;</span>
    <span class='@mucjid ivar id'>@mucjid</span><span class='dot token'>.</span><span class='resource identifier id'>resource</span> <span class='assign token'>=</span> <span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='symbol val'>:nick</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='string val'>&quot;jabbot&quot;</span>
    <span class='@user ivar id'>@user</span> <span class='lshft op'>&lt;&lt;</span> <span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='symbol val'>:nick</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>

  <span class='@client ivar id'>@client</span> <span class='assign token'>=</span> <span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='Client constant id'>Client</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@jid ivar id'>@jid</span><span class='rparen token'>)</span>
  <span class='@connected ivar id'>@connected</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
  <span class='begin begin kw'>begin</span>
    <span class='@client ivar id'>@client</span><span class='dot token'>.</span><span class='connect identifier id'>connect</span>
    <span class='@client ivar id'>@client</span><span class='dot token'>.</span><span class='auth identifier id'>auth</span><span class='lparen token'>(</span><span class='password identifier id'>password</span><span class='rparen token'>)</span>
    <span class='@muc ivar id'>@muc</span> <span class='assign token'>=</span> <span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='MUC constant id'>MUC</span><span class='colon2 op'>::</span><span class='SimpleMUCClient constant id'>SimpleMUCClient</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@client ivar id'>@client</span><span class='rparen token'>)</span>
    <span class='muc_handlers identifier id'>muc_handlers</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='@muc ivar id'>@muc</span><span class='rparen token'>)</span>
    <span class='@muc ivar id'>@muc</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='@mucjid ivar id'>@mucjid</span><span class='rparen token'>)</span>
   <span class='rescue rescue kw'>rescue</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='errmsg identifier id'>errmsg</span>
    <span class='STDERR constant id'>STDERR</span><span class='dot token'>.</span><span class='write identifier id'>write</span> <span class='dstring node'>&quot;#{errmsg.class}\n#{errmsg}, #{errmsg.backtrace.join(&quot;\n&quot;)}&quot;</span>
    <span class='exit identifier id'>exit</span> <span class='integer val'>1</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>connected?</h3>
</div><div id="connected-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>connected?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
still connected?
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/jabbot/bot.rb', line 95</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/badboy/jabbot/blob/a5198975a0c3c0a3431b6c4efcbf5700d4482bfc/lib/jabbot/bot.rb#L95">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">95
96
97</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='connected? fid id'>connected?</span>
  <span class='@connected ivar id'>@connected</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>dispatch_messages</h3>
</div><div id="dispatch_messages-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>dispatch_messages</span><span class='args'>(type, messages)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Dispatch a collection of messages
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/jabbot/bot.rb', line 192</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/badboy/jabbot/blob/a5198975a0c3c0a3431b6c4efcbf5700d4482bfc/lib/jabbot/bot.rb#L192">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">192
193
194
195</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='dispatch_messages identifier id'>dispatch_messages</span><span class='lparen token'>(</span><span class='type identifier id'>type</span><span class='comma token'>,</span> <span class='messages identifier id'>messages</span><span class='rparen token'>)</span>
  <span class='messages identifier id'>messages</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='message identifier id'>message</span><span class='bitor op'>|</span> <span class='dispatch identifier id'>dispatch</span><span class='lparen token'>(</span><span class='type identifier id'>type</span><span class='comma token'>,</span> <span class='message identifier id'>message</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='messages identifier id'>messages</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>log</h3>
</div><div id="log-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>log</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Return logger instance
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/jabbot/bot.rb', line 200</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/badboy/jabbot/blob/a5198975a0c3c0a3431b6c4efcbf5700d4482bfc/lib/jabbot/bot.rb#L200">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">200
201
202
203
204
205
206</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='log identifier id'>log</span>
  <span class='return return kw'>return</span> <span class='@log ivar id'>@log</span> <span class='if if_mod kw'>if</span> <span class='@log ivar id'>@log</span>
  <span class='os identifier id'>os</span> <span class='assign token'>=</span> <span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='symbol val'>:log_file</span><span class='rbrack token'>]</span> <span class='question op'>?</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='symbol val'>:log_file</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='string val'>&quot;a&quot;</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='$stdout gvar id'>$stdout</span>
  <span class='@log ivar id'>@log</span> <span class='assign token'>=</span> <span class='Logger constant id'>Logger</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='os identifier id'>os</span><span class='rparen token'>)</span>
  <span class='@log ivar id'>@log</span><span class='dot token'>.</span><span class='level identifier id'>level</span> <span class='assign token'>=</span> <span class='Logger constant id'>Logger</span><span class='dot token'>.</span><span class='const_get identifier id'>const_get</span><span class='lparen token'>(</span><span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='symbol val'>:log_level</span><span class='rbrack token'>]</span> <span class='question op'>?</span> <span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='symbol val'>:log_level</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='upcase identifier id'>upcase</span> <span class='colon op'>:</span> <span class='string val'>&quot;INFO&quot;</span><span class='rparen token'>)</span>
  <span class='@log ivar id'>@log</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>muc_handlers</h3>
</div><div id="muc_handlers-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>muc_handlers</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
defines what to do on different actions
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/jabbot/bot.rb', line 121</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/badboy/jabbot/blob/a5198975a0c3c0a3431b6c4efcbf5700d4482bfc/lib/jabbot/bot.rb#L121">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='muc_handlers identifier id'>muc_handlers</span>
  <span class='Proc constant id'>Proc</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='muc identifier id'>muc</span><span class='bitor op'>|</span>
    <span class='muc identifier id'>muc</span><span class='dot token'>.</span><span class='on_message identifier id'>on_message</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='time identifier id'>time</span><span class='comma token'>,</span> <span class='nick identifier id'>nick</span><span class='comma token'>,</span> <span class='text identifier id'>text</span><span class='bitor op'>|</span>
      <span class='if if kw'>if</span> <span class='time identifier id'>time</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
        <span class='begin begin kw'>begin</span>
          <span class='dispatch_messages identifier id'>dispatch_messages</span><span class='lparen token'>(</span><span class='symbol val'>:message</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='Message constant id'>Message</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='nick identifier id'>nick</span><span class='comma token'>,</span> <span class='text identifier id'>text</span><span class='comma token'>,</span> <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='now identifier id'>now</span><span class='rparen token'>)</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='nick identifier id'>nick</span> <span class='eq op'>==</span> <span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='symbol val'>:nick</span><span class='rbrack token'>]</span>
        <span class='rescue rescue kw'>rescue</span> <span class='Exception constant id'>Exception</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='boom identifier id'>boom</span>
          <span class='log identifier id'>log</span><span class='dot token'>.</span><span class='fatal identifier id'>fatal</span> <span class='boom identifier id'>boom</span><span class='dot token'>.</span><span class='inspect identifier id'>inspect</span>
          <span class='log identifier id'>log</span><span class='dot token'>.</span><span class='fatal identifier id'>fatal</span> <span class='boom identifier id'>boom</span><span class='dot token'>.</span><span class='backtrace identifier id'>backtrace</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;\n&quot;</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>

    <span class='muc identifier id'>muc</span><span class='dot token'>.</span><span class='on_private_message identifier id'>on_private_message</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='time identifier id'>time</span><span class='comma token'>,</span> <span class='nick identifier id'>nick</span><span class='comma token'>,</span> <span class='text identifier id'>text</span><span class='bitor op'>|</span>
      <span class='if if kw'>if</span> <span class='time identifier id'>time</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
        <span class='begin begin kw'>begin</span>
          <span class='dispatch_messages identifier id'>dispatch_messages</span><span class='lparen token'>(</span><span class='symbol val'>:private</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='Message constant id'>Message</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='nick identifier id'>nick</span><span class='comma token'>,</span> <span class='text identifier id'>text</span><span class='comma token'>,</span> <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='now identifier id'>now</span><span class='rparen token'>)</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='nick identifier id'>nick</span> <span class='eq op'>==</span> <span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='symbol val'>:nick</span><span class='rbrack token'>]</span>
        <span class='rescue rescue kw'>rescue</span> <span class='Exception constant id'>Exception</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='boom identifier id'>boom</span>
          <span class='log identifier id'>log</span><span class='dot token'>.</span><span class='fatal identifier id'>fatal</span> <span class='boom identifier id'>boom</span><span class='dot token'>.</span><span class='inspect identifier id'>inspect</span>
          <span class='log identifier id'>log</span><span class='dot token'>.</span><span class='fatal identifier id'>fatal</span> <span class='boom identifier id'>boom</span><span class='dot token'>.</span><span class='backtrace identifier id'>backtrace</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;\n&quot;</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>

    <span class='muc identifier id'>muc</span><span class='dot token'>.</span><span class='on_join identifier id'>on_join</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='time identifier id'>time</span><span class='comma token'>,</span> <span class='nick identifier id'>nick</span><span class='bitor op'>|</span>
      <span class='unless unless kw'>unless</span> <span class='@user ivar id'>@user</span><span class='dot token'>.</span><span class='include? fid id'>include?</span> <span class='nick identifier id'>nick</span>
        <span class='@user ivar id'>@user</span> <span class='lshft op'>&lt;&lt;</span> <span class='nick identifier id'>nick</span>
      <span class='end end kw'>end</span>
      <span class='if if kw'>if</span> <span class='time identifier id'>time</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
        <span class='begin begin kw'>begin</span>
          <span class='dispatch_messages identifier id'>dispatch_messages</span><span class='lparen token'>(</span><span class='symbol val'>:join</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='Message constant id'>Message</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='nick identifier id'>nick</span><span class='comma token'>,</span> <span class='string val'>&quot;join&quot;</span><span class='comma token'>,</span> <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='now identifier id'>now</span><span class='rparen token'>)</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='nick identifier id'>nick</span> <span class='eq op'>==</span> <span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='symbol val'>:nick</span><span class='rbrack token'>]</span>
        <span class='rescue rescue kw'>rescue</span> <span class='Exception constant id'>Exception</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='boom identifier id'>boom</span>
          <span class='log identifier id'>log</span><span class='dot token'>.</span><span class='fatal identifier id'>fatal</span> <span class='boom identifier id'>boom</span><span class='dot token'>.</span><span class='inspect identifier id'>inspect</span>
          <span class='log identifier id'>log</span><span class='dot token'>.</span><span class='fatal identifier id'>fatal</span> <span class='boom identifier id'>boom</span><span class='dot token'>.</span><span class='backtrace identifier id'>backtrace</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;\n&quot;</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    
    <span class='muc identifier id'>muc</span><span class='dot token'>.</span><span class='on_leave identifier id'>on_leave</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='time identifier id'>time</span><span class='comma token'>,</span> <span class='nick identifier id'>nick</span><span class='bitor op'>|</span>
      <span class='@user ivar id'>@user</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='nick identifier id'>nick</span><span class='rparen token'>)</span>
      <span class='if if kw'>if</span> <span class='time identifier id'>time</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
        <span class='begin begin kw'>begin</span>
          <span class='dispatch_messages identifier id'>dispatch_messages</span><span class='lparen token'>(</span><span class='symbol val'>:leave</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='Message constant id'>Message</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='nick identifier id'>nick</span><span class='comma token'>,</span> <span class='string val'>&quot;leave&quot;</span><span class='comma token'>,</span> <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='now identifier id'>now</span><span class='rparen token'>)</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
        <span class='rescue rescue kw'>rescue</span> <span class='Exception constant id'>Exception</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='boom identifier id'>boom</span>
          <span class='log identifier id'>log</span><span class='dot token'>.</span><span class='fatal identifier id'>fatal</span> <span class='boom identifier id'>boom</span><span class='dot token'>.</span><span class='inspect identifier id'>inspect</span>
          <span class='log identifier id'>log</span><span class='dot token'>.</span><span class='fatal identifier id'>fatal</span> <span class='boom identifier id'>boom</span><span class='dot token'>.</span><span class='backtrace identifier id'>backtrace</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;\n&quot;</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    
    <span class='muc identifier id'>muc</span><span class='dot token'>.</span><span class='on_subject identifier id'>on_subject</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='time identifier id'>time</span><span class='comma token'>,</span> <span class='nick identifier id'>nick</span><span class='comma token'>,</span> <span class='subject identifier id'>subject</span><span class='bitor op'>|</span>
      <span class='if if kw'>if</span> <span class='time identifier id'>time</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
        <span class='begin begin kw'>begin</span>
          <span class='dispatch_messages identifier id'>dispatch_messages</span><span class='lparen token'>(</span><span class='symbol val'>:subject</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='Message constant id'>Message</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='nick identifier id'>nick</span><span class='comma token'>,</span> <span class='subject identifier id'>subject</span><span class='comma token'>,</span> <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='now identifier id'>now</span><span class='rparen token'>)</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
        <span class='rescue rescue kw'>rescue</span> <span class='Exception constant id'>Exception</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='boom identifier id'>boom</span>
          <span class='log identifier id'>log</span><span class='dot token'>.</span><span class='fatal identifier id'>fatal</span> <span class='boom identifier id'>boom</span><span class='dot token'>.</span><span class='inspect identifier id'>inspect</span>
          <span class='log identifier id'>log</span><span class='dot token'>.</span><span class='fatal identifier id'>fatal</span> <span class='boom identifier id'>boom</span><span class='dot token'>.</span><span class='backtrace identifier id'>backtrace</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;\n&quot;</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># not working</span>
    <span class='comment val'>#muc.on_self_leave  do |*args|</span>
    <span class='comment val'>#  p args</span>
    <span class='comment val'>#end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>poll</h3>
</div><div id="poll-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>poll</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
just a lame infinite loop to keep the bot alive while he is connected :)
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/jabbot/bot.rb', line 85</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/badboy/jabbot/blob/a5198975a0c3c0a3431b6c4efcbf5700d4482bfc/lib/jabbot/bot.rb#L85">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">85
86
87
88
89
90</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='poll identifier id'>poll</span>
  <span class='while while kw'>while</span> <span class='connected? fid id'>connected?</span>
    <span class='break break kw'>break</span> <span class='unless unless_mod kw'>unless</span> <span class='connected? fid id'>connected?</span>
    <span class='sleep identifier id'>sleep</span> <span class='integer val'>1</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>run!</h3>
</div><div id="run-21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>run!</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Run application
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/jabbot/bot.rb', line 69</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/badboy/jabbot/blob/a5198975a0c3c0a3431b6c4efcbf5700d4482bfc/lib/jabbot/bot.rb#L69">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">69
70
71
72
73
74
75
76
77
78
79</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='run! fid id'>run!</span>
  <span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;Jabbot #{Jabbot::VERSION} imposing as #{login} on #{channel}@#{server}&quot;</span>

  <span class='trap identifier id'>trap</span><span class='lparen token'>(</span><span class='symbol val'>:INT</span><span class='rparen token'>)</span> <span class='do do kw'>do</span>
    <span class='puts identifier id'>puts</span> <span class='string val'>&quot;\nAnd it's a wrap. See ya soon!&quot;</span>
    <span class='exit identifier id'>exit</span>
  <span class='end end kw'>end</span>

  <span class='connect identifier id'>connect</span>
  <span class='poll identifier id'>poll</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>send_message</h3>
</div><div id="send_message-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>send_message</span><span class='args'>(msg, to = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
send message alternative: send query to user
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/jabbot/bot.rb', line 114</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/badboy/jabbot/blob/a5198975a0c3c0a3431b6c4efcbf5700d4482bfc/lib/jabbot/bot.rb#L114">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">114
115
116</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='send_message identifier id'>send_message</span><span class='lparen token'>(</span><span class='msg identifier id'>msg</span><span class='comma token'>,</span> <span class='to identifier id'>to</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='@muc ivar id'>@muc</span><span class='dot token'>.</span><span class='say identifier id'>say</span><span class='lparen token'>(</span><span class='msg identifier id'>msg</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='comma token'>,</span> <span class='to identifier id'>to</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>