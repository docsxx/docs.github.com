<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>pauldix's feedzirra - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/pauldix/commits/feedzirra/master" rel="alternate" title="Recent Commits to feedzirra:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    GitHubRepo.init("pauldix", "feedzirra", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='pauldix/feedzirra/blob/bf7520e6dd67841aaaa2ee768382def6e28b2947' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='pauldix/feedzirra/blob/bf7520e6dd67841aaaa2ee768382def6e28b2947' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("pauldix", "feedzirra", "bf7520e6dd67841aaaa2ee768382def6e28b2947", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/pauldix/feedzirra/tree/">Source</a></li>
            <li class=""><a href="http://github.com/pauldix/feedzirra/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/pauldix/feedzirra/network">Network</a></li>            
            <li class=""><a href="http://github.com/pauldix/feedzirra/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/pauldix/feedzirra">Wiki</a></li>
            <li class=""><a href="http://github.com/pauldix/feedzirra/graphs">Graphs</a></li>                    
            <li class="active"><a href="/pauldix/feedzirra">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/pauldix">pauldix</a> / <b><a href="http://github.com/pauldix/feedzirra/tree">feedzirra</a></b>        
                <a id="namespaces_button" rel="pauldix/feedzirra/blob/bf7520e6dd67841aaaa2ee768382def6e28b2947" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="pauldix/feedzirra/blob/bf7520e6dd67841aaaa2ee768382def6e28b2947" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="section docstring readme wikistyle">
  <h2>Feedzirra</h2>
<p>
I&#8217;d like feedback on the api and any bugs encountered on feeds in the
wild. I&#8217;ve set up a {google group
here}[http://groups.google.com/group/feedzirra].
</p>
<h3>Description</h3>
<p>
Feedzirra is a feed library that is designed to get and update many feeds
as quickly as possible. This includes using libcurl-multi through the
taf2-curb[link:http://github.com/taf2/curb/tree/master] gem for faster http
gets, and libxml through
nokogiri[link:http://github.com/tenderlove/nokogiri/tree/master] and
sax-machine[link:http://github.com/pauldix/sax-machine/tree/master] for
faster parsing.
</p>
<p>
Once you have fetched feeds using Feedzirra, they can be updated using the
feed objects. Feedzirra automatically inserts etag and last-modified
information from the http response headers to lower bandwidth usage,
eliminate unnecessary parsing, and make things speedier in general.
</p>
<p>
Another feature present in Feedzirra is the ability to create callback
functions that get called &quot;on success&quot; and &quot;on failure&quot;
when getting a feed. This makes it easy to do things like log errors or
update data stores.
</p>
<p>
The fetching and parsing logic have been decoupled so that either of them
can be used in isolation if you&#8217;d prefer not to use everything that
Feedzirra offers. However, the code examples below use helper methods in
the Feed class that put everything together to make things as simple as
possible.
</p>
<p>
The final feature of Feedzirra is the ability to define custom parsing
classes. In truth, Feedzirra could be used to parse much more than feeds.
Microformats, page scraping, and almost anything else are fair game.
</p>
<h3>Installation</h3>
<p>
For now Feedzirra exists only on github. It also has a few gem requirements
that are only on github. Before you start you need to have
libcurl[link:http://curl.haxx.se/] and libxml[link:http://xmlsoft.org/]
installed. If you&#8217;re on Leopard you have both. Otherwise,
you&#8217;ll need to grab them. Once you&#8217;ve got those libraries,
these are the gems that get used: nokogiri, pauldix-sax-machine, taf2-curb
(note that this is a fork that lives on github and not the Ruby Forge
version of curb), and pauldix-feedzirra. The feedzirra gemspec has all the
dependencies so you should be able to get up and running with the standard
github gem install routine:
</p>
<pre class="code">
    <span class='gem identifier id'>gem</span> <span class='sources identifier id'>sources</span> <span class='minus op'>-</span><span class='a identifier id'>a</span> <span class='http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/gems.github.com # if you haven't already
    gem install pauldix-feedzirra
</span></pre>
<p>
*NOTE:*Some people have been reporting a few issues related to
installation. First, the Ruby Forge version of curb is not what you want.
It will not work. Nor will the curl-multi gem that lives on Ruby Forge. You
have to get the taf2-curb[link:http://github.com/taf2/curb/tree/master]
fork installed.
</p>
<p>
If you see this error when doing a require:
</p>
<pre class="code">
    <span class='regexp val'>/Library/</span><span class='Ruby constant id'>Ruby</span><span class='div op'>/</span><span class='Site constant id'>Site</span><span class='div op'>/</span><span class='float val'>1.8</span><span class='div op'>/</span><span class='rubygems identifier id'>rubygems</span><span class='div op'>/</span><span class='custom_require identifier id'>custom_require</span><span class='dot token'>.</span><span class='rb identifier id'>rb</span><span class='symbol val'>:31</span><span class='symbol val'>:in</span> <span class='xstring val'>`gem_original_require': no such file to load -- curb_core (LoadError)
</span></pre>
<p>
It means that the taf2-curb gem didn&#8217;t build correctly. To resolve
this you can do a git clone git://github.com/taf2/curb.git then run rake
gem in the curb directory, then sudo gem install pkg/curb-0.2.4.0.gem.
After that you should be good.
</p>
<p>
If you see something like this when trying to run it:
</p>
<pre class="code">
    <span class='NoMethodError constant id'>NoMethodError</span><span class='colon op'>:</span> <span class='undefined identifier id'>undefined</span> <span class='method identifier id'>method</span> <span class='xstring val'>`on_success' for #&lt;Curl::Easy:0x1182724&gt;
        from ./lib/feedzirra/feed.rb:88:in `</span><span class='add_url_to_multi identifier id'>add_url_to_multi</span><span class='string val'>'
</span></pre>
<p>
This means that you are requiring curl-multi or the Ruby Forge version of
Curb somewhere. You can&#8217;t use those and need to get the taf2 version
up and running.
</p>
<p>
If you&#8217;re on Debian or Ubuntu and getting errors while trying to
install the taf2-curb gem, it could be because you don&#8217;t have the
latest version of libcurl installed. Do this to fix:
</p>
<pre class="code">
    <span class='sudo identifier id'>sudo</span> <span class='apt identifier id'>apt</span><span class='minus op'>-</span><span class='get identifier id'>get</span> <span class='install identifier id'>install</span> <span class='libcurl4 identifier id'>libcurl4</span><span class='minus op'>-</span><span class='gnutls identifier id'>gnutls</span><span class='minus op'>-</span><span class='dev identifier id'>dev</span>
</pre>
<p>
Another problem could be if you are running Mac Ports and you have libcurl
installed through there. You need to uninstall it for curb to work! The
version in Mac Ports is old and doesn&#8217;t play nice with curb. If
you&#8217;re running Leopard, you can just uninstall and you should be
golden. If you&#8217;re on an older version of OS X, you&#8217;ll then need
to <tt>curl</tt>[http://curl.haxx.se/download.html] and build from
source. Then you&#8217;ll have to install the taf2-curb gem again. You
might have to perform the step above.
</p>
<p>
If you&#8217;re still having issues, please let me know on the mailing
list. Also, <tt>Fisher (taf2)</tt>[link:http://github.com/taf2] is working on
fixing the gem install. Please send him a full error report.
</p>
<h3>Usage</h3>
<p>
<tt>gist of the following code</tt>[link:http://gist.github.com/57285]
</p>
<pre class="code">
    <span class='require identifier id'>require</span> <span class='string val'>'feedzirra'</span>

    <span class='comment val'># fetching a single feed</span>
    <span class='feed identifier id'>feed</span> <span class='assign token'>=</span> <span class='Feedzirra constant id'>Feedzirra</span><span class='colon2 op'>::</span><span class='Feed constant id'>Feed</span><span class='dot token'>.</span><span class='fetch_and_parse identifier id'>fetch_and_parse</span><span class='lparen token'>(</span><span class='string val'>&quot;http://feeds.feedburner.com/PaulDixExplainsNothing&quot;</span><span class='rparen token'>)</span>

    <span class='comment val'># feed and entries accessors</span>
    <span class='feed identifier id'>feed</span><span class='dot token'>.</span><span class='title identifier id'>title</span>          <span class='comment val'># =&gt; &quot;Paul Dix Explains Nothing&quot;</span>
    <span class='feed identifier id'>feed</span><span class='dot token'>.</span><span class='url identifier id'>url</span>            <span class='comment val'># =&gt; &quot;http://www.pauldix.net&quot;</span>
    <span class='feed identifier id'>feed</span><span class='dot token'>.</span><span class='feed_url identifier id'>feed_url</span>       <span class='comment val'># =&gt; &quot;http://feeds.feedburner.com/PaulDixExplainsNothing&quot;</span>
    <span class='feed identifier id'>feed</span><span class='dot token'>.</span><span class='etag identifier id'>etag</span>           <span class='comment val'># =&gt; &quot;GunxqnEP4NeYhrqq9TyVKTuDnh0&quot;</span>
    <span class='feed identifier id'>feed</span><span class='dot token'>.</span><span class='last_modified identifier id'>last_modified</span>  <span class='comment val'># =&gt; Sat Jan 31 17:58:16 -0500 2009 # it's a Time object</span>

    <span class='entry identifier id'>entry</span> <span class='assign token'>=</span> <span class='feed identifier id'>feed</span><span class='dot token'>.</span><span class='entries identifier id'>entries</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
    <span class='entry identifier id'>entry</span><span class='dot token'>.</span><span class='title identifier id'>title</span>      <span class='comment val'># =&gt; &quot;Ruby Http Client Library Performance&quot;</span>
    <span class='entry identifier id'>entry</span><span class='dot token'>.</span><span class='url identifier id'>url</span>        <span class='comment val'># =&gt; &quot;http://www.pauldix.net/2009/01/ruby-http-client-library-performance.html&quot;</span>
    <span class='entry identifier id'>entry</span><span class='dot token'>.</span><span class='author identifier id'>author</span>     <span class='comment val'># =&gt; &quot;Paul Dix&quot;</span>
    <span class='entry identifier id'>entry</span><span class='dot token'>.</span><span class='summary identifier id'>summary</span>    <span class='comment val'># =&gt; &quot;...&quot;</span>
    <span class='entry identifier id'>entry</span><span class='dot token'>.</span><span class='content identifier id'>content</span>    <span class='comment val'># =&gt; &quot;...&quot;</span>
    <span class='entry identifier id'>entry</span><span class='dot token'>.</span><span class='published identifier id'>published</span>  <span class='comment val'># =&gt; Thu Jan 29 17:00:19 UTC 2009 # it's a Time object</span>
    <span class='entry identifier id'>entry</span><span class='dot token'>.</span><span class='categories identifier id'>categories</span> <span class='comment val'># =&gt; [&quot;...&quot;, &quot;...&quot;]</span>

    <span class='comment val'># sanitizing an entry's content</span>
    <span class='entry identifier id'>entry</span><span class='dot token'>.</span><span class='title identifier id'>title</span><span class='dot token'>.</span><span class='sanitize identifier id'>sanitize</span>   <span class='comment val'># =&gt; returns the title with harmful stuff escaped</span>
    <span class='entry identifier id'>entry</span><span class='dot token'>.</span><span class='author identifier id'>author</span><span class='dot token'>.</span><span class='sanitize identifier id'>sanitize</span>  <span class='comment val'># =&gt; returns the author with harmful stuff escaped</span>
    <span class='entry identifier id'>entry</span><span class='dot token'>.</span><span class='content identifier id'>content</span><span class='dot token'>.</span><span class='sanitize identifier id'>sanitize</span> <span class='comment val'># =&gt; returns the content with harmful stuff escaped</span>
    <span class='entry identifier id'>entry</span><span class='dot token'>.</span><span class='content identifier id'>content</span><span class='dot token'>.</span><span class='sanitize! fid id'>sanitize!</span> <span class='comment val'># =&gt; returns content with harmful stuff escaped and replaces original (also exists for author and title)</span>
    <span class='entry identifier id'>entry</span><span class='dot token'>.</span><span class='sanitize! fid id'>sanitize!</span>         <span class='comment val'># =&gt; sanitizes the entry's title, author, and content in place (as in, it changes the value to clean versions)</span>
    <span class='feed identifier id'>feed</span><span class='dot token'>.</span><span class='sanitize_entries! fid id'>sanitize_entries!</span>  <span class='comment val'># =&gt; sanitizes all entries in place</span>

    <span class='comment val'># updating a single feed</span>
    <span class='updated_feed identifier id'>updated_feed</span> <span class='assign token'>=</span> <span class='Feedzirra constant id'>Feedzirra</span><span class='colon2 op'>::</span><span class='Feed constant id'>Feed</span><span class='dot token'>.</span><span class='update identifier id'>update</span><span class='lparen token'>(</span><span class='feed identifier id'>feed</span><span class='rparen token'>)</span>

    <span class='comment val'># an updated feed has the following extra accessors</span>
    <span class='updated_feed identifier id'>updated_feed</span><span class='dot token'>.</span><span class='updated? fid id'>updated?</span>     <span class='comment val'># returns true if any of the feed attributes have been modified. will return false if only new entries</span>
    <span class='updated_feed identifier id'>updated_feed</span><span class='dot token'>.</span><span class='new_entries identifier id'>new_entries</span>  <span class='comment val'># a collection of the entry objects that are newer than the latest in the feed before update</span>

    <span class='comment val'># fetching multiple feeds</span>
    <span class='feed_urls identifier id'>feed_urls</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='string val'>&quot;http://feeds.feedburner.com/PaulDixExplainsNothing&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;http://feeds.feedburner.com/trottercashion&quot;</span><span class='rbrack token'>]</span>
    <span class='feeds identifier id'>feeds</span> <span class='assign token'>=</span> <span class='Feedzirra constant id'>Feedzirra</span><span class='colon2 op'>::</span><span class='Feed constant id'>Feed</span><span class='dot token'>.</span><span class='fetch_and_parse identifier id'>fetch_and_parse</span><span class='lparen token'>(</span><span class='feed_urls identifier id'>feed_urls</span><span class='rparen token'>)</span>

    <span class='comment val'># feeds is now a hash with the feed_urls as keys and the parsed feed objects as values. If an error was thrown</span>
    <span class='comment val'># there will be a Fixnum of the http response code instead of a feed object</span>

    <span class='comment val'># updating multiple feeds. it expects a collection of feed objects</span>
    <span class='updated_feeds identifier id'>updated_feeds</span> <span class='assign token'>=</span> <span class='Feedzirra constant id'>Feedzirra</span><span class='colon2 op'>::</span><span class='Feed constant id'>Feed</span><span class='dot token'>.</span><span class='update identifier id'>update</span><span class='lparen token'>(</span><span class='feeds identifier id'>feeds</span><span class='dot token'>.</span><span class='values identifier id'>values</span><span class='rparen token'>)</span>

    <span class='comment val'># defining custom behavior on failure or success. note that a return status of 304 (not updated) will call the on_success handler</span>
    <span class='feed identifier id'>feed</span> <span class='assign token'>=</span> <span class='Feedzirra constant id'>Feedzirra</span><span class='colon2 op'>::</span><span class='Feed constant id'>Feed</span><span class='dot token'>.</span><span class='fetch_and_parse identifier id'>fetch_and_parse</span><span class='lparen token'>(</span><span class='string val'>&quot;http://feeds.feedburner.com/PaulDixExplainsNothing&quot;</span><span class='comma token'>,</span>
        <span class='symbol val'>:on_success</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lambda identifier id'>lambda</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='feed identifier id'>feed</span><span class='bitor op'>|</span> <span class='puts identifier id'>puts</span> <span class='feed identifier id'>feed</span><span class='dot token'>.</span><span class='title identifier id'>title</span> <span class='rbrace token'>}</span><span class='comma token'>,</span>
        <span class='symbol val'>:on_failure</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lambda identifier id'>lambda</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='url identifier id'>url</span><span class='comma token'>,</span> <span class='response_code identifier id'>response_code</span><span class='comma token'>,</span> <span class='response_header identifier id'>response_header</span><span class='comma token'>,</span> <span class='response_body identifier id'>response_body</span><span class='bitor op'>|</span> <span class='puts identifier id'>puts</span> <span class='response_body identifier id'>response_body</span> <span class='rbrace token'>}</span><span class='rparen token'>)</span>
    <span class='comment val'># if a collection was passed into fetch_and_parse, the handlers will be called for each one</span>

    <span class='comment val'># the behavior for the handlers when using Feedzirra::Feed.update is slightly different. The feed passed into on_success will be</span>
    <span class='comment val'># the updated feed with the standard updated accessors. on failure it will be the original feed object passed into update</span>

    <span class='comment val'># Defining custom parsers</span>
    <span class='comment val'># TODO: the functionality is here, just write some good examples that show how to do this</span>
</pre>
<h3>Extending</h3>
<h3>Benchmarks</h3>
<p>
One of the goals of Feedzirra is speed. This includes not only parsing, but
fetching multiple feeds as quickly as possible. I ran a benchmark getting
20 feeds 10 times using Feedzirra, rFeedParser, and FeedNormalizer. For
more details the {benchmark code can be found in the project in
spec/benchmarks/feedzirra_benchmarks.rb}[http://github.com/pauldix/feedzirra/blob/7fb5634c5c16e9c6ec971767b462c6518cd55f5d/spec/benchmarks/feedzirra_benchmarks.rb]
</p>
<pre class="code">
    <span class='feedzirra identifier id'>feedzirra</span>          <span class='float val'>5.170000</span>   <span class='float val'>1.290000</span>   <span class='float val'>6.460000</span> <span class='lparen token'>(</span> <span class='float val'>18.917796</span><span class='rparen token'>)</span>
    <span class='rfeedparser identifier id'>rfeedparser</span>      <span class='float val'>104.260000</span>  <span class='float val'>12.220000</span> <span class='float val'>116.480000</span> <span class='lparen token'>(</span><span class='float val'>244.799063</span><span class='rparen token'>)</span>
    <span class='feed identifier id'>feed</span><span class='minus op'>-</span><span class='normalizer identifier id'>normalizer</span>   <span class='float val'>66.250000</span>   <span class='float val'>4.010000</span>  <span class='float val'>70.260000</span> <span class='lparen token'>(</span><span class='float val'>191.589862</span><span class='rparen token'>)</span>
</pre>
<p>
The result of that benchmark is a bit sketchy because of the network
variability. Running 10 times against the same 20 feeds was meant to smooth
some of that out. However, there is also a {benchmark comparing parsing
speed in
spec/benchmarks/parsing_benchmark.rb}[http://github.com/pauldix/feedzirra/blob/7fb5634c5c16e9c6ec971767b462c6518cd55f5d/spec/benchmarks/parsing_benchmark.rb]
on an atom feed.
</p>
<pre class="code">
    <span class='feedzirra identifier id'>feedzirra</span>        <span class='integer val'>0</span><span class='integer val'>.500000</span>   <span class='integer val'>0</span><span class='integer val'>.030000</span>   <span class='integer val'>0</span><span class='integer val'>.530000</span> <span class='lparen token'>(</span>  <span class='integer val'>0</span><span class='integer val'>.658744</span><span class='rparen token'>)</span>
    <span class='rfeedparser identifier id'>rfeedparser</span>      <span class='float val'>8.400000</span>   <span class='float val'>1.110000</span>   <span class='float val'>9.510000</span> <span class='lparen token'>(</span> <span class='float val'>11.839827</span><span class='rparen token'>)</span>
    <span class='feed identifier id'>feed</span><span class='minus op'>-</span><span class='normalizer identifier id'>normalizer</span>  <span class='float val'>5.980000</span>   <span class='integer val'>0</span><span class='integer val'>.160000</span>   <span class='float val'>6.140000</span> <span class='lparen token'>(</span>  <span class='float val'>7.576140</span><span class='rparen token'>)</span>
</pre>
<p>
There&#8217;s also a {benchmark that shows the results of using Feedzirra
to perform updates on
feeds}[http://github.com/pauldix/feedzirra/blob/45d64319544c61a4c9eb9f7f825c73b9f9030cb3/spec/benchmarks/updating_benchmarks.rb]
you&#8217;ve already pulled in. I tested against 179 feeds. The first is
the initial pull and the second is an update 65 seconds later. I&#8217;m
not sure how many of them support etag and last-modified, so performance
may be better or worse depending on what feeds you&#8217;re requesting.
</p>
<pre class="code">
    <span class='feedzirra identifier id'>feedzirra</span> <span class='fetch identifier id'>fetch</span> <span class='and and kw'>and</span> <span class='parse identifier id'>parse</span>  <span class='float val'>4.010000</span>   <span class='integer val'>0</span><span class='integer val'>.710000</span>   <span class='float val'>4.720000</span> <span class='lparen token'>(</span> <span class='float val'>15.110101</span><span class='rparen token'>)</span>
    <span class='feedzirra identifier id'>feedzirra</span> <span class='update identifier id'>update</span>           <span class='integer val'>0</span><span class='integer val'>.660000</span>   <span class='integer val'>0</span><span class='integer val'>.280000</span>   <span class='integer val'>0</span><span class='integer val'>.940000</span> <span class='lparen token'>(</span>  <span class='float val'>5.152709</span><span class='rparen token'>)</span>
</pre>
<h3>TODO</h3>
<p>
This thing needs to hammer on many different feeds in the wild. I&#8217;m
sure there will be bugs. I want to find them and crush them. I didn&#8217;t
bother using the test suite for feedparser. i wanted to start fresh.
</p>
<p>
Here are some more specific TODOs.
</p>
<ul>
<li>Make a feedzirra-rails gem to integrate feedzirra seamlessly with Rails and
ActiveRecord.

</li>
<li>Add support for authenticated feeds.

</li>
<li>Create a super sweet DSL for defining new parsers.

</li>
<li>Test against Ruby 1.9.1 and fix any bugs.

</li>
<li>I&#8217;m not keeping track of modified on entries. Should I add this?

</li>
<li>Clean up the fetching code inside feed.rb so it doesn&#8217;t suck so hard.

</li>
<li>Make the feed_spec actually mock stuff out so it doesn&#8217;t hit the net.

</li>
<li>Readdress how feeds determine if they can parse a document. Maybe I should
use namespaces instead?

</li>
</ul>
<h3>LICENSE</h3>
<p>
(The MIT License)
</p>
<p>
Copyright &#169; 2009:
</p>
<p>
<tt>Dix</tt>[http://pauldix.net]
</p>
<p>
Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the
&#8216;Software&#8217;), to deal in the Software without restriction,
including without limitation the rights to use, copy, modify, merge,
publish, distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to the
following conditions:
</p>
<p>
The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.
</p>
<p>
THE SOFTWARE IS PROVIDED &#8216;AS IS&#8217;, WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
USE OR OTHER DEALINGS IN THE SOFTWARE.
</p>

</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>