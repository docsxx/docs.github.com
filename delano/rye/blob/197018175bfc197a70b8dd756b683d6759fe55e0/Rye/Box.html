<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>delano's rye - Class: Rye::Box - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/delano/commits/rye/master" rel="alternate" title="Recent Commits to rye:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("delano", "rye", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("delano", "rye", "197018175bfc197a70b8dd756b683d6759fe55e0", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/delano/rye/tree/">Source</a></li>
            <li class=""><a href="http://github.com/delano/rye/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/delano/rye/network">Network</a></li>            
            <li class=""><a href="http://github.com/delano/rye/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/delano/rye">Wiki</a></li>
            <li class=""><a href="http://github.com/delano/rye/graphs">Graphs</a></li>                    
            <li class="active"><a href="/delano/rye">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/delano">delano</a> / <b><a href="http://github.com/delano/rye/tree">rye</a></b>        
                <a id="namespaces_button" rel="delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Rye_Box">
  <h1>Class: Rye::Box</h1>
  <div class="section mixins">
  <h2>Included Modules</h2>
  <p><a href="Cmd.html" title="Rye::Cmd">Rye::Cmd</a></p>
</div><div class="section docstring">
  <h1>Rye::Box</h1>
<p>
The Rye::Box class represents a machine. All system commands are made
through this class.
</p>
<pre class="code">
    <span class='rbox identifier id'>rbox</span> <span class='assign token'>=</span> <span class='Rye constant id'>Rye</span><span class='colon2 op'>::</span><span class='Box constant id'>Box</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'filibuster'</span><span class='rparen token'>)</span>
    <span class='rbox identifier id'>rbox</span><span class='dot token'>.</span><span class='hostname identifier id'>hostname</span>   <span class='comment val'># =&gt; filibuster</span>
    <span class='rbox identifier id'>rbox</span><span class='dot token'>.</span><span class='uname identifier id'>uname</span>      <span class='comment val'># =&gt; FreeBSD</span>
    <span class='rbox identifier id'>rbox</span><span class='dot token'>.</span><span class='uptime identifier id'>uptime</span>     <span class='comment val'># =&gt; 20:53  up 1 day,  1:52, 4 users</span>
</pre>
<p>
You can also run local commands through SSH
</p>
<pre class="code">
    <span class='rbox identifier id'>rbox</span> <span class='assign token'>=</span> <span class='Rye constant id'>Rye</span><span class='colon2 op'>::</span><span class='Box constant id'>Box</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'localhost'</span><span class='rparen token'>)</span>
    <span class='rbox identifier id'>rbox</span><span class='dot token'>.</span><span class='hostname identifier id'>hostname</span>   <span class='comment val'># =&gt; localhost</span>
    <span class='rbox identifier id'>rbox</span><span class='dot token'>.</span><span class='uname identifier id'>uname</span><span class='lparen token'>(</span><span class='symbol val'>:a</span><span class='rparen token'>)</span>  <span class='comment val'># =&gt; Darwin vanya 9.6.0 ...</span>
</pre>
<p>
&#8212;
</p>
<ul>
<li>When anything confusing happens, enable debug in initialize

</li>
</ul>
<p>
by passing :debug =&gt; STDERR. This will output Rye debug info as well as
Net::SSH info. This is VERY helpful for figuring out why some command is
hanging or otherwise acting weird.
</p>
<ul>
<li>If a remote command is hanging, it&#8217;s probably because a

</li>
</ul>
<p>
Net::SSH channel is waiting on_extended_data (a prompt). ++
</p>

</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(host = 'localhost', opts = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <ul>
<li><tt>host</tt> The hostname to connect to. The default is localhost.

</li>
<li><tt>opts</tt> a hash of optional arguments.

</li>
</ul>
<p>
The <tt>opts</tt> hash excepts the following keys:
</p>
<ul>
<li>:user =&gt; the username to connect as. Default: the current user.

</li>
<li>:safe =&gt; should Rye be safe? Default: true

</li>
<li>:keys =&gt; one or more private key file paths (passwordless login)

</li>
<li>:info =&gt; an IO object to print Rye::Box command info to. Default: nil

</li>
<li>:debug =&gt; an IO object to print Rye::Box debugging info to. Default: nil

</li>
<li>:error =&gt; an IO object to print Rye::Box errors to. Default: STDERR

</li>
<li>:getenv =&gt; pre-fetch <tt>host</tt> environment variables? (default:
true)

</li>
<li>:password =&gt; the user&#8217;s password (ignored if there&#8217;s a valid
private key)

</li>
</ul>
<p>
NOTE: <tt>opts</tt> can also contain any parameter supported by
Net::SSH.start that is not already mentioned above.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 88</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L88">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='host identifier id'>host</span><span class='assign token'>=</span><span class='string val'>'localhost'</span><span class='comma token'>,</span> <span class='opts identifier id'>opts</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='@rye_exception_hook ivar id'>@rye_exception_hook</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='@rye_host ivar id'>@rye_host</span> <span class='assign token'>=</span> <span class='host identifier id'>host</span>
  
  <span class='comment val'># These opts are use by Rye::Box and also passed to Net::SSH</span>
  <span class='@rye_opts ivar id'>@rye_opts</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span>
    <span class='symbol val'>:user</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Rye constant id'>Rye</span><span class='dot token'>.</span><span class='sysinfo identifier id'>sysinfo</span><span class='dot token'>.</span><span class='user identifier id'>user</span><span class='comma token'>,</span> 
    <span class='symbol val'>:safe</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span>
    <span class='symbol val'>:port</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>22</span><span class='comma token'>,</span>
    <span class='symbol val'>:keys</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
    <span class='symbol val'>:info</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span>
    <span class='symbol val'>:debug</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span>
    <span class='symbol val'>:error</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='STDERR constant id'>STDERR</span><span class='comma token'>,</span>
    <span class='symbol val'>:getenv</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span>
    <span class='symbol val'>:quiet</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span>
  <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='opts identifier id'>opts</span><span class='rparen token'>)</span>
  
  <span class='comment val'># Close the SSH session before Ruby exits. This will do nothing</span>
  <span class='comment val'># if disconnect has already been called explicitly. </span>
  <span class='at_exit identifier id'>at_exit</span> <span class='lbrace token'>{</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='disconnect identifier id'>disconnect</span> <span class='rbrace token'>}</span>
  
  <span class='comment val'># @rye_opts gets sent to Net::SSH so we need to remove the keys</span>
  <span class='comment val'># that are not meant for it. </span>
  <span class='@rye_safe ivar id'>@rye_safe</span><span class='comma token'>,</span> <span class='@rye_debug ivar id'>@rye_debug</span> <span class='assign token'>=</span> <span class='@rye_opts ivar id'>@rye_opts</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='symbol val'>:safe</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='@rye_opts ivar id'>@rye_opts</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='symbol val'>:debug</span><span class='rparen token'>)</span>
  <span class='@rye_info ivar id'>@rye_info</span><span class='comma token'>,</span> <span class='@rye_error ivar id'>@rye_error</span> <span class='assign token'>=</span> <span class='@rye_opts ivar id'>@rye_opts</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='symbol val'>:info</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='@rye_opts ivar id'>@rye_opts</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='symbol val'>:error</span><span class='rparen token'>)</span>
  <span class='@rye_getenv ivar id'>@rye_getenv</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span> <span class='if if_mod kw'>if</span> <span class='@rye_opts ivar id'>@rye_opts</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='symbol val'>:getenv</span><span class='rparen token'>)</span> <span class='comment val'># Enable getenv with a hash</span>
  <span class='@rye_quiet ivar id'>@rye_quiet</span> <span class='assign token'>=</span> <span class='@rye_opts ivar id'>@rye_opts</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='symbol val'>:quiet</span><span class='rparen token'>)</span>
  
  <span class='comment val'># Just in case someone sends a true value rather than IO object</span>
  <span class='@rye_debug ivar id'>@rye_debug</span> <span class='assign token'>=</span> <span class='STDERR constant id'>STDERR</span> <span class='if if_mod kw'>if</span> <span class='@rye_debug ivar id'>@rye_debug</span> <span class='eq op'>==</span> <span class='true true kw'>true</span>
  <span class='@rye_error ivar id'>@rye_error</span> <span class='assign token'>=</span> <span class='STDERR constant id'>STDERR</span> <span class='if if_mod kw'>if</span> <span class='@rye_error ivar id'>@rye_error</span> <span class='eq op'>==</span> <span class='true true kw'>true</span>
  <span class='@rye_info ivar id'>@rye_info</span> <span class='assign token'>=</span> <span class='STDOUT constant id'>STDOUT</span> <span class='if if_mod kw'>if</span> <span class='@rye_info ivar id'>@rye_info</span> <span class='eq op'>==</span> <span class='true true kw'>true</span>
  
  <span class='@rye_opts ivar id'>@rye_opts</span><span class='lbrack token'>[</span><span class='symbol val'>:logger</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='Logger constant id'>Logger</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@rye_debug ivar id'>@rye_debug</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='@rye_debug ivar id'>@rye_debug</span> <span class='comment val'># Enable Net::SSH debugging</span>
  <span class='@rye_opts ivar id'>@rye_opts</span><span class='lbrack token'>[</span><span class='symbol val'>:paranoid</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='true true kw'>true</span> <span class='unless unless_mod kw'>unless</span> <span class='@rye_safe ivar id'>@rye_safe</span> <span class='eq op'>==</span> <span class='false false kw'>false</span> <span class='comment val'># See Net::SSH.start</span>
  
  <span class='comment val'># Add the given private keys to the keychain that will be used for @rye_host</span>
  <span class='add_keys identifier id'>add_keys</span><span class='lparen token'>(</span><span class='@rye_opts ivar id'>@rye_opts</span><span class='lbrack token'>[</span><span class='symbol val'>:keys</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  
  <span class='comment val'># We don't want Net::SSH to handle the keypairs. This may change</span>
  <span class='comment val'># but for we're letting ssh-agent do it. </span>
  <span class='comment val'># TODO: Check if this should ot should not be enabled. </span>
  <span class='@rye_opts ivar id'>@rye_opts</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='symbol val'>:keys</span><span class='rparen token'>)</span>
  
  <span class='comment val'># From: capistrano/lib/capistrano/cli.rb</span>
  <span class='STDOUT constant id'>STDOUT</span><span class='dot token'>.</span><span class='sync identifier id'>sync</span> <span class='assign token'>=</span> <span class='true true kw'>true</span> <span class='comment val'># so that Net::SSH prompts show up</span>
  
  <span class='debug identifier id'>debug</span> <span class='dstring node'>&quot;ssh-agent info: #{Rye.sshagent_info.inspect}&quot;</span>
  <span class='debug identifier id'>debug</span> <span class='@rye_opts ivar id'>@rye_opts</span><span class='dot token'>.</span><span class='inspect identifier id'>inspect</span>

<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div><div class="section methodmissing">
  <h2>Dynamic Method Handling</h2>

  <p class="note">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
  </p>

  <div id="method_missing-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>method_missing</span><span class='args'>(cmd, *args, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="execute-instance_method">execute</tt>
  
</p>
</div><div class="section docstring">
  <p>
A handler for undefined commands. Raises Rye::CommandNotFound exception.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 433</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L433">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">433
434
435
436
437
438
439
440
441
442
443
444
445
446</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='method_missing identifier id'>method_missing</span><span class='lparen token'>(</span><span class='cmd identifier id'>cmd</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='@rye_safe ivar id'>@rye_safe</span>
    <span class='ex identifier id'>ex</span> <span class='assign token'>=</span> <span class='Rye constant id'>Rye</span><span class='colon2 op'>::</span><span class='CommandNotFound constant id'>CommandNotFound</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='cmd identifier id'>cmd</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
    <span class='raise identifier id'>raise</span> <span class='ex identifier id'>ex</span> <span class='unless unless_mod kw'>unless</span> <span class='@rye_exception_hook ivar id'>@rye_exception_hook</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span> <span class='ex identifier id'>ex</span><span class='dot token'>.</span><span class='class identifier id'>class</span>
    <span class='@rye_exception_hook ivar id'>@rye_exception_hook</span><span class='lbrack token'>[</span><span class='Rye constant id'>Rye</span><span class='colon2 op'>::</span><span class='CommandNotFound constant id'>CommandNotFound</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='call identifier id'>call</span> <span class='ex identifier id'>ex</span>
  <span class='else else kw'>else</span>
    <span class='if if kw'>if</span> <span class='block identifier id'>block</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
      <span class='run_command identifier id'>run_command</span> <span class='cmd identifier id'>cmd</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span>
    <span class='else else kw'>else</span>
      <span class='ex identifier id'>ex</span> <span class='assign token'>=</span> <span class='Rye constant id'>Rye</span><span class='colon2 op'>::</span><span class='CommandNotFound constant id'>CommandNotFound</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='cmd identifier id'>cmd</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
      <span class='raise identifier id'>raise</span> <span class='ex identifier id'>ex</span> <span class='unless unless_mod kw'>unless</span> <span class='@rye_exception_hook ivar id'>@rye_exception_hook</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span> <span class='ex identifier id'>ex</span><span class='dot token'>.</span><span class='class identifier id'>class</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-3D-3D-instance_method">#==</span><span class='args'>(other)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Compares itself with the <tt>other</tt> box.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-5B-5D-instance_method">#[]</span><span class='args'>(fpath = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Change the current working directory (sort of).
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#add_keys-instance_method">#add_keys</span><span class='args'>(*additional_keys)</span>
        <span class='block'></span>
        
          <span class='alias'>#add_key</span>
        
      </th>
      <td class="docstring">
        <p>
Add one or more private keys to the SSH Agent.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#authorize_keys_local-instance_method">#authorize_keys_local</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Authorize the current user to login to the local machine via SSH without a
password.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#authorize_keys_remote-instance_method">#authorize_keys_remote</span><span class='args'>(other_user = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Copy the local public keys (as specified by Rye.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#batch-instance_method">#batch</span><span class='args'>(*args, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Execute a block in the context of an instance of Rye::Box.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#cd-instance_method">#cd</span><span class='args'>(fpath = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Like [] except it returns an empty Rye::Rap object to mimick a regular
command method.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#connect-instance_method">#connect</span><span class='args'>(reconnect = true)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Open an SSH session with <tt>@rye_host</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#current_umask-instance_method">#current_umask</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
The most recent valud for umask (or 0022).
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#current_working_directory-instance_method">#current_working_directory</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
The most recent value from Box.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#disable_quiet_mode-instance_method">#disable_quiet_mode</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#disable_safe_mode-instance_method">#disable_safe_mode</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#disconnect-instance_method">#disconnect</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Close the SSH session with <tt>@rye_host</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#enable_quiet_mode-instance_method">#enable_quiet_mode</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#enable_safe_mode-instance_method">#enable_safe_mode</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#exception_hook-instance_method">#exception_hook</span><span class='args'>(klass, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Supply a block to be called whenever there&#8217;s an Exception.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#exception_hook-3D-instance_method">#exception_hook=</span><span class='args'>(val)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
A Hash.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#getenv-instance_method">#getenv</span><span class='args'>(key = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the hash containing the parsed output of &quot;env&quot; on the
remote machine.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#guess_user_home-instance_method">#guess_user_home</span><span class='args'>(other_user = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Uses the output of &quot;useradd -D&quot; to determine the default home
directory.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#host-instance_method">#host</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#host-3D-instance_method">#host=</span><span class='args'>(val)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#host_key-instance_method">#host_key</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the host SSH keys for this box.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#inspect-instance_method">#inspect</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#interactive_ssh-instance_method">#interactive_ssh</span><span class='args'>(run = true)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Open an interactive SSH session.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#keys-instance_method">#keys</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
See Rye.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#nickname-instance_method">#nickname</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#nickname-3D-instance_method">#nickname=</span><span class='args'>(val)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#opts-instance_method">#opts</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#opts-3D-instance_method">#opts=</span><span class='args'>(val)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#ostype-instance_method">#ostype</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Return the value of uname in lowercase This is a temporary fix.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#post_command_hook-instance_method">#post_command_hook</span><span class='args'>(&amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Supply a block to be called after every command.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#post_command_hook-3D-instance_method">#post_command_hook=</span><span class='args'>(val)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#pre_command_hook-instance_method">#pre_command_hook</span><span class='args'>(&amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Supply a block to be called before every command.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#pre_command_hook-3D-instance_method">#pre_command_hook=</span><span class='args'>(val)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#preview_command-instance_method">#preview_command</span><span class='args'>(*args)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the command an arguments as a String.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#quiet-instance_method">#quiet</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#quietly-instance_method">#quietly</span><span class='args'>(*args, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Like batch, except it enables quiet mode before executing the block.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#safe-instance_method">#safe</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#safe-3F-instance_method">#safe?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#safely-instance_method">#safely</span><span class='args'>(*args, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
See unsafely (except in reverse).
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#setenv-instance_method">#setenv</span><span class='args'>(n, v)</span>
        <span class='block'></span>
        
          <span class='alias'>#add_env</span>
        
      </th>
      <td class="docstring">
        <p>
Add an environment variable.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#stash-instance_method">#stash</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the current value of the stash <tt>@rye_stash</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#stash-3D-instance_method">#stash=</span><span class='args'>(val)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Store a value to the stash <tt>@rye_stash</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#switch_user-instance_method">#switch_user</span><span class='args'>(newuser)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Reconnect as another user.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_s-instance_method">#to_s</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns <tt>user@rye_host</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#umask-3D-instance_method">#umask=</span><span class='args'>(val = '0022')</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Change the current umask (sort of &#8212; works the same way as cd) The
default umask is 0022.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#unsafely-instance_method">#unsafely</span><span class='args'>(*args, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Like batch, except it disables safe mode before executing the block.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#user-instance_method">#user</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table><div class="included">
  
  <div>
    <h2>Public Instance Methods Included from <a href="Cmd.html" title="Rye::Cmd">Rye::Cmd</a></h2>
    <p><span class='name'><a href="Cmd.html#awk-instance_method" title="awk">awk</a></span>, <span class='name'><a href="Cmd.html#bash-instance_method" title="bash">bash</a></span>, <span class='name'><a href="Cmd.html#bunzip2-instance_method" title="bunzip2">bunzip2</a></span>, <span class='name'><a href="Cmd.html#bzip2-instance_method" title="bzip2">bzip2</a></span>, <span class='name'><a href="Cmd.html#can-instance_method" title="can">can</a></span>, <span class='name'><a href="Cmd.html#can%3F-instance_method" title="can?">can?</a></span>, <span class='name'><a href="Cmd.html#cat-instance_method" title="cat">cat</a></span>, <span class='name'><a href="Cmd.html#chmod-instance_method" title="chmod">chmod</a></span>, <span class='name'><a href="Cmd.html#chown-instance_method" title="chown">chown</a></span>, <span class='name'><a href="Cmd.html#configure-instance_method" title="configure">configure</a></span>, <span class='name'><a href="Cmd.html#cp-instance_method" title="cp">cp</a></span>, <span class='name'><a href="Cmd.html#cvs-instance_method" title="cvs">cvs</a></span>, <span class='name'><a href="Cmd.html#date-instance_method" title="date">date</a></span>, <span class='name'><a href="Cmd.html#df-instance_method" title="df">df</a></span>, <span class='name'><a href="Cmd.html#digest_md5-instance_method" title="digest_md5">digest_md5</a></span>, <span class='name'><a href="Cmd.html#digest_sha1-instance_method" title="digest_sha1">digest_sha1</a></span>, <span class='name'><a href="Cmd.html#digest_sha2-instance_method" title="digest_sha2">digest_sha2</a></span>, <span class='name'><a href="Cmd.html#du-instance_method" title="du">du</a></span>, <span class='name'><a href="Cmd.html#echo-instance_method" title="echo">echo</a></span>, <span class='name'><a href="Cmd.html#env-instance_method" title="env">env</a></span>, <span class='name'><a href="Cmd.html#file_append-instance_method" title="file_append">file_append</a></span>, <span class='name'><a href="Cmd.html#file_download-instance_method" title="file_download">file_download</a></span>, <span class='name'><a href="Cmd.html#file_exists%3F-instance_method" title="file_exists?">file_exists?</a></span>, <span class='name'><a href="Cmd.html#file_upload-instance_method" title="file_upload">file_upload</a></span>, <span class='name'><a href="Cmd.html#file_verified%3F-instance_method" title="file_verified?">file_verified?</a></span>, <span class='name'><a href="Cmd.html#getconf-instance_method" title="getconf">getconf</a></span>, <span class='name'><a href="Cmd.html#git-instance_method" title="git">git</a></span>, <span class='name'><a href="Cmd.html#grep-instance_method" title="grep">grep</a></span>, <span class='name'><a href="Cmd.html#gunzip-instance_method" title="gunzip">gunzip</a></span>, <span class='name'><a href="Cmd.html#gzip-instance_method" title="gzip">gzip</a></span>, <span class='name'><a href="Cmd.html#history-instance_method" title="history">history</a></span>, <span class='name'><a href="Cmd.html#hostname-instance_method" title="hostname">hostname</a></span>, <span class='name'><a href="Cmd.html#ls-instance_method" title="ls">ls</a></span>, <span class='name'><a href="Cmd.html#make-instance_method" title="make">make</a></span>, <span class='name'><a href="Cmd.html#mkdir-instance_method" title="mkdir">mkdir</a></span>, <span class='name'><a href="Cmd.html#mkfs-instance_method" title="mkfs">mkfs</a></span>, <span class='name'><a href="Cmd.html#mount-instance_method" title="mount">mount</a></span>, <span class='name'><a href="Cmd.html#mv-instance_method" title="mv">mv</a></span>, <span class='name'><a href="Cmd.html#perl-instance_method" title="perl">perl</a></span>, <span class='name'><a href="Cmd.html#printenv-instance_method" title="printenv">printenv</a></span>, <span class='name'><a href="Cmd.html#ps-instance_method" title="ps">ps</a></span>, <span class='name'><a href="Cmd.html#pwd-instance_method" title="pwd">pwd</a></span>, <span class='name'><a href="Cmd.html#python-instance_method" title="python">python</a></span>, <span class='name'><a href="Cmd.html#ruby-instance_method" title="ruby">ruby</a></span>, <span class='name'><a href="Cmd.html#rudy-instance_method" title="rudy">rudy</a></span>, <span class='name'><a href="Cmd.html#rudy_ec2-instance_method" title="rudy_ec2">rudy_ec2</a></span>, <span class='name'><a href="Cmd.html#rudy_edb-instance_method" title="rudy_edb">rudy_edb</a></span>, <span class='name'><a href="Cmd.html#rudy_s3-instance_method" title="rudy_s3">rudy_s3</a></span>, <span class='name'><a href="Cmd.html#rye-instance_method" title="rye">rye</a></span>, <span class='name'><a href="Cmd.html#sed-instance_method" title="sed">sed</a></span>, <span class='name'><a href="Cmd.html#sh-instance_method" title="sh">sh</a></span>, <span class='name'><a href="Cmd.html#sleep-instance_method" title="sleep">sleep</a></span>, <span class='name'><a href="Cmd.html#string_download-instance_method" title="string_download">string_download</a></span>, <span class='name'><a href="Cmd.html#string_upload-instance_method" title="string_upload">string_upload</a></span>, <span class='name'><a href="Cmd.html#sudo-instance_method" title="sudo">sudo</a></span>, <span class='name'><a href="Cmd.html#svn-instance_method" title="svn">svn</a></span>, <span class='name'><a href="Cmd.html#tar-instance_method" title="tar">tar</a></span>, <span class='name'><a href="Cmd.html#test-instance_method" title="test">test</a></span>, <span class='name'><a href="Cmd.html#touch-instance_method" title="touch">touch</a></span>, <span class='name'><a href="Cmd.html#umount-instance_method" title="umount">umount</a></span>, <span class='name'><a href="Cmd.html#uname-instance_method" title="uname">uname</a></span>, <span class='name'><a href="Cmd.html#unzip-instance_method" title="unzip">unzip</a></span>, <span class='name'><a href="Cmd.html#uptime-instance_method" title="uptime">uptime</a></span>, <span class='name'><a href="Cmd.html#useradd-instance_method" title="useradd">useradd</a></span>, <span class='name'><a href="Cmd.html#wc-instance_method" title="wc">wc</a></span>, <span class='name'><a href="Cmd.html#which-instance_method" title="which">which</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>==</h3>
</div><div id="-3D-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>==</span><span class='args'>(other)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Compares itself with the <tt>other</tt> box. If the hostnames are the same,
this will return true. Otherwise false.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 297</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L297">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">297
298
299</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='eq op'>==</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
  <span class='@rye_host ivar id'>@rye_host</span> <span class='eq op'>==</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='host identifier id'>host</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>[]</h3>
</div><div id="-5B-5D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>[]</span><span class='args'>(fpath = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Change the current working directory (sort of).
</p>
<p>
I haven&#8217;t been able to wrangle Net::SSH to do my bidding. &quot;My
bidding&quot; in this case, is maintaining an open channel between
commands. I&#8217;m using Net::SSH::Connection::Session#exec for all
commands which is like a funky helper method that opens a new channel each
time it&#8217;s called. This seems to be okay for one-off commands but
changing the directory only works for the channel it&#8217;s executed in.
The next time exec is called, there&#8217;s a new channel which is back in
the default (home) directory.
</p>
<p>
Long story short, the work around is to maintain the current directory
locally and send it with each command.
</p>
<pre class="code">
    <span class='rbox identifier id'>rbox</span><span class='dot token'>.</span><span class='pwd identifier id'>pwd</span>              <span class='comment val'># =&gt; /home/rye ($ pwd )</span>
    <span class='rbox identifier id'>rbox</span><span class='lbrack token'>[</span><span class='string val'>'/usr/bin'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='pwd identifier id'>pwd</span>  <span class='comment val'># =&gt; /usr/bin  ($ cd /usr/bin &amp;&amp; pwd)</span>
    <span class='rbox identifier id'>rbox</span><span class='dot token'>.</span><span class='pwd identifier id'>pwd</span>              <span class='comment val'># =&gt; /usr/bin  ($ cd /usr/bin &amp;&amp; pwd)</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 159</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L159">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">159
160
161
162
163
164
165
166
167
168
169
170
171
172
173</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span><span class='fpath identifier id'>fpath</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='fpath identifier id'>fpath</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span> <span class='orop op'>||</span> <span class='fpath identifier id'>fpath</span><span class='dot token'>.</span><span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='string val'>'/'</span><span class='rparen token'>)</span> <span class='eq op'>==</span> <span class='integer val'>0</span>
    <span class='@rye_current_working_directory ivar id'>@rye_current_working_directory</span> <span class='assign token'>=</span> <span class='fpath identifier id'>fpath</span>
  <span class='else else kw'>else</span>
    <span class='comment val'># Append to non-absolute paths</span>
    <span class='if if kw'>if</span> <span class='@rye_current_working_directory ivar id'>@rye_current_working_directory</span>
      <span class='newpath identifier id'>newpath</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='@rye_current_working_directory ivar id'>@rye_current_working_directory</span><span class='comma token'>,</span> <span class='fpath identifier id'>fpath</span><span class='rparen token'>)</span>
      <span class='@rye_current_working_directory ivar id'>@rye_current_working_directory</span> <span class='assign token'>=</span> <span class='newpath identifier id'>newpath</span>
    <span class='else else kw'>else</span>
      <span class='@rye_current_working_directory ivar id'>@rye_current_working_directory</span> <span class='assign token'>=</span> <span class='fpath identifier id'>fpath</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='info identifier id'>info</span> <span class='dstring node'>&quot;CWD: #{@rye_current_working_directory}&quot;</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>add_keys</h3>
</div><div id="add_keys-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>add_keys</span><span class='args'>(*additional_keys)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="add_key-instance_method">add_key</tt>
  
</p>
</div><div class="section docstring">
  <p>
Add one or more private keys to the SSH Agent.
</p>
<ul>
<li><tt>additional_keys</tt> is a list of file paths to private keys

</li>
</ul>
<p>
Returns the instance of Box
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 222</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L222">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">222
223
224
225
226
227
228
229
230
231
232</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='add_keys identifier id'>add_keys</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='additional_keys identifier id'>additional_keys</span><span class='rparen token'>)</span>
  <span class='additional_keys identifier id'>additional_keys</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='additional_keys identifier id'>additional_keys</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='dot token'>.</span><span class='compact identifier id'>compact</span> <span class='orop op'>||</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='return return kw'>return</span> <span class='if if_mod kw'>if</span> <span class='additional_keys identifier id'>additional_keys</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
  <span class='ret identifier id'>ret</span> <span class='assign token'>=</span> <span class='Rye constant id'>Rye</span><span class='dot token'>.</span><span class='add_keys identifier id'>add_keys</span><span class='lparen token'>(</span><span class='additional_keys identifier id'>additional_keys</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='ret identifier id'>ret</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Rye constant id'>Rye</span><span class='colon2 op'>::</span><span class='Rap constant id'>Rap</span><span class='rparen token'>)</span>
    <span class='debug identifier id'>debug</span> <span class='dstring node'>&quot;ssh-add exit_code: #{ret.exit_code}&quot;</span> 
    <span class='debug identifier id'>debug</span> <span class='dstring node'>&quot;ssh-add stdout: #{ret.stdout}&quot;</span>
    <span class='debug identifier id'>debug</span> <span class='dstring node'>&quot;ssh-add stderr: #{ret.stderr}&quot;</span>
  <span class='end end kw'>end</span>
  <span class='self self kw'>self</span> <span class='comment val'># MUST RETURN self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>authorize_keys_local</h3>
</div><div id="authorize_keys_local-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>authorize_keys_local</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Authorize the current user to login to the local machine via SSH without a
password. This is the same functionality as authorize_keys_remote except
run with local shell commands.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 416</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L416">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">416
417
418
419
420
421
422
423
424
425
426
427
428
429</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='authorize_keys_local identifier id'>authorize_keys_local</span>
  <span class='added_keys identifier id'>added_keys</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='Rye constant id'>Rye</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='bitor op'>|</span>
    <span class='path identifier id'>path</span> <span class='assign token'>=</span> <span class='key identifier id'>key</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span>
    <span class='debug identifier id'>debug</span> <span class='dstring node'>&quot;# Public key for #{path}&quot;</span>
    <span class='k identifier id'>k</span> <span class='assign token'>=</span> <span class='Rye constant id'>Rye</span><span class='colon2 op'>::</span><span class='Key constant id'>Key</span><span class='dot token'>.</span><span class='from_file identifier id'>from_file</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='public_key identifier id'>public_key</span><span class='dot token'>.</span><span class='to_ssh2 identifier id'>to_ssh2</span>
    <span class='Rye constant id'>Rye</span><span class='dot token'>.</span><span class='shell identifier id'>shell</span><span class='lparen token'>(</span><span class='symbol val'>:mkdir</span><span class='comma token'>,</span> <span class='symbol val'>:p</span><span class='comma token'>,</span> <span class='symbol val'>:m</span><span class='comma token'>,</span> <span class='string val'>'700'</span><span class='comma token'>,</span> <span class='string val'>'$HOME/.ssh'</span><span class='rparen token'>)</span> <span class='comment val'># Silently create dir if it doesn't exist</span>
    <span class='Rye constant id'>Rye</span><span class='dot token'>.</span><span class='shell identifier id'>shell</span><span class='lparen token'>(</span><span class='symbol val'>:echo</span><span class='comma token'>,</span> <span class='dstring node'>&quot;'#{k}' &gt;&gt; $HOME/.ssh/authorized_keys&quot;</span><span class='rparen token'>)</span>
    <span class='Rye constant id'>Rye</span><span class='dot token'>.</span><span class='shell identifier id'>shell</span><span class='lparen token'>(</span><span class='symbol val'>:echo</span><span class='comma token'>,</span> <span class='dstring node'>&quot;'#{k}' &gt;&gt; $HOME/.ssh/authorized_keys2&quot;</span><span class='rparen token'>)</span>
    <span class='Rye constant id'>Rye</span><span class='dot token'>.</span><span class='shell identifier id'>shell</span><span class='lparen token'>(</span><span class='symbol val'>:chmod</span><span class='comma token'>,</span> <span class='string val'>'-R'</span><span class='comma token'>,</span> <span class='string val'>'0600'</span><span class='comma token'>,</span> <span class='string val'>'$HOME/.ssh/authorized_keys*'</span><span class='rparen token'>)</span>
    <span class='added_keys identifier id'>added_keys</span> <span class='lshft op'>&lt;&lt;</span> <span class='path identifier id'>path</span>
  <span class='end end kw'>end</span>
  <span class='added_keys identifier id'>added_keys</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>authorize_keys_remote</h3>
</div><div id="authorize_keys_remote-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>authorize_keys_remote</span><span class='args'>(other_user = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Copy the local public keys (as specified by Rye.keys) to this box into
~/.ssh/authorized_keys and ~/.ssh/authorized_keys2. Returns a Rye::Rap
object. The private keys files used to generate the public keys are
contained in stdout. Raises a Rye::ComandError if the home directory
doesn&#8217;t exit. NOTE: authorize_keys_remote disables safe-mode for this
box while it runs which will hit you funky style if your using a single
instance of Rye::Box in a multithreaded situation.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 357</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L357">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='authorize_keys_remote identifier id'>authorize_keys_remote</span><span class='lparen token'>(</span><span class='other_user identifier id'>other_user</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='this_user identifier id'>this_user</span> <span class='assign token'>=</span> <span class='other_user identifier id'>other_user</span> <span class='orop op'>||</span> <span class='opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:user</span><span class='rbrack token'>]</span>
  <span class='added_keys identifier id'>added_keys</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='rap identifier id'>rap</span> <span class='assign token'>=</span> <span class='Rye constant id'>Rye</span><span class='colon2 op'>::</span><span class='Rap constant id'>Rap</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
  
  <span class='prevdir identifier id'>prevdir</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='current_working_directory identifier id'>current_working_directory</span>
  
  <span class='comment val'># The homedir path is important b/c this is where we're going to </span>
  <span class='comment val'># look for the .ssh directory. That's where auth love is stored.</span>
  <span class='homedir identifier id'>homedir</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='guess_user_home identifier id'>guess_user_home</span><span class='lparen token'>(</span><span class='this_user identifier id'>this_user</span><span class='rparen token'>)</span>
  
  <span class='unless unless kw'>unless</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='file_exists? fid id'>file_exists?</span><span class='lparen token'>(</span><span class='homedir identifier id'>homedir</span><span class='rparen token'>)</span>
    <span class='rap identifier id'>rap</span><span class='dot token'>.</span><span class='add_exit_code identifier id'>add_exit_code</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span>
    <span class='rap identifier id'>rap</span><span class='dot token'>.</span><span class='add_stderr identifier id'>add_stderr</span><span class='lparen token'>(</span><span class='dstring node'>&quot;Path does not exist: #{homedir}&quot;</span><span class='rparen token'>)</span>
    <span class='raise identifier id'>raise</span> <span class='Rye constant id'>Rye</span><span class='colon2 op'>::</span><span class='CommandError constant id'>CommandError</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='rap identifier id'>rap</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  
  <span class='comment val'># Let's go into the user's home directory that we now know exists.</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='cd identifier id'>cd</span> <span class='homedir identifier id'>homedir</span>
  
  <span class='files identifier id'>files</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='string val'>'.ssh/authorized_keys'</span><span class='comma token'>,</span> <span class='string val'>'.ssh/authorized_keys2'</span><span class='rbrack token'>]</span>
  <span class='files identifier id'>files</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='akey_path identifier id'>akey_path</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='file_exists? fid id'>file_exists?</span><span class='lparen token'>(</span><span class='akey_path identifier id'>akey_path</span><span class='rparen token'>)</span>
      <span class='comment val'># TODO: Make Rye::Cmd.incremental_backup</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='cp identifier id'>cp</span><span class='lparen token'>(</span><span class='akey_path identifier id'>akey_path</span><span class='comma token'>,</span> <span class='dstring node'>&quot;#{akey_path}-previous&quot;</span><span class='rparen token'>)</span>
      <span class='authorized_keys identifier id'>authorized_keys</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='file_download identifier id'>file_download</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{homedir}/#{akey_path}&quot;</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='authorized_keys identifier id'>authorized_keys</span> <span class='opasgn op'>||=</span> <span class='StringIO constant id'>StringIO</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
    
    <span class='Rye constant id'>Rye</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='bitor op'>|</span>
      <span class='path identifier id'>path</span> <span class='assign token'>=</span> <span class='key identifier id'>key</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span>
      <span class='info identifier id'>info</span> <span class='dstring node'>&quot;# Adding public key for #{path}&quot;</span>
      <span class='k identifier id'>k</span> <span class='assign token'>=</span> <span class='Rye constant id'>Rye</span><span class='colon2 op'>::</span><span class='Key constant id'>Key</span><span class='dot token'>.</span><span class='from_file identifier id'>from_file</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='public_key identifier id'>public_key</span><span class='dot token'>.</span><span class='to_ssh2 identifier id'>to_ssh2</span>
      <span class='authorized_keys identifier id'>authorized_keys</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span> <span class='k identifier id'>k</span>
    <span class='end end kw'>end</span>
    
    <span class='comment val'># Remove duplicate authorized keys</span>
    <span class='authorized_keys identifier id'>authorized_keys</span><span class='dot token'>.</span><span class='rewind identifier id'>rewind</span>
    <span class='uniqlines identifier id'>uniqlines</span> <span class='assign token'>=</span> <span class='authorized_keys identifier id'>authorized_keys</span><span class='dot token'>.</span><span class='readlines identifier id'>readlines</span><span class='dot token'>.</span><span class='uniq identifier id'>uniq</span><span class='dot token'>.</span><span class='join identifier id'>join</span>
    <span class='authorized_keys identifier id'>authorized_keys</span> <span class='assign token'>=</span> <span class='StringIO constant id'>StringIO</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='uniqlines identifier id'>uniqlines</span><span class='rparen token'>)</span>
    <span class='comment val'># We need to rewind so that all of the StringIO object is uploaded</span>
    <span class='authorized_keys identifier id'>authorized_keys</span><span class='dot token'>.</span><span class='rewind identifier id'>rewind</span>
    
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='mkdir identifier id'>mkdir</span><span class='lparen token'>(</span><span class='symbol val'>:p</span><span class='comma token'>,</span> <span class='symbol val'>:m</span><span class='comma token'>,</span> <span class='string val'>'700'</span><span class='comma token'>,</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='dirname identifier id'>dirname</span><span class='lparen token'>(</span><span class='akey_path identifier id'>akey_path</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='file_upload identifier id'>file_upload</span><span class='lparen token'>(</span><span class='authorized_keys identifier id'>authorized_keys</span><span class='comma token'>,</span> <span class='dstring node'>&quot;#{homedir}/#{akey_path}&quot;</span><span class='rparen token'>)</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='chmod identifier id'>chmod</span><span class='lparen token'>(</span><span class='string val'>'0600'</span><span class='comma token'>,</span> <span class='akey_path identifier id'>akey_path</span><span class='rparen token'>)</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='chown identifier id'>chown</span><span class='lparen token'>(</span><span class='symbol val'>:R</span><span class='comma token'>,</span> <span class='this_user identifier id'>this_user</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='comma token'>,</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='dirname identifier id'>dirname</span><span class='lparen token'>(</span><span class='akey_path identifier id'>akey_path</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  
  <span class='comment val'># And let's return to the directory we came from.</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='cd identifier id'>cd</span> <span class='prevdir identifier id'>prevdir</span>
  
  <span class='rap identifier id'>rap</span><span class='dot token'>.</span><span class='add_exit_code identifier id'>add_exit_code</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span>
  <span class='rap identifier id'>rap</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>batch</h3>
</div><div id="batch-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>batch</span><span class='args'>(*args, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Execute a block in the context of an instance of Rye::Box.
</p>
<pre class="code">
    <span class='rbox identifier id'>rbox</span> <span class='assign token'>=</span> <span class='Rye constant id'>Rye</span><span class='colon2 op'>::</span><span class='Box constant id'>Box</span><span class='dot token'>.</span><span class='new identifier id'>new</span>

    <span class='rbox identifier id'>rbox</span><span class='dot token'>.</span><span class='batch identifier id'>batch</span> <span class='do do kw'>do</span>
      <span class='ls identifier id'>ls</span> <span class='symbol val'>:l</span>
      <span class='uname identifier id'>uname</span> <span class='symbol val'>:a</span>
    <span class='end end kw'>end</span>
</pre>
<p>
OR
</p>
<pre class="code">
    <span class='rbox identifier id'>rbox</span><span class='dot token'>.</span><span class='batch identifier id'>batch</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
</pre>
<p>
The batch can also accept arguments.
</p>
<pre class="code">
    <span class='rbox identifier id'>rbox</span><span class='dot token'>.</span><span class='batch identifier id'>batch</span><span class='lparen token'>(</span><span class='string val'>'path/2/file'</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='file identifier id'>file</span><span class='bitor op'>|</span>
      <span class='ls identifier id'>ls</span> <span class='symbol val'>:l</span> <span class='file identifier id'>file</span>
    <span class='end end kw'>end</span>
</pre>
<p>
Returns the return value of the block.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 506</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L506">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">506
507
508</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='batch identifier id'>batch</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance_exec identifier id'>instance_exec</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>cd</h3>
</div><div id="cd-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>cd</span><span class='args'>(fpath = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Like [] except it returns an empty Rye::Rap object to mimick a regular
command method. Call with nil key (or no arg) to reset.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 177</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L177">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">177
178
179</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='cd identifier id'>cd</span><span class='lparen token'>(</span><span class='fpath identifier id'>fpath</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='Rye constant id'>Rye</span><span class='colon2 op'>::</span><span class='Rap constant id'>Rap</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='fpath identifier id'>fpath</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>connect</h3>
</div><div id="connect-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>connect</span><span class='args'>(reconnect = true)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Open an SSH session with <tt>@rye_host</tt>. This called automatically when you
the first comamnd is run if it&#8217;s not already connected. Raises a
Rye::NoHost exception if <tt>@rye_host</tt> is not specified. Will attempt a
password login up to 3 times if the initial authentication fails.
</p>
<ul>
<li><tt>reconnect</tt> Disconnect first if already connected. The default

</li>
</ul>
<p>
is true. When set to false, connect will do nothing if already connected.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="NoHost.html" title="Rye::NoHost">Rye::NoHost</a></tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 586</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L586">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='connect identifier id'>connect</span><span class='lparen token'>(</span><span class='reconnect identifier id'>reconnect</span><span class='assign token'>=</span><span class='true true kw'>true</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='Rye constant id'>Rye</span><span class='colon2 op'>::</span><span class='NoHost constant id'>NoHost</span> <span class='unless unless_mod kw'>unless</span> <span class='@rye_host ivar id'>@rye_host</span>
  <span class='return return kw'>return</span> <span class='if if_mod kw'>if</span> <span class='@rye_ssh ivar id'>@rye_ssh</span> <span class='andop op'>&amp;&amp;</span> <span class='notop op'>!</span><span class='reconnect identifier id'>reconnect</span>
  <span class='disconnect identifier id'>disconnect</span> <span class='if if_mod kw'>if</span> <span class='@rye_ssh ivar id'>@rye_ssh</span> 
  <span class='debug identifier id'>debug</span> <span class='dstring node'>&quot;Opening connection to #{@rye_host} as #{@rye_opts[:user]}&quot;</span>
  <span class='highline identifier id'>highline</span> <span class='assign token'>=</span> <span class='HighLine constant id'>HighLine</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='comment val'># Used for password prompt</span>
  <span class='retried identifier id'>retried</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  
  <span class='begin begin kw'>begin</span>
    <span class='@rye_ssh ivar id'>@rye_ssh</span> <span class='assign token'>=</span> <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='SSH constant id'>SSH</span><span class='dot token'>.</span><span class='start identifier id'>start</span><span class='lparen token'>(</span><span class='@rye_host ivar id'>@rye_host</span><span class='comma token'>,</span> <span class='@rye_opts ivar id'>@rye_opts</span><span class='lbrack token'>[</span><span class='symbol val'>:user</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='@rye_opts ivar id'>@rye_opts</span> <span class='orop op'>||</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span> 
  <span class='rescue rescue kw'>rescue</span> <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='SSH constant id'>SSH</span><span class='colon2 op'>::</span><span class='HostKeyMismatch constant id'>HostKeyMismatch</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='ex identifier id'>ex</span>
    <span class='STDERR constant id'>STDERR</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span> <span class='ex identifier id'>ex</span><span class='dot token'>.</span><span class='message identifier id'>message</span>
    <span class='print identifier id'>print</span> <span class='string val'>&quot;\a&quot;</span> <span class='if if_mod kw'>if</span> <span class='@rye_info ivar id'>@rye_info</span> <span class='comment val'># Ring the bell</span>
    <span class='if if kw'>if</span> <span class='highline identifier id'>highline</span><span class='dot token'>.</span><span class='ask identifier id'>ask</span><span class='lparen token'>(</span><span class='string val'>&quot;Continue? &quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='regexp val'>/\Ay|yes|sure|ya\z/i</span><span class='rparen token'>)</span>
      <span class='@rye_opts ivar id'>@rye_opts</span><span class='lbrack token'>[</span><span class='symbol val'>:paranoid</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
      <span class='retry retry kw'>retry</span>
    <span class='else else kw'>else</span>
      <span class='raise identifier id'>raise</span> <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='SSH constant id'>SSH</span><span class='colon2 op'>::</span><span class='HostKeyMismatch constant id'>HostKeyMismatch</span>
    <span class='end end kw'>end</span>
  <span class='rescue rescue kw'>rescue</span> <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='SSH constant id'>SSH</span><span class='colon2 op'>::</span><span class='AuthenticationFailed constant id'>AuthenticationFailed</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='ex identifier id'>ex</span>
    <span class='print identifier id'>print</span> <span class='string val'>&quot;\a&quot;</span> <span class='if if_mod kw'>if</span> <span class='retried identifier id'>retried</span> <span class='eq op'>==</span> <span class='integer val'>0</span> <span class='andop op'>&amp;&amp;</span> <span class='@rye_info ivar id'>@rye_info</span> <span class='comment val'># Ring the bell once</span>
    <span class='retried identifier id'>retried</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
    <span class='if if kw'>if</span> <span class='STDIN constant id'>STDIN</span><span class='dot token'>.</span><span class='tty? fid id'>tty?</span> <span class='andop op'>&amp;&amp;</span> <span class='retried identifier id'>retried</span> <span class='leq op'>&lt;=</span> <span class='integer val'>3</span>
      <span class='STDERR constant id'>STDERR</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;Passwordless login failed for #{@rye_opts[:user]}&quot;</span>
      <span class='@rye_opts ivar id'>@rye_opts</span><span class='lbrack token'>[</span><span class='symbol val'>:password</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='highline identifier id'>highline</span><span class='dot token'>.</span><span class='ask identifier id'>ask</span><span class='lparen token'>(</span><span class='string val'>&quot;Password: &quot;</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='q identifier id'>q</span><span class='bitor op'>|</span> <span class='q identifier id'>q</span><span class='dot token'>.</span><span class='echo identifier id'>echo</span> <span class='assign token'>=</span> <span class='string val'>''</span> <span class='rbrace token'>}</span>
      <span class='@rye_opts ivar id'>@rye_opts</span><span class='lbrack token'>[</span><span class='symbol val'>:auth_methods</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
      <span class='@rye_opts ivar id'>@rye_opts</span><span class='lbrack token'>[</span><span class='symbol val'>:auth_methods</span><span class='rbrack token'>]</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>'password'</span>
      <span class='retry retry kw'>retry</span>
    <span class='else else kw'>else</span>
      <span class='raise identifier id'>raise</span> <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='SSH constant id'>SSH</span><span class='colon2 op'>::</span><span class='AuthenticationFailed constant id'>AuthenticationFailed</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  
  <span class='comment val'># We add :auth_methods (a Net::SSH joint) to force asking for a</span>
  <span class='comment val'># password if the initial (key-based) authentication fails. We</span>
  <span class='comment val'># need to delete the key from @rye_opts otherwise it lingers until</span>
  <span class='comment val'># the next connection (if we switch_user is called for example).</span>
  <span class='@rye_opts ivar id'>@rye_opts</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span> <span class='symbol val'>:auth_methods</span> <span class='if if_mod kw'>if</span> <span class='@rye_opts ivar id'>@rye_opts</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='symbol val'>:auth_methods</span><span class='rparen token'>)</span>
  
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>current_umask</h3>
</div><div id="current_umask-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>current_umask</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
The most recent valud for umask (or 0022)
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 60</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L60">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">60</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='current_umask identifier id'>current_umask</span><span class='semicolon token'>;</span> <span class='@rye_current_umask ivar id'>@rye_current_umask</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>current_working_directory</h3>
</div><div id="current_working_directory-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>current_working_directory</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
The most recent value from Box.cd or Box.[]
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 57</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L57">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">57</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='current_working_directory identifier id'>current_working_directory</span><span class='semicolon token'>;</span> <span class='@rye_current_working_directory ivar id'>@rye_current_working_directory</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>disable_quiet_mode</h3>
</div><div id="disable_quiet_mode-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>disable_quiet_mode</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 54</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L54">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">54</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='disable_quiet_mode identifier id'>disable_quiet_mode</span><span class='semicolon token'>;</span> <span class='@rye_quiet ivar id'>@rye_quiet</span> <span class='assign token'>=</span> <span class='false false kw'>false</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>disable_safe_mode</h3>
</div><div id="disable_safe_mode-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>disable_safe_mode</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 50</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L50">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">50</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='disable_safe_mode identifier id'>disable_safe_mode</span><span class='semicolon token'>;</span> <span class='@rye_safe ivar id'>@rye_safe</span> <span class='assign token'>=</span> <span class='false false kw'>false</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>disconnect</h3>
</div><div id="disconnect-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>disconnect</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Close the SSH session with <tt>@rye_host</tt>. This is called automatically at
exit if the connection is open.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 630</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L630">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">630
631
632
633
634
635
636
637
638
639
640
641
642</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='disconnect identifier id'>disconnect</span>
  <span class='return return kw'>return</span> <span class='unless unless_mod kw'>unless</span> <span class='@rye_ssh ivar id'>@rye_ssh</span> <span class='andop op'>&amp;&amp;</span> <span class='notop op'>!</span><span class='@rye_ssh ivar id'>@rye_ssh</span><span class='dot token'>.</span><span class='closed? fid id'>closed?</span>
  <span class='begin begin kw'>begin</span>
    <span class='Timeout constant id'>Timeout</span><span class='colon2 op'>::</span><span class='timeout identifier id'>timeout</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='rparen token'>)</span> <span class='do do kw'>do</span>
      <span class='@rye_ssh ivar id'>@rye_ssh</span><span class='dot token'>.</span><span class='loop identifier id'>loop</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='integer val'>.3</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='@rye_ssh ivar id'>@rye_ssh</span><span class='dot token'>.</span><span class='busy? fid id'>busy?</span><span class='semicolon token'>;</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>
  <span class='rescue rescue kw'>rescue</span> <span class='Timeout constant id'>Timeout</span><span class='colon2 op'>::</span><span class='Error constant id'>Error</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='ex identifier id'>ex</span>
    <span class='error identifier id'>error</span> <span class='string val'>&quot;Disconnect timeout (was something still running?)&quot;</span>
  <span class='end end kw'>end</span>
  
  <span class='debug identifier id'>debug</span> <span class='dstring node'>&quot;Closing connection to #{@rye_ssh.host}&quot;</span>
  <span class='@rye_ssh ivar id'>@rye_ssh</span><span class='dot token'>.</span><span class='close identifier id'>close</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>enable_quiet_mode</h3>
</div><div id="enable_quiet_mode-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>enable_quiet_mode</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 53</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L53">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">53</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='enable_quiet_mode identifier id'>enable_quiet_mode</span><span class='semicolon token'>;</span>  <span class='@rye_quiet ivar id'>@rye_quiet</span> <span class='assign token'>=</span> <span class='true true kw'>true</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>enable_safe_mode</h3>
</div><div id="enable_safe_mode-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>enable_safe_mode</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 49</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L49">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">49</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='enable_safe_mode identifier id'>enable_safe_mode</span><span class='semicolon token'>;</span>  <span class='@rye_safe ivar id'>@rye_safe</span> <span class='assign token'>=</span> <span class='true true kw'>true</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>exception_hook</h3>
</div><div id="exception_hook-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>exception_hook</span><span class='args'>(klass, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Supply a block to be called whenever there&#8217;s an Exception. It&#8217;s
called with 1 argument: the exception class. If the exception block returns
:retry, the command will be executed again.
</p>
<p>
e.g.
</p>
<pre class="code">
    <span class='rbox identifier id'>rbox</span><span class='dot token'>.</span><span class='exception_hook identifier id'>exception_hook</span><span class='lparen token'>(</span><span class='CommandNotFound constant id'>CommandNotFound</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='ex identifier id'>ex</span><span class='bitor op'>|</span>
      <span class='STDERR constant id'>STDERR</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;An error occurred: #{ex.class}&quot;</span>
      <span class='choice identifier id'>choice</span> <span class='assign token'>=</span> <span class='Annoy constant id'>Annoy</span><span class='dot token'>.</span><span class='get_user_input identifier id'>get_user_input</span><span class='lparen token'>(</span><span class='string val'>'(S)kip  (R)etry  (A)bort: '</span><span class='rparen token'>)</span>
      <span class='if if kw'>if</span> <span class='choice identifier id'>choice</span> <span class='eq op'>==</span> <span class='string val'>'R'</span>
        <span class='symbol val'>:retry</span>
      <span class='elsif elsif kw'>elsif</span> <span class='choice identifier id'>choice</span> <span class='eq op'>==</span> <span class='string val'>'S'</span>
        <span class='comment val'># do nothing</span>
      <span class='else else kw'>else</span>
        <span class='exit identifier id'>exit</span>  <span class='comment val'># !</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 482</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L482">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">482
483
484
485</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='exception_hook identifier id'>exception_hook</span><span class='lparen token'>(</span><span class='klass identifier id'>klass</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='@rye_exception_hook ivar id'>@rye_exception_hook</span><span class='lbrack token'>[</span><span class='klass identifier id'>klass</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='block identifier id'>block</span> <span class='if if_mod kw'>if</span> <span class='block identifier id'>block</span>
  <span class='@rye_exception_hook ivar id'>@rye_exception_hook</span><span class='lbrack token'>[</span><span class='klass identifier id'>klass</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>exception_hook=</h3>
</div><div id="exception_hook-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>exception_hook=</span><span class='args'>(val)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
A Hash. The keys are exception classes, the values are Procs to execute
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 69</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L69">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">69</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='exception_hook= identifier id'>exception_hook=</span><span class='lparen token'>(</span><span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='@rye_exception_hook ivar id'>@rye_exception_hook</span> <span class='assign token'>=</span> <span class='val identifier id'>val</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>getenv</h3>
</div><div id="getenv-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>getenv</span><span class='args'>(key = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the hash containing the parsed output of &quot;env&quot; on the
remote machine. If the initialize option <tt>:getenv</tt> was set to false, this
will return an empty hash. This is a lazy loaded method so it fetches the
remote envvars the first time this method is called.
</p>
<pre class="code">
     <span class='puts identifier id'>puts</span> <span class='rbox identifier id'>rbox</span><span class='dot token'>.</span><span class='getenv identifier id'>getenv</span><span class='lbrack token'>[</span><span class='string val'>'HOME'</span><span class='rbrack token'>]</span>    <span class='comment val'># =&gt; &quot;/home/gloria&quot; (remote)</span>
</pre>
<p>
NOTE: This method should not raise an exception under normal circumstances.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 257</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L257">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">257
258
259
260
261
262
263
264
265
266
267
268</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='getenv identifier id'>getenv</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='@rye_getenv ivar id'>@rye_getenv</span> <span class='andop op'>&amp;&amp;</span> <span class='@rye_getenv ivar id'>@rye_getenv</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span> <span class='andop op'>&amp;&amp;</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='can? fid id'>can?</span><span class='lparen token'>(</span><span class='symbol val'>:env</span><span class='rparen token'>)</span>
    <span class='vars identifier id'>vars</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='quietly identifier id'>quietly</span> <span class='lbrace token'>{</span> <span class='env identifier id'>env</span> <span class='rbrace token'>}</span> <span class='rescue rescue kw'>rescue</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='vars identifier id'>vars</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='nvpair identifier id'>nvpair</span><span class='bitor op'>|</span> 
      <span class='comment val'># Parse &quot;GLORIA_HOME=/gloria/lives/here&quot; into a name/value</span>
      <span class='comment val'># pair. The regexp ensures we split only at the 1st = sign</span>
      <span class='n identifier id'>n</span><span class='comma token'>,</span> <span class='v identifier id'>v</span> <span class='assign token'>=</span> <span class='nvpair identifier id'>nvpair</span><span class='dot token'>.</span><span class='scan identifier id'>scan</span><span class='lparen token'>(</span><span class='regexp val'>/\A([\w_-]+?)=(.+)\z/</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span>
      <span class='@rye_getenv ivar id'>@rye_getenv</span><span class='lbrack token'>[</span><span class='n identifier id'>n</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='key identifier id'>key</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span> <span class='integer val'>? </span><span class='@rye_getenv ivar id'>@rye_getenv</span> <span class='colon op'>:</span> <span class='@rye_getenv ivar id'>@rye_getenv</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>guess_user_home</h3>
</div><div id="guess_user_home-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>guess_user_home</span><span class='args'>(other_user = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Uses the output of &quot;useradd -D&quot; to determine the default home
directory. This returns a GUESS rather than the a user&#8217;s real home
directory. Currently used only by authorize_keys_remote. Only useful before
you&#8217;ve logged in. Otherwise check $HOME
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 311</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L311">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='guess_user_home identifier id'>guess_user_home</span><span class='lparen token'>(</span><span class='other_user identifier id'>other_user</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='this_user identifier id'>this_user</span> <span class='assign token'>=</span> <span class='other_user identifier id'>other_user</span> <span class='orop op'>||</span> <span class='opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:user</span><span class='rbrack token'>]</span>
  <span class='@rye_guessed_homes ivar id'>@rye_guessed_homes</span> <span class='opasgn op'>||=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  
  <span class='comment val'># A simple cache. </span>
  <span class='return return kw'>return</span> <span class='@rye_guessed_homes ivar id'>@rye_guessed_homes</span><span class='lbrack token'>[</span><span class='this_user identifier id'>this_user</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='@rye_guessed_homes ivar id'>@rye_guessed_homes</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='this_user identifier id'>this_user</span><span class='rparen token'>)</span>
  
  <span class='comment val'># Some junk to determine where user home directories are by default.</span>
  <span class='comment val'># We're relying on the command &quot;useradd -D&quot; so this may not work on</span>
  <span class='comment val'># different Linuxen and definitely won't work on Windows.</span>
  <span class='comment val'># This code will be abstracted out once I find a decent home for it.</span>
  <span class='comment val'># /etc/default/useradd, HOME=/home OR useradd -D</span>
  <span class='comment val'># /etc/adduser.config, DHOME=/home OR ??</span>
  <span class='user_defaults identifier id'>user_defaults</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='raw identifier id'>raw</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='quietly identifier id'>quietly</span> <span class='lbrace token'>{</span> <span class='useradd identifier id'>useradd</span><span class='lparen token'>(</span><span class='symbol val'>:D</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span> <span class='rescue rescue kw'>rescue</span> <span class='lbrack token'>[</span><span class='string val'>&quot;HOME=/home&quot;</span><span class='rbrack token'>]</span>
  <span class='ostmp identifier id'>ostmp</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='ostype identifier id'>ostype</span>
  <span class='raw identifier id'>raw</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='nv identifier id'>nv</span><span class='bitor op'>|</span>

    <span class='if if kw'>if</span> <span class='ostmp identifier id'>ostmp</span> <span class='eq op'>==</span> <span class='string val'>&quot;sunos&quot;</span>
      <span class='comment val'>#nv.scan(/([\w_-]+?)=(.+?)\s/).each do |n, v|</span>
      <span class='comment val'>#  n = 'HOME' if n == 'basedir'</span>
      <span class='comment val'>#  user_defaults[n.upcase] = v.strip</span>
      <span class='comment val'>#end</span>
      <span class='comment val'># In Solaris, useradd -D says the default home path is /home</span>
      <span class='comment val'># but that directory is not writable. See: http://bit.ly/IJDD0</span>
      <span class='user_defaults identifier id'>user_defaults</span><span class='lbrack token'>[</span><span class='string val'>'HOME'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='string val'>'/export/home'</span>
    <span class='elsif elsif kw'>elsif</span> <span class='ostmp identifier id'>ostmp</span> <span class='eq op'>==</span> <span class='string val'>&quot;darwin&quot;</span>
      <span class='user_defaults identifier id'>user_defaults</span><span class='lbrack token'>[</span><span class='string val'>'HOME'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='string val'>'/Users'</span>
    <span class='else else kw'>else</span>
      <span class='n identifier id'>n</span><span class='comma token'>,</span> <span class='v identifier id'>v</span> <span class='assign token'>=</span> <span class='nv identifier id'>nv</span><span class='dot token'>.</span><span class='scan identifier id'>scan</span><span class='lparen token'>(</span><span class='regexp val'>/\A([\w_-]+?)=(.+)\z/</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span>
      <span class='user_defaults identifier id'>user_defaults</span><span class='lbrack token'>[</span><span class='n identifier id'>n</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  
  <span class='@rye_guessed_homes ivar id'>@rye_guessed_homes</span><span class='lbrack token'>[</span><span class='this_user identifier id'>this_user</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{user_defaults['HOME']}/#{this_user}&quot;</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>host</h3>
</div><div id="host-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>host</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 32</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L32">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">32</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='host identifier id'>host</span><span class='semicolon token'>;</span> <span class='@rye_host ivar id'>@rye_host</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>host=</h3>
</div><div id="host-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>host=</span><span class='args'>(val)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 42</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L42">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">42</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='host= identifier id'>host=</span><span class='lparen token'>(</span><span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='@rye_host ivar id'>@rye_host</span> <span class='assign token'>=</span> <span class='val identifier id'>val</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>host_key</h3>
</div><div id="host_key-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>host_key</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the host SSH keys for this box
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 302</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L302">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">302
303
304
305</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='host_key identifier id'>host_key</span>
  <span class='raise identifier id'>raise</span> <span class='string val'>&quot;No host&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='@rye_host ivar id'>@rye_host</span>
  <span class='Rye constant id'>Rye</span><span class='dot token'>.</span><span class='remote_host_keys identifier id'>remote_host_keys</span><span class='lparen token'>(</span><span class='@rye_host ivar id'>@rye_host</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>inspect</h3>
</div><div id="inspect-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>inspect</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 287</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L287">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">287
288
289
290
291
292
293</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='inspect identifier id'>inspect</span>
  <span class='string val'>%q{#&lt;%s:%s name=%s cwd=%s umask=%s env=%s safe=%s opts=%s keys=%s&gt;}</span> <span class='mod op'>%</span> 
  <span class='lbrack token'>[</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='host identifier id'>host</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='nickname identifier id'>nickname</span><span class='comma token'>,</span>
   <span class='@rye_current_working_directory ivar id'>@rye_current_working_directory</span><span class='comma token'>,</span> <span class='@rye_current_umask ivar id'>@rye_current_umask</span><span class='comma token'>,</span>
   <span class='lparen token'>(</span><span class='@rye_current_environment_variables ivar id'>@rye_current_environment_variables</span> <span class='orop op'>||</span> <span class='string val'>''</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='inspect identifier id'>inspect</span><span class='comma token'>,</span>
   <span class='self self kw'>self</span><span class='dot token'>.</span><span class='safe identifier id'>safe</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='inspect identifier id'>inspect</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='inspect identifier id'>inspect</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>interactive_ssh</h3>
</div><div id="interactive_ssh-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>interactive_ssh</span><span class='args'>(run = true)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Open an interactive SSH session. This only works if STDIN.tty? returns
true. Otherwise it returns the SSH command that would have been run. This
requires the SSH command-line executable (ssh).
</p>
<ul>
<li><tt>run</tt> when set to false, it will return the SSH command as a String

</li>
</ul>
<p>
and not open an SSH session.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 211</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L211">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">211
212
213
214
215
216
217</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='interactive_ssh identifier id'>interactive_ssh</span><span class='lparen token'>(</span><span class='run identifier id'>run</span><span class='assign token'>=</span><span class='true true kw'>true</span><span class='rparen token'>)</span>
  <span class='debug identifier id'>debug</span> <span class='dstring node'>&quot;interactive_ssh with keys: #{Rye.keys.inspect}&quot;</span>
  <span class='run identifier id'>run</span> <span class='assign token'>=</span> <span class='false false kw'>false</span> <span class='unless unless_mod kw'>unless</span> <span class='STDIN constant id'>STDIN</span><span class='dot token'>.</span><span class='tty? fid id'>tty?</span>      
  <span class='cmd identifier id'>cmd</span> <span class='assign token'>=</span> <span class='Rye constant id'>Rye</span><span class='dot token'>.</span><span class='prepare_command identifier id'>prepare_command</span><span class='lparen token'>(</span><span class='string val'>&quot;ssh&quot;</span><span class='comma token'>,</span> <span class='dstring node'>&quot;#{@rye_opts[:user]}@#{@rye_host}&quot;</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='cmd identifier id'>cmd</span> <span class='unless unless_mod kw'>unless</span> <span class='run identifier id'>run</span>
  <span class='system identifier id'>system</span><span class='lparen token'>(</span><span class='cmd identifier id'>cmd</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>keys</h3>
</div><div id="keys-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>keys</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
See Rye.keys
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 282</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L282">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">282</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='keys identifier id'>keys</span><span class='semicolon token'>;</span> <span class='Rye constant id'>Rye</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>nickname</h3>
</div><div id="nickname-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>nickname</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 40</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L40">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">40</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='nickname identifier id'>nickname</span><span class='semicolon token'>;</span> <span class='@rye_nickname ivar id'>@rye_nickname</span> <span class='orop op'>||</span> <span class='host identifier id'>host</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>nickname=</h3>
</div><div id="nickname-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>nickname=</span><span class='args'>(val)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 47</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L47">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">47</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='nickname= identifier id'>nickname=</span><span class='lparen token'>(</span><span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='@rye_nickname ivar id'>@rye_nickname</span> <span class='assign token'>=</span> <span class='val identifier id'>val</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>opts</h3>
</div><div id="opts-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>opts</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 33</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L33">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">33</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='opts identifier id'>opts</span><span class='semicolon token'>;</span> <span class='@rye_opts ivar id'>@rye_opts</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>opts=</h3>
</div><div id="opts-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>opts=</span><span class='args'>(val)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 43</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L43">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">43</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='opts= identifier id'>opts=</span><span class='lparen token'>(</span><span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='@rye_opts ivar id'>@rye_opts</span> <span class='assign token'>=</span> <span class='val identifier id'>val</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>ostype</h3>
</div><div id="ostype-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>ostype</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Return the value of uname in lowercase This is a temporary fix. We can use
SysInfo for this, upload it, execute it directly, parse the output.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 238</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L238">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">238
239
240
241
242
243
244</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='ostype identifier id'>ostype</span>
  <span class='return return kw'>return</span> <span class='@rye_ostype ivar id'>@rye_ostype</span> <span class='if if_mod kw'>if</span> <span class='@rye_ostype ivar id'>@rye_ostype</span> <span class='comment val'># simple cache</span>
  <span class='os identifier id'>os</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='quietly identifier id'>quietly</span> <span class='lbrace token'>{</span> <span class='uname identifier id'>uname</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='rbrace token'>}</span> <span class='rescue rescue kw'>rescue</span> <span class='nil nil kw'>nil</span>
  <span class='os identifier id'>os</span> <span class='opasgn op'>||=</span> <span class='string val'>'unknown'</span>
  <span class='os identifier id'>os</span> <span class='opasgn op'>&amp;&amp;=</span> <span class='os identifier id'>os</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span>
  <span class='@rye_ostype ivar id'>@rye_ostype</span> <span class='assign token'>=</span> <span class='os identifier id'>os</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>post_command_hook</h3>
</div><div id="post_command_hook-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>post_command_hook</span><span class='args'>(&amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Supply a block to be called after every command. It&#8217;s called with one
argument: an instance of Rye::Rap.
</p>
<p>
When this block is supplied, the command does not raise an exception when
the exit code is greater than 0 (the typical behavior) so the block needs
to check the Rye::Rap object to determine whether an exception should be
raised.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 571</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L571">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">571
572
573
574</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='post_command_hook identifier id'>post_command_hook</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='@rye_post_command_hook ivar id'>@rye_post_command_hook</span> <span class='assign token'>=</span> <span class='block identifier id'>block</span> <span class='if if_mod kw'>if</span> <span class='block identifier id'>block</span>
  <span class='@rye_post_command_hook ivar id'>@rye_post_command_hook</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>post_command_hook=</h3>
</div><div id="post_command_hook-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>post_command_hook=</span><span class='args'>(val)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 67</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L67">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">67</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='post_command_hook= identifier id'>post_command_hook=</span><span class='lparen token'>(</span><span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='@rye_post_command_hook ivar id'>@rye_post_command_hook</span> <span class='assign token'>=</span> <span class='val identifier id'>val</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>pre_command_hook</h3>
</div><div id="pre_command_hook-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>pre_command_hook</span><span class='args'>(&amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Supply a block to be called before every command. It&#8217;s called with
three arguments: command name, an Array of arguments, user name, hostname
e.g.
</p>
<pre class="code">
    <span class='rbox identifier id'>rbox</span><span class='dot token'>.</span><span class='pre_command_hook identifier id'>pre_command_hook</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='cmd identifier id'>cmd</span><span class='comma token'>,</span><span class='args identifier id'>args</span><span class='comma token'>,</span><span class='user identifier id'>user</span><span class='comma token'>,</span><span class='host identifier id'>host</span><span class='bitor op'>|</span>
      <span class='dot3 op'>...</span>
    <span class='end end kw'>end</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 461</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L461">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">461
462
463
464</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='pre_command_hook identifier id'>pre_command_hook</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='@rye_pre_command_hook ivar id'>@rye_pre_command_hook</span> <span class='assign token'>=</span> <span class='block identifier id'>block</span> <span class='if if_mod kw'>if</span> <span class='block identifier id'>block</span>
  <span class='@rye_pre_command_hook ivar id'>@rye_pre_command_hook</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>pre_command_hook=</h3>
</div><div id="pre_command_hook-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>pre_command_hook=</span><span class='args'>(val)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 66</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L66">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">66</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='pre_command_hook= identifier id'>pre_command_hook=</span><span class='lparen token'>(</span><span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='@rye_pre_command_hook ivar id'>@rye_pre_command_hook</span> <span class='assign token'>=</span> <span class='val identifier id'>val</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>preview_command</h3>
</div><div id="preview_command-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>preview_command</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the command an arguments as a String.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 450</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L450">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">450
451
452</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='preview_command identifier id'>preview_command</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='prep_args identifier id'>prep_args</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>' '</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>quiet</h3>
</div><div id="quiet-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>quiet</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 39</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L39">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">39</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='quiet identifier id'>quiet</span><span class='semicolon token'>;</span> <span class='@rye_quiet ivar id'>@rye_quiet</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>quietly</h3>
</div><div id="quietly-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>quietly</span><span class='args'>(*args, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Like batch, except it enables quiet mode before executing the block. After
executing the block, quiet mode is returned back to whichever state it was
previously in. In other words, this method won&#8217;t enable quiet mode if
it was already disabled.
</p>
<p>
In quiet mode, the pre and post command hooks are not called. This is used
internally when calling commands like <tt>ls</tt> to check whether a file
path exists (to prevent polluting the logs).
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 539</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L539">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">539
540
541
542
543
544
545</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='quietly identifier id'>quietly</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='previous_state identifier id'>previous_state</span> <span class='assign token'>=</span> <span class='@rye_quiet ivar id'>@rye_quiet</span>
  <span class='enable_quiet_mode identifier id'>enable_quiet_mode</span>
  <span class='ret identifier id'>ret</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance_exec identifier id'>instance_exec</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span>
  <span class='@rye_quiet ivar id'>@rye_quiet</span> <span class='assign token'>=</span> <span class='previous_state identifier id'>previous_state</span>
  <span class='ret identifier id'>ret</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>safe</h3>
</div><div id="safe-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>safe</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 34</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L34">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">34</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='safe identifier id'>safe</span><span class='semicolon token'>;</span> <span class='@rye_safe ivar id'>@rye_safe</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>safe?</h3>
</div><div id="safe-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>safe?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 51</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L51">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">51</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='safe? fid id'>safe?</span><span class='semicolon token'>;</span> <span class='@rye_safe ivar id'>@rye_safe</span> <span class='eq op'>==</span> <span class='true true kw'>true</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>safely</h3>
</div><div id="safely-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>safely</span><span class='args'>(*args, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
See unsafely (except in reverse)
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 523</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L523">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">523
524
525
526
527
528
529</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='safely identifier id'>safely</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='previous_state identifier id'>previous_state</span> <span class='assign token'>=</span> <span class='@rye_safe ivar id'>@rye_safe</span>
  <span class='enable_safe_mode identifier id'>enable_safe_mode</span>
  <span class='ret identifier id'>ret</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance_exec identifier id'>instance_exec</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span>
  <span class='@rye_safe ivar id'>@rye_safe</span> <span class='assign token'>=</span> <span class='previous_state identifier id'>previous_state</span>
  <span class='ret identifier id'>ret</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>setenv</h3>
</div><div id="setenv-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>setenv</span><span class='args'>(n, v)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="add_env-instance_method">add_env</tt>
  
</p>
</div><div class="section docstring">
  <p>
Add an environment variable. <tt>n</tt> and <tt>v</tt> are the name and
value. Returns the instance of Rye::Box
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 272</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L272">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">272
273
274
275
276
277
278</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='setenv identifier id'>setenv</span><span class='lparen token'>(</span><span class='n identifier id'>n</span><span class='comma token'>,</span> <span class='v identifier id'>v</span><span class='rparen token'>)</span>
  <span class='debug identifier id'>debug</span> <span class='dstring node'>&quot;Adding env: #{n}=#{v}&quot;</span>
  <span class='debug identifier id'>debug</span> <span class='dstring node'>&quot;prev value: #{@rye_getenv[n]}&quot;</span>
  <span class='@rye_getenv ivar id'>@rye_getenv</span><span class='lbrack token'>[</span><span class='n identifier id'>n</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span>
  <span class='lparen token'>(</span><span class='@rye_current_environment_variables ivar id'>@rye_current_environment_variables</span> <span class='opasgn op'>||=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='n identifier id'>n</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>stash</h3>
</div><div id="stash-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>stash</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the current value of the stash <tt>@rye_stash</tt>
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 38</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L38">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">38</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='stash identifier id'>stash</span><span class='semicolon token'>;</span> <span class='@rye_stash ivar id'>@rye_stash</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>stash=</h3>
</div><div id="stash-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>stash=</span><span class='args'>(val)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Store a value to the stash <tt>@rye_stash</tt>
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 46</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L46">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">46</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='stash= identifier id'>stash=</span><span class='lparen token'>(</span><span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='@rye_stash ivar id'>@rye_stash</span> <span class='assign token'>=</span> <span class='val identifier id'>val</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>switch_user</h3>
</div><div id="switch_user-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>switch_user</span><span class='args'>(newuser)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Reconnect as another user. This is different from su= which executes
subsequent commands via <tt>su -c COMMAND USER</tt>.
</p>
<ul>
<li><tt>newuser</tt> The username to reconnect as

</li>
</ul>
<p>
NOTE: if there is an open connection, it&#8217;s disconnected but not
reconnected because it&#8217;s possible it wasn&#8217;t connected yet in
the first place (if you create the instance with default settings for
example)
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 197</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L197">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">197
198
199
200
201
202</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='switch_user identifier id'>switch_user</span><span class='lparen token'>(</span><span class='newuser identifier id'>newuser</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='if if_mod kw'>if</span> <span class='newuser identifier id'>newuser</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='eq op'>==</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='user identifier id'>user</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
  <span class='@rye_opts ivar id'>@rye_opts</span> <span class='opasgn op'>||=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='@rye_opts ivar id'>@rye_opts</span><span class='lbrack token'>[</span><span class='symbol val'>:user</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='newuser identifier id'>newuser</span>
  <span class='disconnect identifier id'>disconnect</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_s</h3>
</div><div id="to_s-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_s</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns <tt>user@rye_host</tt>
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 285</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L285">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">285</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_s identifier id'>to_s</span><span class='semicolon token'>;</span> <span class='string val'>'%s@rye_%s'</span> <span class='mod op'>%</span> <span class='lbrack token'>[</span><span class='user identifier id'>user</span><span class='comma token'>,</span> <span class='@rye_host ivar id'>@rye_host</span><span class='rbrack token'>]</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>umask=</h3>
</div><div id="umask-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>umask=</span><span class='args'>(val = '0022')</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Change the current umask (sort of &#8212; works the same way as cd) The
default umask is 0022
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 183</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L183">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">183
184
185
186</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='umask= identifier id'>umask=</span><span class='lparen token'>(</span><span class='val identifier id'>val</span><span class='assign token'>=</span><span class='string val'>'0022'</span><span class='rparen token'>)</span>
  <span class='@rye_current_umask ivar id'>@rye_current_umask</span> <span class='assign token'>=</span> <span class='val identifier id'>val</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>unsafely</h3>
</div><div id="unsafely-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>unsafely</span><span class='args'>(*args, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Like batch, except it disables safe mode before executing the block. After
executing the block, safe mode is returned back to whichever state it was
previously in. In other words, this method won&#8217;t enable safe mode if
it was already disabled.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 514</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L514">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">514
515
516
517
518
519
520</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='unsafely identifier id'>unsafely</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='previous_state identifier id'>previous_state</span> <span class='assign token'>=</span> <span class='@rye_safe ivar id'>@rye_safe</span>
  <span class='disable_safe_mode identifier id'>disable_safe_mode</span>
  <span class='ret identifier id'>ret</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance_exec identifier id'>instance_exec</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span>
  <span class='@rye_safe ivar id'>@rye_safe</span> <span class='assign token'>=</span> <span class='previous_state identifier id'>previous_state</span>
  <span class='ret identifier id'>ret</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>user</h3>
</div><div id="user-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>user</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rye/box.rb', line 35</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/delano/rye/blob/197018175bfc197a70b8dd756b683d6759fe55e0/lib/rye/box.rb#L35">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">35</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='user identifier id'>user</span><span class='semicolon token'>;</span> <span class='lparen token'>(</span><span class='@rye_opts ivar id'>@rye_opts</span> <span class='orop op'>||</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='symbol val'>:user</span><span class='rbrack token'>]</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>