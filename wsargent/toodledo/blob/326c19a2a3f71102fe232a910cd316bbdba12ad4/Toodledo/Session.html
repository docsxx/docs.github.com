<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>wsargent's toodledo - Class: Toodledo::Session - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/wsargent/commits/toodledo/master" rel="alternate" title="Recent Commits to toodledo:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("wsargent", "toodledo", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("wsargent", "toodledo", "326c19a2a3f71102fe232a910cd316bbdba12ad4", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/wsargent/toodledo/tree/">Source</a></li>
            <li class=""><a href="http://github.com/wsargent/toodledo/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/wsargent/toodledo/network">Network</a></li>            
            <li class=""><a href="http://github.com/wsargent/toodledo/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/wsargent/toodledo">Wiki</a></li>
            <li class=""><a href="http://github.com/wsargent/toodledo/graphs">Graphs</a></li>                    
            <li class="active"><a href="/wsargent/toodledo">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/wsargent">wsargent</a> / <b><a href="http://github.com/wsargent/toodledo/tree">toodledo</a></b>        
                <a id="namespaces_button" rel="wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Toodledo_Session">
  <h1>Class: Toodledo::Session</h1>
  <div class="section docstring">
  <p>
The Session. This is responsible for calling to the server and handling
most functionality.
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">base_url</td>
          <td class="readwrite">
            [<span id='base_url-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>base_url</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">logger</td>
          <td class="readwrite">
            [<span id='logger-instance_method'>R</span><span id='logger=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>logger</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">proxy</td>
          <td class="readwrite">
            [<span id='proxy-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>proxy</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">user_id</td>
          <td class="readwrite">
            [<span id='user_id-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>user_id</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="DATE_FORMAT-constant">DATE_FORMAT</dt>
      <dd>'%Y-%m-%d'</dd>
    
      <dt id="DATETIME_FORMAT-constant">DATETIME_FORMAT</dt>
      <dd>'%Y-%m-%d %H:%M:%S'</dd>
    
      <dt id="DEFAULT_API_URL-constant">DEFAULT_API_URL</dt>
      <dd>'http://www.toodledo.com/api.php'</dd>
    
      <dt id="EXPIRATION_TIME_IN_SECS-constant">EXPIRATION_TIME_IN_SECS</dt>
      <dd>60 * 60</dd>
    
      <dt id="HEADERS-constant">HEADERS</dt>
      <dd>{
  'User-Agent' =&gt; USER_AGENT,
  'Connection' =&gt; 'keep-alive',
  'Keep-Alive' =&gt; '300'
}</dd>
    
      <dt id="TIME_FORMAT-constant">TIME_FORMAT</dt>
      <dd>'%I:%M %p'</dd>
    
      <dt id="USER_AGENT-constant">USER_AGENT</dt>
      <dd>&quot;Ruby/#{Toodledo::VERSION} (#{RUBY_PLATFORM})&quot;</dd>
    
  </dl>
</div>

</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(user_id, password, logger = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Creates a new session, using the given user name and password. throws
InvalidConfigurationError if user_id or password are nil.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="InvalidConfigurationError.html" title="InvalidConfigurationError">InvalidConfigurationError</a></tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 43</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L43">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='user_id identifier id'>user_id</span><span class='comma token'>,</span> <span class='password identifier id'>password</span><span class='comma token'>,</span> <span class='logger identifier id'>logger</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='InvalidConfigurationError constant id'>InvalidConfigurationError</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>&quot;Nil user_id&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='user_id identifier id'>user_id</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='InvalidConfigurationError constant id'>InvalidConfigurationError</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>&quot;Nil password&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='password identifier id'>password</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>

  <span class='@user_id ivar id'>@user_id</span> <span class='assign token'>=</span> <span class='user_id identifier id'>user_id</span>
  <span class='@password ivar id'>@password</span> <span class='assign token'>=</span> <span class='password identifier id'>password</span>
  
  <span class='@folders ivar id'>@folders</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@contexts ivar id'>@contexts</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@goals ivar id'>@goals</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@key ivar id'>@key</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@folders_by_id ivar id'>@folders_by_id</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@goals_by_id ivar id'>@goals_by_id</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@contexts_by_id ivar id'>@contexts_by_id</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  
  <span class='@logger ivar id'>@logger</span> <span class='assign token'>=</span> <span class='logger identifier id'>logger</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#add_context-instance_method">#add_context</span><span class='args'>(title)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Adds the context to Toodledo, with the title.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#add_folder-instance_method">#add_folder</span><span class='args'>(title, is_private = 1)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Adds a folder.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#add_goal-instance_method">#add_goal</span><span class='args'>(title, level = 0, contributes = 0)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Adds a new goal with the given title, the level (short to long term) and
the contributing goal id.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#add_task-instance_method">#add_task</span><span class='args'>(title, params = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Adds a task to Toodledo.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#call-instance_method">#call</span><span class='args'>(method, params, key = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Calls Toodledo with the method name, the parameters and the session key.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#connect-instance_method">#connect</span><span class='args'>(base_url = DEFAULT_API_URL, proxy = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Connects to the server, asking for a new key that&#8217;s good for an hour.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#delete_context-instance_method">#delete_context</span><span class='args'>(id)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Deletes the context from Toodledo, using the id.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#delete_folder-instance_method">#delete_folder</span><span class='args'>(id)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Deletes the folder with the id.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#delete_goal-instance_method">#delete_goal</span><span class='args'>(id)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Delete the goal with the given id.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#delete_task-instance_method">#delete_task</span><span class='args'>(id)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Deletes the task, using the task id.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#disconnect-instance_method">#disconnect</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Disconnects from the server.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#edit_folder-instance_method">#edit_folder</span><span class='args'>(id, params = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Edits a folder.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#edit_task-instance_method">#edit_task</span><span class='args'>(id, params = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <ul>
<li>id : The id number of the task to edit.

</li>
</ul>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#escape_text-instance_method">#escape_text</span><span class='args'>(input)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
escape the &amp; character as %26 and the ; character as %3B.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#expired-3F-instance_method">#expired?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns true if the session has expired.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#flush_contexts-instance_method">#flush_contexts</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Deletes the cached contexts.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#flush_folders-instance_method">#flush_folders</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Nils out the cached folders.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#flush_goals-instance_method">#flush_goals</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Nils the cached goals.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get_account_info-instance_method">#get_account_info</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the information associated with this account.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get_context_by_id-instance_method">#get_context_by_id</span><span class='args'>(context_id)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the context with the given id.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get_context_by_name-instance_method">#get_context_by_name</span><span class='args'>(context_name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Contexts.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get_contexts-instance_method">#get_contexts</span><span class='args'>(flush = false)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Gets the array of contexts.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get_deleted-instance_method">#get_deleted</span><span class='args'>(after)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns deleted tasks.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get_folder_by_id-instance_method">#get_folder_by_id</span><span class='args'>(folder_id)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Gets the folder with the given id.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get_folder_by_name-instance_method">#get_folder_by_name</span><span class='args'>(folder_name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Folders.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get_folders-instance_method">#get_folders</span><span class='args'>(flush = false)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Gets all the folders.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get_goal_by_id-instance_method">#get_goal_by_id</span><span class='args'>(goal_id)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the goal with the given id.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get_goal_by_name-instance_method">#get_goal_by_name</span><span class='args'>(goal_name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Goals.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get_goals-instance_method">#get_goals</span><span class='args'>(flush = false)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the array of goals.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get_server_info-instance_method">#get_server_info</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
The &quot;getServerInfo&quot; API call will return some information about
the server and your current API session.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get_task_by_id-instance_method">#get_task_by_id</span><span class='args'>(id)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Gets a single task by its id, and returns the task.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get_tasks-instance_method">#get_tasks</span><span class='args'>(params = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Tasks.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get_token-instance_method">#get_token</span><span class='args'>(user_id)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Gets the token method, given the id.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get_user_id-instance_method">#get_user_id</span><span class='args'>(email, password)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the user id.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#handle_boolean-instance_method">#handle_boolean</span><span class='args'>(myhash, params, symbol)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#handle_context-instance_method">#handle_context</span><span class='args'>(myhash, params)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Takes in a context (in the form of a string, a Context object or a context
id) and adds it to myhash as a context_id.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#handle_date-instance_method">#handle_date</span><span class='args'>(myhash, params, symbol)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#handle_datetime-instance_method">#handle_datetime</span><span class='args'>(myhash, params, symbol)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Handles a generic date time value.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#handle_folder-instance_method">#handle_folder</span><span class='args'>(myhash, params)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Handles a folder (in the form of a folder name, object or id) and puts the
folder_id in myhash.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#handle_goal-instance_method">#handle_goal</span><span class='args'>(myhash, params)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Takes a goal (as a goal title, a goal object or a goal id) and sets it in
myhash.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#handle_number-instance_method">#handle_number</span><span class='args'>(myhash, params, symbol)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Helper methods follow.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#handle_parent-instance_method">#handle_parent</span><span class='args'>(myhash, params)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Handles the parent task object.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#handle_priority-instance_method">#handle_priority</span><span class='args'>(myhash, params)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Handles the priority.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#handle_repeat-instance_method">#handle_repeat</span><span class='args'>(myhash, params)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Handles the repeat parameter.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#handle_status-instance_method">#handle_status</span><span class='args'>(myhash, params)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Handles the status parameter.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#handle_string-instance_method">#handle_string</span><span class='args'>(myhash, params, symbol)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#handle_time-instance_method">#handle_time</span><span class='args'>(myhash, params, symbol)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#make_uri-instance_method">#make_uri</span><span class='args'>(method, params)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a parsable URI object from the base API URL and the parameters.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#md5-instance_method">#md5</span><span class='args'>(input_string)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Hashes the input string and returns a string hex digest.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>add_context</h3>
</div><div id="add_context-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>add_context</span><span class='args'>(title)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Adds the context to Toodledo, with the title.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 682</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L682">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">682
683
684
685
686
687
688
689
690
691</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='add_context identifier id'>add_context</span><span class='lparen token'>(</span><span class='title identifier id'>title</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;add_context(#{title})&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  <span class='raise identifier id'>raise</span> <span class='string val'>&quot;Nil title&quot;</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='title identifier id'>title</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='string val'>'addContext'</span><span class='comma token'>,</span> <span class='lbrace token'>{</span> <span class='symbol val'>:title</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='title identifier id'>title</span> <span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='@key ivar id'>@key</span><span class='rparen token'>)</span>
  
  <span class='flush_contexts identifier id'>flush_contexts</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  
  <span class='return return kw'>return</span> <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='text identifier id'>text</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>add_folder</h3>
</div><div id="add_folder-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>add_folder</span><span class='args'>(title, is_private = 1)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Adds a folder.
</p>
<ul>
<li>title : A text string up to 32 characters.

</li>
<li>private : A boolean value that describes if this folder can be shared.

</li>
</ul>
<p>
Returns the id of the newly added folder.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 886</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L886">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">886
887
888
889
890
891
892
893
894
895
896
897
898
899
900
901
902
903</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='add_folder identifier id'>add_folder</span><span class='lparen token'>(</span><span class='title identifier id'>title</span><span class='comma token'>,</span> <span class='is_private identifier id'>is_private</span> <span class='assign token'>=</span> <span class='integer val'>1</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;add_folder(#{title}, #{is_private})&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  <span class='raise identifier id'>raise</span> <span class='string val'>&quot;Nil title&quot;</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='title identifier id'>title</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='is_private identifier id'>is_private</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span> <span class='TrueClass constant id'>TrueClass</span><span class='rparen token'>)</span>
    <span class='is_private identifier id'>is_private</span> <span class='assign token'>=</span> <span class='integer val'>1</span>
  <span class='elsif elsif kw'>elsif</span> <span class='lparen token'>(</span><span class='is_private identifier id'>is_private</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span> <span class='FalseClass constant id'>FalseClass</span><span class='rparen token'>)</span>
    <span class='is_private identifier id'>is_private</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='end end kw'>end</span>
  
  <span class='myhash identifier id'>myhash</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:title</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='title identifier id'>title</span><span class='comma token'>,</span> <span class='symbol val'>:private</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='is_private identifier id'>is_private</span><span class='rbrace token'>}</span>
  
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='string val'>'addFolder'</span><span class='comma token'>,</span> <span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='@key ivar id'>@key</span><span class='rparen token'>)</span>
  
  <span class='flush_folders identifier id'>flush_folders</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  
  <span class='return return kw'>return</span> <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='text identifier id'>text</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>add_goal</h3>
</div><div id="add_goal-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>add_goal</span><span class='args'>(title, level = 0, contributes = 0)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Adds a new goal with the given title, the level (short to long term) and
the contributing goal id.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 785</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L785">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">785
786
787
788
789
790
791
792
793
794
795</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='add_goal identifier id'>add_goal</span><span class='lparen token'>(</span><span class='title identifier id'>title</span><span class='comma token'>,</span> <span class='level identifier id'>level</span> <span class='assign token'>=</span> <span class='integer val'>0</span><span class='comma token'>,</span> <span class='contributes identifier id'>contributes</span> <span class='assign token'>=</span> <span class='integer val'>0</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;add_goal(#{title}, #{level}, #{contributes})&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  <span class='raise identifier id'>raise</span> <span class='string val'>&quot;Nil title&quot;</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='title identifier id'>title</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>

  <span class='params identifier id'>params</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:title</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='title identifier id'>title</span><span class='comma token'>,</span> <span class='symbol val'>:level</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='level identifier id'>level</span><span class='comma token'>,</span> <span class='symbol val'>:contributes</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='contributes identifier id'>contributes</span> <span class='rbrace token'>}</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='string val'>'addGoal'</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='@key ivar id'>@key</span><span class='rparen token'>)</span>
  
  <span class='flush_goals identifier id'>flush_goals</span><span class='lparen token'>(</span><span class='rparen token'>)</span>

  <span class='return return kw'>return</span> <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='text identifier id'>text</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>add_task</h3>
</div><div id="add_task-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>add_task</span><span class='args'>(title, params = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Adds a task to Toodledo.
</p>
<p>
Required Parameters:
</p>
<pre class="code">
  <span class='title identifier id'>title</span><span class='colon op'>:</span> <span class='a identifier id'>a</span> <span class='String constant id'>String</span><span class='dot token'>.</span>  <span class='This constant id'>This</span> <span class='is identifier id'>is</span> <span class='the identifier id'>the</span> <span class='only identifier id'>only</span> <span class='required identifier id'>required</span> <span class='property identifier id'>property</span><span class='dot token'>.</span>
</pre>
<p>
Optional Parameters:
</p>
<pre class="code">
  <span class='tag identifier id'>tag</span><span class='colon op'>:</span> <span class='a identifier id'>a</span> <span class='String constant id'>String</span>
  <span class='folder identifier id'>folder</span><span class='colon op'>:</span> <span class='folder identifier id'>folder</span> <span class='id identifier id'>id</span> <span class='or or kw'>or</span> <span class='String constant id'>String</span> <span class='matching identifier id'>matching</span> <span class='the identifier id'>the</span> <span class='folder identifier id'>folder</span> <span class='name identifier id'>name</span>
  <span class='context identifier id'>context</span><span class='colon op'>:</span> <span class='context identifier id'>context</span> <span class='id identifier id'>id</span> <span class='or or kw'>or</span> <span class='String constant id'>String</span> <span class='matching identifier id'>matching</span> <span class='the identifier id'>the</span> <span class='context identifier id'>context</span> <span class='name identifier id'>name</span>
  <span class='goal identifier id'>goal</span><span class='colon op'>:</span> <span class='goal identifier id'>goal</span> <span class='id identifier id'>id</span> <span class='or or kw'>or</span> <span class='String constant id'>String</span> <span class='matching identifier id'>matching</span> <span class='the identifier id'>the</span> <span class='Goal constant id'>Goal</span> <span class='Name constant id'>Name</span>
  <span class='duedate identifier id'>duedate</span><span class='colon op'>:</span> <span class='Time constant id'>Time</span> <span class='or or kw'>or</span> <span class='String constant id'>String</span> <span class='object identifier id'>object</span> <span class='string val'>&quot;YYYY-MM-DD&quot;</span><span class='dot token'>.</span>  <span class='If constant id'>If</span> <span class='this identifier id'>this</span> <span class='is identifier id'>is</span> <span class='a identifier id'>a</span> <span class='string identifier id'>string</span><span class='comma token'>,</span> <span class='it identifier id'>it</span>
  <span class='may identifier id'>may</span> <span class='take identifier id'>take</span> <span class='an identifier id'>an</span> <span class='optional identifier id'>optional</span> <span class='modifier identifier id'>modifier</span><span class='dot token'>.</span>
  <span class='duetime identifier id'>duetime</span><span class='colon op'>:</span> <span class='Time constant id'>Time</span> <span class='or or kw'>or</span> <span class='String constant id'>String</span> <span class='object identifier id'>object</span> <span class='string val'>&quot;MM:SS p&quot;</span><span class='rbrace token'>}</span>
  <span class='parent identifier id'>parent</span><span class='colon op'>:</span> <span class='parent identifier id'>parent</span> <span class='id identifier id'>id</span> <span class='rbrace token'>}</span>
  <span class='repeat identifier id'>repeat</span><span class='colon op'>:</span> <span class='one identifier id'>one</span> <span class='of identifier id'>of</span> <span class='lbrace token'>{</span> <span class='symbol val'>:none</span><span class='comma token'>,</span> <span class='symbol val'>:weekly</span><span class='comma token'>,</span> <span class='symbol val'>:monthly</span> <span class='symbol val'>:yearly</span> <span class='symbol val'>:daily</span> <span class='symbol val'>:biweekly</span><span class='comma token'>,</span>
        <span class='symbol val'>:bimonthly</span><span class='comma token'>,</span> <span class='symbol val'>:semiannually</span><span class='comma token'>,</span> <span class='symbol val'>:quarterly</span> <span class='rbrace token'>}</span>
  <span class='length identifier id'>length</span><span class='colon op'>:</span> <span class='a identifier id'>a</span> <span class='Number constant id'>Number</span><span class='comma token'>,</span> <span class='number identifier id'>number</span> <span class='of identifier id'>of</span> <span class='minutes identifier id'>minutes</span>
  <span class='priority identifier id'>priority</span><span class='colon op'>:</span> <span class='one identifier id'>one</span> <span class='of identifier id'>of</span> <span class='lbrace token'>{</span> <span class='symbol val'>:negative</span><span class='comma token'>,</span> <span class='symbol val'>:low</span><span class='comma token'>,</span> <span class='symbol val'>:medium</span><span class='comma token'>,</span> <span class='symbol val'>:high</span><span class='comma token'>,</span> <span class='symbol val'>:top</span> <span class='rbrace token'>}</span>
</pre>
<p>
Returns: the id of the added task as a String.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 483</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L483">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='add_task identifier id'>add_task</span><span class='lparen token'>(</span><span class='title identifier id'>title</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;add_task(#{title}, #{params.inspect})&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  <span class='raise identifier id'>raise</span> <span class='string val'>&quot;Nil id&quot;</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='title identifier id'>title</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>

  <span class='myhash identifier id'>myhash</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:title</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='title identifier id'>title</span><span class='rbrace token'>}</span>      
  
  <span class='handle_string identifier id'>handle_string</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:tag</span><span class='rparen token'>)</span>

  <span class='comment val'># If the folder is a string, then we assume we're supposed to find out what</span>
  <span class='comment val'># the id is.</span>
  <span class='handle_folder identifier id'>handle_folder</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>

  <span class='comment val'># Context handling</span>
  <span class='handle_context identifier id'>handle_context</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>

  <span class='comment val'># Goal handling</span>
  <span class='handle_goal identifier id'>handle_goal</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>
  
  <span class='comment val'># Add the start date if it's been added.</span>
  <span class='handle_date identifier id'>handle_date</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:startdate</span><span class='rparen token'>)</span>

  <span class='comment val'># duedate handling.  Take either a string or a Time object.'YYYY-MM-DD'</span>
  <span class='handle_date identifier id'>handle_date</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:duedate</span><span class='rparen token'>)</span>

  <span class='comment val'># duetime handling.  Take either a string or a Time object. </span>
  <span class='handle_time identifier id'>handle_time</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:duetime</span><span class='rparen token'>)</span>

  <span class='comment val'># parent handling.</span>
  <span class='handle_parent identifier id'>handle_parent</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>

  <span class='comment val'># repeat: use the map to change from the symbol to the raw numeric value.</span>
  <span class='handle_repeat identifier id'>handle_repeat</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>
   
  <span class='comment val'># priority use the map to change from the symbol to the raw numeric value.</span>
  <span class='handle_priority identifier id'>handle_priority</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>
  
  <span class='comment val'># Handle the star.</span>
  <span class='handle_boolean identifier id'>handle_boolean</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:star</span><span class='rparen token'>)</span>

  <span class='comment val'># Handle the status date.</span>
  <span class='handle_status identifier id'>handle_status</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>
  
  <span class='comment val'># Handle the note.</span>
  <span class='handle_string identifier id'>handle_string</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:note</span><span class='rparen token'>)</span>

  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='string val'>'addTask'</span><span class='comma token'>,</span> <span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='@key ivar id'>@key</span><span class='rparen token'>)</span>
    
  <span class='return return kw'>return</span> <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='text identifier id'>text</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>call</h3>
</div><div id="call-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>call</span><span class='args'>(method, params, key = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Calls Toodledo with the method name, the parameters and the session key.
Returns the text inside the document root, if any.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 135</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L135">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='method identifier id'>method</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>  
  <span class='raise identifier id'>raise</span> <span class='string val'>'Nil method'</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='method identifier id'>method</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='string val'>'Nil params'</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='params identifier id'>params</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='string val'>'Wrong type of params'</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='notop op'>!</span> <span class='params identifier id'>params</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span> <span class='Hash constant id'>Hash</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='string val'>'Wrong method type'</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='notop op'>!</span> <span class='method identifier id'>method</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span> <span class='String constant id'>String</span><span class='rparen token'>)</span>

  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='@base_url ivar id'>@base_url</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='raise identifier id'>raise</span> <span class='string val'>'Must call connect() before this method'</span>        
  <span class='end end kw'>end</span>

  <span class='comment val'># If it's been more than an hour, then ask for a new key.</span>
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='@key ivar id'>@key</span> <span class='neq op'>!=</span> <span class='nil nil kw'>nil</span> <span class='andop op'>&amp;&amp;</span> <span class='expired? fid id'>expired?</span><span class='rparen token'>)</span>
    <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;call(#{method}) connection expired, reconnecting...&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>

    <span class='comment val'># Save the connection information (we'll need it)</span>
    <span class='base_url identifier id'>base_url</span> <span class='assign token'>=</span> <span class='@base_url ivar id'>@base_url</span>
    <span class='proxy identifier id'>proxy</span> <span class='assign token'>=</span> <span class='@proxy ivar id'>@proxy</span>
    <span class='disconnect identifier id'>disconnect</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='comment val'># ensures that key == nil, which is crucial to avoid an endless loop...</span>
    <span class='connect identifier id'>connect</span><span class='lparen token'>(</span><span class='base_url identifier id'>base_url</span><span class='comma token'>,</span> <span class='proxy identifier id'>proxy</span><span class='rparen token'>)</span>

    <span class='comment val'># swap out the key (if any) before we start assembling the request</span>
    <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='key identifier id'>key</span> <span class='neq op'>!=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
      <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='@key ivar id'>@key</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># Break all the parameters down into key=value seperated by semi colons</span>
  <span class='stringified_params identifier id'>stringified_params</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='key identifier id'>key</span> <span class='neq op'>!=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='string val'>';key='</span> <span class='plus op'>+</span> <span class='key identifier id'>key</span> <span class='colon op'>:</span> <span class='string val'>''</span>

  <span class='params identifier id'>params</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span> <span class='v identifier id'>v</span><span class='bitor op'>|</span> 
    <span class='stringified_params identifier id'>stringified_params</span> <span class='opasgn op'>+=</span> <span class='string val'>';'</span> <span class='plus op'>+</span> <span class='k identifier id'>k</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='plus op'>+</span> <span class='string val'>'='</span> <span class='plus op'>+</span> <span class='escape_text identifier id'>escape_text</span><span class='lparen token'>(</span><span class='v identifier id'>v</span><span class='rparen token'>)</span> 
  <span class='rbrace token'>}</span>
  <span class='url identifier id'>url</span> <span class='assign token'>=</span> <span class='make_uri identifier id'>make_uri</span><span class='lparen token'>(</span><span class='method identifier id'>method</span><span class='comma token'>,</span> <span class='stringified_params identifier id'>stringified_params</span><span class='rparen token'>)</span>

  <span class='comment val'># Establish the proxy</span>
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='@proxy ivar id'>@proxy</span> <span class='neq op'>!=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;call(#{method}) establishing proxy...&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
    
    <span class='proxy_host identifier id'>proxy_host</span> <span class='assign token'>=</span> <span class='@proxy ivar id'>@proxy</span><span class='lbrack token'>[</span><span class='string val'>'host'</span><span class='rbrack token'>]</span>
    <span class='proxy_port identifier id'>proxy_port</span> <span class='assign token'>=</span> <span class='@proxy ivar id'>@proxy</span><span class='lbrack token'>[</span><span class='string val'>'port'</span><span class='rbrack token'>]</span>
    <span class='proxy_user identifier id'>proxy_user</span> <span class='assign token'>=</span> <span class='@proxy ivar id'>@proxy</span><span class='lbrack token'>[</span><span class='string val'>'user'</span><span class='rbrack token'>]</span>
    <span class='proxy_password identifier id'>proxy_password</span> <span class='assign token'>=</span> <span class='@proxy ivar id'>@proxy</span><span class='lbrack token'>[</span><span class='string val'>'password'</span><span class='rbrack token'>]</span>
    
    <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='proxy_user identifier id'>proxy_user</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span> <span class='orop op'>||</span> <span class='proxy_password identifier id'>proxy_password</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
      <span class='http identifier id'>http</span> <span class='assign token'>=</span> <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='HTTP constant id'>HTTP</span><span class='colon2 op'>::</span><span class='Proxy constant id'>Proxy</span><span class='lparen token'>(</span><span class='proxy_host identifier id'>proxy_host</span><span class='comma token'>,</span> <span class='proxy_port identifier id'>proxy_port</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='url identifier id'>url</span><span class='dot token'>.</span><span class='host identifier id'>host</span><span class='comma token'>,</span> <span class='url identifier id'>url</span><span class='dot token'>.</span><span class='port identifier id'>port</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span> 
      <span class='http identifier id'>http</span> <span class='assign token'>=</span> <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='HTTP constant id'>HTTP</span><span class='colon2 op'>::</span><span class='Proxy constant id'>Proxy</span><span class='lparen token'>(</span><span class='proxy_host identifier id'>proxy_host</span><span class='comma token'>,</span> <span class='proxy_port identifier id'>proxy_port</span><span class='comma token'>,</span> <span class='proxy_user identifier id'>proxy_user</span><span class='comma token'>,</span> <span class='proxy_password identifier id'>proxy_password</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='url identifier id'>url</span><span class='dot token'>.</span><span class='host identifier id'>host</span><span class='comma token'>,</span> <span class='url identifier id'>url</span><span class='dot token'>.</span><span class='port identifier id'>port</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>        
  <span class='else else kw'>else</span> 
    <span class='http identifier id'>http</span> <span class='assign token'>=</span> <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='HTTP constant id'>HTTP</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='url identifier id'>url</span><span class='dot token'>.</span><span class='host identifier id'>host</span><span class='comma token'>,</span> <span class='url identifier id'>url</span><span class='dot token'>.</span><span class='port identifier id'>port</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>       
  
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='url identifier id'>url</span><span class='dot token'>.</span><span class='scheme identifier id'>scheme</span> <span class='eq op'>==</span> <span class='string val'>'https'</span><span class='rparen token'>)</span>        
    <span class='http identifier id'>http</span><span class='dot token'>.</span><span class='verify_mode identifier id'>verify_mode</span> <span class='assign token'>=</span> <span class='OpenSSL constant id'>OpenSSL</span><span class='colon2 op'>::</span><span class='SSL constant id'>SSL</span><span class='colon2 op'>::</span><span class='VERIFY_NONE constant id'>VERIFY_NONE</span>
    <span class='http identifier id'>http</span><span class='dot token'>.</span><span class='use_ssl identifier id'>use_ssl</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
  <span class='end end kw'>end</span>
        
  <span class='if if kw'>if</span> <span class='logger identifier id'>logger</span>
    <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;call(#{method}) request: #{url.path}?#{url.query}#{url.fragment}&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='start_time identifier id'>start_time</span> <span class='assign token'>=</span> <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='now identifier id'>now</span>
  
  <span class='comment val'># make the call</span>
  <span class='response identifier id'>response</span> <span class='assign token'>=</span> <span class='http identifier id'>http</span><span class='dot token'>.</span><span class='request_get identifier id'>request_get</span><span class='lparen token'>(</span><span class='url identifier id'>url</span><span class='dot token'>.</span><span class='request_uri identifier id'>request_uri</span><span class='comma token'>,</span> <span class='HEADERS constant id'>HEADERS</span><span class='rparen token'>)</span>
  <span class='body identifier id'>body</span> <span class='assign token'>=</span> <span class='response identifier id'>response</span><span class='dot token'>.</span><span class='body identifier id'>body</span>

  <span class='comment val'># body = url.read</span>
  <span class='end_time identifier id'>end_time</span> <span class='assign token'>=</span> <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='now identifier id'>now</span>
  <span class='doc identifier id'>doc</span> <span class='assign token'>=</span> <span class='REXML constant id'>REXML</span><span class='colon2 op'>::</span><span class='Document constant id'>Document</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='body identifier id'>body</span>

  <span class='if if kw'>if</span> <span class='logger identifier id'>logger</span>
    <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;call(#{method}) response: &quot;</span> <span class='plus op'>+</span> <span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
    <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;call(#{method}) time: &quot;</span> <span class='plus op'>+</span> <span class='lparen token'>(</span><span class='end_time identifier id'>end_time</span> <span class='minus op'>-</span> <span class='start_time identifier id'>start_time</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='plus op'>+</span> <span class='string val'>' seconds'</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='root_node identifier id'>root_node</span> <span class='assign token'>=</span> <span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='root identifier id'>root</span>
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='root_node identifier id'>root_node</span><span class='dot token'>.</span><span class='name identifier id'>name</span> <span class='eq op'>==</span> <span class='string val'>'error'</span><span class='rparen token'>)</span>
    <span class='error_text identifier id'>error_text</span> <span class='assign token'>=</span> <span class='root_node identifier id'>root_node</span><span class='dot token'>.</span><span class='text identifier id'>text</span>
    <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='error_text identifier id'>error_text</span> <span class='eq op'>==</span> <span class='string val'>'Invalid ID number'</span><span class='rparen token'>)</span>
      <span class='raise identifier id'>raise</span> <span class='Toodledo constant id'>Toodledo</span><span class='colon2 op'>::</span><span class='ItemNotFoundError constant id'>ItemNotFoundError</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='error_text identifier id'>error_text</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='raise identifier id'>raise</span> <span class='Toodledo constant id'>Toodledo</span><span class='colon2 op'>::</span><span class='ServerError constant id'>ServerError</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='error_text identifier id'>error_text</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='return return kw'>return</span> <span class='root_node identifier id'>root_node</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>connect</h3>
</div><div id="connect-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>connect</span><span class='args'>(base_url = DEFAULT_API_URL, proxy = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Connects to the server, asking for a new key that&#8217;s good for an hour.
Optionally takes a base URL as a parameter. Defaults to DEFAULT_API_URL.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 68</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L68">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='connect identifier id'>connect</span><span class='lparen token'>(</span><span class='base_url identifier id'>base_url</span> <span class='assign token'>=</span> <span class='DEFAULT_API_URL constant id'>DEFAULT_API_URL</span><span class='comma token'>,</span> <span class='proxy identifier id'>proxy</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;connect(#{base_url}, #{proxy.inspect})&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>

  <span class='comment val'># XXX It looks like get_user_id doesn't work reliably.  It always</span>
  <span class='comment val'># returns 1 even when we pass in a valid email and password.</span>
  <span class='comment val'># @user_id = get_user_id(@email, @password)</span>
  <span class='comment val'># logger.debug(&quot;user_id = #{@user_id}, #{@email} #{@password}&quot;)</span>

  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='@user_id ivar id'>@user_id</span> <span class='eq op'>==</span> <span class='string val'>'1'</span><span class='rparen token'>)</span>
    <span class='raise identifier id'>raise</span> <span class='InvalidConfigurationError constant id'>InvalidConfigurationError</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>&quot;Invalid user_id&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='@user_id ivar id'>@user_id</span> <span class='eq op'>==</span> <span class='string val'>'0'</span><span class='rparen token'>)</span>
    <span class='raise identifier id'>raise</span> <span class='InvalidConfigurationError constant id'>InvalidConfigurationError</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>&quot;Invalid password&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  
  <span class='comment val'># Set the base URL.</span>
  <span class='@base_url ivar id'>@base_url</span> <span class='assign token'>=</span> <span class='base_url identifier id'>base_url</span>
  
  <span class='comment val'># Get the proxy information if it exists.</span>
  <span class='@proxy ivar id'>@proxy</span> <span class='assign token'>=</span> <span class='proxy identifier id'>proxy</span>
  
  <span class='session_token identifier id'>session_token</span> <span class='assign token'>=</span> <span class='get_token identifier id'>get_token</span><span class='lparen token'>(</span><span class='@user_id ivar id'>@user_id</span><span class='rparen token'>)</span>
  <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='md5 identifier id'>md5</span><span class='lparen token'>(</span><span class='md5 identifier id'>md5</span><span class='lparen token'>(</span><span class='@password ivar id'>@password</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='plus op'>+</span> <span class='session_token identifier id'>session_token</span> <span class='plus op'>+</span> <span class='@user_id ivar id'>@user_id</span><span class='rparen token'>)</span><span class='semicolon token'>;</span>
  
  <span class='@key ivar id'>@key</span> <span class='assign token'>=</span> <span class='key identifier id'>key</span>
  <span class='@start_time ivar id'>@start_time</span> <span class='assign token'>=</span> <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='now identifier id'>now</span>      
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>delete_context</h3>
</div><div id="delete_context-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>delete_context</span><span class='args'>(id)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Deletes the context from Toodledo, using the id.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 696</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L696">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">696
697
698
699
700
701
702
703
704
705</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='delete_context identifier id'>delete_context</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;delete_context(#{id})&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  <span class='raise identifier id'>raise</span> <span class='string val'>&quot;Nil id&quot;</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='id identifier id'>id</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='string val'>'deleteContext'</span><span class='comma token'>,</span> <span class='lbrace token'>{</span> <span class='symbol val'>:id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='id identifier id'>id</span> <span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='@key ivar id'>@key</span><span class='rparen token'>)</span>
  
  <span class='flush_contexts identifier id'>flush_contexts</span><span class='lparen token'>(</span><span class='rparen token'>)</span><span class='semicolon token'>;</span>
  
  <span class='return return kw'>return</span> <span class='lparen token'>(</span><span class='result identifier id'>result</span><span class='dot token'>.</span><span class='text identifier id'>text</span> <span class='eq op'>==</span> <span class='string val'>'1'</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>delete_folder</h3>
</div><div id="delete_folder-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>delete_folder</span><span class='args'>(id)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Deletes the folder with the id. id : The folder id.
</p>
<p>
Returns true if the delete was successful.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 947</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L947">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">947
948
949
950
951
952
953
954
955
956</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='delete_folder identifier id'>delete_folder</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;delete_folder(#{id})&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  <span class='raise identifier id'>raise</span> <span class='string val'>&quot;Nil id&quot;</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='id identifier id'>id</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='string val'>'deleteFolder'</span><span class='comma token'>,</span> <span class='lbrace token'>{</span> <span class='symbol val'>:id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='id identifier id'>id</span> <span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='@key ivar id'>@key</span><span class='rparen token'>)</span>
  
  <span class='flush_folders identifier id'>flush_folders</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  
  <span class='return return kw'>return</span> <span class='lparen token'>(</span><span class='result identifier id'>result</span><span class='dot token'>.</span><span class='text identifier id'>text</span> <span class='eq op'>==</span> <span class='string val'>'1'</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>delete_goal</h3>
</div><div id="delete_goal-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>delete_goal</span><span class='args'>(id)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Delete the goal with the given id.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 800</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L800">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">800
801
802
803
804
805
806
807
808
809</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='delete_goal identifier id'>delete_goal</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;delete_goal(#{id})&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  <span class='raise identifier id'>raise</span> <span class='string val'>&quot;Nil id&quot;</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='id identifier id'>id</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='string val'>'deleteGoal'</span><span class='comma token'>,</span> <span class='lbrace token'>{</span> <span class='symbol val'>:id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='id identifier id'>id</span> <span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='@key ivar id'>@key</span><span class='rparen token'>)</span>
  
  <span class='flush_goals identifier id'>flush_goals</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  
  <span class='return return kw'>return</span> <span class='lparen token'>(</span><span class='result identifier id'>result</span><span class='dot token'>.</span><span class='text identifier id'>text</span> <span class='eq op'>==</span> <span class='string val'>'1'</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>delete_task</h3>
</div><div id="delete_task-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>delete_task</span><span class='args'>(id)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Deletes the task, using the task id.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 596</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L596">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">596
597
598
599
600
601
602
603</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='delete_task identifier id'>delete_task</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;delete_task(#{id})&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  <span class='raise identifier id'>raise</span> <span class='string val'>&quot;Nil id&quot;</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='id identifier id'>id</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>

  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='string val'>'deleteTask'</span><span class='comma token'>,</span> <span class='lbrace token'>{</span> <span class='symbol val'>:id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='id identifier id'>id</span> <span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='@key ivar id'>@key</span><span class='rparen token'>)</span>

  <span class='return return kw'>return</span> <span class='lparen token'>(</span><span class='result identifier id'>result</span><span class='dot token'>.</span><span class='text identifier id'>text</span> <span class='eq op'>==</span> <span class='string val'>'1'</span><span class='rparen token'>)</span>    
<span class='end end kw'>end</span>    
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>disconnect</h3>
</div><div id="disconnect-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>disconnect</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Disconnects from the server.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 98</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L98">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">98
99
100
101
102
103
104</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='disconnect identifier id'>disconnect</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='string val'>&quot;disconnect()&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  <span class='@key ivar id'>@key</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@start_time ivar id'>@start_time</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@base_url ivar id'>@base_url</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@proxy ivar id'>@proxy</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>edit_folder</h3>
</div><div id="edit_folder-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>edit_folder</span><span class='args'>(id, params = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Edits a folder.
</p>
<ul>
<li>id : The id number of the folder to edit.

</li>
<li>title : A text string up to 32 characters.

</li>
<li>private : A boolean value (0 or 1) that describes if this folder can be
shared. A value of 1 means that this folder is private.

</li>
<li>archived : A boolean value (0 or 1) that describes if this folder is
archived.

</li>
</ul>
<p>
Returns true if the edit was successful.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 924</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L924">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">924
925
926
927
928
929
930
931
932
933
934
935
936
937
938
939
940
941</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='edit_folder identifier id'>edit_folder</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='params identifier id'>params</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;edit_folder(#{id}, #{params.inspect})&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  <span class='raise identifier id'>raise</span> <span class='string val'>&quot;Nil id&quot;</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='id identifier id'>id</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  
  <span class='myhash identifier id'>myhash</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='id identifier id'>id</span> <span class='rbrace token'>}</span>
  
  <span class='handle_string identifier id'>handle_string</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:title</span><span class='rparen token'>)</span>
  
  <span class='handle_boolean identifier id'>handle_boolean</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:private</span><span class='rparen token'>)</span>
  
  <span class='handle_boolean identifier id'>handle_boolean</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:archived</span><span class='rparen token'>)</span>
  
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='string val'>'editFolder'</span><span class='comma token'>,</span> <span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='@key ivar id'>@key</span><span class='rparen token'>)</span>
  
  <span class='flush_folders identifier id'>flush_folders</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  
  <span class='return return kw'>return</span> <span class='lparen token'>(</span><span class='result identifier id'>result</span><span class='dot token'>.</span><span class='text identifier id'>text</span> <span class='eq op'>==</span> <span class='string val'>'1'</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>edit_task</h3>
</div><div id="edit_task-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>edit_task</span><span class='args'>(id, params = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <ul>
<li>id : The id number of the task to edit.

</li>
<li>title : A text string up to 255 characters representing the name of the
task.

</li>
<li>folder : The id number of the folder.

</li>
<li>context : The id number of the context.

</li>
<li>goal : The id number of the goal.

</li>
<li>completed : true or false.

</li>
<li>duedate : A date formatted as YYYY-MM-DD with an optional modifier attached
to the front. Examples: &quot;2007-01-23&quot; , &quot;=2007-01-23&quot; ,
&quot;&gt;2007-01-23&quot;. To unset the date, set it to
&#8216;0000-00-00&#8217;.

</li>
<li>duetime : A date formated as HH:MM MM.

</li>
<li>repeat : Use the REPEAT_MAP with the relevant symbol here.

</li>
<li>length : An integer representing the number of minutes that the task will
take to complete.

</li>
<li>priority : Use the PRIORITY_MAP with the relevant symbol here.

</li>
<li>note : A text string.

</li>
</ul>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 547</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L547">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='edit_task identifier id'>edit_task</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='params identifier id'>params</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;edit_task(#{id}, #{params.inspect})&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  <span class='raise identifier id'>raise</span> <span class='string val'>&quot;Nil id&quot;</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='id identifier id'>id</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  
  <span class='myhash identifier id'>myhash</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='id identifier id'>id</span> <span class='rbrace token'>}</span>
  
  <span class='handle_string identifier id'>handle_string</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:tag</span><span class='rparen token'>)</span>

  <span class='comment val'># If the folder is a string, then we assume we're supposed to find out what</span>
  <span class='comment val'># the id is.</span>
  <span class='handle_folder identifier id'>handle_folder</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>

  <span class='comment val'># Context handling</span>
  <span class='handle_context identifier id'>handle_context</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>

  <span class='comment val'># Goal handling</span>
  <span class='handle_goal identifier id'>handle_goal</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>

  <span class='comment val'># duedate handling.  Take either a string or a Time object.'YYYY-MM-DD'</span>
  <span class='handle_date identifier id'>handle_date</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:duedate</span><span class='rparen token'>)</span>

  <span class='comment val'># duetime handling.  Take either a string or a Time object. </span>
  <span class='handle_time identifier id'>handle_time</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:duetime</span><span class='rparen token'>)</span>

  <span class='comment val'># parent handling.</span>
  <span class='handle_parent identifier id'>handle_parent</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>
  
  <span class='comment val'># Handle completion.</span>
  <span class='handle_boolean identifier id'>handle_boolean</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:completed</span><span class='rparen token'>)</span>

  <span class='comment val'># Handle star</span>
  <span class='handle_boolean identifier id'>handle_boolean</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:star</span><span class='rparen token'>)</span>

  <span class='comment val'># repeat: use the map to change from the symbol to the raw numeric value.</span>
  <span class='handle_repeat identifier id'>handle_repeat</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>

  <span class='comment val'># priority use the map to change from the symbol to the raw numeric value.</span>
  <span class='handle_priority identifier id'>handle_priority</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>
  
  <span class='handle_string identifier id'>handle_string</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:note</span><span class='rparen token'>)</span>

  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='string val'>'editTask'</span><span class='comma token'>,</span> <span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='@key ivar id'>@key</span><span class='rparen token'>)</span>

  <span class='return return kw'>return</span> <span class='lparen token'>(</span><span class='result identifier id'>result</span><span class='dot token'>.</span><span class='text identifier id'>text</span> <span class='eq op'>==</span> <span class='string val'>'1'</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>escape_text</h3>
</div><div id="escape_text-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>escape_text</span><span class='args'>(input)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
escape the &amp; character as %26 and the ; character as %3B. throws an
exception if input is nil.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 124</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L124">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">124
125
126
127
128
129
130
131</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='escape_text identifier id'>escape_text</span><span class='lparen token'>(</span><span class='input identifier id'>input</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='string val'>&quot;Nil input&quot;</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='input identifier id'>input</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='notop op'>!</span> <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span> <span class='String constant id'>String</span><span class='rparen token'>)</span>
  
  <span class='output_string identifier id'>output_string</span> <span class='assign token'>=</span> <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='string val'>'&amp;'</span><span class='comma token'>,</span> <span class='string val'>'%26'</span><span class='rparen token'>)</span>
  <span class='output_string identifier id'>output_string</span> <span class='assign token'>=</span> <span class='output_string identifier id'>output_string</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='string val'>';'</span><span class='comma token'>,</span> <span class='string val'>'%3B'</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='output_string identifier id'>output_string</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>expired?</h3>
</div><div id="expired-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>expired?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns true if the session has expired.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 107</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L107">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">107
108
109
110
111
112
113
114</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='expired? fid id'>expired?</span>
  <span class='comment val'>#logger.debug(&quot;expired?&quot;) too annoying</span>
  
  <span class='comment val'># The key is only good for an hour.  If it's been over an hour, </span>
  <span class='comment val'># then we count it as expired.</span>
  <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='@start_time ivar id'>@start_time</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='lparen token'>(</span><span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='now identifier id'>now</span> <span class='minus op'>-</span> <span class='@start_time ivar id'>@start_time</span> <span class='gt op'>&gt;</span> <span class='EXPIRATION_TIME_IN_SECS constant id'>EXPIRATION_TIME_IN_SECS</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>flush_contexts</h3>
</div><div id="flush_contexts-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>flush_contexts</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Deletes the cached contexts.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 710</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L710">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">710
711
712
713
714
715
716</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='flush_contexts identifier id'>flush_contexts</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='string val'>'flush_contexts()'</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>

  <span class='@contexts_by_id ivar id'>@contexts_by_id</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@contexts_by_name ivar id'>@contexts_by_name</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@contexts ivar id'>@contexts</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>flush_folders</h3>
</div><div id="flush_folders-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>flush_folders</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Nils out the cached folders.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 908</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L908">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">908
909
910
911
912
913
914</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='flush_folders identifier id'>flush_folders</span><span class='lparen token'>(</span><span class='rparen token'>)</span>      
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='string val'>&quot;flush_folders()&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  
  <span class='@folders ivar id'>@folders</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@folders_by_name ivar id'>@folders_by_name</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@folders_by_id ivar id'>@folders_by_id</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>      
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>flush_goals</h3>
</div><div id="flush_goals-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>flush_goals</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Nils the cached goals.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 814</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L814">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">814
815
816
817
818
819
820</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='flush_goals identifier id'>flush_goals</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='string val'>'flush_goals()'</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  
  <span class='@goals ivar id'>@goals</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@goals_by_name ivar id'>@goals_by_name</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@goals_by_id ivar id'>@goals_by_id</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_account_info</h3>
</div><div id="get_account_info-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_account_info</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the information associated with this account.
</p>
<pre class="code">
  <span class='pro identifier id'>pro</span> <span class='colon op'>:</span> <span class='Whether constant id'>Whether</span> <span class='or or kw'>or</span> <span class='not not kw'>not</span> <span class='the identifier id'>the</span> <span class='user identifier id'>user</span> <span class='is identifier id'>is</span> <span class='a identifier id'>a</span> <span class='Pro constant id'>Pro</span> <span class='member identifier id'>member</span><span class='dot token'>.</span> <span class='You constant id'>You</span> <span class='need identifier id'>need</span> <span class='to identifier id'>to</span> <span class='know identifier id'>know</span> <span class='this identifier id'>this</span> <span class='if if_mod kw'>if</span> <span class='you identifier id'>you</span> <span class='want identifier id'>want</span> <span class='to identifier id'>to</span> <span class='use identifier id'>use</span> <span class='subtasks identifier id'>subtasks</span><span class='dot token'>.</span>
  <span class='dateformat identifier id'>dateformat</span> <span class='colon op'>:</span> <span class='The constant id'>The</span> <span class='user identifier id'>user</span><span class='string val'>'s prefered format for representing dates. (0=M D, Y, 1=M/D/Y, 2=D/M/Y, 3=Y-M-D)
  timezone : The number of half hours that the user'</span><span class='s identifier id'>s</span> <span class='timezone identifier id'>timezone</span> <span class='is identifier id'>is</span> <span class='offset identifier id'>offset</span> <span class='from identifier id'>from</span> <span class='the identifier id'>the</span> <span class='server identifier id'>server</span><span class='string val'>'s timezone. A value of -4 means that the user'</span><span class='s identifier id'>s</span> <span class='timezone identifier id'>timezone</span> <span class='is identifier id'>is</span> <span class='integer val'>2</span> <span class='hours identifier id'>hours</span> <span class='earlier identifier id'>earlier</span> <span class='than identifier id'>than</span> <span class='the identifier id'>the</span> <span class='server identifier id'>server</span><span class='string val'>'s timezone.
  hidemonths : If the task is due this many months into the future, the user wants them to be hidden.
  hotlistpriority : The priority value above which tasks should appear on the hotlist.
  hotlistduedate : The due date lead-time by which tasks should will appear on the hotlist.
  lastaddedit: last time this was edited
  lastdelete:
</span></pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 259</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L259">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get_account_info identifier id'>get_account_info</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='string val'>'getAccountInfo'</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='@key ivar id'>@key</span><span class='rparen token'>)</span>
  
  <span class='pro identifier id'>pro</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='result identifier id'>result</span><span class='dot token'>.</span><span class='elements identifier id'>elements</span><span class='lbrack token'>[</span><span class='string val'>'pro'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span> <span class='eq op'>==</span> <span class='integer val'>1</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='true true kw'>true</span> <span class='colon op'>:</span> <span class='false false kw'>false</span>
  
  <span class='comment val'>#&lt;lastaddedit&gt;2008-01-24 12:26:45&lt;/lastaddedit&gt;</span>
  <span class='comment val'>#&lt;lastdelete&gt;2008-01-23 15:45:55&lt;/lastdelete&gt;</span>
  <span class='fmt identifier id'>fmt</span> <span class='assign token'>=</span> <span class='DATETIME_FORMAT constant id'>DATETIME_FORMAT</span>
  
  <span class='lastaddedit identifier id'>lastaddedit</span> <span class='assign token'>=</span> <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='elements identifier id'>elements</span><span class='lbrack token'>[</span><span class='string val'>'lastaddedit'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='text identifier id'>text</span>
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='lastaddedit identifier id'>lastaddedit</span> <span class='neq op'>!=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='last_modified_date identifier id'>last_modified_date</span> <span class='assign token'>=</span> <span class='DateTime constant id'>DateTime</span><span class='dot token'>.</span><span class='strptime identifier id'>strptime</span><span class='lparen token'>(</span><span class='lastaddedit identifier id'>lastaddedit</span><span class='comma token'>,</span> <span class='fmt identifier id'>fmt</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='last_modified_date identifier id'>last_modified_date</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='end end kw'>end</span>
  
  <span class='lastdelete identifier id'>lastdelete</span> <span class='assign token'>=</span> <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='elements identifier id'>elements</span><span class='lbrack token'>[</span><span class='string val'>'lastdelete'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='text identifier id'>text</span>      
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='lastdelete identifier id'>lastdelete</span> <span class='neq op'>!=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;lastdelete = #{lastdelete}&quot;</span><span class='rparen token'>)</span>
    <span class='last_deleted_date identifier id'>last_deleted_date</span> <span class='assign token'>=</span> <span class='DateTime constant id'>DateTime</span><span class='dot token'>.</span><span class='strptime identifier id'>strptime</span><span class='lparen token'>(</span><span class='lastdelete identifier id'>lastdelete</span><span class='comma token'>,</span> <span class='fmt identifier id'>fmt</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='last_deleted_date identifier id'>last_deleted_date</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='end end kw'>end</span>
  
  <span class='hash identifier id'>hash</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span>
    <span class='symbol val'>:userid</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='elements identifier id'>elements</span><span class='lbrack token'>[</span><span class='string val'>'userid'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='comma token'>,</span>
    <span class='symbol val'>:alias</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='elements identifier id'>elements</span><span class='lbrack token'>[</span><span class='string val'>'alias'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='comma token'>,</span>
    <span class='symbol val'>:pro</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='pro identifier id'>pro</span><span class='comma token'>,</span>
    <span class='symbol val'>:dateformat</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='elements identifier id'>elements</span><span class='lbrack token'>[</span><span class='string val'>'dateformat'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span><span class='comma token'>,</span>
    <span class='symbol val'>:timezone</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='elements identifier id'>elements</span><span class='lbrack token'>[</span><span class='string val'>'timezone'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span><span class='comma token'>,</span>
    <span class='symbol val'>:hidemonths</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='elements identifier id'>elements</span><span class='lbrack token'>[</span><span class='string val'>'hidemonths'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span><span class='comma token'>,</span>
    <span class='symbol val'>:hotlistpriority</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='elements identifier id'>elements</span><span class='lbrack token'>[</span><span class='string val'>'hotlistpriority'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span><span class='comma token'>,</span>
    <span class='symbol val'>:hotlistduedate</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='elements identifier id'>elements</span><span class='lbrack token'>[</span><span class='string val'>'hotlistduedate'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span><span class='comma token'>,</span>
    <span class='symbol val'>:lastaddedit</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='last_modified_date identifier id'>last_modified_date</span><span class='comma token'>,</span>
    <span class='symbol val'>:lastdelete</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='last_deleted_date identifier id'>last_deleted_date</span>
  <span class='rbrace token'>}</span>
  
  <span class='return return kw'>return</span> <span class='hash identifier id'>hash</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_context_by_id</h3>
</div><div id="get_context_by_id-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_context_by_id</span><span class='args'>(context_id)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the context with the given id.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 644</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L644">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">644
645
646
647
648
649
650
651
652
653</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get_context_by_id identifier id'>get_context_by_id</span><span class='lparen token'>(</span><span class='context_id identifier id'>context_id</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;get_context_by_id(#{context_id})&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>

  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='@contexts_by_id ivar id'>@contexts_by_id</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='get_contexts identifier id'>get_contexts</span><span class='lparen token'>(</span><span class='true true kw'>true</span><span class='rparen token'>)</span>  
  <span class='end end kw'>end</span>

  <span class='context identifier id'>context</span> <span class='assign token'>=</span> <span class='@contexts_by_id ivar id'>@contexts_by_id</span><span class='lbrack token'>[</span><span class='context_id identifier id'>context_id</span><span class='rbrack token'>]</span>
  <span class='return return kw'>return</span> <span class='context identifier id'>context</span>      
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_context_by_name</h3>
</div><div id="get_context_by_name-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_context_by_name</span><span class='args'>(context_name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Contexts
</p>
<p>
Returns the context with the given name.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 630</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L630">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">630
631
632
633
634
635
636
637
638
639</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get_context_by_name identifier id'>get_context_by_name</span><span class='lparen token'>(</span><span class='context_name identifier id'>context_name</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;get_context_by_name(#{context_name})&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='@contexts_by_name ivar id'>@contexts_by_name</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='get_contexts identifier id'>get_contexts</span><span class='lparen token'>(</span><span class='true true kw'>true</span><span class='rparen token'>)</span>  
  <span class='end end kw'>end</span>

  <span class='context identifier id'>context</span> <span class='assign token'>=</span> <span class='@contexts_by_name ivar id'>@contexts_by_name</span><span class='lbrack token'>[</span><span class='context_name identifier id'>context_name</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span><span class='rbrack token'>]</span>
  <span class='return return kw'>return</span> <span class='context identifier id'>context</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_contexts</h3>
</div><div id="get_contexts-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_contexts</span><span class='args'>(flush = false)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Gets the array of contexts.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 658</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L658">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get_contexts identifier id'>get_contexts</span><span class='lparen token'>(</span><span class='flush identifier id'>flush</span> <span class='assign token'>=</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;get_contexts(#{flush})&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  <span class='return return kw'>return</span> <span class='@contexts ivar id'>@contexts</span> <span class='unless unless_mod kw'>unless</span> <span class='lparen token'>(</span><span class='flush identifier id'>flush</span> <span class='orop op'>||</span> <span class='@contexts ivar id'>@contexts</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='string val'>'getContexts'</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='@key ivar id'>@key</span><span class='rparen token'>)</span>
  <span class='contexts_by_name identifier id'>contexts_by_name</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span> 
  <span class='contexts_by_id identifier id'>contexts_by_id</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>    
  <span class='contexts identifier id'>contexts</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  
  <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='elements identifier id'>elements</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='el identifier id'>el</span><span class='bitor op'>|</span>
    <span class='context identifier id'>context</span> <span class='assign token'>=</span> <span class='Context constant id'>Context</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='el identifier id'>el</span><span class='rparen token'>)</span>
    <span class='contexts identifier id'>contexts</span> <span class='lshft op'>&lt;&lt;</span> <span class='context identifier id'>context</span>
    <span class='contexts_by_id identifier id'>contexts_by_id</span><span class='lbrack token'>[</span><span class='context identifier id'>context</span><span class='dot token'>.</span><span class='server_id identifier id'>server_id</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='context identifier id'>context</span>
    <span class='contexts_by_name identifier id'>contexts_by_name</span><span class='lbrack token'>[</span><span class='context identifier id'>context</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='context identifier id'>context</span>
  <span class='rbrace token'>}</span>
  <span class='@contexts_by_id ivar id'>@contexts_by_id</span> <span class='assign token'>=</span> <span class='contexts_by_id identifier id'>contexts_by_id</span>
  <span class='@contexts_by_name ivar id'>@contexts_by_name</span> <span class='assign token'>=</span> <span class='contexts_by_name identifier id'>contexts_by_name</span>
  <span class='@contexts ivar id'>@contexts</span> <span class='assign token'>=</span> <span class='contexts identifier id'>contexts</span>
  <span class='return return kw'>return</span> <span class='contexts identifier id'>contexts</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_deleted</h3>
</div><div id="get_deleted-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_deleted</span><span class='args'>(after)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns deleted tasks.
</p>
<pre class="code">
  <span class='after identifier id'>after</span><span class='colon op'>:</span> <span class='a identifier id'>a</span> <span class='datetime identifier id'>datetime</span> <span class='object identifier id'>object</span> <span class='that identifier id'>that</span> <span class='indicates identifier id'>indicates</span> <span class='the identifier id'>the</span> <span class='start identifier id'>start</span> <span class='date identifier id'>date</span> <span class='after identifier id'>after</span> <span class='which identifier id'>which</span> <span class='deletes identifier id'>deletes</span> <span class='should identifier id'>should</span> <span class='be identifier id'>be</span> <span class='shown identifier id'>shown</span><span class='dot token'>.</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 610</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L610">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">610
611
612
613
614
615
616
617
618
619
620
621</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get_deleted identifier id'>get_deleted</span><span class='lparen token'>(</span><span class='after identifier id'>after</span> <span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;get_deleted(#{after})&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  
  <span class='formatted_after identifier id'>formatted_after</span> <span class='assign token'>=</span> <span class='after identifier id'>after</span><span class='dot token'>.</span><span class='strftime identifier id'>strftime</span><span class='lparen token'>(</span><span class='Session constant id'>Session</span><span class='colon2 op'>::</span><span class='DATETIME_FORMAT constant id'>DATETIME_FORMAT</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='string val'>'getDeleted'</span><span class='comma token'>,</span> <span class='lbrace token'>{</span> <span class='symbol val'>:after</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='formatted_after identifier id'>formatted_after</span> <span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='@key ivar id'>@key</span><span class='rparen token'>)</span>
  <span class='deleted_tasks identifier id'>deleted_tasks</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='elements identifier id'>elements</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='el identifier id'>el</span><span class='bitor op'>|</span> 
    <span class='deleted_task identifier id'>deleted_task</span> <span class='assign token'>=</span> <span class='Task constant id'>Task</span><span class='dot token'>.</span><span class='parse_deleted identifier id'>parse_deleted</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='el identifier id'>el</span><span class='rparen token'>)</span>
    <span class='deleted_tasks identifier id'>deleted_tasks</span> <span class='lshft op'>&lt;&lt;</span> <span class='deleted_task identifier id'>deleted_task</span>
  <span class='end end kw'>end</span>
  <span class='return return kw'>return</span> <span class='deleted_tasks identifier id'>deleted_tasks</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_folder_by_id</h3>
</div><div id="get_folder_by_id-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_folder_by_id</span><span class='args'>(folder_id)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Gets the folder with the given id.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 842</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L842">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">842
843
844
845
846
847
848
849
850
851</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get_folder_by_id identifier id'>get_folder_by_id</span><span class='lparen token'>(</span><span class='folder_id identifier id'>folder_id</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;get_folder_by_id(#{folder_id})&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  <span class='raise identifier id'>raise</span> <span class='string val'>&quot;Nil folder_id&quot;</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='folder_id identifier id'>folder_id</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='@folders_by_id ivar id'>@folders_by_id</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='get_folders identifier id'>get_folders</span><span class='lparen token'>(</span><span class='true true kw'>true</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='return return kw'>return</span> <span class='@folders_by_id ivar id'>@folders_by_id</span><span class='lbrack token'>[</span><span class='folder_id identifier id'>folder_id</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_folder_by_name</h3>
</div><div id="get_folder_by_name-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_folder_by_name</span><span class='args'>(folder_name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Folders
</p>
<p>
Gets the folder by the name. Case insensitive.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 828</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L828">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">828
829
830
831
832
833
834
835
836
837</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get_folder_by_name identifier id'>get_folder_by_name</span><span class='lparen token'>(</span><span class='folder_name identifier id'>folder_name</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;get_folders_by_name(#{folder_name})&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  <span class='raise identifier id'>raise</span> <span class='string val'>&quot;Nil folder name&quot;</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='folder_name identifier id'>folder_name</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='@folders_by_name ivar id'>@folders_by_name</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='get_folders identifier id'>get_folders</span><span class='lparen token'>(</span><span class='true true kw'>true</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='return return kw'>return</span> <span class='@folders_by_name ivar id'>@folders_by_name</span><span class='lbrack token'>[</span><span class='folder_name identifier id'>folder_name</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_folders</h3>
</div><div id="get_folders-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_folders</span><span class='args'>(flush = false)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Gets all the folders.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 854</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L854">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">854
855
856
857
858
859
860
861
862
863
864
865
866
867
868
869
870
871
872
873
874
875
876
877
878
879</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get_folders identifier id'>get_folders</span><span class='lparen token'>(</span><span class='flush identifier id'>flush</span> <span class='assign token'>=</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;get_folders(#{flush})&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  <span class='return return kw'>return</span> <span class='@folders ivar id'>@folders</span> <span class='unless unless_mod kw'>unless</span> <span class='lparen token'>(</span><span class='flush identifier id'>flush</span> <span class='orop op'>||</span> <span class='@folders ivar id'>@folders</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>

  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='string val'>'getFolders'</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='@key ivar id'>@key</span><span class='rparen token'>)</span>      
  <span class='comment val'># &lt;folders&gt;</span>
  <span class='comment val'>#   &lt;folder id=&quot;123&quot; private=&quot;0&quot; archived=&quot;0&quot;&gt;Shopping&lt;/folder&gt;</span>
  <span class='comment val'>#   &lt;folder id=&quot;456&quot; private=&quot;0&quot; archived=&quot;0&quot;&gt;Home Repairs&lt;/folder&gt;</span>
  <span class='comment val'>#   &lt;folder id=&quot;789&quot; private=&quot;0&quot; archived=&quot;0&quot;&gt;Vacation Planning&lt;/folder&gt;</span>
  <span class='comment val'>#   &lt;folder id=&quot;234&quot; private=&quot;0&quot; archived=&quot;0&quot;&gt;Chores&lt;/folder&gt;</span>
  <span class='comment val'>#   &lt;folder id=&quot;567&quot; private=&quot;1&quot; archived=&quot;0&quot;&gt;Work&lt;/folder&gt;</span>
  <span class='comment val'># &lt;/folders&gt;</span>
  <span class='folders identifier id'>folders</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='folders_by_name identifier id'>folders_by_name</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='folders_by_id identifier id'>folders_by_id</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='elements identifier id'>elements</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='el identifier id'>el</span><span class='bitor op'>|</span> 
      <span class='folder identifier id'>folder</span> <span class='assign token'>=</span> <span class='Folder constant id'>Folder</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='el identifier id'>el</span><span class='rparen token'>)</span>
      <span class='folders identifier id'>folders</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='folder identifier id'>folder</span><span class='rparen token'>)</span>
      <span class='folders_by_name identifier id'>folders_by_name</span><span class='lbrack token'>[</span><span class='folder identifier id'>folder</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='folder identifier id'>folder</span> <span class='comment val'># lowercase the key search</span>
      <span class='folders_by_id identifier id'>folders_by_id</span><span class='lbrack token'>[</span><span class='folder identifier id'>folder</span><span class='dot token'>.</span><span class='server_id identifier id'>server_id</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='folder identifier id'>folder</span>
  <span class='rbrace token'>}</span>
  <span class='@folders ivar id'>@folders</span> <span class='assign token'>=</span> <span class='folders identifier id'>folders</span>
  <span class='@folders_by_name ivar id'>@folders_by_name</span> <span class='assign token'>=</span> <span class='folders_by_name identifier id'>folders_by_name</span>
  <span class='@folders_by_id ivar id'>@folders_by_id</span> <span class='assign token'>=</span> <span class='folders_by_id identifier id'>folders_by_id</span>
  <span class='return return kw'>return</span> <span class='@folders ivar id'>@folders</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_goal_by_id</h3>
</div><div id="get_goal_by_id-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_goal_by_id</span><span class='args'>(goal_id)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the goal with the given id.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 738</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L738">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">738
739
740
741
742
743
744
745
746</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get_goal_by_id identifier id'>get_goal_by_id</span><span class='lparen token'>(</span><span class='goal_id identifier id'>goal_id</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;get_goal_by_id(#{goal_id})&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='@goals_by_id ivar id'>@goals_by_id</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='get_goals identifier id'>get_goals</span><span class='lparen token'>(</span><span class='true true kw'>true</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='goal identifier id'>goal</span> <span class='assign token'>=</span> <span class='@goals_by_id ivar id'>@goals_by_id</span><span class='lbrack token'>[</span><span class='goal_id identifier id'>goal_id</span><span class='rbrack token'>]</span>
  <span class='return return kw'>return</span> <span class='goal identifier id'>goal</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_goal_by_name</h3>
</div><div id="get_goal_by_name-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_goal_by_name</span><span class='args'>(goal_name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Goals
</p>
<p>
Returns the goal with the given name. Case insensitive.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 725</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L725">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">725
726
727
728
729
730
731
732
733</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get_goal_by_name identifier id'>get_goal_by_name</span><span class='lparen token'>(</span><span class='goal_name identifier id'>goal_name</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;get_goal_by_name(#{goal_name})&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='@goals_by_name ivar id'>@goals_by_name</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='get_goals identifier id'>get_goals</span><span class='lparen token'>(</span><span class='true true kw'>true</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='goal identifier id'>goal</span> <span class='assign token'>=</span> <span class='@goals_by_name ivar id'>@goals_by_name</span><span class='lbrack token'>[</span><span class='goal_name identifier id'>goal_name</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span><span class='rbrack token'>]</span>
  <span class='return return kw'>return</span> <span class='goal identifier id'>goal</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_goals</h3>
</div><div id="get_goals-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_goals</span><span class='args'>(flush = false)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the array of goals.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 751</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L751">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766
767
768
769
770
771
772
773
774
775
776
777
778
779</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get_goals identifier id'>get_goals</span><span class='lparen token'>(</span><span class='flush identifier id'>flush</span> <span class='assign token'>=</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;get_goals(#{flush})&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  <span class='return return kw'>return</span> <span class='@goals ivar id'>@goals</span> <span class='unless unless_mod kw'>unless</span> <span class='lparen token'>(</span><span class='flush identifier id'>flush</span> <span class='orop op'>||</span> <span class='@goals ivar id'>@goals</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
 
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='string val'>'getGoals'</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='@key ivar id'>@key</span><span class='rparen token'>)</span>
   
  <span class='goals_by_name identifier id'>goals_by_name</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='goals_by_id identifier id'>goals_by_id</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='goals identifier id'>goals</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='elements identifier id'>elements</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='el identifier id'>el</span><span class='bitor op'>|</span>        
     <span class='goal identifier id'>goal</span> <span class='assign token'>=</span> <span class='Goal constant id'>Goal</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='el identifier id'>el</span><span class='rparen token'>)</span>
     <span class='goals identifier id'>goals</span> <span class='lshft op'>&lt;&lt;</span> <span class='goal identifier id'>goal</span>
     <span class='goals_by_id identifier id'>goals_by_id</span><span class='lbrack token'>[</span><span class='goal identifier id'>goal</span><span class='dot token'>.</span><span class='server_id identifier id'>server_id</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='goal identifier id'>goal</span>
     <span class='goals_by_name identifier id'>goals_by_name</span><span class='lbrack token'>[</span><span class='goal identifier id'>goal</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='goal identifier id'>goal</span>
  <span class='end end kw'>end</span>
  
  <span class='comment val'># Loop through and make sure we've got a reference for every contributing </span>
  <span class='comment val'># goal.</span>
  <span class='for for kw'>for</span> <span class='goal identifier id'>goal</span> <span class='in in kw'>in</span> <span class='goals identifier id'>goals</span>
    <span class='next next kw'>next</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='goal identifier id'>goal</span><span class='dot token'>.</span><span class='contributes_id identifier id'>contributes_id</span> <span class='eq op'>==</span> <span class='Goal constant id'>Goal</span><span class='colon2 op'>::</span><span class='NO_GOAL constant id'>NO_GOAL</span><span class='dot token'>.</span><span class='server_id identifier id'>server_id</span><span class='rparen token'>)</span>
    <span class='parent_goal identifier id'>parent_goal</span> <span class='assign token'>=</span> <span class='goals_by_id identifier id'>goals_by_id</span><span class='lbrack token'>[</span><span class='goal identifier id'>goal</span><span class='dot token'>.</span><span class='contributes_id identifier id'>contributes_id</span><span class='rbrack token'>]</span>
    <span class='goal identifier id'>goal</span><span class='dot token'>.</span><span class='contributes identifier id'>contributes</span> <span class='assign token'>=</span> <span class='parent_goal identifier id'>parent_goal</span>
  <span class='end end kw'>end</span>
  
  <span class='@goals ivar id'>@goals</span> <span class='assign token'>=</span> <span class='goals identifier id'>goals</span>
  <span class='@goals_by_name ivar id'>@goals_by_name</span> <span class='assign token'>=</span> <span class='goals_by_name identifier id'>goals_by_name</span>
  <span class='@goals_by_id ivar id'>@goals_by_id</span> <span class='assign token'>=</span> <span class='goals_by_id identifier id'>goals_by_id</span>
  <span class='return return kw'>return</span> <span class='goals identifier id'>goals</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_server_info</h3>
</div><div id="get_server_info-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_server_info</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
The &quot;getServerInfo&quot; API call will return some information about
the server and your current API session.
</p>
<pre class="code">
 <span class='unixtime identifier id'>unixtime</span><span class='colon op'>:</span> <span class='the identifier id'>the</span> <span class='time identifier id'>time</span> <span class='since identifier id'>since</span> <span class='epoch identifier id'>epoch</span> <span class='of identifier id'>of</span> <span class='the identifier id'>the</span> <span class='server identifier id'>server</span><span class='dot token'>.</span>
 <span class='date identifier id'>date</span><span class='colon op'>:</span> <span class='the identifier id'>the</span> <span class='date identifier id'>date</span> <span class='of identifier id'>of</span> <span class='the identifier id'>the</span> <span class='server identifier id'>server</span><span class='dot token'>.</span>
 <span class='tokenexpires identifier id'>tokenexpires</span><span class='colon op'>:</span> <span class='how identifier id'>how</span> <span class='long identifier id'>long</span> <span class='in in kw'>in</span> <span class='minutes identifier id'>minutes</span> <span class='before identifier id'>before</span> <span class='the identifier id'>the</span> <span class='current identifier id'>current</span> <span class='token identifier id'>token</span> <span class='expires identifier id'>expires</span><span class='dot token'>.</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 306</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L306">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get_server_info identifier id'>get_server_info</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='string val'>'getServerInfo'</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='@key ivar id'>@key</span><span class='rparen token'>)</span>
  
  <span class='comment val'># &lt;server&gt;</span>
  <span class='comment val'>#&lt;unixtime&gt;1204569838&lt;/unixtime&gt;</span>
  <span class='comment val'>#&lt;date&gt;Mon,  3 Mar 2008 12:43:58 -0600&lt;/date&gt;</span>
  <span class='comment val'>#&lt;tokenexpires&gt;45.4&lt;/tokenexpires&gt;</span>
  <span class='comment val'>#&lt;/server&gt;</span>
  
  <span class='unixtime identifier id'>unixtime</span> <span class='assign token'>=</span> <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='elements identifier id'>elements</span><span class='lbrack token'>[</span><span class='string val'>'unixtime'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
  <span class='server_date identifier id'>server_date</span> <span class='assign token'>=</span> <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='unixtime identifier id'>unixtime</span><span class='rparen token'>)</span>
  <span class='token_expires identifier id'>token_expires</span> <span class='assign token'>=</span> <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='elements identifier id'>elements</span><span class='lbrack token'>[</span><span class='string val'>'tokenexpires'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
  <span class='hash identifier id'>hash</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span>
    <span class='symbol val'>:unixtime</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='unixtime identifier id'>unixtime</span><span class='comma token'>,</span>
    <span class='symbol val'>:date</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='server_date identifier id'>server_date</span><span class='comma token'>,</span>
    <span class='symbol val'>:tokenexpires</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='token_expires identifier id'>token_expires</span>
  <span class='rbrace token'>}</span>
  
  <span class='return return kw'>return</span> <span class='hash identifier id'>hash</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_task_by_id</h3>
</div><div id="get_task_by_id-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_task_by_id</span><span class='args'>(id)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Gets a single task by its id, and returns the task.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 455</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L455">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">455
456
457
458
459
460
461</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get_task_by_id identifier id'>get_task_by_id</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='string val'>'getTasks'</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='symbol val'>:id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='id identifier id'>id</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='@key ivar id'>@key</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='elements identifier id'>elements</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='el identifier id'>el</span><span class='bitor op'>|</span> 
    <span class='task identifier id'>task</span> <span class='assign token'>=</span> <span class='Task constant id'>Task</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='el identifier id'>el</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='task identifier id'>task</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_tasks</h3>
</div><div id="get_tasks-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_tasks</span><span class='args'>(params = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Tasks
</p>
<p>
Gets tasks that meet the criteria given in params. Available criteria is as
follows:
</p>
<ul>
<li>title:

</li>
<li>folder:

</li>
<li>context:

</li>
<li>goal:

</li>
<li>duedate:

</li>
<li>duetime

</li>
<li>repeat:

</li>
<li>priority:

</li>
<li>parent:

</li>
<li>shorter:

</li>
<li>longer:

</li>
<li>before

</li>
<li>after

</li>
<li>modbefore

</li>
<li>modafter

</li>
<li>compbefore

</li>
<li>compafter

</li>
<li>notcomp

</li>
<li>star

</li>
<li>status

</li>
<li>startdate

</li>
</ul>
<p>
Returns an array of tasks. This information is never cached.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 358</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L358">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get_tasks identifier id'>get_tasks</span><span class='lparen token'>(</span><span class='params identifier id'>params</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;get_tasks(#{params.inspect})&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='logger identifier id'>logger</span>
  <span class='myhash identifier id'>myhash</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>

  <span class='comment val'># * title : A text string up to 255 characters.</span>
  <span class='handle_string identifier id'>handle_string</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:title</span><span class='rparen token'>)</span>

  <span class='comment val'># If the folder is a string, then we assume we're supposed to find out what</span>
  <span class='comment val'># the id is.</span>
  <span class='handle_folder identifier id'>handle_folder</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>

  <span class='comment val'># Context handling</span>
  <span class='handle_context identifier id'>handle_context</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>

  <span class='comment val'># Goal handling</span>
  <span class='handle_goal identifier id'>handle_goal</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>

  <span class='comment val'># duedate handling.  Take either a string or a Time object.'YYYY-MM-DD'</span>
  <span class='comment val'># This does not need special handling, because if it's not a time object</span>
  <span class='comment val'># then we don't pass through anything at all.</span>
  <span class='handle_date identifier id'>handle_date</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:duedate</span><span class='rparen token'>)</span>

  <span class='comment val'># duetime handling.  Take either a string or a Time object. </span>
  <span class='handle_time identifier id'>handle_time</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:duetime</span><span class='rparen token'>)</span>

  <span class='comment val'># repeat: takes in an integer in the proper range..</span>
  <span class='handle_repeat identifier id'>handle_repeat</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>
   
  <span class='comment val'># priority: takes in an integer in the proper range.</span>
  <span class='handle_priority identifier id'>handle_priority</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>
      
  <span class='comment val'># * parent : This is used to Pro accounts that have access to subtasks. </span>
  <span class='comment val'># Set this to the id number of the parent task and you will get its </span>
  <span class='comment val'># subtasks. The default is 0, which is a special number that returns </span>
  <span class='comment val'># tasks that do not have a parent.</span>
  <span class='handle_parent identifier id'>handle_parent</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>

  <span class='comment val'># * shorter : An integer representing minutes. This is used for finding </span>
  <span class='comment val'># tasks with a duration that is shorter than the specified number of minutes.</span>
  <span class='handle_number identifier id'>handle_number</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:shorter</span><span class='rparen token'>)</span>

  <span class='comment val'># * longer : An integer representing minutes. This is used for finding </span>
  <span class='comment val'># tasks with a duration that is longer than the specified number of minutes.</span>
  <span class='handle_number identifier id'>handle_number</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:longer</span><span class='rparen token'>)</span>

  <span class='comment val'># * before : A date formated as YYYY-MM-DD. Used to find tasks with</span>
  <span class='comment val'># due-dates before this date.</span>
  <span class='handle_date identifier id'>handle_date</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:before</span><span class='rparen token'>)</span>

  <span class='comment val'># * after : A date formated as YYYY-MM-DD. Used to find tasks with </span>
  <span class='comment val'># due-dates after this date.</span>
  <span class='handle_date identifier id'>handle_date</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:after</span><span class='rparen token'>)</span>

  <span class='comment val'># * modbefore : A date-time formated as YYYY-MM-DD HH:MM:SS. Used to find </span>
  <span class='comment val'># tasks with a modified date and time before this dateand time.</span>
  <span class='handle_datetime identifier id'>handle_datetime</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:modbefore</span><span class='rparen token'>)</span>

  <span class='comment val'># * modafter : A date-time formated as YYYY-MM-DD HH:MM:SS. Used to find </span>
  <span class='comment val'># tasks with a modified date and time after this dateand time.</span>
  <span class='handle_datetime identifier id'>handle_datetime</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:modafter</span><span class='rparen token'>)</span>

  <span class='comment val'># * compbefore : A date formated as YYYY-MM-DD. Used to find tasks with a</span>
  <span class='comment val'># completed date before this date.</span>
  <span class='handle_date identifier id'>handle_date</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:compbefore</span><span class='rparen token'>)</span>

  <span class='comment val'># * compafter : A date formated as YYYY-MM-DD. Used to find tasks with a </span>
  <span class='comment val'># completed date after this date.</span>
  <span class='handle_date identifier id'>handle_date</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:compafter</span><span class='rparen token'>)</span>
  
  <span class='comment val'># startbefore:</span>
  <span class='handle_date identifier id'>handle_date</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:startbefore</span><span class='rparen token'>)</span>
  
  <span class='comment val'># startafter:</span>
  <span class='handle_date identifier id'>handle_date</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:startafter</span><span class='rparen token'>)</span>
  
  <span class='comment val'># star</span>
  <span class='handle_boolean identifier id'>handle_boolean</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:star</span><span class='rparen token'>)</span>
  
  <span class='comment val'># status</span>
  <span class='handle_status identifier id'>handle_status</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>
  
  <span class='comment val'># * notcomp : Set to 1 to omit completed tasks. Omit variable, or set to 0</span>
  <span class='comment val'># to retrieve both completed and uncompleted tasks.</span>
  <span class='handle_boolean identifier id'>handle_boolean</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol val'>:notcomp</span><span class='rparen token'>)</span>

  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='string val'>'getTasks'</span><span class='comma token'>,</span> <span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='@key ivar id'>@key</span><span class='rparen token'>)</span>
  <span class='tasks identifier id'>tasks</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='elements identifier id'>elements</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='el identifier id'>el</span><span class='bitor op'>|</span> 
    <span class='task identifier id'>task</span> <span class='assign token'>=</span> <span class='Task constant id'>Task</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='el identifier id'>el</span><span class='rparen token'>)</span>
    <span class='tasks identifier id'>tasks</span> <span class='lshft op'>&lt;&lt;</span> <span class='task identifier id'>task</span>
  <span class='end end kw'>end</span>
  <span class='return return kw'>return</span> <span class='tasks identifier id'>tasks</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_token</h3>
</div><div id="get_token-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_token</span><span class='args'>(user_id)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Gets the token method, given the id.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 224</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L224">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">224
225
226
227
228
229
230</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get_token identifier id'>get_token</span><span class='lparen token'>(</span><span class='user_id identifier id'>user_id</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='string val'>&quot;Nil user_id&quot;</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='user_id identifier id'>user_id</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span> <span class='orop op'>||</span> <span class='user_id identifier id'>user_id</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span><span class='rparen token'>)</span>

  <span class='params identifier id'>params</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:userid</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='user_id identifier id'>user_id</span> <span class='rbrace token'>}</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='string val'>'getToken'</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>    
  <span class='return return kw'>return</span> <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='text identifier id'>text</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_user_id</h3>
</div><div id="get_user_id-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_user_id</span><span class='args'>(email, password)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the user id. As far as I can tell, this method is broken and always
returns false.
</p>
<p>
If the userid comes back as 0, it means that either the email or password
that you sent was blank. If the userid comes back as 1, it means that the
lookup failed. A valid userid will always be a 15 or 16 character
hexadecimal string.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 239</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L239">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">239
240
241
242
243
244
245
246</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get_user_id identifier id'>get_user_id</span><span class='lparen token'>(</span><span class='email identifier id'>email</span><span class='comma token'>,</span> <span class='password identifier id'>password</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='string val'>&quot;Nil email&quot;</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='email identifier id'>email</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='string val'>&quot;Nil password&quot;</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='password identifier id'>password</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>

  <span class='params identifier id'>params</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:email</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='email identifier id'>email</span><span class='comma token'>,</span> <span class='symbol val'>:pass</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='password identifier id'>password</span> <span class='rbrace token'>}</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='string val'>'getUserid'</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>  
  <span class='return return kw'>return</span> <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='text identifier id'>text</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>handle_boolean</h3>
</div><div id="handle_boolean-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>handle_boolean</span><span class='args'>(myhash, params, symbol)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 975</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L975">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">975
976
977
978
979
980
981
982
983
984
985
986
987
988
989
990
991
992
993</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='handle_boolean identifier id'>handle_boolean</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol identifier id'>symbol</span><span class='rparen token'>)</span>
  <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol identifier id'>symbol</span><span class='rbrack token'>]</span>
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='value identifier id'>value</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span>
  <span class='end end kw'>end</span>
  
  <span class='case case kw'>case</span> <span class='value identifier id'>value</span>
  <span class='when when kw'>when</span> <span class='TrueClass constant id'>TrueClass</span><span class='comma token'>,</span> <span class='FalseClass constant id'>FalseClass</span>
    <span class='bool identifier id'>bool</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='value identifier id'>value</span> <span class='eq op'>==</span> <span class='true true kw'>true</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='string val'>'1'</span> <span class='colon op'>:</span> <span class='string val'>'0'</span>           
  <span class='when when kw'>when</span> <span class='String constant id'>String</span>
    <span class='bool identifier id'>bool</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='string val'>'true'</span> <span class='eq op'>==</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='string val'>'1'</span> <span class='colon op'>:</span> <span class='string val'>'0'</span> 
  <span class='when when kw'>when</span> <span class='Fixnum constant id'>Fixnum</span>
    <span class='bool identifier id'>bool</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='value identifier id'>value</span> <span class='eq op'>==</span> <span class='integer val'>1</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='string val'>'1'</span> <span class='colon op'>:</span> <span class='string val'>'0'</span>
  <span class='else else kw'>else</span>
    <span class='bool identifier id'>bool</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span>
  <span class='end end kw'>end</span>
  
  <span class='myhash identifier id'>myhash</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span> <span class='symbol identifier id'>symbol</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='bool identifier id'>bool</span> <span class='rbrace token'>}</span><span class='rparen token'>)</span> 
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>handle_context</h3>
</div><div id="handle_context-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>handle_context</span><span class='args'>(myhash, params)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Takes in a context (in the form of a string, a Context object or a context
id) and adds it to myhash as a context_id.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 1091</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L1091">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1091
1092
1093
1094
1095
1096
1097
1098
1099
1100
1101
1102
1103
1104
1105
1106
1107
1108
1109
1110
1111</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='handle_context identifier id'>handle_context</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>
  <span class='context identifier id'>context</span> <span class='assign token'>=</span> <span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:context</span><span class='rbrack token'>]</span>
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='context identifier id'>context</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> 
  <span class='end end kw'>end</span>      
  
  <span class='case case kw'>case</span> <span class='context identifier id'>context</span>
  <span class='when when kw'>when</span> <span class='String constant id'>String</span>
    <span class='context_obj identifier id'>context_obj</span> <span class='assign token'>=</span> <span class='get_context_by_name identifier id'>get_context_by_name</span><span class='lparen token'>(</span><span class='context identifier id'>context</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='context_obj identifier id'>context_obj</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
      <span class='raise identifier id'>raise</span> <span class='Toodledo constant id'>Toodledo</span><span class='colon2 op'>::</span><span class='ItemNotFoundError constant id'>ItemNotFoundError</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='dstring node'>&quot;No context found with name '#{context}'&quot;</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='context_id identifier id'>context_id</span> <span class='assign token'>=</span> <span class='context_obj identifier id'>context_obj</span><span class='dot token'>.</span><span class='server_id identifier id'>server_id</span>
  <span class='when when kw'>when</span> <span class='Context constant id'>Context</span>
    <span class='context_id identifier id'>context_id</span> <span class='assign token'>=</span> <span class='context identifier id'>context</span><span class='dot token'>.</span><span class='server_id identifier id'>server_id</span>
  <span class='else else kw'>else</span>
    <span class='context_id identifier id'>context_id</span> <span class='assign token'>=</span> <span class='context identifier id'>context</span>
  <span class='end end kw'>end</span>
  
  <span class='myhash identifier id'>myhash</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span> <span class='symbol val'>:context</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='context_id identifier id'>context_id</span> <span class='rbrace token'>}</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>handle_date</h3>
</div><div id="handle_date-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>handle_date</span><span class='args'>(myhash, params, symbol)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 1002</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L1002">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1002
1003
1004
1005
1006
1007
1008
1009
1010
1011
1012
1013
1014</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='handle_date identifier id'>handle_date</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol identifier id'>symbol</span><span class='rparen token'>)</span>
  <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol identifier id'>symbol</span><span class='rbrack token'>]</span>
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='value identifier id'>value</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span>
  <span class='end end kw'>end</span>
  
  <span class='case case kw'>case</span> <span class='value identifier id'>value</span>
  <span class='when when kw'>when</span> <span class='Time constant id'>Time</span>
    <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='strftime identifier id'>strftime</span><span class='lparen token'>(</span><span class='string val'>'%Y-%m-%d'</span><span class='rparen token'>)</span>    
  <span class='end end kw'>end</span>
  
  <span class='myhash identifier id'>myhash</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span> <span class='symbol identifier id'>symbol</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='value identifier id'>value</span> <span class='rbrace token'>}</span><span class='rparen token'>)</span> 
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>handle_datetime</h3>
</div><div id="handle_datetime-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>handle_datetime</span><span class='args'>(myhash, params, symbol)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Handles a generic date time value.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 1031</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L1031">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1031
1032
1033
1034
1035
1036
1037
1038
1039
1040
1041
1042
1043
1044</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='handle_datetime identifier id'>handle_datetime</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol identifier id'>symbol</span><span class='rparen token'>)</span>
  <span class='comment val'># YYYY-MM-DD HH:MM:SS</span>
  <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol identifier id'>symbol</span><span class='rbrack token'>]</span>
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='value identifier id'>value</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span>
  <span class='end end kw'>end</span>
  
  <span class='case case kw'>case</span> <span class='value identifier id'>value</span>
  <span class='when when kw'>when</span> <span class='Time constant id'>Time</span>
    <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='strftime identifier id'>strftime</span><span class='lparen token'>(</span><span class='DATETIME_FORMAT constant id'>DATETIME_FORMAT</span><span class='rparen token'>)</span>     
  <span class='end end kw'>end</span>
  
  <span class='myhash identifier id'>myhash</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span> <span class='symbol identifier id'>symbol</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='value identifier id'>value</span> <span class='rbrace token'>}</span><span class='rparen token'>)</span>                              
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>handle_folder</h3>
</div><div id="handle_folder-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>handle_folder</span><span class='args'>(myhash, params)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Handles a folder (in the form of a folder name, object or id) and puts the
folder_id in myhash.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 1066</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L1066">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1066
1067
1068
1069
1070
1071
1072
1073
1074
1075
1076
1077
1078
1079
1080
1081
1082
1083
1084
1085
1086
1087</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='handle_folder identifier id'>handle_folder</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>      
  <span class='folder identifier id'>folder</span> <span class='assign token'>=</span> <span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:folder</span><span class='rbrack token'>]</span>
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='folder identifier id'>folder</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span> 
    <span class='return return kw'>return</span>
  <span class='end end kw'>end</span>
  
  <span class='folder_id identifier id'>folder_id</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='case case kw'>case</span> <span class='folder identifier id'>folder</span>
  <span class='when when kw'>when</span> <span class='String constant id'>String</span>
    <span class='folder_obj identifier id'>folder_obj</span> <span class='assign token'>=</span> <span class='get_folder_by_name identifier id'>get_folder_by_name</span><span class='lparen token'>(</span><span class='folder identifier id'>folder</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='folder_obj identifier id'>folder_obj</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
      <span class='raise identifier id'>raise</span> <span class='Toodledo constant id'>Toodledo</span><span class='colon2 op'>::</span><span class='ItemNotFoundError constant id'>ItemNotFoundError</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='dstring node'>&quot;No folder found with name #{folder}&quot;</span><span class='rparen token'>)</span>   
    <span class='end end kw'>end</span>
    <span class='folder_id identifier id'>folder_id</span> <span class='assign token'>=</span> <span class='folder_obj identifier id'>folder_obj</span><span class='dot token'>.</span><span class='server_id identifier id'>server_id</span>
  <span class='when when kw'>when</span> <span class='Folder constant id'>Folder</span>
    <span class='folder_id identifier id'>folder_id</span> <span class='assign token'>=</span> <span class='folder identifier id'>folder</span><span class='dot token'>.</span><span class='server_id identifier id'>server_id</span>
  <span class='else else kw'>else</span>
    <span class='folder_id identifier id'>folder_id</span> <span class='assign token'>=</span> <span class='folder identifier id'>folder</span>
  <span class='end end kw'>end</span>
  
  <span class='myhash identifier id'>myhash</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span> <span class='symbol val'>:folder</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='folder_id identifier id'>folder_id</span> <span class='rbrace token'>}</span><span class='rparen token'>)</span>          
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>handle_goal</h3>
</div><div id="handle_goal-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>handle_goal</span><span class='args'>(myhash, params)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Takes a goal (as a goal title, a goal object or a goal id) and sets it in
myhash.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 1115</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L1115">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1115
1116
1117
1118
1119
1120
1121
1122
1123
1124
1125
1126
1127
1128
1129
1130
1131
1132
1133
1134
1135
1136</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='handle_goal identifier id'>handle_goal</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>
  <span class='goal identifier id'>goal</span> <span class='assign token'>=</span> <span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:goal</span><span class='rbrack token'>]</span>
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='goal identifier id'>goal</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span>
  <span class='end end kw'>end</span>

  <span class='case case kw'>case</span> <span class='goal identifier id'>goal</span>
  <span class='when when kw'>when</span> <span class='String constant id'>String</span>
    <span class='goal_obj identifier id'>goal_obj</span> <span class='assign token'>=</span> <span class='get_goal_by_name identifier id'>get_goal_by_name</span><span class='lparen token'>(</span><span class='goal identifier id'>goal</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='goal_obj identifier id'>goal_obj</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
      <span class='raise identifier id'>raise</span> <span class='Toodledo constant id'>Toodledo</span><span class='colon2 op'>::</span><span class='ItemNotFoundError constant id'>ItemNotFoundError</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='dstring node'>&quot;No goal found with name '#{goal}'&quot;</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='goal_id identifier id'>goal_id</span> <span class='assign token'>=</span> <span class='goal_obj identifier id'>goal_obj</span><span class='dot token'>.</span><span class='server_id identifier id'>server_id</span>
  <span class='when when kw'>when</span> <span class='Goal constant id'>Goal</span>
    <span class='goal_id identifier id'>goal_id</span> <span class='assign token'>=</span> <span class='goal identifier id'>goal</span><span class='dot token'>.</span><span class='server_id identifier id'>server_id</span>
  <span class='else else kw'>else</span>
    <span class='goal_id identifier id'>goal_id</span> <span class='assign token'>=</span> <span class='goal identifier id'>goal</span>
  <span class='end end kw'>end</span>
  
  <span class='comment val'># Otherwise, assume it's a number.</span>
  <span class='myhash identifier id'>myhash</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span> <span class='symbol val'>:goal</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='goal_id identifier id'>goal_id</span> <span class='rbrace token'>}</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>handle_number</h3>
</div><div id="handle_number-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>handle_number</span><span class='args'>(myhash, params, symbol)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Helper methods follow.
</p>
<p>
These methods will convert the appropriate format for talking to the
Toodledo server. They do not parse the XML that comes back from the server.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 966</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L966">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">966
967
968
969
970
971
972
973</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='handle_number identifier id'>handle_number</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol identifier id'>symbol</span><span class='rparen token'>)</span>
  <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol identifier id'>symbol</span><span class='rbrack token'>]</span>
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='value identifier id'>value</span> <span class='neq op'>!=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span> <span class='FixNum constant id'>FixNum</span><span class='rparen token'>)</span>
      <span class='myhash identifier id'>myhash</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span> <span class='symbol identifier id'>symbol</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>        
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>handle_parent</h3>
</div><div id="handle_parent-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>handle_parent</span><span class='args'>(myhash, params)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Handles the parent task object. Only takes a task object or id.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 1047</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L1047">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1047
1048
1049
1050
1051
1052
1053
1054
1055
1056
1057
1058
1059
1060
1061
1062</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='handle_parent identifier id'>handle_parent</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>
  <span class='parent identifier id'>parent</span> <span class='assign token'>=</span> <span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:parent</span><span class='rbrack token'>]</span>
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='parent identifier id'>parent</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>        
    <span class='return return kw'>return</span>
  <span class='end end kw'>end</span>
  
  <span class='parent_id identifier id'>parent_id</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='case case kw'>case</span> <span class='parent identifier id'>parent</span>
  <span class='when when kw'>when</span> <span class='Task constant id'>Task</span>
    <span class='parent_id identifier id'>parent_id</span> <span class='assign token'>=</span> <span class='parent identifier id'>parent</span><span class='dot token'>.</span><span class='server_id identifier id'>server_id</span>
  <span class='else else kw'>else</span>
    <span class='parent_id identifier id'>parent_id</span> <span class='assign token'>=</span> <span class='parent identifier id'>parent</span>
  <span class='end end kw'>end</span>
  
  <span class='myhash identifier id'>myhash</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span> <span class='symbol val'>:parent</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='parent_id identifier id'>parent_id</span> <span class='rbrace token'>}</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>handle_priority</h3>
</div><div id="handle_priority-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>handle_priority</span><span class='args'>(myhash, params)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Handles the priority. This must be one of several values.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 1167</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L1167">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1167
1168
1169
1170
1171
1172
1173
1174
1175
1176
1177
1178
1179</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='handle_priority identifier id'>handle_priority</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>
  <span class='priority identifier id'>priority</span> <span class='assign token'>=</span> <span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:priority</span><span class='rbrack token'>]</span>
  
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='priority identifier id'>priority</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span>
  <span class='end end kw'>end</span>

  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='notop op'>!</span> <span class='Priority constant id'>Priority</span><span class='dot token'>.</span><span class='valid? fid id'>valid?</span><span class='lparen token'>(</span><span class='priority identifier id'>priority</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Invalid priority value: #{priority}&quot;</span>
  <span class='end end kw'>end</span>
  
  <span class='myhash identifier id'>myhash</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span> <span class='symbol val'>:priority</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='priority identifier id'>priority</span> <span class='rbrace token'>}</span><span class='rparen token'>)</span>        
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>handle_repeat</h3>
</div><div id="handle_repeat-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>handle_repeat</span><span class='args'>(myhash, params)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Handles the repeat parameter.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 1139</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L1139">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1139
1140
1141
1142
1143
1144
1145
1146
1147
1148
1149
1150
1151</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='handle_repeat identifier id'>handle_repeat</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>
  <span class='repeat identifier id'>repeat</span> <span class='assign token'>=</span> <span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:repeat</span><span class='rbrack token'>]</span>
  
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='repeat identifier id'>repeat</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>   
    <span class='return return kw'>return</span>
  <span class='end end kw'>end</span>
  
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='notop op'>!</span> <span class='Repeat constant id'>Repeat</span><span class='dot token'>.</span><span class='valid? fid id'>valid?</span><span class='lparen token'>(</span><span class='repeat identifier id'>repeat</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Invalid repeat value: #{repeat}&quot;</span>
  <span class='end end kw'>end</span>
  
  <span class='myhash identifier id'>myhash</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span> <span class='symbol val'>:repeat</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='repeat identifier id'>repeat</span> <span class='rbrace token'>}</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>handle_status</h3>
</div><div id="handle_status-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>handle_status</span><span class='args'>(myhash, params)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Handles the status parameter
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 1154</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L1154">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1154
1155
1156
1157
1158
1159
1160
1161
1162
1163
1164</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='handle_status identifier id'>handle_status</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>
  <span class='status identifier id'>status</span> <span class='assign token'>=</span> <span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:status</span><span class='rbrack token'>]</span>
  
  <span class='return return kw'>return</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='status identifier id'>status</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='notop op'>!</span> <span class='Status constant id'>Status</span><span class='dot token'>.</span><span class='valid? fid id'>valid?</span><span class='lparen token'>(</span><span class='status identifier id'>status</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Invalid status value: #{status}&quot;</span>
  <span class='end end kw'>end</span>
  
  <span class='myhash identifier id'>myhash</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span> <span class='symbol val'>:status</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='status identifier id'>status</span> <span class='rbrace token'>}</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>handle_string</h3>
</div><div id="handle_string-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>handle_string</span><span class='args'>(myhash, params, symbol)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 995</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L995">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">995
996
997
998
999
1000</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='handle_string identifier id'>handle_string</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol identifier id'>symbol</span><span class='rparen token'>)</span>
  <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol identifier id'>symbol</span><span class='rbrack token'>]</span>
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='value identifier id'>value</span> <span class='neq op'>!=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='myhash identifier id'>myhash</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span> <span class='symbol identifier id'>symbol</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='value identifier id'>value</span> <span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>handle_time</h3>
</div><div id="handle_time-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>handle_time</span><span class='args'>(myhash, params, symbol)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 1016</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L1016">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1016
1017
1018
1019
1020
1021
1022
1023
1024
1025
1026
1027
1028</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='handle_time identifier id'>handle_time</span><span class='lparen token'>(</span><span class='myhash identifier id'>myhash</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='comma token'>,</span> <span class='symbol identifier id'>symbol</span><span class='rparen token'>)</span>      
  <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol identifier id'>symbol</span><span class='rbrack token'>]</span>
  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='value identifier id'>value</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span>
  <span class='end end kw'>end</span>
  
  <span class='case case kw'>case</span> <span class='value identifier id'>value</span>
  <span class='when when kw'>when</span> <span class='Time constant id'>Time</span>
    <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='strftime identifier id'>strftime</span><span class='lparen token'>(</span><span class='TIME_FORMAT constant id'>TIME_FORMAT</span><span class='rparen token'>)</span> 
  <span class='end end kw'>end</span>
  
  <span class='myhash identifier id'>myhash</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span> <span class='symbol identifier id'>symbol</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='value identifier id'>value</span> <span class='rbrace token'>}</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>make_uri</h3>
</div><div id="make_uri-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>make_uri</span><span class='args'>(method, params)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a parsable URI object from the base API URL and the parameters.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 117</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L117">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">117
118
119
120</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='make_uri identifier id'>make_uri</span><span class='lparen token'>(</span><span class='method identifier id'>method</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>
  <span class='url_string identifier id'>url_string</span> <span class='assign token'>=</span> <span class='URI constant id'>URI</span><span class='dot token'>.</span><span class='escape identifier id'>escape</span><span class='lparen token'>(</span><span class='@base_url ivar id'>@base_url</span> <span class='plus op'>+</span> <span class='string val'>'?method='</span> <span class='plus op'>+</span> <span class='method identifier id'>method</span> <span class='plus op'>+</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='URI constant id'>URI</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='url_string identifier id'>url_string</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>md5</h3>
</div><div id="md5-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>md5</span><span class='args'>(input_string)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Hashes the input string and returns a string hex digest.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/toodledo/session.rb', line 62</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wsargent/toodledo/blob/326c19a2a3f71102fe232a910cd316bbdba12ad4/lib/toodledo/session.rb#L62">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">62
63
64</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='md5 identifier id'>md5</span><span class='lparen token'>(</span><span class='input_string identifier id'>input_string</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='Digest constant id'>Digest</span><span class='colon2 op'>::</span><span class='MD5 constant id'>MD5</span><span class='dot token'>.</span><span class='hexdigest identifier id'>hexdigest</span><span class='lparen token'>(</span><span class='input_string identifier id'>input_string</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>