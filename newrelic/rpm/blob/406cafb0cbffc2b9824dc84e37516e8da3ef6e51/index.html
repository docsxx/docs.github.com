<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>newrelic's rpm - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/newrelic/commits/rpm/master" rel="alternate" title="Recent Commits to rpm:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    GitHubRepo.init("newrelic", "rpm", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='newrelic/rpm/blob/406cafb0cbffc2b9824dc84e37516e8da3ef6e51' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='newrelic/rpm/blob/406cafb0cbffc2b9824dc84e37516e8da3ef6e51' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("newrelic", "rpm", "406cafb0cbffc2b9824dc84e37516e8da3ef6e51", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/newrelic/rpm/tree/">Source</a></li>
            <li class=""><a href="http://github.com/newrelic/rpm/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/newrelic/rpm/network">Network</a></li>            
            <li class=""><a href="http://github.com/newrelic/rpm/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/newrelic/rpm">Wiki</a></li>
            <li class=""><a href="http://github.com/newrelic/rpm/graphs">Graphs</a></li>                    
            <li class="active"><a href="/newrelic/rpm">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/newrelic">newrelic</a> / <b><a href="http://github.com/newrelic/rpm/tree">rpm</a></b>        
                <a id="namespaces_button" rel="newrelic/rpm/blob/406cafb0cbffc2b9824dc84e37516e8da3ef6e51" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="newrelic/rpm/blob/406cafb0cbffc2b9824dc84e37516e8da3ef6e51" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="section docstring readme wikistyle">
  <h1>New Relic RPM</h1>
<ul>
<li>http://www.newrelic.com

</li>
</ul>
<p>
New Relic RPM is a Ruby performance management system, developed by New
Relic, Inc. RPM provides you with deep information about the performance of
your Ruby on Rails or Merb application as it runs in production. The New
Relic Agent is distributed as a either a Rails plugin or a Gem, both hosted
on RubyForge.
</p>
<p>
The New Relic Agent runs in one of two modes:
</p>
<ul>
<li>Developer Mode : Adds a web interface mapped to /newrelic to your
application for showing detailed performance metrics on a page by page
basis.

</li>
<li>Production Mode : Low overhead instrumentation that captures detailed
information on your application running in production and transmits them to
rpm.newrelic.com where you can monitor them in real time.

</li>
</ul>
<h3>Developer Mode</h3>
<p>
Developer mode is on by default when you run your application in the
development environment (but not when it runs in other environments.) When
running in developer mode, RPM will track the performance of every http
request serviced by your application, and store in memory this information
for the last 100 http transactions.
</p>
<p>
When running in Developer Mode, the RPM will also add a few pages to your
application that allow you to analyze this performance information.
(Don&#8217;t worry - those pages are not added to your application&#8217;s
routes when you run in production mode.)
</p>
<p>
To view this performance information, including detailed SQL statement
analysis, open &#8217;/newrelic&#8217; in your web application. For
instance if you are running mongrel or thin on port 3000, enter the
following into your browser:
</p>
<p>
http://localhost:3000/newrelic
</p>
<h3>Production Mode</h3>
<p>
To monitor your applications in production, create an account at
http://newrelic.com/get-RPM.html
</p>
<p>
When your application runs in the production environment, the New Relic
agent runs in production mode. It connects to the New Relic RPM service and
sends deep performance data to the RPM service for your analysis. To view
this data, login to http://rpm.newrelic.com.
</p>
<p>
NOTE: You must have a valid account and license key to view this data
online. When you sign up for an account at www.newrelic.com, you will be
provided with a license key, as well as a default configuration file for
New Relic RPM. You can either paste your license key into your existing
configuration file, config/newrelic.yml, or you can replace that config
file with the one included in your welcome email.
</p>
<h2>Installation</h2>
<p>
RPM requires an agent be installed in the application as either a Rails
plug-in or a gem. Both are available on RubyForge--instructions below.
</p>
<h3>Git your RPM on!</h3>
<p>
The agent is also available on Github under newrelic/rpm. As of March,
2009, we keep the latest release on the master, the edge on a working
branch, and previous releases with tags. Fork away!
</p>
<h3>Requirements:</h3>
<p>
Ruby 1.8.6 Rails 1.2.6 or above Merb 1.0 or above
</p>
<h3>Rails Plug-In Installation</h3>
<pre class="code">
   <span class='script identifier id'>script</span><span class='div op'>/</span><span class='plugin identifier id'>plugin</span> <span class='install identifier id'>install</span> <span class='http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/newrelic.rubyforge.org/s</span><span class='vn identifier id'>vn</span><span class='div op'>/</span><span class='newrelic_rpm identifier id'>newrelic_rpm</span>
</pre>
<h3>Gem Installation</h3>
<pre class="code">
   <span class='sudo identifier id'>sudo</span> <span class='gem identifier id'>gem</span> <span class='install identifier id'>install</span> <span class='newrelic_rpm identifier id'>newrelic_rpm</span>
</pre>
<p>
For Rails, edit environment.rb and add to the initalizer block:
</p>
<pre class="code">
   <span class='config identifier id'>config</span><span class='dot token'>.</span><span class='gem identifier id'>gem</span> <span class='string val'>&quot;newrelic_rpm&quot;</span>
</pre>
<p>
The Developer Mode is unavailable when using the gem on Rails versions
prior to 2.0.
</p>
<h2>Merb Support</h2>
<p>
To monitor a merb app install the newrelic_rpm gem and add
</p>
<pre class="code">
    <span class='dependency identifier id'>dependency</span> <span class='string val'>'newrelic_rpm'</span>
</pre>
<p>
to your init.rb file.
</p>
<p>
Current features implemented:
</p>
<pre class="code">
    <span class='mult op'>*</span> <span class='Standard constant id'>Standard</span> <span class='monitoring identifier id'>monitoring</span><span class='comma token'>,</span> <span class='overview identifier id'>overview</span> <span class='pages identifier id'>pages</span>
    <span class='mult op'>*</span> <span class='Error constant id'>Error</span> <span class='capturing identifier id'>capturing</span>
    <span class='mult op'>*</span> <span class='Full constant id'>Full</span> <span class='Active constant id'>Active</span> <span class='Record constant id'>Record</span> <span class='instrumentation identifier id'>instrumentation</span><span class='comma token'>,</span> <span class='including identifier id'>including</span> <span class='SQL constant id'>SQL</span> <span class='explains identifier id'>explains</span>
    <span class='mult op'>*</span> <span class='Very constant id'>Very</span> <span class='limited identifier id'>limited</span> <span class='Data constant id'>Data</span> <span class='Mapper constant id'>Mapper</span> <span class='instrumentation identifier id'>instrumentation</span>
    <span class='mult op'>*</span> <span class='Transaction constant id'>Transaction</span> <span class='Traces constant id'>Traces</span> <span class='are identifier id'>are</span> <span class='implemented identifier id'>implemented</span> <span class='but identifier id'>but</span> <span class='will identifier id'>will</span> <span class='not not kw'>not</span> <span class='be identifier id'>be</span> <span class='very identifier id'>very</span> <span class='useful identifier id'>useful</span>
      <span class='with identifier id'>with</span> <span class='Data constant id'>Data</span> <span class='Mapper constant id'>Mapper</span> <span class='until until_mod kw'>until</span> <span class='more identifier id'>more</span> <span class='work identifier id'>work</span> <span class='is identifier id'>is</span> <span class='done identifier id'>done</span> <span class='with identifier id'>with</span> <span class='the identifier id'>the</span> <span class='Data constant id'>Data</span> <span class='Mapper constant id'>Mapper</span>
      <span class='instrumentation identifier id'>instrumentation</span>
</pre>
<p>
Still under development:
</p>
<pre class="code">
    <span class='mult op'>*</span> <span class='Developer constant id'>Developer</span> <span class='Mode constant id'>Mode</span>
    <span class='mult op'>*</span> <span class='Data constant id'>Data</span> <span class='Mapper constant id'>Mapper</span> <span class='bindings identifier id'>bindings</span>
</pre>
<p>
Also some of the instrumentation has been implemented with method chaining,
a mechanism that truly goes against the merb way. This was necessary in
some cases where the API’s were not yet available or understood well
enough to use. Converting these to hook methods using the Merb public API
is a work in progress.
</p>
<h2>Support</h2>
<p>
Reach out to us--and to fellow RPM users--at
http://support.newrelic.com. There you&#8217;ll find documentation, FAQs,
and forums where you can submit suggestions and discuss RPM with New Relic
staff and other users.
</p>
<p>
Find a bug? E-mail support@newrelic.com, or post it to
support.newrelic.com.
</p>
<p>
For other support channels, see http://www.newrelic.com/support.
</p>
<p>
Thank you, and may your application scale to infinity plus one.
</p>
<p>
Lew Cirne, Founder and CEO New Relic, Inc.
</p>

</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>