<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>newrelic's rpm - Module: NewRelic::Agent - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/newrelic/commits/rpm/master" rel="alternate" title="Recent Commits to rpm:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    GitHubRepo.init("newrelic", "rpm", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='newrelic/rpm/blob/406cafb0cbffc2b9824dc84e37516e8da3ef6e51' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='newrelic/rpm/blob/406cafb0cbffc2b9824dc84e37516e8da3ef6e51' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("newrelic", "rpm", "406cafb0cbffc2b9824dc84e37516e8da3ef6e51", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/newrelic/rpm/tree/">Source</a></li>
            <li class=""><a href="http://github.com/newrelic/rpm/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/newrelic/rpm/network">Network</a></li>            
            <li class=""><a href="http://github.com/newrelic/rpm/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/newrelic/rpm">Wiki</a></li>
            <li class=""><a href="http://github.com/newrelic/rpm/graphs">Graphs</a></li>                    
            <li class="active"><a href="/newrelic/rpm">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/newrelic">newrelic</a> / <b><a href="http://github.com/newrelic/rpm/tree">rpm</a></b>        
                <a id="namespaces_button" rel="newrelic/rpm/blob/406cafb0cbffc2b9824dc84e37516e8da3ef6e51" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="newrelic/rpm/blob/406cafb0cbffc2b9824dc84e37516e8da3ef6e51" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section module NewRelic_Agent">
  <h1>Module: NewRelic::Agent</h1>
  <div class="section docstring">
  <p>
A worker loop executes a set of registered tasks on a single thread. A task
is a proc or block with a specified call period in seconds.
</p>

</div><div class="section constants">
  
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#add_custom_parameters-class_method">add_custom_parameters</span><span class='args'>(params)</span>
        <span class='block'></span>
        
          <span class='alias'>add_request_parameters</span>
        
      </th>
      <td class="docstring">
        <p>
Add parameters to the current transaction trace.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#agent-class_method">agent</span><span class='args'></span>
        <span class='block'></span>
        
          <span class='alias'>instance</span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#disable_sql_recording-class_method">disable_sql_recording</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
This method sets the state of sql recording in the transaction sampler
feature.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#disable_transaction_tracing-class_method">disable_transaction_tracing</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
This method disables the recording of transaction traces in the given
block.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get_stats-class_method">get_stats</span><span class='args'>(metric_name, use_scope = false)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Get or create a statistics gatherer that will aggregate numerical data
under a metric name.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get_stats_no_scope-class_method">get_stats_no_scope</span><span class='args'>(metric_name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#ignore_error_filter-class_method">ignore_error_filter</span><span class='args'>(&amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
This method allows a filter to be applied to errors that RPM will track.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#manual_start-class_method">manual_start</span><span class='args'>(environment, identifier)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Call this to manually start the Agent in situations where the Agent does
not auto-start.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#set_sql_obfuscator-class_method">set_sql_obfuscator</span><span class='args'>(type = :replace, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
This method sets the block sent to this method as a sql obfuscator.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#should_ignore_error-class_method">should_ignore_error</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>add_custom_parameters</h3>
</div><div id="add_custom_parameters-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>add_custom_parameters</span><span class='args'>(params)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="add_request_parameters-class_method">add_request_parameters</tt>
  
</p>
</div><div class="section docstring">
  <p>
Add parameters to the current transaction trace
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/new_relic/agent/agent.rb', line 125</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/newrelic/rpm/blob/master/lib/new_relic/agent/agent.rb#L125">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">125
126
127</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='add_custom_parameters identifier id'>add_custom_parameters</span><span class='lparen token'>(</span><span class='params identifier id'>params</span><span class='rparen token'>)</span>
  <span class='agent identifier id'>agent</span><span class='dot token'>.</span><span class='add_custom_parameters identifier id'>add_custom_parameters</span><span class='lparen token'>(</span><span class='params identifier id'>params</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>agent</h3>
</div><div id="agent-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>agent</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="instance-class_method">instance</tt>
  
</p>
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/new_relic/shim_agent.rb', line 32</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/newrelic/rpm/blob/master/lib/new_relic/shim_agent.rb#L32">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">32
33
34</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='agent identifier id'>agent</span>
  <span class='NewRelic constant id'>NewRelic</span><span class='colon2 op'>::</span><span class='Agent constant id'>Agent</span><span class='colon2 op'>::</span><span class='Agent constant id'>Agent</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>disable_sql_recording</h3>
</div><div id="disable_sql_recording-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>disable_sql_recording</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This method sets the state of sql recording in the transaction sampler
feature. Within the given block, no sql will be recorded
</p>
<p>
usage:
</p>
<pre class="code">
  <span class='NewRelic constant id'>NewRelic</span><span class='colon2 op'>::</span><span class='Agent constant id'>Agent</span><span class='dot token'>.</span><span class='disable_sql_recording identifier id'>disable_sql_recording</span> <span class='do do kw'>do</span>
    <span class='dot3 op'>...</span>
   <span class='end end kw'>end</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/new_relic/agent/agent.rb', line 95</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/newrelic/rpm/blob/master/lib/new_relic/agent/agent.rb#L95">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">95
96
97
98
99
100
101
102</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='disable_sql_recording identifier id'>disable_sql_recording</span>
  <span class='state identifier id'>state</span> <span class='assign token'>=</span> <span class='agent identifier id'>agent</span><span class='dot token'>.</span><span class='set_record_sql identifier id'>set_record_sql</span><span class='lparen token'>(</span><span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='begin begin kw'>begin</span>
    <span class='yield yield kw'>yield</span>
  <span class='ensure ensure kw'>ensure</span>
    <span class='agent identifier id'>agent</span><span class='dot token'>.</span><span class='set_record_sql identifier id'>set_record_sql</span><span class='lparen token'>(</span><span class='state identifier id'>state</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>disable_transaction_tracing</h3>
</div><div id="disable_transaction_tracing-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>disable_transaction_tracing</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This method disables the recording of transaction traces in the given
block.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/new_relic/agent/agent.rb', line 106</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/newrelic/rpm/blob/master/lib/new_relic/agent/agent.rb#L106">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">106
107
108
109
110
111
112
113</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='disable_transaction_tracing identifier id'>disable_transaction_tracing</span>
  <span class='state identifier id'>state</span> <span class='assign token'>=</span> <span class='agent identifier id'>agent</span><span class='dot token'>.</span><span class='set_record_tt identifier id'>set_record_tt</span><span class='lparen token'>(</span><span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='begin begin kw'>begin</span>
    <span class='yield yield kw'>yield</span>
  <span class='ensure ensure kw'>ensure</span>
    <span class='agent identifier id'>agent</span><span class='dot token'>.</span><span class='set_record_tt identifier id'>set_record_tt</span><span class='lparen token'>(</span><span class='state identifier id'>state</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_stats</h3>
</div><div id="get_stats-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_stats</span><span class='args'>(metric_name, use_scope = false)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Get or create a statistics gatherer that will aggregate numerical data
under a metric name.
</p>
<p>
metric_name should follow a slash separated path convention. Application
specific metrics should begin with &quot;Custom/&quot;.
</p>
<p>
the statistical gatherer returned by get_stats accepts data via calls to
add_data_point(value)
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/new_relic/agent/agent.rb', line 46</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/newrelic/rpm/blob/master/lib/new_relic/agent/agent.rb#L46">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">46
47
48</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get_stats identifier id'>get_stats</span><span class='lparen token'>(</span><span class='metric_name identifier id'>metric_name</span><span class='comma token'>,</span> <span class='use_scope identifier id'>use_scope</span><span class='assign token'>=</span><span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='agent identifier id'>agent</span><span class='dot token'>.</span><span class='stats_engine identifier id'>stats_engine</span><span class='dot token'>.</span><span class='get_stats identifier id'>get_stats</span><span class='lparen token'>(</span><span class='metric_name identifier id'>metric_name</span><span class='comma token'>,</span> <span class='use_scope identifier id'>use_scope</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_stats_no_scope</h3>
</div><div id="get_stats_no_scope-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_stats_no_scope</span><span class='args'>(metric_name)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/new_relic/shim_agent.rb', line 41</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/newrelic/rpm/blob/master/lib/new_relic/shim_agent.rb#L41">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">41
42
43</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get_stats_no_scope identifier id'>get_stats_no_scope</span><span class='lparen token'>(</span><span class='metric_name identifier id'>metric_name</span><span class='rparen token'>)</span>
  <span class='agent identifier id'>agent</span><span class='dot token'>.</span><span class='stats_engine identifier id'>stats_engine</span><span class='dot token'>.</span><span class='get_stats_no_scope identifier id'>get_stats_no_scope</span><span class='lparen token'>(</span><span class='metric_name identifier id'>metric_name</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>ignore_error_filter</h3>
</div><div id="ignore_error_filter-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>ignore_error_filter</span><span class='args'>(&amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This method allows a filter to be applied to errors that RPM will track.
The block should return the exception to track (which could be different
from the original exception) or nil to ignore this exception
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/new_relic/agent/agent.rb', line 119</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/newrelic/rpm/blob/master/lib/new_relic/agent/agent.rb#L119">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">119
120
121</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='ignore_error_filter identifier id'>ignore_error_filter</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='agent identifier id'>agent</span><span class='dot token'>.</span><span class='error_collector identifier id'>error_collector</span><span class='dot token'>.</span><span class='ignore_error_filter identifier id'>ignore_error_filter</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>manual_start</h3>
</div><div id="manual_start-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>manual_start</span><span class='args'>(environment, identifier)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Call this to manually start the Agent in situations where the Agent does
not auto-start. When the app environment loads, so does the Agent. However,
the Agent will only connect to RPM if a web front-end is found. If you want
to selectively monitor ruby processes that don&#8217;t use web plugins,
then call this method in your code and the Agent will fire up and start
reporting to RPM.
</p>
<p>
environment - the name of the environment. used for logging only port - the
name of this instance. shows up in the RPM UI screens. can be any String
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/new_relic/agent/agent.rb', line 65</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/newrelic/rpm/blob/master/lib/new_relic/agent/agent.rb#L65">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">65
66
67</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='manual_start identifier id'>manual_start</span><span class='lparen token'>(</span><span class='environment identifier id'>environment</span><span class='comma token'>,</span> <span class='identifier identifier id'>identifier</span><span class='rparen token'>)</span>
  <span class='agent identifier id'>agent</span><span class='dot token'>.</span><span class='manual_start identifier id'>manual_start</span><span class='lparen token'>(</span><span class='environment identifier id'>environment</span><span class='comma token'>,</span> <span class='identifier identifier id'>identifier</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>set_sql_obfuscator</h3>
</div><div id="set_sql_obfuscator-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>set_sql_obfuscator</span><span class='args'>(type = :replace, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This method sets the block sent to this method as a sql obfuscator. The
block will be called with a single String SQL statement to obfuscate. The
method must return the obfuscated String SQL. If chaining of obfuscators is
required, use type = :before or :after
</p>
<p>
type = :before, :replace, :after
</p>
<p>
example:
</p>
<pre class="code">
   <span class='NewRelic constant id'>NewRelic</span><span class='colon2 op'>::</span><span class='Agent constant id'>Agent</span><span class='dot token'>.</span><span class='set_sql_obfuscator identifier id'>set_sql_obfuscator</span><span class='lparen token'>(</span><span class='symbol val'>:replace</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='sql identifier id'>sql</span><span class='bitor op'>|</span>
      <span class='my_obfuscator identifier id'>my_obfuscator</span><span class='lparen token'>(</span><span class='sql identifier id'>sql</span><span class='rparen token'>)</span>
   <span class='end end kw'>end</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/new_relic/agent/agent.rb', line 81</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/newrelic/rpm/blob/master/lib/new_relic/agent/agent.rb#L81">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">81
82
83</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='set_sql_obfuscator identifier id'>set_sql_obfuscator</span><span class='lparen token'>(</span><span class='type identifier id'>type</span> <span class='assign token'>=</span> <span class='symbol val'>:replace</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='agent identifier id'>agent</span><span class='dot token'>.</span><span class='set_sql_obfuscator identifier id'>set_sql_obfuscator</span> <span class='type identifier id'>type</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>should_ignore_error</h3>
</div><div id="should_ignore_error-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>should_ignore_error</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/new_relic/shim_agent.rb', line 63</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/newrelic/rpm/blob/master/lib/new_relic/shim_agent.rb#L63">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">63
64</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='should_ignore_error identifier id'>should_ignore_error</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> Â©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>