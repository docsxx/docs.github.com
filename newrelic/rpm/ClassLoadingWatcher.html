<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="syntax_highlight.css" type="text/css" charset="utf-8" />

    <script src="jquery.js" type="text/javascript" charset="utf-8"></script>
    <script src="app.js" type="text/javascript" charset="utf-8"></script>
    <title>Module: ClassLoadingWatcher</title>
  </head>
  <body>
    <div id="content">
      <div class="section module ClassLoadingWatcher">
  <h1 class="title">Module: ClassLoadingWatcher</h1>
  <div class="section docstring">
  <p>
This class is for debugging purposes only. It inserts instrumentation into
class loading to verify that no classes are being loaded on the new relic
thread, which can cause problems in the class loader code.
</p>

</div><div class="section constants">
  
</div>  <div class="section visibilitygroup public">
    <h1>Public Visibility</h1>
      <div class="section methodsummary instance public">
    <h1>Public Instance Method Summary</h1>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#background_thread-instance_method' title='#background_thread'>#background_thread</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#disable_warning-instance_method' title='#disable_warning'>#disable_warning</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#enable_warning-instance_method' title='#enable_warning'>#enable_warning</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#set_background_thread-instance_method' title='#set_background_thread'>#set_background_thread</a></span><span class='args'>(thread)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails instance public">
  <h1>Public Instance Method Details</h1>
  
    <div class="method">
      <div class="method_header">
  <h3>background_thread</h3>
</div><div id="background_thread-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>background_thread</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


11
12
13</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/new_relic/agent/patch_const_missing.rb', line 11</span>

<span class='def def kw'>def</span> <span class='background_thread identifier id'>background_thread</span>
  <span class='@@background_thread ivar id'>@@background_thread</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>disable_warning</h3>
</div><div id="disable_warning-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>disable_warning</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/new_relic/agent/patch_const_missing.rb', line 63</span>

<span class='def def kw'>def</span> <span class='disable_warning identifier id'>disable_warning</span>
  <span class='Object constant id'>Object</span><span class='dot token'>.</span><span class='class_eval identifier id'>class_eval</span> <span class='do do kw'>do</span>
    <span class='if if kw'>if</span> <span class='defined? defined kw'>defined?</span><span class='lparen token'>(</span><span class='non_new_relic_require identifier id'>non_new_relic_require</span><span class='rparen token'>)</span>
      <span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:require</span><span class='comma token'>,</span> <span class='symbol val'>:non_new_relic_require</span>
      <span class='undef undef kw'>undef</span> <span class='non_new_relic_require identifier id'>non_new_relic_require</span>
    <span class='end end kw'>end</span>
    
    <span class='if if kw'>if</span> <span class='defined? defined kw'>defined?</span><span class='lparen token'>(</span><span class='non_new_relic_load identifier id'>non_new_relic_load</span><span class='rparen token'>)</span>
      <span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:load</span><span class='comma token'>,</span> <span class='symbol val'>:non_new_relic_load</span>
      <span class='undef undef kw'>undef</span> <span class='non_new_relic_load identifier id'>non_new_relic_load</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='Module constant id'>Module</span><span class='dot token'>.</span><span class='class_eval identifier id'>class_eval</span> <span class='do do kw'>do</span>
    <span class='if if kw'>if</span> <span class='defined? defined kw'>defined?</span><span class='lparen token'>(</span><span class='non_new_relic_const_missing identifier id'>non_new_relic_const_missing</span><span class='rparen token'>)</span>
      <span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:const_missing</span><span class='comma token'>,</span> <span class='symbol val'>:non_new_relic_const_missing</span>
      <span class='undef undef kw'>undef</span> <span class='non_new_relic_const_missing identifier id'>non_new_relic_const_missing</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>enable_warning</h3>
</div><div id="enable_warning-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>enable_warning</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/new_relic/agent/patch_const_missing.rb', line 43</span>

<span class='def def kw'>def</span> <span class='enable_warning identifier id'>enable_warning</span>
  <span class='Object constant id'>Object</span><span class='dot token'>.</span><span class='class_eval identifier id'>class_eval</span> <span class='do do kw'>do</span>
    <span class='if if kw'>if</span> <span class='notop op'>!</span><span class='defined? defined kw'>defined?</span><span class='lparen token'>(</span><span class='non_new_relic_require identifier id'>non_new_relic_require</span><span class='rparen token'>)</span>
      <span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:non_new_relic_require</span><span class='comma token'>,</span> <span class='symbol val'>:require</span>
      <span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:require</span><span class='comma token'>,</span> <span class='symbol val'>:new_relic_require</span>
    <span class='end end kw'>end</span>
    
    <span class='if if kw'>if</span> <span class='notop op'>!</span><span class='defined? defined kw'>defined?</span><span class='lparen token'>(</span><span class='non_new_relic_load identifier id'>non_new_relic_load</span><span class='rparen token'>)</span>
      <span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:non_new_relic_load</span><span class='comma token'>,</span> <span class='symbol val'>:load</span>
      <span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:load</span><span class='comma token'>,</span> <span class='symbol val'>:new_relic_load</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='Module constant id'>Module</span><span class='dot token'>.</span><span class='class_eval identifier id'>class_eval</span> <span class='do do kw'>do</span>
    <span class='if if kw'>if</span> <span class='notop op'>!</span><span class='defined? defined kw'>defined?</span><span class='lparen token'>(</span><span class='non_new_relic_const_missing identifier id'>non_new_relic_const_missing</span><span class='rparen token'>)</span>
      <span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:non_new_relic_const_missing</span><span class='comma token'>,</span> <span class='symbol val'>:const_missing</span>
      <span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:const_missing</span><span class='comma token'>,</span> <span class='symbol val'>:new_relic_const_missing</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>set_background_thread</h3>
</div><div id="set_background_thread-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>set_background_thread</span><span class='args'>(thread)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


15
16
17
18
19
20
21
22
23
24
25
26</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/new_relic/agent/patch_const_missing.rb', line 15</span>

<span class='def def kw'>def</span> <span class='set_background_thread identifier id'>set_background_thread</span><span class='lparen token'>(</span><span class='thread identifier id'>thread</span><span class='rparen token'>)</span>
  <span class='@@background_thread ivar id'>@@background_thread</span> <span class='assign token'>=</span> <span class='thread identifier id'>thread</span>
  
  <span class='comment val'># these tests that check is working...</span>
  <span class='comment val'>#    begin</span>
  <span class='comment val'>#      bad = Bad</span>
  <span class='comment val'>#    rescue</span>
  <span class='comment val'>#    end</span>
  
  <span class='comment val'>#    require 'new_relic/agent/patch_const_missing'</span>
  <span class='comment val'>#    load 'new_relic/agent/patch_const_missing.rb'</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
</div>
  </div>

</div>
    </div>
  </body>
</html>