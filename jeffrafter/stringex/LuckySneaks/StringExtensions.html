<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="../syntax_highlight.css" type="text/css" charset="utf-8" />

    <script src="../jquery.js" type="text/javascript" charset="utf-8"></script>
    <script src="../app.js" type="text/javascript" charset="utf-8"></script>
    <title>Module: LuckySneaks::StringExtensions</title>
  </head>
  <body>
    <div id="content">
      <div class="section module LuckySneaks_StringExtensions">
  <h1 class="title">Module: LuckySneaks::StringExtensions</h1>
  <div class="section docstring">
  <p>
These methods are all added on String class.
</p>

</div><div class="section constants">
  
</div>  <div class="section visibilitygroup public">
    <h1>Public Visibility</h1>
      <div class="section methodsummary class public">
    <h1>Public Class Method Summary</h1>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#included-class_method' title='included'>included</a></span><span class='args'>(base)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary instance public">
    <h1>Public Instance Method Summary</h1>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#collapse-instance_method' title='#collapse'>#collapse</a></span><span class='args'>(character = &quot; &quot;)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Removes specified character from the beginning and/or end of the string and
then performs <tt>String#squeeze(character)</tt>, condensing runs of the
character within the string.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#convert_accented_entities-instance_method' title='#convert_accented_entities'>#convert_accented_entities</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Converts HTML entities into the respective non-accented letters.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#convert_german_umlauts-instance_method' title='#convert_german_umlauts'>#convert_german_umlauts</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Converts German Umlauts to their transliteration according to German
conventions.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#convert_misc_characters-instance_method' title='#convert_misc_characters'>#convert_misc_characters</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Converts various common plaintext characters to a more URI-friendly
representation.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#convert_misc_entities-instance_method' title='#convert_misc_entities'>#convert_misc_entities</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Converts HTML entities (taken from common Textile/RedCloth formattings)
into plain text formats.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#remove_formatting-instance_method' title='#remove_formatting'>#remove_formatting</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Performs multiple text manipulations.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#replace_whitespace-instance_method' title='#replace_whitespace'>#replace_whitespace</a></span><span class='args'>(replace = &quot; &quot;)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Replace runs of whitespace in string.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#strip_html_tags-instance_method' title='#strip_html_tags'>#strip_html_tags</a></span><span class='args'>(leave_whitespace = false)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Removes HTML tags from text.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#to_ascii-instance_method' title='#to_ascii'>#to_ascii</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns string with its UTF-8 characters transliterated to ASCII ones.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#to_html-instance_method' title='#to_html'>#to_html</a></span><span class='args'>(lite_mode = false)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the string converted (via Textile/RedCloth) to HTML format or self
if Redcloth is not available.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#to_url-instance_method' title='#to_url'>#to_url</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Create a URI-friendly representation of the string.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails class public">
  <h1>Public Class Method Details</h1>
  
    <div class="method">
      <div class="method_header">
  <h3>included</h3>
</div><div id="included-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>included</span><span class='args'>(base)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


4
5
6</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/lucky_sneaks/string_extensions.rb', line 4</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='included identifier id'>included</span><span class='lparen token'>(</span><span class='base identifier id'>base</span><span class='rparen token'>)</span> <span class='comment val'># :nodoc:</span>
  <span class='base identifier id'>base</span><span class='dot token'>.</span><span class='extend identifier id'>extend</span><span class='lparen token'>(</span><span class='ClassMethods constant id'>ClassMethods</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
</div><div class="section methoddetails instance public">
  <h1>Public Instance Method Details</h1>
  
    <div class="method">
      <div class="method_header">
  <h3>collapse</h3>
</div><div id="collapse-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>collapse</span><span class='args'>(character = &quot; &quot;)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Removes specified character from the beginning and/or end of the string and
then performs <tt>String#squeeze(character)</tt>, condensing runs of the
character within the string.
</p>
<p>
Note: This method has been superceded by ActiveSupport&#8217;s squish
method.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


178
179
180</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/lucky_sneaks/string_extensions.rb', line 178</span>

<span class='def def kw'>def</span> <span class='collapse identifier id'>collapse</span><span class='lparen token'>(</span><span class='character identifier id'>character</span> <span class='assign token'>=</span> <span class='string val'>&quot; &quot;</span><span class='rparen token'>)</span>
  <span class='sub identifier id'>sub</span><span class='lparen token'>(</span><span class='dregexp node'>/^#{character}*/</span><span class='comma token'>,</span> <span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='sub identifier id'>sub</span><span class='lparen token'>(</span><span class='dregexp node'>/#{character}*$/</span><span class='comma token'>,</span> <span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='squeeze identifier id'>squeeze</span><span class='lparen token'>(</span><span class='character identifier id'>character</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>convert_accented_entities</h3>
</div><div id="convert_accented_entities-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>convert_accented_entities</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Converts HTML entities into the respective non-accented letters. Examples:
</p>
<pre class="code">
  <span class='string val'>&quot;&amp;aacute;&quot;</span><span class='dot token'>.</span><span class='convert_accented_entities identifier id'>convert_accented_entities</span> <span class='comment val'># =&gt; &quot;a&quot;</span>
  <span class='string val'>&quot;&amp;ccedil;&quot;</span><span class='dot token'>.</span><span class='convert_accented_entities identifier id'>convert_accented_entities</span> <span class='comment val'># =&gt; &quot;c&quot;</span>
  <span class='string val'>&quot;&amp;egrave;&quot;</span><span class='dot token'>.</span><span class='convert_accented_entities identifier id'>convert_accented_entities</span> <span class='comment val'># =&gt; &quot;e&quot;</span>
  <span class='string val'>&quot;&amp;icirc;&quot;</span><span class='dot token'>.</span><span class='convert_accented_entities identifier id'>convert_accented_entities</span> <span class='comment val'># =&gt; &quot;i&quot;</span>
  <span class='string val'>&quot;&amp;oslash;&quot;</span><span class='dot token'>.</span><span class='convert_accented_entities identifier id'>convert_accented_entities</span> <span class='comment val'># =&gt; &quot;o&quot;</span>
  <span class='string val'>&quot;&amp;uuml;&quot;</span><span class='dot token'>.</span><span class='convert_accented_entities identifier id'>convert_accented_entities</span> <span class='comment val'># =&gt; &quot;u&quot;</span>
</pre>
<p>
Note: This does not do any conversion of Unicode/Ascii accented-characters.
For that functionality please use <tt>to_ascii</tt>.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


71
72
73</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/lucky_sneaks/string_extensions.rb', line 71</span>

<span class='def def kw'>def</span> <span class='convert_accented_entities identifier id'>convert_accented_entities</span>
  <span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/&amp;([A-Za-z])(grave|acute|circ|tilde|uml|ring|cedil|slash);/</span><span class='comma token'>,</span> <span class='string val'>'\1'</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>convert_german_umlauts</h3>
</div><div id="convert_german_umlauts-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>convert_german_umlauts</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Converts German Umlauts to their transliteration according to German
conventions.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


76
77
78
79
80
81
82
83
84
85
86
87</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/lucky_sneaks/string_extensions.rb', line 76</span>

<span class='def def kw'>def</span> <span class='convert_german_umlauts identifier id'>convert_german_umlauts</span>
  <span class='map identifier id'>map</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span>
    <span class='string val'>&quot;Ä&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;ae&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;Ö&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;oe&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;Ü&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;ue&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;ä&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;ae&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;ö&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;oe&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;ü&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;ue&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;ß&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;ss&quot;</span>
  <span class='rbrace token'>}</span>
  <span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='dregexp node'>/#{map.keys.join('|')}/</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='match identifier id'>match</span><span class='bitor op'>|</span> <span class='map identifier id'>map</span><span class='lbrack token'>[</span><span class='match identifier id'>match</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>convert_misc_characters</h3>
</div><div id="convert_misc_characters-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>convert_misc_characters</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Converts various common plaintext characters to a more URI-friendly
representation. Examples:
</p>
<pre class="code">
  <span class='string val'>&quot;foo &amp; bar&quot;</span><span class='dot token'>.</span><span class='convert_misc_characters identifier id'>convert_misc_characters</span> <span class='comment val'># =&gt; &quot;foo and bar&quot;</span>
  <span class='string val'>&quot;Chanel #9&quot;</span><span class='dot token'>.</span><span class='convert_misc_characters identifier id'>convert_misc_characters</span> <span class='comment val'># =&gt; &quot;Chanel number nine&quot;</span>
  <span class='string val'>&quot;user@host&quot;</span><span class='dot token'>.</span><span class='convert_misc_characters identifier id'>convert_misc_characters</span> <span class='comment val'># =&gt; &quot;user at host&quot;</span>
  <span class='string val'>&quot;google.com&quot;</span><span class='dot token'>.</span><span class='convert_misc_characters identifier id'>convert_misc_characters</span> <span class='comment val'># =&gt; &quot;google dot com&quot;</span>
  <span class='string val'>&quot;$10&quot;</span><span class='dot token'>.</span><span class='convert_misc_characters identifier id'>convert_misc_characters</span> <span class='comment val'># =&gt; &quot;10 dollars&quot;</span>
  <span class='string val'>&quot;*69&quot;</span><span class='dot token'>.</span><span class='convert_misc_characters identifier id'>convert_misc_characters</span> <span class='comment val'># =&gt; &quot;star 69&quot;</span>
  <span class='string val'>&quot;100%&quot;</span><span class='dot token'>.</span><span class='convert_misc_characters identifier id'>convert_misc_characters</span> <span class='comment val'># =&gt; &quot;100 percent&quot;</span>
  <span class='string val'>&quot;windows/mac/linux&quot;</span><span class='dot token'>.</span><span class='convert_misc_characters identifier id'>convert_misc_characters</span> <span class='comment val'># =&gt; &quot;windows slash mac slash linux&quot;</span>
</pre>
<p>
Note: Because this method will convert any &amp; symbols to the string
&quot;and&quot;, you should run any methods which convert HTML entities
(convert_html_entities and convert_misc_entities) before running this
method.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/lucky_sneaks/string_extensions.rb', line 136</span>

<span class='def def kw'>def</span> <span class='convert_misc_characters identifier id'>convert_misc_characters</span>
  <span class='dummy identifier id'>dummy</span> <span class='assign token'>=</span> <span class='dup identifier id'>dup</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/\.{3,}/</span><span class='comma token'>,</span> <span class='string val'>&quot; dot dot dot &quot;</span><span class='rparen token'>)</span> <span class='comment val'># Catch ellipses before single dot rule!</span>
  <span class='comment val'># Special rules for money</span>
  <span class='lbrace token'>{</span>
    <span class='regexp val'>/(\s|^)\$(\d+)\.(\d+)(\s|$)/</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'\2 dollars \3 cents'</span><span class='comma token'>,</span>
    <span class='regexp val'>/(\s|^)£(\d+)\.(\d+)(\s|$)/</span><span class='u identifier id'>u</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'\2 pounds \3 pence'</span><span class='comma token'>,</span>
  <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='found identifier id'>found</span><span class='comma token'>,</span> <span class='replaced identifier id'>replaced</span><span class='bitor op'>|</span>
    <span class='replaced identifier id'>replaced</span> <span class='assign token'>=</span> <span class='dstring node'>&quot; #{replaced} &quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='replaced identifier id'>replaced</span> <span class='match op'>=~</span> <span class='regexp val'>/\\1/</span>
    <span class='dummy identifier id'>dummy</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span><span class='found identifier id'>found</span><span class='comma token'>,</span> <span class='replaced identifier id'>replaced</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='comment val'># Back to normal rules</span>
  <span class='lbrace token'>{</span>
    <span class='regexp val'>/\s*&amp;\s*/</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;and&quot;</span><span class='comma token'>,</span>
    <span class='regexp val'>/\s*#/</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;number&quot;</span><span class='comma token'>,</span>
    <span class='regexp val'>/\s*@\s*/</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;at&quot;</span><span class='comma token'>,</span>
    <span class='regexp val'>/(\S|^)\.(\S)/</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'\1 dot \2'</span><span class='comma token'>,</span>
    <span class='regexp val'>/(\s|^)\$(\d*)(\s|$)/</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'\2 dollars'</span><span class='comma token'>,</span>
    <span class='regexp val'>/(\s|^)£(\d*)(\s|$)/</span><span class='u identifier id'>u</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'\2 pounds'</span><span class='comma token'>,</span>
    <span class='regexp val'>/(\s|^)¥(\d*)(\s|$)/</span><span class='u identifier id'>u</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'\2 yen'</span><span class='comma token'>,</span>
    <span class='regexp val'>/\s*\*\s*/</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;star&quot;</span><span class='comma token'>,</span>
    <span class='regexp val'>/\s*%\s*/</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;percent&quot;</span><span class='comma token'>,</span>
    <span class='regexp val'>/\s*(\\|\/)\s*/</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;slash&quot;</span><span class='comma token'>,</span>
  <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='found identifier id'>found</span><span class='comma token'>,</span> <span class='replaced identifier id'>replaced</span><span class='bitor op'>|</span>
    <span class='replaced identifier id'>replaced</span> <span class='assign token'>=</span> <span class='dstring node'>&quot; #{replaced} &quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='replaced identifier id'>replaced</span> <span class='match op'>=~</span> <span class='regexp val'>/\\1/</span>
    <span class='dummy identifier id'>dummy</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span><span class='found identifier id'>found</span><span class='comma token'>,</span> <span class='replaced identifier id'>replaced</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='dummy identifier id'>dummy</span> <span class='assign token'>=</span> <span class='dummy identifier id'>dummy</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/(^|\w)'(\w|$)/</span><span class='comma token'>,</span> <span class='string val'>'\1\2'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/[\.,:;()\[\]\/\?!\^'&quot;_]/</span><span class='comma token'>,</span> <span class='string val'>&quot; &quot;</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>convert_misc_entities</h3>
</div><div id="convert_misc_entities-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>convert_misc_entities</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Converts HTML entities (taken from common Textile/RedCloth formattings)
into plain text formats.
</p>
<p>
Note: This isn&#8217;t an attempt at complete conversion of HTML entities,
just those most likely to be generated by Textile.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/lucky_sneaks/string_extensions.rb', line 93</span>

<span class='def def kw'>def</span> <span class='convert_misc_entities identifier id'>convert_misc_entities</span>
  <span class='dummy identifier id'>dummy</span> <span class='assign token'>=</span> <span class='dup identifier id'>dup</span>
  <span class='lbrace token'>{</span>
    <span class='string val'>&quot;#822[01]&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;\&quot;&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;#821[67]&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;'&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;#8230&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;...&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;#8211&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;-&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;#8212&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;--&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;#215&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;x&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;gt&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;&gt;&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;lt&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;&lt;&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;(#8482|trade)&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;(tm)&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;(#174|reg)&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;(r)&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;(#169|copy)&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;(c)&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;(#38|amp)&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;and&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;nbsp&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot; &quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;(#162|cent)&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot; cent&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;(#163|pound)&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot; pound&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;(#188|frac14)&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;one fourth&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;(#189|frac12)&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;half&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;(#190|frac34)&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;three fourths&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;(#176|deg)&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot; degrees&quot;</span>
  <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='textiled identifier id'>textiled</span><span class='comma token'>,</span> <span class='normal identifier id'>normal</span><span class='bitor op'>|</span>
    <span class='dummy identifier id'>dummy</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span><span class='dregexp node'>/&amp;#{textiled};/</span><span class='comma token'>,</span> <span class='normal identifier id'>normal</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='dummy identifier id'>dummy</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/&amp;[^;]+;/</span><span class='comma token'>,</span> <span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>remove_formatting</h3>
</div><div id="remove_formatting-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>remove_formatting</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Performs multiple text manipulations. Essentially a shortcut for typing
them all. View source below to see which methods are run.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


41
42
43
44
45
46
47
48</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/lucky_sneaks/string_extensions.rb', line 41</span>

<span class='def def kw'>def</span> <span class='remove_formatting identifier id'>remove_formatting</span>
  <span class='strip_html_tags identifier id'>strip_html_tags</span><span class='dot token'>.</span>
  <span class='convert_german_umlauts identifier id'>convert_german_umlauts</span><span class='dot token'>.</span>
  <span class='convert_accented_entities identifier id'>convert_accented_entities</span><span class='dot token'>.</span>
  <span class='convert_misc_entities identifier id'>convert_misc_entities</span><span class='dot token'>.</span>
  <span class='convert_misc_characters identifier id'>convert_misc_characters</span><span class='dot token'>.</span>
  <span class='to_ascii identifier id'>to_ascii</span><span class='dot token'>.</span><span class='collapse identifier id'>collapse</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>replace_whitespace</h3>
</div><div id="replace_whitespace-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>replace_whitespace</span><span class='args'>(replace = &quot; &quot;)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Replace runs of whitespace in string. Defaults to a single space but any
replacement string may be specified as an argument. Examples:
</p>
<pre class="code">
  <span class='string val'>&quot;Foo       bar&quot;</span><span class='dot token'>.</span><span class='replace_whitespace identifier id'>replace_whitespace</span> <span class='comment val'># =&gt; &quot;Foo bar&quot;</span>
  <span class='string val'>&quot;Foo       bar&quot;</span><span class='dot token'>.</span><span class='replace_whitespace identifier id'>replace_whitespace</span><span class='lparen token'>(</span><span class='string val'>&quot;-&quot;</span><span class='rparen token'>)</span> <span class='comment val'># =&gt; &quot;Foo-bar&quot;</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


170
171
172</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/lucky_sneaks/string_extensions.rb', line 170</span>

<span class='def def kw'>def</span> <span class='replace_whitespace identifier id'>replace_whitespace</span><span class='lparen token'>(</span><span class='replace identifier id'>replace</span> <span class='assign token'>=</span> <span class='string val'>&quot; &quot;</span><span class='rparen token'>)</span>
  <span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/\s+/</span><span class='comma token'>,</span> <span class='replace identifier id'>replace</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>strip_html_tags</h3>
</div><div id="strip_html_tags-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>strip_html_tags</span><span class='args'>(leave_whitespace = false)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Removes HTML tags from text. This code is simplified from Tobias
Luettke&#8217;s regular expression in Typo[http://typosphere.org].
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


52
53
54
55
56
57
58</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/lucky_sneaks/string_extensions.rb', line 52</span>

<span class='def def kw'>def</span> <span class='strip_html_tags identifier id'>strip_html_tags</span><span class='lparen token'>(</span><span class='leave_whitespace identifier id'>leave_whitespace</span> <span class='assign token'>=</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='regexp val'>/[\w:_-]+/</span>
  <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='regexp val'>/([A-Za-z0-9]+|('[^']*?'|&quot;[^&quot;]*?&quot;))/</span>
  <span class='attr identifier id'>attr</span> <span class='assign token'>=</span> <span class='dregexp node'>/(#{name}(\s*=\s*#{value})?)/</span>
  <span class='rx identifier id'>rx</span> <span class='assign token'>=</span> <span class='dregexp node'>/&lt;[!\/?\[]?(#{name}|--)(\s+(#{attr}(\s+#{attr})*))?\s*([!\/?\]]+|--)?&gt;/</span>
  <span class='lparen token'>(</span><span class='leave_whitespace identifier id'>leave_whitespace</span><span class='rparen token'>)</span> <span class='question op'>?</span>  <span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='rx identifier id'>rx</span><span class='comma token'>,</span> <span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span> <span class='colon op'>:</span> <span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='rx identifier id'>rx</span><span class='comma token'>,</span> <span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/\s+/</span><span class='comma token'>,</span> <span class='string val'>&quot; &quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_ascii</h3>
</div><div id="to_ascii-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_ascii</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns string with its UTF-8 characters transliterated to ASCII ones.
Example:
</p>
<pre class="code">
  <span class='string val'>&quot;⠋⠗⠁⠝⠉⠑&quot;</span><span class='dot token'>.</span><span class='to_ascii identifier id'>to_ascii</span> <span class='comment val'>#=&gt; &quot;braille&quot;</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


57
58
59</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/lucky_sneaks/unidecoder.rb', line 57</span>

<span class='def def kw'>def</span> <span class='to_ascii identifier id'>to_ascii</span>
  <span class='LuckySneaks constant id'>LuckySneaks</span><span class='colon2 op'>::</span><span class='Unidecoder constant id'>Unidecoder</span><span class='dot token'>.</span><span class='decode identifier id'>decode</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_html</h3>
</div><div id="to_html-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_html</span><span class='args'>(lite_mode = false)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the string converted (via Textile/RedCloth) to HTML format or self
if Redcloth is not available.
</p>
<p>
Using <tt>:lite</tt> argument will cause RedCloth to not wrap the HTML in a
container P element, which is useful behavior for generating header element
text, etc. This is roughly equivalent to ActionView&#8217;s
<tt>textilize_without_paragraph</tt> except that it makes RedCloth do all
the work instead of just gsubbing the return from RedCloth.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/lucky_sneaks/string_extensions.rb', line 16</span>

<span class='def def kw'>def</span> <span class='to_html identifier id'>to_html</span><span class='lparen token'>(</span><span class='lite_mode identifier id'>lite_mode</span> <span class='assign token'>=</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='defined? defined kw'>defined?</span><span class='lparen token'>(</span><span class='RedCloth constant id'>RedCloth</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='lite_mode identifier id'>lite_mode</span>
      <span class='RedCloth constant id'>RedCloth</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:lite_mode</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_html identifier id'>to_html</span>
    <span class='else else kw'>else</span>
      <span class='if if kw'>if</span> <span class='self self kw'>self</span> <span class='match op'>=~</span> <span class='regexp val'>/&lt;pre&gt;/</span>
        <span class='RedCloth constant id'>RedCloth</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_html identifier id'>to_html</span><span class='dot token'>.</span><span class='tr identifier id'>tr</span><span class='lparen token'>(</span><span class='string val'>&quot;\t&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span>
      <span class='else else kw'>else</span>
        <span class='RedCloth constant id'>RedCloth</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_html identifier id'>to_html</span><span class='dot token'>.</span><span class='tr identifier id'>tr</span><span class='lparen token'>(</span><span class='string val'>&quot;\t&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/\n\n/</span><span class='comma token'>,</span> <span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='self self kw'>self</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_url</h3>
</div><div id="to_url-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_url</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Create a URI-friendly representation of the string. This is used internally
by
acts_as_url[link:classes/LuckySneaks/ActsAsUrl/ClassMethods.html#M000012]
but can be called manually in order to generate an URI-friendly version of
any string.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


35
36
37</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/lucky_sneaks/string_extensions.rb', line 35</span>

<span class='def def kw'>def</span> <span class='to_url identifier id'>to_url</span>
  <span class='remove_formatting identifier id'>remove_formatting</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span><span class='dot token'>.</span><span class='replace_whitespace identifier id'>replace_whitespace</span><span class='lparen token'>(</span><span class='string val'>&quot;-&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='collapse identifier id'>collapse</span><span class='lparen token'>(</span><span class='string val'>&quot;-&quot;</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
</div>
  </div>

</div>
    </div>
  </body>
</html>