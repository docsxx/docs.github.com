<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>andreasronge's neo4j - Module: Neo4j::NodeMixin - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/andreasronge/commits/neo4j/master" rel="alternate" title="Recent Commits to neo4j:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("andreasronge", "neo4j", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("andreasronge", "neo4j", "b379f71cfbbe0b1ff5c3506e216964d06b94b7d4", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/andreasronge/neo4j/tree/">Source</a></li>
            <li class=""><a href="http://github.com/andreasronge/neo4j/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/andreasronge/neo4j/network">Network</a></li>            
            <li class=""><a href="http://github.com/andreasronge/neo4j/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/andreasronge/neo4j">Wiki</a></li>
            <li class=""><a href="http://github.com/andreasronge/neo4j/graphs">Graphs</a></li>                    
            <li class="active"><a href="/andreasronge/neo4j">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/andreasronge">andreasronge</a> / <b><a href="http://github.com/andreasronge/neo4j/tree">neo4j</a></b>        
                <a id="namespaces_button" rel="andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section module Neo4j_NodeMixin">
  <h1>Module: Neo4j::NodeMixin</h1>
  <div class="section mixins">
  <h2>Included Modules</h2>
  <p><a href="NodeMixin/TransactionalMixin.html" title="Neo4j::TransactionalMixin">Neo4j::TransactionalMixin</a></p>
</div><div class="section docstring">
  <p>
Represents a node in the Neo4j space.
</p>
<p>
Is a wrapper around a Java neo node
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">internal_node</td>
          <td class="readwrite">
            [<span id='internal_node-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>internal_node</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#included-class_method">included</span><span class='args'>(c)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Adds classmethods in the ClassMethods module.
</p>

        
      </td>
    </tr>
  
</table><div class="included">
  
  <div>
    <h2>Public Class Methods Included from <a href="NodeMixin/TransactionalMixin.html" title="Neo4j::TransactionalMixin">Neo4j::TransactionalMixin</a></h2>
    <p><span class='name'><a href="TransactionalMixin.html#transactional-instance_method" title="transactional">transactional</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-3D-3D-instance_method">#==</span><span class='args'>(o)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-5B-5D-instance_method">#[]</span><span class='args'>(name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the given property.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-5B-5D-3D-instance_method">#[]=</span><span class='args'>(name, value)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Sets the given property to a given value.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#_create_relationship-instance_method">#_create_relationship</span><span class='args'>(type, to)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
all creation of relationships uses this method triggers event handling
:api: private.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#_to_java_direction-instance_method">#_to_java_direction</span><span class='args'>(dir)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:api: private.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#classname-instance_method">#classname</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:api: private.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#classname-3D-instance_method">#classname=</span><span class='args'>(value)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:api: private.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#delete-instance_method">#delete</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Deletes this node.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#eql-3F-instance_method">#eql?</span><span class='args'>(o)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get_property-instance_method">#get_property</span><span class='args'>(name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the value of the given neo property.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#hash-instance_method">#hash</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#init_with_node-instance_method">#init_with_node</span><span class='args'>(node)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Inits this node with the specified java neo node.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#init_without_node-instance_method">#init_without_node</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Inits when no neo java node exists.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#neo_node_id-instance_method">#neo_node_id</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns an unique id Calls getId on the neo node java object.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#property-3F-instance_method">#property?</span><span class='args'>(name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Checks if the given neo property exists.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#props-instance_method">#props</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a hash of all properties.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#relationship-instance_method">#relationship</span><span class='args'>(rel_name, dir = :outgoing)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a single relationship or nil if none available.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#relationship-3F-instance_method">#relationship?</span><span class='args'>(rel_name, dir = :outgoing)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Check if the given relationship exists Returns true if there are one or
more relationships from this node to other nodes with the given
relationship.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#relationships-instance_method">#relationships</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a Neo4j::Relationships::RelationshipTraverser object for accessing
relationships from and to this node.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#remove_property-instance_method">#remove_property</span><span class='args'>(name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Removes the property from this node.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#set_property-instance_method">#set_property</span><span class='args'>(name, value)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Sets a neo property on this node.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_param-instance_method">#to_param</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Same as neo_node_id but returns a String intead of a Fixnum.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#traverse-instance_method">#traverse</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a Neo4j::Relationships::NodeTraverser object for traversing nodes
from and to this node.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#update-instance_method">#update</span><span class='args'>(struct_or_hash, options = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Updates this node&#8217;s properties by using the provided struct/hash.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#update_index-instance_method">#update_index</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Updates the index for this node.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#value_object-instance_method">#value_object</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Creates a struct class containing all properties of this class.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>included</h3>
</div><div id="included-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>included</span><span class='args'>(c)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Adds classmethods in the ClassMethods module
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 409</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L409">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">409
410
411
412
413
414
415
416
417
418</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='included identifier id'>included</span><span class='lparen token'>(</span><span class='c identifier id'>c</span><span class='rparen token'>)</span>
  <span class='comment val'># all subclasses share the same index, declared properties and index_updaters</span>
  <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='instance_eval identifier id'>instance_eval</span> <span class='do do kw'>do</span>
    <span class='const_set identifier id'>const_set</span><span class='lparen token'>(</span><span class='symbol val'>:ROOT_CLASS</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='rparen token'>)</span>
    <span class='const_set identifier id'>const_set</span><span class='lparen token'>(</span><span class='symbol val'>:RELATIONSHIPS_INFO</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
    <span class='const_set identifier id'>const_set</span><span class='lparen token'>(</span><span class='symbol val'>:PROPERTIES_INFO</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span> <span class='unless unless_mod kw'>unless</span> <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='const_defined? fid id'>const_defined?</span><span class='lparen token'>(</span><span class='symbol val'>:ROOT_CLASS</span><span class='rparen token'>)</span>

  <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='extend identifier id'>extend</span> <span class='ClassMethods constant id'>ClassMethods</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>==</h3>
</div><div id="-3D-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>==</span><span class='args'>(o)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 230</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L230">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">230
231
232</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='eq op'>==</span><span class='lparen token'>(</span><span class='o identifier id'>o</span><span class='rparen token'>)</span>
  <span class='eql? fid id'>eql?</span><span class='lparen token'>(</span><span class='o identifier id'>o</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>[]</h3>
</div><div id="-5B-5D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>[]</span><span class='args'>(name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the given property
</p>
<p>
:api: public
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 145</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L145">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">145
146
147</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='get_property identifier id'>get_property</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>[]=</h3>
</div><div id="-5B-5D-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>[]=</span><span class='args'>(name, value)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Sets the given property to a given value. Same as
Neo4j::NodeMixin#set_property
</p>
<p>
:api: public
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 100</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L100">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">100
101
102</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='aset op'>[]=</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='set_property identifier id'>set_property</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>_create_relationship</h3>
</div><div id="_create_relationship-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>_create_relationship</span><span class='args'>(type, to)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
all creation of relationships uses this method triggers event handling
:api: private
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 362</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L362">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">362
363
364
365
366
367
368
369
370
371
372
373
374
375</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='_create_relationship identifier id'>_create_relationship</span><span class='lparen token'>(</span><span class='type identifier id'>type</span><span class='comma token'>,</span> <span class='to identifier id'>to</span><span class='rparen token'>)</span>
  <span class='java_type identifier id'>java_type</span> <span class='assign token'>=</span> <span class='Relationships constant id'>Relationships</span><span class='colon2 op'>::</span><span class='RelationshipType constant id'>RelationshipType</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span><span class='type identifier id'>type</span><span class='rparen token'>)</span>
  <span class='java_relationship identifier id'>java_relationship</span> <span class='assign token'>=</span> <span class='internal_node identifier id'>internal_node</span><span class='dot token'>.</span><span class='createRelationshipTo identifier id'>createRelationshipTo</span><span class='lparen token'>(</span><span class='to identifier id'>to</span><span class='dot token'>.</span><span class='internal_node identifier id'>internal_node</span><span class='comma token'>,</span> <span class='java_type identifier id'>java_type</span><span class='rparen token'>)</span>

  <span class='relationship identifier id'>relationship</span> <span class='assign token'>=</span>
          <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='relationships_info identifier id'>relationships_info</span><span class='lbrack token'>[</span><span class='type identifier id'>type</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span><span class='rparen token'>)</span>
            <span class='Relationships constant id'>Relationships</span><span class='colon2 op'>::</span><span class='Relationship constant id'>Relationship</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='java_relationship identifier id'>java_relationship</span><span class='rparen token'>)</span>
          <span class='else else kw'>else</span>
            <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='relationships_info identifier id'>relationships_info</span><span class='lbrack token'>[</span><span class='type identifier id'>type</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:relationship</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='java_relationship identifier id'>java_relationship</span><span class='rparen token'>)</span>
          <span class='end end kw'>end</span>
  <span class='Neo4j constant id'>Neo4j</span><span class='dot token'>.</span><span class='event_handler identifier id'>event_handler</span><span class='dot token'>.</span><span class='relationship_created identifier id'>relationship_created</span><span class='lparen token'>(</span><span class='relationship identifier id'>relationship</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='indexer identifier id'>indexer</span><span class='dot token'>.</span><span class='on_relationship_created identifier id'>on_relationship_created</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='type identifier id'>type</span><span class='rparen token'>)</span>
  <span class='relationship identifier id'>relationship</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>_to_java_direction</h3>
</div><div id="_to_java_direction-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>_to_java_direction</span><span class='args'>(dir)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:api: private
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 345</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L345">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">345
346
347
348
349
350
351
352
353
354
355
356
357</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='_to_java_direction identifier id'>_to_java_direction</span><span class='lparen token'>(</span><span class='dir identifier id'>dir</span><span class='rparen token'>)</span>
  <span class='java_dir identifier id'>java_dir</span> <span class='assign token'>=</span>
          <span class='case case kw'>case</span> <span class='dir identifier id'>dir</span>
            <span class='when when kw'>when</span> <span class='symbol val'>:outgoing</span>
              <span class='org identifier id'>org</span><span class='dot token'>.</span><span class='neo4j identifier id'>neo4j</span><span class='dot token'>.</span><span class='api identifier id'>api</span><span class='dot token'>.</span><span class='core identifier id'>core</span><span class='dot token'>.</span><span class='Direction constant id'>Direction</span><span class='colon2 op'>::</span><span class='OUTGOING constant id'>OUTGOING</span>
            <span class='when when kw'>when</span> <span class='symbol val'>:incoming</span>
              <span class='org identifier id'>org</span><span class='dot token'>.</span><span class='neo4j identifier id'>neo4j</span><span class='dot token'>.</span><span class='api identifier id'>api</span><span class='dot token'>.</span><span class='core identifier id'>core</span><span class='dot token'>.</span><span class='Direction constant id'>Direction</span><span class='colon2 op'>::</span><span class='INCOMING constant id'>INCOMING</span>
            <span class='when when kw'>when</span> <span class='symbol val'>:both</span>
              <span class='org identifier id'>org</span><span class='dot token'>.</span><span class='neo4j identifier id'>neo4j</span><span class='dot token'>.</span><span class='api identifier id'>api</span><span class='dot token'>.</span><span class='core identifier id'>core</span><span class='dot token'>.</span><span class='Direction constant id'>Direction</span><span class='colon2 op'>::</span><span class='BOTH constant id'>BOTH</span>
            <span class='else else kw'>else</span>
              <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Unknown parameter: '#{dir}', only accept :outgoing, :incoming or :both&quot;</span>
          <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>classname</h3>
</div><div id="classname-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>classname</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:api: private
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 268</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L268">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">268
269
270</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='classname identifier id'>classname</span>
  <span class='get_property identifier id'>get_property</span><span class='lparen token'>(</span><span class='string val'>'classname'</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>classname=</h3>
</div><div id="classname-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>classname=</span><span class='args'>(value)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:api: private
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 273</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L273">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">273
274
275</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='classname= identifier id'>classname=</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='set_property identifier id'>set_property</span><span class='lparen token'>(</span><span class='string val'>'classname'</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>delete</h3>
</div><div id="delete-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>delete</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Deletes this node. Invoking any methods on this node after delete() has
returned is invalid and may lead to unspecified behavior. Runs in a new
transaction if one is not already running.
</p>
<p>
:api: public
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 260</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L260">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">260
261
262
263
264
265</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='delete identifier id'>delete</span>
  <span class='Neo4j constant id'>Neo4j</span><span class='dot token'>.</span><span class='event_handler identifier id'>event_handler</span><span class='dot token'>.</span><span class='node_deleted identifier id'>node_deleted</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
  <span class='relationships identifier id'>relationships</span><span class='dot token'>.</span><span class='both identifier id'>both</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='r identifier id'>r</span><span class='bitor op'>|</span> <span class='r identifier id'>r</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='rbrace token'>}</span>
  <span class='@internal_node ivar id'>@internal_node</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='indexer identifier id'>indexer</span><span class='dot token'>.</span><span class='delete_index identifier id'>delete_index</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>eql?</h3>
</div><div id="eql-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>eql?</span><span class='args'>(o)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 226</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L226">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">226
227
228</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='eql? fid id'>eql?</span><span class='lparen token'>(</span><span class='o identifier id'>o</span><span class='rparen token'>)</span>
  <span class='o identifier id'>o</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span><span class='lparen token'>(</span><span class='NodeMixin constant id'>NodeMixin</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='o identifier id'>o</span><span class='dot token'>.</span><span class='internal_node identifier id'>internal_node</span> <span class='eq op'>==</span> <span class='internal_node identifier id'>internal_node</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_property</h3>
</div><div id="get_property-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_property</span><span class='args'>(name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the value of the given neo property.
</p>
<h4>Returns</h4>
<p>
the value of the property or nil if the property does not exist
</p>
<p>
:api: public
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 130</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L130">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">130
131
132
133
134
135
136
137
138
139</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get_property identifier id'>get_property</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='$NEO_LOGGER gvar id'>$NEO_LOGGER</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lbrace token'>{</span><span class='dstring node'>&quot;get property '#{name}'&quot;</span><span class='rbrace token'>}</span>
  <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span> <span class='if if_mod kw'>if</span> <span class='notop op'>!</span> <span class='property? fid id'>property?</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='@internal_node ivar id'>@internal_node</span><span class='dot token'>.</span><span class='get_property identifier id'>get_property</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='marshal? fid id'>marshal?</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
    <span class='Marshal constant id'>Marshal</span><span class='dot token'>.</span><span class='load identifier id'>load</span><span class='lparen token'>(</span><span class='String constant id'>String</span><span class='dot token'>.</span><span class='from_java_bytes identifier id'>from_java_bytes</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='value identifier id'>value</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>hash</h3>
</div><div id="hash-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>hash</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 234</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L234">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">234
235
236</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='hash identifier id'>hash</span>
  <span class='internal_node identifier id'>internal_node</span><span class='dot token'>.</span><span class='hashCode identifier id'>hashCode</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>init_with_node</h3>
</div><div id="init_with_node-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>init_with_node</span><span class='args'>(node)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Inits this node with the specified java neo node
</p>
<p>
:api: private
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 46</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L46">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">46
47
48
49</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='init_with_node identifier id'>init_with_node</span><span class='lparen token'>(</span><span class='node identifier id'>node</span><span class='rparen token'>)</span>
  <span class='@internal_node ivar id'>@internal_node</span> <span class='assign token'>=</span> <span class='node identifier id'>node</span>
  <span class='$NEO_LOGGER gvar id'>$NEO_LOGGER</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span> <span class='lbrace token'>{</span><span class='dstring node'>&quot;loading node '#{self.class.to_s}' node id #{@internal_node.getId()}&quot;</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>init_without_node</h3>
</div><div id="init_without_node-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>init_without_node</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Inits when no neo java node exists. Must create a new neo java node first.
</p>
<p>
:api: private
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 54</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L54">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">54
55
56
57
58
59</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='init_without_node identifier id'>init_without_node</span>
  <span class='@internal_node ivar id'>@internal_node</span> <span class='assign token'>=</span> <span class='Neo4j constant id'>Neo4j</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='dot token'>.</span><span class='create_node identifier id'>create_node</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='classname identifier id'>classname</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
  <span class='Neo4j constant id'>Neo4j</span><span class='dot token'>.</span><span class='event_handler identifier id'>event_handler</span><span class='dot token'>.</span><span class='node_created identifier id'>node_created</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
  <span class='$NEO_LOGGER gvar id'>$NEO_LOGGER</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span> <span class='lbrace token'>{</span><span class='dstring node'>&quot;created new node '#{self.class.to_s}' node id: #{@internal_node.getId()}&quot;</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>neo_node_id</h3>
</div><div id="neo_node_id-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>neo_node_id</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns an unique id Calls getId on the neo node java object
</p>
<h4>Returns</h4>
<table>
<tr><td valign="top">Fixnum:</td><td>the unique neo id of the node.

</td></tr>
</table>
<p>
:api: public
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 213</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L213">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">213
214
215</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='neo_node_id identifier id'>neo_node_id</span>
  <span class='@internal_node ivar id'>@internal_node</span><span class='dot token'>.</span><span class='getId identifier id'>getId</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>property?</h3>
</div><div id="property-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>property?</span><span class='args'>(name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Checks if the given neo property exists.
</p>
<h4>Returns</h4>
<p>
true if the property exists
</p>
<p>
:api: public
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 155</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L155">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">155
156
157</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='property? fid id'>property?</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='@internal_node ivar id'>@internal_node</span><span class='dot token'>.</span><span class='has_property identifier id'>has_property</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='@internal_node ivar id'>@internal_node</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>props</h3>
</div><div id="props-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>props</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a hash of all properties.
</p>
<h4>Returns</h4>
<table>
<tr><td valign="top">Hash:</td><td>property key and property value

</td></tr>
</table>
<p>
:api: public
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 244</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L244">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712
713
714
715
716
717
718
719
720
721
722
723
724
725
726
727
728
729
730
731
732
733
734
735
736
737
738
739
740
741
742
743
744
745
746
747
748
749
750
751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766
767
768
769
770
771
772
773
774
775
776
777
778
779
780
781
782
783</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='props identifier id'>props</span>
    <span class='ret identifier id'>ret</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='string val'>&quot;id&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='neo_node_id identifier id'>neo_node_id</span><span class='rbrace token'>}</span>
    <span class='iter identifier id'>iter</span> <span class='assign token'>=</span> <span class='@internal_node ivar id'>@internal_node</span><span class='dot token'>.</span><span class='getPropertyKeys identifier id'>getPropertyKeys</span><span class='dot token'>.</span><span class='iterator identifier id'>iterator</span>
    <span class='while while kw'>while</span> <span class='lparen token'>(</span><span class='iter identifier id'>iter</span><span class='dot token'>.</span><span class='hasNext identifier id'>hasNext</span><span class='rparen token'>)</span> <span class='do do kw'>do</span>
      <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='iter identifier id'>iter</span><span class='dot token'>.</span><span class='next identifier id'>next</span>
      <span class='ret identifier id'>ret</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='@internal_node ivar id'>@internal_node</span><span class='dot token'>.</span><span class='getProperty identifier id'>getProperty</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='ret identifier id'>ret</span>
  <span class='end end kw'>end</span>


  <span class='comment val'># Deletes this node.</span>
  <span class='comment val'># Invoking any methods on this node after delete() has returned is invalid and may lead to unspecified behavior.</span>
  <span class='comment val'># Runs in a new transaction if one is not already running.</span>
  <span class='comment val'>#</span>
  <span class='comment val'># :api: public</span>
  <span class='def def kw'>def</span> <span class='delete identifier id'>delete</span>
    <span class='Neo4j constant id'>Neo4j</span><span class='dot token'>.</span><span class='event_handler identifier id'>event_handler</span><span class='dot token'>.</span><span class='node_deleted identifier id'>node_deleted</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
    <span class='relationships identifier id'>relationships</span><span class='dot token'>.</span><span class='both identifier id'>both</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='r identifier id'>r</span><span class='bitor op'>|</span> <span class='r identifier id'>r</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='rbrace token'>}</span>
    <span class='@internal_node ivar id'>@internal_node</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='indexer identifier id'>indexer</span><span class='dot token'>.</span><span class='delete_index identifier id'>delete_index</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># :api: private</span>
  <span class='def def kw'>def</span> <span class='classname identifier id'>classname</span>
    <span class='get_property identifier id'>get_property</span><span class='lparen token'>(</span><span class='string val'>'classname'</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># :api: private</span>
  <span class='def def kw'>def</span> <span class='classname= identifier id'>classname=</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
    <span class='set_property identifier id'>set_property</span><span class='lparen token'>(</span><span class='string val'>'classname'</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>


  <span class='comment val'># Returns a Neo4j::Relationships::RelationshipTraverser object for accessing relationships from and to this node.</span>
  <span class='comment val'># The Neo4j::Relationships::RelationshipTraverser is an Enumerable that returns Neo4j::RelationshipMixin objects.</span>
  <span class='comment val'>#</span>
  <span class='comment val'># ==== Returns</span>
  <span class='comment val'># A Neo4j::Relationships::RelationshipTraverser object </span>
  <span class='comment val'>#</span>
  <span class='comment val'># ==== See Also</span>
  <span class='comment val'># * Neo4j::Relationships::RelationshipTraverser</span>
  <span class='comment val'># * Neo4j::RelationshipMixin</span>
  <span class='comment val'>#</span>
  <span class='comment val'># ==== Example</span>
  <span class='comment val'>#</span>
  <span class='comment val'>#   person_node.relationships.outgoing(:friends).each { ... }</span>
  <span class='comment val'>#</span>
  <span class='comment val'># :api: public</span>
  <span class='def def kw'>def</span> <span class='relationships identifier id'>relationships</span>
    <span class='Relationships constant id'>Relationships</span><span class='colon2 op'>::</span><span class='RelationshipTraverser constant id'>RelationshipTraverser</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>


  <span class='comment val'># Returns a single relationship or nil if none available.</span>
  <span class='comment val'># If there are more then one relationship of the given type it will raise an exception.</span>
  <span class='comment val'>#</span>
  <span class='comment val'># ==== Parameters</span>
  <span class='comment val'># type&lt;#to_s&gt;:: the key and value to be set</span>
  <span class='comment val'># dir:: optional default :outgoing (either, :outgoing, :incoming, :both)</span>
  <span class='comment val'>#</span>
  <span class='comment val'># ==== Returns</span>
  <span class='comment val'># An object that mixin the Neo4j::RelationshipMixin representing the given relationship type</span>
  <span class='comment val'>#</span>
  <span class='comment val'># ==== See Also</span>
  <span class='comment val'># * JavaDoc for http://api.neo4j.org/current/org/neo4j/api/core/Node.html#getSingleRelationship(org.neo4j.api.core.RelationshipType,%20org.neo4j.api.core.Direction)</span>
  <span class='comment val'># * Neo4j::RelationshipMixin</span>
  <span class='comment val'>#</span>
  <span class='comment val'># ==== Example</span>
  <span class='comment val'>#</span>
  <span class='comment val'>#   person_node.relationship(:address).end_node[:street]</span>
  <span class='comment val'># :api: public</span>
  <span class='def def kw'>def</span> <span class='relationship identifier id'>relationship</span><span class='lparen token'>(</span><span class='rel_name identifier id'>rel_name</span><span class='comma token'>,</span> <span class='dir identifier id'>dir</span><span class='assign token'>=</span><span class='symbol val'>:outgoing</span><span class='rparen token'>)</span>
    <span class='java_dir identifier id'>java_dir</span> <span class='assign token'>=</span> <span class='_to_java_direction identifier id'>_to_java_direction</span><span class='lparen token'>(</span><span class='dir identifier id'>dir</span><span class='rparen token'>)</span>
    <span class='rel_type identifier id'>rel_type</span> <span class='assign token'>=</span> <span class='Relationships constant id'>Relationships</span><span class='colon2 op'>::</span><span class='RelationshipType constant id'>RelationshipType</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span><span class='rel_name identifier id'>rel_name</span><span class='rparen token'>)</span>
    <span class='rel identifier id'>rel</span> <span class='assign token'>=</span> <span class='@internal_node ivar id'>@internal_node</span><span class='dot token'>.</span><span class='getSingleRelationship identifier id'>getSingleRelationship</span><span class='lparen token'>(</span><span class='rel_type identifier id'>rel_type</span><span class='comma token'>,</span> <span class='java_dir identifier id'>java_dir</span><span class='rparen token'>)</span>
    <span class='Neo4j constant id'>Neo4j</span><span class='dot token'>.</span><span class='load_relationship identifier id'>load_relationship</span><span class='lparen token'>(</span><span class='rel identifier id'>rel</span><span class='dot token'>.</span><span class='getId identifier id'>getId</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># Check if the given relationship exists</span>
  <span class='comment val'># Returns true if there are one or more relationships from this node to other nodes</span>
  <span class='comment val'># with the given relationship.</span>
  <span class='comment val'># It will not return true only because the relationship is defined.</span>
  <span class='comment val'>#  </span>
  <span class='comment val'># ==== Parameters</span>
  <span class='comment val'># rel_name&lt;#to_s&gt;:: the key and value to be set</span>
  <span class='comment val'># dir:: optional default :outgoing (either, :outgoing, :incoming, :both)</span>
  <span class='comment val'>#</span>
  <span class='comment val'># ==== Returns</span>
  <span class='comment val'># true if one or more relationships exists for the given rel_name and dir</span>
  <span class='comment val'># otherwise false</span>
  <span class='comment val'>#</span>
  <span class='comment val'># :api: public</span>
  <span class='def def kw'>def</span> <span class='relationship? fid id'>relationship?</span><span class='lparen token'>(</span><span class='rel_name identifier id'>rel_name</span><span class='comma token'>,</span> <span class='dir identifier id'>dir</span><span class='assign token'>=</span><span class='symbol val'>:outgoing</span><span class='rparen token'>)</span>
    <span class='type identifier id'>type</span> <span class='assign token'>=</span> <span class='Relationships constant id'>Relationships</span><span class='colon2 op'>::</span><span class='RelationshipType constant id'>RelationshipType</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span><span class='rel_name identifier id'>rel_name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
    <span class='java_dir identifier id'>java_dir</span> <span class='assign token'>=</span> <span class='_to_java_direction identifier id'>_to_java_direction</span><span class='lparen token'>(</span><span class='dir identifier id'>dir</span><span class='rparen token'>)</span>
    <span class='@internal_node ivar id'>@internal_node</span><span class='dot token'>.</span><span class='hasRelationship identifier id'>hasRelationship</span><span class='lparen token'>(</span><span class='type identifier id'>type</span><span class='comma token'>,</span> <span class='java_dir identifier id'>java_dir</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>


  <span class='comment val'># :api: private</span>
  <span class='def def kw'>def</span> <span class='_to_java_direction identifier id'>_to_java_direction</span><span class='lparen token'>(</span><span class='dir identifier id'>dir</span><span class='rparen token'>)</span>
    <span class='java_dir identifier id'>java_dir</span> <span class='assign token'>=</span>
            <span class='case case kw'>case</span> <span class='dir identifier id'>dir</span>
              <span class='when when kw'>when</span> <span class='symbol val'>:outgoing</span>
                <span class='org identifier id'>org</span><span class='dot token'>.</span><span class='neo4j identifier id'>neo4j</span><span class='dot token'>.</span><span class='api identifier id'>api</span><span class='dot token'>.</span><span class='core identifier id'>core</span><span class='dot token'>.</span><span class='Direction constant id'>Direction</span><span class='colon2 op'>::</span><span class='OUTGOING constant id'>OUTGOING</span>
              <span class='when when kw'>when</span> <span class='symbol val'>:incoming</span>
                <span class='org identifier id'>org</span><span class='dot token'>.</span><span class='neo4j identifier id'>neo4j</span><span class='dot token'>.</span><span class='api identifier id'>api</span><span class='dot token'>.</span><span class='core identifier id'>core</span><span class='dot token'>.</span><span class='Direction constant id'>Direction</span><span class='colon2 op'>::</span><span class='INCOMING constant id'>INCOMING</span>
              <span class='when when kw'>when</span> <span class='symbol val'>:both</span>
                <span class='org identifier id'>org</span><span class='dot token'>.</span><span class='neo4j identifier id'>neo4j</span><span class='dot token'>.</span><span class='api identifier id'>api</span><span class='dot token'>.</span><span class='core identifier id'>core</span><span class='dot token'>.</span><span class='Direction constant id'>Direction</span><span class='colon2 op'>::</span><span class='BOTH constant id'>BOTH</span>
              <span class='else else kw'>else</span>
                <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Unknown parameter: '#{dir}', only accept :outgoing, :incoming or :both&quot;</span>
            <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># all creation of relationships uses this method</span>
  <span class='comment val'># triggers event handling</span>
  <span class='comment val'># :api: private</span>
  <span class='def def kw'>def</span> <span class='_create_relationship identifier id'>_create_relationship</span><span class='lparen token'>(</span><span class='type identifier id'>type</span><span class='comma token'>,</span> <span class='to identifier id'>to</span><span class='rparen token'>)</span>
    <span class='java_type identifier id'>java_type</span> <span class='assign token'>=</span> <span class='Relationships constant id'>Relationships</span><span class='colon2 op'>::</span><span class='RelationshipType constant id'>RelationshipType</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span><span class='type identifier id'>type</span><span class='rparen token'>)</span>
    <span class='java_relationship identifier id'>java_relationship</span> <span class='assign token'>=</span> <span class='internal_node identifier id'>internal_node</span><span class='dot token'>.</span><span class='createRelationshipTo identifier id'>createRelationshipTo</span><span class='lparen token'>(</span><span class='to identifier id'>to</span><span class='dot token'>.</span><span class='internal_node identifier id'>internal_node</span><span class='comma token'>,</span> <span class='java_type identifier id'>java_type</span><span class='rparen token'>)</span>

    <span class='relationship identifier id'>relationship</span> <span class='assign token'>=</span>
            <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='relationships_info identifier id'>relationships_info</span><span class='lbrack token'>[</span><span class='type identifier id'>type</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span><span class='rparen token'>)</span>
              <span class='Relationships constant id'>Relationships</span><span class='colon2 op'>::</span><span class='Relationship constant id'>Relationship</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='java_relationship identifier id'>java_relationship</span><span class='rparen token'>)</span>
            <span class='else else kw'>else</span>
              <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='relationships_info identifier id'>relationships_info</span><span class='lbrack token'>[</span><span class='type identifier id'>type</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:relationship</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='java_relationship identifier id'>java_relationship</span><span class='rparen token'>)</span>
            <span class='end end kw'>end</span>
    <span class='Neo4j constant id'>Neo4j</span><span class='dot token'>.</span><span class='event_handler identifier id'>event_handler</span><span class='dot token'>.</span><span class='relationship_created identifier id'>relationship_created</span><span class='lparen token'>(</span><span class='relationship identifier id'>relationship</span><span class='rparen token'>)</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='indexer identifier id'>indexer</span><span class='dot token'>.</span><span class='on_relationship_created identifier id'>on_relationship_created</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='type identifier id'>type</span><span class='rparen token'>)</span>
    <span class='relationship identifier id'>relationship</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># Returns a Neo4j::Relationships::NodeTraverser object for traversing nodes from and to this node.</span>
  <span class='comment val'># The Neo4j::Relationships::NodeTraverser is an Enumerable that returns Neo4j::NodeMixin objects.</span>
  <span class='comment val'>#</span>
  <span class='comment val'># ==== See Also</span>
  <span class='comment val'># Neo4j::Relationships::NodeTraverser</span>
  <span class='comment val'>#</span>
  <span class='comment val'># ==== Example</span>
  <span class='comment val'>#</span>
  <span class='comment val'>#   person_node.traverse.outgoing(:friends).each { ... }</span>
  <span class='comment val'>#</span>
  <span class='comment val'># :api: public</span>
  <span class='def def kw'>def</span> <span class='traverse identifier id'>traverse</span>
    <span class='Relationships constant id'>Relationships</span><span class='colon2 op'>::</span><span class='NodeTraverser constant id'>NodeTraverser</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@internal_node ivar id'>@internal_node</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>


  <span class='comment val'># Updates the index for this node.</span>
  <span class='comment val'># This method will be automatically called when needed</span>
  <span class='comment val'># (a property changed or a relationship was created/deleted)</span>
  <span class='comment val'># </span>
  <span class='comment val'># @api private</span>
  <span class='def def kw'>def</span> <span class='update_index identifier id'>update_index</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='indexer identifier id'>indexer</span><span class='dot token'>.</span><span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>


  <span class='transactional identifier id'>transactional</span> <span class='symbol val'>:initialize</span><span class='comma token'>,</span> <span class='symbol val'>:property?</span><span class='comma token'>,</span> <span class='symbol val'>:set_property</span><span class='comma token'>,</span> <span class='symbol val'>:get_property</span><span class='comma token'>,</span> <span class='symbol val'>:remove_property</span><span class='comma token'>,</span> <span class='symbol val'>:delete</span>


  <span class='comment val'>#</span>
  <span class='comment val'># Adds classmethods in the ClassMethods module</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='included identifier id'>included</span><span class='lparen token'>(</span><span class='c identifier id'>c</span><span class='rparen token'>)</span>
    <span class='comment val'># all subclasses share the same index, declared properties and index_updaters</span>
    <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='instance_eval identifier id'>instance_eval</span> <span class='do do kw'>do</span>
      <span class='const_set identifier id'>const_set</span><span class='lparen token'>(</span><span class='symbol val'>:ROOT_CLASS</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='rparen token'>)</span>
      <span class='const_set identifier id'>const_set</span><span class='lparen token'>(</span><span class='symbol val'>:RELATIONSHIPS_INFO</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
      <span class='const_set identifier id'>const_set</span><span class='lparen token'>(</span><span class='symbol val'>:PROPERTIES_INFO</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span> <span class='unless unless_mod kw'>unless</span> <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='const_defined? fid id'>const_defined?</span><span class='lparen token'>(</span><span class='symbol val'>:ROOT_CLASS</span><span class='rparen token'>)</span>

    <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='extend identifier id'>extend</span> <span class='ClassMethods constant id'>ClassMethods</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># --------------------------------------------------------------------------</span>
  <span class='comment val'># NodeMixin class methods</span>
  <span class='comment val'>#</span>
  <span class='module module kw'>module</span> <span class='ClassMethods constant id'>ClassMethods</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Access to class constants.</span>
    <span class='comment val'># These properties are shared by the class and its siblings.</span>
    <span class='comment val'># For example that means that we can specify properties for a parent</span>
    <span class='comment val'># class and the child classes will 'inherit' those properties.</span>
    <span class='comment val'>#</span>

    <span class='comment val'># :api: private</span>
    <span class='def def kw'>def</span> <span class='root_class identifier id'>root_class</span>
      <span class='self self kw'>self</span><span class='colon2 op'>::</span><span class='ROOT_CLASS constant id'>ROOT_CLASS</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='indexer identifier id'>indexer</span>
      <span class='Indexer constant id'>Indexer</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span><span class='root_class identifier id'>root_class</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>


    <span class='comment val'># Contains information of all relationships, name, type, and multiplicity</span>
    <span class='comment val'>#</span>
    <span class='comment val'># :api: private</span>
    <span class='def def kw'>def</span> <span class='relationships_info identifier id'>relationships_info</span>
      <span class='self self kw'>self</span><span class='colon2 op'>::</span><span class='RELATIONSHIPS_INFO constant id'>RELATIONSHIPS_INFO</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># :api: private</span>
    <span class='def def kw'>def</span> <span class='properties_info identifier id'>properties_info</span>
      <span class='self self kw'>self</span><span class='colon2 op'>::</span><span class='PROPERTIES_INFO constant id'>PROPERTIES_INFO</span>
    <span class='end end kw'>end</span>


    <span class='comment val'># ------------------------------------------------------------------------</span>


    <span class='comment val'># Generates accessor method and sets configuration for Neo4j node properties.</span>
    <span class='comment val'># The generated accessor is a simple wrapper around the #set_property and</span>
    <span class='comment val'># #get_property methods.</span>
    <span class='comment val'>#</span>
    <span class='comment val'># If a property is set to nil the property will be removed.</span>
    <span class='comment val'>#</span>
    <span class='comment val'># ==== Configuration</span>
    <span class='comment val'># By setting the :type configuration parameter to 'Object' makes</span>
    <span class='comment val'># it possible to marshal any ruby object.</span>
    <span class='comment val'>#</span>
    <span class='comment val'># If no type is provided the only the native Neo4j property types are allowed:</span>
    <span class='comment val'># * TrueClass, FalseClass</span>
    <span class='comment val'># * String</span>
    <span class='comment val'># * Fixnum</span>
    <span class='comment val'># * Float</span>
    <span class='comment val'># * Boolean</span>
    <span class='comment val'>#</span>
    <span class='comment val'># ==== Parameters</span>
    <span class='comment val'># props&lt;Array,Hash&gt;:: a variable length arguments or a hash, see example below</span>
    <span class='comment val'>#</span>
    <span class='comment val'># ==== Example</span>
    <span class='comment val'>#   class Baaz; end</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   class Foo</span>
    <span class='comment val'>#     include Neo4j::NodeMixin</span>
    <span class='comment val'>#     property name, city # can set several properties in one go</span>
    <span class='comment val'>#     property bar, :type =&gt; Object # allow serialization of any ruby object</span>
    <span class='comment val'>#   end</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   f = Foo.new</span>
    <span class='comment val'>#   f.bar = Baaz.new</span>
    <span class='comment val'>#</span>
    <span class='comment val'># :api: public</span>
    <span class='def def kw'>def</span> <span class='property identifier id'>property</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='props identifier id'>props</span><span class='rparen token'>)</span>
      <span class='if if kw'>if</span> <span class='props identifier id'>props</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='eq op'>==</span> <span class='integer val'>2</span> <span class='and and kw'>and</span> <span class='props identifier id'>props</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='rparen token'>)</span>
        <span class='props identifier id'>props</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each_pair identifier id'>each_pair</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span>
          <span class='pname identifier id'>pname</span> <span class='assign token'>=</span> <span class='props identifier id'>props</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span>
          <span class='properties_info identifier id'>properties_info</span><span class='lbrack token'>[</span><span class='pname identifier id'>pname</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
          <span class='properties_info identifier id'>properties_info</span><span class='lbrack token'>[</span><span class='pname identifier id'>pname</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span>
        <span class='end end kw'>end</span>
        <span class='props identifier id'>props</span> <span class='assign token'>=</span> <span class='props identifier id'>props</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
      <span class='end end kw'>end</span>

      <span class='props identifier id'>props</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='prop identifier id'>prop</span><span class='bitor op'>|</span>
        <span class='pname identifier id'>pname</span> <span class='assign token'>=</span> <span class='prop identifier id'>prop</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span>
        <span class='properties_info identifier id'>properties_info</span><span class='lbrack token'>[</span><span class='pname identifier id'>pname</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
        <span class='properties_info identifier id'>properties_info</span><span class='lbrack token'>[</span><span class='pname identifier id'>pname</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:defined</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>

        <span class='define_method identifier id'>define_method</span><span class='lparen token'>(</span><span class='pname identifier id'>pname</span><span class='rparen token'>)</span> <span class='do do kw'>do</span>
          <span class='get_property identifier id'>get_property</span><span class='lparen token'>(</span><span class='pname identifier id'>pname</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>

        <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='pname identifier id'>pname</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='plus op'>+</span><span class='string val'>&quot;=&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span>
        <span class='define_method identifier id'>define_method</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='value identifier id'>value</span><span class='bitor op'>|</span>
          <span class='set_property identifier id'>set_property</span><span class='lparen token'>(</span><span class='pname identifier id'>pname</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Returns true if the given property name should be marshalled.</span>
    <span class='comment val'># All properties that has a type will be marshalled.</span>
    <span class='comment val'>#</span>
    <span class='comment val'># ===== Example</span>
    <span class='comment val'>#   class Foo</span>
    <span class='comment val'>#     include Neo4j::NodeMixin</span>
    <span class='comment val'>#     property :name</span>
    <span class='comment val'>#     property :since, :type =&gt; Date</span>
    <span class='comment val'>#   end</span>
    <span class='comment val'>#   Foo.marshal?(:since) =&gt; true</span>
    <span class='comment val'>#   Foo.marshal?(:name) =&gt; false</span>
    <span class='comment val'>#</span>
    <span class='comment val'># ==== Returns</span>
    <span class='comment val'># true if the property will be marshalled, false otherwise</span>
    <span class='comment val'>#</span>
    <span class='comment val'># :api: public</span>
    <span class='def def kw'>def</span> <span class='marshal? fid id'>marshal?</span><span class='lparen token'>(</span><span class='prop_name identifier id'>prop_name</span><span class='rparen token'>)</span>
      <span class='return return kw'>return</span> <span class='false false kw'>false</span> <span class='if if_mod kw'>if</span> <span class='properties_info identifier id'>properties_info</span><span class='lbrack token'>[</span><span class='prop_name identifier id'>prop_name</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
      <span class='return return kw'>return</span> <span class='false false kw'>false</span> <span class='if if_mod kw'>if</span> <span class='properties_info identifier id'>properties_info</span><span class='lbrack token'>[</span><span class='prop_name identifier id'>prop_name</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:type</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
      <span class='return return kw'>return</span> <span class='true true kw'>true</span>
    <span class='end end kw'>end</span>


    <span class='comment val'># Returns true if the given property name has been defined with the class</span>
    <span class='comment val'># method property or properties.</span>
    <span class='comment val'>#</span>
    <span class='comment val'># Notice that the node may have properties that has not been declared.</span>
    <span class='comment val'># It is always possible to set an undeclared property on a node.</span>
    <span class='comment val'>#</span>
    <span class='comment val'># ==== Returns</span>
    <span class='comment val'># true or false</span>
    <span class='comment val'>#</span>
    <span class='comment val'># :api: public</span>
    <span class='def def kw'>def</span> <span class='property? fid id'>property?</span><span class='lparen token'>(</span><span class='prop_name identifier id'>prop_name</span><span class='rparen token'>)</span>
      <span class='return return kw'>return</span> <span class='false false kw'>false</span> <span class='if if_mod kw'>if</span> <span class='properties_info identifier id'>properties_info</span><span class='lbrack token'>[</span><span class='prop_name identifier id'>prop_name</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
      <span class='properties_info identifier id'>properties_info</span><span class='lbrack token'>[</span><span class='prop_name identifier id'>prop_name</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:defined</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='true true kw'>true</span>
    <span class='end end kw'>end</span>


    <span class='comment val'># Creates a struct class containig all properties of this class.</span>
    <span class='comment val'>#</span>
    <span class='comment val'># ==== Example</span>
    <span class='comment val'>#</span>
    <span class='comment val'># h = Person.value_object.new</span>
    <span class='comment val'># h.name    # =&gt; nil</span>
    <span class='comment val'># h.name='kalle'</span>
    <span class='comment val'># h[:name]   # =&gt; 'kalle'</span>
    <span class='comment val'>#</span>
    <span class='comment val'># ==== Returns</span>
    <span class='comment val'># Struct</span>
    <span class='comment val'>#</span>
    <span class='comment val'># :api: public</span>
    <span class='def def kw'>def</span> <span class='value_object identifier id'>value_object</span>
      <span class='@value_class ivar id'>@value_class</span> <span class='opasgn op'>||=</span> <span class='create_value_class identifier id'>create_value_class</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Index a property or a relationship.</span>
    <span class='comment val'># If the rel_prop arg contains a '.' then it will index the relationship.</span>
    <span class='comment val'># For example &quot;friends.name&quot; will index each node with property name in the relationship friends.</span>
    <span class='comment val'># For example &quot;name&quot; will index the name property of this NodeMixin class.</span>
    <span class='comment val'>#</span>
    <span class='comment val'># ==== Example</span>
    <span class='comment val'>#   class Person</span>
    <span class='comment val'>#     include Neo4j::NodeMixin</span>
    <span class='comment val'>#     property :name</span>
    <span class='comment val'>#     index :name</span>
    <span class='comment val'>#   end</span>
    <span class='comment val'>#</span>
    <span class='comment val'># :api: public     </span>
    <span class='def def kw'>def</span> <span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='rel_type_props identifier id'>rel_type_props</span><span class='rparen token'>)</span>
      <span class='if if kw'>if</span> <span class='rel_type_props identifier id'>rel_type_props</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='eq op'>==</span> <span class='integer val'>2</span> <span class='and and kw'>and</span> <span class='rel_type_props identifier id'>rel_type_props</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='rparen token'>)</span>
        <span class='rel_type_props identifier id'>rel_type_props</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each_pair identifier id'>each_pair</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span>
          <span class='idx identifier id'>idx</span> <span class='assign token'>=</span> <span class='rel_type_props identifier id'>rel_type_props</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
          <span class='indexer identifier id'>indexer</span><span class='dot token'>.</span><span class='field_infos identifier id'>field_infos</span><span class='lbrack token'>[</span><span class='idx identifier id'>idx</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span>
        <span class='end end kw'>end</span>
        <span class='rel_type_props identifier id'>rel_type_props</span> <span class='assign token'>=</span> <span class='rel_type_props identifier id'>rel_type_props</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
      <span class='end end kw'>end</span>
      <span class='rel_type_props identifier id'>rel_type_props</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='rel_type_prop identifier id'>rel_type_prop</span><span class='bitor op'>|</span>
        <span class='rel_name identifier id'>rel_name</span><span class='comma token'>,</span> <span class='prop identifier id'>prop</span> <span class='assign token'>=</span> <span class='rel_type_prop identifier id'>rel_type_prop</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>'.'</span><span class='rparen token'>)</span>
        <span class='index_property identifier id'>index_property</span><span class='lparen token'>(</span><span class='rel_name identifier id'>rel_name</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='prop identifier id'>prop</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
        <span class='index_relationship identifier id'>index_relationship</span><span class='lparen token'>(</span><span class='rel_name identifier id'>rel_name</span><span class='comma token'>,</span> <span class='prop identifier id'>prop</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='prop identifier id'>prop</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>


    <span class='comment val'># Remote one or more specified indexes.</span>
    <span class='comment val'># This indexes will not be updated anymore, old indexes will still exist</span>
    <span class='comment val'># until the update_index method is called.</span>
    <span class='comment val'>#</span>
    <span class='comment val'># :api: public</span>
    <span class='def def kw'>def</span> <span class='remove_index identifier id'>remove_index</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='keys identifier id'>keys</span><span class='rparen token'>)</span>
      <span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='bitor op'>|</span>
        <span class='rel_name identifier id'>rel_name</span><span class='comma token'>,</span> <span class='prop identifier id'>prop</span> <span class='assign token'>=</span> <span class='key identifier id'>key</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>'.'</span><span class='rparen token'>)</span>
        <span class='if if kw'>if</span> <span class='prop identifier id'>prop</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
          <span class='indexer identifier id'>indexer</span><span class='dot token'>.</span><span class='remove_index_on_property identifier id'>remove_index_on_property</span><span class='lparen token'>(</span><span class='rel_name identifier id'>rel_name</span><span class='rparen token'>)</span>
        <span class='else else kw'>else</span>
          <span class='clazz identifier id'>clazz</span><span class='comma token'>,</span> <span class='rel_type identifier id'>rel_type</span> <span class='assign token'>=</span> <span class='rel_class_and_type_for identifier id'>rel_class_and_type_for</span><span class='lparen token'>(</span><span class='rel_name identifier id'>rel_name</span><span class='rparen token'>)</span>
          <span class='clazz identifier id'>clazz</span><span class='dot token'>.</span><span class='indexer identifier id'>indexer</span><span class='dot token'>.</span><span class='remove_index_in_relationship_on_property identifier id'>remove_index_in_relationship_on_property</span><span class='lparen token'>(</span><span class='rel_type identifier id'>rel_type</span><span class='comma token'>,</span> <span class='prop identifier id'>prop</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>


    <span class='comment val'># :api: private</span>
    <span class='def def kw'>def</span> <span class='index_property identifier id'>index_property</span><span class='lparen token'>(</span><span class='prop identifier id'>prop</span><span class='rparen token'>)</span>
      <span class='indexer identifier id'>indexer</span><span class='dot token'>.</span><span class='add_index_on_property identifier id'>add_index_on_property</span><span class='lparen token'>(</span><span class='prop identifier id'>prop</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>


    <span class='comment val'># :api: private</span>
    <span class='def def kw'>def</span> <span class='index_relationship identifier id'>index_relationship</span><span class='lparen token'>(</span><span class='rel_name identifier id'>rel_name</span><span class='comma token'>,</span> <span class='prop identifier id'>prop</span><span class='rparen token'>)</span>
      <span class='comment val'># find the trigger and updater classes and the rel_type of the given rel_name</span>
      <span class='trigger_clazz identifier id'>trigger_clazz</span> <span class='assign token'>=</span> <span class='relationships_info identifier id'>relationships_info</span><span class='lbrack token'>[</span><span class='rel_name identifier id'>rel_name</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:class</span><span class='rbrack token'>]</span>
      <span class='trigger_clazz identifier id'>trigger_clazz</span> <span class='opasgn op'>||=</span> <span class='self self kw'>self</span> <span class='comment val'># if not defined in a has_n</span>

      <span class='updater_clazz identifier id'>updater_clazz</span> <span class='assign token'>=</span> <span class='self self kw'>self</span>

      <span class='rel_type identifier id'>rel_type</span> <span class='assign token'>=</span> <span class='relationships_info identifier id'>relationships_info</span><span class='lbrack token'>[</span><span class='rel_name identifier id'>rel_name</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:type</span><span class='rbrack token'>]</span>  <span class='comment val'># this or the other node we index ?</span>
      <span class='rel_type identifier id'>rel_type</span> <span class='opasgn op'>||=</span> <span class='rel_name identifier id'>rel_name</span> <span class='comment val'># if not defined (in a has_n) use the same name as the rel_name</span>

      <span class='comment val'># add index on the trigger class and connect it to the updater_clazz</span>
      <span class='comment val'># (a trigger may cause an update of the index using the Indexer specified on the updater class)</span>
      <span class='trigger_clazz identifier id'>trigger_clazz</span><span class='dot token'>.</span><span class='indexer identifier id'>indexer</span><span class='dot token'>.</span><span class='add_index_in_relationship_on_property identifier id'>add_index_in_relationship_on_property</span><span class='lparen token'>(</span><span class='updater_clazz identifier id'>updater_clazz</span><span class='comma token'>,</span> <span class='rel_name identifier id'>rel_name</span><span class='comma token'>,</span> <span class='rel_type identifier id'>rel_type</span><span class='comma token'>,</span> <span class='prop identifier id'>prop</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>


    <span class='comment val'># Specifies a relationship between two node classes.</span>
    <span class='comment val'>#</span>
    <span class='comment val'># ==== Example</span>
    <span class='comment val'>#   class Order</span>
    <span class='comment val'>#      has_one(:customer).of_class(Customer)</span>
    <span class='comment val'>#   end</span>
    <span class='comment val'>#</span>
    <span class='comment val'># :api: public</span>
    <span class='def def kw'>def</span> <span class='has_one identifier id'>has_one</span><span class='lparen token'>(</span><span class='rel_type identifier id'>rel_type</span><span class='rparen token'>)</span>

      <span class='module_eval identifier id'>module_eval</span><span class='lparen token'>(</span><span class='dstring node'>%Q{def #{rel_type}=(value)
                      r = Relationships::HasN.new(self,'#{rel_type.to_s}')
                      r &lt;&lt; value
                  end}</span><span class='comma token'>,</span>  <span class='__FILE__ __file__ kw'>__FILE__</span><span class='comma token'>,</span> <span class='__LINE__ __line__ kw'>__LINE__</span><span class='rparen token'>)</span>

      <span class='module_eval identifier id'>module_eval</span><span class='lparen token'>(</span><span class='dstring node'>%Q{def #{rel_type}
                      r = Relationships::HasN.new(self,'#{rel_type.to_s}')
                      r.to_a[0]
                  end}</span><span class='comma token'>,</span>  <span class='__FILE__ __file__ kw'>__FILE__</span><span class='comma token'>,</span> <span class='__LINE__ __line__ kw'>__LINE__</span><span class='rparen token'>)</span>
      <span class='relationships_info identifier id'>relationships_info</span><span class='lbrack token'>[</span><span class='rel_type identifier id'>rel_type</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='Relationships constant id'>Relationships</span><span class='colon2 op'>::</span><span class='RelationshipInfo constant id'>RelationshipInfo</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
    <span class='end end kw'>end</span>


    <span class='comment val'># Specifies a relationship between two node classes.</span>
    <span class='comment val'>#</span>
    <span class='comment val'># ==== Example</span>
    <span class='comment val'>#   class Order</span>
    <span class='comment val'>#      has_n(:order_lines).to(Product).relationship(OrderLine)</span>
    <span class='comment val'>#   end</span>
    <span class='comment val'>#</span>
    <span class='comment val'># :api: public</span>
    <span class='def def kw'>def</span> <span class='has_n identifier id'>has_n</span><span class='lparen token'>(</span><span class='rel_type identifier id'>rel_type</span><span class='rparen token'>)</span>
      <span class='module_eval identifier id'>module_eval</span><span class='lparen token'>(</span><span class='dstring node'>%Q{
                  def #{rel_type}(&amp;block)
                      Relationships::HasN.new(self,'#{rel_type.to_s}', &amp;block)
                  end}</span><span class='comma token'>,</span>  <span class='__FILE__ __file__ kw'>__FILE__</span><span class='comma token'>,</span> <span class='__LINE__ __line__ kw'>__LINE__</span><span class='rparen token'>)</span>
      <span class='relationships_info identifier id'>relationships_info</span><span class='lbrack token'>[</span><span class='rel_type identifier id'>rel_type</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='Relationships constant id'>Relationships</span><span class='colon2 op'>::</span><span class='RelationshipInfo constant id'>RelationshipInfo</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
    <span class='end end kw'>end</span>



    <span class='comment val'>#  Specifies a relationship to a linked list of nodes.</span>
    <span class='comment val'>#  Each list item class may (but not neccessarly) use the belongs_to_list</span>
    <span class='comment val'># in order to specify which ruby class should be loaded when a list item is loaded.</span>
    <span class='comment val'>#</span>
    <span class='comment val'># :api: public</span>
    <span class='def def kw'>def</span> <span class='has_list identifier id'>has_list</span><span class='lparen token'>(</span><span class='rel_type identifier id'>rel_type</span><span class='rparen token'>)</span>
      <span class='module_eval identifier id'>module_eval</span><span class='lparen token'>(</span><span class='dstring node'>%Q{
                  def #{rel_type}(&amp;block)
                      Relationships::HasList.new(self,'#{rel_type.to_s}', &amp;block)
                  end}</span><span class='comma token'>,</span>  <span class='__FILE__ __file__ kw'>__FILE__</span><span class='comma token'>,</span> <span class='__LINE__ __line__ kw'>__LINE__</span><span class='rparen token'>)</span>
      <span class='relationships_info identifier id'>relationships_info</span><span class='lbrack token'>[</span><span class='rel_type identifier id'>rel_type</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='Relationships constant id'>Relationships</span><span class='colon2 op'>::</span><span class='RelationshipInfo constant id'>RelationshipInfo</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
    <span class='end end kw'>end</span>


    <span class='comment val'># Can be used together with the has_list to specify the ruby class of a list item.</span>
    <span class='comment val'>#</span>
    <span class='comment val'># :api: public</span>
    <span class='def def kw'>def</span> <span class='belongs_to_list identifier id'>belongs_to_list</span><span class='lparen token'>(</span><span class='rel_type identifier id'>rel_type</span><span class='rparen token'>)</span>
      <span class='relationships_info identifier id'>relationships_info</span><span class='lbrack token'>[</span><span class='rel_type identifier id'>rel_type</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='Relationships constant id'>Relationships</span><span class='colon2 op'>::</span><span class='RelationshipInfo constant id'>RelationshipInfo</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
    <span class='end end kw'>end</span>

    
    <span class='comment val'># Creates a new outgoing relationship.</span>
    <span class='comment val'># </span>
    <span class='comment val'># :api: private</span>
    <span class='def def kw'>def</span> <span class='new_relationship identifier id'>new_relationship</span><span class='lparen token'>(</span><span class='rel_name identifier id'>rel_name</span><span class='comma token'>,</span> <span class='internal_relationship identifier id'>internal_relationship</span><span class='rparen token'>)</span>
      <span class='relationships_info identifier id'>relationships_info</span><span class='lbrack token'>[</span><span class='rel_name identifier id'>rel_name</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:relationship</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='internal_relationship identifier id'>internal_relationship</span><span class='rparen token'>)</span> <span class='comment val'># internal_relationship is a java neo object</span>
    <span class='end end kw'>end</span>


    <span class='comment val'># Finds all nodes of this type (and ancestors of this type) having</span>
    <span class='comment val'># the specified property values.</span>
    <span class='comment val'># See the lucene module for more information how to do a query.</span>
    <span class='comment val'>#</span>
    <span class='comment val'># ==== Example</span>
    <span class='comment val'>#   MyNode.find(:name =&gt; 'foo', :company =&gt; 'bar')</span>
    <span class='comment val'>#</span>
    <span class='comment val'># Or using a DSL query (experimental)</span>
    <span class='comment val'>#   MyNode.find{(name == 'foo') &amp; (company == 'bar')}</span>
    <span class='comment val'>#</span>
    <span class='comment val'># ==== Returns</span>
    <span class='comment val'># Neo4j::SearchResult</span>
    <span class='comment val'>#</span>
    <span class='comment val'># :api: public</span>
    <span class='def def kw'>def</span> <span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='query identifier id'>query</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='indexer identifier id'>indexer</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='query identifier id'>query</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>


    <span class='comment val'># Creates a new value object class (a Struct) represeting this class.</span>
    <span class='comment val'>#</span>
    <span class='comment val'># The struct will have the Ruby on Rails method: model_name and</span>
    <span class='comment val'># new_record? so that it can be used for restful routing.</span>
    <span class='comment val'>#</span>
    <span class='comment val'># TODO: if the DynamicMixin is used it should return somthing more flexible</span>
    <span class='comment val'># since we do not know which property a class has.</span>
    <span class='comment val'># </span>
    <span class='comment val'># @api private</span>
    <span class='def def kw'>def</span> <span class='create_value_class identifier id'>create_value_class</span>
      <span class='comment val'># the name of the class we want to create</span>
      <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{self.to_s}ValueObject&quot;</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='string val'>&quot;::&quot;</span><span class='comma token'>,</span> <span class='string val'>'_'</span><span class='rparen token'>)</span>

      <span class='comment val'># remove previous class if exists</span>
      <span class='Neo4j constant id'>Neo4j</span><span class='dot token'>.</span><span class='instance_eval identifier id'>instance_eval</span> <span class='do do kw'>do</span>
        <span class='remove_const identifier id'>remove_const</span> <span class='name identifier id'>name</span>
      <span class='end end kw'>end</span> <span class='if if_mod kw'>if</span> <span class='Neo4j constant id'>Neo4j</span><span class='dot token'>.</span><span class='const_defined? fid id'>const_defined?</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>

      <span class='comment val'># get the properties we want in the new class</span>
      <span class='props identifier id'>props</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='properties_info identifier id'>properties_info</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='bitor op'>|</span> <span class='dstring node'>&quot;:#{k}&quot;</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>','</span><span class='rparen token'>)</span>
      <span class='Neo4j constant id'>Neo4j</span><span class='dot token'>.</span><span class='module_eval identifier id'>module_eval</span> <span class='dstring node'>%Q[class #{name} &lt; Struct.new(#{props}); end]</span>

      <span class='comment val'># get reference to the new class</span>
      <span class='clazz identifier id'>clazz</span> <span class='assign token'>=</span> <span class='Neo4j constant id'>Neo4j</span><span class='dot token'>.</span><span class='const_get identifier id'>const_get</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>

      <span class='comment val'># make it more Ruby on Rails friendly - try adding model_name method</span>
      <span class='if if kw'>if</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:model_name</span><span class='rparen token'>)</span>
        <span class='model identifier id'>model</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='model_name identifier id'>model_name</span><span class='dot token'>.</span><span class='clone identifier id'>clone</span>
        <span class='lparen token'>(</span>
        <span class='class class kw'>class</span> <span class='lshft op'>&lt;&lt;</span> <span class='clazz identifier id'>clazz</span><span class='semicolon token'>;</span>
          <span class='self self kw'>self</span><span class='semicolon token'>;</span>
        <span class='end end kw'>end</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='instance_eval identifier id'>instance_eval</span> <span class='do do kw'>do</span>
          <span class='define_method identifier id'>define_method</span><span class='lparen token'>(</span><span class='symbol val'>:model_name</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='model identifier id'>model</span><span class='rbrace token'>}</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>

      <span class='comment val'># by calling the _update method we change the state of the struct</span>
      <span class='comment val'># so that new_record returns false - Ruby on Rails</span>
      <span class='clazz identifier id'>clazz</span><span class='dot token'>.</span><span class='instance_eval identifier id'>instance_eval</span> <span class='do do kw'>do</span>
        <span class='define_method identifier id'>define_method</span><span class='lparen token'>(</span><span class='symbol val'>:_update</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='hash identifier id'>hash</span><span class='bitor op'>|</span>
          <span class='@_updated ivar id'>@_updated</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
          <span class='hash identifier id'>hash</span><span class='dot token'>.</span><span class='each_pair identifier id'>each_pair</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span> <span class='if if_mod kw'>if</span> <span class='members identifier id'>members</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
        <span class='end end kw'>end</span>
        <span class='define_method identifier id'>define_method</span><span class='lparen token'>(</span><span class='symbol val'>:new_record?</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='notop op'>!</span> <span class='defined? defined kw'>defined?</span><span class='lparen token'>(</span><span class='@_updated ivar id'>@_updated</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
      <span class='end end kw'>end</span>

      <span class='clazz identifier id'>clazz</span>
    <span class='end end kw'>end</span>

  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>relationship</h3>
</div><div id="relationship-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>relationship</span><span class='args'>(rel_name, dir = :outgoing)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a single relationship or nil if none available. If there are more
then one relationship of the given type it will raise an exception.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">type&lt;#to_s&gt;:</td><td>the key and value to be set

</td></tr>
<tr><td valign="top">dir:</td><td>optional default :outgoing (either, :outgoing, :incoming, :both)

</td></tr>
</table>
<h4>Returns</h4>
<p>
An object that mixin the Neo4j::RelationshipMixin representing the given
relationship type
</p>
<h4>See Also</h4>
<ul>
<li>JavaDoc for
http://api.neo4j.org/current/org/neo4j/api/core/Node.html#getSingleRelationship(org.neo4j.api.core.RelationshipType,%20org.neo4j.api.core.Direction)

</li>
<li>Neo4j::RelationshipMixin

</li>
</ul>
<h4>Example</h4>
<pre class="code">
  <span class='person_node identifier id'>person_node</span><span class='dot token'>.</span><span class='relationship identifier id'>relationship</span><span class='lparen token'>(</span><span class='symbol val'>:address</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='end_node identifier id'>end_node</span><span class='lbrack token'>[</span><span class='symbol val'>:street</span><span class='rbrack token'>]</span>
</pre>
<p>
:api: public
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 316</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L316">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">316
317
318
319
320
321</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='relationship identifier id'>relationship</span><span class='lparen token'>(</span><span class='rel_name identifier id'>rel_name</span><span class='comma token'>,</span> <span class='dir identifier id'>dir</span><span class='assign token'>=</span><span class='symbol val'>:outgoing</span><span class='rparen token'>)</span>
  <span class='java_dir identifier id'>java_dir</span> <span class='assign token'>=</span> <span class='_to_java_direction identifier id'>_to_java_direction</span><span class='lparen token'>(</span><span class='dir identifier id'>dir</span><span class='rparen token'>)</span>
  <span class='rel_type identifier id'>rel_type</span> <span class='assign token'>=</span> <span class='Relationships constant id'>Relationships</span><span class='colon2 op'>::</span><span class='RelationshipType constant id'>RelationshipType</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span><span class='rel_name identifier id'>rel_name</span><span class='rparen token'>)</span>
  <span class='rel identifier id'>rel</span> <span class='assign token'>=</span> <span class='@internal_node ivar id'>@internal_node</span><span class='dot token'>.</span><span class='getSingleRelationship identifier id'>getSingleRelationship</span><span class='lparen token'>(</span><span class='rel_type identifier id'>rel_type</span><span class='comma token'>,</span> <span class='java_dir identifier id'>java_dir</span><span class='rparen token'>)</span>
  <span class='Neo4j constant id'>Neo4j</span><span class='dot token'>.</span><span class='load_relationship identifier id'>load_relationship</span><span class='lparen token'>(</span><span class='rel identifier id'>rel</span><span class='dot token'>.</span><span class='getId identifier id'>getId</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>relationship?</h3>
</div><div id="relationship-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>relationship?</span><span class='args'>(rel_name, dir = :outgoing)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Check if the given relationship exists Returns true if there are one or
more relationships from this node to other nodes with the given
relationship. It will not return true only because the relationship is
defined.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">rel_name&lt;#to_s&gt;:</td><td>the key and value to be set

</td></tr>
<tr><td valign="top">dir:</td><td>optional default :outgoing (either, :outgoing, :incoming, :both)

</td></tr>
</table>
<h4>Returns</h4>
<p>
true if one or more relationships exists for the given rel_name and dir
otherwise false
</p>
<p>
:api: public
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 337</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L337">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">337
338
339
340
341</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='relationship? fid id'>relationship?</span><span class='lparen token'>(</span><span class='rel_name identifier id'>rel_name</span><span class='comma token'>,</span> <span class='dir identifier id'>dir</span><span class='assign token'>=</span><span class='symbol val'>:outgoing</span><span class='rparen token'>)</span>
  <span class='type identifier id'>type</span> <span class='assign token'>=</span> <span class='Relationships constant id'>Relationships</span><span class='colon2 op'>::</span><span class='RelationshipType constant id'>RelationshipType</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span><span class='rel_name identifier id'>rel_name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
  <span class='java_dir identifier id'>java_dir</span> <span class='assign token'>=</span> <span class='_to_java_direction identifier id'>_to_java_direction</span><span class='lparen token'>(</span><span class='dir identifier id'>dir</span><span class='rparen token'>)</span>
  <span class='@internal_node ivar id'>@internal_node</span><span class='dot token'>.</span><span class='hasRelationship identifier id'>hasRelationship</span><span class='lparen token'>(</span><span class='type identifier id'>type</span><span class='comma token'>,</span> <span class='java_dir identifier id'>java_dir</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>relationships</h3>
</div><div id="relationships-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>relationships</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a Neo4j::Relationships::RelationshipTraverser object for accessing
relationships from and to this node. The
Neo4j::Relationships::RelationshipTraverser is an Enumerable that returns
Neo4j::RelationshipMixin objects.
</p>
<h4>Returns</h4>
<p>
A Neo4j::Relationships::RelationshipTraverser object
</p>
<h4>See Also</h4>
<ul>
<li>Neo4j::Relationships::RelationshipTraverser

</li>
<li>Neo4j::RelationshipMixin

</li>
</ul>
<h4>Example</h4>
<pre class="code">
  <span class='person_node identifier id'>person_node</span><span class='dot token'>.</span><span class='relationships identifier id'>relationships</span><span class='dot token'>.</span><span class='outgoing identifier id'>outgoing</span><span class='lparen token'>(</span><span class='symbol val'>:friends</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
</pre>
<p>
:api: public
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 293</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L293">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">293
294
295</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='relationships identifier id'>relationships</span>
  <span class='Relationships constant id'>Relationships</span><span class='colon2 op'>::</span><span class='RelationshipTraverser constant id'>RelationshipTraverser</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>remove_property</h3>
</div><div id="remove_property-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>remove_property</span><span class='args'>(name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Removes the property from this node. For more information see JavaDoc
PropertyContainer#removeProperty
</p>
<h4>Example</h4>
<pre class="code">
  <span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='Node constant id'>Node</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='set_property identifier id'>set_property</span><span class='lparen token'>(</span><span class='string val'>'foo'</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rparen token'>)</span>
  <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='remove_property identifier id'>remove_property</span><span class='lparen token'>(</span><span class='string val'>'foo'</span><span class='rparen token'>)</span>
  <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='get_property identifier id'>get_property</span><span class='lparen token'>(</span><span class='string val'>'foo'</span><span class='rparen token'>)</span> <span class='comment val'># =&gt; nil</span>
</pre>
<h4>Returns</h4>
<p>
true if the property was removed, false otherwise
</p>
<p>
:api: public
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 117</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L117">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">117
118
119
120
121</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='remove_property identifier id'>remove_property</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='removed identifier id'>removed</span> <span class='assign token'>=</span> <span class='notop op'>!</span><span class='@internal_node ivar id'>@internal_node</span><span class='dot token'>.</span><span class='removeProperty identifier id'>removeProperty</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='indexer identifier id'>indexer</span><span class='dot token'>.</span><span class='on_property_changed identifier id'>on_property_changed</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='removed identifier id'>removed</span>
  <span class='removed identifier id'>removed</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>set_property</h3>
</div><div id="set_property-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>set_property</span><span class='args'>(name, value)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Sets a neo property on this node. This property does not have to be
declared first. If the value of the property is nil the property will be
removed.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">name&lt;String&gt;:</td><td>the name of the property to be set

</td></tr>
<tr><td valign="top">value&lt;Object&gt;:</td><td>the value of the property to be set.

</td></tr>
</table>
<h4>Example</h4>
<pre class="code">
  <span class='n identifier id'>n</span> <span class='assign token'>=</span> <span class='Node constant id'>Node</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='n identifier id'>n</span><span class='dot token'>.</span><span class='foo identifier id'>foo</span> <span class='assign token'>=</span> <span class='string val'>'hej'</span>
</pre>
<p>
:api: public
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 74</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L74">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='set_property identifier id'>set_property</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='$NEO_LOGGER gvar id'>$NEO_LOGGER</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lbrace token'>{</span><span class='dstring node'>&quot;set property '#{name}'='#{value}'&quot;</span><span class='rbrace token'>}</span>
  <span class='return return kw'>return</span> <span class='if if_mod kw'>if</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='eq op'>==</span> <span class='string val'>'id'</span> <span class='comment val'># id is neo_node_id and cannot be changed TODO check this</span>
  <span class='old_value identifier id'>old_value</span> <span class='assign token'>=</span> <span class='get_property identifier id'>get_property</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>

  <span class='if if kw'>if</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
    <span class='remove_property identifier id'>remove_property</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='elsif elsif kw'>elsif</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='marshal? fid id'>marshal?</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
    <span class='@internal_node ivar id'>@internal_node</span><span class='dot token'>.</span><span class='set_property identifier id'>set_property</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='Marshal constant id'>Marshal</span><span class='dot token'>.</span><span class='dump identifier id'>dump</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_java_bytes identifier id'>to_java_bytes</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='comment val'># in JRuby 1.2.0 it converts a Float incorrectly to a java.lang.float</span>
    <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='java identifier id'>java</span><span class='dot token'>.</span><span class='lang identifier id'>lang</span><span class='dot token'>.</span><span class='Double constant id'>Double</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span> <span class='Float constant id'>Float</span>
    <span class='@internal_node ivar id'>@internal_node</span><span class='dot token'>.</span><span class='set_property identifier id'>set_property</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='name identifier id'>name</span> <span class='neq op'>!=</span> <span class='string val'>'classname'</span><span class='rparen token'>)</span>  <span class='comment val'># do not want events on internal properties</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='indexer identifier id'>indexer</span><span class='dot token'>.</span><span class='on_property_changed identifier id'>on_property_changed</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='name identifier id'>name</span><span class='rparen token'>)</span>   <span class='comment val'># TODO reuse the event_handler instead !</span>
    <span class='Neo4j constant id'>Neo4j</span><span class='dot token'>.</span><span class='event_handler identifier id'>event_handler</span><span class='dot token'>.</span><span class='property_changed identifier id'>property_changed</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='old_value identifier id'>old_value</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_param</h3>
</div><div id="to_param-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_param</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Same as neo_node_id but returns a String intead of a Fixnum. Used by Ruby
on Rails.
</p>
<p>
:api: public
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 222</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L222">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">222
223
224</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_param identifier id'>to_param</span>
  <span class='neo_node_id identifier id'>neo_node_id</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>traverse</h3>
</div><div id="traverse-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>traverse</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a Neo4j::Relationships::NodeTraverser object for traversing nodes
from and to this node. The Neo4j::Relationships::NodeTraverser is an
Enumerable that returns Neo4j::NodeMixin objects.
</p>
<h4>See Also</h4>
<p>
Neo4j::Relationships::NodeTraverser
</p>
<h4>Example</h4>
<pre class="code">
  <span class='person_node identifier id'>person_node</span><span class='dot token'>.</span><span class='traverse identifier id'>traverse</span><span class='dot token'>.</span><span class='outgoing identifier id'>outgoing</span><span class='lparen token'>(</span><span class='symbol val'>:friends</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
</pre>
<p>
:api: public
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 388</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L388">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">388
389
390</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='traverse identifier id'>traverse</span>
  <span class='Relationships constant id'>Relationships</span><span class='colon2 op'>::</span><span class='NodeTraverser constant id'>NodeTraverser</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@internal_node ivar id'>@internal_node</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>update</h3>
</div><div id="update-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>update</span><span class='args'>(struct_or_hash, options = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Updates this node&#8217;s properties by using the provided struct/hash. If
the option <tt><tt>=&amp;gt; true</tt></tt> is given, any properties present
on the node but not present in the hash will be removed from the node.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">struct_or_hash&lt;#each_pair&gt;:</td><td>the key and value to be set

</td></tr>
<tr><td valign="top">options&lt;Hash&gt;:</td><td>further options defining the context of the update

</td></tr>
</table>
<h4>Returns</h4>
<p>
self
</p>
<p>
:api: public
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 193</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L193">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">193
194
195
196
197
198
199
200
201
202
203</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='update identifier id'>update</span><span class='lparen token'>(</span><span class='struct_or_hash identifier id'>struct_or_hash</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='strict identifier id'>strict</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:strict</span><span class='rbrack token'>]</span>
  <span class='keys_to_delete identifier id'>keys_to_delete</span> <span class='assign token'>=</span> <span class='props identifier id'>props</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span> <span class='minus op'>-</span> <span class='dstring node'>%w(id classname)</span> <span class='if if_mod kw'>if</span> <span class='strict identifier id'>strict</span>
  <span class='struct_or_hash identifier id'>struct_or_hash</span><span class='dot token'>.</span><span class='each_pair identifier id'>each_pair</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span>
    <span class='next next kw'>next</span> <span class='if if_mod kw'>if</span> <span class='dstring node'>%w(id classname)</span><span class='dot token'>.</span><span class='include? fid id'>include?</span> <span class='key identifier id'>key</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='comment val'># do not allow special properties to be mass assigned</span>
    <span class='keys_to_delete identifier id'>keys_to_delete</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='strict identifier id'>strict</span>
    <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span>
  <span class='end end kw'>end</span>
  <span class='keys_to_delete identifier id'>keys_to_delete</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='bitor op'>|</span> <span class='remove_property identifier id'>remove_property</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span> <span class='if if_mod kw'>if</span> <span class='strict identifier id'>strict</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>update_index</h3>
</div><div id="update_index-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>update_index</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Updates the index for this node. This method will be automatically called
when needed (a property changed or a relationship was created/deleted)
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 398</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L398">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">398
399
400</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='update_index identifier id'>update_index</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='indexer identifier id'>indexer</span><span class='dot token'>.</span><span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>value_object</h3>
</div><div id="value_object-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>value_object</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Creates a struct class containing all properties of this class. This value
object can be used from Ruby on Rails RESTful routing.
</p>
<h4>Example</h4>
<p>
h = Person.value_object.new h.name # =&gt; nil h.name=&#8217;kalle&#8217;
h[:name] # =&gt; &#8216;kalle&#8217;
</p>
<h4>Returns</h4>
<p>
a value object struct
</p>
<p>
:api: public
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/neo4j/mixins/node.rb', line 174</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/andreasronge/neo4j/blob/b379f71cfbbe0b1ff5c3506e216964d06b94b7d4/lib/neo4j/mixins/node.rb#L174">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">174
175
176
177
178</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='value_object identifier id'>value_object</span>
  <span class='vo identifier id'>vo</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='value_object identifier id'>value_object</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='vo identifier id'>vo</span><span class='dot token'>.</span><span class='_update identifier id'>_update</span><span class='lparen token'>(</span><span class='props identifier id'>props</span><span class='rparen token'>)</span>
  <span class='vo identifier id'>vo</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>