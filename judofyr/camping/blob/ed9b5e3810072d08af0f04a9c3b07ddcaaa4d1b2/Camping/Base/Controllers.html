<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>judofyr's camping - Module: Camping::Base::Controllers - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/judofyr/commits/camping/master" rel="alternate" title="Recent Commits to camping:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("judofyr", "camping", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='judofyr/camping/blob/ed9b5e3810072d08af0f04a9c3b07ddcaaa4d1b2' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='judofyr/camping/blob/ed9b5e3810072d08af0f04a9c3b07ddcaaa4d1b2' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("judofyr", "camping", "ed9b5e3810072d08af0f04a9c3b07ddcaaa4d1b2", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/judofyr/camping/tree/">Source</a></li>
            <li class=""><a href="http://github.com/judofyr/camping/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/judofyr/camping/network">Network</a></li>            
            <li class=""><a href="http://github.com/judofyr/camping/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/judofyr/camping">Wiki</a></li>
            <li class=""><a href="http://github.com/judofyr/camping/graphs">Graphs</a></li>                    
            <li class="active"><a href="/judofyr/camping">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/judofyr">judofyr</a> / <b><a href="http://github.com/judofyr/camping/tree">camping</a></b>        
                <a id="namespaces_button" rel="judofyr/camping/blob/ed9b5e3810072d08af0f04a9c3b07ddcaaa4d1b2" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="judofyr/camping/blob/ed9b5e3810072d08af0f04a9c3b07ddcaaa4d1b2" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section module Camping_Base_Controllers">
  <h1>Module: Camping::Base::Controllers</h1>
  <div class="section docstring">
  <p>
In order to fully understand controllers and how they are used, you should
know a bit about HTTP - the protocol behind The World Wide Web.
</p>
<h2>Request</h2>
<p>
HTTP is built around <em>requests</em>. When a user types
&quot;http://yoursite.com/&quot; in his web browser, the browser starts
making requests to the server. It&#8217;s basically asking the server to do
what the user want. When the server has decided what to do, it sends a
<em>response</em> back to the browser which is then showed to the user.
</p>
<p>
We can brutually split a request into three parts: a resource, a method and
the rest.
</p>
<h3>Resource</h3>
<p>
A <em>resource</em> in HTTP is simply a name of a <em>thing</em> -
it&#8217;s a noun. Just like &quot;home&quot;, &quot;blog post&quot; and
&quot;comment&quot; are nouns in our world, are <tt>/</tt>, <tt>/post/123</tt> and
<tt>/post/123/comment/456</tt> resources in HTTP.
</p>
<p>
Nouns are well and good, but just like you can&#8217;t build a sentence
with only nouns, you can&#8217;t build a request with only a resource. We
need verbs!
</p>
<h3>Method</h3>
<p>
<em>Methods</em> are the verbs in HTTP. It&#8217;s not enough to have the
name of what you want, you have to tell <em>what</em> you want to do too.
Since we&#8217;re speaking with machines, we have to stick to these:
</p>
<ul>
<li>GET

</li>
<li>POST

</li>
<li>(PUT)

</li>
<li>(DELTE)

</li>
</ul>
<p>
GET is the default method. When you type an address or click a link in your
browser, it&#8217;s smart enough to realize that you want to get that
resource. GET also is the simplest of the methods: it should not
<em>do</em> anything, just return the content.
</p>
<p>
The three others are focused on actions. POST for create, PUT for update
and DELETE for, uhm, delete. You may have noticed the parenthesis around
PUT and DELETE, and the reason for that is quite sad:
</p>
<p>
When the web was still young, some realized that they didn&#8217;t
<em>need</em> PUT and DELETE; they could just use POST and put the verb in
the resource: POST /posts/delete/1. This doesn&#8217;t make sense at all,
but it happened and &lt;strong&gt;right now browsers only support GET and
POST.&lt;/strong&gt;
</p>
<h3>The Rest</h3>
<p>
HTTP is also very flexible, so the browser can send all kind of other
metadata (called <em>headers</em>). This includes the name of the browser,
the preferred language, the domain of the server and much, much more.
</p>
<p>
In POST, PUT and DELETE you can also send some arbitrary data (called the
<em>body</em>). This is used for instance when you upload a file.
</p>
<p>
Probably the most important part is that the browser can send parameters.
In all the methods you can tack them on to the end after a question mark
(<tt>/search?query=camping</tt>), while POST, PUT and DELETE also allows to
send them, hidden from the user, in the body.
</p>
<h2>Response</h2>
<p>
When the browser has sent the request to the server, the server has to
return a response. We can also split the response into three parts: a
status code, headers and a body.
</p>
<h3>Status Code</h3>
<p>
The status code tells a bit about the response. For instance:
</p>
<ul>
<li>200 means everything went fine and no problems occured.

</li>
<li>401 means you have to login.

</li>
<li>404 means the resource couldn&#8217;t be found.

</li>
<li>500 means the server encountered an error.

</li>
</ul>
<p>
This is just a small selection. Wikipedia has a {nice list with
<em>all</em> the
codes}[http://en.wikipedia.org/wiki/List_of_HTTP_status_codes].
</p>
<h3>Headers</h3>
<p>
Just like the headers in the request, the headers in the response are used
to send useful metadata back to the browser. Examples of this are what kind
of content this is, the length of the body and if the browser should give a
&quot;File Download&quot; dialogue box.
</p>
<h3>Body</h3>
<p>
The body is simply what the user is going to see.
</p>
<h2>Using controllers in Camping</h2>
<p>
I guess you&#8217;re bored with all of this (seemingly useless) theory, but
we believe it&#8217;s better to understand HTTP now than later. Let&#8217;s
however start with some coding.
</p>
<p>
In Camping, a controller is simply a resource:
</p>
<pre class="code">
  <span class='module module kw'>module</span> <span class='Blog constant id'>Blog</span><span class='colon2 op'>::</span><span class='Controllers constant id'>Controllers</span>
    <span class='class class kw'>class</span> <span class='Posts constant id'>Posts</span> <span class='lt op'>&lt;</span> <span class='R constant id'>R</span> <span class='string val'>'/posts'</span>
      <span class='def def kw'>def</span> <span class='get identifier id'>get</span>
        <span class='string val'>&quot;Hello from GET&quot;</span>
      <span class='end end kw'>end</span>

      <span class='def def kw'>def</span> <span class='post identifier id'>post</span>
        <span class='string val'>&quot;Hello from POST&quot;</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
<p>
Camping will take care if of all the boring stuff, and whenever someone
tries to GET or POST <tt>/posts</tt> it will display this nice message.
</p>
<p>
If someone tries to DELETE <tt>/posts</tt>, Camping will return a 501
response (which means the method wasn&#8217;t implemented). If someone
tries to access <tt>/postsss</tt>, it will return a 404 response (no such
resource).
</p>
<h3>Specialized resources</h3>
<p>
Most of the time your resources needs to match more than a single, static
path (like <tt>/posts</tt> above). Luckily, you can use regular expressions
in your routes. Wrap the rules with some parethesis and it will also be
sent as arguments to your method:
</p>
<pre class="code">
  <span class='module module kw'>module</span> <span class='Blog constant id'>Blog</span><span class='colon2 op'>::</span><span class='Controllers constant id'>Controllers</span>
    <span class='class class kw'>class</span> <span class='Post constant id'>Post</span> <span class='lt op'>&lt;</span> <span class='R constant id'>R</span> <span class='string val'>'/post/(\d&lt;tt&gt;)'</span>
      <span class='def def kw'>def</span> <span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='rparen token'>)</span>
        <span class='case case kw'>case</span> <span class='id identifier id'>id</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
        <span class='when when kw'>when</span> <span class='integer val'>1</span>
          <span class='string val'>&quot;You're looking at the first post (/post/1)!&quot;</span>
        <span class='when when kw'>when</span> <span class='integer val'>2</span>
          <span class='string val'>&quot;You're looking at the second post (/post/2)!&quot;</span>
        <span class='else else kw'>else</span>
          <span class='string val'>&quot;Meh.&quot;</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>

    <span class='class class kw'>class</span> <span class='Page constant id'>Page</span> <span class='lt op'>&lt;</span> <span class='R constant id'>R</span> <span class='string val'>'/user/(\w&lt;/tt&gt;)/page/(\w&lt;tt&gt;)'</span><span class='comma token'>,</span> <span class='string val'>'/u/(\w&lt;/tt&gt;)/(\w&lt;tt&gt;)'</span>
      <span class='def def kw'>def</span> <span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='user identifier id'>user</span><span class='comma token'>,</span> <span class='page_name identifier id'>page_name</span><span class='rparen token'>)</span>
        <span class='dstring node'>&quot;You're visiting #{user}'s #{page_name}&quot;</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
<p>
As you can see, you can also give your controllers several routes to match.
</p>
<h3>Magic resources</h3>
<p>
Very often, you will name your controllers identical to it&#8217;s route.
If you leave out the route and just define the controller as a class
(<tt>class Posts</tt>), Camping will automatically build the route using
some magic:
</p>
<p>
First it will split the controller name up by words. For instance
<tt>VeryNiftyRoute</tt> will be split up into <tt>Very</tt>, <tt>Nifty</tt>
and <tt>Route</tt>.
</p>
<p>
Then it substitutes each part using these rules:
</p>
<ul>
<li>Index turns into /

</li>
<li>X turns into ([^/]</tt>)

</li>
<li>N turns into (\\d<tt>)

</li>
<li>Everything else turns into lowercase

</li>
</ul>
<p>
Finally it puts a slash between the parts.
</p>
<p>
It can take some time to grasp, but it&#8217;s actually very nice since you
avoid repeating the route in the name (or vica versa). Have a look at the
examples below if you&#8217;re still a little confused.
</p>
<pre class="code">
  <span class='module module kw'>module</span> <span class='Blog constant id'>Blog</span><span class='colon2 op'>::</span><span class='Controllers constant id'>Controllers</span>
    <span class='comment val'># Matches: /</span>
    <span class='class class kw'>class</span> <span class='Index constant id'>Index</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Matches: /post/(\d&lt;/tt&gt;)</span>
    <span class='class class kw'>class</span> <span class='PostN constant id'>PostN</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Matches: /very/nifty/route</span>
    <span class='class class kw'>class</span> <span class='VeryNiftyRoute constant id'>VeryNiftyRoute</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
<p>
TODO: @input &amp; @cookies at least. Controllers is a module for placing
classes which handle URLs. This is done by defining a route to each class
using the Controllers::R method.
</p>
<pre class="code">
  <span class='module module kw'>module</span> <span class='Camping constant id'>Camping</span><span class='colon2 op'>::</span><span class='Controllers constant id'>Controllers</span>
    <span class='class class kw'>class</span> <span class='Edit constant id'>Edit</span> <span class='lt op'>&lt;</span> <span class='R constant id'>R</span> <span class='string val'>'/edit/(\d+)'</span>
      <span class='def def kw'>def</span> <span class='get identifier id'>get</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
      <span class='def def kw'>def</span> <span class='post identifier id'>post</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
<p>
If no route is set, Camping will guess the route from the class name. The
rule is very simple: the route becomes a slash followed by the lowercased
class name. See Controllers::D for the complete rules of dispatch.
</p>

</div><div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="I-constant">I</dt>
      <dd>R()</dd>
    
      <dt id="N-constant">N</dt>
      <dd>H.new { |_,x| x.downcase }.merge! &quot;N&quot; =&gt; '(\d+)', &quot;X&quot; =&gt; '([^/]+)', &quot;Index&quot; =&gt; ''</dd>
    
  </dl>
</div>

</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#D-class_method">D</span><span class='args'>(p, m)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Dispatch routes to controller classes.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#M-class_method">M</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
The route maker, this is called by Camping internally, you shouldn&#8217;t
need to call it.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#R-class_method">R</span><span class='args'>(*u)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Add routes to a controller class by piling them into the R method.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#r-class_method">r</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
An array containing the various controllers available for dispatch.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>D</h3>
</div><div id="D-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>D</span><span class='args'>(p, m)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Dispatch routes to controller classes. For each class, routes are checked
for a match based on their order in the routing list given to
Controllers::R. If no routes were given, the dispatcher uses a slash
followed by the name of the controller lowercased.
</p>
<p>
Controllers are searched in this order:
</p>
<p>
# Classes without routes, since they refer to a very specific URL. #
Classes with routes are searched in order of their creation.
</p>
<p>
So, define your catch-all controllers last.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/camping-unabridged.rb', line 786</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/judofyr/camping/blob/ed9b5e3810072d08af0f04a9c3b07ddcaaa4d1b2/lib/camping-unabridged.rb#L786">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">786
787
788
789
790
791
792
793
794
795</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='D constant id'>D</span><span class='lparen token'>(</span><span class='p identifier id'>p</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='rparen token'>)</span>
  <span class='p identifier id'>p</span> <span class='assign token'>=</span> <span class='string val'>'/'</span> <span class='if if_mod kw'>if</span> <span class='notop op'>!</span><span class='p identifier id'>p</span> <span class='orop op'>||</span> <span class='notop op'>!</span><span class='p identifier id'>p</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
  <span class='r identifier id'>r</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='bitor op'>|</span>
    <span class='k identifier id'>k</span><span class='dot token'>.</span><span class='urls identifier id'>urls</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span>
      <span class='return return kw'>return</span> <span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='dot token'>.</span><span class='instance_method identifier id'>instance_method</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='rparen token'>)</span> <span class='rescue rescue kw'>rescue</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span> <span class='question op'>?</span>
        <span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='$~ gvar id'>$~</span><span class='lbrack token'>[</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span> <span class='colon op'>:</span> <span class='lbrack token'>[</span><span class='I constant id'>I</span><span class='comma token'>,</span> <span class='string val'>'r501'</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='p identifier id'>p</span> <span class='match op'>=~</span> <span class='dregexp node'>/^#{x}\/?$/</span>
    <span class='rbrace token'>}</span>
  <span class='rbrace token'>}</span>
  <span class='lbrack token'>[</span><span class='I constant id'>I</span><span class='comma token'>,</span> <span class='string val'>'r404'</span><span class='comma token'>,</span> <span class='p identifier id'>p</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>M</h3>
</div><div id="M-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>M</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
The route maker, this is called by Camping internally, you shouldn&#8217;t
need to call it.
</p>
<p>
Still, it&#8217;s worth know what this method does. Since Ruby
doesn&#8217;t keep track of class creation order, we&#8217;re keeping an
internal list of the controllers which inherit from R(). This method goes
through and adds all the remaining routes to the beginning of the list and
ensures all the controllers have the right mixins.
</p>
<p>
Anyway, if you are calling the URI dispatcher from outside of a Camping
server, you&#8217;ll definitely need to call this at least once to set
things up.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/camping-unabridged.rb', line 807</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/judofyr/camping/blob/ed9b5e3810072d08af0f04a9c3b07ddcaaa4d1b2/lib/camping-unabridged.rb#L807">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">807
808</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='M constant id'>M</span> 
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>R</h3>
</div><div id="R-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>R</span><span class='args'>(*u)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Add routes to a controller class by piling them into the R method.
</p>
<pre class="code">
  <span class='module module kw'>module</span> <span class='Camping constant id'>Camping</span><span class='colon2 op'>::</span><span class='Controllers constant id'>Controllers</span>
    <span class='class class kw'>class</span> <span class='Edit constant id'>Edit</span> <span class='lt op'>&lt;</span> <span class='R constant id'>R</span> <span class='string val'>'/edit/(\d+)'</span><span class='comma token'>,</span> <span class='string val'>'/new'</span>
      <span class='def def kw'>def</span> <span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='rparen token'>)</span>
        <span class='if if kw'>if</span> <span class='id identifier id'>id</span>   <span class='comment val'># edit</span>
        <span class='else else kw'>else</span>    <span class='comment val'># new</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
<p>
You will need to use routes in either of these cases:
</p>
<ul>
<li>You want to assign multiple routes to a controller.

</li>
<li>You want your controller to receive arguments.

</li>
</ul>
<p>
Most of the time the rules inferred by dispatch method Controllers::D will
get you by just fine.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/camping-unabridged.rb', line 767</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/judofyr/camping/blob/ed9b5e3810072d08af0f04a9c3b07ddcaaa4d1b2/lib/camping-unabridged.rb#L767">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">767
768
769
770
771
772
773</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='R constant id'>R</span> <span class='mult op'>*</span><span class='u identifier id'>u</span>
  <span class='r identifier id'>r</span><span class='assign token'>=</span><span class='@r ivar id'>@r</span>
  <span class='Class constant id'>Class</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='lbrace token'>{</span>
    <span class='meta_def identifier id'>meta_def</span><span class='lparen token'>(</span><span class='symbol val'>:urls</span><span class='rparen token'>)</span><span class='lbrace token'>{</span><span class='u identifier id'>u</span><span class='rbrace token'>}</span>
    <span class='meta_def identifier id'>meta_def</span><span class='lparen token'>(</span><span class='symbol val'>:inherited</span><span class='rparen token'>)</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span><span class='r identifier id'>r</span><span class='lshft op'>&lt;&lt;</span><span class='x identifier id'>x</span><span class='rbrace token'>}</span>
  <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>r</h3>
</div><div id="r-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>r</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
An array containing the various controllers available for dispatch.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/camping-unabridged.rb', line 745</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/judofyr/camping/blob/ed9b5e3810072d08af0f04a9c3b07ddcaaa4d1b2/lib/camping-unabridged.rb#L745">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">745
746
747</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='r identifier id'>r</span> 
  <span class='@r ivar id'>@r</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>