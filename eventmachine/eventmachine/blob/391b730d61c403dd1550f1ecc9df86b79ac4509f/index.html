<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>eventmachine's eventmachine - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/eventmachine/commits/eventmachine/master" rel="alternate" title="Recent Commits to eventmachine:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    GitHubRepo.init("eventmachine", "eventmachine", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='eventmachine/eventmachine/blob/391b730d61c403dd1550f1ecc9df86b79ac4509f' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='eventmachine/eventmachine/blob/391b730d61c403dd1550f1ecc9df86b79ac4509f' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("eventmachine", "eventmachine", "391b730d61c403dd1550f1ecc9df86b79ac4509f", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/eventmachine/eventmachine/tree/">Source</a></li>
            <li class=""><a href="http://github.com/eventmachine/eventmachine/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/eventmachine/eventmachine/network">Network</a></li>            
            <li class=""><a href="http://github.com/eventmachine/eventmachine/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/eventmachine/eventmachine">Wiki</a></li>
            <li class=""><a href="http://github.com/eventmachine/eventmachine/graphs">Graphs</a></li>                    
            <li class="active"><a href="/eventmachine/eventmachine">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/eventmachine">eventmachine</a> / <b><a href="http://github.com/eventmachine/eventmachine/tree">eventmachine</a></b>        
                <a id="namespaces_button" rel="eventmachine/eventmachine/blob/391b730d61c403dd1550f1ecc9df86b79ac4509f" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="eventmachine/eventmachine/blob/391b730d61c403dd1550f1ecc9df86b79ac4509f" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="section docstring readme wikistyle">
  <h1>RUBY/EventMachine</h1>
<table>
<tr><td valign="top">Homepage:</td><td>http://rubyeventmachine.com

</td></tr>
<tr><td valign="top">Rubyforge Page:</td><td>http://rubyforge.org/projects/eventmachine

</td></tr>
<tr><td valign="top">Google Group:</td><td>http://groups.google.com/group/eventmachine

</td></tr>
<tr><td valign="top">Mailing List:</td><td>http://rubyforge.org/pipermail/eventmachine-talk

</td></tr>
<tr><td valign="top">RDoc:</td><td>http://eventmachine.rubyforge.org

</td></tr>
<tr><td valign="top">IRC:</td><td>##eventmachine on irc.freenode.net

</td></tr>
<tr><td valign="top">Copyright:</td><td>(C) 2006-07 by Francis Cianfrocca. All Rights Reserved.

</td></tr>
<tr><td valign="top">Email:</td><td>gmail address: garbagecat10

</td></tr>
</table>
<p>
EventMachine is copyrighted free software made available under the terms of
either the GPL or Ruby&#8217;s License. See the file COPYING for full
licensing information. See EventMachine and EventMachine::Connection for
documentation and usage examples.
</p>
<p>
EventMachine implements a fast, single-threaded engine for arbitrary
network communications. It&#8217;s extremely easy to use in Ruby.
EventMachine wraps all interactions with IP sockets, allowing programs to
concentrate on the implementation of network protocols. It can be used to
create both network servers and clients. To create a server or client, a
Ruby program only needs to specify the IP address and port, and provide a
Module that implements the communications protocol. Implementations of
several standard network protocols are provided with the package, primarily
to serve as examples. The real goal of EventMachine is to enable programs
to easily interface with other programs using TCP/IP, especially if custom
protocols are required.
</p>
<p>
A Ruby program uses EventMachine by registering the addresses and ports of
network servers and clients, and then entering an event-handling loop.
EventMachine contains glue code in Ruby which will execute callbacks to
user-supplied code for all significant events occurring in the clients and
servers. These events include connection acceptance, startup, data-receipt,
shutdown, and timer events. Arbitrary processing can be performed by user
code during event callbacks, including sending data to one or more remote
network peers, startup and shutdown of network connections, and
installation of new event handlers.
</p>
<p>
The EventMachine implements a very familiar model for network programming.
It emphasizes: 1) the maximum possible isolation of user code from network
objects like sockets; 2) maximum performance and scalability; and 3)
extreme ease-of-use for user code. It attempts to provide a higher-level
interface than similar projects which expose a variety of low-level
event-handling and networking objects to Ruby programs.
</p>
<p>
The design and implementation of EventMachine grows out of nearly ten years
of experience writing high-performance, high-scaling network server
applications. We have taken particular account of the challenges and
lessons described as the &quot;C10K problem&quot; by Dan Kegel and others.
</p>
<p>
EventMachine consists of an extension library written in C++ (which can be
accessed from languages other than Ruby), and a Ruby module which can be
dropped into user programs. On most platforms, EventMachine uses the
<tt>select(2)</tt> system call, so it will run on a large range of
Unix-like systems and on Microsoft Windows with good performance and
scalability. On Linux 2.6 kernels, EventMachine automatically configures
itself to use <tt>epoll(4)</tt> instead of <tt>select(2),</tt> so
scalability on that platform can be significantly improved.
</p>
<p>
Here&#8217;s a fully-functional echo server written with EventMachine:
</p>
<pre class="code">
 <span class='require identifier id'>require</span> <span class='string val'>'eventmachine'</span>

 <span class='module module kw'>module</span> <span class='EchoServer constant id'>EchoServer</span>
   <span class='def def kw'>def</span> <span class='post_init identifier id'>post_init</span>
     <span class='puts identifier id'>puts</span> <span class='string val'>&quot;-- someone connected to the echo server!&quot;</span>
   <span class='end end kw'>end</span>

   <span class='def def kw'>def</span> <span class='receive_data identifier id'>receive_data</span> <span class='data identifier id'>data</span>
     <span class='send_data identifier id'>send_data</span> <span class='dstring node'>&quot;&gt;&gt;&gt;you sent: #{data}&quot;</span>
     <span class='close_connection identifier id'>close_connection</span> <span class='if if_mod kw'>if</span> <span class='data identifier id'>data</span> <span class='match op'>=~</span> <span class='regexp val'>/quit/i</span>
   <span class='end end kw'>end</span>

   <span class='def def kw'>def</span> <span class='unbind identifier id'>unbind</span>
     <span class='puts identifier id'>puts</span> <span class='string val'>&quot;-- someone disconnected from the echo server!&quot;</span>
   <span class='end end kw'>end</span>
 <span class='end end kw'>end</span>

 <span class='EventMachine constant id'>EventMachine</span><span class='colon2 op'>::</span><span class='run identifier id'>run</span> <span class='lbrace token'>{</span>
   <span class='EventMachine constant id'>EventMachine</span><span class='colon2 op'>::</span><span class='start_server identifier id'>start_server</span> <span class='string val'>&quot;127.0.0.1&quot;</span><span class='comma token'>,</span> <span class='integer val'>8081</span><span class='comma token'>,</span> <span class='EchoServer constant id'>EchoServer</span>
 <span class='rbrace token'>}</span>
</pre>

</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> Â©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>