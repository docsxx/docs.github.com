<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>aeden's activewarehouse-etl - Class: ETL::Control::Context - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/aeden/commits/activewarehouse-etl/master" rel="alternate" title="Recent Commits to activewarehouse-etl:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("aeden", "activewarehouse-etl", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("aeden", "activewarehouse-etl", "29a1344398fadb4e3373ac210ff2f7bb6f50239e", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/aeden/activewarehouse-etl/tree/">Source</a></li>
            <li class=""><a href="http://github.com/aeden/activewarehouse-etl/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/aeden/activewarehouse-etl/network">Network</a></li>            
            <li class=""><a href="http://github.com/aeden/activewarehouse-etl/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/aeden/activewarehouse-etl">Wiki</a></li>
            <li class=""><a href="http://github.com/aeden/activewarehouse-etl/graphs">Graphs</a></li>                    
            <li class="active"><a href="/aeden/activewarehouse-etl">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/aeden">aeden</a> / <b><a href="http://github.com/aeden/activewarehouse-etl/tree">activewarehouse-etl</a></b>        
                <a id="namespaces_button" rel="aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class ETL_Control_Context">
  <h1>Class: ETL::Control::Context</h1>
  <div class="section mixins">
  <h2>Included Modules</h2>
  <p>Test::Unit::Assertions</p>
</div><div class="section docstring">
  <p>
The Context is passed to eval.
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">control</td>
          <td class="readwrite">
            [<span id='control-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>control</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(control)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Initialize the context
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 17</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L17">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">17
18
19</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='control identifier id'>control</span><span class='rparen token'>)</span>
  <span class='@control ivar id'>@control</span> <span class='assign token'>=</span> <span class='control identifier id'>control</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#create-class_method">create</span><span class='args'>(control)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Create a Context instance.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#after_post_process_screen-instance_method">#after_post_process_screen</span><span class='args'>(type, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Define an after post-proces screen block.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#after_post_process_screens-instance_method">#after_post_process_screens</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Get the after post-process screen blocks.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#after_read-instance_method">#after_read</span><span class='args'>(name = 'block', configuration = )</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Define an &quot;after read&quot; processor.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#after_read_processors-instance_method">#after_read_processors</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Get the defined &quot;after read&quot; processors.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#before_write-instance_method">#before_write</span><span class='args'>(name = 'block', configuration = )</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Define a &quot;before write&quot; processor.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#before_write_processors-instance_method">#before_write_processors</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Get the defined &quot;before write&quot; processors.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#copy-instance_method">#copy</span><span class='args'>(source, destination)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Copy the source field to the destination field.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#dependencies-instance_method">#dependencies</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Get the defined dependencies.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#depends_on-instance_method">#depends_on</span><span class='args'>(*args)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Define a list of control files that this file depends on.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#destination-instance_method">#destination</span><span class='args'>(name, configuration = )</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Define a destination.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#destinations-instance_method">#destinations</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Get the defined destinations.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#file-instance_method">#file</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Get the control file.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get_binding-instance_method">#get_binding</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Get the binding object.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#post_process-instance_method">#post_process</span><span class='args'>(name = 'block', configuration = )</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Define a post-processor.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#post_processors-instance_method">#post_processors</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Get the defined post-processors.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#pre_process-instance_method">#pre_process</span><span class='args'>(name = 'block', configuration = )</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Define a pre-processor.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#pre_processors-instance_method">#pre_processors</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Get the defined pre-processors.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#rename-instance_method">#rename</span><span class='args'>(source, destination)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Rename the source field to the destination field.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#screen-instance_method">#screen</span><span class='args'>(type, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Define a before post-process screen block.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#screens-instance_method">#screens</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Get the before post-process screen blocks.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#set_error_threshold-instance_method">#set_error_threshold</span><span class='args'>(error_threshold)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Set the allowed error threshold.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#source-instance_method">#source</span><span class='args'>(name, configuration = )</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Define a source.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#sources-instance_method">#sources</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Get the defined source.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#transform-instance_method">#transform</span><span class='args'>(name, transformer = nil, configuration = )</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Define a transform.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#transforms-instance_method">#transforms</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Get the defined transforms.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>create</h3>
</div><div id="create-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>create</span><span class='args'>(control)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Create a Context instance
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 11</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L11">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">11
12
13</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='create identifier id'>create</span><span class='lparen token'>(</span><span class='control identifier id'>control</span><span class='rparen token'>)</span>
  <span class='Context constant id'>Context</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='control identifier id'>control</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='get_binding identifier id'>get_binding</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>after_post_process_screen</h3>
</div><div id="after_post_process_screen-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>after_post_process_screen</span><span class='args'>(type, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Define an after post-proces screen block. The type argument must be one of
:fatal, :error or :warn
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 163</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L163">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">163
164
165</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='after_post_process_screen identifier id'>after_post_process_screen</span><span class='lparen token'>(</span><span class='type identifier id'>type</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='after_post_process_screens identifier id'>after_post_process_screens</span><span class='lbrack token'>[</span><span class='type identifier id'>type</span><span class='rbrack token'>]</span> <span class='lshft op'>&lt;&lt;</span> <span class='block identifier id'>block</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>after_post_process_screens</h3>
</div><div id="after_post_process_screens-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>after_post_process_screens</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Get the after post-process screen blocks
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 168</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L168">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">168
169
170</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='after_post_process_screens identifier id'>after_post_process_screens</span>
  <span class='control identifier id'>control</span><span class='dot token'>.</span><span class='after_post_process_screens identifier id'>after_post_process_screens</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>after_read</h3>
</div><div id="after_read-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>after_read</span><span class='args'>(name = 'block', configuration = )</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Define an &quot;after read&quot; processor. This must be a row-level
processor.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 209</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L209">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">209
210
211</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='after_read identifier id'>after_read</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='assign token'>=</span><span class='string val'>'block'</span><span class='comma token'>,</span> <span class='configuration identifier id'>configuration</span><span class='assign token'>=</span><span class='semicolon token'>;</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='define_processor identifier id'>define_processor</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='after_read_processors identifier id'>after_read_processors</span><span class='comma token'>,</span> <span class='configuration identifier id'>configuration</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>after_read_processors</h3>
</div><div id="after_read_processors-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>after_read_processors</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Get the defined &quot;after read&quot; processors
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 214</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L214">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">214
215
216</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='after_read_processors identifier id'>after_read_processors</span>
  <span class='control identifier id'>control</span><span class='dot token'>.</span><span class='after_read_processors identifier id'>after_read_processors</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>before_write</h3>
</div><div id="before_write-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>before_write</span><span class='args'>(name = 'block', configuration = )</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Define a &quot;before write&quot; processor. This must be a row-level
processor.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 219</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L219">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">219
220
221</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='before_write identifier id'>before_write</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='assign token'>=</span><span class='string val'>'block'</span><span class='comma token'>,</span> <span class='configuration identifier id'>configuration</span><span class='assign token'>=</span><span class='semicolon token'>;</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='define_processor identifier id'>define_processor</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='before_write_processors identifier id'>before_write_processors</span><span class='comma token'>,</span> <span class='configuration identifier id'>configuration</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>before_write_processors</h3>
</div><div id="before_write_processors-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>before_write_processors</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Get the defined &quot;before write&quot; processors
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 224</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L224">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">224
225
226</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='before_write_processors identifier id'>before_write_processors</span>
  <span class='control identifier id'>control</span><span class='dot token'>.</span><span class='before_write_processors identifier id'>before_write_processors</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>copy</h3>
</div><div id="copy-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>copy</span><span class='args'>(source, destination)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Copy the source field to the destination field
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 178</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L178">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">178
179
180</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='copy identifier id'>copy</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='comma token'>,</span> <span class='destination identifier id'>destination</span><span class='rparen token'>)</span>
  <span class='after_read identifier id'>after_read</span> <span class='symbol val'>:copy_field</span><span class='comma token'>,</span> <span class='symbol val'>:source</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='source identifier id'>source</span><span class='comma token'>,</span> <span class='symbol val'>:dest</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='destination identifier id'>destination</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>dependencies</h3>
</div><div id="dependencies-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>dependencies</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Get the defined dependencies
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 41</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L41">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">41
42
43</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='dependencies identifier id'>dependencies</span>
  <span class='control identifier id'>control</span><span class='dot token'>.</span><span class='dependencies identifier id'>dependencies</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>depends_on</h3>
</div><div id="depends_on-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>depends_on</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Define a list of control files that this file depends on. Those control
files will be executed prior to this control file. The list may contain
symbols that will be converted to file names by calling to_s +
&#8217;.ctl&#8217;, or they may be strings in which case they will be used
as is
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 36</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L36">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">36
37
38</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='depends_on identifier id'>depends_on</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='lparen token'>(</span><span class='dependencies identifier id'>dependencies</span> <span class='lshft op'>&lt;&lt;</span> <span class='args identifier id'>args</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='flatten! fid id'>flatten!</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>destination</h3>
</div><div id="destination-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>destination</span><span class='args'>(name, configuration = )</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Define a destination
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
  </dl>
</div><div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="../ControlError.html" title="ControlError">ControlError</a></tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 80</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L80">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='destination identifier id'>destination</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='configuration identifier id'>configuration</span><span class='assign token'>=</span><span class='semicolon token'>;</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='mapping identifier id'>mapping</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='configuration identifier id'>configuration</span><span class='lbrack token'>[</span><span class='colon op'>:</span><span class='type identifier id'>type</span><span class='rbrack token'>]</span>
    <span class='case case kw'>case</span> <span class='configuration identifier id'>configuration</span><span class='lbrack token'>[</span><span class='symbol val'>:type</span><span class='rbrack token'>]</span>
    <span class='when when kw'>when</span> <span class='Class constant id'>Class</span>
      <span class='dest_class identifier id'>dest_class</span> <span class='assign token'>=</span> <span class='configuration identifier id'>configuration</span><span class='lbrack token'>[</span><span class='symbol val'>:type</span><span class='rbrack token'>]</span>
      <span class='destinations identifier id'>destinations</span> <span class='lshft op'>&lt;&lt;</span> <span class='dest_class identifier id'>dest_class</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='configuration identifier id'>configuration</span><span class='comma token'>,</span> <span class='mapping identifier id'>mapping</span><span class='rparen token'>)</span>
    <span class='when when kw'>when</span> <span class='String constant id'>String</span><span class='comma token'>,</span> <span class='Symbol constant id'>Symbol</span>
      <span class='dest_class identifier id'>dest_class</span> <span class='assign token'>=</span> <span class='ETL constant id'>ETL</span><span class='colon2 op'>::</span><span class='Control constant id'>Control</span><span class='colon2 op'>::</span><span class='Destination constant id'>Destination</span><span class='dot token'>.</span><span class='class_for_name identifier id'>class_for_name</span><span class='lparen token'>(</span><span class='configuration identifier id'>configuration</span><span class='lbrack token'>[</span><span class='symbol val'>:type</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
      <span class='destinations identifier id'>destinations</span> <span class='lshft op'>&lt;&lt;</span> <span class='dest_class identifier id'>dest_class</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='configuration identifier id'>configuration</span><span class='comma token'>,</span> <span class='mapping identifier id'>mapping</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='if if kw'>if</span> <span class='configuration identifier id'>configuration</span><span class='lbrack token'>[</span><span class='colon op'>:</span><span class='type identifier id'>type</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='ETL constant id'>ETL</span><span class='colon2 op'>::</span><span class='Control constant id'>Control</span><span class='colon2 op'>::</span><span class='Destination constant id'>Destination</span><span class='rparen token'>)</span>
        <span class='destinations identifier id'>destinations</span> <span class='lshft op'>&lt;&lt;</span> <span class='configuration identifier id'>configuration</span><span class='lbrack token'>[</span><span class='symbol val'>:type</span><span class='rbrack token'>]</span>
      <span class='else else kw'>else</span>
        <span class='raise identifier id'>raise</span> <span class='ControlError constant id'>ControlError</span><span class='comma token'>,</span> <span class='string val'>&quot;Type must be a Class, String, Symbol or object extending ETL::Control::Destination&quot;</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='destination_types identifier id'>destination_types</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='dest_type identifier id'>dest_type</span><span class='bitor op'>|</span>
      <span class='if if kw'>if</span> <span class='configuration identifier id'>configuration</span><span class='lbrack token'>[</span><span class='dest_type identifier id'>dest_type</span><span class='rbrack token'>]</span>
        <span class='dest_class identifier id'>dest_class</span> <span class='assign token'>=</span> <span class='ETL constant id'>ETL</span><span class='colon2 op'>::</span><span class='Control constant id'>Control</span><span class='colon2 op'>::</span><span class='Destination constant id'>Destination</span><span class='dot token'>.</span><span class='class_for_name identifier id'>class_for_name</span><span class='lparen token'>(</span><span class='dest_type identifier id'>dest_type</span><span class='rparen token'>)</span>
        <span class='destinations identifier id'>destinations</span> <span class='lshft op'>&lt;&lt;</span> <span class='dest_class identifier id'>dest_class</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='configuration identifier id'>configuration</span><span class='comma token'>,</span> <span class='mapping identifier id'>mapping</span><span class='rparen token'>)</span>
        <span class='break break kw'>break</span>
      <span class='end end kw'>end</span>
      <span class='raise identifier id'>raise</span> <span class='ControlError constant id'>ControlError</span><span class='comma token'>,</span> <span class='string val'>&quot;A destination was specified but no matching destination type was found&quot;</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>destinations</h3>
</div><div id="destinations-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>destinations</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Get the defined destinations
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 109</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L109">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">109
110
111</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='destinations identifier id'>destinations</span>
  <span class='control identifier id'>control</span><span class='dot token'>.</span><span class='destinations identifier id'>destinations</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>file</h3>
</div><div id="file-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>file</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Get the control file
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 22</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L22">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">22
23
24</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='file identifier id'>file</span>
  <span class='control identifier id'>control</span><span class='dot token'>.</span><span class='file identifier id'>file</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_binding</h3>
</div><div id="get_binding-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_binding</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Get the binding object
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 249</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L249">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">249
250
251</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get_binding identifier id'>get_binding</span>
  <span class='binding identifier id'>binding</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>post_process</h3>
</div><div id="post_process-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>post_process</span><span class='args'>(name = 'block', configuration = )</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Define a post-processor
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 239</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L239">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">239
240
241</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='post_process identifier id'>post_process</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='assign token'>=</span><span class='string val'>'block'</span><span class='comma token'>,</span> <span class='configuration identifier id'>configuration</span><span class='assign token'>=</span><span class='semicolon token'>;</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='define_processor identifier id'>define_processor</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='post_processors identifier id'>post_processors</span><span class='comma token'>,</span> <span class='configuration identifier id'>configuration</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>post_processors</h3>
</div><div id="post_processors-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>post_processors</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Get the defined post-processors
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 244</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L244">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">244
245
246</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='post_processors identifier id'>post_processors</span>
  <span class='control identifier id'>control</span><span class='dot token'>.</span><span class='post_processors identifier id'>post_processors</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>pre_process</h3>
</div><div id="pre_process-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>pre_process</span><span class='args'>(name = 'block', configuration = )</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Define a pre-processor
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 229</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L229">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">229
230
231</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='pre_process identifier id'>pre_process</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='assign token'>=</span><span class='string val'>'block'</span><span class='comma token'>,</span> <span class='configuration identifier id'>configuration</span><span class='assign token'>=</span><span class='semicolon token'>;</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='define_processor identifier id'>define_processor</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='pre_processors identifier id'>pre_processors</span><span class='comma token'>,</span> <span class='configuration identifier id'>configuration</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>pre_processors</h3>
</div><div id="pre_processors-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>pre_processors</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Get the defined pre-processors
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 234</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L234">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">234
235
236</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='pre_processors identifier id'>pre_processors</span>
  <span class='control identifier id'>control</span><span class='dot token'>.</span><span class='pre_processors identifier id'>pre_processors</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>rename</h3>
</div><div id="rename-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>rename</span><span class='args'>(source, destination)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Rename the source field to the destination field
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 173</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L173">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">173
174
175</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='rename identifier id'>rename</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='comma token'>,</span> <span class='destination identifier id'>destination</span><span class='rparen token'>)</span>
  <span class='after_read identifier id'>after_read</span> <span class='symbol val'>:rename</span><span class='comma token'>,</span> <span class='symbol val'>:source</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='source identifier id'>source</span><span class='comma token'>,</span> <span class='symbol val'>:dest</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='destination identifier id'>destination</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>screen</h3>
</div><div id="screen-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>screen</span><span class='args'>(type, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Define a before post-process screen block. The type argument must be one of
:fatal, :error or :warn
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 152</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L152">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">152
153
154</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='screen identifier id'>screen</span><span class='lparen token'>(</span><span class='type identifier id'>type</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='screens identifier id'>screens</span><span class='lbrack token'>[</span><span class='type identifier id'>type</span><span class='rbrack token'>]</span> <span class='lshft op'>&lt;&lt;</span> <span class='block identifier id'>block</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>screens</h3>
</div><div id="screens-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>screens</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Get the before post-process screen blocks
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 157</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L157">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">157
158
159</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='screens identifier id'>screens</span>
  <span class='control identifier id'>control</span><span class='dot token'>.</span><span class='screens identifier id'>screens</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>set_error_threshold</h3>
</div><div id="set_error_threshold-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>set_error_threshold</span><span class='args'>(error_threshold)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Set the allowed error threshold
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 27</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L27">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">27
28
29</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='set_error_threshold identifier id'>set_error_threshold</span><span class='lparen token'>(</span><span class='error_threshold identifier id'>error_threshold</span><span class='rparen token'>)</span>
  <span class='control identifier id'>control</span><span class='dot token'>.</span><span class='error_threshold identifier id'>error_threshold</span> <span class='assign token'>=</span> <span class='error_threshold identifier id'>error_threshold</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>source</h3>
</div><div id="source-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>source</span><span class='args'>(name, configuration = )</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Define a source.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
  </dl>
</div><div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="../ControlError.html" title="ControlError">ControlError</a></tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 46</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L46">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='source identifier id'>source</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='configuration identifier id'>configuration</span><span class='assign token'>=</span><span class='semicolon token'>;</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='definition identifier id'>definition</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='configuration identifier id'>configuration</span><span class='lbrack token'>[</span><span class='colon op'>:</span><span class='type identifier id'>type</span><span class='rbrack token'>]</span>
    <span class='case case kw'>case</span> <span class='configuration identifier id'>configuration</span><span class='lbrack token'>[</span><span class='symbol val'>:type</span><span class='rbrack token'>]</span>
    <span class='when when kw'>when</span> <span class='Class constant id'>Class</span>
      <span class='source_class identifier id'>source_class</span> <span class='assign token'>=</span> <span class='configuration identifier id'>configuration</span><span class='lbrack token'>[</span><span class='symbol val'>:type</span><span class='rbrack token'>]</span>
      <span class='sources identifier id'>sources</span> <span class='lshft op'>&lt;&lt;</span> <span class='source_class identifier id'>source_class</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='configuration identifier id'>configuration</span><span class='comma token'>,</span> <span class='definition identifier id'>definition</span><span class='rparen token'>)</span>
    <span class='when when kw'>when</span> <span class='String constant id'>String</span><span class='comma token'>,</span> <span class='Symbol constant id'>Symbol</span>
      <span class='source_class identifier id'>source_class</span> <span class='assign token'>=</span> <span class='ETL constant id'>ETL</span><span class='colon2 op'>::</span><span class='Control constant id'>Control</span><span class='colon2 op'>::</span><span class='Source constant id'>Source</span><span class='dot token'>.</span><span class='class_for_name identifier id'>class_for_name</span><span class='lparen token'>(</span><span class='configuration identifier id'>configuration</span><span class='lbrack token'>[</span><span class='symbol val'>:type</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
      <span class='sources identifier id'>sources</span> <span class='lshft op'>&lt;&lt;</span> <span class='source_class identifier id'>source_class</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='configuration identifier id'>configuration</span><span class='comma token'>,</span> <span class='definition identifier id'>definition</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='if if kw'>if</span> <span class='configuration identifier id'>configuration</span><span class='lbrack token'>[</span><span class='colon op'>:</span><span class='type identifier id'>type</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='ETL constant id'>ETL</span><span class='colon2 op'>::</span><span class='Control constant id'>Control</span><span class='colon2 op'>::</span><span class='Source constant id'>Source</span><span class='rparen token'>)</span>
        <span class='sources identifier id'>sources</span> <span class='lshft op'>&lt;&lt;</span> <span class='configuration identifier id'>configuration</span><span class='lbrack token'>[</span><span class='symbol val'>:type</span><span class='rbrack token'>]</span>
      <span class='else else kw'>else</span>
        <span class='raise identifier id'>raise</span> <span class='ControlError constant id'>ControlError</span><span class='comma token'>,</span> <span class='string val'>&quot;Type must be a Class, String, Symbol or object extending ETL::Control::Source&quot;</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='source_types identifier id'>source_types</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='source_type identifier id'>source_type</span><span class='bitor op'>|</span>
      <span class='if if kw'>if</span> <span class='configuration identifier id'>configuration</span><span class='lbrack token'>[</span><span class='source_type identifier id'>source_type</span><span class='rbrack token'>]</span>
        <span class='source_class identifier id'>source_class</span> <span class='assign token'>=</span> <span class='ETL constant id'>ETL</span><span class='colon2 op'>::</span><span class='Control constant id'>Control</span><span class='colon2 op'>::</span><span class='Source constant id'>Source</span><span class='dot token'>.</span><span class='class_for_name identifier id'>class_for_name</span><span class='lparen token'>(</span><span class='source_type identifier id'>source_type</span><span class='rparen token'>)</span>
        <span class='sources identifier id'>sources</span> <span class='lshft op'>&lt;&lt;</span> <span class='source_class identifier id'>source_class</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='configuration identifier id'>configuration</span><span class='comma token'>,</span> <span class='definition identifier id'>definition</span><span class='rparen token'>)</span>
        <span class='break break kw'>break</span>
      <span class='end end kw'>end</span>
      <span class='raise identifier id'>raise</span> <span class='ControlError constant id'>ControlError</span><span class='comma token'>,</span> <span class='string val'>&quot;A source was specified but no matching type was found&quot;</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>sources</h3>
</div><div id="sources-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>sources</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Get the defined source
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 75</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L75">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">75
76
77</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='sources identifier id'>sources</span>
  <span class='control identifier id'>control</span><span class='dot token'>.</span><span class='sources identifier id'>sources</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>transform</h3>
</div><div id="transform-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>transform</span><span class='args'>(name, transformer = nil, configuration = )</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Define a transform
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 114</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L114">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='transform identifier id'>transform</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='transformer identifier id'>transformer</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='configuration identifier id'>configuration</span><span class='assign token'>=</span><span class='semicolon token'>;</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='transformer identifier id'>transformer</span>
    <span class='case case kw'>case</span> <span class='transformer identifier id'>transformer</span>
    <span class='when when kw'>when</span> <span class='String constant id'>String</span><span class='comma token'>,</span> <span class='Symbol constant id'>Symbol</span>
      <span class='class_name identifier id'>class_name</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{transformer.to_s.camelize}Transform&quot;</span>
      <span class='begin begin kw'>begin</span>
        <span class='transform_class identifier id'>transform_class</span> <span class='assign token'>=</span> <span class='ETL constant id'>ETL</span><span class='colon2 op'>::</span><span class='Transform constant id'>Transform</span><span class='dot token'>.</span><span class='const_get identifier id'>const_get</span><span class='lparen token'>(</span><span class='class_name identifier id'>class_name</span><span class='rparen token'>)</span>
        <span class='transforms identifier id'>transforms</span> <span class='lshft op'>&lt;&lt;</span> <span class='transform_class identifier id'>transform_class</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='configuration identifier id'>configuration</span><span class='rparen token'>)</span>
      <span class='rescue rescue kw'>rescue</span> <span class='NameError constant id'>NameError</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='e identifier id'>e</span>
        <span class='raise identifier id'>raise</span> <span class='ControlError constant id'>ControlError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Unable to find transformer #{class_name}: #{e}&quot;</span>
      <span class='end end kw'>end</span>
    <span class='when when kw'>when</span> <span class='Class constant id'>Class</span>
      <span class='transforms identifier id'>transforms</span> <span class='lshft op'>&lt;&lt;</span> <span class='transformer identifier id'>transformer</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='transformer identifier id'>transformer</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='configuration identifier id'>configuration</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='comment val'>#transformer.class.inspect</span>
      <span class='if if kw'>if</span> <span class='transformer identifier id'>transformer</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='ETL constant id'>ETL</span><span class='colon2 op'>::</span><span class='Transform constant id'>Transform</span><span class='colon2 op'>::</span><span class='Transform constant id'>Transform</span><span class='rparen token'>)</span>
        <span class='Engine constant id'>Engine</span><span class='dot token'>.</span><span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span> <span class='dstring node'>&quot;Adding transformer #{transformer.inspect} for field #{name}&quot;</span>
        <span class='t identifier id'>t</span> <span class='assign token'>=</span> <span class='transformer identifier id'>transformer</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
        <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span>
        <span class='transforms identifier id'>transforms</span> <span class='lshft op'>&lt;&lt;</span> <span class='t identifier id'>t</span> 
      <span class='else else kw'>else</span>
        <span class='raise identifier id'>raise</span> <span class='ControlError constant id'>ControlError</span><span class='comma token'>,</span> <span class='string val'>&quot;Transformer must be a String, Symbol, Class or Transform instance&quot;</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='elsif elsif kw'>elsif</span> <span class='block_given? fid id'>block_given?</span>
    <span class='transforms identifier id'>transforms</span> <span class='lshft op'>&lt;&lt;</span> <span class='ETL constant id'>ETL</span><span class='colon2 op'>::</span><span class='Transform constant id'>Transform</span><span class='colon2 op'>::</span><span class='BlockTransform constant id'>BlockTransform</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='symbol val'>:block</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='raise identifier id'>raise</span> <span class='ControlError constant id'>ControlError</span><span class='comma token'>,</span> <span class='string val'>&quot;Either a transformer or a block must be specified&quot;</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>transforms</h3>
</div><div id="transforms-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>transforms</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Get the defined transforms
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/etl/control/control.rb', line 146</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/aeden/activewarehouse-etl/blob/29a1344398fadb4e3373ac210ff2f7bb6f50239e/lib/etl/control/control.rb#L146">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">146
147
148</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='transforms identifier id'>transforms</span>
  <span class='control identifier id'>control</span><span class='dot token'>.</span><span class='transforms identifier id'>transforms</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>