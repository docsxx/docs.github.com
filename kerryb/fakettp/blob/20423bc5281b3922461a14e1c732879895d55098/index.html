<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>kerryb's fakettp - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/kerryb/commits/fakettp/master" rel="alternate" title="Recent Commits to fakettp:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("kerryb", "fakettp", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='kerryb/fakettp/blob/20423bc5281b3922461a14e1c732879895d55098' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='kerryb/fakettp/blob/20423bc5281b3922461a14e1c732879895d55098' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("kerryb", "fakettp", "20423bc5281b3922461a14e1c732879895d55098", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/kerryb/fakettp/tree/">Source</a></li>
            <li class=""><a href="http://github.com/kerryb/fakettp/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/kerryb/fakettp/network">Network</a></li>            
            <li class=""><a href="http://github.com/kerryb/fakettp/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/kerryb/fakettp">Wiki</a></li>
            <li class=""><a href="http://github.com/kerryb/fakettp/graphs">Graphs</a></li>                    
            <li class="active"><a href="/kerryb/fakettp">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/kerryb">kerryb</a> / <b><a href="http://github.com/kerryb/fakettp/tree">fakettp</a></b>        
                <a id="namespaces_button" rel="kerryb/fakettp/blob/20423bc5281b3922461a14e1c732879895d55098" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="kerryb/fakettp/blob/20423bc5281b3922461a14e1c732879895d55098" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="section docstring readme wikistyle">
  <p>
&lt;h1&gt;FakeTTP&lt;/h1&gt; &lt;h2&gt;Purpose&lt;/h2&gt; &lt;p&gt;When you
are writing acceptance/integration tests for an application which makes
&lt;span class=&quot;caps&quot;&gt;HTTP&lt;/span&gt; requests to a remote
application, sometimes you need to be able to test the interactions in
different scenarios without talking to a real instance of the remote
application.&lt;/p&gt; &lt;p&gt;FakeTTP is a standalone web application
that allows you to mock requests (ie set and verify expectations on the
requests your application makes, and return suitable responses to those
requests).&lt;/p&gt; &lt;h2&gt;Installation&lt;/h2&gt; &lt;h3&gt;Install
the gem&lt;/h3&gt; &lt;p&gt;Add GitHub as a gem source (you only need to do
this once):&lt;/p&gt; &lt;p&gt;<tt>gem sources -a
http://gems.github.com</tt>&lt;/p&gt; &lt;p&gt;Then install
FakeTTP:&lt;/p&gt; &lt;p&gt;<tt>sudo gem install
kerryb-fakettp</tt>&lt;/p&gt; &lt;p&gt;Alternatively, you can specify the
source when you install the gem:&lt;/p&gt; &lt;p&gt;<tt>sudo gem install
kerryb-fakettp --source http://gems.github.com</tt>&lt;/p&gt;
&lt;h3&gt;Create a FakeTTP directory&lt;/h3&gt; &lt;p&gt;You can install
FakeTTP anywhere that your web server user can see it:&lt;/p&gt;
&lt;p&gt;<tt>fakettp install &amp;lt;directory&amp;gt;</tt>&lt;/p&gt;
&lt;h3&gt;Point your web server at the directory&lt;/h3&gt;
&lt;p&gt;FakeTTP should work with any Rack-compatible server: just point
the server to the correct directory. For example, using &lt;a
href=&quot;http://www.modrails.com/&quot;&gt;Passenger&lt;/a&gt;
(mod_rails) with Apache, create a virtual host along these lines:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;
</p>
<pre class="code">
  <span class='bitand op'>&amp;</span><span class='lt identifier id'>lt</span><span class='semicolon token'>;</span><span class='VirtualHost constant id'>VirtualHost</span> <span class='mult op'>*</span><span class='symbol val'>:80</span><span class='bitand op'>&amp;</span><span class='gt identifier id'>gt</span><span class='semicolon token'>;</span>
    <span class='ServerName constant id'>ServerName</span> <span class='fakettp identifier id'>fakettp</span><span class='dot token'>.</span><span class='local identifier id'>local</span>
    <span class='DocumentRoot constant id'>DocumentRoot</span> <span class='string val'>&quot;/path/to/fakettp/public&quot;</span>
    <span class='bitand op'>&amp;</span><span class='lt identifier id'>lt</span><span class='semicolon token'>;</span><span class='directory identifier id'>directory</span> <span class='string val'>&quot;/path/to/fakettp/public&quot;</span><span class='bitand op'>&amp;</span><span class='gt identifier id'>gt</span><span class='semicolon token'>;</span>
      <span class='Order constant id'>Order</span> <span class='deny identifier id'>deny</span><span class='comma token'>,</span><span class='allow identifier id'>allow</span>
      <span class='Deny constant id'>Deny</span> <span class='from identifier id'>from</span> <span class='all identifier id'>all</span>
      <span class='Allow constant id'>Allow</span> <span class='from identifier id'>from</span> <span class='float val'>127.0</span><span class='float val'>.0.1</span>
    <span class='bitand op'>&amp;</span><span class='lt identifier id'>lt</span><span class='semicolon token'>;</span><span class='regexp val'>/directory&amp;gt;
  &amp;lt;/</span><span class='VirtualHost constant id'>VirtualHost</span><span class='bitand op'>&amp;</span><span class='gt identifier id'>gt</span><span class='semicolon token'>;</span>
</pre>
<p>
&lt;/code&gt;&lt;/pre&gt; &lt;p&gt;Then make sure <tt>fakettp.local</tt>
resolves to 127.0.0.1 (assuming you&amp;#8217;re running the simulator on
the same machine as the application under test), eg by adding the following
line to <tt>/etc/hosts</tt>:&lt;/p&gt; &lt;p&gt;<tt>127.0.0.1
fakettp.local</tt>&lt;/p&gt; &lt;h3&gt;&lt;span
class=&quot;caps&quot;&gt;IMPORTANT&lt;/span&gt;: security note&lt;/h3&gt;
&lt;p&gt;Because expectations are set by posting Ruby code to be executed
on the server, you probably don&amp;#8217;t want any old Tom, Dick or Harry
to be able to connect. The security settings in the virtual host config
example above restrict access to clients running on the local
machine.&lt;/p&gt; &lt;h2&gt;Usage&lt;/h2&gt;
&lt;h3&gt;Resetting&lt;/h3&gt; &lt;p&gt;To reset FakeTTP (ie remove all
expectations and errors), make an &lt;span
class=&quot;caps&quot;&gt;HTTP&lt;/span&gt; &lt;span
class=&quot;caps&quot;&gt;POST&lt;/span&gt; request to
<tt>http://fakettp.local/reset</tt>.&lt;/p&gt; &lt;h3&gt;Setting
expectations&lt;/h3&gt; &lt;p&gt;To create a new expectation, make an
&lt;span class=&quot;caps&quot;&gt;HTTP&lt;/span&gt; &lt;span
class=&quot;caps&quot;&gt;POST&lt;/span&gt; request to
<tt>http://fakettp.local/expect</tt>, with a <em>Content-Type</em> header
of &amp;#8216;text/plain&amp;#8217; and the request data containing a Ruby
block to execute.&lt;/p&gt; &lt;p&gt;The supplied code should be in the
following format, and will generally consist of a number of assertions on
the request, followed by creation of the response to return to the
application under test.&lt;/p&gt; &lt;pre&gt;&lt;code&gt;
</p>
<pre class="code">
  <span class='expect identifier id'>expect</span> <span class='string val'>&quot;GET of /foo&quot;</span> <span class='do do kw'>do</span>
    <span class='request identifier id'>request</span><span class='dot token'>.</span><span class='host identifier id'>host</span><span class='dot token'>.</span><span class='should identifier id'>should</span> <span class='eq op'>==</span> <span class='string val'>'fakettp.local'</span>
    <span class='request identifier id'>request</span><span class='dot token'>.</span><span class='path_info identifier id'>path_info</span><span class='dot token'>.</span><span class='should identifier id'>should</span> <span class='eq op'>==</span> <span class='string val'>'/foo'</span>

    <span class='content_type identifier id'>content_type</span> <span class='string val'>'text/plain'</span>
    <span class='string val'>&quot;All is well\n&quot;</span>
  <span class='end end kw'>end</span>
</pre>
<p>
&lt;/code&gt;&lt;/pre&gt; &lt;p&gt;The label on the first line is used in
error reporting.&lt;/p&gt; &lt;p&gt;The expectation code has access to the
underlying Sinatra request and response objects etc, as well as &lt;a
href=&quot;http://rspec.info&quot;&gt;RSpec&lt;/a&gt; matchers.&lt;/p&gt;
&lt;h3&gt;Verifying&lt;/h3&gt; &lt;p&gt;To verify that all expectations
have been met, make an &lt;span class=&quot;caps&quot;&gt;HTTP&lt;/span&gt;
&lt;span class=&quot;caps&quot;&gt;GET&lt;/span&gt; request to
<tt>http://fakettp.local/verify</tt>.&lt;/p&gt; &lt;p&gt;If all is well,
the response will be a <em>200 OK</em> with a body of
&amp;#8216;OK&amp;#8217;. Otherwise the status will be <em>400 Bad
Request</em>, with a list of failures in the body. The failure messages
include the complete details of the unexpected request that was received,
to assist debugging.&lt;/p&gt; &lt;h3&gt;Multiple hosts&lt;/h3&gt;
&lt;p&gt;To have FakeTTP respond to multiple hostnames, create the
appropriate hosts entries. If you&amp;#8217;re using name-based virtual
hosts in Apache, add a <em>ServerAlias</em> entry to the virtual host
config, under the <em>ServerName</em> line, eg:&lt;/p&gt;
&lt;p&gt;<tt>ServerAlias foo.com bar.com</tt>&lt;/p&gt; &lt;h2&gt;Change
log&lt;/h2&gt; &lt;p&gt;0.2.4.1 (5 May 2009)&lt;/p&gt; &lt;ul&gt;
</p>
<pre class="code">
        <span class='lt op'>&lt;</span><span class='li identifier id'>li</span><span class='gt op'>&gt;</span><span class='Temporarily constant id'>Temporarily</span> <span class='depend identifier id'>depend</span> <span class='on identifier id'>on</span> <span class='edge identifier id'>edge</span> <span class='version identifier id'>version</span> <span class='of identifier id'>of</span> <span class='Sinatra constant id'>Sinatra</span><span class='comma token'>,</span> <span class='to identifier id'>to</span> <span class='gain identifier id'>gain</span> <span class='Rack constant id'>Rack</span> <span class='float val'>1.0</span> <span class='compatibility identifier id'>compatibility</span><span class='dot token'>.</span><span class='lt op'>&lt;</span><span class='regexp val'>/li&gt;
</span></pre>
<p>
&lt;/ul&gt; &lt;p&gt;0.2.4 (25 Mar 2009)&lt;/p&gt; &lt;ul&gt;
</p>
<pre class="code">
        <span class='lt op'>&lt;</span><span class='li identifier id'>li</span><span class='gt op'>&gt;</span><span class='Fixed constant id'>Fixed</span> <span class='a identifier id'>a</span> <span class='bug identifier id'>bug</span> <span class='which identifier id'>which</span> <span class='caused identifier id'>caused</span> <span class='expectations identifier id'>expectations</span> <span class='to identifier id'>to</span> <span class='be identifier id'>be</span> <span class='run identifier id'>run</span> <span class='in in kw'>in</span> <span class='the identifier id'>the</span> <span class='wrong identifier id'>wrong</span> <span class='order identifier id'>order</span> <span class='if if_mod kw'>if</span> <span class='there identifier id'>there</span> <span class='were identifier id'>were</span> <span class='more identifier id'>more</span> <span class='than identifier id'>than</span> <span class='nine identifier id'>nine</span> <span class='of identifier id'>of</span> <span class='them identifier id'>them</span><span class='dot token'>.</span><span class='lt op'>&lt;</span><span class='regexp val'>/li&gt;
</span></pre>
<p>
&lt;/ul&gt; &lt;p&gt;0.2.3 (19 Mar 2009)&lt;/p&gt; &lt;ul&gt;
</p>
<pre class="code">
        <span class='lt op'>&lt;</span><span class='li identifier id'>li</span><span class='gt op'>&gt;</span><span class='Fixed constant id'>Fixed</span> <span class='a identifier id'>a</span> <span class='bug identifier id'>bug</span> <span class='where identifier id'>where</span> <span class='expectations identifier id'>expectations</span> <span class='were identifier id'>were</span> <span class='being identifier id'>being</span> <span class='overwritten identifier id'>overwritten</span> <span class='on identifier id'>on</span> <span class='Linux constant id'>Linux</span> <span class='due identifier id'>due</span> <span class='to identifier id'>to</span> <span class='Dir constant id'>Dir</span><span class='dot token'>.</span><span class='entries identifier id'>entries</span> <span class='not not kw'>not</span> <span class='returning identifier id'>returning</span> <span class='results identifier id'>results</span> <span class='in in kw'>in</span> <span class='the identifier id'>the</span> <span class='expected identifier id'>expected</span> <span class='order identifier id'>order</span><span class='lt op'>&lt;</span><span class='regexp val'>/li&gt;
</span></pre>
<p>
&lt;/ul&gt; &lt;p&gt;0.2.2 (18 Mar 2009)&lt;/p&gt; &lt;ul&gt;
</p>
<pre class="code">
        <span class='lt op'>&lt;</span><span class='li identifier id'>li</span><span class='gt op'>&gt;</span><span class='Only constant id'>Only</span> <span class='accept identifier id'>accept</span> <span class='control identifier id'>control</span> <span class='requests identifier id'>requests</span> <span class='lparen token'>(</span><span class='reset identifier id'>reset</span><span class='comma token'>,</span> <span class='expect identifier id'>expect</span><span class='comma token'>,</span> <span class='verify identifier id'>verify</span><span class='rparen token'>)</span> <span class='on identifier id'>on</span> <span class='fakettp identifier id'>fakettp</span><span class='dot token'>.</span><span class='local identifier id'>local</span><span class='lt op'>&lt;</span><span class='regexp val'>/li&gt;
</span></pre>
<p>
&lt;/ul&gt; &lt;p&gt;0.2.1 (17 Mar 2009)&lt;/p&gt; &lt;ul&gt;
</p>
<pre class="code">
        <span class='lt op'>&lt;</span><span class='li identifier id'>li</span><span class='gt op'>&gt;</span><span class='Fixed constant id'>Fixed</span> <span class='issue identifier id'>issue</span> <span class='where identifier id'>where</span> <span class='rspec identifier id'>rspec</span> <span class='matchers identifier id'>matchers</span> <span class='weren identifier id'>weren</span><span class='bitand op'>&amp;</span><span class='comment val'>#8217;t available to expectations&lt;/li&gt;</span>
</pre>
<p>
&lt;/ul&gt; &lt;p&gt;0.2 (14 Mar 2009)&lt;/p&gt; &lt;ul&gt;
</p>
<pre class="code">
        <span class='lt op'>&lt;</span><span class='li identifier id'>li</span><span class='gt op'>&gt;</span><span class='Complete constant id'>Complete</span> <span class='rewrite identifier id'>rewrite</span><span class='comma token'>,</span> <span class='with identifier id'>with</span> <span class='tests identifier id'>tests</span> <span class='and and kw'>and</span> <span class='classes identifier id'>classes</span> <span class='and and kw'>and</span> <span class='stuff identifier id'>stuff</span> <span class='this identifier id'>this</span> <span class='time identifier id'>time</span><span class='dot token'>.</span><span class='lt op'>&lt;</span><span class='regexp val'>/li&gt;
</span></pre>
<p>
&lt;/ul&gt; &lt;p&gt;If you get an &amp;#8216;unexpected return&amp;#8217;
error, remove the return statement from your expectation, and just put the
return value on the last line of the <em>expect</em> block.&lt;/p&gt;
&lt;p&gt;0.1.2 (13 Feb 2009)&lt;/p&gt; &lt;ul&gt;
</p>
<pre class="code">
        <span class='lt op'>&lt;</span><span class='li identifier id'>li</span><span class='gt op'>&gt;</span><span class='Make constant id'>Make</span> <span class='sure identifier id'>sure</span> <span class='lt op'>&lt;</span><span class='span identifier id'>span</span> <span class='class class kw'>class</span><span class='assign token'>=</span><span class='string val'>&quot;caps&quot;</span><span class='gt op'>&gt;</span><span class='README constant id'>README</span><span class='lt op'>&lt;</span><span class='regexp val'>/span&gt;.html appears in generated gem&lt;/</span><span class='li identifier id'>li</span><span class='gt op'>&gt;</span>
</pre>
<p>
&lt;/ul&gt; &lt;p&gt;0.1.1 (13 Feb 2009)&lt;/p&gt; &lt;ul&gt;
</p>
<pre class="code">
        <span class='lt op'>&lt;</span><span class='li identifier id'>li</span><span class='gt op'>&gt;</span><span class='Fix constant id'>Fix</span> <span class='permissions identifier id'>permissions</span> <span class='on identifier id'>on</span> <span class='installed identifier id'>installed</span> <span class='tmp identifier id'>tmp</span> <span class='directory identifier id'>directory</span><span class='dot token'>.</span><span class='lt op'>&lt;</span><span class='regexp val'>/li&gt;
</span></pre>
<p>
&lt;/ul&gt; &lt;p&gt;0.1.0 (13 Feb 2009)&lt;/p&gt; &lt;ul&gt;
</p>
<pre class="code">
        <span class='lt op'>&lt;</span><span class='li identifier id'>li</span><span class='gt op'>&gt;</span><span class='First constant id'>First</span> <span class='release identifier id'>release</span> <span class='as identifier id'>as</span> <span class='a identifier id'>a</span> <span class='gem identifier id'>gem</span><span class='dot token'>.</span><span class='lt op'>&lt;</span><span class='regexp val'>/li&gt;
</span></pre>
<p>
&lt;/ul&gt; &lt;h2&gt;To Do&lt;/h2&gt; &lt;ul&gt;
</p>
<pre class="code">
        <span class='lt op'>&lt;</span><span class='li identifier id'>li</span><span class='gt op'>&gt;</span><span class='Add constant id'>Add</span> <span class='examples identifier id'>examples</span><span class='lt op'>&lt;</span><span class='regexp val'>/li&gt;
        &lt;li&gt;Make control requests RESTful?&lt;/</span><span class='li identifier id'>li</span><span class='gt op'>&gt;</span>
        <span class='lt op'>&lt;</span><span class='li identifier id'>li</span><span class='gt op'>&gt;</span><span class='Make constant id'>Make</span> <span class='main identifier id'>main</span> <span class='hostname identifier id'>hostname</span> <span class='configurable? fid id'>configurable?</span><span class='lt op'>&lt;</span><span class='regexp val'>/li&gt;
        &lt;li&gt;Show label in verification error for expected requests that weren&amp;#8217;t received&lt;/</span><span class='li identifier id'>li</span><span class='gt op'>&gt;</span>
        <span class='lt op'>&lt;</span><span class='li identifier id'>li</span><span class='gt op'>&gt;</span><span class='Add constant id'>Add</span> <span class='facility identifier id'>facility</span> <span class='to identifier id'>to</span> <span class='stub identifier id'>stub</span> <span class='as identifier id'>as</span> <span class='well identifier id'>well</span> <span class='as identifier id'>as</span> <span class='mock identifier id'>mock</span> <span class='requests identifier id'>requests</span><span class='lt op'>&lt;</span><span class='regexp val'>/li&gt;
        &lt;li&gt;Allow more flexibility in request ordering&lt;/</span><span class='li identifier id'>li</span><span class='gt op'>&gt;</span>
        <span class='lt op'>&lt;</span><span class='li identifier id'>li</span><span class='gt op'>&gt;</span><span class='Allow constant id'>Allow</span> <span class='user identifier id'>user</span><span class='minus op'>-</span><span class='specific identifier id'>specific</span> <span class='helper identifier id'>helper</span> <span class='files identifier id'>files</span> <span class='in in kw'>in</span> <span class='installation identifier id'>installation</span> <span class='dir identifier id'>dir</span><span class='lt op'>&lt;</span><span class='regexp val'>/li&gt;
        &lt;li&gt;Check install/</span><span class='run identifier id'>run</span> <span class='behaviour identifier id'>behaviour</span> <span class='when when kw'>when</span> <span class='development identifier id'>development</span> <span class='dependencies identifier id'>dependencies</span> <span class='are identifier id'>are</span> <span class='not not kw'>not</span> <span class='installed identifier id'>installed</span><span class='lt op'>&lt;</span><span class='regexp val'>/li&gt;
        &lt;li&gt;Provide Ruby &lt;span class=&quot;caps&quot;&gt;API&lt;/s</span><span class='pan identifier id'>pan</span><span class='gt op'>&gt;</span> <span class='to identifier id'>to</span> <span class='set identifier id'>set</span> <span class='expectations identifier id'>expectations</span> <span class='etc identifier id'>etc</span><span class='lt op'>&lt;</span><span class='regexp val'>/li&gt;
        &lt;li&gt;Return the expected content type even if expectation fails&lt;/</span><span class='li identifier id'>li</span><span class='gt op'>&gt;</span>
</pre>
<p>
&lt;/ul&gt;
</p>

</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> Â©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>