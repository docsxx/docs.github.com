<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>cpjolicoeur's cerberus - Class: MUCClientTest - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/cpjolicoeur/commits/cerberus/master" rel="alternate" title="Recent Commits to cerberus:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("cpjolicoeur", "cerberus", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='cpjolicoeur/cerberus/blob/0fa00750ae22df8c262f9a44831d6011e04e2ad0' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='cpjolicoeur/cerberus/blob/0fa00750ae22df8c262f9a44831d6011e04e2ad0' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("cpjolicoeur", "cerberus", "0fa00750ae22df8c262f9a44831d6011e04e2ad0", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/cpjolicoeur/cerberus/tree/">Source</a></li>
            <li class=""><a href="http://github.com/cpjolicoeur/cerberus/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/cpjolicoeur/cerberus/network">Network</a></li>            
            <li class=""><a href="http://github.com/cpjolicoeur/cerberus/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/cpjolicoeur/cerberus">Wiki</a></li>
            <li class=""><a href="http://github.com/cpjolicoeur/cerberus/graphs">Graphs</a></li>                    
            <li class="active"><a href="/cpjolicoeur/cerberus">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/cpjolicoeur">cpjolicoeur</a> / <b><a href="http://github.com/cpjolicoeur/cerberus/tree">cerberus</a></b>        
                <a id="namespaces_button" rel="cpjolicoeur/cerberus/blob/0fa00750ae22df8c262f9a44831d6011e04e2ad0" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="cpjolicoeur/cerberus/blob/0fa00750ae22df8c262f9a44831d6011e04e2ad0" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class MUCClientTest">
  <h1>Class: MUCClientTest</h1>
  <div class="section inheritance">
  <ul>
  <li>Test::Unit::TestCase</li><ul><li>MUCClientTest</li>
  </ul></ul>
</div><div class="section mixins">
  <h2>Included Modules</h2>
  <p>ClientTester</p>
</div><div class="section constants">
  
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#muc_config_acknowledgement-instance_method">#muc_config_acknowledgement</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#muc_config_form-instance_method">#muc_config_form</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
example 150 from XEP-0045.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#test_banned_users-instance_method">#test_banned_users</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#test_configuration-instance_method">#test_configuration</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
JEP-0045: 10.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#test_custom_exit_message-instance_method">#test_custom_exit_message</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#test_enter_room-instance_method">#test_enter_room</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
JEP-0045: 6.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#test_enter_room_password-instance_method">#test_enter_room_password</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#test_exit_room-instance_method">#test_exit_room</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#test_joins-instance_method">#test_joins</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#test_locked_room-instance_method">#test_locked_room</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#test_max_users-instance_method">#test_max_users</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#test_members_only_room-instance_method">#test_members_only_room</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#test_message_callback-instance_method">#test_message_callback</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#test_new1-instance_method">#test_new1</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#test_nick-instance_method">#test_nick</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#test_nickname_conflict-instance_method">#test_nickname_conflict</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#test_presence_callbacks-instance_method">#test_presence_callbacks</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#test_send-instance_method">#test_send</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>muc_config_acknowledgement</h3>
</div><div id="muc_config_acknowledgement-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>muc_config_acknowledgement</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb', line 819</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/0fa00750ae22df8c262f9a44831d6011e04e2ad0/lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb#L819">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">819
820
821
822
823
824
825
826
827
828
829</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='muc_config_acknowledgement identifier id'>muc_config_acknowledgement</span>
    <span class='string val'>&quot;&lt;iq from='darkcave@macbeth.shakespeare.lit'
        id='config1'
        to='crone1@shakespeare.lit/desktop'&gt;
      &lt;query xmlns='http://jabber.org/protocol/muc#owner'&gt;
        &lt;x xmlns='jabber:x:data' type='result'&gt;
          &lt;field var='muc#roomconfig_roomname'&gt;&lt;value&gt;Dunsinane&lt;/value&gt;&lt;/field&gt;
        &lt;/x&gt;
      &lt;/query&gt;
    &lt;/iq&gt;&quot;</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>muc_config_form</h3>
</div><div id="muc_config_form-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>muc_config_form</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
example 150 from XEP-0045
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb', line 655</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/0fa00750ae22df8c262f9a44831d6011e04e2ad0/lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb#L655">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712
713
714
715
716
717
718
719
720
721
722
723
724
725
726
727
728
729
730
731
732
733
734
735
736
737
738
739
740
741
742
743
744
745
746
747
748
749
750
751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766
767
768
769
770
771
772
773
774
775
776
777
778
779
780
781
782
783
784
785
786
787
788
789
790
791
792
793
794
795
796
797
798
799
800
801
802
803
804
805
806
807
808
809
810
811
812
813
814
815
816
817</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='muc_config_form identifier id'>muc_config_form</span>
    <span class='string val'>&quot;&lt;iq from='darkcave@macbeth.shakespeare.lit'
        id='config1'
        to='crone1@shakespeare.lit/desktop'
        type='result'&gt;
      &lt;query xmlns='http://jabber.org/protocol/muc#owner'&gt;
        &lt;x xmlns='jabber:x:data' type='form'&gt;
          &lt;title&gt;Configuration for \&quot;darkcave\&quot; Room&lt;/title&gt;
          &lt;instructions&gt;
            Complete this form to make changes to
            the configuration of your room.
          &lt;/instructions&gt;
          &lt;field
              type='hidden'
              var='FORM_TYPE'&gt;
            &lt;value&gt;http://jabber.org/protocol/muc#roomconfig&lt;/value&gt;
          &lt;/field&gt;
          &lt;field
              label='Natural-Language Room Name'
              type='text-single'
              var='muc#roomconfig_roomname'&gt;
            &lt;value&gt;A Dark Cave&lt;/value&gt;
          &lt;/field&gt;
          &lt;field
              label='Short Description of Room'
              type='text-single'
              var='muc#roomconfig_roomdesc'&gt;
            &lt;value&gt;The place for all good witches!&lt;/value&gt;
          &lt;/field&gt;
          &lt;field
              label='Enable Public Logging?'
              type='boolean'
              var='muc#roomconfig_enablelogging'&gt;
            &lt;value&gt;0&lt;/value&gt;
          &lt;/field&gt;
          &lt;field
              label='Allow Occupants to Change Subject?'
              type='boolean'
              var='muc#roomconfig_changesubject'&gt;
            &lt;value&gt;0&lt;/value&gt;
          &lt;/field&gt;
          &lt;field
              label='Allow Occupants to Invite Others?'
              type='boolean'
              var='muc#roomconfig_allowinvites'&gt;
            &lt;value&gt;0&lt;/value&gt;
          &lt;/field&gt;
          &lt;field
              label='Maximum Number of Occupants'
              type='list-single'
              var='muc#roomconfig_maxusers'&gt;
            &lt;value&gt;10&lt;/value&gt;
            &lt;option label='10'&gt;&lt;value&gt;10&lt;/value&gt;&lt;/option&gt;
            &lt;option label='20'&gt;&lt;value&gt;20&lt;/value&gt;&lt;/option&gt;
            &lt;option label='30'&gt;&lt;value&gt;30&lt;/value&gt;&lt;/option&gt;
            &lt;option label='50'&gt;&lt;value&gt;50&lt;/value&gt;&lt;/option&gt;
            &lt;option label='100'&gt;&lt;value&gt;100&lt;/value&gt;&lt;/option&gt;
            &lt;option label='None'&gt;&lt;value&gt;none&lt;/value&gt;&lt;/option&gt;
          &lt;/field&gt;
          &lt;field
              label='Roles for which Presence is Broadcast'
              type='list-multi'
              var='muc#roomconfig_presencebroadcast'&gt;
            &lt;value&gt;moderator&lt;/value&gt;
            &lt;value&gt;participant&lt;/value&gt;
            &lt;value&gt;visitor&lt;/value&gt;
            &lt;option label='Moderator'&gt;&lt;value&gt;moderator&lt;/value&gt;&lt;/option&gt;
            &lt;option label='Participant'&gt;&lt;value&gt;participant&lt;/value&gt;&lt;/option&gt;
            &lt;option label='Visitor'&gt;&lt;value&gt;visitor&lt;/value&gt;&lt;/option&gt;
          &lt;/field&gt;
          &lt;field
              label='Roles and Affiliations that May Retrieve Member List'
              type='list-multi'
              var='muc#roomconfig_getmemberlist'&gt;
            &lt;value&gt;moderator&lt;/value&gt;
            &lt;value&gt;participant&lt;/value&gt;
            &lt;value&gt;visitor&lt;/value&gt;
            &lt;option label='Moderator'&gt;&lt;value&gt;moderator&lt;/value&gt;&lt;/option&gt;
            &lt;option label='Participant'&gt;&lt;value&gt;participant&lt;/value&gt;&lt;/option&gt;
            &lt;option label='Visitor'&gt;&lt;value&gt;visitor&lt;/value&gt;&lt;/option&gt;
          &lt;/field&gt;
          &lt;field
              label='Make Room Publicly Searchable?'
              type='boolean'
              var='muc#roomconfig_publicroom'&gt;
            &lt;value&gt;0&lt;/value&gt;
          &lt;/field&gt;
          &lt;field
              label='Make Room Persistent?'
              type='boolean'
              var='muc#roomconfig_persistentroom'&gt;
            &lt;value&gt;0&lt;/value&gt;
          &lt;/field&gt;
          &lt;field
              label='Make Room Moderated?'
              type='boolean'
              var='muc#roomconfig_moderatedroom'&gt;
            &lt;value&gt;0&lt;/value&gt;
          &lt;/field&gt;
          &lt;field
              label='Make Room Members Only?'
              type='boolean'
              var='muc#roomconfig_membersonly'&gt;
            &lt;value&gt;0&lt;/value&gt;
          &lt;/field&gt;
          &lt;field
              label='Password Required for Entry?'
              type='boolean'
              var='muc#roomconfig_passwordprotectedroom'&gt;
            &lt;value&gt;1&lt;/value&gt;
          &lt;/field&gt;
          &lt;field type='fixed'&gt;
            &lt;value&gt;
              If a password is required to enter this room,
              you must specify the password below.
            &lt;/value&gt;
          &lt;/field&gt;
          &lt;field
              label='Password'
              type='text-private'
              var='muc#roomconfig_roomsecret'&gt;
            &lt;value&gt;cauldronburn&lt;/value&gt;
          &lt;/field&gt;
          &lt;field
              label='Who May Discover Real JIDs?'
              type='list-single'
              var='muc#roomconfig_whois'&gt;
            &lt;value&gt;moderators&lt;/value&gt;
            &lt;option label='Moderators Only'&gt;
              &lt;value&gt;moderators&lt;/value&gt;
            &lt;/option&gt;
            &lt;option label='Anyone'&gt;
              &lt;value&gt;anyone&lt;/value&gt;
            &lt;/option&gt;
          &lt;/field&gt;
          &lt;field type='fixed'&gt;
            &lt;value&gt;
              You may specify additional people who have
              administrative privileges in the room. Please
              provide one Jabber ID per line.
            &lt;/value&gt;
          &lt;/field&gt;
          &lt;field
              label='Room Admins'
              type='jid-multi'
              var='muc#roomconfig_roomadmins'&gt;
            &lt;value&gt;wiccarocks@shakespeare.lit&lt;/value&gt;
            &lt;value&gt;hecate@shakespeare.lit&lt;/value&gt;
          &lt;/field&gt;
          &lt;field type='fixed'&gt;
            &lt;value&gt;
              You may specify additional owners for this
              room. Please provide one Jabber ID per line.
            &lt;/value&gt;
          &lt;/field&gt;
          &lt;field
              label='Room Owners'
              type='jid-multi'
              var='muc#roomconfig_roomowners'/&gt;
        &lt;/x&gt;
      &lt;/query&gt;
    &lt;/iq&gt;&quot;</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>test_banned_users</h3>
</div><div id="test_banned_users-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>test_banned_users</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb', line 142</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/0fa00750ae22df8c262f9a44831d6011e04e2ad0/lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb#L142">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='test_banned_users identifier id'>test_banned_users</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Presence constant id'>Presence</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='rparen token'>)</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit' to='hag66@shakespeare.lit/pda' type='error'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;error code='403' type='auth'&gt;&lt;forbidden xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/&gt;&lt;/error&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>

  <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='MUC constant id'>MUC</span><span class='colon2 op'>::</span><span class='MUCClient constant id'>MUCClient</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@client ivar id'>@client</span><span class='rparen token'>)</span>
  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='my_jid identifier id'>my_jid</span> <span class='assign token'>=</span> <span class='string val'>'hag66@shakespeare.lit/pda'</span>
  <span class='assert_raises identifier id'>assert_raises</span><span class='lparen token'>(</span><span class='ServerError constant id'>ServerError</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span>
    <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/thirdwitch'</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='notop op'>!</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>

  <span class='wait_state identifier id'>wait_state</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>test_configuration</h3>
</div><div id="test_configuration-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>test_configuration</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
JEP-0045: 10.2 Room Configuration
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb', line 596</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/0fa00750ae22df8c262f9a44831d6011e04e2ad0/lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb#L596">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='test_configuration identifier id'>test_configuration</span>
  <span class='room identifier id'>room</span> <span class='assign token'>=</span> <span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/thirdwitch'</span><span class='rparen token'>)</span>
  <span class='jid identifier id'>jid</span> <span class='assign token'>=</span> <span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'hag66@shakespeare.lit/pda'</span><span class='rparen token'>)</span>

  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span>
        <span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/thirdwitch' to='hag66@shakespeare.lit/pda'&gt;&quot;</span> <span class='plus op'>+</span>
        <span class='string val'>&quot;&lt;x xmlns='http://jabber.org/protocol/muc#user'&gt;&lt;item affiliation='owner' role='moderator'/&gt;&lt;/x&gt;&quot;</span> <span class='plus op'>+</span>
        <span class='string val'>&quot;&lt;/presence&gt;&quot;</span>
    <span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>

  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='iq identifier id'>iq</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='Iq constant id'>Iq</span><span class='comma token'>,</span><span class='iq identifier id'>iq</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='jid identifier id'>jid</span><span class='comma token'>,</span> <span class='iq identifier id'>iq</span><span class='dot token'>.</span><span class='from identifier id'>from</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='room identifier id'>room</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span><span class='comma token'>,</span> <span class='iq identifier id'>iq</span><span class='dot token'>.</span><span class='to identifier id'>to</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='symbol val'>:get</span><span class='comma token'>,</span> <span class='iq identifier id'>iq</span><span class='dot token'>.</span><span class='type identifier id'>type</span><span class='rparen token'>)</span>

    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='MUC constant id'>MUC</span><span class='colon2 op'>::</span><span class='IqQueryMUCOwner constant id'>IqQueryMUCOwner</span><span class='comma token'>,</span> <span class='iq identifier id'>iq</span><span class='dot token'>.</span><span class='first_element identifier id'>first_element</span><span class='lparen token'>(</span><span class='string val'>'query'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>

    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='muc_config_form identifier id'>muc_config_form</span><span class='dot token'>.</span><span class='sub identifier id'>sub</span><span class='lparen token'>(</span><span class='string val'>&quot;id='config1'&quot;</span><span class='comma token'>,</span><span class='dstring node'>&quot;id='#{iq.id}'&quot;</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>

  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='room_config identifier id'>room_config</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='Iq constant id'>Iq</span><span class='comma token'>,</span> <span class='room_config identifier id'>room_config</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='room identifier id'>room</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span><span class='comma token'>,</span> <span class='room_config identifier id'>room_config</span><span class='dot token'>.</span><span class='to identifier id'>to</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='symbol val'>:set</span><span class='comma token'>,</span> <span class='room_config identifier id'>room_config</span><span class='dot token'>.</span><span class='type identifier id'>type</span><span class='rparen token'>)</span>

    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='MUC constant id'>MUC</span><span class='colon2 op'>::</span><span class='IqQueryMUCOwner constant id'>IqQueryMUCOwner</span><span class='comma token'>,</span> <span class='room_config identifier id'>room_config</span><span class='dot token'>.</span><span class='first_element identifier id'>first_element</span><span class='lparen token'>(</span><span class='string val'>'query'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>

    <span class='form identifier id'>form</span> <span class='assign token'>=</span> <span class='room_config identifier id'>room_config</span><span class='dot token'>.</span><span class='first_element identifier id'>first_element</span><span class='lparen token'>(</span><span class='string val'>'query/x'</span><span class='rparen token'>)</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Dataforms constant id'>Dataforms</span><span class='colon2 op'>::</span><span class='XData constant id'>XData</span><span class='comma token'>,</span> <span class='form identifier id'>form</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='symbol val'>:submit</span><span class='comma token'>,</span> <span class='form identifier id'>form</span><span class='dot token'>.</span><span class='type identifier id'>type</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='form identifier id'>form</span><span class='dot token'>.</span><span class='elements identifier id'>elements</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='string val'>'muc#roomconfig_roomname'</span><span class='comma token'>,</span> <span class='form identifier id'>form</span><span class='dot token'>.</span><span class='first_element identifier id'>first_element</span><span class='lparen token'>(</span><span class='string val'>'field'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='var identifier id'>var</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='string val'>'Dunsinane'</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='form identifier id'>form</span><span class='dot token'>.</span><span class='first_element identifier id'>first_element</span><span class='lparen token'>(</span><span class='string val'>'field'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='values identifier id'>values</span><span class='rparen token'>)</span>

    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='muc_config_acknowledgement identifier id'>muc_config_acknowledgement</span><span class='dot token'>.</span><span class='sub identifier id'>sub</span><span class='lparen token'>(</span><span class='string val'>&quot;id='config1'&quot;</span><span class='comma token'>,</span><span class='dstring node'>&quot;id='#{room_config.id}'&quot;</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>

  <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='MUC constant id'>MUC</span><span class='colon2 op'>::</span><span class='MUCClient constant id'>MUCClient</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@client ivar id'>@client</span><span class='rparen token'>)</span>
  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='my_jid identifier id'>my_jid</span> <span class='assign token'>=</span> <span class='jid identifier id'>jid</span>
  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='room identifier id'>room</span><span class='rparen token'>)</span>
  <span class='wait_state identifier id'>wait_state</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='true true kw'>true</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='owner? fid id'>owner?</span><span class='rparen token'>)</span>

  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='dstring node'>%w{muc#roomconfig_roomname muc#roomconfig_roomdesc
    muc#roomconfig_enablelogging muc#roomconfig_changesubject muc#roomconfig_allowinvites
    muc#roomconfig_maxusers muc#roomconfig_presencebroadcast muc#roomconfig_getmemberlist
    muc#roomconfig_publicroom muc#roomconfig_persistentroom muc#roomconfig_moderatedroom
    muc#roomconfig_membersonly muc#roomconfig_passwordprotectedroom muc#roomconfig_roomsecret
    muc#roomconfig_whois muc#roomconfig_roomadmins muc#roomconfig_roomowners}</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='get_room_configuration identifier id'>get_room_configuration</span><span class='rparen token'>)</span>
  <span class='wait_state identifier id'>wait_state</span>

  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='submit_room_configuration identifier id'>submit_room_configuration</span><span class='lparen token'>(</span> <span class='string val'>'muc#roomconfig_roomname'</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'Dunsinane'</span> <span class='rparen token'>)</span>
  <span class='wait_state identifier id'>wait_state</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>test_custom_exit_message</h3>
</div><div id="test_custom_exit_message-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>test_custom_exit_message</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb', line 252</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/0fa00750ae22df8c262f9a44831d6011e04e2ad0/lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb#L252">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='test_custom_exit_message identifier id'>test_custom_exit_message</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Presence constant id'>Presence</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='rparen token'>)</span>
    <span class='assert_nil identifier id'>assert_nil</span><span class='lparen token'>(</span><span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='type identifier id'>type</span><span class='rparen token'>)</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/thirdwitch' to='hag66@shakespeare.lit/pda'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;x xmlns='http://jabber.org/protocol/muc#user'&gt;&lt;item affiliation='member' role='participant'/&gt;&lt;/x&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Presence constant id'>Presence</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='symbol val'>:unavailable</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='type identifier id'>type</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'hag66@shakespeare.lit/pda'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='from identifier id'>from</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='string val'>'gone where the goblins go'</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='status identifier id'>status</span><span class='rparen token'>)</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/thirdwitch' to='hag66@shakespeare.lit/pda' type='unavailable'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;x xmlns='http://jabber.org/protocol/muc#user'&gt;&lt;item affiliation='member' role='none'/&gt;&lt;/x&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>

  <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='MUC constant id'>MUC</span><span class='colon2 op'>::</span><span class='MUCClient constant id'>MUCClient</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@client ivar id'>@client</span><span class='rparen token'>)</span>
  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='my_jid identifier id'>my_jid</span> <span class='assign token'>=</span> <span class='string val'>'hag66@shakespeare.lit/pda'</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/thirdwitch'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>
  <span class='wait_state identifier id'>wait_state</span>

  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='exit identifier id'>exit</span><span class='lparen token'>(</span><span class='string val'>'gone where the goblins go'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='notop op'>!</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>
  <span class='wait_state identifier id'>wait_state</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>test_enter_room</h3>
</div><div id="test_enter_room-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>test_enter_room</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
JEP-0045: 6.3 Entering a Room
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb', line 24</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/0fa00750ae22df8c262f9a44831d6011e04e2ad0/lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb#L24">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='test_enter_room identifier id'>test_enter_room</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Presence constant id'>Presence</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'hag66@shakespeare.lit/pda'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='from identifier id'>from</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/thirdwitch'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='to identifier id'>to</span><span class='rparen token'>)</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit' to='hag66@shakespeare.lit/pda' type='error'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;error code='400' type='modify'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;jid-malformed xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;/error&gt;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Presence constant id'>Presence</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'hag66@shakespeare.lit/pda'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='from identifier id'>from</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/thirdwitch'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='to identifier id'>to</span><span class='rparen token'>)</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/firstwitch' to='hag66@shakespeare.lit/pda'&gt;&quot;</span> <span class='plus op'>+</span>
        <span class='string val'>&quot;&lt;x xmlns='http://jabber.org/protocol/muc#user'&gt;&lt;item affiliation='owner' role='moderator'/&gt;&lt;/x&gt;&quot;</span> <span class='plus op'>+</span>
        <span class='string val'>&quot;&lt;/presence&gt;&quot;</span> <span class='plus op'>+</span>
        <span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/secondwitch' to='hag66@shakespeare.lit/pda'&gt;&quot;</span> <span class='plus op'>+</span>
        <span class='string val'>&quot;&lt;x xmlns='http://jabber.org/protocol/muc#user'&gt;&lt;item affiliation='admin' role='moderator'/&gt;&lt;/x&gt;&quot;</span> <span class='plus op'>+</span>
        <span class='string val'>&quot;&lt;/presence&gt;&quot;</span> <span class='plus op'>+</span>
        <span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/thirdwitch' to='hag66@shakespeare.lit/pda'&gt;&quot;</span> <span class='plus op'>+</span>
        <span class='string val'>&quot;&lt;x xmlns='http://jabber.org/protocol/muc#user'&gt;&lt;item affiliation='member' role='participant'/&gt;&lt;/x&gt;&quot;</span> <span class='plus op'>+</span>
        <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>


  <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='MUC constant id'>MUC</span><span class='colon2 op'>::</span><span class='MUCClient constant id'>MUCClient</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@client ivar id'>@client</span><span class='rparen token'>)</span>
  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='my_jid identifier id'>my_jid</span> <span class='assign token'>=</span> <span class='string val'>'hag66@shakespeare.lit/pda'</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='notop op'>!</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>
  <span class='assert_nil identifier id'>assert_nil</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='room identifier id'>room</span><span class='rparen token'>)</span>

  <span class='assert_raises identifier id'>assert_raises</span><span class='lparen token'>(</span><span class='ServerError constant id'>ServerError</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span>
    <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/thirdwitch'</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
  <span class='wait_state identifier id'>wait_state</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='notop op'>!</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>
  <span class='assert_nil identifier id'>assert_nil</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='room identifier id'>room</span><span class='rparen token'>)</span>

  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/thirdwitch'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='wait_state identifier id'>wait_state</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='string val'>'darkcave'</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='room identifier id'>room</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='roster identifier id'>roster</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='rparen token'>)</span>
  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='roster identifier id'>roster</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='resource identifier id'>resource</span><span class='comma token'>,</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='resource identifier id'>resource</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='from identifier id'>from</span><span class='dot token'>.</span><span class='resource identifier id'>resource</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='string val'>'darkcave'</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='from identifier id'>from</span><span class='dot token'>.</span><span class='node identifier id'>node</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='string val'>'macbeth.shakespeare.lit'</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='from identifier id'>from</span><span class='dot token'>.</span><span class='domain identifier id'>domain</span><span class='rparen token'>)</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='String constant id'>String</span><span class='comma token'>,</span> <span class='resource identifier id'>resource</span><span class='rparen token'>)</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Presence constant id'>Presence</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='rparen token'>)</span>
    <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='dstring node'>%w(firstwitch secondwitch thirdwitch)</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='resource identifier id'>resource</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='MUC constant id'>MUC</span><span class='colon2 op'>::</span><span class='XMUCUser constant id'>XMUCUser</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='x identifier id'>x</span><span class='rparen token'>)</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Array constant id'>Array</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='x identifier id'>x</span><span class='dot token'>.</span><span class='items identifier id'>items</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='x identifier id'>x</span><span class='dot token'>.</span><span class='items identifier id'>items</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='symbol val'>:owner</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='roster identifier id'>roster</span><span class='lbrack token'>[</span><span class='string val'>'firstwitch'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='x identifier id'>x</span><span class='dot token'>.</span><span class='items identifier id'>items</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='affiliation identifier id'>affiliation</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='symbol val'>:moderator</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='roster identifier id'>roster</span><span class='lbrack token'>[</span><span class='string val'>'firstwitch'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='x identifier id'>x</span><span class='dot token'>.</span><span class='items identifier id'>items</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='role identifier id'>role</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='symbol val'>:admin</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='roster identifier id'>roster</span><span class='lbrack token'>[</span><span class='string val'>'secondwitch'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='x identifier id'>x</span><span class='dot token'>.</span><span class='items identifier id'>items</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='affiliation identifier id'>affiliation</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='symbol val'>:moderator</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='roster identifier id'>roster</span><span class='lbrack token'>[</span><span class='string val'>'secondwitch'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='x identifier id'>x</span><span class='dot token'>.</span><span class='items identifier id'>items</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='role identifier id'>role</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='symbol val'>:member</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='roster identifier id'>roster</span><span class='lbrack token'>[</span><span class='string val'>'thirdwitch'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='x identifier id'>x</span><span class='dot token'>.</span><span class='items identifier id'>items</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='affiliation identifier id'>affiliation</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='symbol val'>:participant</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='roster identifier id'>roster</span><span class='lbrack token'>[</span><span class='string val'>'thirdwitch'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='x identifier id'>x</span><span class='dot token'>.</span><span class='items identifier id'>items</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='role identifier id'>role</span><span class='rparen token'>)</span>
  <span class='assert_nil identifier id'>assert_nil</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='roster identifier id'>roster</span><span class='lbrack token'>[</span><span class='string val'>'thirdwitch'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='x identifier id'>x</span><span class='dot token'>.</span><span class='items identifier id'>items</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='jid identifier id'>jid</span><span class='rparen token'>)</span>

  <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/thirdwitch' to='crone1@shakespeare.lit/desktop'&gt;&quot;</span> <span class='plus op'>+</span>
       <span class='string val'>&quot;&lt;x xmlns='http://jabber.org/protocol/muc#user'&gt;&lt;item affiliation='none' jid='hag66@shakespeare.lit/pda' role='participant'/&gt;&lt;/x&gt;&quot;</span> <span class='plus op'>+</span>
       <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='sleep identifier id'>sleep</span> <span class='integer val'>0</span><span class='integer val'>.1</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='roster identifier id'>roster</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='symbol val'>:none</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='roster identifier id'>roster</span><span class='lbrack token'>[</span><span class='string val'>'thirdwitch'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='x identifier id'>x</span><span class='dot token'>.</span><span class='items identifier id'>items</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='affiliation identifier id'>affiliation</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='symbol val'>:participant</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='roster identifier id'>roster</span><span class='lbrack token'>[</span><span class='string val'>'thirdwitch'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='x identifier id'>x</span><span class='dot token'>.</span><span class='items identifier id'>items</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='role identifier id'>role</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'hag66@shakespeare.lit/pda'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='roster identifier id'>roster</span><span class='lbrack token'>[</span><span class='string val'>'thirdwitch'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='x identifier id'>x</span><span class='dot token'>.</span><span class='items identifier id'>items</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='jid identifier id'>jid</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>test_enter_room_password</h3>
</div><div id="test_enter_room_password-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>test_enter_room_password</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb', line 96</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/0fa00750ae22df8c262f9a44831d6011e04e2ad0/lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb#L96">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='test_enter_room_password identifier id'>test_enter_room_password</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Presence constant id'>Presence</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='rparen token'>)</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit' to='hag66@shakespeare.lit/pda' type='error'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;error code='401' type='auth'&gt;&lt;not-authorized xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/&gt;&lt;/error&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Presence constant id'>Presence</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='string val'>'cauldron'</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='x identifier id'>x</span><span class='dot token'>.</span><span class='password identifier id'>password</span><span class='rparen token'>)</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/thirdwitch' to='hag66@shakespeare.lit/pda'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;x xmlns='http://jabber.org/protocol/muc#user'&gt;&lt;item affiliation='member' role='participant'/&gt;&lt;/x&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>

  <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='MUC constant id'>MUC</span><span class='colon2 op'>::</span><span class='MUCClient constant id'>MUCClient</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@client ivar id'>@client</span><span class='rparen token'>)</span>
  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='my_jid identifier id'>my_jid</span> <span class='assign token'>=</span> <span class='string val'>'hag66@shakespeare.lit/pda'</span>
  <span class='assert_raises identifier id'>assert_raises</span><span class='lparen token'>(</span><span class='ServerError constant id'>ServerError</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span>
    <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/thirdwitch'</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
  <span class='wait_state identifier id'>wait_state</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='notop op'>!</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>

  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/thirdwitch'</span><span class='comma token'>,</span> <span class='string val'>'cauldron'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='wait_state identifier id'>wait_state</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>test_exit_room</h3>
</div><div id="test_exit_room-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>test_exit_room</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb', line 212</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/0fa00750ae22df8c262f9a44831d6011e04e2ad0/lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb#L212">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='test_exit_room identifier id'>test_exit_room</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Presence constant id'>Presence</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='rparen token'>)</span>
    <span class='assert_nil identifier id'>assert_nil</span><span class='lparen token'>(</span><span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='type identifier id'>type</span><span class='rparen token'>)</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/thirdwitch' to='hag66@shakespeare.lit/pda'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;x xmlns='http://jabber.org/protocol/muc#user'&gt;&lt;item affiliation='member' role='participant'/&gt;&lt;/x&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Presence constant id'>Presence</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='symbol val'>:unavailable</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='type identifier id'>type</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'hag66@shakespeare.lit/pda'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='from identifier id'>from</span><span class='rparen token'>)</span>
    <span class='assert_nil identifier id'>assert_nil</span><span class='lparen token'>(</span><span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='status identifier id'>status</span><span class='rparen token'>)</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/secondwitch' to='hag66@shakespeare.lit/pda'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;x xmlns='http://jabber.org/protocol/muc#user'&gt;&lt;item affiliation='member' role='participant'/&gt;&lt;/x&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/thirdwitch' to='hag66@shakespeare.lit/pda' type='unavailable'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;x xmlns='http://jabber.org/protocol/muc#user'&gt;&lt;item affiliation='member' role='none'/&gt;&lt;/x&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>

  <span class='ignored_stanzas identifier id'>ignored_stanzas</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='@client ivar id'>@client</span><span class='dot token'>.</span><span class='add_stanza_callback identifier id'>add_stanza_callback</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='stanza identifier id'>stanza</span><span class='bitor op'>|</span>
    <span class='ignored_stanzas identifier id'>ignored_stanzas</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
  <span class='rbrace token'>}</span>

  <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='MUC constant id'>MUC</span><span class='colon2 op'>::</span><span class='MUCClient constant id'>MUCClient</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@client ivar id'>@client</span><span class='rparen token'>)</span>
  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='my_jid identifier id'>my_jid</span> <span class='assign token'>=</span> <span class='string val'>'hag66@shakespeare.lit/pda'</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='ignored_stanzas identifier id'>ignored_stanzas</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/thirdwitch'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='wait_state identifier id'>wait_state</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>

  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='ignored_stanzas identifier id'>ignored_stanzas</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='exit identifier id'>exit</span><span class='rparen token'>)</span>
  <span class='wait_state identifier id'>wait_state</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='notop op'>!</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='ignored_stanzas identifier id'>ignored_stanzas</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>test_joins</h3>
</div><div id="test_joins-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>test_joins</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb', line 281</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/0fa00750ae22df8c262f9a44831d6011e04e2ad0/lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb#L281">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='test_joins identifier id'>test_joins</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Presence constant id'>Presence</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='rparen token'>)</span>
    <span class='assert_nil identifier id'>assert_nil</span><span class='lparen token'>(</span><span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='type identifier id'>type</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'hag66@shakespeare.lit/pda'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='from identifier id'>from</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/thirdwitch'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='to identifier id'>to</span><span class='rparen token'>)</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/thirdwitch' to='hag66@shakespeare.lit/pda'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;x xmlns='http://jabber.org/protocol/muc#user'&gt;&lt;item affiliation='member' role='participant'/&gt;&lt;/x&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Presence constant id'>Presence</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='symbol val'>:unavailable</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='type identifier id'>type</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'hag66@shakespeare.lit/pda'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='from identifier id'>from</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/thirdwitch'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='to identifier id'>to</span><span class='rparen token'>)</span>
    <span class='assert_nil identifier id'>assert_nil</span><span class='lparen token'>(</span><span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='status identifier id'>status</span><span class='rparen token'>)</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/thirdwitch' to='hag66@shakespeare.lit/pda' type='unavailable'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;x xmlns='http://jabber.org/protocol/muc#user'&gt;&lt;item affiliation='member' role='none'/&gt;&lt;/x&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Presence constant id'>Presence</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='rparen token'>)</span>
    <span class='assert_nil identifier id'>assert_nil</span><span class='lparen token'>(</span><span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='type identifier id'>type</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'hag66@shakespeare.lit/pda'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='from identifier id'>from</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/fourthwitch'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='to identifier id'>to</span><span class='rparen token'>)</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/fourthwitch' to='hag66@shakespeare.lit/pda'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;x xmlns='http://jabber.org/protocol/muc#user'&gt;&lt;item affiliation='member' role='participant'/&gt;&lt;/x&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Presence constant id'>Presence</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='symbol val'>:unavailable</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='type identifier id'>type</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'hag66@shakespeare.lit/pda'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='from identifier id'>from</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/fourthwitch'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='to identifier id'>to</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='status identifier id'>status</span><span class='comma token'>,</span> <span class='string val'>'Exiting one last time'</span><span class='rparen token'>)</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/fourthwitch' to='hag66@shakespeare.lit/pda' type='unavailable'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;x xmlns='http://jabber.org/protocol/muc#user'&gt;&lt;item affiliation='member' role='none'/&gt;&lt;/x&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>

  <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='MUC constant id'>MUC</span><span class='colon2 op'>::</span><span class='MUCClient constant id'>MUCClient</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@client ivar id'>@client</span><span class='rparen token'>)</span>
  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='my_jid identifier id'>my_jid</span> <span class='assign token'>=</span> <span class='string val'>'hag66@shakespeare.lit/pda'</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/thirdwitch'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='wait_state identifier id'>wait_state</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>

  <span class='assert_raises identifier id'>assert_raises</span><span class='lparen token'>(</span><span class='RuntimeError constant id'>RuntimeError</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/thirdwitch'</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='assert_raises identifier id'>assert_raises</span><span class='lparen token'>(</span><span class='RuntimeError constant id'>RuntimeError</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/fourthwitch'</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>

  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='exit identifier id'>exit</span><span class='rparen token'>)</span>
  <span class='wait_state identifier id'>wait_state</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='notop op'>!</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>
  <span class='assert_raises identifier id'>assert_raises</span><span class='lparen token'>(</span><span class='RuntimeError constant id'>RuntimeError</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='exit identifier id'>exit</span> <span class='rbrace token'>}</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='notop op'>!</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>

  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/fourthwitch'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='wait_state identifier id'>wait_state</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>

  <span class='assert_raises identifier id'>assert_raises</span><span class='lparen token'>(</span><span class='RuntimeError constant id'>RuntimeError</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/thirdwitch'</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='assert_raises identifier id'>assert_raises</span><span class='lparen token'>(</span><span class='RuntimeError constant id'>RuntimeError</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/fourthwitch'</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>

  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='exit identifier id'>exit</span><span class='lparen token'>(</span><span class='string val'>'Exiting one last time'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='wait_state identifier id'>wait_state</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='notop op'>!</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>
  <span class='assert_raises identifier id'>assert_raises</span><span class='lparen token'>(</span><span class='RuntimeError constant id'>RuntimeError</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='exit identifier id'>exit</span> <span class='rbrace token'>}</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='notop op'>!</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>test_locked_room</h3>
</div><div id="test_locked_room-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>test_locked_room</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb', line 196</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/0fa00750ae22df8c262f9a44831d6011e04e2ad0/lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb#L196">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">196
197
198
199
200
201
202
203
204
205
206
207
208
209
210</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='test_locked_room identifier id'>test_locked_room</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit' to='hag66@shakespeare.lit/pda' type='error'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;error code='404' type='cancel'&gt;&lt;item-not-found xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/&gt;&lt;/error&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>

  <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='MUC constant id'>MUC</span><span class='colon2 op'>::</span><span class='MUCClient constant id'>MUCClient</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@client ivar id'>@client</span><span class='rparen token'>)</span>
  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='my_jid identifier id'>my_jid</span> <span class='assign token'>=</span> <span class='string val'>'hag66@shakespeare.lit/pda'</span>
  <span class='assert_raises identifier id'>assert_raises</span><span class='lparen token'>(</span><span class='ServerError constant id'>ServerError</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span>
    <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/thirdwitch'</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='notop op'>!</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>
  <span class='wait_state identifier id'>wait_state</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>test_max_users</h3>
</div><div id="test_max_users-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>test_max_users</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb', line 178</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/0fa00750ae22df8c262f9a44831d6011e04e2ad0/lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb#L178">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='test_max_users identifier id'>test_max_users</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Presence constant id'>Presence</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='rparen token'>)</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit' to='hag66@shakespeare.lit/pda' type='error'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;error code='503' type='wait'&gt;&lt;service-unavailable xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/&gt;&lt;/error&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>

  <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='MUC constant id'>MUC</span><span class='colon2 op'>::</span><span class='MUCClient constant id'>MUCClient</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@client ivar id'>@client</span><span class='rparen token'>)</span>
  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='my_jid identifier id'>my_jid</span> <span class='assign token'>=</span> <span class='string val'>'hag66@shakespeare.lit/pda'</span>
  <span class='assert_raises identifier id'>assert_raises</span><span class='lparen token'>(</span><span class='ServerError constant id'>ServerError</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span>
    <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/thirdwitch'</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='notop op'>!</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>

  <span class='wait_state identifier id'>wait_state</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>test_members_only_room</h3>
</div><div id="test_members_only_room-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>test_members_only_room</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb', line 124</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/0fa00750ae22df8c262f9a44831d6011e04e2ad0/lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb#L124">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='test_members_only_room identifier id'>test_members_only_room</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Presence constant id'>Presence</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='rparen token'>)</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit' to='hag66@shakespeare.lit/pda' type='error'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;error code='407' type='auth'&gt;&lt;registration-required xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/&gt;&lt;/error&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>

  <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='MUC constant id'>MUC</span><span class='colon2 op'>::</span><span class='MUCClient constant id'>MUCClient</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@client ivar id'>@client</span><span class='rparen token'>)</span>
  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='my_jid identifier id'>my_jid</span> <span class='assign token'>=</span> <span class='string val'>'hag66@shakespeare.lit/pda'</span>
  <span class='assert_raises identifier id'>assert_raises</span><span class='lparen token'>(</span><span class='ServerError constant id'>ServerError</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span>
    <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/thirdwitch'</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='notop op'>!</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>

  <span class='wait_state identifier id'>wait_state</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>test_message_callback</h3>
</div><div id="test_message_callback-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>test_message_callback</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb', line 352</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/0fa00750ae22df8c262f9a44831d6011e04e2ad0/lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb#L352">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='test_message_callback identifier id'>test_message_callback</span>
 <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
   <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Presence constant id'>Presence</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='rparen token'>)</span>
   <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='string val'>'cauldron'</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='x identifier id'>x</span><span class='dot token'>.</span><span class='password identifier id'>password</span><span class='rparen token'>)</span>
   <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/thirdwitch' to='hag66@shakespeare.lit/pda'&gt;&quot;</span> <span class='plus op'>+</span>
        <span class='string val'>&quot;&lt;x xmlns='http://jabber.org/protocol/muc#user'&gt;&lt;item affiliation='member' role='participant'/&gt;&lt;/x&gt;&quot;</span> <span class='plus op'>+</span>
        <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
 <span class='rbrace token'>}</span>

 <span class='message_lock identifier id'>message_lock</span> <span class='assign token'>=</span> <span class='Semaphore constant id'>Semaphore</span><span class='dot token'>.</span><span class='new identifier id'>new</span>

 <span class='messages_client identifier id'>messages_client</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
 <span class='@client ivar id'>@client</span><span class='dot token'>.</span><span class='add_message_callback identifier id'>add_message_callback</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='msg identifier id'>msg</span><span class='bitor op'>|</span>
   <span class='messages_client identifier id'>messages_client</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
   <span class='message_lock identifier id'>message_lock</span><span class='dot token'>.</span><span class='run identifier id'>run</span>
 <span class='rbrace token'>}</span>

 <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='MUC constant id'>MUC</span><span class='colon2 op'>::</span><span class='MUCClient constant id'>MUCClient</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@client ivar id'>@client</span><span class='rparen token'>)</span>
 <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='my_jid identifier id'>my_jid</span> <span class='assign token'>=</span> <span class='string val'>'hag66@shakespeare.lit/pda'</span>
 <span class='messages_muc identifier id'>messages_muc</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
 <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='add_message_callback identifier id'>add_message_callback</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='msg identifier id'>msg</span><span class='bitor op'>|</span>
   <span class='messages_muc identifier id'>messages_muc</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
   <span class='message_lock identifier id'>message_lock</span><span class='dot token'>.</span><span class='run identifier id'>run</span>
 <span class='rbrace token'>}</span>
 <span class='messages_muc_private identifier id'>messages_muc_private</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
 <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='add_private_message_callback identifier id'>add_private_message_callback</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='msg identifier id'>msg</span><span class='bitor op'>|</span>
   <span class='messages_muc_private identifier id'>messages_muc_private</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
   <span class='message_lock identifier id'>message_lock</span><span class='dot token'>.</span><span class='run identifier id'>run</span>
 <span class='rbrace token'>}</span>

 <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/thirdwitch'</span><span class='comma token'>,</span> <span class='string val'>'cauldron'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
 <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>

 <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='messages_client identifier id'>messages_client</span><span class='rparen token'>)</span>
 <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='messages_muc identifier id'>messages_muc</span><span class='rparen token'>)</span>
 <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='messages_muc_private identifier id'>messages_muc_private</span><span class='rparen token'>)</span>

 <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;message from='darkcave@macbeth.shakespeare.lit/firstwitch' to='hag66@shakespeare.lit/pda'&gt;&lt;body&gt;Hello&lt;/body&gt;&lt;/message&gt;&quot;</span><span class='rparen token'>)</span>
 <span class='message_lock identifier id'>message_lock</span><span class='dot token'>.</span><span class='wait identifier id'>wait</span>

 <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='messages_client identifier id'>messages_client</span><span class='rparen token'>)</span>
 <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='messages_muc identifier id'>messages_muc</span><span class='rparen token'>)</span>
 <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='messages_muc_private identifier id'>messages_muc_private</span><span class='rparen token'>)</span>

 <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;message from='user@domain/resource' to='hag66@shakespeare.lit/pda'&gt;&lt;body&gt;Hello&lt;/body&gt;&lt;/message&gt;&quot;</span><span class='rparen token'>)</span>
 <span class='message_lock identifier id'>message_lock</span><span class='dot token'>.</span><span class='wait identifier id'>wait</span>

 <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='messages_client identifier id'>messages_client</span><span class='rparen token'>)</span>
 <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='messages_muc identifier id'>messages_muc</span><span class='rparen token'>)</span>
 <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='messages_muc_private identifier id'>messages_muc_private</span><span class='rparen token'>)</span>

 <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;message type='chat' from='darkcave@macbeth.shakespeare.lit/firstwitch' to='hag66@shakespeare.lit/pda'&gt;&lt;body&gt;Hello&lt;/body&gt;&lt;/message&gt;&quot;</span><span class='rparen token'>)</span>
 <span class='message_lock identifier id'>message_lock</span><span class='dot token'>.</span><span class='wait identifier id'>wait</span>

 <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='messages_client identifier id'>messages_client</span><span class='rparen token'>)</span>
 <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='messages_muc identifier id'>messages_muc</span><span class='rparen token'>)</span>
 <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='messages_muc_private identifier id'>messages_muc_private</span><span class='rparen token'>)</span>

 <span class='wait_state identifier id'>wait_state</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>test_new1</h3>
</div><div id="test_new1-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>test_new1</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb', line 15</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/0fa00750ae22df8c262f9a44831d6011e04e2ad0/lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb#L15">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">15
16
17
18
19
20
21</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='test_new1 identifier id'>test_new1</span>
  <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='MUC constant id'>MUC</span><span class='colon2 op'>::</span><span class='MUCClient constant id'>MUCClient</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@client ivar id'>@client</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='jid identifier id'>jid</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='my_jid identifier id'>my_jid</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='roster identifier id'>roster</span><span class='rparen token'>)</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='notop op'>!</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>test_nick</h3>
</div><div id="test_nick-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>test_nick</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb', line 541</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/0fa00750ae22df8c262f9a44831d6011e04e2ad0/lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb#L541">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='test_nick identifier id'>test_nick</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Presence constant id'>Presence</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='rparen token'>)</span>
    <span class='assert_nil identifier id'>assert_nil</span><span class='lparen token'>(</span><span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='x identifier id'>x</span><span class='dot token'>.</span><span class='password identifier id'>password</span><span class='rparen token'>)</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/thirdwitch' to='hag66@shakespeare.lit/pda'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;x xmlns='http://jabber.org/protocol/muc#user'&gt;&lt;item affiliation='member' role='participant'/&gt;&lt;/x&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Presence constant id'>Presence</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'hag66@shakespeare.lit/pda'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='from identifier id'>from</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/secondwitch'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='to identifier id'>to</span><span class='rparen token'>)</span>
    <span class='assert_nil identifier id'>assert_nil</span><span class='lparen token'>(</span><span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='type identifier id'>type</span><span class='rparen token'>)</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit' to='hag66@shakespeare.lit/pda' type='error'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;error code='409' type='cancel'&gt;&lt;conflict xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/&gt;&lt;/error&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Presence constant id'>Presence</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'hag66@shakespeare.lit/pda'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='from identifier id'>from</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/oldhag'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='to identifier id'>to</span><span class='rparen token'>)</span>
    <span class='assert_nil identifier id'>assert_nil</span><span class='lparen token'>(</span><span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='type identifier id'>type</span><span class='rparen token'>)</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/thirdwitch' to='hag66@shakespeare.lit/pda' type='unavailable'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;x xmlns='http://jabber.org/protocol/muc#user'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;item affiliation='member' jid='hag66@shakespeare.lit/pda' nick='oldhag' role='participant'/&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;status code='303'/&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;/x&gt;&lt;/presence&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/oldhag' to='hag66@shakespeare.lit/pda'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;x xmlns='http://jabber.org/protocol/muc#user'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;item affiliation='member' jid='hag66@shakespeare.lit/pda' role='participant'/&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;/x&gt;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>

  <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='MUC constant id'>MUC</span><span class='colon2 op'>::</span><span class='MUCClient constant id'>MUCClient</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@client ivar id'>@client</span><span class='rparen token'>)</span>
  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='my_jid identifier id'>my_jid</span> <span class='assign token'>=</span> <span class='string val'>'hag66@shakespeare.lit/pda'</span>

  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/thirdwitch'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='wait_state identifier id'>wait_state</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='string val'>'thirdwitch'</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='nick identifier id'>nick</span><span class='rparen token'>)</span>

  <span class='assert_raises identifier id'>assert_raises</span><span class='lparen token'>(</span><span class='ServerError constant id'>ServerError</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span>
    <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='nick identifier id'>nick</span> <span class='assign token'>=</span> <span class='string val'>'secondwitch'</span>
  <span class='rbrace token'>}</span>
  <span class='wait_state identifier id'>wait_state</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='string val'>'thirdwitch'</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='nick identifier id'>nick</span><span class='rparen token'>)</span>

  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='nick identifier id'>nick</span> <span class='assign token'>=</span> <span class='string val'>'oldhag'</span>
  <span class='wait_state identifier id'>wait_state</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='string val'>'oldhag'</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='nick identifier id'>nick</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>test_nickname_conflict</h3>
</div><div id="test_nickname_conflict-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>test_nickname_conflict</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb', line 160</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/0fa00750ae22df8c262f9a44831d6011e04e2ad0/lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb#L160">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='test_nickname_conflict identifier id'>test_nickname_conflict</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Presence constant id'>Presence</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='rparen token'>)</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit' to='hag66@shakespeare.lit/pda' type='error'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;error code='409' type='cancel'&gt;&lt;conflict xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/&gt;&lt;/error&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>

  <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='MUC constant id'>MUC</span><span class='colon2 op'>::</span><span class='MUCClient constant id'>MUCClient</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@client ivar id'>@client</span><span class='rparen token'>)</span>
  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='my_jid identifier id'>my_jid</span> <span class='assign token'>=</span> <span class='string val'>'hag66@shakespeare.lit/pda'</span>
  <span class='assert_raises identifier id'>assert_raises</span><span class='lparen token'>(</span><span class='ServerError constant id'>ServerError</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span>
    <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/thirdwitch'</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='notop op'>!</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>

  <span class='wait_state identifier id'>wait_state</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>test_presence_callbacks</h3>
</div><div id="test_presence_callbacks-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>test_presence_callbacks</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb', line 413</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/0fa00750ae22df8c262f9a44831d6011e04e2ad0/lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb#L413">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='test_presence_callbacks identifier id'>test_presence_callbacks</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Presence constant id'>Presence</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='rparen token'>)</span>
    <span class='assert_nil identifier id'>assert_nil</span><span class='lparen token'>(</span><span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='x identifier id'>x</span><span class='dot token'>.</span><span class='password identifier id'>password</span><span class='rparen token'>)</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/thirdwitch' to='hag66@shakespeare.lit/pda'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;x xmlns='http://jabber.org/protocol/muc#user'&gt;&lt;item affiliation='member' role='participant'/&gt;&lt;/x&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>

  <span class='presence_lock identifier id'>presence_lock</span> <span class='assign token'>=</span> <span class='Semaphore constant id'>Semaphore</span><span class='dot token'>.</span><span class='new identifier id'>new</span>

  <span class='presences_client identifier id'>presences_client</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='@client ivar id'>@client</span><span class='dot token'>.</span><span class='add_presence_callback identifier id'>add_presence_callback</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='presences_client identifier id'>presences_client</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
    <span class='presence_lock identifier id'>presence_lock</span><span class='dot token'>.</span><span class='run identifier id'>run</span>
  <span class='rbrace token'>}</span>
  <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='MUC constant id'>MUC</span><span class='colon2 op'>::</span><span class='MUCClient constant id'>MUCClient</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@client ivar id'>@client</span><span class='rparen token'>)</span>
  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='my_jid identifier id'>my_jid</span> <span class='assign token'>=</span> <span class='string val'>'hag66@shakespeare.lit/pda'</span>
  <span class='presences_join identifier id'>presences_join</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='add_join_callback identifier id'>add_join_callback</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='presences_join identifier id'>presences_join</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
    <span class='presence_lock identifier id'>presence_lock</span><span class='dot token'>.</span><span class='run identifier id'>run</span>
  <span class='rbrace token'>}</span>
  <span class='presences_leave identifier id'>presences_leave</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='add_leave_callback identifier id'>add_leave_callback</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='presences_leave identifier id'>presences_leave</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
    <span class='presence_lock identifier id'>presence_lock</span><span class='dot token'>.</span><span class='run identifier id'>run</span>
  <span class='rbrace token'>}</span>
  <span class='presences_muc identifier id'>presences_muc</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='add_presence_callback identifier id'>add_presence_callback</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='presences_muc identifier id'>presences_muc</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
    <span class='presence_lock identifier id'>presence_lock</span><span class='dot token'>.</span><span class='run identifier id'>run</span>
  <span class='rbrace token'>}</span>

  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='presences_client identifier id'>presences_client</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='presences_join identifier id'>presences_join</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='presences_leave identifier id'>presences_leave</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='presences_muc identifier id'>presences_muc</span><span class='rparen token'>)</span>

  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/thirdwitch'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>

  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='presences_client identifier id'>presences_client</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='presences_join identifier id'>presences_join</span><span class='rparen token'>)</span> <span class='comment val'># Joins before own join won't be called back</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='presences_leave identifier id'>presences_leave</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='presences_muc identifier id'>presences_muc</span><span class='rparen token'>)</span>

  <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/firstwitch' to='hag66@shakespeare.lit/pda'&gt;&quot;</span> <span class='plus op'>+</span>
       <span class='string val'>&quot;&lt;x xmlns='http://jabber.org/protocol/muc#user'&gt;&lt;item affiliation='member' role='participant'/&gt;&lt;/x&gt;&quot;</span> <span class='plus op'>+</span>
       <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='presence_lock identifier id'>presence_lock</span><span class='dot token'>.</span><span class='wait identifier id'>wait</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='presences_client identifier id'>presences_client</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='presences_join identifier id'>presences_join</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='presences_leave identifier id'>presences_leave</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='presences_muc identifier id'>presences_muc</span><span class='rparen token'>)</span>

  <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='user@domain/resource' to='hag66@shakespeare.lit/pda'&gt;&quot;</span> <span class='plus op'>+</span>
       <span class='string val'>&quot;&lt;show&gt;chat&lt;/show&gt;&quot;</span> <span class='plus op'>+</span>
       <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='presence_lock identifier id'>presence_lock</span><span class='dot token'>.</span><span class='wait identifier id'>wait</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='presences_client identifier id'>presences_client</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='presences_join identifier id'>presences_join</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='presences_leave identifier id'>presences_leave</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='presences_muc identifier id'>presences_muc</span><span class='rparen token'>)</span>

  <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/firstwitch' to='hag66@shakespeare.lit/pda'&gt;&quot;</span> <span class='plus op'>+</span>
       <span class='string val'>&quot;&lt;x xmlns='http://jabber.org/protocol/muc#user'&gt;&lt;item affiliation='member' role='participant'/&gt;&lt;/x&gt;&quot;</span> <span class='plus op'>+</span>
       <span class='string val'>&quot;&lt;show&gt;away&lt;/show&gt;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='presence_lock identifier id'>presence_lock</span><span class='dot token'>.</span><span class='wait identifier id'>wait</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='presences_client identifier id'>presences_client</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='presences_join identifier id'>presences_join</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='presences_leave identifier id'>presences_leave</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='presences_muc identifier id'>presences_muc</span><span class='rparen token'>)</span>

  <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/firstwitch' to='hag66@shakespeare.lit/pda' type='unavailable'/&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='presence_lock identifier id'>presence_lock</span><span class='dot token'>.</span><span class='wait identifier id'>wait</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='presences_client identifier id'>presences_client</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='presences_join identifier id'>presences_join</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='presences_leave identifier id'>presences_leave</span><span class='rparen token'>)</span>
  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='presences_muc identifier id'>presences_muc</span><span class='rparen token'>)</span>
  <span class='wait_state identifier id'>wait_state</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>test_send</h3>
</div><div id="test_send-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>test_send</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb', line 496</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/0fa00750ae22df8c262f9a44831d6011e04e2ad0/lib/vendor/xmpp4r/test/muc/tc_muc_mucclient.rb#L496">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='test_send identifier id'>test_send</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='pres identifier id'>pres</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Presence constant id'>Presence</span><span class='comma token'>,</span> <span class='pres identifier id'>pres</span><span class='rparen token'>)</span>
    <span class='assert_nil identifier id'>assert_nil</span><span class='lparen token'>(</span><span class='pres identifier id'>pres</span><span class='dot token'>.</span><span class='x identifier id'>x</span><span class='dot token'>.</span><span class='password identifier id'>password</span><span class='rparen token'>)</span>
    <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;presence from='darkcave@macbeth.shakespeare.lit/thirdwitch' to='hag66@shakespeare.lit/pda'&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;x xmlns='http://jabber.org/protocol/muc#user'&gt;&lt;item affiliation='member' role='participant'/&gt;&lt;/x&gt;&quot;</span> <span class='plus op'>+</span>
         <span class='string val'>&quot;&lt;/presence&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='stanza identifier id'>stanza</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Message constant id'>Message</span><span class='comma token'>,</span> <span class='stanza identifier id'>stanza</span><span class='rparen token'>)</span>
    <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='symbol val'>:groupchat</span><span class='comma token'>,</span> <span class='stanza identifier id'>stanza</span><span class='dot token'>.</span><span class='type identifier id'>type</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'hag66@shakespeare.lit/pda'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='stanza identifier id'>stanza</span><span class='dot token'>.</span><span class='from identifier id'>from</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='stanza identifier id'>stanza</span><span class='dot token'>.</span><span class='to identifier id'>to</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='string val'>'First message'</span><span class='comma token'>,</span> <span class='stanza identifier id'>stanza</span><span class='dot token'>.</span><span class='body identifier id'>body</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='stanza identifier id'>stanza</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Message constant id'>Message</span><span class='comma token'>,</span> <span class='stanza identifier id'>stanza</span><span class='rparen token'>)</span>
    <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='symbol val'>:chat</span><span class='comma token'>,</span> <span class='stanza identifier id'>stanza</span><span class='dot token'>.</span><span class='type identifier id'>type</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'hag66@shakespeare.lit/pda'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='stanza identifier id'>stanza</span><span class='dot token'>.</span><span class='from identifier id'>from</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/secondwitch'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='stanza identifier id'>stanza</span><span class='dot token'>.</span><span class='to identifier id'>to</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='string val'>'Second message'</span><span class='comma token'>,</span> <span class='stanza identifier id'>stanza</span><span class='dot token'>.</span><span class='body identifier id'>body</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
  <span class='state identifier id'>state</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='stanza identifier id'>stanza</span><span class='bitor op'>|</span>
    <span class='assert_kind_of identifier id'>assert_kind_of</span><span class='lparen token'>(</span><span class='Message constant id'>Message</span><span class='comma token'>,</span> <span class='stanza identifier id'>stanza</span><span class='rparen token'>)</span>
    <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='symbol val'>:chat</span><span class='comma token'>,</span> <span class='stanza identifier id'>stanza</span><span class='dot token'>.</span><span class='type identifier id'>type</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'hag66@shakespeare.lit/pda'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='stanza identifier id'>stanza</span><span class='dot token'>.</span><span class='from identifier id'>from</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='JID constant id'>JID</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/firstwitch'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='stanza identifier id'>stanza</span><span class='dot token'>.</span><span class='to identifier id'>to</span><span class='rparen token'>)</span>
    <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='string val'>'Third message'</span><span class='comma token'>,</span> <span class='stanza identifier id'>stanza</span><span class='dot token'>.</span><span class='body identifier id'>body</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>

  <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='MUC constant id'>MUC</span><span class='colon2 op'>::</span><span class='MUCClient constant id'>MUCClient</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@client ivar id'>@client</span><span class='rparen token'>)</span>
  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='my_jid identifier id'>my_jid</span> <span class='assign token'>=</span> <span class='string val'>'hag66@shakespeare.lit/pda'</span>

  <span class='assert_equal identifier id'>assert_equal</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'darkcave@macbeth.shakespeare.lit/thirdwitch'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='wait_state identifier id'>wait_state</span>
  <span class='assert identifier id'>assert</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='dot token'>.</span><span class='active? fid id'>active?</span><span class='rparen token'>)</span>

  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='Message constant id'>Message</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='string val'>'First message'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='wait_state identifier id'>wait_state</span>
  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='Message constant id'>Message</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='string val'>'Second message'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>'secondwitch'</span><span class='rparen token'>)</span>
  <span class='wait_state identifier id'>wait_state</span>
  <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='Message constant id'>Message</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'secondwitch'</span><span class='comma token'>,</span> <span class='string val'>'Third message'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>'firstwitch'</span><span class='rparen token'>)</span>
  <span class='wait_state identifier id'>wait_state</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>