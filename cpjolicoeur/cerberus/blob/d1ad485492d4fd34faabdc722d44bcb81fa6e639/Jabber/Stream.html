<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>cpjolicoeur's cerberus - Class: Jabber::Stream - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/cpjolicoeur/commits/cerberus/master" rel="alternate" title="Recent Commits to cerberus:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("cpjolicoeur", "cerberus", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("cpjolicoeur", "cerberus", "d1ad485492d4fd34faabdc722d44bcb81fa6e639", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/cpjolicoeur/cerberus/tree/">Source</a></li>
            <li class=""><a href="http://github.com/cpjolicoeur/cerberus/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/cpjolicoeur/cerberus/network">Network</a></li>            
            <li class=""><a href="http://github.com/cpjolicoeur/cerberus/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/cpjolicoeur/cerberus">Wiki</a></li>
            <li class=""><a href="http://github.com/cpjolicoeur/cerberus/graphs">Graphs</a></li>                    
            <li class="active"><a href="/cpjolicoeur/cerberus">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/cpjolicoeur">cpjolicoeur</a> / <b><a href="http://github.com/cpjolicoeur/cerberus/tree">cerberus</a></b>        
                <a id="namespaces_button" rel="cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Jabber_Stream">
  <h1>Class: Jabber::Stream</h1>
  <div class="section docstring">
  <p>
The stream class manages a connection stream (a file descriptor using which
XML messages are read and sent)
</p>
<p>
You may register callbacks for the three Jabber stanzas (message, presence
and iq) and use the send and send_with_id methods.
</p>
<p>
To ensure the order of received stanzas, callback blocks are launched in
the parser thread. If further blocking operations are intended in those
callbacks, run your own thread there.
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">fd</td>
          <td class="readwrite">
            [<span id='fd-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
file descriptor used.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">status</td>
          <td class="readwrite">
            [<span id='status-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
connection status.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="CONNECTED-constant">CONNECTED</dt>
      <dd>2</dd>
    
      <dt id="DISCONNECTED-constant">DISCONNECTED</dt>
      <dd>1</dd>
    
  </dl>
</div>

</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Initialize a new stream
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 40</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L40">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span>
  <span class='@fd ivar id'>@fd</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@status ivar id'>@status</span> <span class='assign token'>=</span> <span class='DISCONNECTED constant id'>DISCONNECTED</span>
  <span class='@xmlcbs ivar id'>@xmlcbs</span> <span class='assign token'>=</span> <span class='CallbackList constant id'>CallbackList</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='@stanzacbs ivar id'>@stanzacbs</span> <span class='assign token'>=</span> <span class='CallbackList constant id'>CallbackList</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='@messagecbs ivar id'>@messagecbs</span> <span class='assign token'>=</span> <span class='CallbackList constant id'>CallbackList</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='@iqcbs ivar id'>@iqcbs</span> <span class='assign token'>=</span> <span class='CallbackList constant id'>CallbackList</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='@presencecbs ivar id'>@presencecbs</span> <span class='assign token'>=</span> <span class='CallbackList constant id'>CallbackList</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='@send_lock ivar id'>@send_lock</span> <span class='assign token'>=</span> <span class='Mutex constant id'>Mutex</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='@last_send ivar id'>@last_send</span> <span class='assign token'>=</span> <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='now identifier id'>now</span>
  <span class='@exception_block ivar id'>@exception_block</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@threadblocks ivar id'>@threadblocks</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@wakeup_thread ivar id'>@wakeup_thread</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@streamid ivar id'>@streamid</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@streamns ivar id'>@streamns</span> <span class='assign token'>=</span> <span class='string val'>'jabber:client'</span>
  <span class='@features_sem ivar id'>@features_sem</span> <span class='assign token'>=</span> <span class='Semaphore constant id'>Semaphore</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='@parser_thread ivar id'>@parser_thread</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#add_iq_callback-instance_method">#add_iq_callback</span><span class='args'>(priority = 0, ref = nil, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Adds a callback block to process received Iqs.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#add_message_callback-instance_method">#add_message_callback</span><span class='args'>(priority = 0, ref = nil, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Adds a callback block to process received Messages.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#add_presence_callback-instance_method">#add_presence_callback</span><span class='args'>(priority = 0, ref = nil, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Adds a callback block to process received Presences.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#add_stanza_callback-instance_method">#add_stanza_callback</span><span class='args'>(priority = 0, ref = nil, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Adds a callback block to process received Stanzas.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#add_xml_callback-instance_method">#add_xml_callback</span><span class='args'>(priority = 0, ref = nil, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Adds a callback block to process received XML messages.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#close-instance_method">#close</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Closes the connection to the Jabber service.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#close-21-instance_method">#close!</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#delete_iq_callback-instance_method">#delete_iq_callback</span><span class='args'>(ref)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Delete an Iq callback.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#delete_message_callback-instance_method">#delete_message_callback</span><span class='args'>(ref)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Delete an Message callback.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#delete_presence_callback-instance_method">#delete_presence_callback</span><span class='args'>(ref)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Delete a Presence callback.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#delete_stanza_callback-instance_method">#delete_stanza_callback</span><span class='args'>(ref)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Delete a Stanza callback.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#delete_xml_callback-instance_method">#delete_xml_callback</span><span class='args'>(ref)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Delete an XML-messages callback.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#is_connected-3F-instance_method">#is_connected?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns if this connection is connected to a Jabber service
</p>
<table>
<tr><td valign="top">return:</td><td>[Boolean] Connection status.

</td></tr>
</table>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#is_disconnected-3F-instance_method">#is_disconnected?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns if this connection is NOT connected to a Jabber service.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#on_exception-instance_method">#on_exception</span><span class='args'>(&amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Mounts a block to handle exceptions if they occur during the poll send.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#parse_failure-instance_method">#parse_failure</span><span class='args'>(e)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
This method is called by the parser when a failure occurs.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#parser_end-instance_method">#parser_end</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
This method is called by the parser upon receiving
<tt>&lt;/stream:stream&gt;</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#receive-instance_method">#receive</span><span class='args'>(element)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Processes a received REXML::Element and executes registered thread blocks
and filters against it.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#send-instance_method">#send</span><span class='args'>(xml, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Sends XML data to the socket and (optionally) waits to process received
data.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#send_data-instance_method">#send_data</span><span class='args'>(data)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#send_with_id-instance_method">#send_with_id</span><span class='args'>(xml, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Send an XMMP stanza with an Jabber::XMPPStanza#id.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#start-instance_method">#start</span><span class='args'>(fd)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Start the XML parser on the fd.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#stop-instance_method">#stop</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>add_iq_callback</h3>
</div><div id="add_iq_callback-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>add_iq_callback</span><span class='args'>(priority = 0, ref = nil, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Adds a callback block to process received Iqs
</p>
<table>
<tr><td valign="top">priority:</td><td>[Integer] The callback&#8217;s priority, the higher, the sooner

</td></tr>
<tr><td valign="top">ref:</td><td>[String] The callback&#8217;s reference

</td></tr>
<tr><td valign="top">&amp;block:</td><td>[Block] The optional block

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 473</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L473">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">473
474
475</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='add_iq_callback identifier id'>add_iq_callback</span><span class='lparen token'>(</span><span class='priority identifier id'>priority</span> <span class='assign token'>=</span> <span class='integer val'>0</span><span class='comma token'>,</span> <span class='ref identifier id'>ref</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='@iqcbs ivar id'>@iqcbs</span><span class='dot token'>.</span><span class='add identifier id'>add</span><span class='lparen token'>(</span><span class='priority identifier id'>priority</span><span class='comma token'>,</span> <span class='ref identifier id'>ref</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>add_message_callback</h3>
</div><div id="add_message_callback-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>add_message_callback</span><span class='args'>(priority = 0, ref = nil, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Adds a callback block to process received Messages
</p>
<table>
<tr><td valign="top">priority:</td><td>[Integer] The callback&#8217;s priority, the higher, the sooner

</td></tr>
<tr><td valign="top">ref:</td><td>[String] The callback&#8217;s reference

</td></tr>
<tr><td valign="top">&amp;block:</td><td>[Block] The optional block

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 419</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L419">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">419
420
421</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='add_message_callback identifier id'>add_message_callback</span><span class='lparen token'>(</span><span class='priority identifier id'>priority</span> <span class='assign token'>=</span> <span class='integer val'>0</span><span class='comma token'>,</span> <span class='ref identifier id'>ref</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='@messagecbs ivar id'>@messagecbs</span><span class='dot token'>.</span><span class='add identifier id'>add</span><span class='lparen token'>(</span><span class='priority identifier id'>priority</span><span class='comma token'>,</span> <span class='ref identifier id'>ref</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>add_presence_callback</h3>
</div><div id="add_presence_callback-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>add_presence_callback</span><span class='args'>(priority = 0, ref = nil, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Adds a callback block to process received Presences
</p>
<table>
<tr><td valign="top">priority:</td><td>[Integer] The callback&#8217;s priority, the higher, the sooner

</td></tr>
<tr><td valign="top">ref:</td><td>[String] The callback&#8217;s reference

</td></tr>
<tr><td valign="top">&amp;block:</td><td>[Block] The optional block

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 455</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L455">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">455
456
457</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='add_presence_callback identifier id'>add_presence_callback</span><span class='lparen token'>(</span><span class='priority identifier id'>priority</span> <span class='assign token'>=</span> <span class='integer val'>0</span><span class='comma token'>,</span> <span class='ref identifier id'>ref</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='@presencecbs ivar id'>@presencecbs</span><span class='dot token'>.</span><span class='add identifier id'>add</span><span class='lparen token'>(</span><span class='priority identifier id'>priority</span><span class='comma token'>,</span> <span class='ref identifier id'>ref</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>add_stanza_callback</h3>
</div><div id="add_stanza_callback-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>add_stanza_callback</span><span class='args'>(priority = 0, ref = nil, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Adds a callback block to process received Stanzas
</p>
<table>
<tr><td valign="top">priority:</td><td>[Integer] The callback&#8217;s priority, the higher, the sooner

</td></tr>
<tr><td valign="top">ref:</td><td>[String] The callback&#8217;s reference

</td></tr>
<tr><td valign="top">&amp;block:</td><td>[Block] The optional block

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 437</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L437">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">437
438
439</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='add_stanza_callback identifier id'>add_stanza_callback</span><span class='lparen token'>(</span><span class='priority identifier id'>priority</span> <span class='assign token'>=</span> <span class='integer val'>0</span><span class='comma token'>,</span> <span class='ref identifier id'>ref</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='@stanzacbs ivar id'>@stanzacbs</span><span class='dot token'>.</span><span class='add identifier id'>add</span><span class='lparen token'>(</span><span class='priority identifier id'>priority</span><span class='comma token'>,</span> <span class='ref identifier id'>ref</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>add_xml_callback</h3>
</div><div id="add_xml_callback-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>add_xml_callback</span><span class='args'>(priority = 0, ref = nil, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Adds a callback block to process received XML messages
</p>
<table>
<tr><td valign="top">priority:</td><td>[Integer] The callback&#8217;s priority, the higher, the sooner

</td></tr>
<tr><td valign="top">ref:</td><td>[String] The callback&#8217;s reference

</td></tr>
<tr><td valign="top">&amp;block:</td><td>[Block] The optional block

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 401</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L401">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">401
402
403</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='add_xml_callback identifier id'>add_xml_callback</span><span class='lparen token'>(</span><span class='priority identifier id'>priority</span> <span class='assign token'>=</span> <span class='integer val'>0</span><span class='comma token'>,</span> <span class='ref identifier id'>ref</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='@xmlcbs ivar id'>@xmlcbs</span><span class='dot token'>.</span><span class='add identifier id'>add</span><span class='lparen token'>(</span><span class='priority identifier id'>priority</span><span class='comma token'>,</span> <span class='ref identifier id'>ref</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>close</h3>
</div><div id="close-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>close</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Closes the connection to the Jabber service
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 487</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L487">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">487
488
489</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='close identifier id'>close</span>
  <span class='close! fid id'>close!</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>close!</h3>
</div><div id="close-21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>close!</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 491</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L491">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">491
492
493
494
495</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='close! fid id'>close!</span>
  <span class='@parser_thread ivar id'>@parser_thread</span><span class='dot token'>.</span><span class='kill identifier id'>kill</span> <span class='if if_mod kw'>if</span> <span class='@parser_thread ivar id'>@parser_thread</span>
  <span class='@fd ivar id'>@fd</span><span class='dot token'>.</span><span class='close identifier id'>close</span> <span class='if if_mod kw'>if</span> <span class='@fd ivar id'>@fd</span> <span class='and and kw'>and</span> <span class='notop op'>!</span><span class='@fd ivar id'>@fd</span><span class='dot token'>.</span><span class='closed? fid id'>closed?</span>
  <span class='@status ivar id'>@status</span> <span class='assign token'>=</span> <span class='DISCONNECTED constant id'>DISCONNECTED</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>delete_iq_callback</h3>
</div><div id="delete_iq_callback-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>delete_iq_callback</span><span class='args'>(ref)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Delete an Iq callback
</p>
<table>
<tr><td valign="top">ref:</td><td>[String] The reference of the callback to delete

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 482</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L482">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">482
483
484</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='delete_iq_callback identifier id'>delete_iq_callback</span><span class='lparen token'>(</span><span class='ref identifier id'>ref</span><span class='rparen token'>)</span>
  <span class='@iqcbs ivar id'>@iqcbs</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='ref identifier id'>ref</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>delete_message_callback</h3>
</div><div id="delete_message_callback-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>delete_message_callback</span><span class='args'>(ref)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Delete an Message callback
</p>
<table>
<tr><td valign="top">ref:</td><td>[String] The reference of the callback to delete

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 427</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L427">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">427
428
429</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='delete_message_callback identifier id'>delete_message_callback</span><span class='lparen token'>(</span><span class='ref identifier id'>ref</span><span class='rparen token'>)</span>
  <span class='@messagecbs ivar id'>@messagecbs</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='ref identifier id'>ref</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>delete_presence_callback</h3>
</div><div id="delete_presence_callback-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>delete_presence_callback</span><span class='args'>(ref)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Delete a Presence callback
</p>
<table>
<tr><td valign="top">ref:</td><td>[String] The reference of the callback to delete

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 463</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L463">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">463
464
465</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='delete_presence_callback identifier id'>delete_presence_callback</span><span class='lparen token'>(</span><span class='ref identifier id'>ref</span><span class='rparen token'>)</span>
  <span class='@presencecbs ivar id'>@presencecbs</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='ref identifier id'>ref</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>delete_stanza_callback</h3>
</div><div id="delete_stanza_callback-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>delete_stanza_callback</span><span class='args'>(ref)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Delete a Stanza callback
</p>
<table>
<tr><td valign="top">ref:</td><td>[String] The reference of the callback to delete

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 445</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L445">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">445
446
447</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='delete_stanza_callback identifier id'>delete_stanza_callback</span><span class='lparen token'>(</span><span class='ref identifier id'>ref</span><span class='rparen token'>)</span>
  <span class='@stanzacbs ivar id'>@stanzacbs</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='ref identifier id'>ref</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>delete_xml_callback</h3>
</div><div id="delete_xml_callback-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>delete_xml_callback</span><span class='args'>(ref)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Delete an XML-messages callback
</p>
<table>
<tr><td valign="top">ref:</td><td>[String] The reference of the callback to delete

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 409</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L409">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">409
410
411</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='delete_xml_callback identifier id'>delete_xml_callback</span><span class='lparen token'>(</span><span class='ref identifier id'>ref</span><span class='rparen token'>)</span>
  <span class='@xmlcbs ivar id'>@xmlcbs</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='ref identifier id'>ref</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>is_connected?</h3>
</div><div id="is_connected-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>is_connected?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns if this connection is connected to a Jabber service
</p>
<table>
<tr><td valign="top">return:</td><td>[Boolean] Connection status

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 155</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L155">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">155
156
157</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='is_connected? fid id'>is_connected?</span>
  <span class='return return kw'>return</span> <span class='@status ivar id'>@status</span> <span class='eq op'>==</span> <span class='CONNECTED constant id'>CONNECTED</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>is_disconnected?</h3>
</div><div id="is_disconnected-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>is_disconnected?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns if this connection is NOT connected to a Jabber service
</p>
<table>
<tr><td valign="top">return:</td><td>[Boolean] Connection status

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 163</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L163">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">163
164
165</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='is_disconnected? fid id'>is_disconnected?</span>
  <span class='return return kw'>return</span> <span class='@status ivar id'>@status</span> <span class='eq op'>==</span> <span class='DISCONNECTED constant id'>DISCONNECTED</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>on_exception</h3>
</div><div id="on_exception-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>on_exception</span><span class='args'>(&amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Mounts a block to handle exceptions if they occur during the poll send.
This will likely be the first indication that the socket dropped in a
Jabber Session.
</p>
<p>
The block has to take three arguments:
</p>
<ul>
<li>the Exception

</li>
<li>the Jabber::Stream object (self)

</li>
<li>a symbol where it happened, namely :start, :parser, :sending and :end

</li>
</ul>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 112</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L112">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">112
113
114</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='on_exception identifier id'>on_exception</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='@exception_block ivar id'>@exception_block</span> <span class='assign token'>=</span> <span class='block identifier id'>block</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>parse_failure</h3>
</div><div id="parse_failure-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>parse_failure</span><span class='args'>(e)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This method is called by the parser when a failure occurs
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 118</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L118">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='parse_failure identifier id'>parse_failure</span><span class='lparen token'>(</span><span class='e identifier id'>e</span><span class='rparen token'>)</span>
  <span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='debuglog identifier id'>debuglog</span><span class='lparen token'>(</span><span class='dstring node'>&quot;EXCEPTION:\n#{e.class}\n#{e.message}\n#{e.backtrace.join(&quot;\n&quot;)}&quot;</span><span class='rparen token'>)</span>

  <span class='comment val'># A new thread has to be created because close will cause the thread</span>
  <span class='comment val'># to commit suicide(???)</span>
  <span class='if if kw'>if</span> <span class='@exception_block ivar id'>@exception_block</span>
    <span class='comment val'># New thread, because close will kill the current thread</span>
    <span class='Thread constant id'>Thread</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span>
      <span class='Thread constant id'>Thread</span><span class='dot token'>.</span><span class='current identifier id'>current</span><span class='dot token'>.</span><span class='abort_on_exception identifier id'>abort_on_exception</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
      <span class='close identifier id'>close</span>
      <span class='@exception_block ivar id'>@exception_block</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='e identifier id'>e</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='comma token'>,</span> <span class='symbol val'>:parser</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='debuglog identifier id'>debuglog</span> <span class='string val'>&quot;Stream#parse_failure was called by XML parser. Dumping &quot;</span> <span class='plus op'>+</span>
      <span class='string val'>&quot;backtrace...\n&quot;</span> <span class='plus op'>+</span> <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='exception identifier id'>exception</span> <span class='plus op'>+</span> <span class='dstring node'>&quot;\n#{e.backtrace.join(&quot;\n&quot;)}&quot;</span>
    <span class='close identifier id'>close</span>
    <span class='raise identifier id'>raise</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>parser_end</h3>
</div><div id="parser_end-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>parser_end</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This method is called by the parser upon receiving
<tt>&lt;/stream:stream&gt;</tt>
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 140</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L140">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">140
141
142
143
144
145
146
147
148
149
150</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='parser_end identifier id'>parser_end</span>
  <span class='if if kw'>if</span> <span class='@exception_block ivar id'>@exception_block</span>
    <span class='Thread constant id'>Thread</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span>
      <span class='Thread constant id'>Thread</span><span class='dot token'>.</span><span class='current identifier id'>current</span><span class='dot token'>.</span><span class='abort_on_exception identifier id'>abort_on_exception</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
      <span class='close identifier id'>close</span>
      <span class='@exception_block ivar id'>@exception_block</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='comma token'>,</span> <span class='symbol val'>:close</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='close identifier id'>close</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>receive</h3>
</div><div id="receive-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>receive</span><span class='args'>(element)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Processes a received REXML::Element and executes registered thread blocks
and filters against it.
</p>
<table>
<tr><td valign="top">element:</td><td>[REXML::Element] The received element

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 172</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L172">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='receive identifier id'>receive</span><span class='lparen token'>(</span><span class='element identifier id'>element</span><span class='rparen token'>)</span>
  <span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='debuglog identifier id'>debuglog</span><span class='lparen token'>(</span><span class='dstring node'>&quot;RECEIVED:\n#{element.to_s}&quot;</span><span class='rparen token'>)</span>

  <span class='if if kw'>if</span> <span class='element identifier id'>element</span><span class='dot token'>.</span><span class='namespace identifier id'>namespace</span><span class='lparen token'>(</span><span class='string val'>''</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='eq op'>==</span> <span class='string val'>''</span> <span class='comment val'># REXML namespaces are always strings</span>
    <span class='element identifier id'>element</span><span class='dot token'>.</span><span class='add_namespace identifier id'>add_namespace</span><span class='lparen token'>(</span><span class='@streamns ivar id'>@streamns</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='case case kw'>case</span> <span class='element identifier id'>element</span><span class='dot token'>.</span><span class='prefix identifier id'>prefix</span>
  <span class='when when kw'>when</span> <span class='string val'>'stream'</span>
    <span class='case case kw'>case</span> <span class='element identifier id'>element</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
      <span class='when when kw'>when</span> <span class='string val'>'stream'</span>
        <span class='stanza identifier id'>stanza</span> <span class='assign token'>=</span> <span class='element identifier id'>element</span>
        <span class='@streamid ivar id'>@streamid</span> <span class='assign token'>=</span> <span class='element identifier id'>element</span><span class='dot token'>.</span><span class='attributes identifier id'>attributes</span><span class='lbrack token'>[</span><span class='string val'>'id'</span><span class='rbrack token'>]</span>
        <span class='@streamns ivar id'>@streamns</span> <span class='assign token'>=</span> <span class='element identifier id'>element</span><span class='dot token'>.</span><span class='namespace identifier id'>namespace</span><span class='lparen token'>(</span><span class='string val'>''</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='element identifier id'>element</span><span class='dot token'>.</span><span class='namespace identifier id'>namespace</span><span class='lparen token'>(</span><span class='string val'>''</span><span class='rparen token'>)</span>

        <span class='comment val'># Hack: component streams are basically client streams.</span>
        <span class='comment val'># Someday we may want to create special stanza classes</span>
        <span class='comment val'># for components/s2s deriving from normal stanzas but</span>
        <span class='comment val'># posessing these namespaces</span>
        <span class='@streamns ivar id'>@streamns</span> <span class='assign token'>=</span> <span class='string val'>'jabber:client'</span> <span class='if if_mod kw'>if</span> <span class='@streamns ivar id'>@streamns</span> <span class='eq op'>==</span> <span class='string val'>'jabber:component:accept'</span>

        <span class='unless unless kw'>unless</span> <span class='element identifier id'>element</span><span class='dot token'>.</span><span class='attributes identifier id'>attributes</span><span class='lbrack token'>[</span><span class='string val'>'version'</span><span class='rbrack token'>]</span>  <span class='comment val'># isn't XMPP compliant, so</span>
          <span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='debuglog identifier id'>debuglog</span><span class='lparen token'>(</span><span class='string val'>&quot;FEATURES: server not XMPP compliant, will not wait for features&quot;</span><span class='rparen token'>)</span>
          <span class='@features_sem ivar id'>@features_sem</span><span class='dot token'>.</span><span class='run identifier id'>run</span>                   <span class='comment val'># don't wait for &lt;stream:features/&gt;</span>
        <span class='end end kw'>end</span>
      <span class='when when kw'>when</span> <span class='string val'>'features'</span>
        <span class='stanza identifier id'>stanza</span> <span class='assign token'>=</span> <span class='element identifier id'>element</span>
        <span class='element identifier id'>element</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span>
          <span class='if if kw'>if</span> <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='name identifier id'>name</span> <span class='eq op'>==</span> <span class='string val'>'mechanisms'</span> <span class='and and kw'>and</span> <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='namespace identifier id'>namespace</span> <span class='eq op'>==</span> <span class='string val'>'urn:ietf:params:xml:ns:xmpp-sasl'</span>
            <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='each_element identifier id'>each_element</span><span class='lparen token'>(</span><span class='string val'>'mechanism'</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='mech identifier id'>mech</span><span class='bitor op'>|</span>
              <span class='@stream_mechanisms ivar id'>@stream_mechanisms</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='mech identifier id'>mech</span><span class='dot token'>.</span><span class='text identifier id'>text</span><span class='rparen token'>)</span>
            <span class='rbrace token'>}</span>
          <span class='else else kw'>else</span>
            <span class='@stream_features ivar id'>@stream_features</span><span class='lbrack token'>[</span><span class='e identifier id'>e</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='namespace identifier id'>namespace</span>
          <span class='end end kw'>end</span>
        <span class='rbrace token'>}</span>
        <span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='debuglog identifier id'>debuglog</span><span class='lparen token'>(</span><span class='string val'>&quot;FEATURES: received&quot;</span><span class='rparen token'>)</span>
        <span class='@features_sem ivar id'>@features_sem</span><span class='dot token'>.</span><span class='run identifier id'>run</span>
      <span class='else else kw'>else</span>
        <span class='stanza identifier id'>stanza</span> <span class='assign token'>=</span> <span class='element identifier id'>element</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='comment val'># Any stanza, classes are registered by XMPPElement::name_xmlns</span>
    <span class='begin begin kw'>begin</span>
      <span class='stanza identifier id'>stanza</span> <span class='assign token'>=</span> <span class='XMPPStanza constant id'>XMPPStanza</span><span class='colon2 op'>::</span><span class='import identifier id'>import</span><span class='lparen token'>(</span><span class='element identifier id'>element</span><span class='rparen token'>)</span>
    <span class='rescue rescue kw'>rescue</span> <span class='NoNameXmlnsRegistered constant id'>NoNameXmlnsRegistered</span>
      <span class='stanza identifier id'>stanza</span> <span class='assign token'>=</span> <span class='element identifier id'>element</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># Iterate through blocked threads (= waiting for an answer)</span>
  <span class='comment val'>#</span>
  <span class='comment val'># We're dup'ping the @threadblocks here, so that we won't end up in an</span>
  <span class='comment val'># endless loop if Stream#send is being nested. That means, the nested</span>
  <span class='comment val'># threadblock won't receive the stanza currently processed, but the next</span>
  <span class='comment val'># one.</span>
  <span class='threadblocks identifier id'>threadblocks</span> <span class='assign token'>=</span> <span class='@threadblocks ivar id'>@threadblocks</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
  <span class='threadblocks identifier id'>threadblocks</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='threadblock identifier id'>threadblock</span><span class='bitor op'>|</span>
    <span class='exception identifier id'>exception</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
    <span class='begin begin kw'>begin</span>
      <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='threadblock identifier id'>threadblock</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='stanza identifier id'>stanza</span><span class='rparen token'>)</span>
    <span class='rescue rescue kw'>rescue</span> <span class='Exception constant id'>Exception</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='e identifier id'>e</span>
      <span class='exception identifier id'>exception</span> <span class='assign token'>=</span> <span class='e identifier id'>e</span>
    <span class='end end kw'>end</span>

    <span class='if if kw'>if</span> <span class='r identifier id'>r</span> <span class='eq op'>==</span> <span class='true true kw'>true</span>
      <span class='@threadblocks ivar id'>@threadblocks</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='threadblock identifier id'>threadblock</span><span class='rparen token'>)</span>
      <span class='threadblock identifier id'>threadblock</span><span class='dot token'>.</span><span class='wakeup identifier id'>wakeup</span>
      <span class='return return kw'>return</span>
    <span class='elsif elsif kw'>elsif</span> <span class='exception identifier id'>exception</span>
      <span class='@threadblocks ivar id'>@threadblocks</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='threadblock identifier id'>threadblock</span><span class='rparen token'>)</span>
      <span class='threadblock identifier id'>threadblock</span><span class='dot token'>.</span><span class='raise identifier id'>raise</span><span class='lparen token'>(</span><span class='exception identifier id'>exception</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='rbrace token'>}</span>

  <span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='debuglog identifier id'>debuglog</span><span class='lparen token'>(</span><span class='dstring node'>&quot;PROCESSING:\n#{stanza.to_s} (#{stanza.class})&quot;</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='@xmlcbs ivar id'>@xmlcbs</span><span class='dot token'>.</span><span class='process identifier id'>process</span><span class='lparen token'>(</span><span class='stanza identifier id'>stanza</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='@stanzacbs ivar id'>@stanzacbs</span><span class='dot token'>.</span><span class='process identifier id'>process</span><span class='lparen token'>(</span><span class='stanza identifier id'>stanza</span><span class='rparen token'>)</span>
  <span class='case case kw'>case</span> <span class='stanza identifier id'>stanza</span>
  <span class='when when kw'>when</span> <span class='Message constant id'>Message</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='@messagecbs ivar id'>@messagecbs</span><span class='dot token'>.</span><span class='process identifier id'>process</span><span class='lparen token'>(</span><span class='stanza identifier id'>stanza</span><span class='rparen token'>)</span>
  <span class='when when kw'>when</span> <span class='Iq constant id'>Iq</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='@iqcbs ivar id'>@iqcbs</span><span class='dot token'>.</span><span class='process identifier id'>process</span><span class='lparen token'>(</span><span class='stanza identifier id'>stanza</span><span class='rparen token'>)</span>
  <span class='when when kw'>when</span> <span class='Presence constant id'>Presence</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='@presencecbs ivar id'>@presencecbs</span><span class='dot token'>.</span><span class='process identifier id'>process</span><span class='lparen token'>(</span><span class='stanza identifier id'>stanza</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>send</h3>
</div><div id="send-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>send</span><span class='args'>(xml, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Sends XML data to the socket and (optionally) waits to process received
data.
</p>
<p>
Do not invoke this in a callback but in a seperate thread because we may
not suspend the parser-thread (in whose context callbacks are executed).
</p>
<table>
<tr><td valign="top">xml:</td><td>[String] The xml data to send

</td></tr>
<tr><td valign="top">&amp;block:</td><td>[Block] The optional block

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 306</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L306">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='xml identifier id'>xml</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='debuglog identifier id'>debuglog</span><span class='lparen token'>(</span><span class='dstring node'>&quot;SENDING:\n#{xml}&quot;</span><span class='rparen token'>)</span>
  <span class='@threadblocks ivar id'>@threadblocks</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span><span class='lparen token'>(</span><span class='threadblock identifier id'>threadblock</span> <span class='assign token'>=</span> <span class='ThreadBlock constant id'>ThreadBlock</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='block identifier id'>block</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='block identifier id'>block</span>
  <span class='begin begin kw'>begin</span>
    <span class='comment val'># Temporarily remove stanza's namespace to</span>
    <span class='comment val'># reduce bandwidth consumption</span>
    <span class='if if kw'>if</span> <span class='xml identifier id'>xml</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span> <span class='XMPPStanza constant id'>XMPPStanza</span> <span class='and and kw'>and</span> <span class='xml identifier id'>xml</span><span class='dot token'>.</span><span class='namespace identifier id'>namespace</span> <span class='eq op'>==</span> <span class='string val'>'jabber:client'</span>
      <span class='xml identifier id'>xml</span><span class='dot token'>.</span><span class='delete_namespace identifier id'>delete_namespace</span>
      <span class='send_data identifier id'>send_data</span><span class='lparen token'>(</span><span class='xml identifier id'>xml</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
      <span class='xml identifier id'>xml</span><span class='dot token'>.</span><span class='add_namespace identifier id'>add_namespace</span><span class='lparen token'>(</span><span class='@streamns ivar id'>@streamns</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='send_data identifier id'>send_data</span><span class='lparen token'>(</span><span class='xml identifier id'>xml</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='rescue rescue kw'>rescue</span> <span class='Exception constant id'>Exception</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='e identifier id'>e</span>
    <span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='debuglog identifier id'>debuglog</span><span class='lparen token'>(</span><span class='dstring node'>&quot;EXCEPTION:\n#{e.class}\n#{e.message}\n#{e.backtrace.join(&quot;\n&quot;)}&quot;</span><span class='rparen token'>)</span>

    <span class='if if kw'>if</span> <span class='@exception_block ivar id'>@exception_block</span>
      <span class='Thread constant id'>Thread</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span>
        <span class='Thread constant id'>Thread</span><span class='dot token'>.</span><span class='current identifier id'>current</span><span class='dot token'>.</span><span class='abort_on_exception identifier id'>abort_on_exception</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
        <span class='close! fid id'>close!</span>
        <span class='@exception_block ivar id'>@exception_block</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='e identifier id'>e</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='comma token'>,</span> <span class='symbol val'>:sending</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='else else kw'>else</span>
      <span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='debuglog identifier id'>debuglog</span> <span class='dstring node'>&quot;Exception caught while sending! (#{e.class})\n#{e.backtrace.join(&quot;\n&quot;)}&quot;</span>
      <span class='close! fid id'>close!</span>
      <span class='raise identifier id'>raise</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='comment val'># The parser thread might be running this (think of a callback running send())</span>
  <span class='comment val'># If this is the case, we mustn't stop (or we would cause a deadlock)</span>
  <span class='if if kw'>if</span> <span class='block identifier id'>block</span> <span class='and and kw'>and</span> <span class='Thread constant id'>Thread</span><span class='dot token'>.</span><span class='current identifier id'>current</span> <span class='neq op'>!=</span> <span class='@parser_thread ivar id'>@parser_thread</span>
    <span class='threadblock identifier id'>threadblock</span><span class='dot token'>.</span><span class='wait identifier id'>wait</span>
  <span class='elsif elsif kw'>elsif</span> <span class='block identifier id'>block</span>
    <span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='debuglog identifier id'>debuglog</span><span class='lparen token'>(</span><span class='string val'>&quot;WARNING:\nCannot stop current thread in Jabber::Stream#send because it is the parser thread!&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>send_data</h3>
</div><div id="send_data-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>send_data</span><span class='args'>(data)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 288</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L288">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">288
289
290
291
292
293
294</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='send_data identifier id'>send_data</span><span class='lparen token'>(</span><span class='data identifier id'>data</span><span class='rparen token'>)</span>
  <span class='@send_lock ivar id'>@send_lock</span><span class='dot token'>.</span><span class='synchronize identifier id'>synchronize</span> <span class='do do kw'>do</span>
    <span class='@last_send ivar id'>@last_send</span> <span class='assign token'>=</span> <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='now identifier id'>now</span>
    <span class='@fd ivar id'>@fd</span> <span class='lshft op'>&lt;&lt;</span> <span class='data identifier id'>data</span>
    <span class='@fd ivar id'>@fd</span><span class='dot token'>.</span><span class='flush identifier id'>flush</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>send_with_id</h3>
</div><div id="send_with_id-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>send_with_id</span><span class='args'>(xml, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Send an XMMP stanza with an Jabber::XMPPStanza#id. The id will be generated
by Jabber::IdGenerator if not already set.
</p>
<p>
The block will be called once: when receiving a stanza with the same
Jabber::XMPPStanza#id. There is no need to return true to complete this!
Instead the return value of the block will be returned. This is a direct
result of unique request/response stanza identification via the id
attribute.
</p>
<p>
The block may be omitted. Then, the result will be the response stanza.
</p>
<p>
Be aware that if a stanza with <tt>type=&#8217;error&#8217;</tt> is
received the function does not yield but raises an ServerError with the
corresponding error element.
</p>
<p>
Please see Stream#send for some implementational details.
</p>
<p>
Please read the note about nesting at Stream#send
</p>
<table>
<tr><td valign="top">xml:</td><td>[XMPPStanza]

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 364</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L364">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='send_with_id identifier id'>send_with_id</span><span class='lparen token'>(</span><span class='xml identifier id'>xml</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='xml identifier id'>xml</span><span class='dot token'>.</span><span class='id identifier id'>id</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
    <span class='xml identifier id'>xml</span><span class='dot token'>.</span><span class='id identifier id'>id</span> <span class='assign token'>=</span> <span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='IdGenerator constant id'>IdGenerator</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='dot token'>.</span><span class='generate_id identifier id'>generate_id</span>
  <span class='end end kw'>end</span>

  <span class='res identifier id'>res</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='error identifier id'>error</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='xml identifier id'>xml</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='received identifier id'>received</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='received identifier id'>received</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span> <span class='XMPPStanza constant id'>XMPPStanza</span> <span class='and and kw'>and</span> <span class='received identifier id'>received</span><span class='dot token'>.</span><span class='id identifier id'>id</span> <span class='eq op'>==</span> <span class='xml identifier id'>xml</span><span class='dot token'>.</span><span class='id identifier id'>id</span>
      <span class='if if kw'>if</span> <span class='received identifier id'>received</span><span class='dot token'>.</span><span class='type identifier id'>type</span> <span class='eq op'>==</span> <span class='symbol val'>:error</span>
        <span class='error identifier id'>error</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='received identifier id'>received</span><span class='dot token'>.</span><span class='error identifier id'>error</span> <span class='integer val'>? </span><span class='received identifier id'>received</span><span class='dot token'>.</span><span class='error identifier id'>error</span> <span class='colon op'>:</span> <span class='ErrorResponse constant id'>ErrorResponse</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='rparen token'>)</span>
        <span class='true true kw'>true</span>
      <span class='elsif elsif kw'>elsif</span> <span class='block_given? fid id'>block_given?</span>
        <span class='res identifier id'>res</span> <span class='assign token'>=</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='received identifier id'>received</span><span class='rparen token'>)</span>
        <span class='true true kw'>true</span>
      <span class='else else kw'>else</span>
        <span class='res identifier id'>res</span> <span class='assign token'>=</span> <span class='received identifier id'>received</span>
        <span class='true true kw'>true</span>
      <span class='end end kw'>end</span>
    <span class='else else kw'>else</span>
      <span class='false false kw'>false</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='unless unless kw'>unless</span> <span class='error identifier id'>error</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
    <span class='raise identifier id'>raise</span> <span class='ServerError constant id'>ServerError</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='error identifier id'>error</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='res identifier id'>res</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>start</h3>
</div><div id="start-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>start</span><span class='args'>(fd)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Start the XML parser on the fd
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 61</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L61">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='start identifier id'>start</span><span class='lparen token'>(</span><span class='fd identifier id'>fd</span><span class='rparen token'>)</span>
  <span class='@stream_mechanisms ivar id'>@stream_mechanisms</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@stream_features ivar id'>@stream_features</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>

  <span class='@fd ivar id'>@fd</span> <span class='assign token'>=</span> <span class='fd identifier id'>fd</span>
  <span class='@parser ivar id'>@parser</span> <span class='assign token'>=</span> <span class='StreamParser constant id'>StreamParser</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@fd ivar id'>@fd</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='rparen token'>)</span>
  <span class='@parser_thread ivar id'>@parser_thread</span> <span class='assign token'>=</span> <span class='Thread constant id'>Thread</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span>
    <span class='Thread constant id'>Thread</span><span class='dot token'>.</span><span class='current identifier id'>current</span><span class='dot token'>.</span><span class='abort_on_exception identifier id'>abort_on_exception</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
    <span class='begin begin kw'>begin</span>
      <span class='@parser ivar id'>@parser</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span>
      <span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='debuglog identifier id'>debuglog</span><span class='lparen token'>(</span><span class='string val'>&quot;DISCONNECTED\n&quot;</span><span class='rparen token'>)</span>

      <span class='if if kw'>if</span> <span class='@exception_block ivar id'>@exception_block</span>
        <span class='Thread constant id'>Thread</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='lbrace token'>{</span> <span class='close! fid id'>close!</span><span class='semicolon token'>;</span> <span class='@exception_block ivar id'>@exception_block</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='comma token'>,</span> <span class='symbol val'>:disconnected</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
      <span class='else else kw'>else</span>
        <span class='close! fid id'>close!</span>
      <span class='end end kw'>end</span>
    <span class='rescue rescue kw'>rescue</span> <span class='Exception constant id'>Exception</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='e identifier id'>e</span>
      <span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='debuglog identifier id'>debuglog</span><span class='lparen token'>(</span><span class='dstring node'>&quot;EXCEPTION:\n#{e.class}\n#{e.message}\n#{e.backtrace.join(&quot;\n&quot;)}&quot;</span><span class='rparen token'>)</span>

      <span class='if if kw'>if</span> <span class='@exception_block ivar id'>@exception_block</span>
        <span class='Thread constant id'>Thread</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span>
          <span class='Thread constant id'>Thread</span><span class='dot token'>.</span><span class='current identifier id'>current</span><span class='dot token'>.</span><span class='abort_on_exception identifier id'>abort_on_exception</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
          <span class='close identifier id'>close</span>
          <span class='@exception_block ivar id'>@exception_block</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='e identifier id'>e</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='comma token'>,</span> <span class='symbol val'>:start</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
      <span class='else else kw'>else</span>
        <span class='Jabber constant id'>Jabber</span><span class='colon2 op'>::</span><span class='debuglog identifier id'>debuglog</span> <span class='dstring node'>&quot;Exception caught in Parser thread! (#{e.class})\n#{e.backtrace.join(&quot;\n&quot;)}&quot;</span>
        <span class='close! fid id'>close!</span>
        <span class='raise identifier id'>raise</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='@status ivar id'>@status</span> <span class='assign token'>=</span> <span class='CONNECTED constant id'>CONNECTED</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>stop</h3>
</div><div id="stop-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>stop</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/vendor/xmpp4r/lib/xmpp4r/stream.rb', line 98</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/cpjolicoeur/cerberus/blob/d1ad485492d4fd34faabdc722d44bcb81fa6e639/lib/vendor/xmpp4r/lib/xmpp4r/stream.rb#L98">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">98
99
100
101</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='stop identifier id'>stop</span>
  <span class='@parser_thread ivar id'>@parser_thread</span><span class='dot token'>.</span><span class='kill identifier id'>kill</span>
  <span class='@parser ivar id'>@parser</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>