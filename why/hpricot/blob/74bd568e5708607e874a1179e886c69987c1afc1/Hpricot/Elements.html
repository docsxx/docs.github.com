<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>why's hpricot - Class: Hpricot::Elements - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/why/commits/hpricot/master" rel="alternate" title="Recent Commits to hpricot:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("why", "hpricot", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("why", "hpricot", "74bd568e5708607e874a1179e886c69987c1afc1", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/why/hpricot/tree/">Source</a></li>
            <li class=""><a href="http://github.com/why/hpricot/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/why/hpricot/network">Network</a></li>            
            <li class=""><a href="http://github.com/why/hpricot/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/why/hpricot">Wiki</a></li>
            <li class=""><a href="http://github.com/why/hpricot/graphs">Graphs</a></li>                    
            <li class="active"><a href="/why/hpricot">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/why">why</a> / <b><a href="http://github.com/why/hpricot/tree">hpricot</a></b>        
                <a id="namespaces_button" rel="why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Hpricot_Elements">
  <h1>Class: Hpricot::Elements</h1>
  <div class="section inheritance">
  <ul>
  <li>Array</li><ul><li>Hpricot::Elements</li>
  </ul></ul>
</div><div class="section docstring">
  <p>
Once you&#8217;ve matched a list of elements, you will often need to handle
them as a group. Or you may want to perform the same action on each of
them. Hpricot::Elements is an extension of Ruby&#8217;s array class, with
some methods added for altering elements contained in the array.
</p>
<p>
If you need to create an element array from regular elements:
</p>
<pre class="code">
  <span class='Hpricot constant id'>Hpricot</span><span class='colon2 op'>::</span><span class='Elements constant id'>Elements</span><span class='lbrack token'>[</span><span class='ele1 identifier id'>ele1</span><span class='comma token'>,</span> <span class='ele2 identifier id'>ele2</span><span class='comma token'>,</span> <span class='ele3 identifier id'>ele3</span><span class='rbrack token'>]</span>
</pre>
<p>
Assuming that ele1, ele2 and ele3 contain element objects (Hpricot::Elem,
Hpricot::Doc, etc.)
</p>
<h2>Continuing Searches</h2>
<p>
Usually the Hpricot::Elements you&#8217;re working on comes from a search
you&#8217;ve done. Well, you can continue searching the list by using the
same <tt>at</tt> and <tt>search</tt> methods you can use on plain elements.
</p>
<pre class="code">
  <span class='elements identifier id'>elements</span> <span class='assign token'>=</span> <span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='string val'>&quot;/div/p&quot;</span><span class='rparen token'>)</span>
  <span class='elements identifier id'>elements</span> <span class='assign token'>=</span> <span class='elements identifier id'>elements</span><span class='dot token'>.</span><span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='string val'>&quot;/a[@href='http://hoodwink.d/']&quot;</span><span class='rparen token'>)</span>
  <span class='elements identifier id'>elements</span> <span class='assign token'>=</span> <span class='elements identifier id'>elements</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='string val'>&quot;img&quot;</span><span class='rparen token'>)</span>
</pre>
<h2>Altering Elements</h2>
<p>
When you&#8217;re altering elements in the list, your changes will be
reflected in the document you started searching from.
</p>
<pre class="code">
  <span class='doc identifier id'>doc</span> <span class='assign token'>=</span> <span class='Hpricot constant id'>Hpricot</span><span class='lparen token'>(</span><span class='string val'>&quot;That's my &lt;b&gt;spoon&lt;/b&gt;, Tyler.&quot;</span><span class='rparen token'>)</span>
  <span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='string val'>&quot;b&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='swap identifier id'>swap</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;i&gt;fork&lt;/i&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='to_html identifier id'>to_html</span>
    <span class='comment val'>#=&gt; &quot;That's my &lt;i&gt;fork&lt;/i&gt;, Tyler.&quot;</span>
</pre>
<h2>Getting More Detailed</h2>
<p>
If you can&#8217;t find a method here that does what you need, you may need
to loop through the elements and find a method in Hpricot::Container::Trav
which can do what you need.
</p>
<p>
For example, you may want to search for all the H3 header tags in a
document and grab all the tags underneath the header, but not inside the
header. A good method for this is <tt>next_sibling</tt>:
</p>
<pre class="code">
  <span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='string val'>&quot;h3&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='h3 identifier id'>h3</span><span class='bitor op'>|</span>
    <span class='while while kw'>while</span> <span class='ele identifier id'>ele</span> <span class='assign token'>=</span> <span class='h3 identifier id'>h3</span><span class='dot token'>.</span><span class='next_sibling identifier id'>next_sibling</span>
      <span class='ary identifier id'>ary</span> <span class='lshft op'>&lt;&lt;</span> <span class='ele identifier id'>ele</span>   <span class='comment val'># stuff away all the elements under the h3</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
<p>
Most of the useful element methods are in the mixins Hpricot::Traverse and
Hpricot::Container::Trav.
</p>

</div><div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="ATTR_RE-constant">ATTR_RE</dt>
      <dd>%r!\[ *(?:(@)([\w\(\)-]+)|([\w\(\)-]+\(\))) *([~\!\|\*$\^=]*) *'?&quot;?([^'&quot;]*)'?&quot;? *\]!i</dd>
    
      <dt id="BRACK_RE-constant">BRACK_RE</dt>
      <dd>%r!(\[) *([^\]]*) *\]+!i</dd>
    
      <dt id="CATCH_RE-constant">CATCH_RE</dt>
      <dd>%r!([:\.#]*)([a-zA-Z0-9\*_-]+)!</dd>
    
      <dt id="CUST_RE-constant">CUST_RE</dt>
      <dd>%r!(:)([a-zA-Z0-9\*_-]*)()!</dd>
    
      <dt id="FUNC_RE-constant">FUNC_RE</dt>
      <dd>%r!(:)?([a-zA-Z0-9\*_-]*)\( *[\&quot;']?([^ \)]*?)['\&quot;]? *\)!</dd>
    
  </dl>
</div>

</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#expand-class_method">expand</span><span class='args'>(ele1, ele2, excl = false)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Given two elements, attempt to gather an Elements array of everything
between (and including) those two elements.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#filter-class_method">filter</span><span class='args'>(nodes, expr, truth = true)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#add_class-instance_method">#add_class</span><span class='args'>(class_name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Adds the class to all matched elements.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#after-instance_method">#after</span><span class='args'>(str = nil, &amp;blk)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Just after each element in this list, add some HTML.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#append-instance_method">#append</span><span class='args'>(str = nil, &amp;blk)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Add to the end of the contents inside each element in this list.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#at-instance_method">#at</span><span class='args'>(expr, &amp;blk)</span>
        <span class='block'></span>
        
          <span class='alias'>#%</span>
        
      </th>
      <td class="docstring">
        <p>
Searches this list for the first element (or child of these elements)
matching the CSS or XPath expression <tt>expr</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#attr-instance_method">#attr</span><span class='args'>(key, value = nil, &amp;blk)</span>
        <span class='block'></span>
        
          <span class='alias'>#set</span>
        
      </th>
      <td class="docstring">
        <p>
Gets and sets attributes on all matched elements.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#before-instance_method">#before</span><span class='args'>(str = nil, &amp;blk)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Add some HTML just previous to each element in this list.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#empty-instance_method">#empty</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Empty the elements in this list, by removing their insides.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#filter-instance_method">#filter</span><span class='args'>(expr)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#inner_html-instance_method">#inner_html</span><span class='args'>(*string)</span>
        <span class='block'></span>
        
          <span class='alias'>#innerHTML</span>
        
          <span class='alias'>#html</span>
        
      </th>
      <td class="docstring">
        <p>
Returns an HTML fragment built of the contents of each element in this
list.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#inner_html-3D-instance_method">#inner_html=</span><span class='args'>(string)</span>
        <span class='block'></span>
        
          <span class='alias'>#innerHTML=</span>
        
          <span class='alias'>#html=</span>
        
      </th>
      <td class="docstring">
        <p>
Replaces the contents of each element in this list.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#inner_text-instance_method">#inner_text</span><span class='args'></span>
        <span class='block'></span>
        
          <span class='alias'>#text</span>
        
      </th>
      <td class="docstring">
        <p>
Returns an string containing the text contents of each element in this
list.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#not-instance_method">#not</span><span class='args'>(expr)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#prepend-instance_method">#prepend</span><span class='args'>(str = nil, &amp;blk)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Add to the start of the contents inside each element in this list.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#pretty_print-instance_method">#pretty_print</span><span class='args'>(q)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#remove-instance_method">#remove</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Remove all elements in this list from the document which contains them.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#remove_attr-instance_method">#remove_attr</span><span class='args'>(name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Remove an attribute from each of the matched elements.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#remove_class-instance_method">#remove_class</span><span class='args'>(name = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Removes a class from all matched elements.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#search-instance_method">#search</span><span class='args'>(*expr, &amp;blk)</span>
        <span class='block'></span>
        
          <span class='alias'>#/</span>
        
      </th>
      <td class="docstring">
        <p>
Searches this list for any elements (or children of these elements)
matching the CSS or XPath expression <tt>expr</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_html-instance_method">#to_html</span><span class='args'></span>
        <span class='block'></span>
        
          <span class='alias'>#to_s</span>
        
      </th>
      <td class="docstring">
        <p>
Convert this group of elements into a complete HTML fragment, returned as a
string.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#wrap-instance_method">#wrap</span><span class='args'>(str = nil, &amp;blk)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Wraps each element in the list inside the element created by HTML
<tt>str</tt>.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>expand</h3>
</div><div id="expand-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>expand</span><span class='args'>(ele1, ele2, excl = false)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Given two elements, attempt to gather an Elements array of everything
between (and including) those two elements.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/hpricot/elements.rb', line 315</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1/lib/hpricot/elements.rb#L315">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='expand identifier id'>expand</span><span class='lparen token'>(</span><span class='ele1 identifier id'>ele1</span><span class='comma token'>,</span> <span class='ele2 identifier id'>ele2</span><span class='comma token'>,</span> <span class='excl identifier id'>excl</span><span class='assign token'>=</span><span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='ary identifier id'>ary</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='offset identifier id'>offset</span> <span class='assign token'>=</span> <span class='excl identifier id'>excl</span> <span class='integer val'>? </span><span class='minus op'>-</span><span class='integer val'>1</span> <span class='colon op'>:</span> <span class='integer val'>0</span>

  <span class='if if kw'>if</span> <span class='ele1 identifier id'>ele1</span> <span class='and and kw'>and</span> <span class='ele2 identifier id'>ele2</span>
    <span class='comment val'># let's quickly take care of siblings</span>
    <span class='if if kw'>if</span> <span class='ele1 identifier id'>ele1</span><span class='dot token'>.</span><span class='parent identifier id'>parent</span> <span class='eq op'>==</span> <span class='ele2 identifier id'>ele2</span><span class='dot token'>.</span><span class='parent identifier id'>parent</span>
      <span class='ary identifier id'>ary</span> <span class='assign token'>=</span> <span class='ele1 identifier id'>ele1</span><span class='dot token'>.</span><span class='parent identifier id'>parent</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='ele1 identifier id'>ele1</span><span class='dot token'>.</span><span class='node_position identifier id'>node_position</span><span class='dot2 op'>..</span><span class='lparen token'>(</span><span class='ele2 identifier id'>ele2</span><span class='dot token'>.</span><span class='node_position identifier id'>node_position</span><span class='plus op'>+</span><span class='offset identifier id'>offset</span><span class='rparen token'>)</span><span class='rbrack token'>]</span>
    <span class='else else kw'>else</span>
      <span class='comment val'># find common parent</span>
      <span class='p identifier id'>p</span><span class='comma token'>,</span> <span class='ele1_p identifier id'>ele1_p</span> <span class='assign token'>=</span> <span class='ele1 identifier id'>ele1</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='ele1 identifier id'>ele1</span><span class='rbrack token'>]</span>
      <span class='ele1_p identifier id'>ele1_p</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span> <span class='p identifier id'>p</span> <span class='while while_mod kw'>while</span> <span class='p identifier id'>p</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:parent</span><span class='rparen token'>)</span> <span class='and and kw'>and</span> <span class='p identifier id'>p</span> <span class='assign token'>=</span> <span class='p identifier id'>p</span><span class='dot token'>.</span><span class='parent identifier id'>parent</span>
      <span class='p identifier id'>p</span><span class='comma token'>,</span> <span class='ele2_p identifier id'>ele2_p</span> <span class='assign token'>=</span> <span class='ele2 identifier id'>ele2</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='ele2 identifier id'>ele2</span><span class='rbrack token'>]</span>
      <span class='ele2_p identifier id'>ele2_p</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span> <span class='p identifier id'>p</span> <span class='while while_mod kw'>while</span> <span class='p identifier id'>p</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:parent</span><span class='rparen token'>)</span> <span class='and and kw'>and</span> <span class='p identifier id'>p</span> <span class='assign token'>=</span> <span class='p identifier id'>p</span><span class='dot token'>.</span><span class='parent identifier id'>parent</span>
      <span class='common_parent identifier id'>common_parent</span> <span class='assign token'>=</span> <span class='ele1_p identifier id'>ele1_p</span><span class='dot token'>.</span><span class='zip identifier id'>zip</span><span class='lparen token'>(</span><span class='ele2_p identifier id'>ele2_p</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='select identifier id'>select</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='p1 identifier id'>p1</span><span class='comma token'>,</span> <span class='p2 identifier id'>p2</span><span class='bitor op'>|</span> <span class='p1 identifier id'>p1</span> <span class='eq op'>==</span> <span class='p2 identifier id'>p2</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='dot token'>.</span><span class='last identifier id'>last</span>

      <span class='child identifier id'>child</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
      <span class='if if kw'>if</span> <span class='ele1 identifier id'>ele1</span> <span class='eq op'>==</span> <span class='common_parent identifier id'>common_parent</span>
        <span class='child identifier id'>child</span> <span class='assign token'>=</span> <span class='ele2 identifier id'>ele2</span>
      <span class='elsif elsif kw'>elsif</span> <span class='ele2 identifier id'>ele2</span> <span class='eq op'>==</span> <span class='common_parent identifier id'>common_parent</span>
        <span class='child identifier id'>child</span> <span class='assign token'>=</span> <span class='ele1 identifier id'>ele1</span>
      <span class='end end kw'>end</span>

      <span class='if if kw'>if</span> <span class='child identifier id'>child</span>
        <span class='ary identifier id'>ary</span> <span class='assign token'>=</span> <span class='common_parent identifier id'>common_parent</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='lparen token'>(</span><span class='child identifier id'>child</span><span class='dot token'>.</span><span class='node_position identifier id'>node_position</span><span class='plus op'>+</span><span class='offset identifier id'>offset</span><span class='rparen token'>)</span><span class='rbrack token'>]</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='return return kw'>return</span> <span class='Elements constant id'>Elements</span><span class='lbrack token'>[</span><span class='mult op'>*</span><span class='ary identifier id'>ary</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>filter</h3>
</div><div id="filter-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>filter</span><span class='args'>(nodes, expr, truth = true)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/hpricot/elements.rb', line 270</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1/lib/hpricot/elements.rb#L270">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='filter identifier id'>filter</span><span class='lparen token'>(</span><span class='nodes identifier id'>nodes</span><span class='comma token'>,</span> <span class='expr identifier id'>expr</span><span class='comma token'>,</span> <span class='truth identifier id'>truth</span> <span class='assign token'>=</span> <span class='true true kw'>true</span><span class='rparen token'>)</span>
    <span class='until until kw'>until</span> <span class='expr identifier id'>expr</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
        <span class='_ identifier id'>_</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='mult op'>*</span><span class='expr identifier id'>expr</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='dregexp node'>/^(?:#{ATTR_RE}|#{BRACK_RE}|#{FUNC_RE}|#{CUST_RE}|#{CATCH_RE})/</span><span class='rparen token'>)</span>
        <span class='break break kw'>break</span> <span class='unless unless_mod kw'>unless</span> <span class='_ identifier id'>_</span>

        <span class='expr identifier id'>expr</span> <span class='assign token'>=</span> <span class='$' back_ref id'>$'</span>
        <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='compact! fid id'>compact!</span>
        <span class='if if kw'>if</span> <span class='m identifier id'>m</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='string val'>'@'</span>
            <span class='m identifier id'>m</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;@#{m.slice!(2,1).join}&quot;</span>
        <span class='end end kw'>end</span>

        <span class='if if kw'>if</span> <span class='m identifier id'>m</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='string val'>'['</span> <span class='andop op'>&amp;&amp;</span> <span class='m identifier id'>m</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='match op'>=~</span> <span class='regexp val'>/^\d+$/</span>
            <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='string val'>&quot;:&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;nth&quot;</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span><span class='minus op'>-</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
        <span class='end end kw'>end</span>

        <span class='if if kw'>if</span> <span class='m identifier id'>m</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='string val'>&quot;:&quot;</span> <span class='andop op'>&amp;&amp;</span> <span class='m identifier id'>m</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='string val'>&quot;not&quot;</span>
            <span class='nodes identifier id'>nodes</span><span class='comma token'>,</span> <span class='assign token'>=</span> <span class='Elements constant id'>Elements</span><span class='dot token'>.</span><span class='filter identifier id'>filter</span><span class='lparen token'>(</span><span class='nodes identifier id'>nodes</span><span class='comma token'>,</span> <span class='m identifier id'>m</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>
        <span class='elsif elsif kw'>elsif</span> <span class='dstring node'>&quot;#{m[0]}#{m[1]}&quot;</span> <span class='match op'>=~</span> <span class='regexp val'>/^(:even|:odd)$/</span>
            <span class='new_nodes identifier id'>new_nodes</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
            <span class='nodes identifier id'>nodes</span><span class='dot token'>.</span><span class='each_with_index identifier id'>each_with_index</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='n identifier id'>n</span><span class='comma token'>,</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='new_nodes identifier id'>new_nodes</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='n identifier id'>n</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='i identifier id'>i</span> <span class='mod op'>%</span> <span class='integer val'>2</span> <span class='eq op'>==</span> <span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='string val'>&quot;even&quot;</span> <span class='question op'>?</span> <span class='integer val'>0</span> <span class='colon op'>:</span> <span class='integer val'>1</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
            <span class='nodes identifier id'>nodes</span> <span class='assign token'>=</span> <span class='new_nodes identifier id'>new_nodes</span>
        <span class='elsif elsif kw'>elsif</span> <span class='dstring node'>&quot;#{m[0]}#{m[1]}&quot;</span> <span class='match op'>=~</span> <span class='regexp val'>/^(:first|:last)$/</span>
            <span class='nodes identifier id'>nodes</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='nodes identifier id'>nodes</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='rbrack token'>]</span>
        <span class='else else kw'>else</span>
            <span class='meth identifier id'>meth</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;filter[#{m[0]}#{m[1]}]&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='m identifier id'>m</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
            <span class='if if kw'>if</span> <span class='meth identifier id'>meth</span> <span class='and and kw'>and</span> <span class='Traverse constant id'>Traverse</span><span class='dot token'>.</span><span class='method_defined? fid id'>method_defined?</span> <span class='meth identifier id'>meth</span>
                <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='m identifier id'>m</span><span class='lbrack token'>[</span><span class='float val'>2</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span>
            <span class='else else kw'>else</span>
                <span class='meth identifier id'>meth</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;filter[#{m[0]}]&quot;</span>
                <span class='if if kw'>if</span> <span class='Traverse constant id'>Traverse</span><span class='dot token'>.</span><span class='method_defined? fid id'>method_defined?</span> <span class='meth identifier id'>meth</span>
                    <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='m identifier id'>m</span><span class='lbrack token'>[</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span>
                <span class='end end kw'>end</span>
            <span class='end end kw'>end</span>
            <span class='args identifier id'>args</span> <span class='lshft op'>&lt;&lt;</span> <span class='integer val'>-1</span>
            <span class='nodes identifier id'>nodes</span> <span class='assign token'>=</span> <span class='Elements constant id'>Elements</span><span class='lbrack token'>[</span><span class='mult op'>*</span><span class='nodes identifier id'>nodes</span><span class='dot token'>.</span><span class='find_all identifier id'>find_all</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> 
                                  <span class='args identifier id'>args</span><span class='lbrack token'>[</span><span class='integer val'>-1</span><span class='rbrack token'>]</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
                                  <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='meth identifier id'>meth</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='truth identifier id'>truth</span> <span class='colon op'>:</span> <span class='notop op'>!</span><span class='truth identifier id'>truth</span>
                              <span class='end end kw'>end</span><span class='rbrack token'>]</span>
        <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='lbrack token'>[</span><span class='nodes identifier id'>nodes</span><span class='comma token'>,</span> <span class='expr identifier id'>expr</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>add_class</h3>
</div><div id="add_class-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>add_class</span><span class='args'>(class_name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Adds the class to all matched elements.
</p>
<pre class="code">
  <span class='lparen token'>(</span><span class='doc identifier id'>doc</span><span class='div op'>/</span><span class='string val'>&quot;p&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='add_class identifier id'>add_class</span><span class='lparen token'>(</span><span class='string val'>&quot;bacon&quot;</span><span class='rparen token'>)</span>
</pre>
<p>
Now all paragraphs will have class=&quot;bacon&quot;.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/hpricot/elements.rb', line 222</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1/lib/hpricot/elements.rb#L222">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">222
223
224
225
226
227
228
229</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='add_class identifier id'>add_class</span> <span class='class_name identifier id'>class_name</span>
  <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='el identifier id'>el</span><span class='bitor op'>|</span>
    <span class='next next kw'>next</span> <span class='unless unless_mod kw'>unless</span> <span class='el identifier id'>el</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span> <span class='symbol val'>:get_attribute</span>
    <span class='classes identifier id'>classes</span> <span class='assign token'>=</span> <span class='el identifier id'>el</span><span class='dot token'>.</span><span class='get_attribute identifier id'>get_attribute</span><span class='lparen token'>(</span><span class='string val'>'class'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>&quot; &quot;</span><span class='rparen token'>)</span>
    <span class='el identifier id'>el</span><span class='dot token'>.</span><span class='set_attribute identifier id'>set_attribute</span><span class='lparen token'>(</span><span class='string val'>'class'</span><span class='comma token'>,</span> <span class='classes identifier id'>classes</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='class_name identifier id'>class_name</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='uniq identifier id'>uniq</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot; &quot;</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>after</h3>
</div><div id="after-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>after</span><span class='args'>(str = nil, &amp;blk)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Just after each element in this list, add some HTML. Pass in an HTML
<tt>str</tt>, which is turned into Hpricot elements.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/hpricot/elements.rb', line 150</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1/lib/hpricot/elements.rb#L150">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">150
151
152</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='after identifier id'>after</span><span class='lparen token'>(</span><span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span>
  <span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='parent identifier id'>parent</span><span class='dot token'>.</span><span class='insert_after identifier id'>insert_after</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='make identifier id'>make</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='x identifier id'>x</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>append</h3>
</div><div id="append-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>append</span><span class='args'>(str = nil, &amp;blk)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Add to the end of the contents inside each element in this list. Pass in an
HTML <tt>str</tt>, which is turned into Hpricot elements.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/hpricot/elements.rb', line 132</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1/lib/hpricot/elements.rb#L132">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">132
133
134</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='append identifier id'>append</span><span class='lparen token'>(</span><span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span>
  <span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='html identifier id'>html</span><span class='lparen token'>(</span><span class='x identifier id'>x</span><span class='dot token'>.</span><span class='children identifier id'>children</span> <span class='plus op'>+</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='make identifier id'>make</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>at</h3>
</div><div id="at-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>at</span><span class='args'>(expr, &amp;blk)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="%-instance_method">%</tt>
  
</p>
</div><div class="section docstring">
  <p>
Searches this list for the first element (or child of these elements)
matching the CSS or XPath expression <tt>expr</tt>. Root is assumed to be
the element scanned.
</p>
<p>
See Hpricot::Container::Trav.at for more.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/hpricot/elements.rb', line 67</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1/lib/hpricot/elements.rb#L67">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">67
68
69</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='expr identifier id'>expr</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span>
  <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='expr identifier id'>expr</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>attr</h3>
</div><div id="attr-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>attr</span><span class='args'>(key, value = nil, &amp;blk)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="set-instance_method">set</tt>
  
</p>
</div><div class="section docstring">
  <p>
Gets and sets attributes on all matched elements.
</p>
<p>
Pass in a <tt>key</tt> on its own and this method will return the string
value assigned to that attribute for the first elements. Or <tt>nil</tt> if
the attribute isn&#8217;t found.
</p>
<pre class="code">
  <span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='string val'>&quot;a&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='attr identifier id'>attr</span><span class='lparen token'>(</span><span class='string val'>&quot;href&quot;</span><span class='rparen token'>)</span>
    <span class='comment val'>#=&gt; &quot;http://hacketyhack.net/&quot;</span>
</pre>
<p>
Or, pass in a <tt>key</tt> and <tt>value</tt>. This will set an attribute
for all matched elements.
</p>
<pre class="code">
  <span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='string val'>&quot;p&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='attr identifier id'>attr</span><span class='lparen token'>(</span><span class='string val'>&quot;class&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;basic&quot;</span><span class='rparen token'>)</span>
</pre>
<p>
You may also use a Hash to set a series of attributes:
</p>
<pre class="code">
  <span class='lparen token'>(</span><span class='doc identifier id'>doc</span><span class='div op'>/</span><span class='string val'>&quot;a&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='attr identifier id'>attr</span><span class='lparen token'>(</span><span class='symbol val'>:class</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;basic&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:href</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;http://hackety.org/&quot;</span><span class='rparen token'>)</span>
</pre>
<p>
Lastly, a block can be used to rewrite an attribute based on the element it
belongs to. The block will pass in an element. Return from the block the
new value of the attribute.
</p>
<pre class="code">
  <span class='records identifier id'>records</span><span class='dot token'>.</span><span class='attr identifier id'>attr</span><span class='lparen token'>(</span><span class='string val'>&quot;href&quot;</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='e identifier id'>e</span><span class='lbrack token'>[</span><span class='string val'>'href'</span><span class='rbrack token'>]</span> <span class='plus op'>+</span> <span class='string val'>&quot;#top&quot;</span> <span class='rbrace token'>}</span>
</pre>
<p>
This example adds a <tt>#top</tt> anchor to each link.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/hpricot/elements.rb', line 201</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1/lib/hpricot/elements.rb#L201">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">201
202
203
204
205
206
207
208
209
210
211
212
213
214</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='attr identifier id'>attr</span> <span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span>
  <span class='if if kw'>if</span> <span class='value identifier id'>value</span> <span class='or or kw'>or</span> <span class='blk identifier id'>blk</span>
    <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='el identifier id'>el</span><span class='bitor op'>|</span>
      <span class='el identifier id'>el</span><span class='dot token'>.</span><span class='set_attribute identifier id'>set_attribute</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span> <span class='orop op'>||</span> <span class='blk identifier id'>blk</span><span class='lbrack token'>[</span><span class='el identifier id'>el</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='return return kw'>return</span> <span class='self self kw'>self</span>      
  <span class='end end kw'>end</span>    
  <span class='if if kw'>if</span> <span class='key identifier id'>key</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span> <span class='Hash constant id'>Hash</span>
    <span class='key identifier id'>key</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='attr identifier id'>attr</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='return return kw'>return</span> <span class='self self kw'>self</span>
  <span class='else else kw'>else</span>
    <span class='return return kw'>return</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='get_attribute identifier id'>get_attribute</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>before</h3>
</div><div id="before-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>before</span><span class='args'>(str = nil, &amp;blk)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Add some HTML just previous to each element in this list. Pass in an HTML
<tt>str</tt>, which is turned into Hpricot elements.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/hpricot/elements.rb', line 144</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1/lib/hpricot/elements.rb#L144">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">144
145
146</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='before identifier id'>before</span><span class='lparen token'>(</span><span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span>
  <span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='parent identifier id'>parent</span><span class='dot token'>.</span><span class='insert_before identifier id'>insert_before</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='make identifier id'>make</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='x identifier id'>x</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>empty</h3>
</div><div id="empty-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>empty</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Empty the elements in this list, by removing their insides.
</p>
<pre class="code">
  <span class='doc identifier id'>doc</span> <span class='assign token'>=</span> <span class='Hpricot constant id'>Hpricot</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;p&gt; We have &lt;i&gt;so much&lt;/i&gt; to say.&lt;/p&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='string val'>&quot;i&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='empty identifier id'>empty</span>
  <span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='to_html identifier id'>to_html</span>
    <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;&lt;p&gt; We have &lt;i&gt;&lt;/i&gt; to say.&lt;/p&gt;&quot;</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/hpricot/elements.rb', line 126</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1/lib/hpricot/elements.rb#L126">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">126
127
128</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='empty identifier id'>empty</span>
  <span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='inner_html identifier id'>inner_html</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>filter</h3>
</div><div id="filter-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>filter</span><span class='args'>(expr)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/hpricot/elements.rb', line 347</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1/lib/hpricot/elements.rb#L347">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">347
348
349
350</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='filter identifier id'>filter</span><span class='lparen token'>(</span><span class='expr identifier id'>expr</span><span class='rparen token'>)</span>
    <span class='nodes identifier id'>nodes</span><span class='comma token'>,</span> <span class='assign token'>=</span> <span class='Elements constant id'>Elements</span><span class='dot token'>.</span><span class='filter identifier id'>filter</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='expr identifier id'>expr</span><span class='rparen token'>)</span>
    <span class='nodes identifier id'>nodes</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>inner_html</h3>
</div><div id="inner_html-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>inner_html</span><span class='args'>(*string)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="innerHTML-instance_method">innerHTML</tt>
  
    <tt id="html-instance_method">html</tt>
  
</p>
</div><div class="section docstring">
  <p>
Returns an HTML fragment built of the contents of each element in this
list.
</p>
<p>
If a HTML <tt>string</tt> is supplied, this method acts like inner_html=.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/hpricot/elements.rb', line 82</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1/lib/hpricot/elements.rb#L82">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">82
83
84
85
86
87
88</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='inner_html identifier id'>inner_html</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='string identifier id'>string</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
    <span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='inner_html identifier id'>inner_html</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='join identifier id'>join</span>
  <span class='else else kw'>else</span>
    <span class='x identifier id'>x</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='inner_html identifier id'>inner_html</span> <span class='assign token'>=</span> <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span> <span class='orop op'>||</span> <span class='x identifier id'>x</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>inner_html=</h3>
</div><div id="inner_html-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>inner_html=</span><span class='args'>(string)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="innerHTML=-instance_method">innerHTML=</tt>
  
    <tt id="html=-instance_method">html=</tt>
  
</p>
</div><div class="section docstring">
  <p>
Replaces the contents of each element in this list. Supply an HTML
<tt>string</tt>, which is loaded into Hpricot objects and inserted into
every element in this list.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/hpricot/elements.rb', line 95</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1/lib/hpricot/elements.rb#L95">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">95
96
97</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='inner_html= identifier id'>inner_html=</span><span class='lparen token'>(</span><span class='string identifier id'>string</span><span class='rparen token'>)</span>
  <span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='inner_html identifier id'>inner_html</span> <span class='assign token'>=</span> <span class='string identifier id'>string</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>inner_text</h3>
</div><div id="inner_text-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>inner_text</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="text-instance_method">text</tt>
  
</p>
</div><div class="section docstring">
  <p>
Returns an string containing the text contents of each element in this
list. All HTML tags are removed.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/hpricot/elements.rb', line 103</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1/lib/hpricot/elements.rb#L103">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">103
104
105</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='inner_text identifier id'>inner_text</span>
  <span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='inner_text identifier id'>inner_text</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='join identifier id'>join</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>not</h3>
</div><div id="not-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>not</span><span class='args'>(expr)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/hpricot/elements.rb', line 352</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1/lib/hpricot/elements.rb#L352">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">352
353
354
355
356
357
358
359</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='not not kw'>not</span><span class='lparen token'>(</span><span class='expr identifier id'>expr</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='expr identifier id'>expr</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span> <span class='Traverse constant id'>Traverse</span>
        <span class='nodes identifier id'>nodes</span> <span class='assign token'>=</span> <span class='self self kw'>self</span> <span class='minus op'>-</span> <span class='lbrack token'>[</span><span class='expr identifier id'>expr</span><span class='rbrack token'>]</span>
    <span class='else else kw'>else</span>
        <span class='nodes identifier id'>nodes</span><span class='comma token'>,</span> <span class='assign token'>=</span> <span class='Elements constant id'>Elements</span><span class='dot token'>.</span><span class='filter identifier id'>filter</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='expr identifier id'>expr</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='nodes identifier id'>nodes</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>prepend</h3>
</div><div id="prepend-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>prepend</span><span class='args'>(str = nil, &amp;blk)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Add to the start of the contents inside each element in this list. Pass in
an HTML <tt>str</tt>, which is turned into Hpricot elements.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/hpricot/elements.rb', line 138</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1/lib/hpricot/elements.rb#L138">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">138
139
140</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='prepend identifier id'>prepend</span><span class='lparen token'>(</span><span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span>
  <span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='html identifier id'>html</span><span class='lparen token'>(</span><span class='x identifier id'>x</span><span class='dot token'>.</span><span class='make identifier id'>make</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>pretty_print</h3>
</div><div id="pretty_print-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>pretty_print</span><span class='args'>(q)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/hpricot/inspect.rb', line 6</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1/lib/hpricot/inspect.rb#L6">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">6
7
8</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='pretty_print identifier id'>pretty_print</span><span class='lparen token'>(</span><span class='q identifier id'>q</span><span class='rparen token'>)</span>
  <span class='q identifier id'>q</span><span class='dot token'>.</span><span class='object_group identifier id'>object_group</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='super super kw'>super</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>remove</h3>
</div><div id="remove-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>remove</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Remove all elements in this list from the document which contains them.
</p>
<pre class="code">
  <span class='doc identifier id'>doc</span> <span class='assign token'>=</span> <span class='Hpricot constant id'>Hpricot</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;html&gt;Remove this: &lt;b&gt;here&lt;/b&gt;&lt;/html&gt;&quot;</span><span class='rparen token'>)</span>
  <span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='string val'>&quot;b&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='remove identifier id'>remove</span>
  <span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='to_html identifier id'>to_html</span>
    <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;&lt;html&gt;Remove this: &lt;/html&gt;&quot;</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/hpricot/elements.rb', line 115</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1/lib/hpricot/elements.rb#L115">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">115
116
117</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='remove identifier id'>remove</span>
  <span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='parent identifier id'>parent</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='x identifier id'>x</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>remove_attr</h3>
</div><div id="remove_attr-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>remove_attr</span><span class='args'>(name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Remove an attribute from each of the matched elements.
</p>
<pre class="code">
  <span class='lparen token'>(</span><span class='doc identifier id'>doc</span><span class='div op'>/</span><span class='string val'>&quot;input&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='remove_attr identifier id'>remove_attr</span><span class='lparen token'>(</span><span class='string val'>&quot;disabled&quot;</span><span class='rparen token'>)</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/hpricot/elements.rb', line 235</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1/lib/hpricot/elements.rb#L235">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">235
236
237
238
239
240
241</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='remove_attr identifier id'>remove_attr</span> <span class='name identifier id'>name</span>
  <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='el identifier id'>el</span><span class='bitor op'>|</span>
    <span class='next next kw'>next</span> <span class='unless unless_mod kw'>unless</span> <span class='el identifier id'>el</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span> <span class='symbol val'>:remove_attribute</span>
    <span class='el identifier id'>el</span><span class='dot token'>.</span><span class='remove_attribute identifier id'>remove_attribute</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='self self kw'>self</span>      
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>remove_class</h3>
</div><div id="remove_class-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>remove_class</span><span class='args'>(name = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Removes a class from all matched elements.
</p>
<pre class="code">
  <span class='lparen token'>(</span><span class='doc identifier id'>doc</span><span class='div op'>/</span><span class='string val'>&quot;span&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='remove_class identifier id'>remove_class</span><span class='lparen token'>(</span><span class='string val'>&quot;lightgrey&quot;</span><span class='rparen token'>)</span>
</pre>
<p>
Or, to remove all classes:
</p>
<pre class="code">
  <span class='lparen token'>(</span><span class='doc identifier id'>doc</span><span class='div op'>/</span><span class='string val'>&quot;span&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='remove_class identifier id'>remove_class</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/hpricot/elements.rb', line 251</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1/lib/hpricot/elements.rb#L251">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">251
252
253
254
255
256
257
258
259
260
261
262</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='remove_class identifier id'>remove_class</span> <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='el identifier id'>el</span><span class='bitor op'>|</span>
    <span class='next next kw'>next</span> <span class='unless unless_mod kw'>unless</span> <span class='el identifier id'>el</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span> <span class='symbol val'>:get_attribute</span>
    <span class='if if kw'>if</span> <span class='name identifier id'>name</span>
      <span class='classes identifier id'>classes</span> <span class='assign token'>=</span> <span class='el identifier id'>el</span><span class='dot token'>.</span><span class='get_attribute identifier id'>get_attribute</span><span class='lparen token'>(</span><span class='string val'>'class'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>&quot; &quot;</span><span class='rparen token'>)</span>
      <span class='el identifier id'>el</span><span class='dot token'>.</span><span class='set_attribute identifier id'>set_attribute</span><span class='lparen token'>(</span><span class='string val'>'class'</span><span class='comma token'>,</span> <span class='lparen token'>(</span><span class='classes identifier id'>classes</span> <span class='minus op'>-</span> <span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='uniq identifier id'>uniq</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot; &quot;</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='el identifier id'>el</span><span class='dot token'>.</span><span class='remove_attribute identifier id'>remove_attribute</span><span class='lparen token'>(</span><span class='string val'>&quot;class&quot;</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='self self kw'>self</span>      
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>search</h3>
</div><div id="search-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>search</span><span class='args'>(*expr, &amp;blk)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="/-instance_method">/</tt>
  
</p>
</div><div class="section docstring">
  <p>
Searches this list for any elements (or children of these elements)
matching the CSS or XPath expression <tt>expr</tt>. Root is assumed to be
the element scanned.
</p>
<p>
See Hpricot::Container::Trav.search for more.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/hpricot/elements.rb', line 58</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1/lib/hpricot/elements.rb#L58">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">58
59
60</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='expr identifier id'>expr</span><span class='comma token'>,</span><span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span>
  <span class='Elements constant id'>Elements</span><span class='lbrack token'>[</span><span class='mult op'>*</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='expr identifier id'>expr</span><span class='comma token'>,</span><span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='dot token'>.</span><span class='uniq identifier id'>uniq</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_html</h3>
</div><div id="to_html-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_html</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="to_s-instance_method">to_s</tt>
  
</p>
</div><div class="section docstring">
  <p>
Convert this group of elements into a complete HTML fragment, returned as a
string.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/hpricot/elements.rb', line 74</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1/lib/hpricot/elements.rb#L74">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">74
75
76</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_html identifier id'>to_html</span>
  <span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='output identifier id'>output</span><span class='lparen token'>(</span><span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='join identifier id'>join</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>wrap</h3>
</div><div id="wrap-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>wrap</span><span class='args'>(str = nil, &amp;blk)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Wraps each element in the list inside the element created by HTML
<tt>str</tt>. If more than one element is found in the string, Hpricot
locates the deepest spot inside the first element.
</p>
<pre class="code">
 <span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='string val'>&quot;a[@href]&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span>
     <span class='wrap identifier id'>wrap</span><span class='lparen token'>(</span><span class='string val'>%{&lt;div class=&quot;link&quot;&gt;&lt;div class=&quot;link_inner&quot;&gt;&lt;/div&gt;&lt;/div&gt;}</span><span class='rparen token'>)</span>
</pre>
<p>
This code wraps every link on the page inside a <tt>div.link</tt> and a
<tt>div.link_inner</tt> nest.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/hpricot/elements.rb', line 162</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/why/hpricot/blob/74bd568e5708607e874a1179e886c69987c1afc1/lib/hpricot/elements.rb#L162">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">162
163
164
165
166
167
168
169
170
171
172
173</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='wrap identifier id'>wrap</span><span class='lparen token'>(</span><span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span>
  <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span>
    <span class='wrap identifier id'>wrap</span> <span class='assign token'>=</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='make identifier id'>make</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span>
    <span class='nest identifier id'>nest</span> <span class='assign token'>=</span> <span class='wrap identifier id'>wrap</span><span class='dot token'>.</span><span class='detect identifier id'>detect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='w identifier id'>w</span><span class='bitor op'>|</span> <span class='w identifier id'>w</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span> <span class='symbol val'>:children</span> <span class='rbrace token'>}</span>
    <span class='unless unless kw'>unless</span> <span class='nest identifier id'>nest</span>
      <span class='raise identifier id'>raise</span> <span class='string val'>&quot;No wrapping element found.&quot;</span>
    <span class='end end kw'>end</span>
    <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='parent identifier id'>parent</span><span class='dot token'>.</span><span class='replace_child identifier id'>replace_child</span><span class='lparen token'>(</span><span class='x identifier id'>x</span><span class='comma token'>,</span> <span class='wrap identifier id'>wrap</span><span class='rparen token'>)</span>
    <span class='nest identifier id'>nest</span> <span class='assign token'>=</span> <span class='nest identifier id'>nest</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='until until_mod kw'>until</span> <span class='nest identifier id'>nest</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
    <span class='nest identifier id'>nest</span><span class='dot token'>.</span><span class='html identifier id'>html</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='x identifier id'>x</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>