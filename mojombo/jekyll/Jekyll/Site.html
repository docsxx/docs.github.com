<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="../syntax_highlight.css" type="text/css" charset="utf-8" />

    <script src="../jquery.js" type="text/javascript" charset="utf-8"></script>
    <script src="../app.js" type="text/javascript" charset="utf-8"></script>
    <title>Class: Jekyll::Site</title>
  </head>
  <body>
    <div id="content">
      <div class="section class Jekyll_Site">
  <h1 class="title">Class: Jekyll::Site</h1>
  <div class="section attributes">
  <h1>Attributes</h1>

  
    <div class="instance">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">categories</td>
          <td class="readwrite">
            [<span id='categories-instance_method'>R</span><span id='categories%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>categories</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">config</td>
          <td class="readwrite">
            [<span id='config-instance_method'>R</span><span id='config%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>config</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">dest</td>
          <td class="readwrite">
            [<span id='dest-instance_method'>R</span><span id='dest%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>dest</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">layouts</td>
          <td class="readwrite">
            [<span id='layouts-instance_method'>R</span><span id='layouts%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>layouts</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">lsi</td>
          <td class="readwrite">
            [<span id='lsi-instance_method'>R</span><span id='lsi%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>lsi</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">permalink_style</td>
          <td class="readwrite">
            [<span id='permalink_style-instance_method'>R</span><span id='permalink_style%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>permalink_style</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">posts</td>
          <td class="readwrite">
            [<span id='posts-instance_method'>R</span><span id='posts%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>posts</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">pygments</td>
          <td class="readwrite">
            [<span id='pygments-instance_method'>R</span><span id='pygments%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>pygments</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">source</td>
          <td class="readwrite">
            [<span id='source-instance_method'>R</span><span id='source%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>source</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h1>Constructor Summary</h1>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(config)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Initialize the site
</p>
<pre class="code">
  <span class='plus op'>+</span><span class='config identifier id'>config</span><span class='plus op'>+</span> <span class='is identifier id'>is</span> <span class='a identifier id'>a</span> <span class='Hash constant id'>Hash</span> <span class='containing identifier id'>containing</span> <span class='site identifier id'>site</span> <span class='configurations identifier id'>configurations</span> <span class='details identifier id'>details</span>
</pre>
<p>
Returns &lt;Site&gt;
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


11
12
13
14
15
16
17
18
19
20
21
22</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/jekyll/site.rb', line 11</span>

<span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='config identifier id'>config</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='config identifier id'>config</span>          <span class='assign token'>=</span> <span class='config identifier id'>config</span><span class='dot token'>.</span><span class='clone identifier id'>clone</span>

  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='source identifier id'>source</span>          <span class='assign token'>=</span> <span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='string val'>'source'</span><span class='rbrack token'>]</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='dest identifier id'>dest</span>            <span class='assign token'>=</span> <span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='string val'>'destination'</span><span class='rbrack token'>]</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='lsi identifier id'>lsi</span>             <span class='assign token'>=</span> <span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='string val'>'lsi'</span><span class='rbrack token'>]</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='pygments identifier id'>pygments</span>        <span class='assign token'>=</span> <span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='string val'>'pygments'</span><span class='rbrack token'>]</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='permalink_style identifier id'>permalink_style</span> <span class='assign token'>=</span> <span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='string val'>'permalink'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span>

  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='reset identifier id'>reset</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='setup identifier id'>setup</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
</div>  <div class="section visibilitygroup public">
    <h1>Public Visibility</h1>
      <div class="section methodsummary instance public">
    <h1>Public Instance Method Summary</h1>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#filter_entries-instance_method' title='#filter_entries'>#filter_entries</a></span><span class='args'>(entries)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Filter out any files/directories that are hidden or backup files (start
with &quot;.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#post_attr_hash-instance_method' title='#post_attr_hash'>#post_attr_hash</a></span><span class='args'>(post_attr)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Constructs a hash map of Posts indexed by the specified Post attribute.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#process-instance_method' title='#process'>#process</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Do the actual work of processing the site and generating the real deal.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#read_layouts-instance_method' title='#read_layouts'>#read_layouts</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Read all the files in &lt;source&gt;/_layouts into memory for later use.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#read_posts-instance_method' title='#read_posts'>#read_posts</a></span><span class='args'>(dir)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Read all the files in &lt;base&gt;/_posts and create a new Post object with
each one.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#reset-instance_method' title='#reset'>#reset</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#setup-instance_method' title='#setup'>#setup</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#site_payload-instance_method' title='#site_payload'>#site_payload</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
The Hash payload containing site-wide data.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#textile-instance_method' title='#textile'>#textile</a></span><span class='args'>(content)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#transform_pages-instance_method' title='#transform_pages'>#transform_pages</a></span><span class='args'>(dir = '')</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Copy all regular files from &lt;source&gt; to &lt;dest&gt;/ ignoring any
files/directories that are hidden or backup files (start with &quot;.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#write_posts-instance_method' title='#write_posts'>#write_posts</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Write each post to
&lt;dest&gt;/&lt;year&gt;/&lt;month&gt;/&lt;day&gt;/&lt;slug&gt;.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails instance public">
  <h1>Public Instance Method Details</h1>
  
    <div class="method">
      <div class="method_header">
  <h3>filter_entries</h3>
</div><div id="filter_entries-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>filter_entries</span><span class='args'>(entries)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Filter out any files/directories that are hidden or backup files (start
with &quot;.&quot; or &quot;#&quot; or end with &quot;~&quot;) or contain
site content (start with &quot;_&quot;) unless they are &quot;_posts&quot;
directories or web server files such as &#8217;.htaccess&#8217;
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


228
229
230
231
232
233
234
235</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/jekyll/site.rb', line 228</span>

<span class='def def kw'>def</span> <span class='filter_entries identifier id'>filter_entries</span><span class='lparen token'>(</span><span class='entries identifier id'>entries</span><span class='rparen token'>)</span>
  <span class='entries identifier id'>entries</span> <span class='assign token'>=</span> <span class='entries identifier id'>entries</span><span class='dot token'>.</span><span class='reject identifier id'>reject</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span>
    <span class='unless unless kw'>unless</span> <span class='lbrack token'>[</span><span class='string val'>'_posts'</span><span class='comma token'>,</span> <span class='string val'>'.htaccess'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='e identifier id'>e</span><span class='rparen token'>)</span>
      <span class='comment val'># Reject backup/hidden</span>
      <span class='lbrack token'>[</span><span class='string val'>'.'</span><span class='comma token'>,</span> <span class='string val'>'_'</span><span class='comma token'>,</span> <span class='string val'>'#'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='e identifier id'>e</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='or or kw'>or</span> <span class='e identifier id'>e</span><span class='lbrack token'>[</span><span class='float val'>-1</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='string val'>'~'</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>post_attr_hash</h3>
</div><div id="post_attr_hash-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>post_attr_hash</span><span class='args'>(post_attr)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Constructs a hash map of Posts indexed by the specified Post attribute
</p>
<p>
Returns <tt>=&amp;gt; [&amp;lt;Post&amp;gt;]</tt>
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


200
201
202
203
204
205
206
207</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/jekyll/site.rb', line 200</span>

<span class='def def kw'>def</span> <span class='post_attr_hash identifier id'>post_attr_hash</span><span class='lparen token'>(</span><span class='post_attr identifier id'>post_attr</span><span class='rparen token'>)</span>
  <span class='comment val'># Build a hash map based on the specified post attribute ( post attr =&gt; array of posts )</span>
  <span class='comment val'># then sort each array in reverse order</span>
  <span class='hash identifier id'>hash</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='hash identifier id'>hash</span><span class='comma token'>,</span> <span class='key identifier id'>key</span><span class='bitor op'>|</span> <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='rbrace token'>}</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='posts identifier id'>posts</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='p identifier id'>p</span><span class='bitor op'>|</span> <span class='p identifier id'>p</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='post_attr identifier id'>post_attr</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='t identifier id'>t</span><span class='bitor op'>|</span> <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='t identifier id'>t</span><span class='rbrack token'>]</span> <span class='lshft op'>&lt;&lt;</span> <span class='p identifier id'>p</span> <span class='rbrace token'>}</span> <span class='rbrace token'>}</span>
  <span class='hash identifier id'>hash</span><span class='dot token'>.</span><span class='values identifier id'>values</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='sortme identifier id'>sortme</span><span class='bitor op'>|</span> <span class='sortme identifier id'>sortme</span><span class='dot token'>.</span><span class='sort! fid id'>sort!</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='comma token'>,</span> <span class='b identifier id'>b</span><span class='bitor op'>|</span> <span class='b identifier id'>b</span> <span class='cmp op'>&lt;=&gt;</span> <span class='a identifier id'>a</span><span class='rbrace token'>}</span> <span class='rbrace token'>}</span>
  <span class='return return kw'>return</span> <span class='hash identifier id'>hash</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>process</h3>
</div><div id="process-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>process</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Do the actual work of processing the site and generating the real deal.
</p>
<p>
Returns nothing
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


89
90
91
92
93
94</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/jekyll/site.rb', line 89</span>

<span class='def def kw'>def</span> <span class='process identifier id'>process</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='reset identifier id'>reset</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='read_layouts identifier id'>read_layouts</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='transform_pages identifier id'>transform_pages</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='write_posts identifier id'>write_posts</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>read_layouts</h3>
</div><div id="read_layouts-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>read_layouts</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Read all the files in &lt;source&gt;/_layouts into memory for later use.
</p>
<p>
Returns nothing
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


99
100
101
102
103
104
105
106
107
108
109
110</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/jekyll/site.rb', line 99</span>

<span class='def def kw'>def</span> <span class='read_layouts identifier id'>read_layouts</span>
  <span class='base identifier id'>base</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='source identifier id'>source</span><span class='comma token'>,</span> <span class='string val'>&quot;_layouts&quot;</span><span class='rparen token'>)</span>
  <span class='entries identifier id'>entries</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='Dir constant id'>Dir</span><span class='dot token'>.</span><span class='chdir identifier id'>chdir</span><span class='lparen token'>(</span><span class='base identifier id'>base</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='entries identifier id'>entries</span> <span class='assign token'>=</span> <span class='filter_entries identifier id'>filter_entries</span><span class='lparen token'>(</span><span class='Dir constant id'>Dir</span><span class='lbrack token'>[</span><span class='string val'>'*.*'</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>

  <span class='entries identifier id'>entries</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='f identifier id'>f</span><span class='bitor op'>|</span>
    <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='f identifier id'>f</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>&quot;.&quot;</span><span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>-2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;.&quot;</span><span class='rparen token'>)</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='layouts identifier id'>layouts</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='Layout constant id'>Layout</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='base identifier id'>base</span><span class='comma token'>,</span> <span class='f identifier id'>f</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='rescue rescue kw'>rescue</span> <span class='Errno constant id'>Errno</span><span class='colon2 op'>::</span><span class='ENOENT constant id'>ENOENT</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='e identifier id'>e</span>
  <span class='comment val'># ignore missing layout dir</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>read_posts</h3>
</div><div id="read_posts-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>read_posts</span><span class='args'>(dir)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Read all the files in &lt;base&gt;/_posts and create a new Post object with
each one.
</p>
<p>
Returns nothing
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/jekyll/site.rb', line 115</span>

<span class='def def kw'>def</span> <span class='read_posts identifier id'>read_posts</span><span class='lparen token'>(</span><span class='dir identifier id'>dir</span><span class='rparen token'>)</span>
  <span class='base identifier id'>base</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='source identifier id'>source</span><span class='comma token'>,</span> <span class='dir identifier id'>dir</span><span class='comma token'>,</span> <span class='string val'>'_posts'</span><span class='rparen token'>)</span>
  <span class='entries identifier id'>entries</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='Dir constant id'>Dir</span><span class='dot token'>.</span><span class='chdir identifier id'>chdir</span><span class='lparen token'>(</span><span class='base identifier id'>base</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='entries identifier id'>entries</span> <span class='assign token'>=</span> <span class='filter_entries identifier id'>filter_entries</span><span class='lparen token'>(</span><span class='Dir constant id'>Dir</span><span class='lbrack token'>[</span><span class='string val'>'**/*'</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>

  <span class='comment val'># first pass processes, but does not yet render post content</span>
  <span class='entries identifier id'>entries</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='f identifier id'>f</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='Post constant id'>Post</span><span class='dot token'>.</span><span class='valid? fid id'>valid?</span><span class='lparen token'>(</span><span class='f identifier id'>f</span><span class='rparen token'>)</span>
      <span class='post identifier id'>post</span> <span class='assign token'>=</span> <span class='Post constant id'>Post</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='source identifier id'>source</span><span class='comma token'>,</span> <span class='dir identifier id'>dir</span><span class='comma token'>,</span> <span class='f identifier id'>f</span><span class='rparen token'>)</span>

      <span class='if if kw'>if</span> <span class='post identifier id'>post</span><span class='dot token'>.</span><span class='published identifier id'>published</span>
        <span class='self self kw'>self</span><span class='dot token'>.</span><span class='posts identifier id'>posts</span> <span class='lshft op'>&lt;&lt;</span> <span class='post identifier id'>post</span>
        <span class='post identifier id'>post</span><span class='dot token'>.</span><span class='categories identifier id'>categories</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='c identifier id'>c</span><span class='bitor op'>|</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='categories identifier id'>categories</span><span class='lbrack token'>[</span><span class='c identifier id'>c</span><span class='rbrack token'>]</span> <span class='lshft op'>&lt;&lt;</span> <span class='post identifier id'>post</span> <span class='rbrace token'>}</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='posts identifier id'>posts</span><span class='dot token'>.</span><span class='sort! fid id'>sort!</span>

  <span class='comment val'># second pass renders each post now that full site payload is available</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='posts identifier id'>posts</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='post identifier id'>post</span><span class='bitor op'>|</span>
    <span class='post identifier id'>post</span><span class='dot token'>.</span><span class='render identifier id'>render</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='layouts identifier id'>layouts</span><span class='comma token'>,</span> <span class='site_payload identifier id'>site_payload</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='categories identifier id'>categories</span><span class='dot token'>.</span><span class='values identifier id'>values</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='cats identifier id'>cats</span><span class='bitor op'>|</span> <span class='cats identifier id'>cats</span><span class='dot token'>.</span><span class='sort! fid id'>sort!</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='comma token'>,</span> <span class='b identifier id'>b</span><span class='bitor op'>|</span> <span class='b identifier id'>b</span> <span class='cmp op'>&lt;=&gt;</span> <span class='a identifier id'>a</span><span class='rbrace token'>}</span> <span class='rbrace token'>}</span>
<span class='rescue rescue kw'>rescue</span> <span class='Errno constant id'>Errno</span><span class='colon2 op'>::</span><span class='ENOENT constant id'>ENOENT</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='e identifier id'>e</span>
  <span class='comment val'># ignore missing layout dir</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>reset</h3>
</div><div id="reset-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>reset</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


24
25
26
27
28</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/jekyll/site.rb', line 24</span>

<span class='def def kw'>def</span> <span class='reset identifier id'>reset</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='layouts identifier id'>layouts</span>         <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='posts identifier id'>posts</span>           <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='categories identifier id'>categories</span>      <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='hash identifier id'>hash</span><span class='comma token'>,</span> <span class='key identifier id'>key</span><span class='bitor op'>|</span> <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>setup</h3>
</div><div id="setup-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>setup</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/jekyll/site.rb', line 30</span>

<span class='def def kw'>def</span> <span class='setup identifier id'>setup</span>
  <span class='comment val'># Check to see if LSI is enabled.</span>
  <span class='require identifier id'>require</span> <span class='string val'>'classifier'</span> <span class='if if_mod kw'>if</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='lsi identifier id'>lsi</span>

  <span class='comment val'># Set the Markdown interpreter (and Maruku self.config, if necessary)</span>
  <span class='case case kw'>case</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='string val'>'markdown'</span><span class='rbrack token'>]</span>
    <span class='when when kw'>when</span> <span class='string val'>'rdiscount'</span>
      <span class='begin begin kw'>begin</span>
        <span class='require identifier id'>require</span> <span class='string val'>'rdiscount'</span>

        <span class='def def kw'>def</span> <span class='markdown identifier id'>markdown</span><span class='lparen token'>(</span><span class='content identifier id'>content</span><span class='rparen token'>)</span>
          <span class='RDiscount constant id'>RDiscount</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='content identifier id'>content</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_html identifier id'>to_html</span>
        <span class='end end kw'>end</span>

      <span class='rescue rescue kw'>rescue</span> <span class='LoadError constant id'>LoadError</span>
        <span class='puts identifier id'>puts</span> <span class='string val'>'You must have the rdiscount gem installed first'</span>
      <span class='end end kw'>end</span>
    <span class='when when kw'>when</span> <span class='string val'>'maruku'</span>
      <span class='begin begin kw'>begin</span>
        <span class='require identifier id'>require</span> <span class='string val'>'maruku'</span>

        <span class='def def kw'>def</span> <span class='markdown identifier id'>markdown</span><span class='lparen token'>(</span><span class='content identifier id'>content</span><span class='rparen token'>)</span>
          <span class='Maruku constant id'>Maruku</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='content identifier id'>content</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_html identifier id'>to_html</span>
        <span class='end end kw'>end</span>

        <span class='if if kw'>if</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='string val'>'maruku'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'use_divs'</span><span class='rbrack token'>]</span>
          <span class='require identifier id'>require</span> <span class='string val'>'maruku/ext/div'</span>
          <span class='puts identifier id'>puts</span> <span class='string val'>'Maruku: Using extended syntax for div elements.'</span>
        <span class='end end kw'>end</span>

        <span class='if if kw'>if</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='string val'>'maruku'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'use_tex'</span><span class='rbrack token'>]</span>
          <span class='require identifier id'>require</span> <span class='string val'>'maruku/ext/math'</span>
          <span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;Maruku: Using LaTeX extension. Images in `#{self.config['maruku']['png_dir']}`.&quot;</span>

          <span class='comment val'># Switch off MathML output</span>
          <span class='MaRuKu constant id'>MaRuKu</span><span class='colon2 op'>::</span><span class='Globals constant id'>Globals</span><span class='lbrack token'>[</span><span class='symbol val'>:html_math_output_mathml</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
          <span class='MaRuKu constant id'>MaRuKu</span><span class='colon2 op'>::</span><span class='Globals constant id'>Globals</span><span class='lbrack token'>[</span><span class='symbol val'>:html_math_engine</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='string val'>'none'</span>

          <span class='comment val'># Turn on math to PNG support with blahtex</span>
          <span class='comment val'># Resulting PNGs stored in `images/latex`</span>
          <span class='MaRuKu constant id'>MaRuKu</span><span class='colon2 op'>::</span><span class='Globals constant id'>Globals</span><span class='lbrack token'>[</span><span class='symbol val'>:html_math_output_png</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
          <span class='MaRuKu constant id'>MaRuKu</span><span class='colon2 op'>::</span><span class='Globals constant id'>Globals</span><span class='lbrack token'>[</span><span class='symbol val'>:html_png_engine</span><span class='rbrack token'>]</span> <span class='assign token'>=</span>  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='string val'>'maruku'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'png_engine'</span><span class='rbrack token'>]</span>
          <span class='MaRuKu constant id'>MaRuKu</span><span class='colon2 op'>::</span><span class='Globals constant id'>Globals</span><span class='lbrack token'>[</span><span class='symbol val'>:html_png_dir</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='string val'>'maruku'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'png_dir'</span><span class='rbrack token'>]</span>
          <span class='MaRuKu constant id'>MaRuKu</span><span class='colon2 op'>::</span><span class='Globals constant id'>Globals</span><span class='lbrack token'>[</span><span class='symbol val'>:html_png_url</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='string val'>'maruku'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'png_url'</span><span class='rbrack token'>]</span>
        <span class='end end kw'>end</span>
      <span class='rescue rescue kw'>rescue</span> <span class='LoadError constant id'>LoadError</span>
        <span class='puts identifier id'>puts</span> <span class='string val'>&quot;The maruku gem is required for markdown support!&quot;</span>
      <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>site_payload</h3>
</div><div id="site_payload-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>site_payload</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
The Hash payload containing site-wide data
</p>
<p>
Returns {&quot;site&quot; =&gt; {&quot;time&quot; =&gt; &lt;Time&gt;,
</p>
<pre class="code">
                    <span class='string val'>&quot;posts&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lt op'>&lt;</span><span class='Post constant id'>Post</span><span class='gt op'>&gt;</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
                    <span class='string val'>&quot;categories&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lt op'>&lt;</span><span class='Post constant id'>Post</span><span class='gt op'>&gt;</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
                    <span class='string val'>&quot;topics&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lt op'>&lt;</span><span class='Post constant id'>Post</span><span class='gt op'>&gt;</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span><span class='rbrace token'>}</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


215
216
217
218
219
220
221
222</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/jekyll/site.rb', line 215</span>

<span class='def def kw'>def</span> <span class='site_payload identifier id'>site_payload</span>
  <span class='lbrace token'>{</span><span class='string val'>&quot;site&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span>
    <span class='string val'>&quot;time&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='now identifier id'>now</span><span class='comma token'>,</span>
    <span class='string val'>&quot;posts&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='posts identifier id'>posts</span><span class='dot token'>.</span><span class='sort identifier id'>sort</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='comma token'>,</span><span class='b identifier id'>b</span><span class='bitor op'>|</span> <span class='b identifier id'>b</span> <span class='cmp op'>&lt;=&gt;</span> <span class='a identifier id'>a</span> <span class='rbrace token'>}</span><span class='comma token'>,</span>
    <span class='string val'>&quot;categories&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='post_attr_hash identifier id'>post_attr_hash</span><span class='lparen token'>(</span><span class='string val'>'categories'</span><span class='rparen token'>)</span><span class='comma token'>,</span>
    <span class='string val'>&quot;topics&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='post_attr_hash identifier id'>post_attr_hash</span><span class='lparen token'>(</span><span class='string val'>'topics'</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>textile</h3>
</div><div id="textile-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>textile</span><span class='args'>(content)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


81
82
83</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/jekyll/site.rb', line 81</span>

<span class='def def kw'>def</span> <span class='textile identifier id'>textile</span><span class='lparen token'>(</span><span class='content identifier id'>content</span><span class='rparen token'>)</span>
  <span class='RedCloth constant id'>RedCloth</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='content identifier id'>content</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_html identifier id'>to_html</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>transform_pages</h3>
</div><div id="transform_pages-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>transform_pages</span><span class='args'>(dir = '')</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Copy all regular files from &lt;source&gt; to &lt;dest&gt;/ ignoring any
files/directories that are hidden or backup files (start with &quot;.&quot;
or &quot;#&quot; or end with &quot;~&quot;) or contain site content (start
with &quot;_&quot;) unless they are &quot;_posts&quot; directories or web
server files such as &#8217;.htaccess&#8217;
</p>
<pre class="code">
  <span class='The constant id'>The</span> <span class='plus op'>+</span><span class='dir identifier id'>dir</span><span class='plus op'>+</span> <span class='String constant id'>String</span> <span class='is identifier id'>is</span> <span class='a identifier id'>a</span> <span class='relative identifier id'>relative</span> <span class='path identifier id'>path</span> <span class='used identifier id'>used</span> <span class='to identifier id'>to</span> <span class='call identifier id'>call</span> <span class='this identifier id'>this</span> <span class='method identifier id'>method</span>
           <span class='recursively identifier id'>recursively</span> <span class='as identifier id'>as</span> <span class='it identifier id'>it</span> <span class='descends identifier id'>descends</span> <span class='through identifier id'>through</span> <span class='directories identifier id'>directories</span>
</pre>
<p>
Returns nothing
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/jekyll/site.rb', line 162</span>

<span class='def def kw'>def</span> <span class='transform_pages identifier id'>transform_pages</span><span class='lparen token'>(</span><span class='dir identifier id'>dir</span> <span class='assign token'>=</span> <span class='string val'>''</span><span class='rparen token'>)</span>
  <span class='base identifier id'>base</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='source identifier id'>source</span><span class='comma token'>,</span> <span class='dir identifier id'>dir</span><span class='rparen token'>)</span>
  <span class='entries identifier id'>entries</span> <span class='assign token'>=</span> <span class='filter_entries identifier id'>filter_entries</span><span class='lparen token'>(</span><span class='Dir constant id'>Dir</span><span class='dot token'>.</span><span class='entries identifier id'>entries</span><span class='lparen token'>(</span><span class='base identifier id'>base</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='directories identifier id'>directories</span> <span class='assign token'>=</span> <span class='entries identifier id'>entries</span><span class='dot token'>.</span><span class='select identifier id'>select</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='directory? fid id'>directory?</span><span class='lparen token'>(</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='base identifier id'>base</span><span class='comma token'>,</span> <span class='e identifier id'>e</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='files identifier id'>files</span> <span class='assign token'>=</span> <span class='entries identifier id'>entries</span><span class='dot token'>.</span><span class='reject identifier id'>reject</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='directory? fid id'>directory?</span><span class='lparen token'>(</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='base identifier id'>base</span><span class='comma token'>,</span> <span class='e identifier id'>e</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>

  <span class='comment val'># we need to make sure to process _posts *first* otherwise they</span>
  <span class='comment val'># might not be available yet to other templates as {{ site.posts }}</span>
  <span class='if if kw'>if</span> <span class='directories identifier id'>directories</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='string val'>'_posts'</span><span class='rparen token'>)</span>
    <span class='directories identifier id'>directories</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='string val'>'_posts'</span><span class='rparen token'>)</span>
    <span class='read_posts identifier id'>read_posts</span><span class='lparen token'>(</span><span class='dir identifier id'>dir</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='lbrack token'>[</span><span class='directories identifier id'>directories</span><span class='comma token'>,</span> <span class='files identifier id'>files</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='entries identifier id'>entries</span><span class='bitor op'>|</span>
    <span class='entries identifier id'>entries</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='f identifier id'>f</span><span class='bitor op'>|</span>
      <span class='if if kw'>if</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='directory? fid id'>directory?</span><span class='lparen token'>(</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='base identifier id'>base</span><span class='comma token'>,</span> <span class='f identifier id'>f</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
        <span class='next next kw'>next</span> <span class='if if_mod kw'>if</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='dest identifier id'>dest</span><span class='dot token'>.</span><span class='sub identifier id'>sub</span><span class='lparen token'>(</span><span class='regexp val'>/\/$/</span><span class='comma token'>,</span> <span class='string val'>''</span><span class='rparen token'>)</span> <span class='eq op'>==</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='base identifier id'>base</span><span class='comma token'>,</span> <span class='f identifier id'>f</span><span class='rparen token'>)</span>
        <span class='transform_pages identifier id'>transform_pages</span><span class='lparen token'>(</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='dir identifier id'>dir</span><span class='comma token'>,</span> <span class='f identifier id'>f</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
      <span class='else else kw'>else</span>
        <span class='first3 identifier id'>first3</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='source identifier id'>source</span><span class='comma token'>,</span> <span class='dir identifier id'>dir</span><span class='comma token'>,</span> <span class='f identifier id'>f</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='fd identifier id'>fd</span><span class='bitor op'>|</span> <span class='fd identifier id'>fd</span><span class='dot token'>.</span><span class='read identifier id'>read</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>

        <span class='if if kw'>if</span> <span class='first3 identifier id'>first3</span> <span class='eq op'>==</span> <span class='string val'>&quot;---&quot;</span>
          <span class='comment val'># file appears to have a YAML header so process it as a page</span>
          <span class='page identifier id'>page</span> <span class='assign token'>=</span> <span class='Page constant id'>Page</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='source identifier id'>source</span><span class='comma token'>,</span> <span class='dir identifier id'>dir</span><span class='comma token'>,</span> <span class='f identifier id'>f</span><span class='rparen token'>)</span>
          <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='render identifier id'>render</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='layouts identifier id'>layouts</span><span class='comma token'>,</span> <span class='site_payload identifier id'>site_payload</span><span class='rparen token'>)</span>
          <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='write identifier id'>write</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='dest identifier id'>dest</span><span class='rparen token'>)</span>
        <span class='else else kw'>else</span>
          <span class='comment val'># otherwise copy the file without transforming it</span>
          <span class='FileUtils constant id'>FileUtils</span><span class='dot token'>.</span><span class='mkdir_p identifier id'>mkdir_p</span><span class='lparen token'>(</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='dest identifier id'>dest</span><span class='comma token'>,</span> <span class='dir identifier id'>dir</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
          <span class='FileUtils constant id'>FileUtils</span><span class='dot token'>.</span><span class='cp identifier id'>cp</span><span class='lparen token'>(</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='source identifier id'>source</span><span class='comma token'>,</span> <span class='dir identifier id'>dir</span><span class='comma token'>,</span> <span class='f identifier id'>f</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='dest identifier id'>dest</span><span class='comma token'>,</span> <span class='dir identifier id'>dir</span><span class='comma token'>,</span> <span class='f identifier id'>f</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>write_posts</h3>
</div><div id="write_posts-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>write_posts</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Write each post to
&lt;dest&gt;/&lt;year&gt;/&lt;month&gt;/&lt;day&gt;/&lt;slug&gt;
</p>
<p>
Returns nothing
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


147
148
149
150
151</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/jekyll/site.rb', line 147</span>

<span class='def def kw'>def</span> <span class='write_posts identifier id'>write_posts</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='posts identifier id'>posts</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='post identifier id'>post</span><span class='bitor op'>|</span>
    <span class='post identifier id'>post</span><span class='dot token'>.</span><span class='write identifier id'>write</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='dest identifier id'>dest</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
</div>
  </div>

</div>
    </div>
  </body>
</html>