<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>assaf's buildr - Class: Buildr::TestTask - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/assaf/commits/buildr/master" rel="alternate" title="Recent Commits to buildr:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("assaf", "buildr", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("assaf", "buildr", "c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/assaf/buildr/tree/">Source</a></li>
            <li class=""><a href="http://github.com/assaf/buildr/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/assaf/buildr/network">Network</a></li>            
            <li class=""><a href="http://github.com/assaf/buildr/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/assaf/buildr">Wiki</a></li>
            <li class=""><a href="http://github.com/assaf/buildr/graphs">Graphs</a></li>                    
            <li class="active"><a href="/assaf/buildr">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/assaf">assaf</a> / <b><a href="http://github.com/assaf/buildr/tree">buildr</a></b>        
                <a id="namespaces_button" rel="assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Buildr_TestTask">
  <h1>Class: Buildr::TestTask</h1>
  <div class="section inheritance">
  <ul>
  <li><a href="../Rake/Task.html" title="Rake::Task">Rake::Task</a></li><ul><li>Buildr::TestTask</li>
  </ul></ul>
</div><div class="section docstring">
  <p>
The test task controls the entire test lifecycle.
</p>
<p>
You can use the test task in three ways. You can access and configure
specific test tasks, e.g. enhance the #compile task, or run code during
#setup/#teardown.
</p>
<p>
You can use convenient methods that handle the most common settings. For
example, add dependencies using #with, or include only specific tests using
#include.
</p>
<p>
You can also enhance this task directly. This task will first execute the
#compile task, followed by the #setup task, run the unit tests, any other
enhancements, and end by executing #teardown.
</p>
<p>
The test framework is determined based on the available test files, for
example, if the test cases are written in Java, then JUnit is selected as
the test framework. You can also select a specific test framework, for
example, to use TestNG instead of JUnit:
</p>
<pre class="code">
  <span class='test identifier id'>test</span><span class='dot token'>.</span><span class='using identifier id'>using</span> <span class='symbol val'>:testng</span>
</pre>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">dependencies</td>
          <td class="readwrite">
            [<span id='dependencies-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
The dependencies used for running the tests.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">failed_tests</td>
          <td class="readwrite">
            [<span id='failed_tests-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
After running the task, returns all the tests that failed, empty array if
all tests passed.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">options</td>
          <td class="readwrite">
            [<span id='options-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns various test options.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">passed_tests</td>
          <td class="readwrite">
            [<span id='passed_tests-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
After running the task, returns all the tests that passed, empty array if
no tests passed.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">project</td>
          <td class="readwrite">
            [<span id='project-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
The project this task belongs to.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">tests</td>
          <td class="readwrite">
            [<span id='tests-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
After running the task, returns all tests selected to run, based on
availability and include/exclude pattern.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/test.rb', line 186</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/test.rb#L186">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='super super kw'>super</span>
  <span class='@dependencies ivar id'>@dependencies</span> <span class='assign token'>=</span> <span class='FileList constant id'>FileList</span><span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@include ivar id'>@include</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@exclude ivar id'>@exclude</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@forced_need ivar id'>@forced_need</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
  <span class='parent_task identifier id'>parent_task</span> <span class='assign token'>=</span> <span class='Project constant id'>Project</span><span class='dot token'>.</span><span class='parent_task identifier id'>parent_task</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='parent_task identifier id'>parent_task</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:options</span><span class='rparen token'>)</span>
    <span class='@options ivar id'>@options</span> <span class='assign token'>=</span> <span class='OpenObject constant id'>OpenObject</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='hash identifier id'>hash</span><span class='comma token'>,</span> <span class='key identifier id'>key</span><span class='bitor op'>|</span> <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='parent_task identifier id'>parent_task</span><span class='dot token'>.</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='clone identifier id'>clone</span> <span class='rescue rescue kw'>rescue</span> <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='parent_task identifier id'>parent_task</span><span class='dot token'>.</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
  <span class='else else kw'>else</span>
    <span class='@options ivar id'>@options</span> <span class='assign token'>=</span> <span class='OpenObject constant id'>OpenObject</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='default_options identifier id'>default_options</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='enhance identifier id'>enhance</span> <span class='lbrack token'>[</span><span class='application identifier id'>application</span><span class='dot token'>.</span><span class='buildfile identifier id'>buildfile</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='do do kw'>do</span>
    <span class='run_tests identifier id'>run_tests</span> <span class='if if_mod kw'>if</span> <span class='framework identifier id'>framework</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#only_run-class_method">only_run</span><span class='args'>(tests)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Used by the test/integration rule to only run tests that match the
specified names.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#run_local_tests-class_method">run_local_tests</span><span class='args'>(integration)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Used by the local test and integration tasks to a) Find the local
project(s), b) Find all its sub-projects and narrow down to those that have
either unit or integration tests, c) Run all the (either unit or
integration) tests, and d) Ignore failure if necessary.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#classes-instance_method">#classes</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
<b>Deprecated</b>: Use tests instead.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#classpath-instance_method">#classpath</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
<b>Deprecated</b>: Use dependencies instead.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#classpath-3D-instance_method">#classpath=</span><span class='args'>(artifacts)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
<b>Deprecated</b>: Use dependencies= instead.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#compile-instance_method">#compile</span><span class='args'>(*sources, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='compile identifier id'>compile</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='sources identifier id'>sources</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='CompileTask constant id'>CompileTask</span>
  <span class='compile identifier id'>compile</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='sources identifier id'>sources</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='task identifier id'>task</span><span class='bitor op'>|</span> <span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#default_options-instance_method">#default_options</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Default options already set on each test task.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#exclude-instance_method">#exclude</span><span class='args'>(*names)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='exclude identifier id'>exclude</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='names identifier id'>names</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#execute-instance_method">#execute</span><span class='args'>(args)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#framework-instance_method">#framework</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='framework identifier id'>framework</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol identifier id'>symbol</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#include-instance_method">#include</span><span class='args'>(*names)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='names identifier id'>names</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#last_successful_run_file-instance_method">#last_successful_run_file</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
The path to the file that stores the time stamp of the last successful test
run.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#report_to-instance_method">#report_to</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='report_to identifier id'>report_to</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='file identifier id'>file</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#resources-instance_method">#resources</span><span class='args'>(*prereqs, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='resources identifier id'>resources</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='prereqs identifier id'>prereqs</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='ResourcesTask constant id'>ResourcesTask</span>
  <span class='resources identifier id'>resources</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='prereqs identifier id'>prereqs</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='task identifier id'>task</span><span class='bitor op'>|</span> <span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#setup-instance_method">#setup</span><span class='args'>(*prereqs, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='setup identifier id'>setup</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='prereqs identifier id'>prereqs</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='task identifier id'>task</span>
  <span class='setup identifier id'>setup</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='prereqs identifier id'>prereqs</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='task identifier id'>task</span><span class='bitor op'>|</span> <span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#teardown-instance_method">#teardown</span><span class='args'>(*prereqs, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='teardown identifier id'>teardown</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='prereqs identifier id'>prereqs</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='task identifier id'>task</span>
  <span class='teardown identifier id'>teardown</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='prereqs identifier id'>prereqs</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='task identifier id'>task</span><span class='bitor op'>|</span> <span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#timestamp-instance_method">#timestamp</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
The time stamp of the last successful test run.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#using-instance_method">#using</span><span class='args'>(*args)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='using identifier id'>using</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#with-instance_method">#with</span><span class='args'>(*artifacts)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='specs identifier id'>specs</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
</table><div class="inherited">
  
  <div>
    <h2>Public Instance Methods Inherited from <a href="../Rake/Task.html" title="Rake::Task">Rake::Task</a></h2>
    <p><span class='name'><a href="../Rake/Task.html#invoke-instance_method" title="invoke">invoke</a></span>, <span class='name'><a href="../Rake/Task.html#invoke_with_call_chain-instance_method" title="invoke_with_call_chain">invoke_with_call_chain</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>only_run</h3>
</div><div id="only_run-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>only_run</span><span class='args'>(tests)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Used by the test/integration rule to only run tests that match the
specified names.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/test.rb', line 173</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/test.rb#L173">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">173
174
175
176
177
178</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='only_run identifier id'>only_run</span><span class='lparen token'>(</span><span class='tests identifier id'>tests</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='tests identifier id'>tests</span> <span class='assign token'>=</span> <span class='tests identifier id'>tests</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='bitor op'>|</span> <span class='name identifier id'>name</span> <span class='match op'>=~</span> <span class='regexp val'>/\*/</span> <span class='question op'>?</span> <span class='name identifier id'>name</span> <span class='colon op'>:</span> <span class='dstring node'>&quot;*#{name}*&quot;</span> <span class='rbrace token'>}</span>
  <span class='comment val'># Since the tests may reside in a sub-project, we need to set the include/exclude pattern on</span>
  <span class='comment val'># all sub-projects, but only invoke test on the local project.</span>
  <span class='Project constant id'>Project</span><span class='dot token'>.</span><span class='projects identifier id'>projects</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='project identifier id'>project</span><span class='bitor op'>|</span> <span class='project identifier id'>project</span><span class='dot token'>.</span><span class='test identifier id'>test</span><span class='dot token'>.</span><span class='send identifier id'>send</span> <span class='symbol val'>:only_run</span><span class='comma token'>,</span> <span class='tests identifier id'>tests</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>run_local_tests</h3>
</div><div id="run_local_tests-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>run_local_tests</span><span class='args'>(integration)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Used by the local test and integration tasks to a) Find the local
project(s), b) Find all its sub-projects and narrow down to those that have
either unit or integration tests, c) Run all the (either unit or
integration) tests, and d) Ignore failure if necessary.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/test.rb', line 157</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/test.rb#L157">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">157
158
159
160
161
162
163
164
165
166
167
168
169
170</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='run_local_tests identifier id'>run_local_tests</span><span class='lparen token'>(</span><span class='integration identifier id'>integration</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='Project constant id'>Project</span><span class='dot token'>.</span><span class='local_projects identifier id'>local_projects</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='project identifier id'>project</span><span class='bitor op'>|</span>
    <span class='comment val'># !(foo ^ bar) tests for equality and accepts nil as false (and select is less obfuscated than reject on ^).</span>
    <span class='projects identifier id'>projects</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='project identifier id'>project</span><span class='rbrack token'>]</span> <span class='plus op'>+</span> <span class='project identifier id'>project</span><span class='dot token'>.</span><span class='projects identifier id'>projects</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='select identifier id'>select</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='project identifier id'>project</span><span class='bitor op'>|</span> <span class='notop op'>!</span><span class='lparen token'>(</span><span class='project identifier id'>project</span><span class='dot token'>.</span><span class='test identifier id'>test</span><span class='dot token'>.</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:integration</span><span class='rbrack token'>]</span> <span class='bitxor op'>^</span> <span class='integration identifier id'>integration</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='projects identifier id'>projects</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='project identifier id'>project</span><span class='bitor op'>|</span>
      <span class='info identifier id'>info</span> <span class='dstring node'>&quot;Testing #{project.name}&quot;</span>
      <span class='begin begin kw'>begin</span>
        <span class='project identifier id'>project</span><span class='dot token'>.</span><span class='test identifier id'>test</span><span class='dot token'>.</span><span class='invoke identifier id'>invoke</span>
      <span class='rescue rescue kw'>rescue</span>
        <span class='raise identifier id'>raise</span> <span class='unless unless_mod kw'>unless</span> <span class='Buildr constant id'>Buildr</span><span class='dot token'>.</span><span class='options identifier id'>options</span><span class='dot token'>.</span><span class='test identifier id'>test</span> <span class='eq op'>==</span> <span class='symbol val'>:all</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>classes</h3>
</div><div id="classes-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>classes</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
<b>Deprecated</b>: Use tests instead.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/test.rb', line 359</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/test.rb#L359">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">359
360
361
362</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='classes identifier id'>classes</span>
  <span class='Buildr constant id'>Buildr</span><span class='dot token'>.</span><span class='application identifier id'>application</span><span class='dot token'>.</span><span class='deprecated identifier id'>deprecated</span> <span class='string val'>'Call tests instead of classes'</span>
  <span class='tests identifier id'>tests</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>classpath</h3>
</div><div id="classpath-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>classpath</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
<b>Deprecated</b>: Use dependencies instead.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/test.rb', line 209</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/test.rb#L209">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">209
210
211
212</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='classpath identifier id'>classpath</span>
  <span class='Buildr constant id'>Buildr</span><span class='dot token'>.</span><span class='application identifier id'>application</span><span class='dot token'>.</span><span class='deprecated identifier id'>deprecated</span> <span class='string val'>'Use dependencies instead.'</span>
  <span class='dependencies identifier id'>dependencies</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>classpath=</h3>
</div><div id="classpath-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>classpath=</span><span class='args'>(artifacts)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
<b>Deprecated</b>: Use dependencies= instead.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/test.rb', line 215</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/test.rb#L215">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">215
216
217
218</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='classpath= identifier id'>classpath=</span><span class='lparen token'>(</span><span class='artifacts identifier id'>artifacts</span><span class='rparen token'>)</span>
  <span class='Buildr constant id'>Buildr</span><span class='dot token'>.</span><span class='application identifier id'>application</span><span class='dot token'>.</span><span class='deprecated identifier id'>deprecated</span> <span class='string val'>'Use dependencies= instead.'</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='dependencies identifier id'>dependencies</span> <span class='assign token'>=</span> <span class='artifacts identifier id'>artifacts</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>compile</h3>
</div><div id="compile-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>compile</span><span class='args'>(*sources, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='compile identifier id'>compile</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='sources identifier id'>sources</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='CompileTask constant id'>CompileTask</span>
  <span class='compile identifier id'>compile</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='sources identifier id'>sources</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='task identifier id'>task</span><span class='bitor op'>|</span> <span class='dot2 op'>..</span> <span class='rbrace token'>}</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='CompileTask constant id'>CompileTask</span>
</pre>
<p>
The compile task is similar to the Project&#8217;s compile task. However,
it compiles all files found in the src/test/{source} directory into the
target/test/{code} directory. This task is executed by the test task before
running any tests.
</p>
<p>
Once the project definition is complete, all dependencies from the regular
compile task are copied over, so you only need to specify dependencies
specific to your tests. You can do so by calling #with on the test task.
The dependencies used here are also copied over to the junit task.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/test.rb', line 247</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/test.rb#L247">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">247
248
249</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='compile identifier id'>compile</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='sources identifier id'>sources</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='@project ivar id'>@project</span><span class='dot token'>.</span><span class='task identifier id'>task</span><span class='lparen token'>(</span><span class='string val'>'test:compile'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='from identifier id'>from</span><span class='lparen token'>(</span><span class='sources identifier id'>sources</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='enhance identifier id'>enhance</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>default_options</h3>
</div><div id="default_options-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>default_options</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Default options already set on each test task.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/test.rb', line 182</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/test.rb#L182">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">182
183
184</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='default_options identifier id'>default_options</span>
  <span class='lbrace token'>{</span> <span class='symbol val'>:fail_on_failure=</span><span class='gt op'>&gt;</span><span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:fork=</span><span class='gt op'>&gt;</span><span class='symbol val'>:once</span><span class='comma token'>,</span> <span class='symbol val'>:properties=</span><span class='gt op'>&gt;</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='symbol val'>:environment=</span><span class='gt op'>&gt;</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>exclude</h3>
</div><div id="exclude-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>exclude</span><span class='args'>(*names)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='exclude identifier id'>exclude</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='names identifier id'>names</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span>
</pre>
<p>
Exclude the specified tests. This method accepts multiple arguments and
returns self. See #include for the type of arguments you can use.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/test.rb', line 353</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/test.rb#L353">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">353
354
355
356</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='exclude identifier id'>exclude</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='names identifier id'>names</span><span class='rparen token'>)</span>
  <span class='@exclude ivar id'>@exclude</span> <span class='opasgn op'>+=</span> <span class='names identifier id'>names</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>execute</h3>
</div><div id="execute-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>execute</span><span class='args'>(args)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/test.rb', line 220</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/test.rb#L220">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">220
221
222
223
224
225
226
227
228
229
230
231
232
233</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='execute identifier id'>execute</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='if if kw'>if</span> <span class='Buildr constant id'>Buildr</span><span class='dot token'>.</span><span class='options identifier id'>options</span><span class='dot token'>.</span><span class='test identifier id'>test</span> <span class='eq op'>==</span> <span class='false false kw'>false</span>
    <span class='info identifier id'>info</span> <span class='dstring node'>&quot;Skipping tests for #{project.name}&quot;</span>
    <span class='return return kw'>return</span>
  <span class='end end kw'>end</span>
  <span class='setup identifier id'>setup</span><span class='dot token'>.</span><span class='invoke identifier id'>invoke</span>
  <span class='begin begin kw'>begin</span>
    <span class='super super kw'>super</span>
  <span class='rescue rescue kw'>rescue</span> <span class='RuntimeError constant id'>RuntimeError</span>
    <span class='raise identifier id'>raise</span> <span class='if if_mod kw'>if</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:fail_on_failure</span><span class='rbrack token'>]</span>
  <span class='ensure ensure kw'>ensure</span>
    <span class='teardown identifier id'>teardown</span><span class='dot token'>.</span><span class='invoke identifier id'>invoke</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>framework</h3>
</div><div id="framework-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>framework</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='framework identifier id'>framework</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol identifier id'>symbol</span>
</pre>
<p>
Returns the test framework, e.g. :junit, :testng.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/test.rb', line 375</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/test.rb#L375">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">375
376
377
378
379
380
381
382
383
384
385</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='framework identifier id'>framework</span>
  <span class='unless unless kw'>unless</span> <span class='@framework ivar id'>@framework</span>
    <span class='comment val'># Start with all frameworks that apply (e.g. JUnit and TestNG for Java),</span>
    <span class='comment val'># and pick the first (default) one, unless already specified in parent project.</span>
    <span class='candidates identifier id'>candidates</span> <span class='assign token'>=</span> <span class='TestFramework constant id'>TestFramework</span><span class='dot token'>.</span><span class='frameworks identifier id'>frameworks</span><span class='dot token'>.</span><span class='select identifier id'>select</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='cls identifier id'>cls</span><span class='bitor op'>|</span> <span class='cls identifier id'>cls</span><span class='dot token'>.</span><span class='applies_to? fid id'>applies_to?</span><span class='lparen token'>(</span><span class='@project ivar id'>@project</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='candidate identifier id'>candidate</span> <span class='assign token'>=</span> <span class='@project ivar id'>@project</span><span class='dot token'>.</span><span class='parent identifier id'>parent</span> <span class='andop op'>&amp;&amp;</span> <span class='candidates identifier id'>candidates</span><span class='dot token'>.</span><span class='detect identifier id'>detect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='framework identifier id'>framework</span><span class='bitor op'>|</span> <span class='framework identifier id'>framework</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span> <span class='eq op'>==</span> <span class='@project ivar id'>@project</span><span class='dot token'>.</span><span class='parent identifier id'>parent</span><span class='dot token'>.</span><span class='test identifier id'>test</span><span class='dot token'>.</span><span class='framework identifier id'>framework</span> <span class='rbrace token'>}</span> <span class='orop op'>||</span>
      <span class='candidates identifier id'>candidates</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='framework identifier id'>framework</span> <span class='assign token'>=</span> <span class='candidate identifier id'>candidate</span> <span class='if if_mod kw'>if</span> <span class='candidate identifier id'>candidate</span>
  <span class='end end kw'>end</span>
  <span class='@framework ivar id'>@framework</span> <span class='andop op'>&amp;&amp;</span> <span class='@framework ivar id'>@framework</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>include</h3>
</div><div id="include-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>include</span><span class='args'>(*names)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='names identifier id'>names</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span>
</pre>
<p>
Include only the specified tests. Unless specified, the default is to
include all tests identified by the test framework. This method accepts
multiple arguments and returns self.
</p>
<p>
Tests are specified by their full name, but you can use glob patterns to
select multiple tests, for example:
</p>
<pre class="code">
  <span class='test identifier id'>test</span><span class='dot token'>.</span><span class='include identifier id'>include</span> <span class='string val'>'com.example.FirstTest'</span>  <span class='comment val'># FirstTest only</span>
  <span class='test identifier id'>test</span><span class='dot token'>.</span><span class='include identifier id'>include</span> <span class='string val'>'com.example.*'</span>          <span class='comment val'># All tests under com/example</span>
  <span class='test identifier id'>test</span><span class='dot token'>.</span><span class='include identifier id'>include</span> <span class='string val'>'com.example.Module*'</span>    <span class='comment val'># All tests starting with Module</span>
  <span class='test identifier id'>test</span><span class='dot token'>.</span><span class='include identifier id'>include</span> <span class='string val'>'*.{First,Second}Test'</span>   <span class='comment val'># FirstTest, SecondTest</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/test.rb', line 343</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/test.rb#L343">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">343
344
345
346</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='names identifier id'>names</span><span class='rparen token'>)</span>
  <span class='@include ivar id'>@include</span> <span class='opasgn op'>+=</span> <span class='names identifier id'>names</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>last_successful_run_file</h3>
</div><div id="last_successful_run_file-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>last_successful_run_file</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
The path to the file that stores the time stamp of the last successful test
run.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/test.rb', line 399</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/test.rb#L399">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">399
400
401</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='last_successful_run_file identifier id'>last_successful_run_file</span> 
  <span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='report_to identifier id'>report_to</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='comma token'>,</span> <span class='string val'>'last_successful_run'</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>report_to</h3>
</div><div id="report_to-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>report_to</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='report_to identifier id'>report_to</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='file identifier id'>file</span>
</pre>
<p>
Test frameworks that can produce reports, will write them to this
directory.
</p>
<p>
This is framework dependent, so unless you use the default test framework,
call this method after setting the test framework.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/test.rb', line 394</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/test.rb#L394">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">394
395
396</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='report_to identifier id'>report_to</span>
  <span class='@report_to ivar id'>@report_to</span> <span class='opasgn op'>||=</span> <span class='file identifier id'>file</span><span class='lparen token'>(</span><span class='@project ivar id'>@project</span><span class='dot token'>.</span><span class='path_to identifier id'>path_to</span><span class='lparen token'>(</span><span class='symbol val'>:reports</span><span class='comma token'>,</span> <span class='framework identifier id'>framework</span><span class='rparen token'>)</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>resources</h3>
</div><div id="resources-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>resources</span><span class='args'>(*prereqs, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='resources identifier id'>resources</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='prereqs identifier id'>prereqs</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='ResourcesTask constant id'>ResourcesTask</span>
  <span class='resources identifier id'>resources</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='prereqs identifier id'>prereqs</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='task identifier id'>task</span><span class='bitor op'>|</span> <span class='dot2 op'>..</span> <span class='rbrace token'>}</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='ResourcesTask constant id'>ResourcesTask</span>
</pre>
<p>
Executes by the #compile task to copy resource files over. See
Project#resources.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/test.rb', line 256</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/test.rb#L256">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">256
257
258</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='resources identifier id'>resources</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='prereqs identifier id'>prereqs</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='@project ivar id'>@project</span><span class='dot token'>.</span><span class='task identifier id'>task</span><span class='lparen token'>(</span><span class='string val'>'test:resources'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='enhance identifier id'>enhance</span> <span class='prereqs identifier id'>prereqs</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>setup</h3>
</div><div id="setup-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>setup</span><span class='args'>(*prereqs, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='setup identifier id'>setup</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='prereqs identifier id'>prereqs</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='task identifier id'>task</span>
  <span class='setup identifier id'>setup</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='prereqs identifier id'>prereqs</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='task identifier id'>task</span><span class='bitor op'>|</span> <span class='dot2 op'>..</span> <span class='rbrace token'>}</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='task identifier id'>task</span>
</pre>
<p>
Returns the setup task. The setup task is executed at the beginning of the
test task, after compiling the test files.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/test.rb', line 266</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/test.rb#L266">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">266
267
268</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='setup identifier id'>setup</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='prereqs identifier id'>prereqs</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='@project ivar id'>@project</span><span class='dot token'>.</span><span class='task identifier id'>task</span><span class='lparen token'>(</span><span class='string val'>'test:setup'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='enhance identifier id'>enhance</span> <span class='prereqs identifier id'>prereqs</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>teardown</h3>
</div><div id="teardown-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>teardown</span><span class='args'>(*prereqs, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='teardown identifier id'>teardown</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='prereqs identifier id'>prereqs</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='task identifier id'>task</span>
  <span class='teardown identifier id'>teardown</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='prereqs identifier id'>prereqs</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='task identifier id'>task</span><span class='bitor op'>|</span> <span class='dot2 op'>..</span> <span class='rbrace token'>}</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='task identifier id'>task</span>
</pre>
<p>
Returns the teardown task. The teardown task is executed at the end of the
test task.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/test.rb', line 275</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/test.rb#L275">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">275
276
277</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='teardown identifier id'>teardown</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='prereqs identifier id'>prereqs</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='@project ivar id'>@project</span><span class='dot token'>.</span><span class='task identifier id'>task</span><span class='lparen token'>(</span><span class='string val'>'test:teardown'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='enhance identifier id'>enhance</span> <span class='prereqs identifier id'>prereqs</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>timestamp</h3>
</div><div id="timestamp-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>timestamp</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
The time stamp of the last successful test run. Or Rake::EARLY if no
successful test run recorded.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/test.rb', line 404</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/test.rb#L404">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">404
405
406</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='timestamp identifier id'>timestamp</span> 
  <span class='File constant id'>File</span><span class='dot token'>.</span><span class='exist? fid id'>exist?</span><span class='lparen token'>(</span><span class='last_successful_run_file identifier id'>last_successful_run_file</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='mtime identifier id'>mtime</span><span class='lparen token'>(</span><span class='last_successful_run_file identifier id'>last_successful_run_file</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='Rake constant id'>Rake</span><span class='colon2 op'>::</span><span class='EARLY constant id'>EARLY</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>using</h3>
</div><div id="using-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>using</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='using identifier id'>using</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span>
</pre>
<p>
Sets various test options from a hash and returns self. For example:
</p>
<pre class="code">
  <span class='test identifier id'>test</span><span class='dot token'>.</span><span class='using identifier id'>using</span> <span class='symbol val'>:fork=</span><span class='gt op'>&gt;</span><span class='symbol val'>:each</span><span class='comma token'>,</span> <span class='symbol val'>:properties=</span><span class='gt op'>&gt;</span><span class='lbrace token'>{</span> <span class='string val'>'url'</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='string val'>'http://localhost:8080'</span> <span class='rbrace token'>}</span>
</pre>
<p>
Can also be used to select the test framework, or to run these tests as
integration tests. For example:
</p>
<pre class="code">
  <span class='test identifier id'>test</span><span class='dot token'>.</span><span class='using identifier id'>using</span> <span class='symbol val'>:testng</span>
  <span class='test identifier id'>test</span><span class='dot token'>.</span><span class='using identifier id'>using</span> <span class='symbol val'>:integration</span>
</pre>
<p>
The :fail_on_failure option specifies whether the task should fail if any
of the tests fail (default), or should report the failures but continue
running the build (when set to false).
</p>
<p>
All other options depend on the capability of the test framework. These
options should be used the same way across all frameworks that support
them:
</p>
<ul>
<li>:fork &#8212; Fork once for each project (:once, default), for each test in
each

<pre class="code">
  <span class='project identifier id'>project</span> <span class='lparen token'>(</span><span class='symbol val'>:each</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='or or kw'>or</span> <span class='don identifier id'>don</span><span class='string val'>'t fork at all (false).
</span></pre>
</li>
<li>:properties &#8212; Properties pass to the test, e.g. in Java as system
properties.

</li>
<li>:environment &#8212; Environment variables. This hash is made available in
the

<pre class="code">
  <span class='form identifier id'>form</span> <span class='of identifier id'>of</span> <span class='environment identifier id'>environment</span> <span class='variables identifier id'>variables</span><span class='dot token'>.</span>
</pre>
</li>
</ul>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/test.rb', line 315</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/test.rb#L315">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">315
316
317
318
319
320
321
322
323
324
325
326
327
328</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='using identifier id'>using</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span> <span class='rbrace token'>}</span> <span class='if if_mod kw'>if</span> <span class='Hash constant id'>Hash</span> <span class='eqq op'>===</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='last identifier id'>last</span>
  <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='TestFramework constant id'>TestFramework</span><span class='dot token'>.</span><span class='has? fid id'>has?</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='framework identifier id'>framework</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span>
    <span class='elsif elsif kw'>elsif</span> <span class='name identifier id'>name</span> <span class='eq op'>==</span> <span class='symbol val'>:integration</span>
      <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:integration</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
    <span class='else else kw'>else</span>
      <span class='Buildr constant id'>Buildr</span><span class='dot token'>.</span><span class='application identifier id'>application</span><span class='dot token'>.</span><span class='deprecated identifier id'>deprecated</span> <span class='dstring node'>&quot;Please replace with using(:#{name}=&gt;true)&quot;</span>
      <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span> 
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>with</h3>
</div><div id="with-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>with</span><span class='args'>(*artifacts)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='specs identifier id'>specs</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span>
</pre>
<p>
Specify artifacts (specs, tasks, files, etc) to include in the dependencies
list when compiling and running tests.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/test.rb', line 284</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/test.rb#L284">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">284
285
286
287
288</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='artifacts identifier id'>artifacts</span><span class='rparen token'>)</span>
  <span class='@dependencies ivar id'>@dependencies</span> <span class='opasgn op'>|=</span> <span class='Buildr constant id'>Buildr</span><span class='dot token'>.</span><span class='artifacts identifier id'>artifacts</span><span class='lparen token'>(</span><span class='artifacts identifier id'>artifacts</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='uniq identifier id'>uniq</span>
  <span class='compile identifier id'>compile</span><span class='dot token'>.</span><span class='with identifier id'>with</span> <span class='artifacts identifier id'>artifacts</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>