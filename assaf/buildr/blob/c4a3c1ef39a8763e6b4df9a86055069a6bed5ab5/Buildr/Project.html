<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>assaf's buildr - Class: Buildr::Project - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/assaf/commits/buildr/master" rel="alternate" title="Recent Commits to buildr:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("assaf", "buildr", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("assaf", "buildr", "c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/assaf/buildr/tree/">Source</a></li>
            <li class=""><a href="http://github.com/assaf/buildr/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/assaf/buildr/network">Network</a></li>            
            <li class=""><a href="http://github.com/assaf/buildr/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/assaf/buildr">Wiki</a></li>
            <li class=""><a href="http://github.com/assaf/buildr/graphs">Graphs</a></li>                    
            <li class="active"><a href="/assaf/buildr">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/assaf">assaf</a> / <b><a href="http://github.com/assaf/buildr/tree">buildr</a></b>        
                <a id="namespaces_button" rel="assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Buildr_Project">
  <h1>Class: Buildr::Project</h1>
  <div class="section inheritance">
  <ul>
  <li><a href="../Rake/Task.html" title="Rake::Task">Rake::Task</a></li><ul><li>Buildr::Project</li>
  </ul></ul>
</div><div class="section mixins">
  <h2>Included Modules</h2>
  <p><a href="Idea.html" title="Buildr::Idea">Buildr::Idea</a>, <a href="Eclipse.html" title="Buildr::Eclipse">Buildr::Eclipse</a>, <a href="Idea7x.html" title="Buildr::Idea7x">Buildr::Idea7x</a>, <a href="Package.html" title="Buildr::Package">Buildr::Package</a>, <a href="Project/PackageAsGem.html" title="Buildr::PackageAsGem">Buildr::PackageAsGem</a>, <a href="Packaging/Java.html" title="Buildr::Packaging::Java">Buildr::Packaging::Java</a>, CoberturaExtension, <a href="Project/Ant.html" title="Buildr::Ant">Buildr::Ant</a>, <a href="Javadoc.html" title="Buildr::Javadoc">Buildr::Javadoc</a>, <a href="Apt.html" title="Buildr::Apt">Buildr::Apt</a>, EmmaExtension, <a href="Checks.html" title="Buildr::Checks">Buildr::Checks</a>, <a href="Build.html" title="Buildr::Build">Buildr::Build</a>, <a href="Test.html" title="Buildr::Test">Buildr::Test</a>, <a href="Compile.html" title="Buildr::Compile">Buildr::Compile</a>, <a href="Project/Buildr.html" title="Buildr">Buildr</a></p>
</div><div class="section docstring">
  <p>
A project definition is where you define all the tasks associated with the
project you&#8217;re building.
</p>
<p>
The project itself will define several life cycle tasks for you. For
example, it automatically creates a compile task that will compile all the
source files found in src/main/java into target/classes, a test task that
will compile source files from src/test/java and run all the JUnit tests
found there, and a build task to compile and then run the tests.
</p>
<p>
You use the project definition to enhance these tasks, for example, telling
the compile task which class path dependencies to use. Or telling the
project how to package an artifact, e.g. creating a JAR using <tt>package
:jar</tt>.
</p>
<p>
You can also define additional tasks that are executed by project tasks, or
invoked from rake.
</p>
<p>
Tasks created by the project are all prefixed with the project name, e.g.
the project foo creates the task foo:compile. If foo contains a sub-project
bar, the later will define the task foo:bar:compile. Since the compile task
is recursive, compiling foo will also compile foo:bar.
</p>
<p>
If you run:
</p>
<pre class="code">
  <span class='buildr identifier id'>buildr</span> <span class='compile identifier id'>compile</span>
</pre>
<p>
from the command line, it will execute the compile task of the current
project.
</p>
<p>
Projects and sub-projects follow a directory heirarchy. The Buildfile is
assumed to reside in the same directory as the top-level project, and each
sub-project is contained in a sub-directory in the same name. For example:
</p>
<pre class="code">
  <span class='regexp val'>/home/</span><span class='foo identifier id'>foo</span>
  <span class='bitor op'>|</span><span class='__ identifier id'>__</span> <span class='Buildfile constant id'>Buildfile</span>
  <span class='bitor op'>|</span><span class='__ identifier id'>__</span> <span class='src identifier id'>src</span><span class='div op'>/</span><span class='main identifier id'>main</span><span class='div op'>/</span><span class='java identifier id'>java</span>
  <span class='bitor op'>|</span><span class='__ identifier id'>__</span> <span class='foo identifier id'>foo</span>
      <span class='bitor op'>|</span><span class='__ identifier id'>__</span> <span class='src identifier id'>src</span><span class='div op'>/</span><span class='main identifier id'>main</span><span class='div op'>/</span><span class='java identifier id'>java</span>
</pre>
<p>
The default structure of each project is assumed to be:
</p>
<pre class="code">
  <span class='src identifier id'>src</span>
  <span class='bitor op'>|</span><span class='__main identifier id'>__main</span>
  <span class='bitor op'>|</span>  <span class='bitor op'>|</span><span class='__java identifier id'>__java</span>           <span class='lt op'>&lt;</span><span class='minus op'>-</span><span class='minus op'>-</span> <span class='Source constant id'>Source</span> <span class='files identifier id'>files</span> <span class='to identifier id'>to</span> <span class='compile identifier id'>compile</span>
  <span class='bitor op'>|</span>  <span class='bitor op'>|</span><span class='__resources identifier id'>__resources</span>      <span class='lt op'>&lt;</span><span class='minus op'>-</span><span class='minus op'>-</span> <span class='Resources constant id'>Resources</span> <span class='to identifier id'>to</span> <span class='copy identifier id'>copy</span>
  <span class='bitor op'>|</span>  <span class='bitor op'>|</span><span class='__webapp identifier id'>__webapp</span>         <span class='lt op'>&lt;</span><span class='minus op'>-</span><span class='minus op'>-</span> <span class='For constant id'>For</span> <span class='WARs constant id'>WARs</span>
  <span class='bitor op'>|</span><span class='__test identifier id'>__test</span>
  <span class='bitor op'>|</span>  <span class='bitor op'>|</span><span class='__java identifier id'>__java</span>           <span class='lt op'>&lt;</span><span class='minus op'>-</span><span class='minus op'>-</span> <span class='Source constant id'>Source</span> <span class='files identifier id'>files</span> <span class='to identifier id'>to</span> <span class='compile identifier id'>compile</span> <span class='lparen token'>(</span><span class='tests identifier id'>tests</span><span class='rparen token'>)</span>
  <span class='bitor op'>|</span>  <span class='bitor op'>|</span><span class='__resources identifier id'>__resources</span>      <span class='lt op'>&lt;</span><span class='minus op'>-</span><span class='minus op'>-</span> <span class='Resources constant id'>Resources</span> <span class='to identifier id'>to</span> <span class='copy identifier id'>copy</span> <span class='lparen token'>(</span><span class='tests identifier id'>tests</span><span class='rparen token'>)</span>
  <span class='bitor op'>|</span><span class='__target identifier id'>__target</span>            <span class='lt op'>&lt;</span><span class='minus op'>-</span><span class='minus op'>-</span> <span class='Packages constant id'>Packages</span> <span class='created identifier id'>created</span> <span class='here identifier id'>here</span>
  <span class='bitor op'>|</span>  <span class='bitor op'>|</span><span class='__classes identifier id'>__classes</span>        <span class='lt op'>&lt;</span><span class='minus op'>-</span><span class='minus op'>-</span> <span class='Generated constant id'>Generated</span> <span class='when when kw'>when</span> <span class='compiling identifier id'>compiling</span>
  <span class='bitor op'>|</span>  <span class='bitor op'>|</span><span class='__resources identifier id'>__resources</span>      <span class='lt op'>&lt;</span><span class='minus op'>-</span><span class='minus op'>-</span> <span class='Copied constant id'>Copied</span> <span class='lparen token'>(</span><span class='and and kw'>and</span> <span class='filtered identifier id'>filtered</span><span class='rparen token'>)</span> <span class='from identifier id'>from</span> <span class='resources identifier id'>resources</span>
  <span class='bitor op'>|</span>  <span class='bitor op'>|</span><span class='__test identifier id'>__test</span><span class='div op'>/</span><span class='classes identifier id'>classes</span>   <span class='lt op'>&lt;</span><span class='minus op'>-</span><span class='minus op'>-</span> <span class='Generated constant id'>Generated</span> <span class='when when kw'>when</span> <span class='compiling identifier id'>compiling</span> <span class='tests identifier id'>tests</span>
  <span class='bitor op'>|</span>  <span class='bitor op'>|</span><span class='__test identifier id'>__test</span><span class='div op'>/</span><span class='resources identifier id'>resources</span> <span class='lt op'>&lt;</span><span class='minus op'>-</span><span class='minus op'>-</span> <span class='Copied constant id'>Copied</span> <span class='lparen token'>(</span><span class='and and kw'>and</span> <span class='filtered identifier id'>filtered</span><span class='rparen token'>)</span> <span class='from identifier id'>from</span> <span class='resources identifier id'>resources</span>
  <span class='bitor op'>|</span><span class='__reports identifier id'>__reports</span>           <span class='lt op'>&lt;</span><span class='minus op'>-</span><span class='minus op'>-</span> <span class='Test constant id'>Test</span><span class='comma token'>,</span> <span class='coverage identifier id'>coverage</span> <span class='and and kw'>and</span> <span class='other identifier id'>other</span> <span class='reports identifier id'>reports</span>
</pre>
<p>
You can change the project layout by passing a new Layout to the project
definition.
</p>
<p>
You can only define a project once using #define. Afterwards, you can
obtain the project definition using #project. The order in which you define
projects is not important, project definitions are evaluated when you ask
for them. Circular dependencies will not work. Rake tasks are only created
after the project is evaluated, so if you need to access a task (e.g.
compile) use <tt>project(&#8216;foo&#8217;).compile</tt> instead of
<tt>task(&#8216;foo:compile&#8217;)</tt>.
</p>
<p>
For example:
</p>
<pre class="code">
  <span class='define identifier id'>define</span> <span class='string val'>'myapp'</span><span class='comma token'>,</span> <span class='symbol val'>:version=</span><span class='gt op'>&gt;</span><span class='string val'>'1.1'</span> <span class='do do kw'>do</span>

    <span class='define identifier id'>define</span> <span class='string val'>'wepapp'</span> <span class='do do kw'>do</span>
      <span class='compile identifier id'>compile</span><span class='dot token'>.</span><span class='with identifier id'>with</span> <span class='project identifier id'>project</span><span class='lparen token'>(</span><span class='string val'>'myapp:beans'</span><span class='rparen token'>)</span>
      <span class='package identifier id'>package</span> <span class='symbol val'>:war</span>
    <span class='end end kw'>end</span>

    <span class='define identifier id'>define</span> <span class='string val'>'beans'</span> <span class='do do kw'>do</span>
      <span class='compile identifier id'>compile</span><span class='dot token'>.</span><span class='with identifier id'>with</span> <span class='DEPENDS constant id'>DEPENDS</span>
      <span class='package identifier id'>package</span> <span class='symbol val'>:jar</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='puts identifier id'>puts</span> <span class='projects identifier id'>projects</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='symbol val'>:name</span><span class='rparen token'>)</span>
  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span> <span class='string val'>'myapp'</span><span class='comma token'>,</span> <span class='string val'>'myapp:beans'</span><span class='comma token'>,</span> <span class='string val'>'myapp:webapp'</span> <span class='rbrack token'>]</span>
  <span class='puts identifier id'>puts</span> <span class='project identifier id'>project</span><span class='lparen token'>(</span><span class='string val'>'myapp:webapp'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='parent identifier id'>parent</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'myapp'</span>
  <span class='puts identifier id'>puts</span> <span class='project identifier id'>project</span><span class='lparen token'>(</span><span class='string val'>'myapp:webapp'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='compile identifier id'>compile</span><span class='dot token'>.</span><span class='classpath identifier id'>classpath</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='symbol val'>:to_spec</span><span class='rparen token'>)</span>
  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'myapp:myapp-beans:jar:1.1'</span>
</pre>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">name</td>
          <td class="readwrite">
            [<span id='name-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
The project name.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">parent</td>
          <td class="readwrite">
            [<span id='parent-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
The parent project if this is a sub-project.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  <div class="included">
  
  <div>
    <h2>Constants Included from <a href="Idea7x.html" title="Buildr::Idea7x">Buildr::Idea7x</a></h2>
    <p><span class='name'><a href="Idea7x.html#CLASSIFIER-constant" title="CLASSIFIER">CLASSIFIER</a></span>, <span class='name'><a href="Idea7x.html#FILE_PATH_PREFIX-constant" title="FILE_PATH_PREFIX">FILE_PATH_PREFIX</a></span>, <span class='name'><a href="Idea7x.html#IML_SUFFIX-constant" title="IML_SUFFIX">IML_SUFFIX</a></span>, <span class='name'><a href="Idea7x.html#IPR_TEMPLATE-constant" title="IPR_TEMPLATE">IPR_TEMPLATE</a></span>, <span class='name'><a href="Idea7x.html#MODULE_DIR-constant" title="MODULE_DIR">MODULE_DIR</a></span>, <span class='name'><a href="Idea7x.html#MODULE_DIR_URL-constant" title="MODULE_DIR_URL">MODULE_DIR_URL</a></span>, <span class='name'><a href="Idea7x.html#PROJECT_DIR-constant" title="PROJECT_DIR">PROJECT_DIR</a></span>, <span class='name'><a href="Idea7x.html#PROJECT_DIR_URL-constant" title="PROJECT_DIR_URL">PROJECT_DIR_URL</a></span></p>
  </div>
  
  <div>
    <h2>Constants Included from <a href="Project/Buildr.html" title="Buildr">Buildr</a></h2>
    <p><span class='name'><a href="../Buildr.html#ScalaSpecs-constant" title="ScalaSpecs">ScalaSpecs</a></span>, <span class='name'><a href="../Buildr.html#VERSION-constant" title="VERSION">VERSION</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/project.rb', line 395</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/project.rb#L395">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">395
396
397
398
399
400
401
402
403
404
405
406
407
408
409</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='super super kw'>super</span>
  <span class='split identifier id'>split</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>':'</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='split identifier id'>split</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='gt op'>&gt;</span> <span class='integer val'>1</span>
    <span class='comment val'># Get parent project, but do not invoke it's definition to prevent circular</span>
    <span class='comment val'># dependencies (it's being invoked right now, so calling project will fail).</span>
    <span class='@parent ivar id'>@parent</span> <span class='assign token'>=</span> <span class='task identifier id'>task</span><span class='lparen token'>(</span><span class='split identifier id'>split</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot3 op'>...</span><span class='integer val'>-1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>':'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;No parent project #{split[0...-1].join(':')}&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='@parent ivar id'>@parent</span> <span class='andop op'>&amp;&amp;</span> <span class='Project constant id'>Project</span> <span class='eqq op'>===</span> <span class='parent identifier id'>parent</span>
  <span class='end end kw'>end</span>
  <span class='callbacks identifier id'>callbacks</span> <span class='assign token'>=</span> <span class='Project constant id'>Project</span><span class='dot token'>.</span><span class='callbacks identifier id'>callbacks</span><span class='dot token'>.</span><span class='uniq identifier id'>uniq</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='symbol val'>:new</span><span class='rparen token'>)</span>
  <span class='@callbacks ivar id'>@callbacks</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='symbol val'>:before_define</span><span class='comma token'>,</span> <span class='symbol val'>:after_define</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='hash identifier id'>hash</span><span class='comma token'>,</span> <span class='state identifier id'>state</span><span class='bitor op'>|</span>
    <span class='methods identifier id'>methods</span> <span class='assign token'>=</span> <span class='callbacks identifier id'>callbacks</span><span class='dot token'>.</span><span class='select identifier id'>select</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='callback identifier id'>callback</span><span class='bitor op'>|</span> <span class='callback identifier id'>callback</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='state identifier id'>state</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='callback identifier id'>callback</span><span class='bitor op'>|</span> <span class='callback identifier id'>callback</span><span class='dot token'>.</span><span class='method identifier id'>method</span><span class='lparen token'>(</span><span class='state identifier id'>state</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='hash identifier id'>hash</span><span class='dot token'>.</span><span class='update identifier id'>update</span><span class='lparen token'>(</span><span class='state identifier id'>state</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='methods identifier id'>methods</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#callbacks-class_method">callbacks</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Callback classes.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#clear-class_method">clear</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='clear identifier id'>clear</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#define-class_method">define</span><span class='args'>(name, properties, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='define identifier id'>define</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='properties? fid id'>properties?</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='project identifier id'>project</span><span class='bitor op'>|</span> <span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#local_projects-class_method">local_projects</span><span class='args'>(dir = nil, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#local_task-class_method">local_task</span><span class='args'>(args, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='local_task identifier id'>local_task</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='local_task identifier id'>local_task</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='bitor op'>|</span> <span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#on_define-class_method">on_define</span><span class='args'>(&amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
<b>Deprecated</b> Check the Extension module to see how extensions are
handled.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#parent_task-class_method">parent_task</span><span class='args'>(task_name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='parent_task identifier id'>parent_task</span><span class='lparen token'>(</span><span class='task_name identifier id'>task_name</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='task_name identifier id'>task_name</span> <span class='or or kw'>or</span> <span class='nil nil kw'>nil</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#project-class_method">project</span><span class='args'>(*args)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='project identifier id'>project</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='project identifier id'>project</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#project_from_task-class_method">project_from_task</span><span class='args'>(task)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='project_from_task identifier id'>project_from_task</span><span class='lparen token'>(</span><span class='task identifier id'>task</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='project identifier id'>project</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#projects-class_method">projects</span><span class='args'>(*names)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='projects identifier id'>projects</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='names identifier id'>names</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='projects identifier id'>projects</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#scope_name-class_method">scope_name</span><span class='args'>(scope, task_name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#base_dir-instance_method">#base_dir</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='base_dir identifier id'>base_dir</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='path identifier id'>path</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#file-instance_method">#file</span><span class='args'>(*args, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='file identifier id'>file</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Task constant id'>Task</span>
  <span class='file identifier id'>file</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='prereqs identifier id'>prereqs</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Task constant id'>Task</span>
  <span class='file identifier id'>file</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='task identifier id'>task</span><span class='bitor op'>|</span> <span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#inspect-instance_method">#inspect</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#layout-instance_method">#layout</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the layout associated with this project.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#path_to-instance_method">#path_to</span><span class='args'>(*names)</span>
        <span class='block'></span>
        
          <span class='alias'>#_</span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='path_to identifier id'>path_to</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='names identifier id'>names</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='path identifier id'>path</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#project-instance_method">#project</span><span class='args'>(*args)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='project identifier id'>project</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='project identifier id'>project</span>
  <span class='project identifier id'>project</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#projects-instance_method">#projects</span><span class='args'>(*args)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='projects identifier id'>projects</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='names identifier id'>names</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='projects identifier id'>projects</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#recursive_task-instance_method">#recursive_task</span><span class='args'>(*args, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='recursive_task identifier id'>recursive_task</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='prereqs identifier id'>prereqs</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='task identifier id'>task</span><span class='bitor op'>|</span> <span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#task-instance_method">#task</span><span class='args'>(*args, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='task identifier id'>task</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Task constant id'>Task</span>
  <span class='task identifier id'>task</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='prereqs identifier id'>prereqs</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Task constant id'>Task</span>
  <span class='task identifier id'>task</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='task identifier id'>task</span><span class='bitor op'>|</span> <span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
</table><div class="inherited">
  
  <div>
    <h2>Public Instance Methods Inherited from <a href="../Rake/Task.html" title="Rake::Task">Rake::Task</a></h2>
    <p><span class='name'><a href="../Rake/Task.html#invoke-instance_method" title="invoke">invoke</a></span>, <span class='name'><a href="../Rake/Task.html#invoke_with_call_chain-instance_method" title="invoke_with_call_chain">invoke_with_call_chain</a></span></p>
  </div>
  
</div>
<div class="clear"></div><div class="included">
  
  <div>
    <h2>Public Instance Methods Included from <a href="Package.html" title="Buildr::Package">Buildr::Package</a></h2>
    <p><span class='name'><a href="Package.html#id-instance_method" title="id">id</a></span>, <span class='name'><a href="Package.html#package-instance_method" title="package">package</a></span>, <span class='name'><a href="Package.html#packages-instance_method" title="packages">packages</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a href="Project/PackageAsGem.html" title="Buildr::PackageAsGem">Buildr::PackageAsGem</a></h2>
    <p><span class='name'><a href="PackageAsGem.html#package_as_gem-instance_method" title="package_as_gem">package_as_gem</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a href="Packaging/Java.html" title="Buildr::Packaging::Java">Buildr::Packaging::Java</a></h2>
    <p><span class='name'><a href="Packaging/Java.html#package_with_javadoc-instance_method" title="package_with_javadoc">package_with_javadoc</a></span>, <span class='name'><a href="Packaging/Java.html#package_with_sources-instance_method" title="package_with_sources">package_with_sources</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a href="Project/Ant.html" title="Buildr::Ant">Buildr::Ant</a></h2>
    <p><span class='name'><a href="Ant.html#ant-instance_method" title="ant">ant</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a href="Javadoc.html" title="Buildr::Javadoc">Buildr::Javadoc</a></h2>
    <p><span class='name'><a href="Javadoc.html#javadoc-instance_method" title="javadoc">javadoc</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a href="Apt.html" title="Buildr::Apt">Buildr::Apt</a></h2>
    <p><span class='name'><a href="Apt.html#apt-instance_method" title="apt">apt</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a href="Checks.html" title="Buildr::Checks">Buildr::Checks</a></h2>
    <p><span class='name'><a href="Checks.html#check-instance_method" title="check">check</a></span>, <span class='name'><a href="Checks.html#expectations-instance_method" title="expectations">expectations</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a href="Build.html" title="Buildr::Build">Buildr::Build</a></h2>
    <p><span class='name'><a href="Build.html#build-instance_method" title="build">build</a></span>, <span class='name'><a href="Build.html#clean-instance_method" title="clean">clean</a></span>, <span class='name'><a href="Build.html#reports-instance_method" title="reports">reports</a></span>, <span class='name'><a href="Build.html#reports%3D-instance_method" title="reports=">reports=</a></span>, <span class='name'><a href="Build.html#target-instance_method" title="target">target</a></span>, <span class='name'><a href="Build.html#target%3D-instance_method" title="target=">target=</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a href="Test.html" title="Buildr::Test">Buildr::Test</a></h2>
    <p><span class='name'><a href="Test.html#test-instance_method" title="test">test</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a href="Compile.html" title="Buildr::Compile">Buildr::Compile</a></h2>
    <p><span class='name'><a href="Compile.html#compile-instance_method" title="compile">compile</a></span>, <span class='name'><a href="Compile.html#resources-instance_method" title="resources">resources</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a href="Project/Buildr.html" title="Buildr">Buildr</a></h2>
    <p><span class='name'><a href="../Buildr.html#artifact-instance_method" title="artifact">artifact</a></span>, <span class='name'><a href="../Buildr.html#artifact_ns-instance_method" title="artifact_ns">artifact_ns</a></span>, <span class='name'><a href="../Buildr.html#artifacts-instance_method" title="artifacts">artifacts</a></span>, <span class='name'><a href="../Buildr.html#concat-instance_method" title="concat">concat</a></span>, <span class='name'><a href="../Buildr.html#download-instance_method" title="download">download</a></span>, <span class='name'><a href="../Buildr.html#filter-instance_method" title="filter">filter</a></span>, <span class='name'><a href="../Buildr.html#group-instance_method" title="group">group</a></span>, <span class='name'><a href="../Buildr.html#help-instance_method" title="help">help</a></span>, <span class='name'><a href="../Buildr.html#install-instance_method" title="install">install</a></span>, <span class='name'><a href="../Buildr.html#integration-instance_method" title="integration">integration</a></span>, <span class='name'><a href="../Buildr.html#options-instance_method" title="options">options</a></span>, <span class='name'><a href="../Buildr.html#read-instance_method" title="read">read</a></span>, <span class='name'><a href="../Buildr.html#repositories-instance_method" title="repositories">repositories</a></span>, <span class='name'><a href="../Buildr.html#struct-instance_method" title="struct">struct</a></span>, <span class='name'><a href="../Buildr.html#transitive-instance_method" title="transitive">transitive</a></span>, <span class='name'><a href="../Buildr.html#unzip-instance_method" title="unzip">unzip</a></span>, <span class='name'><a href="../Buildr.html#upload-instance_method" title="upload">upload</a></span>, <span class='name'><a href="../Buildr.html#write-instance_method" title="write">write</a></span>, <span class='name'><a href="../Buildr.html#zip-instance_method" title="zip">zip</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>callbacks</h3>
</div><div id="callbacks-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>callbacks</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Callback classes.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/project.rb', line 378</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/project.rb#L378">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">378
379
380</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='callbacks identifier id'>callbacks</span> 
  <span class='@callbacks ivar id'>@callbacks</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>clear</h3>
</div><div id="clear-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>clear</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='clear identifier id'>clear</span>
</pre>
<p>
Discard all project definitions.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/project.rb', line 294</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/project.rb#L294">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">294
295
296</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='clear identifier id'>clear</span>
  <span class='@projects ivar id'>@projects</span><span class='dot token'>.</span><span class='clear identifier id'>clear</span> <span class='if if_mod kw'>if</span> <span class='@projects ivar id'>@projects</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>define</h3>
</div><div id="define-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>define</span><span class='args'>(name, properties, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='define identifier id'>define</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='properties? fid id'>properties?</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='project identifier id'>project</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='project identifier id'>project</span>
</pre>
<p>
See Buildr#define.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/project.rb', line 195</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/project.rb#L195">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='define identifier id'>define</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='properties identifier id'>properties</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='comment val'># Make sure a sub-project is only defined within the parent project,</span>
  <span class='comment val'># to prevent silly mistakes that lead to inconsistencies (e.g.</span>
  <span class='comment val'># namespaces will be all out of whack).</span>
  <span class='Buildr constant id'>Buildr</span><span class='dot token'>.</span><span class='application identifier id'>application</span><span class='dot token'>.</span><span class='current_scope identifier id'>current_scope</span> <span class='eq op'>==</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>':'</span><span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot3 op'>...</span><span class='integer val'>-1</span><span class='rbrack token'>]</span> <span class='or or kw'>or</span>
    <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;You can only define a sub project (#{name}) within the definition of its parent project&quot;</span>

  <span class='@projects ivar id'>@projects</span> <span class='opasgn op'>||=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;You cannot define the same project (#{name}) more than once&quot;</span> <span class='if if_mod kw'>if</span> <span class='@projects ivar id'>@projects</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span>
  <span class='comment val'># Projects with names like: compile, test, build are invalid, so we have</span>
  <span class='comment val'># to make sure the project has not the name of an already defined task</span>
  <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Invalid project name: #{name.inspect} is already used for a task&quot;</span> <span class='if if_mod kw'>if</span> <span class='Buildr constant id'>Buildr</span><span class='dot token'>.</span><span class='application identifier id'>application</span><span class='dot token'>.</span><span class='lookup identifier id'>lookup</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>

  <span class='Project constant id'>Project</span><span class='dot token'>.</span><span class='define_task identifier id'>define_task</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='tap identifier id'>tap</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='project identifier id'>project</span><span class='bitor op'>|</span>
    <span class='comment val'># Define the project to prevent duplicate definition.</span>
    <span class='@projects ivar id'>@projects</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='project identifier id'>project</span>
    <span class='comment val'># Set the project properties first, actions may use them.</span>
    <span class='properties identifier id'>properties</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span> <span class='project identifier id'>project</span><span class='dot token'>.</span><span class='send identifier id'>send</span> <span class='dstring node'>&quot;#{name}=&quot;</span><span class='comma token'>,</span> <span class='value identifier id'>value</span> <span class='rbrace token'>}</span> <span class='if if_mod kw'>if</span> <span class='properties identifier id'>properties</span>
    <span class='comment val'># Instantiate callbacks for this project, and setup to call before/after define.</span>
    <span class='comment val'># Don't cache list of callbacks, since project may add new callbacks.</span>
    <span class='project identifier id'>project</span><span class='dot token'>.</span><span class='enhance identifier id'>enhance</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='project identifier id'>project</span><span class='bitor op'>|</span>
      <span class='project identifier id'>project</span><span class='dot token'>.</span><span class='send identifier id'>send</span> <span class='symbol val'>:call_callbacks</span><span class='comma token'>,</span> <span class='symbol val'>:before_define</span>
      <span class='project identifier id'>project</span><span class='dot token'>.</span><span class='enhance identifier id'>enhance</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='project identifier id'>project</span><span class='bitor op'>|</span>
        <span class='project identifier id'>project</span><span class='dot token'>.</span><span class='send identifier id'>send</span> <span class='symbol val'>:call_callbacks</span><span class='comma token'>,</span> <span class='symbol val'>:after_define</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='project identifier id'>project</span><span class='dot token'>.</span><span class='enhance identifier id'>enhance</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='project identifier id'>project</span><span class='bitor op'>|</span>
      <span class='@on_define ivar id'>@on_define</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='callback identifier id'>callback</span><span class='bitor op'>|</span> <span class='callback identifier id'>callback</span><span class='lbrack token'>[</span><span class='project identifier id'>project</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span> <span class='if if_mod kw'>if</span> <span class='@on_define ivar id'>@on_define</span>
    <span class='comment val'># Enhance the project using the definition block.</span>
    <span class='project identifier id'>project</span><span class='dot token'>.</span><span class='enhance identifier id'>enhance</span> <span class='lbrace token'>{</span> <span class='project identifier id'>project</span><span class='dot token'>.</span><span class='instance_eval identifier id'>instance_eval</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rbrace token'>}</span> <span class='if if_mod kw'>if</span> <span class='block identifier id'>block</span>

    <span class='comment val'># Top-level project? Invoke the project definition. Sub-project? We don't invoke</span>
    <span class='comment val'># the project definiton yet (allow project calls to establish order of evaluation),</span>
    <span class='comment val'># but must do so before the parent project's definition is done. </span>
    <span class='project identifier id'>project</span><span class='dot token'>.</span><span class='parent identifier id'>parent</span><span class='dot token'>.</span><span class='enhance identifier id'>enhance</span> <span class='lbrace token'>{</span> <span class='project identifier id'>project</span><span class='dot token'>.</span><span class='invoke identifier id'>invoke</span> <span class='rbrace token'>}</span> <span class='if if_mod kw'>if</span> <span class='project identifier id'>project</span><span class='dot token'>.</span><span class='parent identifier id'>parent</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>local_projects</h3>
</div><div id="local_projects-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>local_projects</span><span class='args'>(dir = nil, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/project.rb', line 339</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/project.rb#L339">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='local_projects identifier id'>local_projects</span><span class='lparen token'>(</span><span class='dir identifier id'>dir</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='dir identifier id'>dir</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='expand_path identifier id'>expand_path</span><span class='lparen token'>(</span><span class='dir identifier id'>dir</span> <span class='orop op'>||</span> <span class='Buildr constant id'>Buildr</span><span class='dot token'>.</span><span class='application identifier id'>application</span><span class='dot token'>.</span><span class='original_dir identifier id'>original_dir</span><span class='rparen token'>)</span>
  <span class='projects identifier id'>projects</span> <span class='assign token'>=</span> <span class='@projects ivar id'>@projects</span> <span class='question op'>?</span> <span class='@projects ivar id'>@projects</span><span class='dot token'>.</span><span class='values identifier id'>values</span> <span class='colon op'>:</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='projects identifier id'>projects</span> <span class='assign token'>=</span> <span class='projects identifier id'>projects</span><span class='dot token'>.</span><span class='select identifier id'>select</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='project identifier id'>project</span><span class='bitor op'>|</span> <span class='project identifier id'>project</span><span class='dot token'>.</span><span class='base_dir identifier id'>base_dir</span> <span class='eq op'>==</span> <span class='dir identifier id'>dir</span> <span class='rbrace token'>}</span>
  <span class='if if kw'>if</span> <span class='projects identifier id'>projects</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span> <span class='andop op'>&amp;&amp;</span> <span class='dir identifier id'>dir</span> <span class='neq op'>!=</span> <span class='Dir constant id'>Dir</span><span class='dot token'>.</span><span class='pwd identifier id'>pwd</span> <span class='andop op'>&amp;&amp;</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='dirname identifier id'>dirname</span><span class='lparen token'>(</span><span class='dir identifier id'>dir</span><span class='rparen token'>)</span> <span class='neq op'>!=</span> <span class='dir identifier id'>dir</span>
    <span class='local_projects identifier id'>local_projects</span><span class='lparen token'>(</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='dirname identifier id'>dirname</span><span class='lparen token'>(</span><span class='dir identifier id'>dir</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='elsif elsif kw'>elsif</span> <span class='block identifier id'>block</span>
    <span class='if if kw'>if</span> <span class='projects identifier id'>projects</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
      <span class='warn identifier id'>warn</span> <span class='dstring node'>&quot;No projects defined for directory #{Buildr.application.original_dir}&quot;</span>
    <span class='else else kw'>else</span>
      <span class='projects identifier id'>projects</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='project identifier id'>project</span><span class='bitor op'>|</span> <span class='block identifier id'>block</span><span class='lbrack token'>[</span><span class='project identifier id'>project</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='projects identifier id'>projects</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>local_task</h3>
</div><div id="local_task-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>local_task</span><span class='args'>(args, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='local_task identifier id'>local_task</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='local_task identifier id'>local_task</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
</pre>
<p>
Defines a local task with an optional execution message.
</p>
<p>
A local task is a task that executes a task with the same name, defined in
the current project, the project&#8217;s with a base directory that is the
same as the current directory.
</p>
<p>
Complicated? Try this:
</p>
<pre class="code">
  <span class='buildr identifier id'>buildr</span> <span class='build identifier id'>build</span>
</pre>
<p>
is the same as:
</p>
<pre class="code">
  <span class='buildr identifier id'>buildr</span> <span class='foo identifier id'>foo</span><span class='symbol val'>:build</span>
</pre>
<p>
But:
</p>
<pre class="code">
  <span class='cd identifier id'>cd</span> <span class='bar identifier id'>bar</span>
  <span class='buildr identifier id'>buildr</span> <span class='build identifier id'>build</span>
</pre>
<p>
is the same as:
</p>
<pre class="code">
  <span class='buildr identifier id'>buildr</span> <span class='foo identifier id'>foo</span><span class='symbol val'>:bar</span><span class='symbol val'>:build</span>
</pre>
<p>
The optional block is called with the project name when the task executes
and returns a message that, for example &quot;Building project
#{name}&quot;.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/project.rb', line 320</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/project.rb#L320">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">320
321
322
323
324
325
326
327</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='local_task identifier id'>local_task</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='task identifier id'>task</span> <span class='args identifier id'>args</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='task identifier id'>task</span><span class='bitor op'>|</span>
    <span class='local_projects identifier id'>local_projects</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='project identifier id'>project</span><span class='bitor op'>|</span>
      <span class='info identifier id'>info</span> <span class='block identifier id'>block</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='project identifier id'>project</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='block identifier id'>block</span>
      <span class='task identifier id'>task</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{project.name}:#{task.name}&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='invoke identifier id'>invoke</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>on_define</h3>
</div><div id="on_define-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>on_define</span><span class='args'>(&amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
<b>Deprecated</b> Check the Extension module to see how extensions are
handled.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/project.rb', line 330</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/project.rb#L330">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">330
331
332
333</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='on_define identifier id'>on_define</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='Buildr constant id'>Buildr</span><span class='dot token'>.</span><span class='application identifier id'>application</span><span class='dot token'>.</span><span class='deprecated identifier id'>deprecated</span> <span class='string val'>'This method is deprecated, see Extension'</span>
  <span class='lparen token'>(</span><span class='@on_define ivar id'>@on_define</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='lshft op'>&lt;&lt;</span> <span class='block identifier id'>block</span> <span class='if if_mod kw'>if</span> <span class='block identifier id'>block</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>parent_task</h3>
</div><div id="parent_task-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>parent_task</span><span class='args'>(task_name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='parent_task identifier id'>parent_task</span><span class='lparen token'>(</span><span class='task_name identifier id'>task_name</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='task_name identifier id'>task_name</span> <span class='or or kw'>or</span> <span class='nil nil kw'>nil</span>
</pre>
<p>
Returns a parent task, basically a task in a higher namespace. For example,
the parent of &#8216;foo:test:compile&#8217; is &#8216;foo:compile&#8217;
and the parent of &#8216;foo:compile&#8217; is &#8216;compile&#8217;.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/project.rb', line 361</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/project.rb#L361">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">361
362
363
364
365
366</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='parent_task identifier id'>parent_task</span><span class='lparen token'>(</span><span class='task_name identifier id'>task_name</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='namespace identifier id'>namespace</span> <span class='assign token'>=</span> <span class='task_name identifier id'>task_name</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>':'</span><span class='rparen token'>)</span>
  <span class='last_name identifier id'>last_name</span> <span class='assign token'>=</span> <span class='namespace identifier id'>namespace</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span>
  <span class='namespace identifier id'>namespace</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span>
  <span class='Buildr constant id'>Buildr</span><span class='dot token'>.</span><span class='application identifier id'>application</span><span class='dot token'>.</span><span class='lookup identifier id'>lookup</span><span class='lparen token'>(</span><span class='lparen token'>(</span><span class='namespace identifier id'>namespace</span> <span class='plus op'>+</span> <span class='lbrack token'>[</span><span class='last_name identifier id'>last_name</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>':'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='namespace identifier id'>namespace</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>project</h3>
</div><div id="project-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>project</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='project identifier id'>project</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='project identifier id'>project</span>
</pre>
<p>
See Buildr#project.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>ArgumentError</tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/project.rb', line 238</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/project.rb#L238">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='project identifier id'>project</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span> <span class='if if_mod kw'>if</span> <span class='Hash constant id'>Hash</span> <span class='eqq op'>===</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='last identifier id'>last</span>
  <span class='rake_check_options identifier id'>rake_check_options</span> <span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='symbol val'>:scope</span> <span class='if if_mod kw'>if</span> <span class='options identifier id'>options</span>
  <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>'Only one project name at a time'</span> <span class='unless unless_mod kw'>unless</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='eq op'>==</span> <span class='integer val'>1</span>
  <span class='@projects ivar id'>@projects</span> <span class='opasgn op'>||=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
  <span class='comment val'># Make sure parent project is evaluated (e.g. if looking for foo:bar, find foo first)</span>
  <span class='unless unless kw'>unless</span> <span class='@projects ivar id'>@projects</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span>
    <span class='parts identifier id'>parts</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>':'</span><span class='rparen token'>)</span>
    <span class='project identifier id'>project</span><span class='lparen token'>(</span><span class='parts identifier id'>parts</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='orop op'>||</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='parts identifier id'>parts</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='gt op'>&gt;</span> <span class='integer val'>1</span>
  <span class='end end kw'>end</span>
  <span class='if if kw'>if</span> <span class='options identifier id'>options</span> <span class='andop op'>&amp;&amp;</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:scope</span><span class='rbrack token'>]</span>
    <span class='comment val'># We assume parent project is evaluated.</span>
    <span class='project identifier id'>project</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:scope</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>':'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='scopes identifier id'>scopes</span><span class='comma token'>,</span> <span class='scope identifier id'>scope</span><span class='bitor op'>|</span> <span class='scopes identifier id'>scopes</span> <span class='lshft op'>&lt;&lt;</span> <span class='lparen token'>(</span><span class='scopes identifier id'>scopes</span><span class='dot token'>.</span><span class='last identifier id'>last</span> <span class='plus op'>+</span> <span class='lbrack token'>[</span><span class='scope identifier id'>scope</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span><span class='dot token'>.</span>
      <span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='scope identifier id'>scope</span><span class='bitor op'>|</span> <span class='@projects ivar id'>@projects</span><span class='lbrack token'>[</span><span class='lparen token'>(</span><span class='scope identifier id'>scope</span> <span class='plus op'>+</span> <span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>':'</span><span class='rparen token'>)</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span><span class='dot token'>.</span>
      <span class='select identifier id'>select</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='project identifier id'>project</span><span class='bitor op'>|</span> <span class='project identifier id'>project</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='last identifier id'>last</span>
  <span class='end end kw'>end</span>
  <span class='project identifier id'>project</span> <span class='opasgn op'>||=</span> <span class='@projects ivar id'>@projects</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='comment val'># Not found in scope.</span>
  <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;No such project #{name}&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='project identifier id'>project</span>
  <span class='project identifier id'>project</span><span class='dot token'>.</span><span class='invoke identifier id'>invoke</span>
  <span class='project identifier id'>project</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>project_from_task</h3>
</div><div id="project_from_task-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>project_from_task</span><span class='args'>(task)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='project_from_task identifier id'>project_from_task</span><span class='lparen token'>(</span><span class='task identifier id'>task</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='project identifier id'>project</span>
</pre>
<p>
Figure out project associated to this task and return it.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/project.rb', line 372</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/project.rb#L372">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">372
373
374
375</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='project_from_task identifier id'>project_from_task</span><span class='lparen token'>(</span><span class='task identifier id'>task</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='project identifier id'>project</span> <span class='assign token'>=</span> <span class='Buildr constant id'>Buildr</span><span class='dot token'>.</span><span class='application identifier id'>application</span><span class='dot token'>.</span><span class='lookup identifier id'>lookup</span><span class='lparen token'>(</span><span class='string val'>'rake:'</span> <span class='plus op'>+</span> <span class='task identifier id'>task</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/:[^:]*$/</span><span class='comma token'>,</span> <span class='string val'>''</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='project identifier id'>project</span> <span class='if if_mod kw'>if</span> <span class='Project constant id'>Project</span> <span class='eqq op'>===</span> <span class='project identifier id'>project</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>projects</h3>
</div><div id="projects-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>projects</span><span class='args'>(*names)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='projects identifier id'>projects</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='names identifier id'>names</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='projects identifier id'>projects</span>
</pre>
<p>
See Buildr#projects.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/project.rb', line 265</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/project.rb#L265">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='projects identifier id'>projects</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='names identifier id'>names</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='names identifier id'>names</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span> <span class='if if_mod kw'>if</span> <span class='Hash constant id'>Hash</span> <span class='eqq op'>===</span> <span class='names identifier id'>names</span><span class='dot token'>.</span><span class='last identifier id'>last</span>
  <span class='rake_check_options identifier id'>rake_check_options</span> <span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='symbol val'>:scope</span> <span class='if if_mod kw'>if</span> <span class='options identifier id'>options</span>
  <span class='@projects ivar id'>@projects</span> <span class='opasgn op'>||=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='names identifier id'>names</span> <span class='assign token'>=</span> <span class='names identifier id'>names</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span>
  <span class='if if kw'>if</span> <span class='options identifier id'>options</span> <span class='andop op'>&amp;&amp;</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:scope</span><span class='rbrack token'>]</span>
    <span class='comment val'># We assume parent project is evaluated.</span>
    <span class='if if kw'>if</span> <span class='names identifier id'>names</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
      <span class='parent identifier id'>parent</span> <span class='assign token'>=</span> <span class='@projects ivar id'>@projects</span><span class='lbrack token'>[</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:scope</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span> <span class='or or kw'>or</span> <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;No such project #{options[:scope]}&quot;</span>
      <span class='@projects ivar id'>@projects</span><span class='dot token'>.</span><span class='values identifier id'>values</span><span class='dot token'>.</span><span class='select identifier id'>select</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='project identifier id'>project</span><span class='bitor op'>|</span> <span class='project identifier id'>project</span><span class='dot token'>.</span><span class='parent identifier id'>parent</span> <span class='eq op'>==</span> <span class='parent identifier id'>parent</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='project identifier id'>project</span><span class='bitor op'>|</span> <span class='project identifier id'>project</span><span class='dot token'>.</span><span class='invoke identifier id'>invoke</span> <span class='rbrace token'>}</span><span class='dot token'>.</span>
        <span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='project identifier id'>project</span><span class='bitor op'>|</span> <span class='lbrack token'>[</span><span class='project identifier id'>project</span><span class='rbrack token'>]</span> <span class='plus op'>+</span> <span class='projects identifier id'>projects</span><span class='lparen token'>(</span><span class='symbol val'>:scope=</span><span class='gt op'>&gt;</span><span class='project identifier id'>project</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='dot token'>.</span><span class='sort_by identifier id'>sort_by</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='symbol val'>:name</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='names identifier id'>names</span><span class='dot token'>.</span><span class='uniq identifier id'>uniq</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='bitor op'>|</span> <span class='project identifier id'>project</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='symbol val'>:scope=</span><span class='gt op'>&gt;</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:scope</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>
  <span class='elsif elsif kw'>elsif</span> <span class='names identifier id'>names</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
    <span class='comment val'># Parent project(s) not evaluated so we don't know all the projects yet.</span>
    <span class='@projects ivar id'>@projects</span><span class='dot token'>.</span><span class='values identifier id'>values</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='symbol val'>:invoke</span><span class='rparen token'>)</span>
    <span class='@projects ivar id'>@projects</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='bitor op'>|</span> <span class='project identifier id'>project</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='or or kw'>or</span> <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;No such project #{name}&quot;</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='sort_by identifier id'>sort_by</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='symbol val'>:name</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='comment val'># Parent project(s) not evaluated, for the sub-projects we may need to find.</span>
    <span class='names identifier id'>names</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='bitor op'>|</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>':'</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='select identifier id'>select</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='bitor op'>|</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='gt op'>&gt;</span> <span class='integer val'>1</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='symbol val'>:first</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='uniq identifier id'>uniq</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='bitor op'>|</span> <span class='project identifier id'>project</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='names identifier id'>names</span><span class='dot token'>.</span><span class='uniq identifier id'>uniq</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='bitor op'>|</span> <span class='project identifier id'>project</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='or or kw'>or</span> <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;No such project #{name}&quot;</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='sort_by identifier id'>sort_by</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='symbol val'>:name</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>scope_name</h3>
</div><div id="scope_name-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>scope_name</span><span class='args'>(scope, task_name)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/project.rb', line 335</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/project.rb#L335">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">335
336
337</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='scope_name identifier id'>scope_name</span><span class='lparen token'>(</span><span class='scope identifier id'>scope</span><span class='comma token'>,</span> <span class='task_name identifier id'>task_name</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='task_name identifier id'>task_name</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>base_dir</h3>
</div><div id="base_dir-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>base_dir</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='base_dir identifier id'>base_dir</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='path identifier id'>path</span>
</pre>
<p>
Returns the project&#8217;s base directory.
</p>
<p>
The Buildfile defines top-level project, so it&#8217;s logical that the
top-level project&#8217;s base directory is the one in which we find the
Buildfile. And each sub-project has a base directory that is one level
down, with the same name as the sub-project.
</p>
<p>
For example:
</p>
<pre class="code">
  <span class='regexp val'>/home/</span><span class='foo identifier id'>foo</span><span class='div op'>/</span>          <span class='lt op'>&lt;</span><span class='minus op'>-</span><span class='minus op'>-</span> <span class='base_directory identifier id'>base_directory</span> <span class='of identifier id'>of</span> <span class='project identifier id'>project</span> <span class='string val'>'foo'</span>
  <span class='regexp val'>/home/</span><span class='foo identifier id'>foo</span><span class='div op'>/</span><span class='Buildfile constant id'>Buildfile</span> <span class='lt op'>&lt;</span><span class='minus op'>-</span><span class='minus op'>-</span> <span class='builds identifier id'>builds</span> <span class='string val'>'foo'</span>
  <span class='regexp val'>/home/</span><span class='foo identifier id'>foo</span><span class='div op'>/</span><span class='bar identifier id'>bar</span>       <span class='lt op'>&lt;</span><span class='minus op'>-</span><span class='minus op'>-</span> <span class='sub identifier id'>sub</span><span class='minus op'>-</span><span class='project identifier id'>project</span> <span class='string val'>'foo:bar'</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/project.rb', line 424</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/project.rb#L424">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">424
425
426
427
428
429
430
431
432
433
434
435
436</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='base_dir identifier id'>base_dir</span>
  <span class='if if kw'>if</span> <span class='@base_dir ivar id'>@base_dir</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
    <span class='if if kw'>if</span> <span class='parent identifier id'>parent</span>
      <span class='comment val'># For sub-project, a good default is a directory in the parent's base_dir,</span>
      <span class='comment val'># using the same name as the project.</span>
      <span class='@base_dir ivar id'>@base_dir</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='expand_path identifier id'>expand_path</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>':'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='last identifier id'>last</span><span class='comma token'>,</span> <span class='parent identifier id'>parent</span><span class='dot token'>.</span><span class='base_dir identifier id'>base_dir</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='comment val'># For top-level project, a good default is the directory where we found the Buildfile.</span>
      <span class='@base_dir ivar id'>@base_dir</span> <span class='assign token'>=</span> <span class='Dir constant id'>Dir</span><span class='dot token'>.</span><span class='pwd identifier id'>pwd</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='@base_dir ivar id'>@base_dir</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>file</h3>
</div><div id="file-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>file</span><span class='args'>(*args, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='file identifier id'>file</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Task constant id'>Task</span>
  <span class='file identifier id'>file</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='prereqs identifier id'>prereqs</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Task constant id'>Task</span>
  <span class='file identifier id'>file</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='task identifier id'>task</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Task constant id'>Task</span>
</pre>
<p>
Creates and returns a new file task in the project. Similar to calling
Rake&#8217;s file method, but the path is expanded relative to the
project&#8217;s base directory, and the task executes in the
project&#8217;s base directory.
</p>
<p>
For example:
</p>
<pre class="code">
  <span class='define identifier id'>define</span> <span class='string val'>'foo'</span> <span class='do do kw'>do</span>
    <span class='define identifier id'>define</span> <span class='string val'>'bar'</span> <span class='do do kw'>do</span>
      <span class='file identifier id'>file</span><span class='lparen token'>(</span><span class='string val'>'src'</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='puts identifier id'>puts</span> <span class='project identifier id'>project</span><span class='lparen token'>(</span><span class='string val'>'foo:bar'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='file identifier id'>file</span><span class='lparen token'>(</span><span class='string val'>'src'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'/home/foo/bar/src'</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/project.rb', line 486</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/project.rb#L486">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">486
487
488
489
490
491</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='file identifier id'>file</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='task_name identifier id'>task_name</span><span class='comma token'>,</span> <span class='arg_names identifier id'>arg_names</span><span class='comma token'>,</span> <span class='deps identifier id'>deps</span> <span class='assign token'>=</span> <span class='Buildr constant id'>Buildr</span><span class='dot token'>.</span><span class='application identifier id'>application</span><span class='dot token'>.</span><span class='resolve_args identifier id'>resolve_args</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='task identifier id'>task</span> <span class='assign token'>=</span> <span class='Rake constant id'>Rake</span><span class='colon2 op'>::</span><span class='FileTask constant id'>FileTask</span><span class='dot token'>.</span><span class='define_task identifier id'>define_task</span><span class='lparen token'>(</span><span class='path_to identifier id'>path_to</span><span class='lparen token'>(</span><span class='task_name identifier id'>task_name</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='task identifier id'>task</span><span class='dot token'>.</span><span class='set_arg_names identifier id'>set_arg_names</span><span class='lparen token'>(</span><span class='arg_names identifier id'>arg_names</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='arg_names identifier id'>arg_names</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
  <span class='task identifier id'>task</span><span class='dot token'>.</span><span class='enhance identifier id'>enhance</span> <span class='Array constant id'>Array</span><span class='lparen token'>(</span><span class='deps identifier id'>deps</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>inspect</h3>
</div><div id="inspect-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>inspect</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/project.rb', line 585</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/project.rb#L585">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">585
586
587</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='inspect identifier id'>inspect</span> 
  <span class='dstring node'>%Q{project(#{name.inspect})}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>layout</h3>
</div><div id="layout-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>layout</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the layout associated with this project.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/project.rb', line 439</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/project.rb#L439">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">439
440
441</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='layout identifier id'>layout</span>
  <span class='@layout ivar id'>@layout</span> <span class='opasgn op'>||=</span> <span class='lparen token'>(</span><span class='parent identifier id'>parent</span> <span class='integer val'>? </span><span class='parent identifier id'>parent</span><span class='dot token'>.</span><span class='layout identifier id'>layout</span> <span class='colon op'>:</span> <span class='Layout constant id'>Layout</span><span class='dot token'>.</span><span class='default identifier id'>default</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='clone identifier id'>clone</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>path_to</h3>
</div><div id="path_to-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>path_to</span><span class='args'>(*names)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="_-instance_method">_</tt>
  
</p>
</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='path_to identifier id'>path_to</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='names identifier id'>names</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='path identifier id'>path</span>
</pre>
<p>
Returns a path from a combination of name, relative to the project&#8217;s
base directory. Essentially, joins all the supplied names and expands the
path relative to #base_dir. Symbol arguments are converted to paths based
on the layout, so whenever possible stick to these. For example:
</p>
<pre class="code">
  <span class='path_to identifier id'>path_to</span><span class='lparen token'>(</span><span class='symbol val'>:source</span><span class='comma token'>,</span> <span class='symbol val'>:main</span><span class='comma token'>,</span> <span class='symbol val'>:java</span><span class='rparen token'>)</span>
  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'src/main/java'</span>
</pre>
<p>
Keep in mind that all tasks are defined and executed relative to the
Buildfile directory, so you want to use #path_to to get the actual path
within the project as a matter of practice.
</p>
<p>
For example:
</p>
<pre class="code">
  <span class='path_to identifier id'>path_to</span><span class='lparen token'>(</span><span class='string val'>'foo'</span><span class='comma token'>,</span> <span class='string val'>'bar'</span><span class='rparen token'>)</span>
  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='foo identifier id'>foo</span><span class='div op'>/</span><span class='bar identifier id'>bar</span>
  <span class='path_to identifier id'>path_to</span><span class='lparen token'>(</span><span class='string val'>'/tmp'</span><span class='rparen token'>)</span>
  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='regexp val'>/tmp
  path_to(:base_dir, 'foo') # same as path_to('foo&quot;)
  =&gt; /</span><span class='home identifier id'>home</span><span class='div op'>/</span><span class='project1 identifier id'>project1</span><span class='div op'>/</span><span class='foo identifier id'>foo</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/project.rb', line 463</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/project.rb#L463">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">463
464
465</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='path_to identifier id'>path_to</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='names identifier id'>names</span><span class='rparen token'>)</span>
  <span class='File constant id'>File</span><span class='dot token'>.</span><span class='expand_path identifier id'>expand_path</span><span class='lparen token'>(</span><span class='layout identifier id'>layout</span><span class='dot token'>.</span><span class='expand identifier id'>expand</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='names identifier id'>names</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='base_dir identifier id'>base_dir</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>project</h3>
</div><div id="project-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>project</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='project identifier id'>project</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='project identifier id'>project</span>
  <span class='project identifier id'>project</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span>
</pre>
<p>
Same as Buildr#project. This method is called on a project, so a relative
name is sufficient to find a sub-project.
</p>
<p>
When called on a project without a name, returns the project itself. You
can use that when setting project properties, for example:
</p>
<pre class="code">
  <span class='define identifier id'>define</span> <span class='string val'>'foo'</span> <span class='do do kw'>do</span>
    <span class='project identifier id'>project</span><span class='dot token'>.</span><span class='version identifier id'>version</span> <span class='assign token'>=</span> <span class='string val'>'1.0'</span>
  <span class='end end kw'>end</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/project.rb', line 558</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/project.rb#L558">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">558
559
560
561
562
563
564
565
566
567
568
569</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='project identifier id'>project</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='Hash constant id'>Hash</span> <span class='eqq op'>===</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='last identifier id'>last</span>
    <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span>
  <span class='else else kw'>else</span>
    <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
  <span class='if if kw'>if</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
    <span class='self self kw'>self</span>
  <span class='else else kw'>else</span>
    <span class='Project constant id'>Project</span><span class='dot token'>.</span><span class='project identifier id'>project</span> <span class='mult op'>*</span><span class='lparen token'>(</span><span class='args identifier id'>args</span> <span class='plus op'>+</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span> <span class='symbol val'>:scope=</span><span class='gt op'>&gt;</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='name identifier id'>name</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>projects</h3>
</div><div id="projects-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>projects</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='projects identifier id'>projects</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='names identifier id'>names</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='projects identifier id'>projects</span>
</pre>
<p>
Same as Buildr#projects. This method is called on a project, so relative
names are sufficient to find sub-projects.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/project.rb', line 576</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/project.rb#L576">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">576
577
578
579
580
581
582
583</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='projects identifier id'>projects</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='Hash constant id'>Hash</span> <span class='eqq op'>===</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='last identifier id'>last</span>
    <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span>
  <span class='else else kw'>else</span>
    <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
  <span class='Project constant id'>Project</span><span class='dot token'>.</span><span class='projects identifier id'>projects</span> <span class='mult op'>*</span><span class='lparen token'>(</span><span class='args identifier id'>args</span> <span class='plus op'>+</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span> <span class='symbol val'>:scope=</span><span class='gt op'>&gt;</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='name identifier id'>name</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>recursive_task</h3>
</div><div id="recursive_task-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>recursive_task</span><span class='args'>(*args, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='recursive_task identifier id'>recursive_task</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='prereqs identifier id'>prereqs</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='task identifier id'>task</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
</pre>
<p>
Define a recursive task. A recursive task executes itself and the same task
in all the sub-projects.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/project.rb', line 538</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/project.rb#L538">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">538
539
540
541
542
543
544</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='recursive_task identifier id'>recursive_task</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='task_name identifier id'>task_name</span><span class='comma token'>,</span> <span class='arg_names identifier id'>arg_names</span><span class='comma token'>,</span> <span class='deps identifier id'>deps</span> <span class='assign token'>=</span> <span class='Buildr constant id'>Buildr</span><span class='dot token'>.</span><span class='application identifier id'>application</span><span class='dot token'>.</span><span class='resolve_args identifier id'>resolve_args</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='task identifier id'>task</span> <span class='assign token'>=</span> <span class='Buildr constant id'>Buildr</span><span class='dot token'>.</span><span class='options identifier id'>options</span><span class='dot token'>.</span><span class='parallel identifier id'>parallel</span> <span class='integer val'>? </span><span class='multitask identifier id'>multitask</span><span class='lparen token'>(</span><span class='task_name identifier id'>task_name</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='task identifier id'>task</span><span class='lparen token'>(</span><span class='task_name identifier id'>task_name</span><span class='rparen token'>)</span>
  <span class='parent identifier id'>parent</span><span class='dot token'>.</span><span class='task identifier id'>task</span><span class='lparen token'>(</span><span class='task_name identifier id'>task_name</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='enhance identifier id'>enhance</span> <span class='lbrack token'>[</span><span class='task identifier id'>task</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='parent identifier id'>parent</span>
  <span class='task identifier id'>task</span><span class='dot token'>.</span><span class='set_arg_names identifier id'>set_arg_names</span><span class='lparen token'>(</span><span class='arg_names identifier id'>arg_names</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='arg_names identifier id'>arg_names</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
  <span class='task identifier id'>task</span><span class='dot token'>.</span><span class='enhance identifier id'>enhance</span> <span class='Array constant id'>Array</span><span class='lparen token'>(</span><span class='deps identifier id'>deps</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>task</h3>
</div><div id="task-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>task</span><span class='args'>(*args, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='task identifier id'>task</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Task constant id'>Task</span>
  <span class='task identifier id'>task</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='prereqs identifier id'>prereqs</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Task constant id'>Task</span>
  <span class='task identifier id'>task</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='task identifier id'>task</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Task constant id'>Task</span>
</pre>
<p>
Creates and returns a new task in the project. Similar to calling
Rake&#8217;s task method, but prefixes the task name with the project name
and executes the task in the project&#8217;s base directory.
</p>
<p>
For example:
</p>
<pre class="code">
  <span class='define identifier id'>define</span> <span class='string val'>'foo'</span> <span class='do do kw'>do</span>
    <span class='task identifier id'>task</span> <span class='string val'>'doda'</span>
  <span class='end end kw'>end</span>

  <span class='puts identifier id'>puts</span> <span class='project identifier id'>project</span><span class='lparen token'>(</span><span class='string val'>'foo'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='task identifier id'>task</span><span class='lparen token'>(</span><span class='string val'>'doda'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'foo:doda'</span>
</pre>
<p>
When called from within the project definition, creates a new task if the
task does not already exist. If called from outside the project definition,
returns the named task and raises an exception if the task is not defined.
</p>
<p>
As with Rake&#8217;s task method, calling this method enhances the task
with the prerequisites and optional block.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/core/project.rb', line 516</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/assaf/buildr/blob/c4a3c1ef39a8763e6b4df9a86055069a6bed5ab5/lib/buildr/core/project.rb#L516">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='task identifier id'>task</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='task_name identifier id'>task_name</span><span class='comma token'>,</span> <span class='arg_names identifier id'>arg_names</span><span class='comma token'>,</span> <span class='deps identifier id'>deps</span> <span class='assign token'>=</span> <span class='Buildr constant id'>Buildr</span><span class='dot token'>.</span><span class='application identifier id'>application</span><span class='dot token'>.</span><span class='resolve_args identifier id'>resolve_args</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='task_name identifier id'>task_name</span> <span class='match op'>=~</span> <span class='regexp val'>/^:/</span>
    <span class='task identifier id'>task</span> <span class='assign token'>=</span> <span class='Buildr constant id'>Buildr</span><span class='dot token'>.</span><span class='application identifier id'>application</span><span class='dot token'>.</span><span class='switch_to_namespace identifier id'>switch_to_namespace</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span> <span class='do do kw'>do</span>
      <span class='Rake constant id'>Rake</span><span class='colon2 op'>::</span><span class='Task constant id'>Task</span><span class='dot token'>.</span><span class='define_task identifier id'>define_task</span><span class='lparen token'>(</span><span class='task_name identifier id'>task_name</span><span class='lbrack token'>[</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='elsif elsif kw'>elsif</span> <span class='Buildr constant id'>Buildr</span><span class='dot token'>.</span><span class='application identifier id'>application</span><span class='dot token'>.</span><span class='current_scope identifier id'>current_scope</span> <span class='eq op'>==</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>':'</span><span class='rparen token'>)</span>
    <span class='task identifier id'>task</span> <span class='assign token'>=</span> <span class='Rake constant id'>Rake</span><span class='colon2 op'>::</span><span class='Task constant id'>Task</span><span class='dot token'>.</span><span class='define_task identifier id'>define_task</span><span class='lparen token'>(</span><span class='task_name identifier id'>task_name</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='unless unless kw'>unless</span> <span class='task identifier id'>task</span> <span class='assign token'>=</span> <span class='Buildr constant id'>Buildr</span><span class='dot token'>.</span><span class='application identifier id'>application</span><span class='dot token'>.</span><span class='lookup identifier id'>lookup</span><span class='lparen token'>(</span><span class='task_name identifier id'>task_name</span><span class='comma token'>,</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>':'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
      <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;You cannot define a project task outside the project definition, and no task #{name}:#{task_name} defined in the project&quot;</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='task identifier id'>task</span><span class='dot token'>.</span><span class='set_arg_names identifier id'>set_arg_names</span><span class='lparen token'>(</span><span class='arg_names identifier id'>arg_names</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='arg_names identifier id'>arg_names</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
  <span class='task identifier id'>task</span><span class='dot token'>.</span><span class='enhance identifier id'>enhance</span> <span class='Array constant id'>Array</span><span class='lparen token'>(</span><span class='deps identifier id'>deps</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>