<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>binarylogic's resourcelogic - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/binarylogic/commits/resourcelogic/master" rel="alternate" title="Recent Commits to resourcelogic:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("binarylogic", "resourcelogic", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='binarylogic/resourcelogic/blob/70566c41007e55669110f36a453f4ef6f1520b30' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='binarylogic/resourcelogic/blob/70566c41007e55669110f36a453f4ef6f1520b30' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("binarylogic", "resourcelogic", "70566c41007e55669110f36a453f4ef6f1520b30", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/binarylogic/resourcelogic/tree/">Source</a></li>
            <li class=""><a href="http://github.com/binarylogic/resourcelogic/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/binarylogic/resourcelogic/network">Network</a></li>            
            <li class=""><a href="http://github.com/binarylogic/resourcelogic/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/binarylogic/resourcelogic">Wiki</a></li>
            <li class=""><a href="http://github.com/binarylogic/resourcelogic/graphs">Graphs</a></li>                    
            <li class="active"><a href="/binarylogic/resourcelogic">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/binarylogic">binarylogic</a> / <b><a href="http://github.com/binarylogic/resourcelogic/tree">resourcelogic</a></b>        
                <a id="namespaces_button" rel="binarylogic/resourcelogic/blob/70566c41007e55669110f36a453f4ef6f1520b30" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="binarylogic/resourcelogic/blob/70566c41007e55669110f36a453f4ef6f1520b30" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="section docstring readme wikistyle">
  <h1>Resourcelogic</h1>
<p>
<b>Beta warning: right now this plugin is in what I like to call a
&quot;semi-beta&quot;. The only thing left to do is write documentation and
add in the tests. I have already thoroughly tested this in a separate
application, and am in the process of moving over the tests without having
to pull over the entire rails application.</b>
</p>
<p>
The purpose of Resourcelogic is to support a development style I created
called <b>&quot;Contextual Development&quot;</b> (see contextual
development below). This is an idea I&#8217;ve had for a while and finally
decided to give it a try on one of my projects. It worked out great, and as
a result, is probably the cleanest app I&#8217;ve built to date. So I
decided to package this idea up and release it as Resourcelogic. This
library spawned out of the <tt>plugin</tt>[http://github.com/giraffesoft/resource_controller] by James
Gollick, which is an excellent plugin. I eventually made so many changes to
it that it made more sense to rewrite my own.
</p>
<h2>Helpful links</h2>
<ul>
<li><b>Documentation:</b> http://rdoc.info/projects/binarylogic/resourcelogic

</li>
<li><b>Bugs / feature suggestions:</b>
http://binarylogic.lighthouseapp.com/projects/28581-resourcelogic

</li>
</ul>
<h2>Contextual Development</h2>
<p>
The idea behind contextual development is simple: <b>an API should be a be
a byproduct of good design</b>. Meaning you should never have to explicitly
build an API. It should, in essence, be an &quot;accident&quot;.
</p>
<h3>1. No need to namespace controllers when you have context</h3>
<p>
Your interface should not dictate the structure of your controllers.
Instead, your controllers should represent a collection of resources that
your interface can use (AKA an API). The problem is that rails does so much
magic, and makes so many assumptions, that sometimes it distorts the basics
behind the MVC pattern.
</p>
<p>
A good example is using <tt>Flex</tt>[http://www.adobe.com/products/flex/] to
build your interface. This allows you to go back to the basics behind
RESTful development by forcing you to separate your interface from your
application. A flex interface communicates with your application via XML.
As a result, when you complete your application you also have a
&quot;production ready&quot; API. You basically completed two projects in
one.
</p>
<p>
That being said, why can&#8217;t we accomplish the same thing with an HTML
interface? For one, an HTML interface isn&#8217;t as cleanly decoupled from
the controllers as a Flex interface. For two, rails doesn&#8217;t give us
all of the tools to properly accomplish this. Instead, people create
work-arounds by namespacing controllers to represent context and/or scope
(Ex: Admin::CommentsController). Why not have a single controller that is
<b>context aware</b>? Hence the name <b>&quot;Contextual
Development&quot;</b>. So instead of an Admin namespace, you can use the
context to modify the interface / scope. Example:
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='CommentsController constant id'>CommentsController</span> <span class='lt op'>&lt;</span> <span class='ApplicationController constant id'>ApplicationController</span>
    <span class='layout identifier id'>layout</span> <span class='Proc constant id'>Proc</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='lbrace token'>{</span> <span class='context identifier id'>context</span> <span class='eq op'>==</span> <span class='symbol val'>:admin</span> <span class='question op'>?</span> <span class='string val'>&quot;admin&quot;</span> <span class='colon op'>:</span> <span class='string val'>&quot;application&quot;</span> <span class='rbrace token'>}</span>

    <span class='private identifier id'>private</span>
      <span class='comment val'># context is irrelevant when determining scope</span>
      <span class='def def kw'>def</span> <span class='scope identifier id'>scope</span>
        <span class='current_user identifier id'>current_user</span><span class='dot token'>.</span><span class='admin? fid id'>admin?</span> <span class='integer val'>? </span><span class='Comment constant id'>Comment</span> <span class='colon op'>:</span> <span class='current_user identifier id'>current_user</span><span class='dot token'>.</span><span class='comments identifier id'>comments</span>
      <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
<h3>2. Single point of access for resources</h3>
<p>
Having a <b>single</b> controller is great, because it represents a
<b>single</b> resource. This means that <b>every</b> request for that
resource must pass through that single controller. Think about it, what is
an API essentially? Controlled access to your database. You don&#8217;t go
and create an entirely new model for every scope/context you use the model,
do you? Why do the same for your API? Your API resources are the
&quot;models&quot; for anyone using it, so it doesn&#8217;t make sense to
have /comments and /admin/comments.
</p>
<p>
To bring it all home, all requests for a resource should pass through a
single controller, in the same manner that all database activity for a
table must pass through a single model. You can feel confident adding
controller specific logic to that resource without having to worry about
duplicating it across multiple controllers. A very simple example: storing
the user&#8217;s IP address with a record.
</p>
<h3>3. Relative URL and path methods</h3>
<p>
Another big problem with using the same controller in various contexts is
the need to specify relative paths instead of absolute paths. When you
specify resources in your routes you get all kinds of useful
<b>absolute</b> path methods, but where are the relative ones? Let&#8217;s
say you have the following paths:
</p>
<ol>
<li>/articles

</li>
<li>/admin/articles

</li>
</ol>
<p>
Articles have many comments. What if you want to link to that
article&#8217;s comments? Do you use <b>article_comments_path</b> or
<b>admin_article_comments_path</b>? You could use the <b>context</b> method
described above to determine this, but this will get messy and annoying
very fast. Instead why not use <b>child_collection_path(:comments)</b>? The
paths are relative based on a tree structure. So you also get <b>parent</b>
and <b>sibling</b> paths. Now you can easily nest resources without having
to worry about linking to them. See the documentation for more details on
the various URL and path methods that are available to you.
</p>
<h2>Install and use</h2>
<h3>1. Install the gem</h3>
<p>
Install the gem / plugin (recommended)
</p>
<pre class="code">
  $ <span class='sudo identifier id'>sudo</span> <span class='gem identifier id'>gem</span> <span class='install identifier id'>install</span> <span class='resourcelogic identifier id'>resourcelogic</span>
</pre>
<p>
Now add the gem dependency in your config:
</p>
<pre class="code">
  <span class='comment val'># config/environment.rb</span>
  <span class='config identifier id'>config</span><span class='dot token'>.</span><span class='gem identifier id'>gem</span> <span class='string val'>&quot;resourcelogic&quot;</span>
</pre>
<p>
Or you install this as a plugin (for older versions of rails)
</p>
<pre class="code">
  <span class='script identifier id'>script</span><span class='div op'>/</span><span class='plugin identifier id'>plugin</span> <span class='install identifier id'>install</span> <span class='git identifier id'>git</span><span class='symbol val'>:/</span><span class='regexp val'>/github.com/</span><span class='binarylogic identifier id'>binarylogic</span><span class='div op'>/</span><span class='resourcelogic identifier id'>resourcelogic</span><span class='dot token'>.</span><span class='git identifier id'>git</span>
</pre>
<h3>2. Create your ResourceController</h3>
<pre class="code">
  <span class='script identifier id'>script</span><span class='div op'>/</span><span class='generate identifier id'>generate</span> <span class='controller identifier id'>controller</span> <span class='resource identifier id'>resource</span>
</pre>
<p>
Your ResourceController should look something like:
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='ResourceController constant id'>ResourceController</span> <span class='lt op'>&lt;</span> <span class='ApplicationController constant id'>ApplicationController</span>
    <span class='acts_as_resource identifier id'>acts_as_resource</span>
  <span class='end end kw'>end</span>
</pre>
<p>
Now all of your controllers that are &quot;resources&quot; can extend this
controller. Why do this? So you can set your default behavior for resources
in one spot. This idea what brought over from the resource_controller
plugin. The DSL resource_controller came up with is pretty cool:
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='ResourceController constant id'>ResourceController</span> <span class='lt op'>&lt;</span> <span class='ApplicationController constant id'>ApplicationController</span>
    <span class='acts_as_resource identifier id'>acts_as_resource</span>

    <span class='create identifier id'>create</span><span class='dot token'>.</span><span class='flash identifier id'>flash</span> <span class='lbrace token'>{</span> <span class='comment val'># code to evaluate to create the flash message for a successful create }</span>
    <span class='create identifier id'>create</span><span class='dot token'>.</span><span class='before identifier id'>before</span> <span class='lbrace token'>{</span> <span class='comment val'># code you want to execute before the create action }</span>
    <span class='create identifier id'>create</span><span class='dot token'>.</span><span class='wants identifier id'>wants</span><span class='dot token'>.</span><span class='js identifier id'>js</span> <span class='lbrace token'>{</span> <span class='comment val'># code you want to execute in the wants.js for a successful create }</span>
    <span class='create identifier id'>create</span><span class='dot token'>.</span><span class='failure identifier id'>failure</span><span class='dot token'>.</span><span class='flash identifier id'>flash</span> <span class='lbrace token'>{</span> <span class='comment val'># code to evaluate to create the flash message for an unsuccessful create }</span>
    <span class='create identifier id'>create</span><span class='dot token'>.</span><span class='failure identifier id'>failure</span><span class='dot token'>.</span><span class='js identifier id'>js</span> <span class='lbrace token'>{</span> <span class='comment val'># code you want to execute in the wants.js for an unsuccessful create }</span>
    <span class='comment val'># etc...See Resourcelogic::ActionOptions and Resourcelogic::FailableActionOptions for more details</span>
  <span class='end end kw'>end</span>
</pre>
<p>
All of these are overrideable, meaning your subclasses can change behavior
in a granular manner, and preserve the defaults where necessary.
</p>
<h3>3. Make sure you don&#8217;t namespace your controllers</h3>
<p>
Instead of namespacing your controllers, give them context. For example,
let&#8217;s say you you have /commments and /admin/comments. This
controller has 2 contexts: root and admin. So your routes should look
something like:
</p>
<pre class="code">
  <span class='map identifier id'>map</span><span class='dot token'>.</span><span class='with_options identifier id'>with_options</span><span class='lparen token'>(</span><span class='symbol val'>:path_prefix</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;admin&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:name_prefix</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;admin_&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='admin identifier id'>admin</span><span class='bitor op'>|</span>
    <span class='admin identifier id'>admin</span><span class='dot token'>.</span><span class='resource identifier id'>resource</span> <span class='symbol val'>:comments</span>
  <span class='end end kw'>end</span>
  <span class='map identifier id'>map</span><span class='dot token'>.</span><span class='resources identifier id'>resources</span> <span class='symbol val'>:comments</span>
</pre>
<p>
Then in your controller use the context method to make adjustments:
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='CommentsController constant id'>CommentsController</span> <span class='lt op'>&lt;</span> <span class='ResourceController constant id'>ResourceController</span>
    <span class='layout identifier id'>layout</span> <span class='Proc constant id'>Proc</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='lbrace token'>{</span> <span class='context identifier id'>context</span> <span class='eq op'>==</span> <span class='symbol val'>:admin</span> <span class='question op'>?</span> <span class='string val'>&quot;admin&quot;</span> <span class='colon op'>:</span> <span class='string val'>&quot;application&quot;</span> <span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
</pre>
<p>
You also have the same context method in your views. Lastly, if you feel
your views are getting cluttered by trying to determine what context you
are in, you can use the namespace_views_by_context option (See
Resourcelogic::Context::Config for more info). This will change your
default view path to a context subfolder. Ex:
</p>
<pre class="code">
  <span class='regexp val'>/comments
    /</span><span class='admin identifier id'>admin</span>
    <span class='regexp val'>/root
    any other contexts..
</span></pre>
<p>
See the Feature Highlights section below for more options, and the
documentation for a complete list.
</p>
<h2>Feature highlights</h2>
<p>
I don&#8217;t want to repeat what is already in the documentation, but
there are a lot of really nice configuration and utility methods. <b>Here
are just a few</b>:
</p>
<p>
<b>Class level methods</b>
</p>
<pre class="code">
  <span class='belongs_to identifier id'>belongs_to</span> <span class='symbol val'>:relationship_name</span>   <span class='comment val'># will check to see if the resource is being scoped by a parent and give you some nifty methods for this (see below). You can call this multiple times. Just like ActiveRecord.</span>
  <span class='contextual_views identifier id'>contextual_views</span> <span class='true true kw'>true</span>           <span class='comment val'># will split up your views into subfolders: comments/context1, comments/context2, and will change your default view path to the respective folder</span>
</pre>
<p>
<b>Instance level methods</b>
</p>
<p>
Lets pretend we are dealing with a products resource that belongs to a
category.
</p>
<pre class="code">
  <span class='context identifier id'>context</span>                                 <span class='comment val'># the name of the context you are in</span>

  <span class='object identifier id'>object</span>                                  <span class='comment val'># current product object, if any</span>
  <span class='collection identifier id'>collection</span>                              <span class='comment val'># current collection of products</span>
  <span class='parent identifier id'>parent</span>                                  <span class='comment val'># current category object, if any</span>
</pre>
<p>
Now you have all of the &quot;relative routes&quot; to help you easily nest
resources and use them in different contexts:
</p>
<pre class="code">
  <span class='object_path identifier id'>object_path</span>                             <span class='comment val'># /products/:id</span>
  <span class='edit_object_path identifier id'>edit_object_path</span>                        <span class='comment val'># /products/:id/edit</span>
  <span class='new_object_path identifier id'>new_object_path</span>                         <span class='comment val'># /products/new</span>
  <span class='collection_path identifier id'>collection_path</span>                         <span class='comment val'># /products</span>

  <span class='parent_path identifier id'>parent_path</span>                             <span class='comment val'># /categories/:parent_id</span>
  <span class='edit_parent_path identifier id'>edit_parent_path</span>                        <span class='comment val'># /categories/:parent_id/edit</span>
  <span class='parent_collection_path identifier id'>parent_collection_path</span>                  <span class='comment val'># /categories</span>
  <span class='new_parent_path identifier id'>new_parent_path</span>                         <span class='comment val'># /categories/new</span>

  <span class='sibling_path identifier id'>sibling_path</span><span class='lparen token'>(</span><span class='sibling identifier id'>sibling</span><span class='rparen token'>)</span>                   <span class='comment val'># /sibling_name/:id</span>
  <span class='edit_sibling_path identifier id'>edit_sibling_path</span><span class='lparen token'>(</span><span class='sibling identifier id'>sibling</span><span class='rparen token'>)</span>              <span class='comment val'># /sibling_name/:id/edit</span>
  <span class='new_sibling_path identifier id'>new_sibling_path</span><span class='lparen token'>(</span><span class='symbol val'>:sibling_name</span><span class='rparen token'>)</span>         <span class='comment val'># /sibling_name/new</span>
  <span class='sibling_collection_path identifier id'>sibling_collection_path</span><span class='lparen token'>(</span><span class='symbol val'>:sibling_name</span><span class='rparen token'>)</span>  <span class='comment val'># /sibling_name</span>

  <span class='child_path identifier id'>child_path</span><span class='lparen token'>(</span><span class='child identifier id'>child</span><span class='rparen token'>)</span>                       <span class='comment val'># /products/:product_id/child_name/:id</span>
  <span class='edit_child_path identifier id'>edit_child_path</span><span class='lparen token'>(</span><span class='child identifier id'>child</span><span class='rparen token'>)</span>                  <span class='comment val'># /products/:product_id/child_name/:id/edit</span>
  <span class='new_child_path identifier id'>new_child_path</span><span class='lparen token'>(</span><span class='symbol val'>:child_name</span><span class='rparen token'>)</span>             <span class='comment val'># /products/:product_id/child_name/new</span>
  <span class='child_collection_path identifier id'>child_collection_path</span><span class='lparen token'>(</span><span class='symbol val'>:child_name</span><span class='rparen token'>)</span>      <span class='comment val'># /products/:product_id/child_name</span>
</pre>
<p>
Notice you have the edit_* paths. The above paths are implemented in a very
flexible manner. So you are not limited them, you can call your custom
actions too:
</p>
<pre class="code">
  <span class='map identifier id'>map</span><span class='dot token'>.</span><span class='resources identifier id'>resources</span> <span class='symbol val'>:products</span><span class='comma token'>,</span> <span class='symbol val'>:member</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='symbol val'>:approve</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:collection</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='symbol val'>:approve_all</span><span class='rbrack token'>]</span>
  <span class='approve_object_path identifier id'>approve_object_path</span>                     <span class='comment val'># /products/:id/approve</span>
  <span class='approve_all_collection_path identifier id'>approve_all_collection_path</span>             <span class='comment val'># /products/approve</span>
</pre>
<p>
The above example is probably not the best one, but you get the point.
</p>
<p>
Lastly, all of the above can end with _url instead of _path. <b>See docs
for a complete list of available methods.</b>
</p>
<p>
Copyright &#169; 2008 {Ben Johnson of Binary
Logic}[http://www.binarylogic.com], released under the MIT license
</p>

</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>