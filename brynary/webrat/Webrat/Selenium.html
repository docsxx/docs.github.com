<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="../syntax_highlight.css" type="text/css" charset="utf-8" />

    <script src="../jquery.js" type="text/javascript" charset="utf-8"></script>
    <script src="../app.js" type="text/javascript" charset="utf-8"></script>
    <title>Module: Webrat::Selenium</title>
  </head>
  <body>
    <div id="content">
      <div class="section module Webrat_Selenium">
  <h1 class="title">Module: Webrat::Selenium</h1>
  <div class="section docstring">
  <p>
To use Webrat&#8217;s Selenium support, you&#8217;ll need the
selenium-client gem installed. Activate it with (for example, in your
<tt>env.rb</tt>):
</p>
<pre class="code">
  <span class='require identifier id'>require</span> <span class='string val'>&quot;webrat&quot;</span>

  <span class='Webrat constant id'>Webrat</span><span class='dot token'>.</span><span class='configure identifier id'>configure</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='config identifier id'>config</span><span class='bitor op'>|</span>
    <span class='config identifier id'>config</span><span class='dot token'>.</span><span class='mode identifier id'>mode</span> <span class='assign token'>=</span> <span class='symbol val'>:selenium</span>
  <span class='end end kw'>end</span>
</pre>
<h2>Dropping down to the selenium-client API</h2>
<p>
If you ever need to do something with Selenium not provided in the Webrat
API, you can always drop down to the selenium-client API using the
<tt>selenium</tt> method. For example:
</p>
<pre class="code">
  <span class='When constant id'>When</span> <span class='string val'>&quot;I drag the photo to the left&quot;</span> <span class='do do kw'>do</span>
    <span class='selenium identifier id'>selenium</span><span class='dot token'>.</span><span class='dragdrop identifier id'>dragdrop</span><span class='lparen token'>(</span><span class='string val'>&quot;id=photo_123&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;+350, 0&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
</pre>
<h2>Choosing the underlying framework to test</h2>
<p>
Webrat assumes you&#8217;re using rails by default but it can also work
with sinatra and merb. To take advantage of this you can use the
configuration block to set the application_framework variable.
</p>
<pre class="code">
  <span class='require identifier id'>require</span> <span class='string val'>&quot;webrat&quot;</span>

  <span class='Webrat constant id'>Webrat</span><span class='dot token'>.</span><span class='configure identifier id'>configure</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='config identifier id'>config</span><span class='bitor op'>|</span>
    <span class='config identifier id'>config</span><span class='dot token'>.</span><span class='mode identifier id'>mode</span> <span class='assign token'>=</span> <span class='symbol val'>:selenium</span>
    <span class='config identifier id'>config</span><span class='dot token'>.</span><span class='application_port identifier id'>application_port</span> <span class='assign token'>=</span> <span class='integer val'>4567</span>
    <span class='config identifier id'>config</span><span class='dot token'>.</span><span class='application_framework identifier id'>application_framework</span> <span class='assign token'>=</span> <span class='symbol val'>:sinatra</span>  <span class='comment val'># could also be :merb</span>
  <span class='end end kw'>end</span>
</pre>
<h2>Auto-starting of the appserver and java server</h2>
<p>
Webrat will automatically start the Selenium Java server process and an
instance of Mongrel when a test is run. The Mongrel will run in the
&quot;selenium&quot; environment instead of &quot;test&quot;, so ensure
you&#8217;ve got that defined, and will run on port
Webrat.configuration.application_port.
</p>
<h2>Waiting</h2>
<p>
In order to make writing Selenium tests as easy as possible, Webrat will
automatically wait for the correct elements to exist on the page when
trying to manipulate them with methods like <tt>fill_in</tt>, etc. In
general, this means you should be able to write your Webrat::Selenium tests
ignoring the concurrency issues that can plague in-browser testing, so long
as you&#8217;re using the Webrat API.
</p>

</div><div class="section constants">
  
</div>
</div>
    </div>
  </body>
</html>