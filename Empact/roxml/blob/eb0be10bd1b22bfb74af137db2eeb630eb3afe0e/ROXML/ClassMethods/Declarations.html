<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>Empact's roxml - Module: ROXML::ClassMethods::Declarations - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/Empact/commits/roxml/master" rel="alternate" title="Recent Commits to roxml:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("Empact", "roxml", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='Empact/roxml/blob/eb0be10bd1b22bfb74af137db2eeb630eb3afe0e' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='Empact/roxml/blob/eb0be10bd1b22bfb74af137db2eeb630eb3afe0e' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("Empact", "roxml", "eb0be10bd1b22bfb74af137db2eeb630eb3afe0e", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/Empact/roxml/tree/">Source</a></li>
            <li class=""><a href="http://github.com/Empact/roxml/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/Empact/roxml/network">Network</a></li>            
            <li class=""><a href="http://github.com/Empact/roxml/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/Empact/roxml">Wiki</a></li>
            <li class=""><a href="http://github.com/Empact/roxml/graphs">Graphs</a></li>                    
            <li class="active"><a href="/Empact/roxml">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/Empact">Empact</a> / <b><a href="http://github.com/Empact/roxml/tree">roxml</a></b>        
                <a id="namespaces_button" rel="Empact/roxml/blob/eb0be10bd1b22bfb74af137db2eeb630eb3afe0e" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="Empact/roxml/blob/eb0be10bd1b22bfb74af137db2eeb630eb3afe0e" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section module ROXML_ClassMethods_Declarations">
  <h1>Module: ROXML::ClassMethods::Declarations</h1>
  <div class="section constants">
  
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#roxml_naming_convention-instance_method">#roxml_naming_convention</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#xml_accessor-instance_method">#xml_accessor</span><span class='args'>(*syms, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Declares a writable xml reference.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#xml_attr-instance_method">#xml_attr</span><span class='args'>(*syms, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Declares a reference to a certain xml element, whether an attribute, a
node, or a typed collection of nodes.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#xml_convention-instance_method">#xml_convention</span><span class='args'>(to_proc_able = nil, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Most xml documents have a consistent naming convention, for example, the
node and and attribute names might appear in CamelCase.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#xml_name-instance_method">#xml_name</span><span class='args'>(name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Sets the name of the XML element that represents this class.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#xml_namespace-instance_method">#xml_namespace</span><span class='args'>(namespace)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Sets the namemespace for attributes and elements of this class.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#xml_reader-instance_method">#xml_reader</span><span class='args'>(*syms, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Declares a read-only xml reference.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>roxml_naming_convention</h3>
</div><div id="roxml_naming_convention-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>roxml_naming_convention</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/roxml.rb', line 123</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/Empact/roxml/blob/eb0be10bd1b22bfb74af137db2eeb630eb3afe0e/lib/roxml.rb#L123">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">123
124
125
126
127</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='roxml_naming_convention identifier id'>roxml_naming_convention</span> 
  <span class='lparen token'>(</span><span class='@roxml_naming_convention ivar id'>@roxml_naming_convention</span> <span class='orop op'>||</span> <span class='begin begin kw'>begin</span>
    <span class='superclass identifier id'>superclass</span><span class='dot token'>.</span><span class='roxml_naming_convention identifier id'>roxml_naming_convention</span> <span class='if if_mod kw'>if</span> <span class='superclass identifier id'>superclass</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:roxml_naming_convention</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='freeze identifier id'>freeze</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>xml_accessor</h3>
</div><div id="xml_accessor-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>xml_accessor</span><span class='args'>(*syms, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Declares a writable xml reference. See xml_attr for details.
</p>
<p>
Note that while xml_accessor does create a setter for this attribute, you
can use the :frozen option to prevent its value from being modified
indirectly via methods.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/roxml.rb', line 421</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/Empact/roxml/blob/eb0be10bd1b22bfb74af137db2eeb630eb3afe0e/lib/roxml.rb#L421">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">421
422
423
424
425
426</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='xml_accessor identifier id'>xml_accessor</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='syms identifier id'>syms</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='xml_attr identifier id'>xml_attr</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='syms identifier id'>syms</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='attr identifier id'>attr</span><span class='bitor op'>|</span>
    <span class='add_reader identifier id'>add_reader</span><span class='lparen token'>(</span><span class='attr identifier id'>attr</span><span class='rparen token'>)</span>
    <span class='attr_writer identifier id'>attr_writer</span><span class='lparen token'>(</span><span class='attr identifier id'>attr</span><span class='dot token'>.</span><span class='attr_name identifier id'>attr_name</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>xml_attr</h3>
</div><div id="xml_attr-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>xml_attr</span><span class='args'>(*syms, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Declares a reference to a certain xml element, whether an attribute, a
node, or a typed collection of nodes. This method does not add a
corresponding accessor to the object. For that behavior see the similar
methods: .xml_reader and .xml_accessor.
</p>
<h2>Sym Option</h2>
<dl>
<dt>sym</dt><dd>Symbol representing the name of the accessor.

</dd>
</dl>
<h3>Default naming</h3>
<p>
This name will be the default node or attribute name searched for, if no
other is declared. For example,
</p>
<pre class="code">
 <span class='xml_reader identifier id'>xml_reader</span>   <span class='symbol val'>:bob</span>
 <span class='xml_accessor identifier id'>xml_accessor</span> <span class='symbol val'>:pony</span><span class='comma token'>,</span> <span class='symbol val'>:from</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:attr</span>
</pre>
<p>
are equivalent to:
</p>
<pre class="code">
 <span class='xml_reader identifier id'>xml_reader</span>   <span class='symbol val'>:bob</span><span class='comma token'>,</span> <span class='symbol val'>:from</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'bob'</span>
 <span class='xml_accessor identifier id'>xml_accessor</span> <span class='symbol val'>:pony</span><span class='comma token'>,</span> <span class='symbol val'>:from</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'@pony'</span>
</pre>
<h3>Boolean attributes</h3>
<p>
If the name ends in a ?, ROXML will attempt to coerce the value to true or
false, with True, TRUE, true and 1 mapping to true and False, FALSE, false
and 0 mapping to false, as shown below:
</p>
<pre class="code">
 <span class='xml_reader identifier id'>xml_reader</span> <span class='symbol val'>:desirable?</span>
 <span class='xml_reader identifier id'>xml_reader</span> <span class='symbol val'>:bizzare?</span><span class='comma token'>,</span> <span class='symbol val'>:from</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'@BIZZARE'</span>

 <span class='x identifier id'>x</span> <span class='assign token'>=</span> <span class='comment val'>#from_xml(%{</span>
   <span class='lt op'>&lt;</span><span class='object identifier id'>object</span> <span class='BIZZARE constant id'>BIZZARE</span><span class='assign token'>=</span><span class='string val'>&quot;1&quot;</span><span class='gt op'>&gt;</span>
     <span class='lt op'>&lt;</span><span class='desirable identifier id'>desirable</span><span class='gt op'>&gt;</span><span class='False constant id'>False</span><span class='lt op'>&lt;</span><span class='regexp val'>/desirable&gt;
   &lt;/o</span><span class='bject identifier id'>bject</span><span class='gt op'>&gt;</span>
 <span class='rbrace token'>}</span><span class='rparen token'>)</span>
 <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='desirable? fid id'>desirable?</span>
 <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span>
 <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='bizzare? fid id'>bizzare?</span>
 <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span>
</pre>
<p>
If an unexpected value is encountered, the attribute will be set to nil,
unless you provide a block, in which case the block will recived the actual
unexpected value.
</p>
<pre class="code">
 <span class='comment val'>#from_xml(%{</span>
   <span class='lt op'>&lt;</span><span class='object identifier id'>object</span><span class='gt op'>&gt;</span>
     <span class='lt op'>&lt;</span><span class='desirable identifier id'>desirable</span><span class='gt op'>&gt;</span><span class='Dunno constant id'>Dunno</span><span class='lt op'>&lt;</span><span class='regexp val'>/desirable&gt;
   &lt;/o</span><span class='bject identifier id'>bject</span><span class='gt op'>&gt;</span>
 <span class='rbrace token'>}</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='desirable? fid id'>desirable?</span>
 <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='nil nil kw'>nil</span>

 <span class='xml_reader identifier id'>xml_reader</span> <span class='symbol val'>:strange?</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='val identifier id'>val</span><span class='bitor op'>|</span>
   <span class='val identifier id'>val</span><span class='dot token'>.</span><span class='upcase identifier id'>upcase</span>
 <span class='end end kw'>end</span>

 <span class='comment val'>#from_xml(%{</span>
   <span class='lt op'>&lt;</span><span class='object identifier id'>object</span><span class='gt op'>&gt;</span>
     <span class='lt op'>&lt;</span><span class='strange identifier id'>strange</span><span class='gt op'>&gt;</span><span class='Dunno constant id'>Dunno</span><span class='lt op'>&lt;</span><span class='regexp val'>/strange&gt;
   &lt;/o</span><span class='bject identifier id'>bject</span><span class='gt op'>&gt;</span>
 <span class='rbrace token'>}</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='strange? fid id'>strange?</span>
 <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='DUNNO constant id'>DUNNO</span>
</pre>
<h2>Blocks</h2>
<p>
You may also pass a block which manipulates the associated parsed value.
</p>
<pre class="code">
 <span class='class class kw'>class</span> <span class='Muffins constant id'>Muffins</span>
   <span class='include identifier id'>include</span> <span class='ROXML constant id'>ROXML</span>

   <span class='xml_reader identifier id'>xml_reader</span><span class='lparen token'>(</span><span class='symbol val'>:count</span><span class='comma token'>,</span> <span class='symbol val'>:from</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'bakers_dozens'</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='val identifier id'>val</span><span class='bitor op'>|</span> <span class='val identifier id'>val</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span> <span class='mult op'>*</span> <span class='integer val'>13</span> <span class='rbrace token'>}</span>
 <span class='end end kw'>end</span>
</pre>
<p>
For hash types, the block recieves the key and value as arguments, and they
should be returned as an array of [key, value]
</p>
<p>
For array types, the entire array is passed in, and must be returned in the
same fashion.
</p>
<h2>Options</h2>
<h3>:as</h3>
<h4>Basic Types</h4>
<p>
Allows you to specify one of several basic types to return the value as.
For example
</p>
<pre class="code">
 <span class='xml_reader identifier id'>xml_reader</span> <span class='symbol val'>:count</span><span class='comma token'>,</span> <span class='symbol val'>:as</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Integer constant id'>Integer</span>
</pre>
<p>
is equivalent to:
</p>
<pre class="code">
 <span class='xml_reader identifier id'>xml_reader</span><span class='lparen token'>(</span><span class='symbol val'>:count</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='val identifier id'>val</span><span class='bitor op'>|</span> <span class='Integer constant id'>Integer</span><span class='lparen token'>(</span><span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='val identifier id'>val</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span> <span class='rbrace token'>}</span>
</pre>
<p>
Such block shorthands for Integer, Float, Fixnum, BigDecimal, Date, Time,
and DateTime are currently available, but only for non-Hash declarations.
</p>
<p>
To reference many elements, put the desired type in a literal array. e.g.:
</p>
<pre class="code">
  <span class='xml_reader identifier id'>xml_reader</span> <span class='symbol val'>:counts</span><span class='comma token'>,</span> <span class='symbol val'>:as</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='Integer constant id'>Integer</span><span class='rbrack token'>]</span>
</pre>
<p>
Even an array of text nodes can be specified with :as =&gt; []
</p>
<pre class="code">
  <span class='xml_reader identifier id'>xml_reader</span> <span class='symbol val'>:quotes</span><span class='comma token'>,</span> <span class='symbol val'>:as</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
</pre>
<h3>Other ROXML Class</h3>
<p>
Declares an accessor that represents another ROXML class as child XML
element (one-to-one or composition) or array of child elements (one-to-many
or aggregation) of this type. Default is one-to-one. For one-to-many,
simply pass the class as the only element in an array.
</p>
<p>
Composition example:
</p>
<pre class="code">
 <span class='lt op'>&lt;</span><span class='book identifier id'>book</span><span class='gt op'>&gt;</span>
  <span class='lt op'>&lt;</span><span class='publisher identifier id'>publisher</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='name identifier id'>name</span><span class='gt op'>&gt;</span><span class='Pragmatic constant id'>Pragmatic</span> <span class='Bookshelf constant id'>Bookshelf</span><span class='lt op'>&lt;</span><span class='regexp val'>/name&gt;
  &lt;/</span><span class='publisher identifier id'>publisher</span><span class='gt op'>&gt;</span>
 <span class='lt op'>&lt;</span><span class='regexp val'>/book&gt;
</span></pre>
<p>
Can be mapped using the following code:
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='Book constant id'>Book</span>
    <span class='xml_reader identifier id'>xml_reader</span> <span class='symbol val'>:publisher</span><span class='comma token'>,</span> <span class='symbol val'>:as</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Publisher constant id'>Publisher</span>
  <span class='end end kw'>end</span>
</pre>
<p>
Aggregation example:
</p>
<pre class="code">
 <span class='lt op'>&lt;</span><span class='library identifier id'>library</span><span class='gt op'>&gt;</span>
  <span class='lt op'>&lt;</span><span class='books identifier id'>books</span><span class='gt op'>&gt;</span>
   <span class='lt op'>&lt;</span><span class='book identifier id'>book</span><span class='div op'>/</span><span class='gt op'>&gt;</span>
   <span class='lt op'>&lt;</span><span class='book identifier id'>book</span><span class='div op'>/</span><span class='gt op'>&gt;</span>
  <span class='lt op'>&lt;</span><span class='regexp val'>/books&gt;
 &lt;/</span><span class='library identifier id'>library</span><span class='gt op'>&gt;</span>
</pre>
<p>
Can be mapped using the following code:
</p>
<pre class="code">
 <span class='class class kw'>class</span> <span class='Library constant id'>Library</span>
   <span class='xml_reader identifier id'>xml_reader</span> <span class='symbol val'>:books</span><span class='comma token'>,</span> <span class='symbol val'>:as</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='Book constant id'>Book</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:in</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;books&quot;</span>
 <span class='end end kw'>end</span>
</pre>
<p>
If you don&#8217;t have the &lt;books&gt; tag to wrap around the list of
&lt;book&gt; tags:
</p>
<pre class="code">
 <span class='lt op'>&lt;</span><span class='library identifier id'>library</span><span class='gt op'>&gt;</span>
  <span class='lt op'>&lt;</span><span class='name identifier id'>name</span><span class='gt op'>&gt;</span><span class='Ruby constant id'>Ruby</span> <span class='books identifier id'>books</span><span class='lt op'>&lt;</span><span class='regexp val'>/name&gt;
  &lt;book/</span><span class='gt op'>&gt;</span>
  <span class='lt op'>&lt;</span><span class='book identifier id'>book</span><span class='div op'>/</span><span class='gt op'>&gt;</span>
 <span class='lt op'>&lt;</span><span class='regexp val'>/library&gt;
</span></pre>
<p>
You can skip the wrapper argument:
</p>
<pre class="code">
   <span class='xml_reader identifier id'>xml_reader</span> <span class='symbol val'>:books</span><span class='comma token'>,</span> <span class='symbol val'>:as</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='Book constant id'>Book</span><span class='rbrack token'>]</span>
</pre>
<h4>Hash</h4>
<p>
Somewhere between the simplicity of a :text/:attr mapping, and the
complexity of a full Object/Type mapping, lies the Hash mapping. It serves
in the case where you have a collection of key-value pairs represented in
your xml. You create a hash declaration by passing a hash mapping as the
type argument. A few examples:
</p>
<h5>Hash of element contents</h5>
<p>
For xml such as this:
</p>
<pre class="code">
   <span class='lt op'>&lt;</span><span class='dictionary identifier id'>dictionary</span><span class='gt op'>&gt;</span>
     <span class='lt op'>&lt;</span><span class='definition identifier id'>definition</span><span class='gt op'>&gt;</span>
       <span class='lt op'>&lt;</span><span class='word identifier id'>word</span><span class='div op'>/</span><span class='gt op'>&gt;</span>
       <span class='lt op'>&lt;</span><span class='meaning identifier id'>meaning</span><span class='div op'>/</span><span class='gt op'>&gt;</span>
     <span class='lt op'>&lt;</span><span class='regexp val'>/definition&gt;
     &lt;definition&gt;
       &lt;word/</span><span class='gt op'>&gt;</span>
       <span class='lt op'>&lt;</span><span class='meaning identifier id'>meaning</span><span class='div op'>/</span><span class='gt op'>&gt;</span>
     <span class='lt op'>&lt;</span><span class='regexp val'>/definition&gt;
   &lt;/</span><span class='dictionary identifier id'>dictionary</span><span class='gt op'>&gt;</span>
</pre>
<p>
You can individually declare your key and value names:
</p>
<pre class="code">
   <span class='xml_reader identifier id'>xml_reader</span> <span class='symbol val'>:definitions</span><span class='comma token'>,</span> <span class='symbol val'>:as</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='symbol val'>:key</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'word'</span><span class='comma token'>,</span>
                                    <span class='symbol val'>:value</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'meaning'</span><span class='rbrace token'>}</span>
</pre>
<h5>Hash of :content &amp;c.</h5>
<p>
For xml such as this:
</p>
<pre class="code">
   <span class='lt op'>&lt;</span><span class='dictionary identifier id'>dictionary</span><span class='gt op'>&gt;</span>
     <span class='lt op'>&lt;</span><span class='definition identifier id'>definition</span> <span class='word identifier id'>word</span><span class='assign token'>=</span><span class='string val'>&quot;quaquaversally&quot;</span><span class='gt op'>&gt;</span><span class='adjective identifier id'>adjective</span><span class='colon op'>:</span> <span class='lparen token'>(</span><span class='of identifier id'>of</span> <span class='a identifier id'>a</span> <span class='geological identifier id'>geological</span> <span class='formation identifier id'>formation</span><span class='rparen token'>)</span> <span class='sloping identifier id'>sloping</span> <span class='downward identifier id'>downward</span> <span class='from identifier id'>from</span> <span class='the identifier id'>the</span> <span class='center identifier id'>center</span> <span class='in in kw'>in</span> <span class='all identifier id'>all</span> <span class='directions identifier id'>directions</span><span class='dot token'>.</span><span class='lt op'>&lt;</span><span class='regexp val'>/definition&gt;
     &lt;definition word=&quot;tergiversate&quot;&gt;To use evasions or ambiguities; equivocate.&lt;/</span><span class='definition identifier id'>definition</span><span class='gt op'>&gt;</span>
   <span class='lt op'>&lt;</span><span class='regexp val'>/dictionary&gt;
</span></pre>
<p>
You can individually declare the key and value, but with the attr, you need
to provide both the type and name of that type (i.e. <tt>=&amp;gt; :word</tt>),
because omitting the type will result in ROXML defaulting to :text
</p>
<pre class="code">
   <span class='xml_reader identifier id'>xml_reader</span> <span class='symbol val'>:definitions</span><span class='comma token'>,</span> <span class='symbol val'>:as</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='symbol val'>:key</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='symbol val'>:attr</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'word'</span><span class='rbrace token'>}</span><span class='comma token'>,</span>
                                    <span class='symbol val'>:value</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:content</span><span class='rbrace token'>}</span>
</pre>
<h5>Hash of :name &amp;c.</h5>
<p>
For xml such as this:
</p>
<pre class="code">
   <span class='lt op'>&lt;</span><span class='dictionary identifier id'>dictionary</span><span class='gt op'>&gt;</span>
     <span class='lt op'>&lt;</span><span class='quaquaversally identifier id'>quaquaversally</span><span class='gt op'>&gt;</span><span class='adjective identifier id'>adjective</span><span class='colon op'>:</span> <span class='lparen token'>(</span><span class='of identifier id'>of</span> <span class='a identifier id'>a</span> <span class='geological identifier id'>geological</span> <span class='formation identifier id'>formation</span><span class='rparen token'>)</span> <span class='sloping identifier id'>sloping</span> <span class='downward identifier id'>downward</span> <span class='from identifier id'>from</span> <span class='the identifier id'>the</span> <span class='center identifier id'>center</span> <span class='in in kw'>in</span> <span class='all identifier id'>all</span> <span class='directions identifier id'>directions</span><span class='dot token'>.</span><span class='lt op'>&lt;</span><span class='regexp val'>/quaquaversally&gt;
     &lt;tergiversate&gt;To use evasions or ambiguities; equivocate.&lt;/</span><span class='tergiversate identifier id'>tergiversate</span><span class='gt op'>&gt;</span>
   <span class='lt op'>&lt;</span><span class='regexp val'>/dictionary&gt;
</span></pre>
<p>
You can pick up the node names (e.g. quaquaversally) using the :name
keyword:
</p>
<pre class="code">
   <span class='xml_reader identifier id'>xml_reader</span> <span class='symbol val'>:definitions</span><span class='comma token'>,</span> <span class='symbol val'>:as</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='symbol val'>:key</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:name</span><span class='comma token'>,</span>
                                    <span class='symbol val'>:value</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:content</span><span class='rbrace token'>}</span>
</pre>
<h3>:from</h3>
<p>
The name by which the xml value will be found, either an attribute or tag
name in XML. Default is sym, or the singular form of sym, in the case of
arrays and hashes.
</p>
<p>
This value may also include XPath notation.
</p>
<h4>:from =&gt; :content</h4>
<p>
When :from is set to :content, this refers to the content of the current
node, rather than a sub-node. It is equivalent to :from =&gt;
&#8217;.&#8217;
</p>
<p>
Example:
</p>
<pre class="code">
 <span class='class class kw'>class</span> <span class='Contributor constant id'>Contributor</span>
   <span class='xml_reader identifier id'>xml_reader</span> <span class='symbol val'>:name</span><span class='comma token'>,</span> <span class='symbol val'>:from</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:content</span>
   <span class='xml_reader identifier id'>xml_reader</span> <span class='symbol val'>:role</span><span class='comma token'>,</span> <span class='symbol val'>:from</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:attr</span>
 <span class='end end kw'>end</span>
</pre>
<p>
To map:
</p>
<pre class="code">
 <span class='lt op'>&lt;</span><span class='contributor identifier id'>contributor</span> <span class='role identifier id'>role</span><span class='assign token'>=</span><span class='string val'>&quot;editor&quot;</span><span class='gt op'>&gt;</span><span class='James constant id'>James</span> <span class='Wick constant id'>Wick</span><span class='lt op'>&lt;</span><span class='regexp val'>/contributor&gt;
</span></pre>
<h4>:from =&gt; :attr</h4>
<p>
When :from is set to :attr, this refers to the content of an attribute,
rather than a sub-node. It is equivalent to :from =&gt;
&#8217;@attribute_name&#8217;
</p>
<p>
Example:
</p>
<pre class="code">
 <span class='class class kw'>class</span> <span class='Book constant id'>Book</span>
   <span class='xml_reader identifier id'>xml_reader</span> <span class='symbol val'>:isbn</span><span class='comma token'>,</span> <span class='symbol val'>:from</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;@ISBN&quot;</span>
   <span class='xml_accessor identifier id'>xml_accessor</span> <span class='symbol val'>:title</span><span class='comma token'>,</span> <span class='symbol val'>:from</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:attr</span> <span class='comment val'># :from defaults to '@title'</span>
 <span class='end end kw'>end</span>
</pre>
<p>
To map:
</p>
<pre class="code">
 <span class='lt op'>&lt;</span><span class='book identifier id'>book</span> <span class='ISBN constant id'>ISBN</span><span class='assign token'>=</span><span class='string val'>&quot;0974514055&quot;</span> <span class='title identifier id'>title</span><span class='assign token'>=</span><span class='string val'>&quot;Programming Ruby: the pragmatic programmers' guide&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
</pre>
<h4>:from =&gt; :text</h4>
<p>
The default source, if none is specified, this means the accessor
represents a text node from XML. This is documented for completeness only.
You should just leave this option off when you want the default behavior,
as in the examples below.
</p>
<p>
:text is equivalent to :from =&gt; accessor_name, and you should specify
the actual node name if it differs, as in the case of :author below.
</p>
<p>
Example:
</p>
<pre class="code">
 <span class='class class kw'>class</span> <span class='Book constant id'>Book</span>
   <span class='xml_reader identifier id'>xml_reader</span> <span class='symbol val'>:author</span><span class='comma token'>,</span> <span class='symbol val'>:from</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'Author
   xml_accessor :description, :cdata =&gt; true
   xml_reader :title
 end
</span></pre>
<p>
To map:
</p>
<pre class="code">
 <span class='lt op'>&lt;</span><span class='book identifier id'>book</span><span class='gt op'>&gt;</span>
  <span class='lt op'>&lt;</span><span class='title identifier id'>title</span><span class='gt op'>&gt;</span><span class='Programming constant id'>Programming</span> <span class='Ruby constant id'>Ruby</span><span class='colon op'>:</span> <span class='the identifier id'>the</span> <span class='pragmatic identifier id'>pragmatic</span> <span class='programmers identifier id'>programmers</span><span class='string val'>' guide&lt;/title&gt;
  &lt;description&gt;&lt;![CDATA[Probably the best Ruby book out there]]&gt;&lt;/description&gt;
  &lt;Author&gt;David Thomas&lt;/Author&gt;
 &lt;/book&gt;
</span></pre>
<p>
Likewise, a number of :text node values can be collected in an array like
so:
</p>
<p>
Example:
</p>
<pre class="code">
 <span class='class class kw'>class</span> <span class='Library constant id'>Library</span>
   <span class='xml_reader identifier id'>xml_reader</span> <span class='symbol val'>:books</span><span class='comma token'>,</span> <span class='symbol val'>:as</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
 <span class='end end kw'>end</span>
</pre>
<p>
To map:
</p>
<pre class="code">
 <span class='lt op'>&lt;</span><span class='library identifier id'>library</span><span class='gt op'>&gt;</span>
     <span class='lt op'>&lt;</span><span class='book identifier id'>book</span><span class='gt op'>&gt;</span><span class='To constant id'>To</span> <span class='kill identifier id'>kill</span> <span class='a identifier id'>a</span> <span class='mockingbird identifier id'>mockingbird</span><span class='lt op'>&lt;</span><span class='regexp val'>/book&gt;
     &lt;book&gt;House of Leaves&lt;/</span><span class='book identifier id'>book</span><span class='gt op'>&gt;</span>
   <span class='lt op'>&lt;</span><span class='book identifier id'>book</span><span class='gt op'>&gt;</span><span class='G constant id'>G</span></pre>
<h3>Other Options</h3>
<dl>
<dt>:in</dt><dd>An optional name of a wrapping tag for this XML accessor. This can include
other xpath values, which will be joined with :from with a &#8217;/&#8217;

</dd>
<dt>:else</dt><dd>Default value for attribute, if missing from the xml on .from_xml

</dd>
<dt>:required</dt><dd>If true, throws RequiredElementMissing when the element isn&#8217;t present

</dd>
<dt>:frozen</dt><dd>If true, all results are frozen (using #freeze) at parse-time.

</dd>
<dt>:cdata</dt><dd>true for values which should be input from or output as cdata elements

</dd>
<dt>:to_xml</dt><dd>this proc is applied to the attributes value outputting the instance via
#to_xml

</dd>
</dl>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/roxml.rb', line 393</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/Empact/roxml/blob/eb0be10bd1b22bfb74af137db2eeb630eb3afe0e/lib/roxml.rb#L393">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">393
394
395
396
397
398
399
400
401
402
403</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='xml_attr identifier id'>xml_attr</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='syms identifier id'>syms</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='opts identifier id'>opts</span> <span class='assign token'>=</span> <span class='syms identifier id'>syms</span><span class='dot token'>.</span><span class='extract_options! fid id'>extract_options!</span>
  <span class='syms identifier id'>syms</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='sym identifier id'>sym</span><span class='bitor op'>|</span>
    <span class='returning identifier id'>returning</span> <span class='Definition constant id'>Definition</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='sym identifier id'>sym</span><span class='comma token'>,</span> <span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='attr identifier id'>attr</span><span class='bitor op'>|</span>
      <span class='if if kw'>if</span> <span class='roxml_attrs identifier id'>roxml_attrs</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='symbol val'>:accessor</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='include? fid id'>include?</span> <span class='attr identifier id'>attr</span><span class='dot token'>.</span><span class='accessor identifier id'>accessor</span>
        <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Accessor #{attr.accessor} is already defined as XML accessor in class #{self.name}&quot;</span>
      <span class='end end kw'>end</span>
      <span class='@roxml_attrs ivar id'>@roxml_attrs</span> <span class='lshft op'>&lt;&lt;</span> <span class='attr identifier id'>attr</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>xml_convention</h3>
</div><div id="xml_convention-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>xml_convention</span><span class='args'>(to_proc_able = nil, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Most xml documents have a consistent naming convention, for example, the
node and and attribute names might appear in CamelCase. xml_convention
enables you to adapt the roxml default names for this object to suit this
convention. For example, if I had a document like so:
</p>
<pre class="code">
 <span class='lt op'>&lt;</span><span class='XmlDoc constant id'>XmlDoc</span><span class='gt op'>&gt;</span>
   <span class='lt op'>&lt;</span><span class='MyPreciousData constant id'>MyPreciousData</span> <span class='regexp val'>/&gt;
   &lt;MoreToSee InAttrs=&quot;&quot; /</span><span class='gt op'>&gt;</span>
 <span class='lt op'>&lt;</span><span class='regexp val'>/XmlDoc&gt;
</span></pre>
<p>
Then I could access it&#8217;s contents by defining the following class:
</p>
<pre class="code">
 <span class='class class kw'>class</span> <span class='XmlDoc constant id'>XmlDoc</span>
   <span class='include identifier id'>include</span> <span class='ROXML constant id'>ROXML</span>
   <span class='xml_convention identifier id'>xml_convention</span> <span class='symbol val'>:camelcase</span>
   <span class='xml_reader identifier id'>xml_reader</span> <span class='symbol val'>:my_precious_data</span>
   <span class='xml_reader identifier id'>xml_reader</span> <span class='symbol val'>:in_attrs</span><span class='comma token'>,</span> <span class='symbol val'>:in</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'MoreToSee'</span>
 <span class='end end kw'>end</span>
</pre>
<p>
You may supply a block or any #to_proc-able object as the argument, and it
will be called against the default node and attribute names before
searching the document. Here are some example declaration:
</p>
<pre class="code">
 <span class='xml_convention identifier id'>xml_convention</span> <span class='symbol val'>:upcase</span>
 <span class='xml_convention identifier id'>xml_convention</span> <span class='bitand op'>&amp;</span><span class='symbol val'>:camelcase</span>
 <span class='xml_convention identifier id'>xml_convention</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='val identifier id'>val</span><span class='bitor op'>|</span> <span class='val identifier id'>val</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='string val'>'_'</span><span class='comma token'>,</span> <span class='string val'>''</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span> <span class='rbrace token'>}</span>
</pre>
<p>
See ActiveSupport::CoreExtensions::String::Inflections for more prepackaged
formats
</p>
<p>
Note that the xml_convention is also applied to the default root-level
tag_name, but in this case an underscored version of the name is applied,
for convenience.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>ArgumentError</tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/roxml.rb', line 112</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/Empact/roxml/blob/eb0be10bd1b22bfb74af137db2eeb630eb3afe0e/lib/roxml.rb#L112">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">112
113
114
115
116
117
118
119
120
121</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='xml_convention identifier id'>xml_convention</span><span class='lparen token'>(</span><span class='to_proc_able identifier id'>to_proc_able</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;conventions are already set&quot;</span> <span class='if if_mod kw'>if</span> <span class='@roxml_naming_convention ivar id'>@roxml_naming_convention</span>
  <span class='@roxml_naming_convention ivar id'>@roxml_naming_convention</span> <span class='assign token'>=</span>
    <span class='if if kw'>if</span> <span class='to_proc_able identifier id'>to_proc_able</span>
      <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;only one conventions can be set&quot;</span> <span class='if if_mod kw'>if</span> <span class='block_given? fid id'>block_given?</span>
      <span class='to_proc_able identifier id'>to_proc_able</span><span class='dot token'>.</span><span class='to_proc identifier id'>to_proc</span>
    <span class='elsif elsif kw'>elsif</span> <span class='block_given? fid id'>block_given?</span>
      <span class='block identifier id'>block</span>
    <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>xml_name</h3>
</div><div id="xml_name-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>xml_name</span><span class='args'>(name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Sets the name of the XML element that represents this class. Use this to
override the default lowercase class name.
</p>
<p>
Example:
</p>
<pre class="code">
 <span class='class class kw'>class</span> <span class='BookWithPublisher constant id'>BookWithPublisher</span>
  <span class='xml_name identifier id'>xml_name</span> <span class='symbol val'>:book</span>
 <span class='end end kw'>end</span>
</pre>
<p>
Without the xml_name annotation, the XML mapped tag would have been
&quot;bookwithpublisher&quot;.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/roxml.rb', line 55</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/Empact/roxml/blob/eb0be10bd1b22bfb74af137db2eeb630eb3afe0e/lib/roxml.rb#L55">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">55
56
57</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='xml_name identifier id'>xml_name</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='@roxml_tag_name ivar id'>@roxml_tag_name</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>xml_namespace</h3>
</div><div id="xml_namespace-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>xml_namespace</span><span class='args'>(namespace)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Sets the namemespace for attributes and elements of this class. You can
override this value on individual elements via the :from option
</p>
<p>
Example:
</p>
<pre class="code">
 <span class='class class kw'>class</span> <span class='Book constant id'>Book</span>
  <span class='xml_namespace identifier id'>xml_namespace</span> <span class='symbol val'>:aws</span>

  <span class='xml_reader identifier id'>xml_reader</span> <span class='symbol val'>:default_namespace</span>
  <span class='xml_reader identifier id'>xml_reader</span> <span class='symbol val'>:different_namespace</span><span class='comma token'>,</span> <span class='symbol val'>:from</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'different:namespace'</span>
  <span class='xml_reader identifier id'>xml_reader</span> <span class='symbol val'>:no_namespace</span><span class='comma token'>,</span> <span class='symbol val'>:from</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>':no_namespace'</span>
 <span class='end end kw'>end</span>
</pre>
<p>
&lt;aws:book xmlns:aws=&quot;http://www.aws.com/aws&quot;
xmlns:different=&quot;http://www.aws.com/different&quot;&gt;
</p>
<pre class="code">
  <span class='lt op'>&lt;</span><span class='aws identifier id'>aws</span><span class='symbol val'>:default_namespace</span><span class='gt op'>&gt;</span><span class='value identifier id'>value</span><span class='lt op'>&lt;</span><span class='regexp val'>/aws:default_namespace&gt;
  &lt;different:namespace&gt;value&lt;/</span><span class='different identifier id'>different</span><span class='symbol val'>:namespace</span><span class='gt op'>&gt;</span>
  <span class='lt op'>&lt;</span><span class='no_namespace identifier id'>no_namespace</span><span class='gt op'>&gt;</span><span class='value identifier id'>value</span><span class='lt op'>&lt;</span><span class='regexp val'>/no_namespace&gt;
</span></pre>
<p>
&lt;/aws:book&gt;
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/roxml.rb', line 77</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/Empact/roxml/blob/eb0be10bd1b22bfb74af137db2eeb630eb3afe0e/lib/roxml.rb#L77">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">77
78
79</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='xml_namespace identifier id'>xml_namespace</span><span class='lparen token'>(</span><span class='namespace identifier id'>namespace</span><span class='rparen token'>)</span>
  <span class='@roxml_namespace ivar id'>@roxml_namespace</span> <span class='assign token'>=</span> <span class='namespace identifier id'>namespace</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>xml_reader</h3>
</div><div id="xml_reader-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>xml_reader</span><span class='args'>(*syms, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Declares a read-only xml reference. See xml_attr for details.
</p>
<p>
Note that while xml_reader does not create a setter for this attribute, its
value can be modified indirectly via methods. For more complete protection,
consider the :frozen option.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/roxml.rb', line 410</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/Empact/roxml/blob/eb0be10bd1b22bfb74af137db2eeb630eb3afe0e/lib/roxml.rb#L410">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">410
411
412
413
414</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='xml_reader identifier id'>xml_reader</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='syms identifier id'>syms</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='xml_attr identifier id'>xml_attr</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='syms identifier id'>syms</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='attr identifier id'>attr</span><span class='bitor op'>|</span>
    <span class='add_reader identifier id'>add_reader</span><span class='lparen token'>(</span><span class='attr identifier id'>attr</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>