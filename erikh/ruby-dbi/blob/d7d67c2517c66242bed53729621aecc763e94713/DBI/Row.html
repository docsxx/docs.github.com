<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>erikh's ruby-dbi - Class: DBI::Row - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/erikh/commits/ruby-dbi/master" rel="alternate" title="Recent Commits to ruby-dbi:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("erikh", "ruby-dbi", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("erikh", "ruby-dbi", "d7d67c2517c66242bed53729621aecc763e94713", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/erikh/ruby-dbi/tree/">Source</a></li>
            <li class=""><a href="http://github.com/erikh/ruby-dbi/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/erikh/ruby-dbi/network">Network</a></li>            
            <li class=""><a href="http://github.com/erikh/ruby-dbi/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/erikh/ruby-dbi">Wiki</a></li>
            <li class=""><a href="http://github.com/erikh/ruby-dbi/graphs">Graphs</a></li>                    
            <li class="active"><a href="/erikh/ruby-dbi">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/erikh">erikh</a> / <b><a href="http://github.com/erikh/ruby-dbi/tree">ruby-dbi</a></b>        
                <a id="namespaces_button" rel="erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class DBI_Row">
  <h1>Class: DBI::Row</h1>
  <div class="section inheritance">
  <ul>
  <li>Array</li><ul><li>DBI::Row</li>
  </ul></ul>
</div><div class="section docstring">
  <p>
DBI::Row is the representation of a row in a result set returned by the
database.
</p>
<p>
It is responsible for containing and representing the result set,
converting it to native Ruby types, and providing methods to sanely move
through itself.
</p>
<p>
The DBI::Row class is a delegate of Array, rather than a subclass, because
there are times when it should act like an Array, and others when it should
act like a Hash (and still others where it should act like String, Regexp,
etc). It also needs to store metadata about the row, such as column data
type and index information, that users can then access.
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">column_names</td>
          <td class="readwrite">
            [<span id='column_names-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>column_names</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(columns, column_types, size_or_array = nil, convert_types = true)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
DBI::Row.new(columns, column_types, size_or_array=nil)
</p>
<p>
Returns a new DBI::Row object using <tt>columns</tt>. The
<tt>size_or_array</tt> argument may either be an Integer or an Array. If it
is not provided, it defaults to the length of <tt>columns</tt>.
</p>
<p>
Column types is a corresponding Array of Class/Module objects that conform
to the DBI::Type interface. These will be used to convert types as they are
returned.
</p>
<p>
DBI::Row is a delegate of the Array class, so all of the Array instance
methods are available to your DBI::Row object (keeping in mind that
initialize, [], and []= have been explicitly overridden).
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/row.rb', line 33</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/row.rb#L33">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='columns identifier id'>columns</span><span class='comma token'>,</span> <span class='column_types identifier id'>column_types</span><span class='comma token'>,</span> <span class='size_or_array identifier id'>size_or_array</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='convert_types identifier id'>convert_types</span><span class='assign token'>=</span><span class='true true kw'>true</span><span class='rparen token'>)</span>
    <span class='@column_types ivar id'>@column_types</span> <span class='assign token'>=</span> <span class='column_types identifier id'>column_types</span>
    <span class='@convert_types ivar id'>@convert_types</span> <span class='assign token'>=</span> <span class='convert_types identifier id'>convert_types</span>
    <span class='size_or_array identifier id'>size_or_array</span> <span class='opasgn op'>||=</span> <span class='columns identifier id'>columns</span><span class='dot token'>.</span><span class='size identifier id'>size</span> 
    
    <span class='comment val'># The '@column_map' is used to map column names to integer values so</span>
    <span class='comment val'># that users can reference row values by name or number.</span>

    <span class='@column_map ivar id'>@column_map</span>   <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
    <span class='@column_names ivar id'>@column_names</span> <span class='assign token'>=</span> <span class='columns identifier id'>columns</span>
    <span class='columns identifier id'>columns</span><span class='dot token'>.</span><span class='each_with_index identifier id'>each_with_index</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='c identifier id'>c</span><span class='comma token'>,</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='@column_map ivar id'>@column_map</span><span class='lbrack token'>[</span><span class='c identifier id'>c</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='i identifier id'>i</span> <span class='rbrace token'>}</span>

    <span class='case case kw'>case</span> <span class='size_or_array identifier id'>size_or_array</span>
    <span class='when when kw'>when</span> <span class='Integer constant id'>Integer</span>
        <span class='super super kw'>super</span><span class='lparen token'>(</span><span class='@arr ivar id'>@arr</span> <span class='assign token'>=</span> <span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='size_or_array identifier id'>size_or_array</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='when when kw'>when</span> <span class='Array constant id'>Array</span>
        <span class='super super kw'>super</span><span class='lparen token'>(</span><span class='@arr ivar id'>@arr</span> <span class='assign token'>=</span> <span class='size_or_array identifier id'>size_or_array</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span><span class='rparen token'>)</span>
        <span class='set_values identifier id'>set_values</span><span class='lparen token'>(</span><span class='size_or_array identifier id'>size_or_array</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
        <span class='raise identifier id'>raise</span> <span class='TypeError constant id'>TypeError</span><span class='comma token'>,</span> <span class='string val'>&quot;parameter must be either Integer or Array&quot;</span>
    <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-5B-5D-instance_method">#[]</span><span class='args'>(*args)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Row#[].
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-5B-5D-3D-instance_method">#[]=</span><span class='args'>(key, value_or_length, obj = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Assign a value to a Row object by element.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#by_field-instance_method">#by_field</span><span class='args'>(field_name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Value of the field named <tt>field_name</tt> or nil if not found.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#by_index-instance_method">#by_index</span><span class='args'>(index)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Retrieve a value by index (rather than name).
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#clone_with-instance_method">#clone_with</span><span class='args'>(new_values)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Create a new row with &#8216;new_values&#8217;, reusing the field name
hash.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#convert_types-instance_method">#convert_types</span><span class='args'>(arr)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
converts the types in the array to their specified representation from
column types provided at construction time.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#each_with_name-instance_method">#each_with_name</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Yields a column value by name (rather than index), along with the column
name itself.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#set_values-instance_method">#set_values</span><span class='args'>(new_values)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Replaces the contents of the internal array with <tt>new_values</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_a-instance_method">#to_a</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
returns the underlying array (duplicated).
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_h-instance_method">#to_h</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the Row object as a hash, created by #each_with_name.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>[]</h3>
</div><div id="-5B-5D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>[]</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Row#[]
</p>
<p>
row[int] row[array] row[regexp] row[arg, arg] row[arg, arg, &#8230;]
</p>
<p>
Sample: Row.new([&quot;first&quot;,&quot;last&quot;,&quot;age&quot;],
[&quot;Daniel&quot;, &quot;Berger&quot;, &quot;36&quot;])
</p>
<p>
Retrieves row elements. Exactly what it retrieves depends on the kind and
number of arguments used.
</p>
<p>
Zero arguments will raise an ArgumentError.
</p>
<p>
One argument will return a single result. This can be a String, Symbol,
Integer, Range or Regexp and the appropriate result will be returned.
Strings, Symbols and Regexps act like hash lookups, while Integers and
Ranges act like Array index lookups.
</p>
<p>
Two arguments will act like the second form of Array#[], i.e it takes two
integers, with the first number the starting point and the second number
the length, and returns an array of values.
</p>
<p>
If three or more arguments are provided, an array of results is returned.
The behavior for each argument is that of a single argument, i.e. Strings,
Symbols, and Regexps act like hash lookups, while Integers and Ranges act
like Array index lookups.
</p>
<p>
If no results are found, or an unhandled type is passed, then nil (or a nil
element) is returned.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/row.rb', line 157</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/row.rb#L157">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
    <span class='begin begin kw'>begin</span>
        <span class='case case kw'>case</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
        <span class='when when kw'>when</span> <span class='integer val'>0</span>
            <span class='err identifier id'>err</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;wrong # of arguments(#{args.size} for at least 1)&quot;</span>
            <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='err identifier id'>err</span>
        <span class='when when kw'>when</span> <span class='integer val'>1</span>
            <span class='case case kw'>case</span> <span class='args identifier id'>args</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
            <span class='when when kw'>when</span> <span class='Array constant id'>Array</span>
                <span class='args identifier id'>args</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='e identifier id'>e</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
            <span class='when when kw'>when</span> <span class='Regexp constant id'>Regexp</span>
                <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='@column_names ivar id'>@column_names</span><span class='dot token'>.</span><span class='grep identifier id'>grep</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='rbrack token'>]</span> 
            <span class='else else kw'>else</span>
                <span class='@arr ivar id'>@arr</span><span class='lbrack token'>[</span><span class='conv_param identifier id'>conv_param</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='rbrack token'>]</span>
            <span class='end end kw'>end</span>
            <span class='comment val'># We explicitly check for a length of 2 in order to properly</span>
            <span class='comment val'># simulate the second form of Array#[].</span>
        <span class='when when kw'>when</span> <span class='integer val'>2</span>
            <span class='@arr ivar id'>@arr</span><span class='lbrack token'>[</span><span class='conv_param identifier id'>conv_param</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='conv_param identifier id'>conv_param</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='rbrack token'>]</span>
        <span class='else else kw'>else</span>
            <span class='results identifier id'>results</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
            <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='arg identifier id'>arg</span><span class='bitor op'>|</span>
                <span class='case case kw'>case</span> <span class='arg identifier id'>arg</span>
                <span class='when when kw'>when</span> <span class='Integer constant id'>Integer</span>
                    <span class='results identifier id'>results</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='@arr ivar id'>@arr</span><span class='lbrack token'>[</span><span class='arg identifier id'>arg</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
                <span class='when when kw'>when</span> <span class='Regexp constant id'>Regexp</span>
                    <span class='results identifier id'>results</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='@column_names ivar id'>@column_names</span><span class='dot token'>.</span><span class='grep identifier id'>grep</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='rparen token'>)</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
                <span class='else else kw'>else</span>
                    <span class='results identifier id'>results</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='conv_param identifier id'>conv_param</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='rparen token'>)</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
                <span class='end end kw'>end</span>
            <span class='rbrace token'>}</span>
            <span class='results identifier id'>results</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span>
        <span class='end end kw'>end</span>
    <span class='rescue rescue kw'>rescue</span> <span class='TypeError constant id'>TypeError</span>
        <span class='nil nil kw'>nil</span>
    <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>[]=</h3>
</div><div id="-5B-5D-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>[]=</span><span class='args'>(key, value_or_length, obj = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Assign a value to a Row object by element. You can assign using a single
element reference, or by using a start and length similar to the second
form of Array#[]=.
</p>
<p>
row[0] = &quot;kirk&quot; row[:last] = &quot;haines&quot; row[0, 2] =
&quot;test&quot;
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/row.rb', line 203</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/row.rb#L203">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">203
204
205
206
207
208
209</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='aset op'>[]=</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value_or_length identifier id'>value_or_length</span><span class='comma token'>,</span> <span class='obj identifier id'>obj</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='obj identifier id'>obj</span>
        <span class='@arr ivar id'>@arr</span><span class='lbrack token'>[</span><span class='conv_param identifier id'>conv_param</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='conv_param identifier id'>conv_param</span><span class='lparen token'>(</span><span class='value_or_length identifier id'>value_or_length</span><span class='rparen token'>)</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='obj identifier id'>obj</span>
    <span class='else else kw'>else</span>
        <span class='@arr ivar id'>@arr</span><span class='lbrack token'>[</span><span class='conv_param identifier id'>conv_param</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='value_or_length identifier id'>value_or_length</span>
    <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>by_field</h3>
</div><div id="by_field-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>by_field</span><span class='args'>(field_name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Value of the field named <tt>field_name</tt> or nil if not found.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/row.rb', line 117</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/row.rb#L117">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">117
118
119
120
121
122
123</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='by_field identifier id'>by_field</span><span class='lparen token'>(</span><span class='field_name identifier id'>field_name</span><span class='rparen token'>)</span>
    <span class='begin begin kw'>begin</span>
        <span class='@arr ivar id'>@arr</span><span class='lbrack token'>[</span><span class='@column_map ivar id'>@column_map</span><span class='lbrack token'>[</span><span class='field_name identifier id'>field_name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span>
    <span class='rescue rescue kw'>rescue</span> <span class='TypeError constant id'>TypeError</span>
        <span class='nil nil kw'>nil</span>
    <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>by_index</h3>
</div><div id="by_index-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>by_index</span><span class='args'>(index)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Retrieve a value by index (rather than name).
</p>
<p>
Deprecated. Since Row delegates to Array, just use Row#at.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/row.rb', line 112</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/row.rb#L112">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">112
113
114</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='by_index identifier id'>by_index</span><span class='lparen token'>(</span><span class='index identifier id'>index</span><span class='rparen token'>)</span>
    <span class='@arr ivar id'>@arr</span><span class='lbrack token'>[</span><span class='index identifier id'>index</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>clone_with</h3>
</div><div id="clone_with-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>clone_with</span><span class='args'>(new_values)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Create a new row with &#8216;new_values&#8217;, reusing the field name
hash. Initial cloning is done deeply, via Marshal.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/row.rb', line 100</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/row.rb#L100">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">100
101
102
103
104
105</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='clone_with identifier id'>clone_with</span><span class='lparen token'>(</span><span class='new_values identifier id'>new_values</span><span class='rparen token'>)</span>
    <span class='obj identifier id'>obj</span> <span class='assign token'>=</span> <span class='clone identifier id'>clone</span>
    <span class='obj identifier id'>obj</span><span class='dot token'>.</span><span class='set_values identifier id'>set_values</span><span class='lparen token'>(</span><span class='new_values identifier id'>new_values</span><span class='rparen token'>)</span>

    <span class='return return kw'>return</span> <span class='obj identifier id'>obj</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>convert_types</h3>
</div><div id="convert_types-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>convert_types</span><span class='args'>(arr)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
converts the types in the array to their specified representation from
column types provided at construction time.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/row.rb', line 58</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/row.rb#L58">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">58
59
60
61
62
63
64
65
66
67
68
69
70</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='convert_types identifier id'>convert_types</span><span class='lparen token'>(</span><span class='arr identifier id'>arr</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='arr identifier id'>arr</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span> <span class='unless unless_mod kw'>unless</span> <span class='@convert_types ivar id'>@convert_types</span>

    <span class='if if kw'>if</span> <span class='arr identifier id'>arr</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='neq op'>!=</span> <span class='@column_types ivar id'>@column_types</span><span class='dot token'>.</span><span class='size identifier id'>size</span>
        <span class='raise identifier id'>raise</span> <span class='TypeError constant id'>TypeError</span><span class='comma token'>,</span> <span class='string val'>&quot;Type mapping is not consistent with result&quot;</span>
    <span class='end end kw'>end</span>
    <span class='new_arr identifier id'>new_arr</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='arr identifier id'>arr</span><span class='dot token'>.</span><span class='each_with_index identifier id'>each_with_index</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='item identifier id'>item</span><span class='comma token'>,</span> <span class='i identifier id'>i</span><span class='bitor op'>|</span>
        <span class='new_arr identifier id'>new_arr</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='lparen token'>(</span><span class='@column_types ivar id'>@column_types</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='DBI constant id'>DBI</span><span class='colon2 op'>::</span><span class='Type constant id'>Type</span><span class='colon2 op'>::</span><span class='Varchar constant id'>Varchar</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='item identifier id'>item</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='return return kw'>return</span> <span class='new_arr identifier id'>new_arr</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>each_with_name</h3>
</div><div id="each_with_name-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>each_with_name</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Yields a column value by name (rather than index), along with the column
name itself.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/row.rb', line 80</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/row.rb#L80">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">80
81
82
83
84</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='each_with_name identifier id'>each_with_name</span>
    <span class='@arr ivar id'>@arr</span><span class='dot token'>.</span><span class='each_with_index identifier id'>each_with_index</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='v identifier id'>v</span><span class='comma token'>,</span> <span class='i identifier id'>i</span><span class='bitor op'>|</span>
        <span class='yield yield kw'>yield</span> <span class='v identifier id'>v</span><span class='comma token'>,</span> <span class='@column_names ivar id'>@column_names</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span> 
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>set_values</h3>
</div><div id="set_values-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>set_values</span><span class='args'>(new_values)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Replaces the contents of the internal array with <tt>new_values</tt>.
elements are type converted at this time.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/row.rb', line 74</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/row.rb#L74">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">74
75
76</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='set_values identifier id'>set_values</span><span class='lparen token'>(</span><span class='new_values identifier id'>new_values</span><span class='rparen token'>)</span>
    <span class='@arr ivar id'>@arr</span><span class='dot token'>.</span><span class='replace identifier id'>replace</span><span class='lparen token'>(</span><span class='convert_types identifier id'>convert_types</span><span class='lparen token'>(</span><span class='new_values identifier id'>new_values</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_a</h3>
</div><div id="to_a-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_a</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
returns the underlying array (duplicated)
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/row.rb', line 87</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/row.rb#L87">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">87
88
89</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_a identifier id'>to_a</span>
    <span class='@arr ivar id'>@arr</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_h</h3>
</div><div id="to_h-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_h</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the Row object as a hash, created by #each_with_name.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/row.rb', line 92</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/row.rb#L92">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">92
93
94
95
96</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_h identifier id'>to_h</span>
    <span class='hash identifier id'>hash</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
    <span class='each_with_name identifier id'>each_with_name</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='v identifier id'>v</span><span class='comma token'>,</span> <span class='n identifier id'>n</span><span class='bitor op'>|</span> <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='n identifier id'>n</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span><span class='rbrace token'>}</span>
    <span class='hash identifier id'>hash</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>