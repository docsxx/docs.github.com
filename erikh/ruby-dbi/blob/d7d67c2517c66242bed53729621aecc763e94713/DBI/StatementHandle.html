<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>erikh's ruby-dbi - Class: DBI::StatementHandle - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/erikh/commits/ruby-dbi/master" rel="alternate" title="Recent Commits to ruby-dbi:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("erikh", "ruby-dbi", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("erikh", "ruby-dbi", "d7d67c2517c66242bed53729621aecc763e94713", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/erikh/ruby-dbi/tree/">Source</a></li>
            <li class=""><a href="http://github.com/erikh/ruby-dbi/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/erikh/ruby-dbi/network">Network</a></li>            
            <li class=""><a href="http://github.com/erikh/ruby-dbi/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/erikh/ruby-dbi">Wiki</a></li>
            <li class=""><a href="http://github.com/erikh/ruby-dbi/graphs">Graphs</a></li>                    
            <li class="active"><a href="/erikh/ruby-dbi">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/erikh">erikh</a> / <b><a href="http://github.com/erikh/ruby-dbi/tree">ruby-dbi</a></b>        
                <a id="namespaces_button" rel="erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class DBI_StatementHandle">
  <h1>Class: DBI::StatementHandle</h1>
  <div class="section inheritance">
  <ul>
  <li><a href="Handle.html" title="DBI::Handle">DBI::Handle</a></li><ul><li>DBI::StatementHandle</li>
  </ul></ul>
</div><div class="section mixins">
  <h2>Included Modules</h2>
  <p>Enumerable</p>
</div><div class="section docstring">
  <p>
StatementHandle is the interface the consumer sees after successfully
issuing a DatabaseHandle#prepare. They may also be exposed through other
methods that send statements to the database.
</p>
<p>
Almost all methods in this class will raise InterfaceError if the statement
is already finished.
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">dbh</td>
          <td class="readwrite">
            [<span id='dbh-instance_method'>R</span><span id='dbh=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>dbh</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">raise_error</td>
          <td class="readwrite">
            [<span id='raise_error-instance_method'>R</span><span id='raise_error=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>raise_error</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(handle, fetchable = false, prepared = true, convert_types = true, executed = false)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/statement.rb', line 17</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/statement.rb#L17">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='handle identifier id'>handle</span><span class='comma token'>,</span> <span class='fetchable identifier id'>fetchable</span><span class='assign token'>=</span><span class='false false kw'>false</span><span class='comma token'>,</span> <span class='prepared identifier id'>prepared</span><span class='assign token'>=</span><span class='true true kw'>true</span><span class='comma token'>,</span> <span class='convert_types identifier id'>convert_types</span><span class='assign token'>=</span><span class='true true kw'>true</span><span class='comma token'>,</span> <span class='executed identifier id'>executed</span><span class='assign token'>=</span><span class='false false kw'>false</span><span class='rparen token'>)</span>
    <span class='super super kw'>super</span><span class='lparen token'>(</span><span class='handle identifier id'>handle</span><span class='rparen token'>)</span>
    <span class='@fetchable ivar id'>@fetchable</span> <span class='assign token'>=</span> <span class='fetchable identifier id'>fetchable</span>
    <span class='@prepared ivar id'>@prepared</span>  <span class='assign token'>=</span> <span class='prepared identifier id'>prepared</span>     <span class='comment val'># only false if immediate execute was used</span>
    <span class='@executed ivar id'>@executed</span>  <span class='assign token'>=</span> <span class='executed identifier id'>executed</span>     <span class='comment val'># only true if the statement was already executed.</span>
    <span class='@cols ivar id'>@cols</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='@coltypes ivar id'>@coltypes</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='@convert_types ivar id'>@convert_types</span> <span class='assign token'>=</span> <span class='convert_types identifier id'>convert_types</span>

    <span class='if if kw'>if</span> <span class='@fetchable ivar id'>@fetchable</span>
        <span class='@row ivar id'>@row</span> <span class='assign token'>=</span> <span class='DBI constant id'>DBI</span><span class='colon2 op'>::</span><span class='Row constant id'>Row</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='column_names identifier id'>column_names</span><span class='comma token'>,</span> <span class='column_types identifier id'>column_types</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='@convert_types ivar id'>@convert_types</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
        <span class='@row ivar id'>@row</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-5B-5D-instance_method">#[]</span><span class='args'>(attr)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Get an attribute from the StatementHandle object.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-5B-5D-3D-instance_method">#[]=</span><span class='args'>(attr, val)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Set an attribute on the StatementHandle object.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#bind_coltype-instance_method">#bind_coltype</span><span class='args'>(pos, type)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Instruct successive calls to #fetch to cast the type returned into `type`,
for row position `pos`.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#bind_param-instance_method">#bind_param</span><span class='args'>(param, value, attribs = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Just like BaseStatement#bind_param, but will attempt to convert the type if
it&#8217;s supposed to, adhering to the DBD&#8217;s current ruleset.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#cancel-instance_method">#cancel</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Cancel the query, closing any open result cursors and truncating any result
sets.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#column_info-instance_method">#column_info</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
See BaseStatement#column_info.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#column_names-instance_method">#column_names</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Obtains the column names for this query as an array.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#column_types-instance_method">#column_types</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Obtain the type mappings for the columns in this query based on ColumnInfo
data on the query.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#each-instance_method">#each</span><span class='args'>(&amp;p)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Synonym for #fetch with a block.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#execute-instance_method">#execute</span><span class='args'>(*bindvars)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Execute the statement.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#fetch-instance_method">#fetch</span><span class='args'>(&amp;p)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
See BaseStatement#fetch.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#fetch_all-instance_method">#fetch_all</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Fetch the entire result set.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#fetch_array-instance_method">#fetch_array</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Similar to #fetch, but returns Array of Array instead of Array of DBI::Row
objects (and therefore does not perform type mapping).
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#fetch_hash-instance_method">#fetch_hash</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Map the columns and results into an Array of Hash resultset.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#fetch_many-instance_method">#fetch_many</span><span class='args'>(cnt)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Fetch `cnt` rows.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#fetch_scroll-instance_method">#fetch_scroll</span><span class='args'>(direction, offset = 1)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
See BaseStatement#fetch_scroll.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#fetchable-3F-instance_method">#fetchable?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns true if the statement is believed to return data upon #fetch.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#finish-instance_method">#finish</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Finish the statement, causing the database to release all assets related to
it (any result cursors, normally).
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#finished-3F-instance_method">#finished?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns true if the StatementHandle has had #finish called on it,
explicitly or otherwise.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#rows-instance_method">#rows</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Should return the row modified count as the result of statement execution.
</p>

        
      </td>
    </tr>
  
</table><div class="inherited">
  
  <div>
    <h2>Public Instance Methods Inherited from <a href="Handle.html" title="DBI::Handle">DBI::Handle</a></h2>
    <p><span class='name'><a href="Handle.html#func-instance_method" title="func">func</a></span>, <span class='name'><a href="Handle.html#trace-instance_method" title="trace">trace</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>[]</h3>
</div><div id="-5B-5D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>[]</span><span class='args'>(attr)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Get an attribute from the StatementHandle object.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/statement.rb', line 358</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/statement.rb#L358">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">358
359
360
361</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='aref op'>[]</span> <span class='lparen token'>(</span><span class='attr identifier id'>attr</span><span class='rparen token'>)</span>
    <span class='sanity_check identifier id'>sanity_check</span>
    <span class='@handle ivar id'>@handle</span><span class='lbrack token'>[</span><span class='attr identifier id'>attr</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>[]=</h3>
</div><div id="-5B-5D-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>[]=</span><span class='args'>(attr, val)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Set an attribute on the StatementHandle object.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/statement.rb', line 364</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/statement.rb#L364">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">364
365
366
367</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='aset op'>[]=</span> <span class='lparen token'>(</span><span class='attr identifier id'>attr</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='rparen token'>)</span>
    <span class='sanity_check identifier id'>sanity_check</span>
    <span class='@handle ivar id'>@handle</span><span class='lbrack token'>[</span><span class='attr identifier id'>attr</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='val identifier id'>val</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>bind_coltype</h3>
</div><div id="bind_coltype-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>bind_coltype</span><span class='args'>(pos, type)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Instruct successive calls to #fetch to cast the type returned into `type`,
for row position `pos`. Like all bind_* calls, `pos` indexes starting at 1.
</p>
<p>
`type` is an object with the DBI::Type calling convention.
</p>
<p>
This call must be called after #execute has successfully ran, otherwise it
will raise InterfaceError.
</p>
<p>
Example:
</p>
<pre class="code">
 <span class='comment val'># `foo` is an integer and this statement will return two rows.</span>
 <span class='sth identifier id'>sth</span> <span class='assign token'>=</span> <span class='dbh identifier id'>dbh</span><span class='dot token'>.</span><span class='prepare identifier id'>prepare</span><span class='lparen token'>(</span><span class='string val'>&quot;select foo from bar&quot;</span><span class='rparen token'>)</span>
 <span class='comment val'># would raise InterfaceError if called here</span>
 <span class='sth identifier id'>sth</span><span class='dot token'>.</span><span class='execute identifier id'>execute</span>

 <span class='sth identifier id'>sth</span><span class='dot token'>.</span><span class='bind_coltype identifier id'>bind_coltype</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='DBI constant id'>DBI</span><span class='colon2 op'>::</span><span class='Type constant id'>Type</span><span class='colon2 op'>::</span><span class='Varchar constant id'>Varchar</span><span class='rparen token'>)</span>
 <span class='comment val'># would normally use DBI::Type::Integer and return a Fixnum. We'll make it a string.</span>
 <span class='sth identifier id'>sth</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='string val'>&quot;1&quot;</span><span class='rbrack token'>]</span>

 <span class='comment val'># Here we coerce it to Float.</span>
 <span class='sth identifier id'>sth</span><span class='dot token'>.</span><span class='bind_coltype identifier id'>bind_coltype</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='DBI constant id'>DBI</span><span class='colon2 op'>::</span><span class='Type constant id'>Type</span><span class='colon2 op'>::</span><span class='Float constant id'>Float</span><span class='rparen token'>)</span>
 <span class='sth identifier id'>sth</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='float val'>1.0</span><span class='rbrack token'>]</span>
 <span class='sth identifier id'>sth</span><span class='dot token'>.</span><span class='finish identifier id'>finish</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/statement.rb', line 72</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/statement.rb#L72">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">72
73
74
75
76
77
78
79
80
81
82
83</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='bind_coltype identifier id'>bind_coltype</span><span class='lparen token'>(</span><span class='pos identifier id'>pos</span><span class='comma token'>,</span> <span class='type identifier id'>type</span><span class='rparen token'>)</span>
    <span class='sanity_check identifier id'>sanity_check</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:prepared</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:executed</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
    
    <span class='coltypes identifier id'>coltypes</span> <span class='assign token'>=</span> <span class='column_types identifier id'>column_types</span>

    <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='pos identifier id'>pos</span> <span class='minus op'>-</span> <span class='integer val'>1</span><span class='rparen token'>)</span> <span class='lt op'>&lt;</span> <span class='integer val'>1</span>
        <span class='raise identifier id'>raise</span> <span class='InterfaceError constant id'>InterfaceError</span><span class='comma token'>,</span> <span class='string val'>&quot;bind positions index starting at 1&quot;</span>
    <span class='end end kw'>end</span>

    <span class='coltypes identifier id'>coltypes</span><span class='lbrack token'>[</span><span class='pos identifier id'>pos</span><span class='minus op'>-</span><span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='type identifier id'>type</span>
    <span class='@row ivar id'>@row</span> <span class='assign token'>=</span> <span class='DBI constant id'>DBI</span><span class='colon2 op'>::</span><span class='Row constant id'>Row</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='column_names identifier id'>column_names</span><span class='comma token'>,</span> <span class='coltypes identifier id'>coltypes</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='@convert_types ivar id'>@convert_types</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>bind_param</h3>
</div><div id="bind_param-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>bind_param</span><span class='args'>(param, value, attribs = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Just like BaseStatement#bind_param, but will attempt to convert the type if
it&#8217;s supposed to, adhering to the DBD&#8217;s current ruleset.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/statement.rb', line 89</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/statement.rb#L89">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">89
90
91
92
93
94
95
96
97</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='bind_param identifier id'>bind_param</span><span class='lparen token'>(</span><span class='param identifier id'>param</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='comma token'>,</span> <span class='attribs identifier id'>attribs</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='sanity_check identifier id'>sanity_check</span><span class='lparen token'>(</span><span class='lbrace token'>{</span> <span class='symbol val'>:prepared</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span> <span class='rbrace token'>}</span><span class='rparen token'>)</span>

    <span class='if if kw'>if</span> <span class='@convert_types ivar id'>@convert_types</span>
        <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='DBI constant id'>DBI</span><span class='colon2 op'>::</span><span class='Utils constant id'>Utils</span><span class='colon2 op'>::</span><span class='ConvParam constant id'>ConvParam</span><span class='dot token'>.</span><span class='conv_param identifier id'>conv_param</span><span class='lparen token'>(</span><span class='dbh identifier id'>dbh</span><span class='dot token'>.</span><span class='driver_name identifier id'>driver_name</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>

    <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='bind_param identifier id'>bind_param</span><span class='lparen token'>(</span><span class='param identifier id'>param</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='comma token'>,</span> <span class='attribs identifier id'>attribs</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>cancel</h3>
</div><div id="cancel-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>cancel</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Cancel the query, closing any open result cursors and truncating any result
sets.
</p>
<p>
The difference between this and #finish is that cancelled statements may be
re-executed.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/statement.rb', line 146</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/statement.rb#L146">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">146
147
148
149
150</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='cancel identifier id'>cancel</span>
    <span class='sanity_check identifier id'>sanity_check</span>
    <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='cancel identifier id'>cancel</span> <span class='if if_mod kw'>if</span> <span class='@fetchable ivar id'>@fetchable</span>
    <span class='@fetchable ivar id'>@fetchable</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>column_info</h3>
</div><div id="column_info-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>column_info</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
See BaseStatement#column_info.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/statement.rb', line 183</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/statement.rb#L183">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">183
184
185
186</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='column_info identifier id'>column_info</span>
    <span class='sanity_check identifier id'>sanity_check</span>
    <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='column_info identifier id'>column_info</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='col identifier id'>col</span><span class='bitor op'>|</span> <span class='ColumnInfo constant id'>ColumnInfo</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='col identifier id'>col</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>column_names</h3>
</div><div id="column_names-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>column_names</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Obtains the column names for this query as an array.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/statement.rb', line 155</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/statement.rb#L155">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">155
156
157
158
159</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='column_names identifier id'>column_names</span>
    <span class='sanity_check identifier id'>sanity_check</span>
    <span class='return return kw'>return</span> <span class='@cols ivar id'>@cols</span> <span class='unless unless_mod kw'>unless</span> <span class='@cols ivar id'>@cols</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
    <span class='@cols ivar id'>@cols</span> <span class='assign token'>=</span> <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='column_info identifier id'>column_info</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='col identifier id'>col</span><span class='bitor op'>|</span> <span class='col identifier id'>col</span><span class='lbrack token'>[</span><span class='string val'>'name'</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>column_types</h3>
</div><div id="column_types-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>column_types</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Obtain the type mappings for the columns in this query based on ColumnInfo
data on the query.
</p>
<p>
The result will be a position-dependent array of objects that conform to
the DBI::Type calling syntax.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/statement.rb', line 168</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/statement.rb#L168">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">168
169
170
171
172
173
174
175
176
177
178</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='column_types identifier id'>column_types</span>
    <span class='sanity_check identifier id'>sanity_check</span>
    <span class='return return kw'>return</span> <span class='@coltypes ivar id'>@coltypes</span> <span class='unless unless_mod kw'>unless</span> <span class='@coltypes ivar id'>@coltypes</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
    <span class='@coltypes ivar id'>@coltypes</span> <span class='assign token'>=</span> <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='column_info identifier id'>column_info</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='col identifier id'>col</span><span class='bitor op'>|</span> 
        <span class='if if kw'>if</span> <span class='col identifier id'>col</span><span class='lbrack token'>[</span><span class='string val'>'dbi_type'</span><span class='rbrack token'>]</span>
            <span class='col identifier id'>col</span><span class='lbrack token'>[</span><span class='string val'>'dbi_type'</span><span class='rbrack token'>]</span>
        <span class='else else kw'>else</span>
            <span class='DBI constant id'>DBI</span><span class='colon2 op'>::</span><span class='TypeUtil constant id'>TypeUtil</span><span class='dot token'>.</span><span class='type_name_to_module identifier id'>type_name_to_module</span><span class='lparen token'>(</span><span class='col identifier id'>col</span><span class='lbrack token'>[</span><span class='string val'>'type_name'</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>each</h3>
</div><div id="each-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>each</span><span class='args'>(&amp;p)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Synonym for #fetch with a block.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="InterfaceError.html" title="InterfaceError">InterfaceError</a></tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/statement.rb', line 236</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/statement.rb#L236">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">236
237
238
239
240
241</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='each identifier id'>each</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='p identifier id'>p</span><span class='rparen token'>)</span>
    <span class='sanity_check identifier id'>sanity_check</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:fetchable</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:prepared</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:executed</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
    <span class='raise identifier id'>raise</span> <span class='InterfaceError constant id'>InterfaceError</span><span class='comma token'>,</span> <span class='string val'>&quot;No block given&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='block_given? fid id'>block_given?</span>

    <span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='p identifier id'>p</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>execute</h3>
</div><div id="execute-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>execute</span><span class='args'>(*bindvars)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Execute the statement.
</p>
<p>
This generally means that the statement will be sent to the database and
some form of result cursor will be obtained, but is ultimately
driver-dependent.
</p>
<p>
If arguments are supplied, these are fed to #bind_param.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/statement.rb', line 107</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/statement.rb#L107">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='execute identifier id'>execute</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='bindvars identifier id'>bindvars</span><span class='rparen token'>)</span>
    <span class='cancel identifier id'>cancel</span>     <span class='comment val'># cancel before </span>
    <span class='sanity_check identifier id'>sanity_check</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:prepared</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span> <span class='rbrace token'>}</span><span class='rparen token'>)</span>

    <span class='if if kw'>if</span> <span class='@convert_types ivar id'>@convert_types</span>
        <span class='bindvars identifier id'>bindvars</span> <span class='assign token'>=</span> <span class='DBI constant id'>DBI</span><span class='colon2 op'>::</span><span class='Utils constant id'>Utils</span><span class='colon2 op'>::</span><span class='ConvParam constant id'>ConvParam</span><span class='dot token'>.</span><span class='conv_param identifier id'>conv_param</span><span class='lparen token'>(</span><span class='dbh identifier id'>dbh</span><span class='dot token'>.</span><span class='driver_name identifier id'>driver_name</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='bindvars identifier id'>bindvars</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='bind_params identifier id'>bind_params</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='bindvars identifier id'>bindvars</span><span class='rparen token'>)</span>
    <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='execute identifier id'>execute</span>
    <span class='@fetchable ivar id'>@fetchable</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
    <span class='@executed ivar id'>@executed</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>

    <span class='comment val'># TODO:?</span>
    <span class='comment val'>#if @row.nil?</span>
    <span class='@row ivar id'>@row</span> <span class='assign token'>=</span> <span class='DBI constant id'>DBI</span><span class='colon2 op'>::</span><span class='Row constant id'>Row</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='column_names identifier id'>column_names</span><span class='comma token'>,</span> <span class='column_types identifier id'>column_types</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='@convert_types ivar id'>@convert_types</span><span class='rparen token'>)</span>
    <span class='comment val'>#end</span>
    <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>fetch</h3>
</div><div id="fetch-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>fetch</span><span class='args'>(&amp;p)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
See BaseStatement#fetch.
</p>
<p>
fetch can also take a block which will be applied to each row in a similar
fashion to Enumerable#collect. See #each.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/statement.rb', line 207</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/statement.rb#L207">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='p identifier id'>p</span><span class='rparen token'>)</span>
    <span class='sanity_check identifier id'>sanity_check</span><span class='lparen token'>(</span><span class='lbrace token'>{</span> <span class='symbol val'>:fetchable</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:prepared</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:executed</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span> <span class='rbrace token'>}</span><span class='rparen token'>)</span>

    <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span> 
        <span class='while while kw'>while</span> <span class='lparen token'>(</span><span class='res identifier id'>res</span> <span class='assign token'>=</span> <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span><span class='rparen token'>)</span> <span class='neq op'>!=</span> <span class='nil nil kw'>nil</span>
            <span class='@row ivar id'>@row</span> <span class='assign token'>=</span> <span class='@row ivar id'>@row</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
            <span class='@row ivar id'>@row</span><span class='dot token'>.</span><span class='set_values identifier id'>set_values</span><span class='lparen token'>(</span><span class='res identifier id'>res</span><span class='rparen token'>)</span>
            <span class='yield yield kw'>yield</span> <span class='@row ivar id'>@row</span>
        <span class='end end kw'>end</span>
        <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='cancel identifier id'>cancel</span>
        <span class='@fetchable ivar id'>@fetchable</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
        <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span>
    <span class='else else kw'>else</span>
        <span class='res identifier id'>res</span> <span class='assign token'>=</span> <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span>
        <span class='if if kw'>if</span> <span class='res identifier id'>res</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
            <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='cancel identifier id'>cancel</span>
            <span class='@fetchable ivar id'>@fetchable</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
        <span class='else else kw'>else</span>
            <span class='@row ivar id'>@row</span> <span class='assign token'>=</span> <span class='@row ivar id'>@row</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
            <span class='@row ivar id'>@row</span><span class='dot token'>.</span><span class='set_values identifier id'>set_values</span><span class='lparen token'>(</span><span class='res identifier id'>res</span><span class='rparen token'>)</span>
            <span class='res identifier id'>res</span> <span class='assign token'>=</span> <span class='@row ivar id'>@row</span>
        <span class='end end kw'>end</span>
        <span class='return return kw'>return</span> <span class='res identifier id'>res</span>
    <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>fetch_all</h3>
</div><div id="fetch_all-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>fetch_all</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Fetch the entire result set. Result is array of DBI::Row.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/statement.rb', line 321</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/statement.rb#L321">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='fetch_all identifier id'>fetch_all</span>
        <span class='sanity_check identifier id'>sanity_check</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:fetchable</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:prepared</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:executed</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>

        <span class='cols identifier id'>cols</span> <span class='assign token'>=</span> <span class='column_names identifier id'>column_names</span>
        <span class='fetched_rows identifier id'>fetched_rows</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>

        <span class='begin begin kw'>begin</span>
            <span class='while while kw'>while</span> <span class='row identifier id'>row</span> <span class='assign token'>=</span> <span class='fetch identifier id'>fetch</span> <span class='do do kw'>do</span>
                <span class='fetched_rows identifier id'>fetched_rows</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='row identifier id'>row</span><span class='rparen token'>)</span>
            <span class='end end kw'>end</span>
        <span class='rescue rescue kw'>rescue</span> <span class='Exception constant id'>Exception</span>
        <span class='end end kw'>end</span>

        <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='cancel identifier id'>cancel</span>
        <span class='@fetchable ivar id'>@fetchable</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>

        <span class='return return kw'>return</span> <span class='fetched_rows identifier id'>fetched_rows</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>
    <span class='comment val'># See BaseStatement#fetch_scroll.</span>
    <span class='comment val'>#</span>
    <span class='def def kw'>def</span> <span class='fetch_scroll identifier id'>fetch_scroll</span><span class='lparen token'>(</span><span class='direction identifier id'>direction</span><span class='comma token'>,</span> <span class='offset identifier id'>offset</span><span class='assign token'>=</span><span class='integer val'>1</span><span class='rparen token'>)</span>
        <span class='sanity_check identifier id'>sanity_check</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:fetchable</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:prepared</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:executed</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>

        <span class='row identifier id'>row</span> <span class='assign token'>=</span> <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='fetch_scroll identifier id'>fetch_scroll</span><span class='lparen token'>(</span><span class='direction identifier id'>direction</span><span class='comma token'>,</span> <span class='offset identifier id'>offset</span><span class='rparen token'>)</span>
        <span class='if if kw'>if</span> <span class='row identifier id'>row</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
            <span class='comment val'>#@handle.cancel</span>
            <span class='comment val'>#@fetchable = false</span>
            <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span>
        <span class='else else kw'>else</span>
            <span class='@row ivar id'>@row</span><span class='dot token'>.</span><span class='set_values identifier id'>set_values</span><span class='lparen token'>(</span><span class='row identifier id'>row</span><span class='rparen token'>)</span>
            <span class='return return kw'>return</span> <span class='@row ivar id'>@row</span>
        <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Get an attribute from the StatementHandle object.</span>
    <span class='def def kw'>def</span> <span class='aref op'>[]</span> <span class='lparen token'>(</span><span class='attr identifier id'>attr</span><span class='rparen token'>)</span>
        <span class='sanity_check identifier id'>sanity_check</span>
        <span class='@handle ivar id'>@handle</span><span class='lbrack token'>[</span><span class='attr identifier id'>attr</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Set an attribute on the StatementHandle object.</span>
    <span class='def def kw'>def</span> <span class='aset op'>[]=</span> <span class='lparen token'>(</span><span class='attr identifier id'>attr</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='rparen token'>)</span>
        <span class='sanity_check identifier id'>sanity_check</span>
        <span class='@handle ivar id'>@handle</span><span class='lbrack token'>[</span><span class='attr identifier id'>attr</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='val identifier id'>val</span>
    <span class='end end kw'>end</span>
    
    <span class='protected identifier id'>protected</span>

    <span class='def def kw'>def</span> <span class='sanity_check identifier id'>sanity_check</span><span class='lparen token'>(</span><span class='params identifier id'>params</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
        <span class='raise identifier id'>raise</span> <span class='InterfaceError constant id'>InterfaceError</span><span class='comma token'>,</span> <span class='string val'>&quot;Statement was already closed!&quot;</span> <span class='if if_mod kw'>if</span> <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>

        <span class='params identifier id'>params</span><span class='dot token'>.</span><span class='each_key identifier id'>each_key</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='bitor op'>|</span>
            <span class='case case kw'>case</span> <span class='key identifier id'>key</span>
            <span class='when when kw'>when</span> <span class='symbol val'>:fetchable</span>
                <span class='check_fetchable identifier id'>check_fetchable</span>
            <span class='when when kw'>when</span> <span class='symbol val'>:executed</span>
                <span class='check_executed identifier id'>check_executed</span>
            <span class='when when kw'>when</span> <span class='symbol val'>:prepared</span>
                <span class='check_prepared identifier id'>check_prepared</span>
            <span class='when when kw'>when</span> <span class='symbol val'>:statement</span>
                <span class='check_statement identifier id'>check_statement</span><span class='lparen token'>(</span><span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:statement</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
            <span class='end end kw'>end</span>
        <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='check_prepared identifier id'>check_prepared</span>
        <span class='raise identifier id'>raise</span> <span class='InterfaceError constant id'>InterfaceError</span><span class='comma token'>,</span> <span class='string val'>&quot;Statement wasn't prepared before.&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='@prepared ivar id'>@prepared</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='check_fetchable identifier id'>check_fetchable</span>
        <span class='if if kw'>if</span> <span class='notop op'>!</span><span class='@fetchable ivar id'>@fetchable</span> <span class='and and kw'>and</span> <span class='@raise_error ivar id'>@raise_error</span>
            <span class='raise identifier id'>raise</span> <span class='InterfaceError constant id'>InterfaceError</span><span class='comma token'>,</span> <span class='string val'>&quot;Statement does not have any data for fetching.&quot;</span> 
        <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='check_executed identifier id'>check_executed</span>
        <span class='raise identifier id'>raise</span> <span class='InterfaceError constant id'>InterfaceError</span><span class='comma token'>,</span> <span class='string val'>&quot;Statement hasn't been executed yet.&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='@executed ivar id'>@executed</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># basic sanity checks for statements</span>
    <span class='def def kw'>def</span> <span class='check_statement identifier id'>check_statement</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='rparen token'>)</span>
        <span class='raise identifier id'>raise</span> <span class='InterfaceError constant id'>InterfaceError</span><span class='comma token'>,</span> <span class='string val'>&quot;Statement is empty, or contains nothing but whitespace&quot;</span> <span class='if if_mod kw'>if</span> <span class='stmt identifier id'>stmt</span> <span class='nmatch op'>!~</span> <span class='regexp val'>/\S/</span>
    <span class='end end kw'>end</span>

<span class='end end kw'>end</span> <span class='comment val'># class StatementHandle</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>fetch_array</h3>
</div><div id="fetch_array-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>fetch_array</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Similar to #fetch, but returns Array of Array instead of Array of DBI::Row
objects (and therefore does not perform type mapping). This is basically a
way to get the raw data from the DBD.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/statement.rb', line 248</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/statement.rb#L248">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='fetch_array identifier id'>fetch_array</span>
    <span class='sanity_check identifier id'>sanity_check</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:fetchable</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:prepared</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:executed</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>

    <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span> 
        <span class='while while kw'>while</span> <span class='lparen token'>(</span><span class='res identifier id'>res</span> <span class='assign token'>=</span> <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span><span class='rparen token'>)</span> <span class='neq op'>!=</span> <span class='nil nil kw'>nil</span>
            <span class='yield yield kw'>yield</span> <span class='res identifier id'>res</span>
        <span class='end end kw'>end</span>
        <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='cancel identifier id'>cancel</span>
        <span class='@fetchable ivar id'>@fetchable</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
        <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span>
    <span class='else else kw'>else</span>
        <span class='res identifier id'>res</span> <span class='assign token'>=</span> <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span>
        <span class='if if kw'>if</span> <span class='res identifier id'>res</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
            <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='cancel identifier id'>cancel</span>
            <span class='@fetchable ivar id'>@fetchable</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
        <span class='end end kw'>end</span>
        <span class='return return kw'>return</span> <span class='res identifier id'>res</span>
    <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>fetch_hash</h3>
</div><div id="fetch_hash-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>fetch_hash</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Map the columns and results into an Array of Hash resultset.
</p>
<p>
No type conversion is performed here. Expect this to change in 0.6.0.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/statement.rb', line 273</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/statement.rb#L273">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='fetch_hash identifier id'>fetch_hash</span>
    <span class='sanity_check identifier id'>sanity_check</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:fetchable</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:prepared</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:executed</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>

    <span class='cols identifier id'>cols</span> <span class='assign token'>=</span> <span class='column_names identifier id'>column_names</span>

    <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span> 
        <span class='while while kw'>while</span> <span class='lparen token'>(</span><span class='row identifier id'>row</span> <span class='assign token'>=</span> <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span><span class='rparen token'>)</span> <span class='neq op'>!=</span> <span class='nil nil kw'>nil</span>
            <span class='hash identifier id'>hash</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
            <span class='row identifier id'>row</span><span class='dot token'>.</span><span class='each_with_index identifier id'>each_with_index</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='v identifier id'>v</span><span class='comma token'>,</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='cols identifier id'>cols</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span><span class='rbrace token'>}</span> 
            <span class='yield yield kw'>yield</span> <span class='hash identifier id'>hash</span>
        <span class='end end kw'>end</span>
        <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='cancel identifier id'>cancel</span>
        <span class='@fetchable ivar id'>@fetchable</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
        <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span>
    <span class='else else kw'>else</span>
        <span class='row identifier id'>row</span> <span class='assign token'>=</span> <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span>
        <span class='if if kw'>if</span> <span class='row identifier id'>row</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
            <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='cancel identifier id'>cancel</span>
            <span class='@fetchable ivar id'>@fetchable</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
            <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span>
        <span class='else else kw'>else</span>
            <span class='hash identifier id'>hash</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
            <span class='row identifier id'>row</span><span class='dot token'>.</span><span class='each_with_index identifier id'>each_with_index</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='v identifier id'>v</span><span class='comma token'>,</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='cols identifier id'>cols</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span><span class='rbrace token'>}</span> 
            <span class='return return kw'>return</span> <span class='hash identifier id'>hash</span>
        <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>fetch_many</h3>
</div><div id="fetch_many-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>fetch_many</span><span class='args'>(cnt)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Fetch `cnt` rows. Result is array of DBI::Row
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/statement.rb', line 304</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/statement.rb#L304">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">304
305
306
307
308
309
310
311
312
313
314
315
316</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='fetch_many identifier id'>fetch_many</span><span class='lparen token'>(</span><span class='cnt identifier id'>cnt</span><span class='rparen token'>)</span>
    <span class='sanity_check identifier id'>sanity_check</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:fetchable</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:prepared</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:executed</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>

    <span class='cols identifier id'>cols</span> <span class='assign token'>=</span> <span class='column_names identifier id'>column_names</span>
    <span class='rows identifier id'>rows</span> <span class='assign token'>=</span> <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='fetch_many identifier id'>fetch_many</span><span class='lparen token'>(</span><span class='cnt identifier id'>cnt</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='rows identifier id'>rows</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span> <span class='or or kw'>or</span> <span class='rows identifier id'>rows</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
        <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='cancel identifier id'>cancel</span>
        <span class='@fetchable ivar id'>@fetchable</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
        <span class='return return kw'>return</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='else else kw'>else</span>
        <span class='return return kw'>return</span> <span class='rows identifier id'>rows</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='r identifier id'>r</span><span class='bitor op'>|</span> <span class='tmp identifier id'>tmp</span> <span class='assign token'>=</span> <span class='@row ivar id'>@row</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span><span class='semicolon token'>;</span> <span class='tmp identifier id'>tmp</span><span class='dot token'>.</span><span class='set_values identifier id'>set_values</span><span class='lparen token'>(</span><span class='r identifier id'>r</span><span class='rparen token'>)</span><span class='semicolon token'>;</span> <span class='tmp identifier id'>tmp</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>fetch_scroll</h3>
</div><div id="fetch_scroll-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>fetch_scroll</span><span class='args'>(direction, offset = 1)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
See BaseStatement#fetch_scroll.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/statement.rb', line 343</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/statement.rb#L343">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">343
344
345
346
347
348
349
350
351
352
353
354
355</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='fetch_scroll identifier id'>fetch_scroll</span><span class='lparen token'>(</span><span class='direction identifier id'>direction</span><span class='comma token'>,</span> <span class='offset identifier id'>offset</span><span class='assign token'>=</span><span class='integer val'>1</span><span class='rparen token'>)</span>
    <span class='sanity_check identifier id'>sanity_check</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:fetchable</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:prepared</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:executed</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>

    <span class='row identifier id'>row</span> <span class='assign token'>=</span> <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='fetch_scroll identifier id'>fetch_scroll</span><span class='lparen token'>(</span><span class='direction identifier id'>direction</span><span class='comma token'>,</span> <span class='offset identifier id'>offset</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='row identifier id'>row</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
        <span class='comment val'>#@handle.cancel</span>
        <span class='comment val'>#@fetchable = false</span>
        <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span>
    <span class='else else kw'>else</span>
        <span class='@row ivar id'>@row</span><span class='dot token'>.</span><span class='set_values identifier id'>set_values</span><span class='lparen token'>(</span><span class='row identifier id'>row</span><span class='rparen token'>)</span>
        <span class='return return kw'>return</span> <span class='@row ivar id'>@row</span>
    <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>fetchable?</h3>
</div><div id="fetchable-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>fetchable?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns true if the statement is believed to return data upon #fetch.
</p>
<p>
The current reliability of this (and the concept in general) is suspect.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/statement.rb', line 43</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/statement.rb#L43">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">43
44
45</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='fetchable? fid id'>fetchable?</span>
    <span class='@fetchable ivar id'>@fetchable</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>finish</h3>
</div><div id="finish-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>finish</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Finish the statement, causing the database to release all assets related to
it (any result cursors, normally).
</p>
<p>
StatementHandles that have already been finished will normally be
inoperable and unavailable for further use.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/statement.rb', line 134</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/statement.rb#L134">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">134
135
136
137
138</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='finish identifier id'>finish</span>
    <span class='sanity_check identifier id'>sanity_check</span>
    <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='finish identifier id'>finish</span>
    <span class='@handle ivar id'>@handle</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>finished?</h3>
</div><div id="finished-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>finished?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns true if the StatementHandle has had #finish called on it,
explicitly or otherwise.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/statement.rb', line 35</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/statement.rb#L35">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">35
36
37</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='finished? fid id'>finished?</span>
    <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>rows</h3>
</div><div id="rows-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>rows</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Should return the row modified count as the result of statement execution.
</p>
<p>
However, some low-level drivers do not supply this information or supply
misleading information (&gt; 0 rows for read-only select statements, f.e.)
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/statement.rb', line 195</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/statement.rb#L195">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">195
196
197
198</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='rows identifier id'>rows</span>
    <span class='sanity_check identifier id'>sanity_check</span>
    <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='rows identifier id'>rows</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>