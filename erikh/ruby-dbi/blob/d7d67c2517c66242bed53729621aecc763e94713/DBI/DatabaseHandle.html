<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>erikh's ruby-dbi - Class: DBI::DatabaseHandle - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/erikh/commits/ruby-dbi/master" rel="alternate" title="Recent Commits to ruby-dbi:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("erikh", "ruby-dbi", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("erikh", "ruby-dbi", "d7d67c2517c66242bed53729621aecc763e94713", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/erikh/ruby-dbi/tree/">Source</a></li>
            <li class=""><a href="http://github.com/erikh/ruby-dbi/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/erikh/ruby-dbi/network">Network</a></li>            
            <li class=""><a href="http://github.com/erikh/ruby-dbi/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/erikh/ruby-dbi">Wiki</a></li>
            <li class=""><a href="http://github.com/erikh/ruby-dbi/graphs">Graphs</a></li>                    
            <li class="active"><a href="/erikh/ruby-dbi">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/erikh">erikh</a> / <b><a href="http://github.com/erikh/ruby-dbi/tree">ruby-dbi</a></b>        
                <a id="namespaces_button" rel="erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class DBI_DatabaseHandle">
  <h1>Class: DBI::DatabaseHandle</h1>
  <div class="section inheritance">
  <ul>
  <li><a href="Handle.html" title="DBI::Handle">DBI::Handle</a></li><ul><li>DBI::DatabaseHandle</li>
  </ul></ul>
</div><div class="section docstring">
  <p>
DatabaseHandle is the interface the consumer sees after connecting to the
database via DBI.connect.
</p>
<p>
It is strongly discouraged that DBDs inherit from this class directly;
please inherit from the DBI::BaseDatabase instead.
</p>
<p>
Note: almost all methods in this class will raise InterfaceError if the
database is not connected.
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">last_statement</td>
          <td class="readwrite">
            [<span id='last_statement-instance_method'>R</span><span id='last_statement=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>last_statement</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">raise_error</td>
          <td class="readwrite">
            [<span id='raise_error-instance_method'>R</span><span id='raise_error=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>raise_error</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <p class="inherited_msg">
    This class inherits a constructor from <a href="Handle.html#initialize-instance_method" title="DBI::Handle">DBI::Handle</a>.
  </p>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-5B-5D-instance_method">#[]</span><span class='args'>(attr)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Get an attribute from the DatabaseHandle.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-5B-5D-3D-instance_method">#[]=</span><span class='args'>(attr, val)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Set an attribute on the DatabaseHandle.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#columns-instance_method">#columns</span><span class='args'>(table)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the columns of the provided table as an array of ColumnInfo
objects.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#commit-instance_method">#commit</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Force a commit to the database immediately.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#connected-3F-instance_method">#connected?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Boolean if we are still connected to the database.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#database_name-instance_method">#database_name</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Return the name of the database we are connected to.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#disconnect-instance_method">#disconnect</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Disconnect from the database.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#do-instance_method">#do</span><span class='args'>(stmt, *bindvars)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Perform a statement.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#driver_name-instance_method">#driver_name</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
This is the driver name as supplied by the DBD&#8217;s driver_name method.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#driver_name-3D-instance_method">#driver_name=</span><span class='args'>(name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Assign the driver name.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#execute-instance_method">#execute</span><span class='args'>(stmt, *bindvars)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Prepare and execute a statement.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#ping-instance_method">#ping</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Attempt to establish if the database is still connected.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#prepare-instance_method">#prepare</span><span class='args'>(stmt)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Prepare a StatementHandle and return it.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#quote-instance_method">#quote</span><span class='args'>(value)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Attempt to escape the value, rendering it suitable for inclusion in a SQL
statement.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#rollback-instance_method">#rollback</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Force a rollback to the database immediately.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#select_all-instance_method">#select_all</span><span class='args'>(stmt, *bindvars, &amp;p)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Executes a statement and returns all rows from the result.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#select_one-instance_method">#select_one</span><span class='args'>(stmt, *bindvars)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Executes a statement and returns the first row from the result.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#tables-instance_method">#tables</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Return the tables available to this DatabaseHandle as an array of strings.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#transaction-instance_method">#transaction</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Commits, runs the block provided, yielding the DatabaseHandle as it&#8217;s
argument.
</p>

        
      </td>
    </tr>
  
</table><div class="inherited">
  
  <div>
    <h2>Public Instance Methods Inherited from <a href="Handle.html" title="DBI::Handle">DBI::Handle</a></h2>
    <p><span class='name'><a href="Handle.html#func-instance_method" title="func">func</a></span>, <span class='name'><a href="Handle.html#trace-instance_method" title="trace">trace</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>[]</h3>
</div><div id="-5B-5D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>[]</span><span class='args'>(attr)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Get an attribute from the DatabaseHandle.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/database.rb', line 218</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/database.rb#L218">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">218
219
220
221</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='aref op'>[]</span> <span class='lparen token'>(</span><span class='attr identifier id'>attr</span><span class='rparen token'>)</span>
    <span class='sanity_check identifier id'>sanity_check</span>
    <span class='@handle ivar id'>@handle</span><span class='lbrack token'>[</span><span class='attr identifier id'>attr</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>[]=</h3>
</div><div id="-5B-5D-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>[]=</span><span class='args'>(attr, val)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Set an attribute on the DatabaseHandle.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/database.rb', line 224</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/database.rb#L224">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">224
225
226
227</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='aset op'>[]=</span> <span class='lparen token'>(</span><span class='attr identifier id'>attr</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='rparen token'>)</span>
    <span class='sanity_check identifier id'>sanity_check</span>
    <span class='@handle ivar id'>@handle</span><span class='lbrack token'>[</span><span class='attr identifier id'>attr</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='val identifier id'>val</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>columns</h3>
</div><div id="columns-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>columns</span><span class='args'>(table)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the columns of the provided table as an array of ColumnInfo
objects. See BaseDatabase#columns for the minimum parameters that this
method must provide.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/database.rb', line 159</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/database.rb#L159">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">159
160
161
162</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='columns identifier id'>columns</span><span class='lparen token'>(</span> <span class='table identifier id'>table</span> <span class='rparen token'>)</span>
    <span class='sanity_check identifier id'>sanity_check</span>
    <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='columns identifier id'>columns</span><span class='lparen token'>(</span> <span class='table identifier id'>table</span> <span class='rparen token'>)</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='col identifier id'>col</span><span class='bitor op'>|</span> <span class='ColumnInfo constant id'>ColumnInfo</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='col identifier id'>col</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>commit</h3>
</div><div id="commit-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>commit</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Force a commit to the database immediately.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/database.rb', line 185</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/database.rb#L185">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">185
186
187
188</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='commit identifier id'>commit</span>
    <span class='sanity_check identifier id'>sanity_check</span>
    <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='commit identifier id'>commit</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>connected?</h3>
</div><div id="connected-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>connected?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Boolean if we are still connected to the database. See #ping.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/database.rb', line 32</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/database.rb#L32">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">32
33
34</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='connected? fid id'>connected?</span>
    <span class='not not kw'>not</span> <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>database_name</h3>
</div><div id="database_name-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>database_name</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Return the name of the database we are connected to.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/database.rb', line 141</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/database.rb#L141">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">141
142
143
144</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='database_name identifier id'>database_name</span>
    <span class='sanity_check identifier id'>sanity_check</span>
    <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='database_name identifier id'>database_name</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>disconnect</h3>
</div><div id="disconnect-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>disconnect</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Disconnect from the database. Will raise InterfaceError if this was already
done prior.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/database.rb', line 40</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/database.rb#L40">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">40
41
42
43
44</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='disconnect identifier id'>disconnect</span>
    <span class='sanity_check identifier id'>sanity_check</span>
    <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='disconnect identifier id'>disconnect</span>
    <span class='@handle ivar id'>@handle</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>do</h3>
</div><div id="do-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>do</span><span class='args'>(stmt, *bindvars)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Perform a statement. This goes straight to the DBD&#8217;s implementation
of #do (and consequently, BaseDatabase#do), and does not work like #execute
and #prepare. Should return a row modified count.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/database.rb', line 102</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/database.rb#L102">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='do do kw'>do</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='bindvars identifier id'>bindvars</span><span class='rparen token'>)</span>
        <span class='sanity_check identifier id'>sanity_check</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='rparen token'>)</span>

        <span class='@last_statement ivar id'>@last_statement</span> <span class='assign token'>=</span> <span class='stmt identifier id'>stmt</span>
        <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='do identifier id'>do</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='DBI constant id'>DBI</span><span class='colon2 op'>::</span><span class='Utils constant id'>Utils</span><span class='colon2 op'>::</span><span class='ConvParam constant id'>ConvParam</span><span class='dot token'>.</span><span class='conv_param identifier id'>conv_param</span><span class='lparen token'>(</span><span class='driver_name identifier id'>driver_name</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='bindvars identifier id'>bindvars</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Executes a statement and returns the first row from the result.</span>
    <span class='comment val'>#</span>
    <span class='def def kw'>def</span> <span class='select_one identifier id'>select_one</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='bindvars identifier id'>bindvars</span><span class='rparen token'>)</span>
        <span class='sanity_check identifier id'>sanity_check</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='rparen token'>)</span>
        <span class='row identifier id'>row</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
        <span class='execute identifier id'>execute</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='bindvars identifier id'>bindvars</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='sth identifier id'>sth</span><span class='bitor op'>|</span>
            <span class='row identifier id'>row</span> <span class='assign token'>=</span> <span class='sth identifier id'>sth</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span> 
        <span class='end end kw'>end</span>
        <span class='row identifier id'>row</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Executes a statement and returns all rows from the result. If a block</span>
    <span class='comment val'># is given, it is executed for each row.</span>
    <span class='comment val'># </span>
    <span class='def def kw'>def</span> <span class='select_all identifier id'>select_all</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='bindvars identifier id'>bindvars</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='p identifier id'>p</span><span class='rparen token'>)</span>
        <span class='sanity_check identifier id'>sanity_check</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='rparen token'>)</span>
        <span class='rows identifier id'>rows</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
        <span class='execute identifier id'>execute</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='bindvars identifier id'>bindvars</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='sth identifier id'>sth</span><span class='bitor op'>|</span>
            <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
                <span class='sth identifier id'>sth</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='p identifier id'>p</span><span class='rparen token'>)</span>
            <span class='else else kw'>else</span>
                <span class='rows identifier id'>rows</span> <span class='assign token'>=</span> <span class='sth identifier id'>sth</span><span class='dot token'>.</span><span class='fetch_all identifier id'>fetch_all</span> 
            <span class='end end kw'>end</span>
        <span class='end end kw'>end</span>
        <span class='return return kw'>return</span> <span class='rows identifier id'>rows</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Return the name of the database we are connected to.</span>
    <span class='comment val'>#</span>
    <span class='def def kw'>def</span> <span class='database_name identifier id'>database_name</span>
        <span class='sanity_check identifier id'>sanity_check</span>
        <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='database_name identifier id'>database_name</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Return the tables available to this DatabaseHandle as an array of strings.</span>
    <span class='comment val'>#</span>
    <span class='def def kw'>def</span> <span class='tables identifier id'>tables</span>
        <span class='sanity_check identifier id'>sanity_check</span>
        <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='tables identifier id'>tables</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Returns the columns of the provided table as an array of ColumnInfo</span>
    <span class='comment val'># objects. See BaseDatabase#columns for the minimum parameters that</span>
    <span class='comment val'># this method must provide.</span>
    <span class='comment val'>#</span>
    <span class='def def kw'>def</span> <span class='columns identifier id'>columns</span><span class='lparen token'>(</span> <span class='table identifier id'>table</span> <span class='rparen token'>)</span>
        <span class='sanity_check identifier id'>sanity_check</span>
        <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='columns identifier id'>columns</span><span class='lparen token'>(</span> <span class='table identifier id'>table</span> <span class='rparen token'>)</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='col identifier id'>col</span><span class='bitor op'>|</span> <span class='ColumnInfo constant id'>ColumnInfo</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='col identifier id'>col</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Attempt to establish if the database is still connected. While</span>
    <span class='comment val'># #connected? returns the state the DatabaseHandle thinks is true, this</span>
    <span class='comment val'># is an active operation that will contact the database.</span>
    <span class='comment val'>#</span>
    <span class='def def kw'>def</span> <span class='ping identifier id'>ping</span>
        <span class='sanity_check identifier id'>sanity_check</span>
        <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='ping identifier id'>ping</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Attempt to escape the value, rendering it suitable for inclusion in a SQL statement.</span>
    <span class='comment val'>#</span>
    <span class='def def kw'>def</span> <span class='quote identifier id'>quote</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
        <span class='sanity_check identifier id'>sanity_check</span>
        <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='quote identifier id'>quote</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Force a commit to the database immediately.</span>
    <span class='comment val'>#</span>
    <span class='def def kw'>def</span> <span class='commit identifier id'>commit</span>
        <span class='sanity_check identifier id'>sanity_check</span>
        <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='commit identifier id'>commit</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Force a rollback to the database immediately.</span>
    <span class='comment val'>#</span>
    <span class='def def kw'>def</span> <span class='rollback identifier id'>rollback</span>
        <span class='sanity_check identifier id'>sanity_check</span>
        <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='rollback identifier id'>rollback</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Commits, runs the block provided, yielding the DatabaseHandle as it's</span>
    <span class='comment val'># argument. If an exception is raised through the block, rollback occurs.</span>
    <span class='comment val'># Otherwise, commit occurs.</span>
    <span class='comment val'>#</span>
    <span class='def def kw'>def</span> <span class='transaction identifier id'>transaction</span>
        <span class='sanity_check identifier id'>sanity_check</span>
        <span class='raise identifier id'>raise</span> <span class='InterfaceError constant id'>InterfaceError</span><span class='comma token'>,</span> <span class='string val'>&quot;No block given&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='block_given? fid id'>block_given?</span>

        <span class='commit identifier id'>commit</span>
        <span class='begin begin kw'>begin</span>
            <span class='yield yield kw'>yield</span> <span class='self self kw'>self</span>
            <span class='commit identifier id'>commit</span>
        <span class='rescue rescue kw'>rescue</span> <span class='Exception constant id'>Exception</span>
            <span class='rollback identifier id'>rollback</span>
            <span class='raise identifier id'>raise</span>
        <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Get an attribute from the DatabaseHandle.</span>
    <span class='def def kw'>def</span> <span class='aref op'>[]</span> <span class='lparen token'>(</span><span class='attr identifier id'>attr</span><span class='rparen token'>)</span>
        <span class='sanity_check identifier id'>sanity_check</span>
        <span class='@handle ivar id'>@handle</span><span class='lbrack token'>[</span><span class='attr identifier id'>attr</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Set an attribute on the DatabaseHandle.</span>
    <span class='def def kw'>def</span> <span class='aset op'>[]=</span> <span class='lparen token'>(</span><span class='attr identifier id'>attr</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='rparen token'>)</span>
        <span class='sanity_check identifier id'>sanity_check</span>
        <span class='@handle ivar id'>@handle</span><span class='lbrack token'>[</span><span class='attr identifier id'>attr</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='val identifier id'>val</span>
    <span class='end end kw'>end</span>

    <span class='protected identifier id'>protected</span>

    <span class='def def kw'>def</span> <span class='sanity_check identifier id'>sanity_check</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>      
        <span class='raise identifier id'>raise</span> <span class='InterfaceError constant id'>InterfaceError</span><span class='comma token'>,</span> <span class='string val'>&quot;Database connection was already closed!&quot;</span> <span class='if if_mod kw'>if</span> <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
        <span class='check_statement identifier id'>check_statement</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='stmt identifier id'>stmt</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># basic sanity checks for statements</span>
    <span class='def def kw'>def</span> <span class='check_statement identifier id'>check_statement</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='rparen token'>)</span>
        <span class='raise identifier id'>raise</span> <span class='InterfaceError constant id'>InterfaceError</span><span class='comma token'>,</span> <span class='string val'>&quot;Statement is empty, or contains nothing but whitespace&quot;</span> <span class='if if_mod kw'>if</span> <span class='stmt identifier id'>stmt</span> <span class='nmatch op'>!~</span> <span class='regexp val'>/\S/</span>
    <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>driver_name</h3>
</div><div id="driver_name-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>driver_name</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This is the driver name as supplied by the DBD&#8217;s driver_name method.
Its primary utility is in DBI::TypeUtil#convert.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/database.rb', line 17</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/database.rb#L17">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">17
18
19
20</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='driver_name identifier id'>driver_name</span>
    <span class='return return kw'>return</span> <span class='@driver_name ivar id'>@driver_name</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span> <span class='if if_mod kw'>if</span> <span class='@driver_name ivar id'>@driver_name</span>
    <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>driver_name=</h3>
</div><div id="driver_name-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>driver_name=</span><span class='args'>(name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Assign the driver name. This can be leveraged to create custom type
management via DBI::TypeUtil#convert.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/database.rb', line 24</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/database.rb#L24">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">24
25
26
27</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='driver_name= identifier id'>driver_name=</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
    <span class='@driver_name ivar id'>@driver_name</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span>
    <span class='@driver_name ivar id'>@driver_name</span><span class='dot token'>.</span><span class='freeze identifier id'>freeze</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>execute</h3>
</div><div id="execute-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>execute</span><span class='args'>(stmt, *bindvars)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Prepare and execute a statement. It has block semantics equivalent to
#prepare.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/database.rb', line 73</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/database.rb#L73">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='execute identifier id'>execute</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='bindvars identifier id'>bindvars</span><span class='rparen token'>)</span>
    <span class='sanity_check identifier id'>sanity_check</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='rparen token'>)</span>

    <span class='@last_statement ivar id'>@last_statement</span> <span class='assign token'>=</span> <span class='stmt identifier id'>stmt</span>
    <span class='if if kw'>if</span> <span class='@convert_types ivar id'>@convert_types</span>
        <span class='bindvars identifier id'>bindvars</span> <span class='assign token'>=</span> <span class='DBI constant id'>DBI</span><span class='colon2 op'>::</span><span class='Utils constant id'>Utils</span><span class='colon2 op'>::</span><span class='ConvParam constant id'>ConvParam</span><span class='dot token'>.</span><span class='conv_param identifier id'>conv_param</span><span class='lparen token'>(</span><span class='driver_name identifier id'>driver_name</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='bindvars identifier id'>bindvars</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='sth identifier id'>sth</span> <span class='assign token'>=</span> <span class='StatementHandle constant id'>StatementHandle</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='execute identifier id'>execute</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='bindvars identifier id'>bindvars</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='@convert_types ivar id'>@convert_types</span><span class='comma token'>,</span> <span class='true true kw'>true</span><span class='rparen token'>)</span>
    <span class='comment val'># FIXME trace sth.trace(@trace_mode, @trace_output)</span>
    <span class='sth identifier id'>sth</span><span class='dot token'>.</span><span class='dbh identifier id'>dbh</span> <span class='assign token'>=</span> <span class='self self kw'>self</span>
    <span class='sth identifier id'>sth</span><span class='dot token'>.</span><span class='raise_error identifier id'>raise_error</span> <span class='assign token'>=</span> <span class='raise_error identifier id'>raise_error</span>

    <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
        <span class='begin begin kw'>begin</span>
            <span class='yield yield kw'>yield</span> <span class='sth identifier id'>sth</span>
        <span class='ensure ensure kw'>ensure</span>
            <span class='sth identifier id'>sth</span><span class='dot token'>.</span><span class='finish identifier id'>finish</span> <span class='unless unless_mod kw'>unless</span> <span class='sth identifier id'>sth</span><span class='dot token'>.</span><span class='finished? fid id'>finished?</span>
        <span class='end end kw'>end</span>
    <span class='else else kw'>else</span>
        <span class='return return kw'>return</span> <span class='sth identifier id'>sth</span>
    <span class='end end kw'>end</span> 
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>ping</h3>
</div><div id="ping-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>ping</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Attempt to establish if the database is still connected. While #connected?
returns the state the DatabaseHandle thinks is true, this is an active
operation that will contact the database.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/database.rb', line 169</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/database.rb#L169">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">169
170
171
172</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='ping identifier id'>ping</span>
    <span class='sanity_check identifier id'>sanity_check</span>
    <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='ping identifier id'>ping</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>prepare</h3>
</div><div id="prepare-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>prepare</span><span class='args'>(stmt)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Prepare a StatementHandle and return it. If given a block, it will supply
that StatementHandle as the first argument to the block, and
BaseStatement#finish it when the block is done executing.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/database.rb', line 51</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/database.rb#L51">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='prepare identifier id'>prepare</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='rparen token'>)</span>
    <span class='sanity_check identifier id'>sanity_check</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='rparen token'>)</span>
    <span class='@last_statement ivar id'>@last_statement</span> <span class='assign token'>=</span> <span class='stmt identifier id'>stmt</span>
    <span class='sth identifier id'>sth</span> <span class='assign token'>=</span> <span class='StatementHandle constant id'>StatementHandle</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='prepare identifier id'>prepare</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='@convert_types ivar id'>@convert_types</span><span class='rparen token'>)</span>
    <span class='comment val'># FIXME trace sth.trace(@trace_mode, @trace_output)</span>
    <span class='sth identifier id'>sth</span><span class='dot token'>.</span><span class='dbh identifier id'>dbh</span> <span class='assign token'>=</span> <span class='self self kw'>self</span>
    <span class='sth identifier id'>sth</span><span class='dot token'>.</span><span class='raise_error identifier id'>raise_error</span> <span class='assign token'>=</span> <span class='raise_error identifier id'>raise_error</span>

    <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
        <span class='begin begin kw'>begin</span>
            <span class='yield yield kw'>yield</span> <span class='sth identifier id'>sth</span>
        <span class='ensure ensure kw'>ensure</span>
            <span class='sth identifier id'>sth</span><span class='dot token'>.</span><span class='finish identifier id'>finish</span> <span class='unless unless_mod kw'>unless</span> <span class='sth identifier id'>sth</span><span class='dot token'>.</span><span class='finished? fid id'>finished?</span>
        <span class='end end kw'>end</span>
    <span class='else else kw'>else</span>
        <span class='return return kw'>return</span> <span class='sth identifier id'>sth</span>
    <span class='end end kw'>end</span> 
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>quote</h3>
</div><div id="quote-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>quote</span><span class='args'>(value)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Attempt to escape the value, rendering it suitable for inclusion in a SQL
statement.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/database.rb', line 177</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/database.rb#L177">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">177
178
179
180</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='quote identifier id'>quote</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
    <span class='sanity_check identifier id'>sanity_check</span>
    <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='quote identifier id'>quote</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>rollback</h3>
</div><div id="rollback-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>rollback</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Force a rollback to the database immediately.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/database.rb', line 193</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/database.rb#L193">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">193
194
195
196</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='rollback identifier id'>rollback</span>
    <span class='sanity_check identifier id'>sanity_check</span>
    <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='rollback identifier id'>rollback</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>select_all</h3>
</div><div id="select_all-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>select_all</span><span class='args'>(stmt, *bindvars, &amp;p)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Executes a statement and returns all rows from the result. If a block is
given, it is executed for each row.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/database.rb', line 125</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/database.rb#L125">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">125
126
127
128
129
130
131
132
133
134
135
136</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='select_all identifier id'>select_all</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='bindvars identifier id'>bindvars</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='p identifier id'>p</span><span class='rparen token'>)</span>
    <span class='sanity_check identifier id'>sanity_check</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='rparen token'>)</span>
    <span class='rows identifier id'>rows</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='execute identifier id'>execute</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='bindvars identifier id'>bindvars</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='sth identifier id'>sth</span><span class='bitor op'>|</span>
        <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
            <span class='sth identifier id'>sth</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='p identifier id'>p</span><span class='rparen token'>)</span>
        <span class='else else kw'>else</span>
            <span class='rows identifier id'>rows</span> <span class='assign token'>=</span> <span class='sth identifier id'>sth</span><span class='dot token'>.</span><span class='fetch_all identifier id'>fetch_all</span> 
        <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='return return kw'>return</span> <span class='rows identifier id'>rows</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>select_one</h3>
</div><div id="select_one-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>select_one</span><span class='args'>(stmt, *bindvars)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Executes a statement and returns the first row from the result.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/database.rb', line 112</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/database.rb#L112">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">112
113
114
115
116
117
118
119</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='select_one identifier id'>select_one</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='bindvars identifier id'>bindvars</span><span class='rparen token'>)</span>
    <span class='sanity_check identifier id'>sanity_check</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='rparen token'>)</span>
    <span class='row identifier id'>row</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='execute identifier id'>execute</span><span class='lparen token'>(</span><span class='stmt identifier id'>stmt</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='bindvars identifier id'>bindvars</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='sth identifier id'>sth</span><span class='bitor op'>|</span>
        <span class='row identifier id'>row</span> <span class='assign token'>=</span> <span class='sth identifier id'>sth</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span> 
    <span class='end end kw'>end</span>
    <span class='row identifier id'>row</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>tables</h3>
</div><div id="tables-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>tables</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Return the tables available to this DatabaseHandle as an array of strings.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/database.rb', line 149</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/database.rb#L149">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">149
150
151
152</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='tables identifier id'>tables</span>
    <span class='sanity_check identifier id'>sanity_check</span>
    <span class='@handle ivar id'>@handle</span><span class='dot token'>.</span><span class='tables identifier id'>tables</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>transaction</h3>
</div><div id="transaction-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>transaction</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Commits, runs the block provided, yielding the DatabaseHandle as it&#8217;s
argument. If an exception is raised through the block, rollback occurs.
Otherwise, commit occurs.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="InterfaceError.html" title="InterfaceError">InterfaceError</a></tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/dbi/handles/database.rb', line 203</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/erikh/ruby-dbi/blob/d7d67c2517c66242bed53729621aecc763e94713/lib/dbi/handles/database.rb#L203">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='transaction identifier id'>transaction</span>
    <span class='sanity_check identifier id'>sanity_check</span>
    <span class='raise identifier id'>raise</span> <span class='InterfaceError constant id'>InterfaceError</span><span class='comma token'>,</span> <span class='string val'>&quot;No block given&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='block_given? fid id'>block_given?</span>

    <span class='commit identifier id'>commit</span>
    <span class='begin begin kw'>begin</span>
        <span class='yield yield kw'>yield</span> <span class='self self kw'>self</span>
        <span class='commit identifier id'>commit</span>
    <span class='rescue rescue kw'>rescue</span> <span class='Exception constant id'>Exception</span>
        <span class='rollback identifier id'>rollback</span>
        <span class='raise identifier id'>raise</span>
    <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>