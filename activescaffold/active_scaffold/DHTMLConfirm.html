<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="syntax_highlight.css" type="text/css" charset="utf-8" />

    <script src="jquery.js" type="text/javascript" charset="utf-8"></script>
    <script src="app.js" type="text/javascript" charset="utf-8"></script>
    <title>Class: DHTMLConfirm</title>
  </head>
  <body>
    <div id="content">
      <div class="section class DHTMLConfirm">
  <h1 class="title">Class: DHTMLConfirm</h1>
  <div class="section inheritance">
  <ul>
  <li><a href='Object.html' title='Object'>Object</a></li><ul><li>DHTMLConfirm</li>
  </ul></ul>
</div><div class="section docstring">
  <p>
Matt Mower &lt;matt@cominded.com&gt;
</p>
<p>
A base class for creating DHTML confirmation types.
</p>
<p>
The real work is done by the onclick_function and onclick_handler methods.
In general it should only be required to override the default
onclick_handler method and provide the specific Javascript required to
invoke the DHTML confirm dialog of your choice.
</p>
<p>
It is up to this dialog, if the user confirms the intended action, to
invoke the function window.gFireModalLink() to trigger the intended action
of the link. For example, using the Modalbox library, you would use
something like:
</p>
<pre class="code">
    <span class='Modalbox constant id'>Modalbox</span><span class='dot token'>.</span><span class='hide identifier id'>hide</span><span class='lparen token'>(</span> <span class='lbrace token'>{</span>
              <span class='afterHide identifier id'>afterHide</span><span class='colon op'>:</span> <span class='function identifier id'>function</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span>
                <span class='window identifier id'>window</span><span class='dot token'>.</span><span class='gFireModalLink identifier id'>gFireModalLink</span><span class='lparen token'>(</span><span class='rparen token'>)</span><span class='semicolon token'>;</span>
              <span class='rbrace token'>}</span> <span class='rbrace token'>}</span> <span class='rparen token'>)</span><span class='semicolon token'>;</span>
</pre>
<p>
By default the only action recognized is :value which is used to add a
dhtml_confirm attribute to the link &lt;a&gt; tag. This value is detected
by the ActiveScaffold link and triggers the DHTML confirmation logic.
</p>

</div><div class="section attributes">
  <h1>Attributes</h1>

  
    <div class="instance">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">message</td>
          <td class="readwrite">
            [<span id='message-instance_method'>R</span><span id='message%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>message</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">options</td>
          <td class="readwrite">
            [<span id='options-instance_method'>R</span><span id='options%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>options</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">value</td>
          <td class="readwrite">
            [<span id='value-instance_method'>R</span><span id='value%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>value</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h1>Constructor Summary</h1>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>( options = {} )</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


26
27
28
29
30</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/dhtml_confirm.rb', line 26</span>

<span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span> <span class='rparen token'>)</span>
  <span class='@options ivar id'>@options</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span>
  <span class='@value ivar id'>@value</span> <span class='assign token'>=</span> <span class='@options ivar id'>@options</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='symbol val'>:value</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='bitor op'>|</span> <span class='string val'>&quot;yes&quot;</span> <span class='rbrace token'>}</span>
  <span class='@message ivar id'>@message</span> <span class='assign token'>=</span> <span class='@options ivar id'>@options</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='symbol val'>:message</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='bitor op'>|</span> <span class='string val'>&quot;Are you sure?&quot;</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
</div>  <div class="section visibilitygroup public">
    <h1>Public Visibility</h1>
      <div class="section methodsummary instance public">
    <h1>Public Instance Method Summary</h1>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#onclick_function-instance_method' title='#onclick_function'>#onclick_function</a></span><span class='args'>( controller, link_id )</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#onclick_handler-instance_method' title='#onclick_handler'>#onclick_handler</a></span><span class='args'>( controller, link_id )</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table><div class="inherited">
  
  <div>
    <h1>Public Instance Methods Inherited from <a href='Object.html' title='Object'>Object</a></h1>
    <p><span class='name'><a href='Object.html#as_-instance_method' title='as_'>as_</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails instance public">
  <h1>Public Instance Method Details</h1>
  
    <div class="method">
      <div class="method_header">
  <h3>onclick_function</h3>
</div><div id="onclick_function-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>onclick_function</span><span class='args'>( controller, link_id )</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


32
33
34
35</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/dhtml_confirm.rb', line 32</span>

<span class='def def kw'>def</span> <span class='onclick_function identifier id'>onclick_function</span><span class='lparen token'>(</span> <span class='controller identifier id'>controller</span><span class='comma token'>,</span> <span class='link_id identifier id'>link_id</span> <span class='rparen token'>)</span>
  <span class='script identifier id'>script</span> <span class='assign token'>=</span> <span class='string val'>&quot;window.gFireModalLink = function() {\nvar link = $('\#{link_id}').action_link;\nlink.open_action.call( link );\n};\n\#{ensure_termination(onclick_handler(controller,link_id))}\nreturn false;\n&quot;</span>
  <span class='comment val'># script = &quot;window.gModalLink = $('#{link_id}').action_link;#{onclick_handler(controller,link_id)}return false;&quot;</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>onclick_handler</h3>
</div><div id="onclick_handler-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>onclick_handler</span><span class='args'>( controller, link_id )</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


45
46
47</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/dhtml_confirm.rb', line 45</span>

<span class='def def kw'>def</span> <span class='onclick_handler identifier id'>onclick_handler</span><span class='lparen token'>(</span> <span class='controller identifier id'>controller</span><span class='comma token'>,</span> <span class='link_id identifier id'>link_id</span> <span class='rparen token'>)</span>
  <span class='string val'>&quot;&quot;</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
</div>
  </div>

</div>
    </div>
  </body>
</html>