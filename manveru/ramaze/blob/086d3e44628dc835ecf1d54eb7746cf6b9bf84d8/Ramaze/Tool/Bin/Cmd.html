<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>manveru's ramaze - Class: Ramaze::Tool::Bin::Cmd - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/manveru/commits/ramaze/master" rel="alternate" title="Recent Commits to ramaze:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../../../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("manveru", "ramaze", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='manveru/ramaze/blob/086d3e44628dc835ecf1d54eb7746cf6b9bf84d8' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='manveru/ramaze/blob/086d3e44628dc835ecf1d54eb7746cf6b9bf84d8' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("manveru", "ramaze", "086d3e44628dc835ecf1d54eb7746cf6b9bf84d8", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../../../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/manveru/ramaze/tree/">Source</a></li>
            <li class=""><a href="http://github.com/manveru/ramaze/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/manveru/ramaze/network">Network</a></li>            
            <li class=""><a href="http://github.com/manveru/ramaze/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/manveru/ramaze">Wiki</a></li>
            <li class=""><a href="http://github.com/manveru/ramaze/graphs">Graphs</a></li>                    
            <li class="active"><a href="/manveru/ramaze">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/manveru">manveru</a> / <b><a href="http://github.com/manveru/ramaze/tree">ramaze</a></b>        
                <a id="namespaces_button" rel="manveru/ramaze/blob/086d3e44628dc835ecf1d54eb7746cf6b9bf84d8" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="manveru/ramaze/blob/086d3e44628dc835ecf1d54eb7746cf6b9bf84d8" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Ramaze_Tool_Bin_Cmd">
  <h1>Class: Ramaze::Tool::Bin::Cmd</h1>
  <div class="section inheritance">
  <ul>
  <li><a href="../../../Object.html" title="Object">Object</a></li><ul><li>Ramaze::Tool::Bin::Cmd</li>
  </ul></ul>
</div><div class="section mixins">
  <h2>Included Modules</h2>
  <p><a href="Cmd/Helpers.html" title="Ramaze::Tool::Bin::Helpers">Ramaze::Tool::Bin::Helpers</a></p>
</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">command</td>
          <td class="readwrite">
            [<span id='command-instance_method'>R</span><span id='command%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>command</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(args = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/ramaze/tool/bin.rb', line 107</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/ramaze/blob/086d3e44628dc835ecf1d54eb7746cf6b9bf84d8/lib/ramaze/tool/bin.rb#L107">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">107
108
109
110
111
112
113
114
115
116
117
118</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='args identifier id'>args</span> <span class='opasgn op'>||=</span> <span class='ARGV constant id'>ARGV</span>
  <span class='raise identifier id'>raise</span> <span class='string val'>&quot;arguments must be an array!&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:detect</span><span class='rparen token'>)</span>
  <span class='@ourargs ivar id'>@ourargs</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
  <span class='@command ivar id'>@command</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='detect identifier id'>detect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='arg identifier id'>arg</span><span class='bitor op'>|</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='regexp val'>/^(?:--?)?(?:start|stop|restart|create|h(?:elp)?|v(?:ersion)?|console|status)/</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='if if kw'>if</span> <span class='command identifier id'>command</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
    <span class='@command ivar id'>@command</span> <span class='assign token'>=</span> <span class='string val'>&quot;&quot;</span>
  <span class='else else kw'>else</span>
    <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='@command ivar id'>@command</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='ARGV constant id'>ARGV</span><span class='dot token'>.</span><span class='replace identifier id'>replace</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#run-class_method">run</span><span class='args'>(args = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
{{{ #run is called when we&#8217;re interactive ($0 == <em>FILE</em>).
</p>

        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#create-instance_method">#create</span><span class='args'>(command)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#include_ramaze-instance_method">#include_ramaze</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#start-instance_method">#start</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Methods for commands {{{.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#status-instance_method">#status</span><span class='args'>(command)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#stop-instance_method">#stop</span><span class='args'>(command)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#usage-instance_method">#usage</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table><div class="inherited">
  
  <div>
    <h2>Public Instance Methods Inherited from <a href="../../../Object.html" title="Object">Object</a></h2>
    <p><span class='name'><a href="../../../Object.html#class_def-instance_method" title="class_def">class_def</a></span>, <span class='name'><a href="../../../Object.html#meta_def-instance_method" title="meta_def">meta_def</a></span>, <span class='name'><a href="../../../Object.html#meta_eval-instance_method" title="meta_eval">meta_eval</a></span>, <span class='name'><a href="../../../Object.html#metaclass-instance_method" title="metaclass">metaclass</a></span></p>
  </div>
  
</div>
<div class="clear"></div><div class="included">
  
  <div>
    <h2>Public Instance Methods Included from <a href="Cmd/Helpers.html" title="Ramaze::Tool::Bin::Helpers">Ramaze::Tool::Bin::Helpers</a></h2>
    <p><span class='name'><a href="Helpers.html#check_running%3F-instance_method" title="check_running?">check_running?</a></span>, <span class='name'><a href="Helpers.html#default_pidfile-instance_method" title="default_pidfile">default_pidfile</a></span>, <span class='name'><a href="Helpers.html#find_pid-instance_method" title="find_pid">find_pid</a></span>, <span class='name'><a href="Helpers.html#is_running%3F-instance_method" title="is_running?">is_running?</a></span>, <span class='name'><a href="Helpers.html#is_windows%3F-instance_method" title="is_windows?">is_windows?</a></span>, <span class='name'><a href="Helpers.html#rackup_path-instance_method" title="rackup_path">rackup_path</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>run</h3>
</div><div id="run-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>run</span><span class='args'>(args = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
{{{ #run is called when we&#8217;re interactive ($0 == <em>FILE</em>)
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/ramaze/tool/bin.rb', line 121</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/ramaze/blob/086d3e44628dc835ecf1d54eb7746cf6b9bf84d8/lib/ramaze/tool/bin.rb#L121">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='run identifier id'>run</span><span class='lparen token'>(</span><span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='cmd identifier id'>cmd</span> <span class='assign token'>=</span> <span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='case case kw'>case</span> <span class='cmd identifier id'>cmd</span><span class='dot token'>.</span><span class='command identifier id'>command</span>
  <span class='when when kw'>when</span> <span class='regexp val'>/^(?:--?)?status$/</span>
    <span class='cmd identifier id'>cmd</span><span class='dot token'>.</span><span class='status identifier id'>status</span><span class='lparen token'>(</span><span class='cmd identifier id'>cmd</span><span class='dot token'>.</span><span class='command identifier id'>command</span><span class='rparen token'>)</span>
  <span class='when when kw'>when</span> <span class='regexp val'>/^(?:--?)?restart$/</span>
    <span class='cmd identifier id'>cmd</span><span class='dot token'>.</span><span class='stop identifier id'>stop</span><span class='lparen token'>(</span><span class='cmd identifier id'>cmd</span><span class='dot token'>.</span><span class='command identifier id'>command</span><span class='rparen token'>)</span>
    <span class='cmd identifier id'>cmd</span><span class='dot token'>.</span><span class='start identifier id'>start</span>
  <span class='when when kw'>when</span> <span class='regexp val'>/^(?:--?)?start$/</span>
    <span class='cmd identifier id'>cmd</span><span class='dot token'>.</span><span class='start identifier id'>start</span>
  <span class='when when kw'>when</span> <span class='regexp val'>/^(?:--?)?create$/</span>
    <span class='cmd identifier id'>cmd</span><span class='dot token'>.</span><span class='create identifier id'>create</span><span class='lparen token'>(</span><span class='cmd identifier id'>cmd</span><span class='dot token'>.</span><span class='command identifier id'>command</span><span class='rparen token'>)</span>
  <span class='when when kw'>when</span> <span class='regexp val'>/^(?:--?)?stop$/</span>
    <span class='if if kw'>if</span> <span class='cmd identifier id'>cmd</span><span class='dot token'>.</span><span class='stop identifier id'>stop</span><span class='lparen token'>(</span><span class='cmd identifier id'>cmd</span><span class='dot token'>.</span><span class='command identifier id'>command</span><span class='rparen token'>)</span>
      <span class='puts identifier id'>puts</span> <span class='string val'>&quot;Ramazement has ended, go in peace.&quot;</span>
      <span class='$stdout gvar id'>$stdout</span><span class='dot token'>.</span><span class='flush identifier id'>flush</span>
    <span class='else else kw'>else</span>
      <span class='puts identifier id'>puts</span> <span class='string val'>&quot;Ramaze failed to stop (or was not running)&quot;</span>
    <span class='end end kw'>end</span>
  <span class='when when kw'>when</span> <span class='regexp val'>/^(?:--?)?console$/</span>
    <span class='require identifier id'>require</span> <span class='string val'>&quot;ramaze&quot;</span>
    <span class='require identifier id'>require</span> <span class='string val'>&quot;irb&quot;</span>
    <span class='require identifier id'>require</span> <span class='string val'>&quot;irb/completion&quot;</span>
    <span class='Ramaze constant id'>Ramaze</span><span class='dot token'>.</span><span class='options identifier id'>options</span><span class='dot token'>.</span><span class='started identifier id'>started</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
    <span class='require identifier id'>require</span> <span class='string val'>&quot;start&quot;</span>
    <span class='IRB constant id'>IRB</span><span class='dot token'>.</span><span class='start identifier id'>start</span>
    <span class='puts identifier id'>puts</span> <span class='string val'>&quot;Ramazement has ended, go in peace.&quot;</span>
  <span class='when when kw'>when</span> <span class='regexp val'>/^(?:--?)?h(elp)?$/</span>
    <span class='puts identifier id'>puts</span> <span class='cmd identifier id'>cmd</span><span class='dot token'>.</span><span class='usage identifier id'>usage</span>
  <span class='when when kw'>when</span> <span class='regexp val'>/^(?:--?)?v(ersion)?$/</span>
    <span class='cmd identifier id'>cmd</span><span class='dot token'>.</span><span class='include_ramaze identifier id'>include_ramaze</span>
    <span class='puts identifier id'>puts</span> <span class='Ramaze constant id'>Ramaze</span><span class='colon2 op'>::</span><span class='VERSION constant id'>VERSION</span>
    <span class='exit identifier id'>exit</span>
  <span class='when when kw'>when</span> <span class='regexp val'>/^$/</span>
    <span class='puts identifier id'>puts</span> <span class='string val'>&quot;Must supply a valid command&quot;</span>
    <span class='puts identifier id'>puts</span> <span class='cmd identifier id'>cmd</span><span class='dot token'>.</span><span class='usage identifier id'>usage</span>
    <span class='exit identifier id'>exit</span> <span class='integer val'>1</span>
  <span class='else else kw'>else</span>
    <span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;#{command} not implemented&quot;</span>
    <span class='puts identifier id'>puts</span> <span class='cmd identifier id'>cmd</span><span class='dot token'>.</span><span class='usage identifier id'>usage</span>
    <span class='exit identifier id'>exit</span> <span class='integer val'>1</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span> <span class='comment val'># }}}</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>create</h3>
</div><div id="create-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>create</span><span class='args'>(command)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/ramaze/tool/bin.rb', line 245</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/ramaze/blob/086d3e44628dc835ecf1d54eb7746cf6b9bf84d8/lib/ramaze/tool/bin.rb#L245">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='create identifier id'>create</span><span class='lparen token'>(</span><span class='command identifier id'>command</span><span class='rparen token'>)</span> <span class='comment val'># {{{</span>
  <span class='opts identifier id'>opts</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='if if kw'>if</span> <span class='forced identifier id'>forced</span> <span class='assign token'>=</span> <span class='@ourargs ivar id'>@ourargs</span><span class='dot token'>.</span><span class='detect identifier id'>detect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='arg identifier id'>arg</span><span class='bitor op'>|</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='regexp val'>/^(--force)/</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='puts identifier id'>puts</span> <span class='string val'>&quot;Overwriting any existing files as requested.&quot;</span>
    <span class='opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:force</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
    <span class='@ourargs ivar id'>@ourargs</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='forced identifier id'>forced</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='if if kw'>if</span> <span class='amended identifier id'>amended</span> <span class='assign token'>=</span> <span class='@ourargs ivar id'>@ourargs</span><span class='dot token'>.</span><span class='detect identifier id'>detect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='arg identifier id'>arg</span><span class='bitor op'>|</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='regexp val'>/^(--amend)/</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='puts identifier id'>puts</span> <span class='string val'>&quot;Only amending missing files as requested.&quot;</span>
    <span class='opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:amend</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
    <span class='@ourargs ivar id'>@ourargs</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='amended identifier id'>amended</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='project_name identifier id'>project_name</span> <span class='assign token'>=</span> <span class='@ourargs ivar id'>@ourargs</span><span class='lbrack token'>[</span><span class='@ourargs ivar id'>@ourargs</span><span class='dot token'>.</span><span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='command identifier id'>command</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='integer val'>1</span><span class='rbrack token'>]</span>
  <span class='if if kw'>if</span> <span class='project_name identifier id'>project_name</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
    <span class='$stderr gvar id'>$stderr</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span> <span class='string val'>&quot;Must supply a project name&quot;</span> <span class='if if_mod kw'>if</span> <span class='project_name identifier id'>project_name</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
    <span class='puts identifier id'>puts</span> <span class='usage identifier id'>usage</span>
    <span class='exit identifier id'>exit</span> <span class='integer val'>1</span>
  <span class='end end kw'>end</span>
  <span class='include_ramaze identifier id'>include_ramaze</span>
  <span class='require identifier id'>require</span> <span class='string val'>'ramaze/tool/create'</span>
  <span class='Ramaze constant id'>Ramaze</span><span class='colon2 op'>::</span><span class='Tool constant id'>Tool</span><span class='colon2 op'>::</span><span class='Create constant id'>Create</span><span class='dot token'>.</span><span class='create identifier id'>create</span><span class='lparen token'>(</span><span class='project_name identifier id'>project_name</span><span class='comma token'>,</span> <span class='opts identifier id'>opts</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span> <span class='comment val'># }}}</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>include_ramaze</h3>
</div><div id="include_ramaze-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>include_ramaze</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/ramaze/tool/bin.rb', line 165</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/ramaze/blob/086d3e44628dc835ecf1d54eb7746cf6b9bf84d8/lib/ramaze/tool/bin.rb#L165">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">165
166
167
168
169
170
171
172
173
174
175
176
177
178</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='include_ramaze identifier id'>include_ramaze</span> 
  <span class='begin begin kw'>begin</span>
    <span class='$: gvar id'>$:</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='dirname identifier id'>dirname</span><span class='lparen token'>(</span><span class='__FILE__ __file__ kw'>__FILE__</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>'/../lib'</span><span class='rparen token'>)</span>
    <span class='require identifier id'>require</span> <span class='string val'>'ramaze'</span>
  <span class='rescue rescue kw'>rescue</span> <span class='LoadError constant id'>LoadError</span>
    <span class='$: gvar id'>$:</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span>

    <span class='begin begin kw'>begin</span>
      <span class='require identifier id'>require</span> <span class='string val'>'rubygems'</span>
    <span class='rescue rescue kw'>rescue</span> <span class='LoadError constant id'>LoadError</span>
    <span class='end end kw'>end</span>
    <span class='require identifier id'>require</span> <span class='string val'>'ramaze'</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span> <span class='comment val'># }}}</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>start</h3>
</div><div id="start-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>start</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Methods for commands {{{
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/ramaze/tool/bin.rb', line 210</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/ramaze/blob/086d3e44628dc835ecf1d54eb7746cf6b9bf84d8/lib/ramaze/tool/bin.rb#L210">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='start identifier id'>start</span> 
  <span class='include_ramaze identifier id'>include_ramaze</span>

  <span class='comment val'># Find the name of this app</span>
  <span class='app_name identifier id'>app_name</span> <span class='assign token'>=</span> <span class='default_pidfile identifier id'>default_pidfile</span><span class='dot token'>.</span><span class='sub identifier id'>sub</span><span class='lparen token'>(</span><span class='regexp val'>/\.pid$/</span><span class='comma token'>,</span><span class='string val'>''</span><span class='rparen token'>)</span>
  <span class='rack_args identifier id'>rack_args</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>

  <span class='if if kw'>if</span> <span class='daemonize identifier id'>daemonize</span> <span class='assign token'>=</span> <span class='@ourargs ivar id'>@ourargs</span><span class='dot token'>.</span><span class='detect identifier id'>detect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='arg identifier id'>arg</span><span class='bitor op'>|</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='regexp val'>/^(-[dD]|--daemonize)$/</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='if if kw'>if</span> <span class='pid_arg identifier id'>pid_arg</span> <span class='assign token'>=</span> <span class='@ourargs ivar id'>@ourargs</span><span class='dot token'>.</span><span class='detect identifier id'>detect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='arg identifier id'>arg</span><span class='bitor op'>|</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='regexp val'>/^(-P|--pid)/</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
      <span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;User supplied pid: #{pid_arg}&quot;</span>
      <span class='pid_file identifier id'>pid_file</span> <span class='assign token'>=</span> <span class='@ourargs ivar id'>@ourargs</span><span class='lbrack token'>[</span><span class='@ourargs ivar id'>@ourargs</span><span class='dot token'>.</span><span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='pid_arg identifier id'>pid_arg</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='integer val'>1</span><span class='rbrack token'>]</span>
      <span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;Starting daemon with user defined pidfile: #{pid_file}&quot;</span>
    <span class='else else kw'>else</span>
      <span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;Starting daemon with default pidfile: #{pid_file = default_pidfile}&quot;</span>
      <span class='rack_args identifier id'>rack_args</span> <span class='opasgn op'>+=</span> <span class='lbrack token'>[</span><span class='string val'>&quot;-P&quot;</span><span class='comma token'>,</span> <span class='pid_file identifier id'>pid_file</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>
    <span class='if if kw'>if</span> <span class='check_running? fid id'>check_running?</span><span class='lparen token'>(</span><span class='pid_file identifier id'>pid_file</span><span class='rparen token'>)</span>
      <span class='$stderr gvar id'>$stderr</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;Ramaze is already running with pidfile: #{pid_file}&quot;</span>
      <span class='exit identifier id'>exit</span> <span class='integer val'>127</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='port identifier id'>port</span> <span class='assign token'>=</span> <span class='Ramaze constant id'>Ramaze</span><span class='dot token'>.</span><span class='options identifier id'>options</span><span class='dot token'>.</span><span class='adapter identifier id'>adapter</span><span class='dot token'>.</span><span class='port identifier id'>port</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
  <span class='rack_args identifier id'>rack_args</span> <span class='opasgn op'>+=</span> <span class='lbrack token'>[</span><span class='string val'>&quot;-p&quot;</span><span class='comma token'>,</span> <span class='port identifier id'>port</span>   <span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='@ourargs ivar id'>@ourargs</span><span class='dot token'>.</span><span class='grep identifier id'>grep</span><span class='lparen token'>(</span><span class='regexp val'>/^(-p|--port)/</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>

  <span class='handler identifier id'>handler</span> <span class='assign token'>=</span> <span class='Ramaze constant id'>Ramaze</span><span class='dot token'>.</span><span class='options identifier id'>options</span><span class='dot token'>.</span><span class='adapter identifier id'>adapter</span><span class='dot token'>.</span><span class='handler identifier id'>handler</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
  <span class='rack_args identifier id'>rack_args</span> <span class='opasgn op'>+=</span> <span class='lbrack token'>[</span><span class='string val'>&quot;-s&quot;</span><span class='comma token'>,</span> <span class='handler identifier id'>handler</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='@ourargs ivar id'>@ourargs</span><span class='dot token'>.</span><span class='grep identifier id'>grep</span><span class='lparen token'>(</span><span class='regexp val'>/^(-s|--server)/</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>

  <span class='if if kw'>if</span> <span class='is_windows? fid id'>is_windows?</span>
    <span class='exec identifier id'>exec</span><span class='lparen token'>(</span><span class='string val'>&quot;ruby&quot;</span><span class='comma token'>,</span> <span class='rackup_path identifier id'>rackup_path</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='comma token'>,</span> <span class='string val'>&quot;config.ru&quot;</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='lparen token'>(</span><span class='ARGV constant id'>ARGV</span> <span class='plus op'>+</span> <span class='rack_args identifier id'>rack_args</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='exec identifier id'>exec</span><span class='lparen token'>(</span><span class='rackup_path identifier id'>rackup_path</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='comma token'>,</span> <span class='string val'>&quot;config.ru&quot;</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='lparen token'>(</span><span class='ARGV constant id'>ARGV</span> <span class='plus op'>+</span> <span class='rack_args identifier id'>rack_args</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span> <span class='comment val'># }}}</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>status</h3>
</div><div id="status-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>status</span><span class='args'>(command)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/ramaze/tool/bin.rb', line 288</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/ramaze/blob/086d3e44628dc835ecf1d54eb7746cf6b9bf84d8/lib/ramaze/tool/bin.rb#L288">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='status identifier id'>status</span><span class='lparen token'>(</span><span class='command identifier id'>command</span><span class='rparen token'>)</span> <span class='comment val'># {{{</span>
  <span class='unless unless kw'>unless</span> <span class='pid_file identifier id'>pid_file</span> <span class='assign token'>=</span> <span class='find_pid identifier id'>find_pid</span><span class='lparen token'>(</span><span class='@ourargs ivar id'>@ourargs</span><span class='lbrack token'>[</span><span class='@ourargs ivar id'>@ourargs</span><span class='dot token'>.</span><span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='command identifier id'>command</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='integer val'>1</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
    <span class='$stderr gvar id'>$stderr</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span> <span class='string val'>&quot;No pid_file found! Ramaze may not be started.&quot;</span>
    <span class='exit identifier id'>exit</span> <span class='integer val'>1</span>
  <span class='end end kw'>end</span>
  <span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;Pid file #{pid_file} found, PID is #{pid = File.read(pid_file)}&quot;</span>
  <span class='unless unless kw'>unless</span> <span class='is_running? fid id'>is_running?</span><span class='lparen token'>(</span><span class='pid identifier id'>pid</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span><span class='rparen token'>)</span>
    <span class='$stderr gvar id'>$stderr</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;PID #{pid} is not running&quot;</span>
    <span class='exit identifier id'>exit</span> <span class='integer val'>1</span>
  <span class='end end kw'>end</span>
  <span class='if if kw'>if</span> <span class='is_windows? fid id'>is_windows?</span>
    <span class='wmi identifier id'>wmi</span> <span class='assign token'>=</span> <span class='WIN32OLE constant id'>WIN32OLE</span><span class='dot token'>.</span><span class='connect identifier id'>connect</span><span class='lparen token'>(</span><span class='string val'>&quot;winmgmts://&quot;</span><span class='rparen token'>)</span>
    <span class='processes identifier id'>processes</span><span class='comma token'>,</span> <span class='ours identifier id'>ours</span> <span class='assign token'>=</span> <span class='wmi identifier id'>wmi</span><span class='dot token'>.</span><span class='ExecQuery constant id'>ExecQuery</span><span class='lparen token'>(</span><span class='dstring node'>&quot;select * from win32_process where ProcessId = #{pid}&quot;</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='processes identifier id'>processes</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='p identifier id'>p</span><span class='bitor op'>|</span> <span class='ours identifier id'>ours</span> <span class='lshft op'>&lt;&lt;</span> <span class='lbrack token'>[</span><span class='p identifier id'>p</span><span class='dot token'>.</span><span class='Name constant id'>Name</span><span class='comma token'>,</span> <span class='p identifier id'>p</span><span class='dot token'>.</span><span class='CommandLine constant id'>CommandLine</span><span class='comma token'>,</span> <span class='p identifier id'>p</span><span class='dot token'>.</span><span class='VirtualSize constant id'>VirtualSize</span><span class='comma token'>,</span> <span class='p identifier id'>p</span><span class='dot token'>.</span><span class='CreationDate constant id'>CreationDate</span><span class='comma token'>,</span> <span class='p identifier id'>p</span><span class='dot token'>.</span><span class='ExecutablePath constant id'>ExecutablePath</span><span class='comma token'>,</span> <span class='p identifier id'>p</span><span class='dot token'>.</span><span class='Status constant id'>Status</span> <span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
    <span class='puts identifier id'>puts</span> <span class='string val'>&quot;Ramaze is running!\n\tName: %s\n\tCommand Line: %s\n\tVirtual Size: %s\n\tStarted: %s\n\tExec Path: %s\n\tStatus: %s&quot;</span> <span class='mod op'>%</span> <span class='ours identifier id'>ours</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
  <span class='else else kw'>else</span>
    <span class='require identifier id'>require</span> <span class='string val'>&quot;pathname&quot;</span>
    <span class='comment val'># Check for /proc</span>
    <span class='if if kw'>if</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='directory? fid id'>directory?</span><span class='lparen token'>(</span><span class='proc_dir identifier id'>proc_dir</span> <span class='assign token'>=</span> <span class='Pathname constant id'>Pathname</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>&quot;/proc&quot;</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
      <span class='proc_dir identifier id'>proc_dir</span> <span class='assign token'>=</span> <span class='proc_dir identifier id'>proc_dir</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='pid identifier id'>pid</span><span class='rparen token'>)</span>
      <span class='comment val'># If we have a &quot;stat&quot; file, we'll assume linux and get as much info</span>
      <span class='comment val'># as we can</span>
      <span class='if if kw'>if</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='file? fid id'>file?</span><span class='lparen token'>(</span><span class='stat_file identifier id'>stat_file</span> <span class='assign token'>=</span> <span class='proc_dir identifier id'>proc_dir</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;stat&quot;</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
        <span class='stats identifier id'>stats</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='read identifier id'>read</span><span class='lparen token'>(</span><span class='stat_file identifier id'>stat_file</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='split identifier id'>split</span>
        <span class='puts identifier id'>puts</span> <span class='string val'>&quot;Ramaze is running!\n\tCommand Line: %s\n\tVirtual Size: %s\n\tStarted: %s\n\tExec Path: %s\n\tStatus: %s&quot;</span> <span class='mod op'>%</span> <span class='lbrack token'>[</span>
          <span class='File constant id'>File</span><span class='dot token'>.</span><span class='read identifier id'>read</span><span class='lparen token'>(</span><span class='proc_dir identifier id'>proc_dir</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;cmdline&quot;</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>&quot;\000&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot; &quot;</span><span class='rparen token'>)</span><span class='comma token'>,</span>
          <span class='string val'>&quot;%s k&quot;</span> <span class='mod op'>%</span> <span class='lparen token'>(</span><span class='stats identifier id'>stats</span><span class='lbrack token'>[</span><span class='integer val'>22</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span> <span class='div op'>/</span> <span class='integer val'>1024</span><span class='rparen token'>)</span><span class='comma token'>,</span>
          <span class='File constant id'>File</span><span class='dot token'>.</span><span class='mtime identifier id'>mtime</span><span class='lparen token'>(</span><span class='proc_dir identifier id'>proc_dir</span><span class='rparen token'>)</span><span class='comma token'>,</span>
          <span class='File constant id'>File</span><span class='dot token'>.</span><span class='readlink identifier id'>readlink</span><span class='lparen token'>(</span><span class='proc_dir identifier id'>proc_dir</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;exe&quot;</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='comma token'>,</span>
          <span class='stats identifier id'>stats</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span>
        <span class='rbrack token'>]</span>
        <span class='exit identifier id'>exit</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='comment val'># Fallthrough status, just print a ps</span>
    <span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;Ramaze process #{pid} is running!&quot;</span>
    <span class='begin begin kw'>begin</span>
      <span class='puts identifier id'>puts</span> <span class='dxstring node'>%x{ps l #{pid}}</span>
    <span class='rescue rescue kw'>rescue</span>
      <span class='puts identifier id'>puts</span> <span class='string val'>&quot;No further information available&quot;</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span> <span class='comment val'># }}}</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>stop</h3>
</div><div id="stop-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>stop</span><span class='args'>(command)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/ramaze/tool/bin.rb', line 268</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/ramaze/blob/086d3e44628dc835ecf1d54eb7746cf6b9bf84d8/lib/ramaze/tool/bin.rb#L268">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='stop identifier id'>stop</span><span class='lparen token'>(</span><span class='command identifier id'>command</span><span class='rparen token'>)</span> <span class='comment val'># {{{</span>
  <span class='unless unless kw'>unless</span> <span class='pid_file identifier id'>pid_file</span> <span class='assign token'>=</span> <span class='find_pid identifier id'>find_pid</span><span class='lparen token'>(</span><span class='@ourargs ivar id'>@ourargs</span><span class='lbrack token'>[</span><span class='@ourargs ivar id'>@ourargs</span><span class='dot token'>.</span><span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='command identifier id'>command</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='integer val'>1</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
    <span class='$stderr gvar id'>$stderr</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span> <span class='string val'>&quot;No pid_file found!  Cannot stop ramaze (may not be started).&quot;</span>
    <span class='return return kw'>return</span> <span class='false false kw'>false</span>
  <span class='end end kw'>end</span>
  <span class='pid identifier id'>pid</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='read identifier id'>read</span><span class='lparen token'>(</span><span class='pid_file identifier id'>pid_file</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
  <span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;Stopping pid #{pid}&quot;</span>
  <span class='Process constant id'>Process</span><span class='dot token'>.</span><span class='kill identifier id'>kill</span><span class='lparen token'>(</span><span class='string val'>&quot;INT&quot;</span><span class='comma token'>,</span> <span class='pid identifier id'>pid</span><span class='rparen token'>)</span>
  <span class='sleep identifier id'>sleep</span> <span class='integer val'>2</span>
  <span class='if if kw'>if</span> <span class='is_running? fid id'>is_running?</span><span class='lparen token'>(</span><span class='pid identifier id'>pid</span><span class='rparen token'>)</span>
    <span class='$stderr gvar id'>$stderr</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;Process #{pid} did not die, forcing it with -9&quot;</span>
    <span class='Process constant id'>Process</span><span class='dot token'>.</span><span class='kill identifier id'>kill</span><span class='lparen token'>(</span><span class='integer val'>9</span><span class='comma token'>,</span> <span class='pid identifier id'>pid</span><span class='rparen token'>)</span>
    <span class='File constant id'>File</span><span class='dot token'>.</span><span class='unlink identifier id'>unlink</span><span class='lparen token'>(</span><span class='pid_file identifier id'>pid_file</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='file? fid id'>file?</span><span class='lparen token'>(</span><span class='pid_file identifier id'>pid_file</span><span class='rparen token'>)</span>
    <span class='true true kw'>true</span>
  <span class='else else kw'>else</span>
    <span class='File constant id'>File</span><span class='dot token'>.</span><span class='unlink identifier id'>unlink</span><span class='lparen token'>(</span><span class='pid_file identifier id'>pid_file</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='file? fid id'>file?</span><span class='lparen token'>(</span><span class='pid_file identifier id'>pid_file</span><span class='rparen token'>)</span>
    <span class='true true kw'>true</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span> <span class='comment val'># }}}</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>usage</h3>
</div><div id="usage-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>usage</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/ramaze/tool/bin.rb', line 180</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/ramaze/blob/086d3e44628dc835ecf1d54eb7746cf6b9bf84d8/lib/ramaze/tool/bin.rb#L180">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='usage identifier id'>usage</span> 
  <span class='txt identifier id'>txt</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span>
    <span class='string val'>&quot;\n  Usage:&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;ramaze &lt;start [PIDFILE]|stop [PIDFILE]|restart [PIDFILE]|status [PIDFILE]|create PROJECT|console&gt; [ruby/rack options]\n&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;Commands:\n&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;  * All commands which take an optional PIDFILE (defaults to PROJECT.pid otherwise).&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;  * All commands which start a ramaze instance will default to webrick on port 7000&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;    unless you supply the rack options -p/--port PORT and/or * -s/--server SERVER.\n&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot; start   - Starts an instance of this application.\n&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot; stop    - Stops a running instance of this application.\n&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot; restart - Stops running instance of this application, then starts it back up.  Pidfile&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;           (if supplied) is used for both stop and start.\n&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot; status  - Gives status of a running ramaze instance\n&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot; create  - Creates a new prototype Ramaze application in a directory named PROJECT in&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;           the current directory.  ramaze create foo would make ./foo containing an&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;           application prototype. Rack options are ignored here.\n&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot; console - Starts an irb console with app.rb (and irb completion) loaded. This command&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;           ignores rack options, ARGV is passed on to IRB.\n\n\t&quot;</span>
  <span class='rbrack token'>]</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;\n\t&quot;</span><span class='rparen token'>)</span>

  <span class='if if kw'>if</span> <span class='is_windows? fid id'>is_windows?</span>
    <span class='txt identifier id'>txt</span> <span class='lshft op'>&lt;&lt;</span> <span class='dxstring node'>%x{ruby #{rackup_path} --help}</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>&quot;\n&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='reject identifier id'>reject</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='line identifier id'>line</span><span class='bitor op'>|</span> <span class='line identifier id'>line</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='regexp val'>/^Usage:/</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;\n\t&quot;</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='txt identifier id'>txt</span> <span class='lshft op'>&lt;&lt;</span> <span class='dxstring node'>%x{#{rackup_path} --help}</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>&quot;\n&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='reject identifier id'>reject</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='line identifier id'>line</span><span class='bitor op'>|</span> <span class='line identifier id'>line</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='regexp val'>/^Usage:/</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;\n\t&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='txt identifier id'>txt</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/^\t$/</span><span class='comma token'>,</span> <span class='string val'>''</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span> <span class='comment val'># }}}</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>