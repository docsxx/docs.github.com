<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>manveru's innate - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/manveru/commits/innate/master" rel="alternate" title="Recent Commits to innate:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("manveru", "innate", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='manveru/innate/blob/cf9cdce49474b5b1b82d416e5ef87512a80b7bb1' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='manveru/innate/blob/cf9cdce49474b5b1b82d416e5ef87512a80b7bb1' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("manveru", "innate", "cf9cdce49474b5b1b82d416e5ef87512a80b7bb1", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/manveru/innate/tree/">Source</a></li>
            <li class=""><a href="http://github.com/manveru/innate/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/manveru/innate/network">Network</a></li>            
            <li class=""><a href="http://github.com/manveru/innate/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/manveru/innate">Wiki</a></li>
            <li class=""><a href="http://github.com/manveru/innate/graphs">Graphs</a></li>                    
            <li class="active"><a href="/manveru/innate">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/manveru">manveru</a> / <b><a href="http://github.com/manveru/innate/tree">innate</a></b>        
                <a id="namespaces_button" rel="manveru/innate/blob/cf9cdce49474b5b1b82d416e5ef87512a80b7bb1" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="manveru/innate/blob/cf9cdce49474b5b1b82d416e5ef87512a80b7bb1" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="section docstring readme wikistyle">
  <h1>Innate</h1>

<p>Innate is the core of Ramaze, but useful on its own.</p>

<h2>Philosophy</h2>

<p>The philosophy behind Innate is to provide a simple web-framework that:</p>

<ul>
<li>Stays below 2000 easily readable lines of code</li>
<li>Has Rack as the only dependency</li>
<li>Provides the default helpers</li>
<li>Is easy to encapsulate and reuse in other contexts as a simple rack app</li>
<li>Has a rock-solid and fast implementation</li>
<li>Scores at least 95% in rcov</li>
<li>Is fully documented using YARD</li>
</ul>


<h2>Innate vs. Ramaze</h2>

<p>Numerous people asked where Innate fits into the picture of Ramaze and when it
would be appropriate to use Innate alone.</p>

<p>The answer to this is not as simple as I thought, given that Ramaze improves on
it a lot by taking full advantage of the encapsulation.</p>

<p>Innate started out as I grew increasingly annoyed by the many hacks and add-ons
that diluted the original simplicity of Ramaze as we discovered ways to do
things better, so I went on to create something that is impossible to dilute and
simply works as a multiplier.</p>

<p>It does work standalone, and it might be suitable for applications that just
need the little extra over plain old Rack, making it easy to deploy and rely on
the stability that comes with simple code.
It's also the starting point if you want to study the inner workings of Ramaze
without being distracted, all you need to keep in mind is Rack.</p>

<p>If all you need is a couple of ERB templates and a few nodes then Innate is the
way to go.
Upgrading to Ramaze later is quite easy, just change a couple of lines and the
power of your code multiplies (again).</p>

<p>The split between Innate and Ramaze is clear cut and gives Ramaze freedom to
expand in any direction (and I have quite some ideas where to take it).</p>

<p>Ramaze adds things that require other dependencies, caching with memcached or
sequel, logging with analogger or growl, templating with haml or erubis, just to
name a few.</p>

<p>Ramaze also adds Apps to the mix, and it is easier to understand them when the
concepts of what's going on inside an App is completely abstracted by Innate.</p>

<p>To summarize, Innate really keeps it simple, acts as a learning tool and
encourages everybody to build on top of it whatever they want.</p>

<h2>Features</h2>

<ul>
<li>Powerful Helper system</li>
<li>Nodes<a href="What">1</a> simply include Innate::Node, so class inheritance is your choice.</li>
<li>The only hard dependency is Rack</li>
<li>Easy to get started</li>
<li>Compatible with major Ruby implementations<a href="This">2</a>.</li>
<li>Usage of Fiber<a href="Fiber">3</a> instead of Thread if possible.</li>
<li>Namespaced serializable configuration system</li>
<li>Simple testing without need of a running server</li>
<li>No clutter in your application directory structure, scales from a single file
upwards</li>
<li>Seamless integration with Rack middleware</li>
<li>No patching of ruby core or stdlib.</li>
<li>Direct access to the current Request, Response, and Session from anywhere via
Trinity</li>
<li>Works out of the box with ERB the templating engine.</li>
<li>Support for all rack-compatible web-servers.</li>
<li>Dynamic content-representation.</li>
</ul>


<h2>Usage</h2>

<p>A simple example of using Innate that also shows you how to add your custom
middleware, write specs and the overall concept:</p>

<pre class="code"><span class='require identifier id'>require</span> <span class='string val'>'innate'</span>

<span class='Innate constant id'>Innate</span><span class='dot token'>.</span><span class='setup_middleware identifier id'>setup_middleware</span>

<span class='Innate constant id'>Innate</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lparen token'>(</span><span class='string val'>'/'</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='env identifier id'>env</span><span class='bitor op'>|</span>
  <span class='Rack constant id'>Rack</span><span class='colon2 op'>::</span><span class='Response constant id'>Response</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='string val'>'Hello, World!'</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='finish identifier id'>finish</span>
<span class='end end kw'>end</span>

<span class='Innate constant id'>Innate</span><span class='colon2 op'>::</span><span class='Mock constant id'>Mock</span><span class='dot token'>.</span><span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='string val'>'/'</span><span class='rparen token'>)</span>
</pre>

<p>And another example, using Node with a normal server:</p>

<pre class="code"><span class='require identifier id'>require</span> <span class='string val'>'innate'</span>

<span class='class class kw'>class</span> <span class='Hi constant id'>Hi</span>
  <span class='include identifier id'>include</span> <span class='Innate constant id'>Innate</span><span class='colon2 op'>::</span><span class='Node constant id'>Node</span>
  <span class='map identifier id'>map</span> <span class='string val'>'/'</span>

  <span class='def def kw'>def</span> <span class='index identifier id'>index</span>
    <span class='string val'>&quot;Hello, World!&quot;</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>

<span class='Innate constant id'>Innate</span><span class='dot token'>.</span><span class='start identifier id'>start</span> <span class='symbol val'>:adapter</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:mongrel</span>
</pre>

<h2>Installation</h2>

<h3>Via git (recommended)</h3>

<p>Installing Innate from git is highly recommended, since it gives you easy
access to alternate branches, bugfixes, and new features.</p>

<pre class="code"><span class='git identifier id'>git</span> <span class='clone identifier id'>clone</span> <span class='git identifier id'>git</span><span class='symbol val'>:/</span><span class='regexp val'>/github.com/</span><span class='manveru identifier id'>manveru</span><span class='div op'>/</span><span class='innate identifier id'>innate</span><span class='dot token'>.</span><span class='git identifier id'>git</span>
</pre>

<p>And add the innate/lib directory to your <code>RUBYLIB</code> environment variable.</p>

<p>For unixish systems you may want to add it to <code>~/.bashrc</code> or the equivalent for
your shell:</p>

<pre class="code"><span class='export identifier id'>export</span> <span class='RUBYLIB constant id'>RUBYLIB</span><span class='assign token'>=</span><span class='string val'>&quot;~/path/to/innate/lib:$RUBYLIB&quot;</span>
</pre>

<h3>Via gem install</h3>

<h4>From Github</h4>

<pre class="code"><span class='gem identifier id'>gem</span> <span class='install identifier id'>install</span> <span class='manveru identifier id'>manveru</span><span class='minus op'>-</span><span class='innate identifier id'>innate</span> <span class='minus op'>-</span><span class='minus op'>-</span><span class='source identifier id'>source</span><span class='assign token'>=</span><span class='http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/gems.github.com
</span></pre>

<h4>From Rubyforge</h4>

<p>Not yet, and not sure when I'll get around to do this, feel free to ask if you
want to maintain the project at rubyforge.</p>

<h2>Concepts</h2>

<p>First let's see about the good old MVC:</p>

<h3>Model</h3>

<p>Innate doesn't have any ties to models, it does not offer helpers or rake tasks
or whatever you may be expecting, there is no M, use whatever you like.
Innate is, however, known to be compatible with the ORMs listed below:</p>

<ul>
<li>ActiveRecord</li>
<li>DataMapper</li>
<li>M4DBI</li>
<li>Og</li>
<li>Sequel</li>
</ul>


<p>Please consider giving us a heads up about what worked for you if it isn't in
the list yet.</p>

<h3>View</h3>

<p>Innate has support for only
Innate supports multiple templating engines and it is very easy to add your
own.
At the moment we offer following engines out of the box:</p>

<ul>
<li><a href="http://builder.rubyforge.org">Builder</a></li>
<li><a href="http://haml.hamptoncatlin.com/">Haml</a></li>
<li><a href="http://haml.hamptoncatlin.com/docs/sass">Sass</a></li>
<li><a href="http://rubyforge.org/projects/erubis">Erubis</a></li>
<li><a href="http://www.kuwata-lab.com/tenjin/">Tenjin</a></li>
</ul>


<p>How to build your own is discussed at
<a href="http://ramaze.net/HowTo:View">HowTo:View</a>.</p>

<h3>Controller</h3>

<p>Innate follows a different approach than most frameworks, making the controller
subclassing obsolete. To make an object accessible from the outside simply
include Innate::Node and map it to the location you would like.</p>

<h2>Differences from Ramaze</h2>

<p>Innate throws a lot overboard; it doesn't provide all the bells and whistles
that you may be used to. This makes Ramaze the way to go for larger
applications.</p>

<p>For this reason, Innate is not only a standalone framework, it is also the core
of Ramaze.</p>

<p>Ramaze started out without any of the benefits that Rack gives us these days,
especially regarding the server handlers, request/response, and middleware.</p>

<p>Still it tried to provide everything one might need with the least effort,
leading to a lot of incorporation of dependencies (we have things like bacon,
simple_http, gettext, mime types, ...)</p>

<h3>Configuration</h3>

<p>Innate provides the Innate::Options DSL, in some aspects to the old
Ramaze::Global, but a lot more flexible.</p>

<p>Options has namespaces, inheritance, defaults, triggers, documentation, and a
sane name.</p>

<p>The definition syntax roughly resembles Ramaze::Global.</p>

<p>We break with the tradition where all options one would ever need were provided
in one file. It made maintenance rather difficult and the code hard to follow.
So the new approach is to put options where they belong, alongside the class or
module they are used in.</p>

<p>There are some things still in Innate.options, but they have large impact on the
whole system.</p>

<p>Options doesn't do things like merging env variables or parsing ARGV, these are
things that Ramaze adds.</p>

<p>What makes Options especially useful is that you can use it in your own
application to configure it without using diverse routes like putting config
into counter-intuitive yaml files, using global variables, or relying on yet
another dependency.</p>

<p>A small example:</p>

<pre class="code"><span class='module module kw'>module</span> <span class='Blog constant id'>Blog</span>
  <span class='include identifier id'>include</span> <span class='Innate constant id'>Innate</span><span class='colon2 op'>::</span><span class='Optioned constant id'>Optioned</span>

  <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='dsl identifier id'>dsl</span> <span class='do do kw'>do</span>
    <span class='o identifier id'>o</span> <span class='string val'>&quot;Title of the blog&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:title</span><span class='comma token'>,</span> <span class='string val'>&quot;My Blog&quot;</span>
    <span class='o identifier id'>o</span> <span class='string val'>&quot;Syntax highlighting engine for blog posts&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:syntax</span><span class='comma token'>,</span> <span class='symbol val'>:coderay</span>
  <span class='end end kw'>end</span>

  <span class='class class kw'>class</span> <span class='Articles constant id'>Articles</span>
    <span class='Innate constant id'>Innate</span><span class='dot token'>.</span><span class='node identifier id'>node</span> <span class='string val'>'/'</span>

    <span class='def def kw'>def</span> <span class='index identifier id'>index</span>
      <span class='dstring node'>&quot;Welcome to #{Blog.options.title}&quot;</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>

<h3>Controller</h3>

<p>Away with controllers, long live the Node.</p>

<p>Nodes are objects that include Innate::Node and are then considered rack
applications that get automatically hooked into the routing.</p>

<p>Since every existing Ramaze application relies on Ramaze::Controller and normal
subclassing is not without merits as well we keep that part entirely in Ramaze,
Controller simply includes Innate::Node and makes it suitable for the usage
within Apps.</p>

<h4>Layouts</h4>

<p>Since layouts were an afterthought in Ramaze, they were made normal actions
like every other on the respective controllers, leading to lots of confusion
over the correct way to use layouts, the Controller::layout syntax in respect
to the real location of layouts, how to exclude/include single actions, where
layouts should be stored, how to prevent lookup from external requests, ...</p>

<p>I made layouts just as important as views and methods for the Action in Innate,
and they have their own root directory to live in and will not be considered as
a normal view template, so they cannot be accidentally be rendered as their own
actions.</p>

<p>This strikes me as important, because I consider layouts to be superior to
Ezamar elements and equal to render_partial or render_template, just about
every application uses it, so they should be handled in the best way possible.</p>

<p>The root directory for layouts is in line with the other default locations:</p>

<pre class="code"><span class='proto identifier id'>proto</span>
<span class='bitor op'>|</span><span class='minus op'>-</span><span class='minus op'>-</span> <span class='layout identifier id'>layout</span>
<span class='bitor op'>|</span><span class='minus op'>-</span><span class='minus op'>-</span> <span class='model identifier id'>model</span>
<span class='bitor op'>|</span><span class='minus op'>-</span><span class='minus op'>-</span> <span class='node identifier id'>node</span>
<span class='bitor op'>|</span><span class='minus op'>-</span><span class='minus op'>-</span> <span class='public identifier id'>public</span>
<span class='xstring val'>`-- view
</span></pre>

<p>While none of these directories is necessary, they are the default locations and
should be included in a new proto for Ramaze (just that ramaze uses
<code>/controller</code> instead of <code>/node</code>.</p>

<p>Innate will not have project generating capabilities, so we just have to
document it very well and provide some example apps.</p>

<h4>Provides</h4>

<p>This is a major new feature stolen from Merb and adapted for the ease of use of
Innate/Ramaze.
It won't have all the capabilities one might be used to out of the box, but
extending them is easy.</p>

<p>Having "provides" means that every Action has different ways of being rendered,
depending on so-called wishes, that's what people usually call
content-representation.</p>

<p>A wish may be anything related to the request object, and by default it will
trigger on the filename extension asked for.
This enables you to create a single action that can be rendered in
json/rss/atom/yaml/xml/xhtml/html/wap or different languages...</p>

<p>The dispatching in Node depends on the filename extension by default, but more
decision paths can be added to Action by overriding some defaults.</p>

<p>Layouts map to wishes just like views, so every content representation can have
a suitable layout as well.</p>

<p>This is very alien to old Ramaze, which always has a 1:1 mapping between actions
and their views and how they are rendered, which made people wonder how to serve
sass as css or how to respond with json for a ajax request until they finally
were pointed to setting content-type, using respond and setting up custom
routes.</p>

<p>I hope this feature makes things simpler for people who care about it while it
can be ignored by people who don't.</p>

<h3>More specifics</h3>

<p>Here I try to list the most important things that Ramaze will offer but that
are not included in Innate itself in terms of globs:</p>

<ul>
<li>cache.rb and cache/*.rb</li>
<li>current/response.rb</li>
<li>tool/{create,mime,localize,daemonize,record,project_creator}.rb</li>
<li>spec/helper/*.rb</li>
<li>snippets/<em>*/</em>.rb</li>
<li>gestalt.rb</li>
<li>store/default.rb</li>
<li>contrib.rb or any contribs</li>
<li>adapter/*.rb (superseded by a lightweight adapter.rb)</li>
<li>template/ezamar<em>/</em></li>
<li>bacon.rb</li>
<li>dispatcher.rb</li>
<li>dispatcher/*.rb</li>
</ul>


<p>There might be a couple of things I've forgotten, but that's what a quick
glance tells me.</p>

<p>Let's go through them one by one and consider what's gonna happen to them:</p>

<h3>Cache</h3>

<p>Caching is a very important concern and one of the most difficult things to get
right for any web application.</p>

<p>Innate defines the caching API that enables everybody to add caches with very
little code.</p>

<p>Innate provides caching by following means:</p>

<ul>
<li>DRb</li>
<li>Hash</li>
<li>Marshal</li>
<li>YAML</li>
</ul>


<p>Ramaze adds:</p>

<ul>
<li>Memcached</li>
<li>Sequel</li>
</ul>


<p>And as time goes on there will be many more.</p>

<h3>Response</h3>

<p>Very little code, just provide some options regarding default headers and easy
ways to reset the response.
Ramaze adds some more convenient methods.</p>

<h3>Tools</h3>

<p>Innate doesn't provide any of the stuff in ramaze/tool and it was removed from
Ramaze as well, some of the reasoning is below.</p>

<h4>Tool::Create</h4>

<p>This has been used by <code>bin/ramaze --create</code>, bougyman is working on a new
<code>bin/ramaze</code> which won't use it, so we removed it.</p>

<h4>Tool::ProjectCreator</h4>

<p>Dependency for Tool::Create, removed as well.</p>

<h5>Tool::Daemonize</h5>

<p>Nothing but issues with this one although it is just a very thin wrapper for
the daemons gem. Nobody has contributed to this so far despite the issues and
it seems that there are a lot of different solutions for this problem.</p>

<p>This was removed from Ramaze and Innate. You may use the daemonize functionality
from rackup.</p>

<h5>Ramaze::Record</h5>

<p>Well, this might be the most obvious candidate for removal, maybe it can be
revived as middleware. The functionality itself was in the adapter and even
that's only a few lines. But so far I have never seen any usage of it.</p>

<h5>Tool::Localize</h5>

<p>Despite being quite popular it has many issues and is totally unusable if you
don't have full knowledge about what is going to be served.</p>

<p>I and a lot of other people have used this over time and it has proven itself
to be a very easy and straight-forward way of doing localization.</p>

<p>It think it is better suited as middleware which can be included into
rack-contrib and doesn't rely on the normal session but a simple unobfuscated
cookie.</p>

<p>Innate does not attempt to do anything related to localization. Ramaze builds
localization on top of Helper::Localize which does a much better job.</p>

<h5>Tool::MIME</h5>

<p>This one was removed, Rack::Mime is the way to go.</p>

<h3>Spec helpers</h3>

<p>Over the years, Ramaze has collected a wide variety of spec helpers that are
not really compatible to each other and rely on real request/response with a
running server.</p>

<p>Innate provides a better alternative via Innate::Mock for specs, the output
formatting is done in a rake task.</p>

<p>There is some work in progress to integrate Innate and Ramaze with the rack-test
library which will allow us to run specs with webrat (which is able to run using
selenium and possibly watir in a DRY way).</p>

<p>Rack-test will provide us also with xpath checks, multipart requests, digest
authorization, etc.</p>

<h3>Snippets</h3>

<p>Innate abandons the snippets, keeping your core clean.</p>

<p>Ramaze has still a lot of these snippets and will continue to, although I will
constantly strive to reduce them slowly.</p>

<h3>Gestalt</h3>

<p>Gestalt has been the first "templating engine" for Ramaze and is still used in
some fractions of the code and various applications.  There are a lot of other
html/xml builders out there these days so I think this is no good choice for
inclusion into Innate. I will keep it inside Ramaze.</p>

<h3>Ramaze::Store::Default</h3>

<p>This has been removed from Innate and Ramaze.
It started out as a simple wrapper for YAML::Store to make the tutorial easier,
but I think it gives a wrong impression of being anything else.</p>

<p>It's very slow, might raise exceptions under heavy load and a plain YAML::Store
or PStore or any other persistence mechanism is generally a better choice, so
there is no need to keep this around.</p>

<h3>Contrib</h3>

<p>Ramaze got quite some things in contrib, some of them used widely, others not at
all.</p>

<p>I'm still going through these, putting what is suitable for a wider audience
into rack-contrib, including what fits into the Ramaze concept into Ramaze, but
none of these will find its way into Innate.</p>

<p>One exception, the file cache has been added to Innate already and the sequel
cache is in Ramaze proper.</p>

<p>The gzip filter has a more powerful and better maintained equivalent in
Rack::Deflater.</p>

<p>The profiling hook is obsolete as well, there is an equivalent in rack-contrib.</p>

<p>The emailer is really light-weight and but lacks support for many things you
will need, I'm working on a new Helper::Email that integrates with Mailit (a
fork of MailFactory).</p>

<p>Things I'll not touch for now are <code>facebook</code> and <code>gettext</code>.</p>

<p>The sequel related stuff will have to be removed and might find a place
somewhere else, (somebody start a sequel-contrib already!).</p>

<p>The <code>gems</code> was refactored and put into <code>ramaze/setup.rb</code>, where it provides you
with painless first-start experience.</p>

<h3>Adapters</h3>

<p>These are entirely the responsibility of Rack/Innate now, Ramaze doesn't need to
worry about that. WEBrick will remain the default adapter since it is in the
Ruby stdlib.</p>

<h3>Templating</h3>

<p>The basic functionality for templating is provided by Innate, it only provides a
<code>None</code> and <code>ERB</code> templating engine. The other engines are in Ramaze.</p>

<h4>Ezamar</h4>

<p><code>Ezamar</code> has become a standalone project. It has been stable since a long time and
is suitable for other uses.
The battle for the place of the default templating engine in Ramaze is still
going on, competitors are <code>ERB</code>, <code>Ezamar</code>, and <code>Nagoro</code>.</p>

<h3>Bacon</h3>

<p>Bacon is still a dependency for specs, but we don't ship it anymore, the stable
release includes all features we need.</p>

<h3>Dispatcher</h3>

<p>Innate uses a stripped down version of the Ramaze dispatcher.  The Ramaze
dispatcher was strongly influenced by Nitro, but proved to be a difficult
part.  We are now using Rack's URLMap directly, and have a minimal dispatching
mechanism directly in Node (like we used to have one in Controller).</p>

<p>A lot of the functionality that used to be in the different dispatchers is now
provided by Rack middleware.</p>

<p>The Dispatcher itself isn't needed anymore. It used to setup
Request/Response/Session, which was superseded by Current, this again is now
superseded by STATE::wrap.</p>

<p>We are going to remove all the other dispatchers as well, providing default
ways to provide the same functionality, and various middleware to use.</p>

<h4>Dispatcher::Action</h4>

<p>This dispatcher was used to initiate the controller dispatching, this is now
not needed anymore.</p>

<h4>Dispatcher::Directory</h4>

<p>This will also be removed. There is a directory listing middleware already.</p>

<h4>Dispatcher::Error</h4>

<p>There's middleware for this as well, and a canonical way of routing errors to
other actions. This used to be one of the most difficult parts of Ramaze and
it was removed to make things simpler.</p>

<h4>Dispatcher::File</h4>

<p>This is a combination of the <code>ETag</code> and <code>ConditionalGet</code> middlewares, ergo Innate
and Ramaze will not serve static files themselves anymore, but leave the job to
Rack or external servers.</p>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>