<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>manveru's innate - Module: Innate::Node - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/manveru/commits/innate/master" rel="alternate" title="Recent Commits to innate:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("manveru", "innate", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("manveru", "innate", "9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/manveru/innate/tree/">Source</a></li>
            <li class=""><a href="http://github.com/manveru/innate/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/manveru/innate/network">Network</a></li>            
            <li class=""><a href="http://github.com/manveru/innate/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/manveru/innate">Wiki</a></li>
            <li class=""><a href="http://github.com/manveru/innate/graphs">Graphs</a></li>                    
            <li class="active"><a href="/manveru/innate">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/manveru">manveru</a> / <b><a href="http://github.com/manveru/innate/tree">innate</a></b>        
                <a id="namespaces_button" rel="manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section module Innate_Node">
  <h1>Module: Innate::Node</h1>
  <div class="section mixins">
  <h2>Included Modules</h2>
  <p><a title="Innate::Traited" href="Node/Traited.html">Innate::Traited</a></p>
</div><div class="section docstring">
  <p>
The nervous system of <tt><a title="Innate" href="../Innate.html">Innate</a></tt>, so you can relax.
</p>
<p>
Node may be included into any class to make it a valid responder to
requests.
</p>
<p>
The major difference between this and the old Ramaze controller is that
every Node acts as a standalone application with its own dispatcher.
</p>
<p>
What&#8217;s also an important difference is the fact that <tt><a title="Node" href="">Node</a></tt> is a
module, so we don&#8217;t have to spend a lot of time designing the perfect
subclassing scheme.
</p>
<p>
This makes dispatching more fun, avoids a lot of processing that is done by
<tt>Rack</tt> anyway and lets you tailor your application down to the last action
exactly the way you want without worrying about side-effects to other
{Node}s.
</p>
<p>
Upon inclusion, it will also include <tt><a title="Innate::Trinity" href="Trinity.html">Innate::Trinity</a></tt> and <tt><a title="Innate::Helper" href="Helper.html">Innate::Helper</a></tt>
to provide you with <tt><a title="Innate::Request" href="Request.html">Innate::Request</a></tt>, <tt><a title="Innate::Response" href="Response.html">Innate::Response</a></tt>,
<tt><a title="Innate::Session" href="Session.html">Innate::Session</a></tt> instances, and all the standard helper methods as well as
the ability to simply add other helpers.
</p>
<p>
Please note that method_missing will <em>not</em> be considered when
building an <tt><a title="Action" href="Action.html">Action</a></tt>. There might be future demand for this, but for now
you can simply use `def index(*args); end` to make a catch-all action.
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">layout_templates</td>
          <td class="readwrite">
            [<span id='layout_templates-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>layout_templates</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">method_arities</td>
          <td class="readwrite">
            [<span id='method_arities-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>method_arities</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">view_templates</td>
          <td class="readwrite">
            [<span id='view_templates-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>view_templates</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="NODE_LIST-constant">NODE_LIST</dt>
      <dd>Set.new</dd>
    
  </dl>
</div>

</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#generate_mapping-class_method">generate_mapping</span><span class='args'>(object_name = self.name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#included-class_method">included</span><span class='args'>(into)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Upon inclusion we make ourselves comfortable.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#setup-class_method">setup</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
node mapping procedure.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#action_found-instance_method">#action_found</span><span class='args'>(action)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Executed once an <tt><a title="Action" href="Action.html">Action</a></tt> has been found.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt><a title="Innate::Response" href="Response.html">Innate::Response</a></tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#action_missing-instance_method">#action_missing</span><span class='args'>(path)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
The default handler in case no action was found, kind of method_missing.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#alias_view-instance_method">#alias_view</span><span class='args'>(to, from, node = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Aliasing one view from another.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#binding-instance_method">#binding</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
For compatibility with new Kernel#binding behaviour in 1.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Binding</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#call-instance_method">#call</span><span class='args'>(env)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
This makes the Node a valid application for Rack.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Array</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#fill_action-instance_method">#fill_action</span><span class='args'>(action, given_name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Now we&#8217;re talking <tt><a title="Action" href="Action.html">Action</a></tt>, we try to find a matching template and
method, if we can&#8217;t find either we go to the next pattern, otherwise
we answer with an <tt><a title="Action" href="Action.html">Action</a></tt> with everything we know so far about the demands
of the client.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt><a title="Action" href="Action.html">Action</a></tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#find_aliased_view-instance_method">#find_aliased_view</span><span class='args'>(action_name, wish)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Resolve one level of aliasing for the given <tt>action_name</tt> and
<tt>wish</tt>.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>nil</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#find_layout-instance_method">#find_layout</span><span class='args'>(name, wish)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Try to find a suitable value for the layout.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Array</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#find_method-instance_method">#find_method</span><span class='args'>(name, params)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
We check arity if possible, but will happily dispatch to any method that
has default parameters.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>String</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#find_provide-instance_method">#find_provide</span><span class='args'>(path)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Resolve possible provides for the given <tt>path</tt> from <tt>provides</tt>.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Array</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#find_view-instance_method">#find_view</span><span class='args'>(action_name, wish)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Try to find the best template for the given basename and wish and respect
aliased views.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>String</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#layout-instance_method">#layout</span><span class='args'>(name = nil, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Define a layout to use on this Node.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Proc</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#layout_mappings-instance_method">#layout_mappings</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Combine Innate.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Array&lt;String></tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#map-instance_method">#map</span><span class='args'>(location)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Shortcut to map or remap this Node.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#map_layouts-instance_method">#map_layouts</span><span class='args'>(*locations)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Set the paths for lookup below the Innate.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt><a title="Node" href="">Node</a></tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#map_views-instance_method">#map_views</span><span class='args'>(*locations)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Set the paths for lookup below the Innate.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt><a title="Node" href="">Node</a></tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#mapping-instance_method">#mapping</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Tries to find the relative url that this <tt><a title="Node" href="">Node</a></tt> is mapped to.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>String</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#needs_method-3F-instance_method">#needs_method?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Whether an <tt><a title="Action" href="Action.html">Action</a></tt> can be built without a method.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>true</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#options-instance_method">#options</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#patterns_for-instance_method">#patterns_for</span><span class='args'>(path)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
The innate beauty in Nitro, Ramaze, and <tt><a title="Innate" href="../Innate.html">Innate</a></tt>.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt><a title="Action" href="Action.html">Action</a></tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#possible_exts_for-instance_method">#possible_exts_for</span><span class='args'>(wish)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Answer with an array of possible extensions in order of significance for
the given <tt>wish</tt>.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Array</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#possible_paths_for-instance_method">#possible_paths_for</span><span class='args'>(mappings)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Answer with an array of possible paths in order of significance for
template lookup of the given <tt>mappings</tt>.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Array</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#provide-instance_method">#provide</span><span class='args'>(format, param = {}, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Specify which way contents are provided and processed.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#provide_set-3F-instance_method">#provide_set?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
This will return true if the only provides set are by <tt><a title="Node::included" href="Node/Node.html#included-class_method">Node::included</a></tt>.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>true</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#provides-instance_method">#provides</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#resolve-instance_method">#resolve</span><span class='args'>(path)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Let&#8217;s get down to business, first check if we got any wishes
regarding the representation from the client, otherwise we will assume he
wants html.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>nil</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#root_mappings-instance_method">#root_mappings</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
make sure this is an Array and a new instance so modification on the
wrapping array doesn&#8217;t affect the original option.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Array</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_layout-instance_method">#to_layout</span><span class='args'>(action_name, wish)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Find the best matching action_name for the layout, if any.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>nil</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_template-instance_method">#to_template</span><span class='args'>(path, wish)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Try to find a template at the given <tt>path</tt> for <tt>wish</tt>.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>nil</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_view-instance_method">#to_view</span><span class='args'>(action_name, wish)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Try to find the best template for the given basename and wish.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>String</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#try_resolve-instance_method">#try_resolve</span><span class='args'>(path)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Let&#8217;s try to find some valid action for given <tt>path</tt>.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt><a title="Response" href="Response.html">Response</a></tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#update_layout_mappings-instance_method">#update_layout_mappings</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#update_mapping_shared-instance_method">#update_mapping_shared</span><span class='args'>(paths)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#update_method_arities-instance_method">#update_method_arities</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Answer with a hash, keys are method names, values are method arities.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Hash</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#update_template_mappings-instance_method">#update_template_mappings</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#update_view_mappings-instance_method">#update_view_mappings</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#view_mappings-instance_method">#view_mappings</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Combine Innate.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Array&lt;String></tt>
              </span>
          </p>
        
      </td>
    </tr>
  
</table><div class="included">
  
  <div>
    <h2>Public Instance Methods Included from <a title="Innate::Traited" href="Node/Traited.html">Innate::Traited</a></h2>
    <p><span class='name'><a title="ancestral_trait" href="Traited.html#ancestral_trait-instance_method">ancestral_trait</a></span>, <span class='name'><a title="ancestral_trait_values" href="Traited.html#ancestral_trait_values-instance_method">ancestral_trait_values</a></span>, <span class='name'><a title="class_trait" href="Traited.html#class_trait-instance_method">class_trait</a></span>, <span class='name'><a title="each_ancestral_trait" href="Traited.html#each_ancestral_trait-instance_method">each_ancestral_trait</a></span>, <span class='name'><a title="trait" href="Traited.html#trait-instance_method">trait</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>generate_mapping</h3>
</div><div id="generate_mapping-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>generate_mapping</span><span class='args'>(object_name = self.name)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 86</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L86">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">86
87
88
89
90
91
92</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='generate_mapping identifier id'>generate_mapping</span><span class='lparen token'>(</span><span class='object_name identifier id'>object_name</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='string val'>'/'</span> <span class='if if_mod kw'>if</span> <span class='NODE_LIST constant id'>NODE_LIST</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='eq op'>==</span> <span class='integer val'>1</span>
  <span class='parts identifier id'>parts</span> <span class='assign token'>=</span> <span class='object_name identifier id'>object_name</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>'::'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='part identifier id'>part</span><span class='bitor op'>|</span>
    <span class='part identifier id'>part</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/^[A-Z]+/</span><span class='rparen token'>)</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='sub identifier id'>sub</span><span class='bitor op'>|</span> <span class='sub identifier id'>sub</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/[A-Z]+[^A-Z]/</span><span class='comma token'>,</span> <span class='string val'>'_\&amp;'</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
  <span class='string val'>'/'</span> <span class='lshft op'>&lt;&lt;</span> <span class='parts identifier id'>parts</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'/'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>included</h3>
</div><div id="included-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>included</span><span class='args'>(into)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Upon inclusion we make ourselves comfortable.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 58</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L58">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">58
59
60
61
62
63
64
65
66
67</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='included identifier id'>included</span><span class='lparen token'>(</span><span class='into identifier id'>into</span><span class='rparen token'>)</span>
  <span class='into identifier id'>into</span><span class='dot token'>.</span><span class='__send__ identifier id'>__send__</span><span class='lparen token'>(</span><span class='symbol val'>:include</span><span class='comma token'>,</span> <span class='Helper constant id'>Helper</span><span class='rparen token'>)</span>
  <span class='into identifier id'>into</span><span class='dot token'>.</span><span class='extend identifier id'>extend</span><span class='lparen token'>(</span><span class='Trinity constant id'>Trinity</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='rparen token'>)</span>

  <span class='NODE_LIST constant id'>NODE_LIST</span> <span class='lshft op'>&lt;&lt;</span> <span class='into identifier id'>into</span>

  <span class='return return kw'>return</span> <span class='if if_mod kw'>if</span> <span class='into identifier id'>into</span><span class='dot token'>.</span><span class='provide_set? fid id'>provide_set?</span>
  <span class='into identifier id'>into</span><span class='dot token'>.</span><span class='provide identifier id'>provide</span><span class='lparen token'>(</span><span class='symbol val'>:html</span><span class='comma token'>,</span> <span class='symbol val'>:engine</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:Etanni</span><span class='rparen token'>)</span>
  <span class='into identifier id'>into</span><span class='dot token'>.</span><span class='trait identifier id'>trait</span><span class='lparen token'>(</span><span class='symbol val'>:provide_set</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>setup</h3>
</div><div id="setup-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>setup</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
node mapping procedure
</p>
<p>
when Node is included into an object, it&#8217;s added to NODE_LIST when
object::map(location) is sent, it maps the object into DynaMap when
Innate.start is issued, it calls Node::setup Node::setup iterates NODE_LIST
and maps all objects not in DynaMap by using
Node::generate_mapping(object.name) as location
</p>
<p>
when object::map(nil) is sent, the object will be skipped in Node::setup
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 79</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L79">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">79
80
81
82
83
84</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='setup identifier id'>setup</span>
  <span class='NODE_LIST constant id'>NODE_LIST</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='node identifier id'>node</span><span class='bitor op'>|</span>
    <span class='node identifier id'>node</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lparen token'>(</span><span class='generate_mapping identifier id'>generate_mapping</span><span class='lparen token'>(</span><span class='node identifier id'>node</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='node identifier id'>node</span><span class='dot token'>.</span><span class='trait identifier id'>trait</span><span class='lbrack token'>[</span><span class='symbol val'>:skip_node_map</span><span class='rbrack token'>]</span>
  <span class='rbrace token'>}</span>
  <span class='comment val'># Log.debug(&quot;Mapped Nodes: %p&quot; % DynaMap.to_hash) unless NODE_LIST.empty?</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>action_found</h3>
</div><div id="action_found-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt><a title="Innate::Response" href="Response.html">Innate::Response</a></tt></span>
    <span class='name'>action_found</span><span class='args'>(action)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Executed once an <tt><a title="Action" href="Action.html">Action</a></tt> has been found.
</p>
<p>
Reset the <tt><a title="Innate::Response" href="Response.html">Innate::Response</a></tt> instance, catch :respond and :redirect.
<tt><a title="Action#call" href="Action.html#call-instance_method">Action#call</a></tt> has to return a String.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt><a title="Action" href="Action.html">Action</a></tt>]</span>
        <span class='name'>action</span>
        
      </dt>
      <dd>
        <span class='desc'></span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a title="Innate::Response" href="Response.html">Innate::Response</a></tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>Action#call Innate::Response</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 294</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L294">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">294
295
296
297
298
299
300
301
302
303
304</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='action_found identifier id'>action_found</span><span class='lparen token'>(</span><span class='action identifier id'>action</span><span class='rparen token'>)</span>
  <span class='response identifier id'>response</span> <span class='assign token'>=</span> <span class='catch identifier id'>catch</span><span class='lparen token'>(</span><span class='symbol val'>:respond</span><span class='rparen token'>)</span><span class='lbrace token'>{</span> <span class='catch identifier id'>catch</span><span class='lparen token'>(</span><span class='symbol val'>:redirect</span><span class='rparen token'>)</span><span class='lbrace token'>{</span> <span class='action identifier id'>action</span><span class='dot token'>.</span><span class='call identifier id'>call</span> <span class='rbrace token'>}</span><span class='rbrace token'>}</span>

  <span class='unless unless kw'>unless</span> <span class='response identifier id'>response</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:finish</span><span class='rparen token'>)</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='response identifier id'>response</span><span class='dot token'>.</span><span class='write identifier id'>write</span><span class='lparen token'>(</span><span class='response identifier id'>response</span><span class='rparen token'>)</span>
    <span class='response identifier id'>response</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='response identifier id'>response</span>
  <span class='end end kw'>end</span>

  <span class='response identifier id'>response</span><span class='lbrack token'>[</span><span class='string val'>'Content-Type'</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='action identifier id'>action</span><span class='dot token'>.</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:content_type</span><span class='rbrack token'>]</span>
  <span class='response identifier id'>response</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>action_missing</h3>
</div><div id="action_missing-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>action_missing</span><span class='args'>(path)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
The default handler in case no action was found, kind of method_missing.
Must modify the response in order to have any lasting effect.
</p>
<p>
Reasoning:
</p>
<ul>
<li>We are doing this is in order to avoid tons of special error handling code
that would impact runtime and make the overall API more complicated.

</li>
<li>This cannot be a normal action is that methods defined in <tt><a title="Innate::Node" href="">Innate::Node</a></tt>
will never be considered for actions.

</li>
</ul>
<p>
To use a normal action with template do following:
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>String</tt>]</span>
        <span class='name'>path</span>
        
      </dt>
      <dd>
        <span class='desc'></span>
      </dd>
    
  
  </dl>
</div><div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>Innate::Response Node#try_resolve</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 341</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L341">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">341
342
343
344
345
346
347</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='action_missing identifier id'>action_missing</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='rparen token'>)</span>
  <span class='response identifier id'>response</span><span class='dot token'>.</span><span class='status identifier id'>status</span> <span class='assign token'>=</span> <span class='integer val'>404</span>
  <span class='response identifier id'>response</span><span class='lbrack token'>[</span><span class='string val'>'Content-Type'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='string val'>'text/plain'</span>
  <span class='response identifier id'>response</span><span class='dot token'>.</span><span class='write identifier id'>write</span><span class='lparen token'>(</span><span class='string val'>&quot;No action found at: %p&quot;</span> <span class='mod op'>%</span> <span class='path identifier id'>path</span><span class='rparen token'>)</span>

  <span class='response identifier id'>response</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>alias_view</h3>
</div><div id="alias_view-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>alias_view</span><span class='args'>(to, from, node = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Aliasing one view from another. The aliases are inherited, and the optional
third <tt>node</tt> parameter indicates the Node to take the view from.
</p>
<p>
The argument order is identical with `alias` and `alias_method`, which
quite honestly confuses me, but at least we stay consistent.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>#to_s</tt>]</span>
        <span class='name'>to</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
view that should be replaced
</p>
</span>
      </dd>
    
  
    
      <dt>
        <span class='type'>[<tt>#to_s</tt>]</span>
        <span class='name'>from</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
view to use or Node.
</p>
</span>
      </dd>
    
  
    
      <dt>
        <span class='type'>[<tt>#nil?</tt>, <tt><a title="Node" href="">Node</a></tt>]</span>
        <span class='name'>node</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
optionally obtain view from this Node
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>Node::find_aliased_view</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 603</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L603">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">603
604
605
606</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='alias_view identifier id'>alias_view</span><span class='lparen token'>(</span><span class='to identifier id'>to</span><span class='comma token'>,</span> <span class='from identifier id'>from</span><span class='comma token'>,</span> <span class='node identifier id'>node</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='trait identifier id'>trait</span><span class='lbrack token'>[</span><span class='symbol val'>:alias_view</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='trait identifier id'>trait</span><span class='lparen token'>(</span><span class='symbol val'>:alias_view</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='trait identifier id'>trait</span><span class='lbrack token'>[</span><span class='symbol val'>:alias_view</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='to identifier id'>to</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='node identifier id'>node</span> <span class='integer val'>? </span><span class='lbrack token'>[</span><span class='from identifier id'>from</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='comma token'>,</span> <span class='node identifier id'>node</span><span class='rbrack token'>]</span> <span class='colon op'>:</span> <span class='from identifier id'>from</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>binding</h3>
</div><div id="binding-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Binding</tt></span>
    <span class='name'>binding</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
For compatibility with new Kernel#binding behaviour in 1.9
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Binding</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
binding of the instance being rendered.
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt><a title="Action#binding" href="Action.html#binding-instance_method">Action#binding</a></tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 864</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L864">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">864</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='binding identifier id'>binding</span><span class='semicolon token'>;</span> <span class='super super kw'>super</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>call</h3>
</div><div id="call-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Array</tt></span>
    <span class='name'>call</span><span class='args'>(env)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This makes the Node a valid application for Rack. <tt>env</tt> is the
environment hash passed from the Rack::Handler
</p>
<p>
We rely on correct PATH_INFO.
</p>
<p>
As defined by the Rack spec, PATH_INFO may be empty if it wants the root of
the application, so we insert &#8217;/&#8217; to make our dispatcher
simple.
</p>
<p>
Innate will not rescue any errors for you or do any error handling, this
should be done by an underlying middleware.
</p>
<p>
We do however log errors at some vital points in order to provide you with
feedback in your logs.
</p>
<p>
A lot of functionality in here relies on the fact that call is executed
within Current#call which populates the variables used by Trinity. So if
you use the Node directly as a middleware make sure that you #use
Innate::Current as a middleware before it.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>Hash</tt>]</span>
        <span class='name'>env</span>
        
      </dt>
      <dd>
        <span class='desc'></span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Array</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>Response#reset Node#try_resolve Session#flush</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 259</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L259">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">259
260
261
262
263
264
265</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='env identifier id'>env</span><span class='rparen token'>)</span>
  <span class='path identifier id'>path</span> <span class='assign token'>=</span> <span class='env identifier id'>env</span><span class='lbrack token'>[</span><span class='string val'>'PATH_INFO'</span><span class='rbrack token'>]</span>
  <span class='path identifier id'>path</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>'/'</span> <span class='if if_mod kw'>if</span> <span class='path identifier id'>path</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>

  <span class='response identifier id'>response</span><span class='dot token'>.</span><span class='reset identifier id'>reset</span>
  <span class='try_resolve identifier id'>try_resolve</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='finish identifier id'>finish</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>fill_action</h3>
</div><div id="fill_action-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt><a title="Action" href="Action.html">Action</a></tt></span>
    <span class='name'>fill_action</span><span class='args'>(action, given_name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Now we&#8217;re talking <tt><a title="Action" href="Action.html">Action</a></tt>, we try to find a matching template and
method, if we can&#8217;t find either we go to the next pattern, otherwise
we answer with an <tt><a title="Action" href="Action.html">Action</a></tt> with everything we know so far about the demands
of the client.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>String</tt>]</span>
        <span class='name'>given_name</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
the name extracted from REQUEST_PATH
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a title="Action" href="Action.html">Action</a></tt>, <tt>nil</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>Node#find_method Node#find_view Node#find_layout Node#patterns_for Action#wish Action#merge!</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 411</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L411">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='fill_action identifier id'>fill_action</span><span class='lparen token'>(</span><span class='action identifier id'>action</span><span class='comma token'>,</span> <span class='given_name identifier id'>given_name</span><span class='rparen token'>)</span>
  <span class='needs_method identifier id'>needs_method</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='needs_method? fid id'>needs_method?</span>
  <span class='wish identifier id'>wish</span> <span class='assign token'>=</span> <span class='action identifier id'>action</span><span class='dot token'>.</span><span class='wish identifier id'>wish</span>

  <span class='patterns_for identifier id'>patterns_for</span><span class='lparen token'>(</span><span class='given_name identifier id'>given_name</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='bitor op'>|</span>
    <span class='method identifier id'>method</span> <span class='assign token'>=</span> <span class='find_method identifier id'>find_method</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>

    <span class='next next kw'>next</span> <span class='unless unless_mod kw'>unless</span> <span class='method identifier id'>method</span> <span class='if if_mod kw'>if</span> <span class='needs_method identifier id'>needs_method</span>
    <span class='next next kw'>next</span> <span class='unless unless_mod kw'>unless</span> <span class='method identifier id'>method</span> <span class='if if_mod kw'>if</span> <span class='params identifier id'>params</span><span class='dot token'>.</span><span class='any? fid id'>any?</span>
    <span class='next next kw'>next</span> <span class='unless unless_mod kw'>unless</span> <span class='lparen token'>(</span><span class='view identifier id'>view</span> <span class='assign token'>=</span> <span class='find_view identifier id'>find_view</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='wish identifier id'>wish</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='or or kw'>or</span> <span class='method identifier id'>method</span>

    <span class='params identifier id'>params</span><span class='dot token'>.</span><span class='map! fid id'>map!</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='param identifier id'>param</span><span class='bitor op'>|</span> <span class='Rack constant id'>Rack</span><span class='colon2 op'>::</span><span class='Utils constant id'>Utils</span><span class='dot token'>.</span><span class='unescape identifier id'>unescape</span><span class='lparen token'>(</span><span class='param identifier id'>param</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>

    <span class='action identifier id'>action</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='symbol val'>:method</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='method identifier id'>method</span><span class='comma token'>,</span> <span class='symbol val'>:view</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='view identifier id'>view</span><span class='comma token'>,</span> <span class='symbol val'>:params</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='params identifier id'>params</span><span class='comma token'>,</span>
                  <span class='symbol val'>:layout</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='find_layout identifier id'>find_layout</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='wish identifier id'>wish</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>find_aliased_view</h3>
</div><div id="find_aliased_view-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>nil</tt></span>
    <span class='name'>find_aliased_view</span><span class='args'>(action_name, wish)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Resolve one level of aliasing for the given <tt>action_name</tt> and
<tt>wish</tt>.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>String</tt>]</span>
        <span class='name'>action_name</span>
        
      </dt>
      <dd>
        <span class='desc'></span>
      </dd>
    
  
    
      <dt>
        <span class='type'>[<tt>String</tt>]</span>
        <span class='name'>wish</span>
        
      </dt>
      <dd>
        <span class='desc'></span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>nil</tt>, <tt>String</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
the absolute path to the aliased template or nil
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>Node::alias_view Node::find_view</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 618</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L618">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">618
619
620
621
622
623
624
625</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='find_aliased_view identifier id'>find_aliased_view</span><span class='lparen token'>(</span><span class='action_name identifier id'>action_name</span><span class='comma token'>,</span> <span class='wish identifier id'>wish</span><span class='rparen token'>)</span>
  <span class='aliased_name identifier id'>aliased_name</span><span class='comma token'>,</span> <span class='aliased_node identifier id'>aliased_node</span> <span class='assign token'>=</span> <span class='ancestral_trait identifier id'>ancestral_trait</span><span class='lbrack token'>[</span><span class='symbol val'>:alias_view</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='action_name identifier id'>action_name</span><span class='rbrack token'>]</span>
  <span class='return return kw'>return</span> <span class='unless unless_mod kw'>unless</span> <span class='aliased_name identifier id'>aliased_name</span>

  <span class='aliased_node identifier id'>aliased_node</span> <span class='opasgn op'>||=</span> <span class='self self kw'>self</span>
  <span class='aliased_node identifier id'>aliased_node</span><span class='dot token'>.</span><span class='update_view_mappings identifier id'>update_view_mappings</span>
  <span class='aliased_node identifier id'>aliased_node</span><span class='dot token'>.</span><span class='find_view identifier id'>find_view</span><span class='lparen token'>(</span><span class='aliased_name identifier id'>aliased_name</span><span class='comma token'>,</span> <span class='wish identifier id'>wish</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>find_layout</h3>
</div><div id="find_layout-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Array</tt></span>
    <span class='name'>find_layout</span><span class='args'>(name, wish)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Try to find a suitable value for the layout. This may be a template or the
name of a method.
</p>
<p>
If a layout could be found, an Array with two elements is returned, the
first indicating the kind of layout (:layout|:view|:method), the second the
found value, which may be a String or Symbol.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>String</tt>]</span>
        <span class='name'>name</span>
        
      </dt>
      <dd>
        <span class='desc'></span>
      </dd>
    
  
    
      <dt>
        <span class='type'>[<tt>String</tt>]</span>
        <span class='name'>wish</span>
        
      </dt>
      <dd>
        <span class='desc'></span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Array</tt>, <tt>nil</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>Node#to_layout Node#find_method Node#find_view</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 446</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L446">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">446
447
448
449
450
451
452
453
454
455
456
457</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='find_layout identifier id'>find_layout</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='wish identifier id'>wish</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='unless unless_mod kw'>unless</span> <span class='layout identifier id'>layout</span> <span class='assign token'>=</span> <span class='ancestral_trait identifier id'>ancestral_trait</span><span class='lbrack token'>[</span><span class='symbol val'>:layout</span><span class='rbrack token'>]</span>
  <span class='return return kw'>return</span> <span class='unless unless_mod kw'>unless</span> <span class='layout identifier id'>layout</span> <span class='assign token'>=</span> <span class='layout identifier id'>layout</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='wish identifier id'>wish</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='layout identifier id'>layout</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:call</span><span class='rparen token'>)</span>

  <span class='if if kw'>if</span> <span class='found identifier id'>found</span> <span class='assign token'>=</span> <span class='to_layout identifier id'>to_layout</span><span class='lparen token'>(</span><span class='layout identifier id'>layout</span><span class='comma token'>,</span> <span class='wish identifier id'>wish</span><span class='rparen token'>)</span>
    <span class='lbrack token'>[</span><span class='symbol val'>:layout</span><span class='comma token'>,</span> <span class='found identifier id'>found</span><span class='rbrack token'>]</span>
  <span class='elsif elsif kw'>elsif</span> <span class='found identifier id'>found</span> <span class='assign token'>=</span> <span class='find_view identifier id'>find_view</span><span class='lparen token'>(</span><span class='layout identifier id'>layout</span><span class='comma token'>,</span> <span class='wish identifier id'>wish</span><span class='rparen token'>)</span>
    <span class='lbrack token'>[</span><span class='symbol val'>:view</span><span class='comma token'>,</span> <span class='found identifier id'>found</span><span class='rbrack token'>]</span>
  <span class='elsif elsif kw'>elsif</span> <span class='found identifier id'>found</span> <span class='assign token'>=</span> <span class='find_method identifier id'>find_method</span><span class='lparen token'>(</span><span class='layout identifier id'>layout</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
    <span class='lbrack token'>[</span><span class='symbol val'>:method</span><span class='comma token'>,</span> <span class='found identifier id'>found</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>find_method</h3>
</div><div id="find_method-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>String</tt></span>
    <span class='name'>find_method</span><span class='args'>(name, params)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
We check arity if possible, but will happily dispatch to any method that
has default parameters. If you don&#8217;t want your method to be
responsible for messing up a request you should think twice about the
arguments you specify due to limitations in Ruby.
</p>
<p>
So if you want your method to take only one parameter which may have a
default value following will work fine:
</p>
<pre class="code">
  <span class='def def kw'>def</span> <span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='foo identifier id'>foo</span> <span class='assign token'>=</span> <span class='string val'>&quot;bar&quot;</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='rest identifier id'>rest</span><span class='rparen token'>)</span>
</pre>
<p>
But following will respond to /arg1/arg2 and then fail due to
ArgumentError:
</p>
<pre class="code">
  <span class='def def kw'>def</span> <span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='foo identifier id'>foo</span> <span class='assign token'>=</span> <span class='string val'>&quot;bar&quot;</span><span class='rparen token'>)</span>
</pre>
<p>
Here a glance at how parameters are expressed in arity:
</p>
<pre class="code">
  <span class='def def kw'>def</span> <span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='a identifier id'>a</span><span class='rparen token'>)</span>                  <span class='comment val'># =&gt; 1</span>
  <span class='def def kw'>def</span> <span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='symbol val'>:a</span><span class='rparen token'>)</span>             <span class='comment val'># =&gt; -1</span>
  <span class='def def kw'>def</span> <span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='a identifier id'>a</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='r identifier id'>r</span><span class='rparen token'>)</span>              <span class='comment val'># =&gt; -2</span>
  <span class='def def kw'>def</span> <span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='symbol val'>:a</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='r identifier id'>r</span><span class='rparen token'>)</span>         <span class='comment val'># =&gt; -1</span>

  <span class='def def kw'>def</span> <span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='a identifier id'>a</span><span class='comma token'>,</span> <span class='b identifier id'>b</span><span class='rparen token'>)</span>               <span class='comment val'># =&gt; 2</span>
  <span class='def def kw'>def</span> <span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='a identifier id'>a</span><span class='comma token'>,</span> <span class='b identifier id'>b</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='r identifier id'>r</span><span class='rparen token'>)</span>           <span class='comment val'># =&gt; -3</span>
  <span class='def def kw'>def</span> <span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='a identifier id'>a</span><span class='comma token'>,</span> <span class='b identifier id'>b</span> <span class='assign token'>=</span> <span class='symbol val'>:b</span><span class='rparen token'>)</span>          <span class='comment val'># =&gt; -2</span>
  <span class='def def kw'>def</span> <span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='a identifier id'>a</span><span class='comma token'>,</span> <span class='b identifier id'>b</span> <span class='assign token'>=</span> <span class='symbol val'>:b</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='r identifier id'>r</span><span class='rparen token'>)</span>      <span class='comment val'># =&gt; -2</span>

  <span class='def def kw'>def</span> <span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='symbol val'>:a</span><span class='comma token'>,</span> <span class='b identifier id'>b</span> <span class='assign token'>=</span> <span class='symbol val'>:b</span><span class='rparen token'>)</span>     <span class='comment val'># =&gt; -1</span>
  <span class='def def kw'>def</span> <span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='symbol val'>:a</span><span class='comma token'>,</span> <span class='b identifier id'>b</span> <span class='assign token'>=</span> <span class='symbol val'>:b</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='r identifier id'>r</span><span class='rparen token'>)</span> <span class='comment val'># =&gt; -1</span>
</pre>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>String</tt>, <tt>Symbol</tt>]</span>
        <span class='name'>name</span>
        
      </dt>
      <dd>
        <span class='desc'></span>
      </dd>
    
  
    
      <dt>
        <span class='type'>[<tt>Array</tt>]</span>
        <span class='name'>params</span>
        
      </dt>
      <dd>
        <span class='desc'></span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>String</tt>, <tt>Symbol</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>Node#fill_action Node#find_layout</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 500</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L500">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">500
501
502
503</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='find_method identifier id'>find_method</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='unless unless_mod kw'>unless</span> <span class='arity identifier id'>arity</span> <span class='assign token'>=</span> <span class='method_arities identifier id'>method_arities</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span>
  <span class='name identifier id'>name</span> <span class='if if_mod kw'>if</span> <span class='arity identifier id'>arity</span> <span class='eq op'>==</span> <span class='params identifier id'>params</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='or or kw'>or</span> <span class='arity identifier id'>arity</span> <span class='lt op'>&lt;</span> <span class='integer val'>0</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>find_provide</h3>
</div><div id="find_provide-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Array</tt></span>
    <span class='name'>find_provide</span><span class='args'>(path)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Resolve possible provides for the given <tt>path</tt> from <tt>provides</tt>.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>String</tt>]</span>
        <span class='name'>path</span>
        
      </dt>
      <dd>
        <span class='desc'></span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Array</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
with name, wish, engine
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>Node::provide Node::provides</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 383</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L383">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">383
384
385
386
387
388
389
390
391
392
393
394
395</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='find_provide identifier id'>find_provide</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='rparen token'>)</span>
  <span class='pr identifier id'>pr</span> <span class='assign token'>=</span> <span class='provides identifier id'>provides</span>

  <span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='wish identifier id'>wish</span><span class='comma token'>,</span> <span class='engine identifier id'>engine</span> <span class='assign token'>=</span> <span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='string val'>'html'</span><span class='comma token'>,</span> <span class='pr identifier id'>pr</span><span class='lbrack token'>[</span><span class='string val'>'html_handler'</span><span class='rbrack token'>]</span>

  <span class='pr identifier id'>pr</span><span class='dot token'>.</span><span class='find identifier id'>find</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span>
    <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='key identifier id'>key</span><span class='lbrack token'>[</span><span class='regexp val'>/(.*)_handler$/</span><span class='comma token'>,</span> <span class='integer val'>1</span><span class='rbrack token'>]</span>
    <span class='next next kw'>next</span> <span class='unless unless_mod kw'>unless</span> <span class='path identifier id'>path</span> <span class='match op'>=~</span> <span class='dregexp node'>/^(.+)\.#{key}$/i</span>
    <span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='wish identifier id'>wish</span><span class='comma token'>,</span> <span class='engine identifier id'>engine</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span><span class='comma token'>,</span> <span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span>
  <span class='end end kw'>end</span>

  <span class='return return kw'>return</span> <span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='wish identifier id'>wish</span><span class='comma token'>,</span> <span class='engine identifier id'>engine</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>find_view</h3>
</div><div id="find_view-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>String</tt></span>
    <span class='name'>find_view</span><span class='args'>(action_name, wish)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Try to find the best template for the given basename and wish and respect
aliased views.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>#to_s</tt>]</span>
        <span class='name'>action_name</span>
        
      </dt>
      <dd>
        <span class='desc'></span>
      </dd>
    
  
    
      <dt>
        <span class='type'>[<tt>#to_s</tt>]</span>
        <span class='name'>wish</span>
        
      </dt>
      <dd>
        <span class='desc'></span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>String</tt>, <tt>nil</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
depending whether a template could be found
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>Node#to_template Node#find_aliased_view</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 547</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L547">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">547
548
549
550
551
552</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='find_view identifier id'>find_view</span><span class='lparen token'>(</span><span class='action_name identifier id'>action_name</span><span class='comma token'>,</span> <span class='wish identifier id'>wish</span><span class='rparen token'>)</span>
  <span class='aliased identifier id'>aliased</span> <span class='assign token'>=</span> <span class='find_aliased_view identifier id'>find_aliased_view</span><span class='lparen token'>(</span><span class='action_name identifier id'>action_name</span><span class='comma token'>,</span> <span class='wish identifier id'>wish</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='aliased identifier id'>aliased</span> <span class='if if_mod kw'>if</span> <span class='aliased identifier id'>aliased</span>

  <span class='to_view identifier id'>to_view</span><span class='lparen token'>(</span><span class='action_name identifier id'>action_name</span><span class='comma token'>,</span> <span class='wish identifier id'>wish</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>layout</h3>
</div><div id="layout-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Proc</tt></span>
    <span class='name'>layout</span><span class='args'>(name = nil, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Define a layout to use on this Node.
</p>
<p>
A Node can only have one layout, although the template being chosen can
depend on <tt>provides</tt>.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>String</tt>, <tt>#to_s</tt>]</span>
        <span class='name'>name</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
basename without extension of the layout to use
</p>
</span>
      </dd>
    
  
    
      <dt>
        <span class='type'>[<tt>Proc</tt>, <tt>#call</tt>]</span>
        <span class='name'>block</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
called on every dispatch if no name given
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Proc</tt>, <tt>String</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
The assigned name or block
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
<p>
NOTE: The behaviour of Node#layout changed significantly from Ramaze,
instead of multitudes of obscure options and methods like deny_layout we
simply take a block and use the returned value as the name for the layout.
No layout will be used if the block returns nil.
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>Node#find_layout Node#layout_paths Node#to_layout Node#app_layout</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 664</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L664">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">664
665
666
667
668
669
670
671
672
673
674
675
676
677
678
679
680
681</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='layout identifier id'>layout</span><span class='lparen token'>(</span><span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='name identifier id'>name</span> <span class='and and kw'>and</span> <span class='block identifier id'>block</span>
    <span class='comment val'># default name, but still check with block</span>
    <span class='trait identifier id'>trait</span><span class='lparen token'>(</span><span class='symbol val'>:layout</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lambda identifier id'>lambda</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='n identifier id'>n</span><span class='comma token'>,</span> <span class='w identifier id'>w</span><span class='bitor op'>|</span> <span class='name identifier id'>name</span> <span class='if if_mod kw'>if</span> <span class='block identifier id'>block</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='n identifier id'>n</span><span class='comma token'>,</span> <span class='w identifier id'>w</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='elsif elsif kw'>elsif</span> <span class='name identifier id'>name</span>
    <span class='comment val'># name of a method or template</span>
    <span class='trait identifier id'>trait</span><span class='lparen token'>(</span><span class='symbol val'>:layout</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
  <span class='elsif elsif kw'>elsif</span> <span class='block identifier id'>block</span>
    <span class='comment val'># call block every request with name and wish, returned value is name</span>
    <span class='comment val'># of layout template or method</span>
    <span class='trait identifier id'>trait</span><span class='lparen token'>(</span><span class='symbol val'>:layout</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='comment val'># remove layout for this node</span>
    <span class='trait identifier id'>trait</span><span class='lparen token'>(</span><span class='symbol val'>:layout</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='return return kw'>return</span> <span class='ancestral_trait identifier id'>ancestral_trait</span><span class='lbrack token'>[</span><span class='symbol val'>:layout</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>layout_mappings</h3>
</div><div id="layout_mappings-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Array&lt;String></tt></span>
    <span class='name'>layout_mappings</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Combine Innate.options.layouts with either the `ancestral_trait[:layouts]`
or the <tt><a title="Node#mapping" href="#mapping-instance_method">Node#mapping</a></tt> if the trait yields an empty Array.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Array&lt;String></tt>, <tt>Array&lt;Array&lt;String>></tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>{Node#map_layouts}</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 933</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L933">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">933
934
935
936
937
938</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='layout_mappings identifier id'>layout_mappings</span>
  <span class='paths identifier id'>paths</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='mult op'>*</span><span class='ancestral_trait identifier id'>ancestral_trait</span><span class='lbrack token'>[</span><span class='symbol val'>:layouts</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span>
  <span class='paths identifier id'>paths</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='string val'>'/'</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='paths identifier id'>paths</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>

  <span class='lbrack token'>[</span><span class='lbrack token'>[</span><span class='mult op'>*</span><span class='options identifier id'>options</span><span class='dot token'>.</span><span class='layouts identifier id'>layouts</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='mult op'>*</span><span class='paths identifier id'>paths</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>map</h3>
</div><div id="map-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>map</span><span class='args'>(location)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Shortcut to map or remap this Node.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>#to_s</tt>]</span>
        <span class='name'>location</span>
        
      </dt>
      <dd>
        <span class='desc'></span>
      </dd>
    
  
  </dl>
</div><div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>Innate::SingletonMethods::map</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 139</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L139">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">139
140
141
142</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='map identifier id'>map</span><span class='lparen token'>(</span><span class='location identifier id'>location</span><span class='rparen token'>)</span>
  <span class='trait identifier id'>trait</span> <span class='symbol val'>:skip_node_map</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span>
  <span class='Innate constant id'>Innate</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lparen token'>(</span><span class='location identifier id'>location</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='location identifier id'>location</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>map_layouts</h3>
</div><div id="map_layouts-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt><a title="Node" href="">Node</a></tt></span>
    <span class='name'>map_layouts</span><span class='args'>(*locations)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Set the paths for lookup below the Innate.options.layouts paths.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>String</tt>, <tt>Array&lt;String></tt>]</span>
        <span class='name'>locations</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
Any number of strings indicating the paths where layout templates may be
located, relative to Innate.options.roots/Innate.options.layouts
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a title="Node" href="">Node</a></tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
self
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>{Node#layout_mappings}</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 920</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L920">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">920
921
922
923</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='map_layouts identifier id'>map_layouts</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='locations identifier id'>locations</span><span class='rparen token'>)</span>
  <span class='trait identifier id'>trait</span> <span class='symbol val'>:layouts</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='locations identifier id'>locations</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='dot token'>.</span><span class='uniq identifier id'>uniq</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>map_views</h3>
</div><div id="map_views-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt><a title="Node" href="">Node</a></tt></span>
    <span class='name'>map_views</span><span class='args'>(*locations)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Set the paths for lookup below the Innate.options.views paths.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>String</tt>, <tt>Array&lt;String></tt>]</span>
        <span class='name'>locations</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
Any number of strings indicating the paths where view templates may be
located, relative to Innate.options.roots/Innate.options.views
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a title="Node" href="">Node</a></tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
self
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>{Node#view_mappings}</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 889</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L889">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">889
890
891
892</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='map_views identifier id'>map_views</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='locations identifier id'>locations</span><span class='rparen token'>)</span>
  <span class='trait identifier id'>trait</span> <span class='symbol val'>:views</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='locations identifier id'>locations</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='dot token'>.</span><span class='uniq identifier id'>uniq</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>mapping</h3>
</div><div id="mapping-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>String</tt></span>
    <span class='name'>mapping</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Tries to find the relative url that this <tt><a title="Node" href="">Node</a></tt> is mapped to. If it cannot
find one it will instead generate one based on the snake_cased name of
itself.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>String</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
the relative path to the node
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt><a title="Innate::SingletonMethods#to" href="SingletonMethods.html#to-instance_method">Innate::SingletonMethods#to</a></tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 110</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L110">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">110
111
112</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='mapping identifier id'>mapping</span>
  <span class='Innate constant id'>Innate</span><span class='dot token'>.</span><span class='to identifier id'>to</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>needs_method?</h3>
</div><div id="needs_method-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>true</tt></span>
    <span class='name'>needs_method?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Whether an <tt><a title="Action" href="Action.html">Action</a></tt> can be built without a method.
</p>
<p>
The default is to allow actions that use only a view template, but you
might want to turn this on, for example if you have partials in your view
directories.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>true</tt>, <tt>false</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
(false)
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>{Node#fill_action}</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 965</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L965">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">965
966
967</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='needs_method? fid id'>needs_method?</span>
  <span class='ancestral_trait identifier id'>ancestral_trait</span><span class='lbrack token'>[</span><span class='symbol val'>:needs_method</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>options</h3>
</div><div id="options-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>options</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 940</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L940">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">940
941
942</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='options identifier id'>options</span>
  <span class='Innate constant id'>Innate</span><span class='dot token'>.</span><span class='options identifier id'>options</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>patterns_for</h3>
</div><div id="patterns_for-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt><a title="Action" href="Action.html">Action</a></tt></span>
    <span class='name'>patterns_for</span><span class='args'>(path)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
The innate beauty in Nitro, Ramaze, and <tt><a title="Innate" href="../Innate.html">Innate</a></tt>.
</p>
<p>
Will yield the name of the action and parameter for the action method in
order of significance.
</p>
<pre class="code">
  <span class='def def kw'>def</span> <span class='foo__bar identifier id'>foo__bar</span> <span class='comment val'># responds to /foo/bar</span>
  <span class='def def kw'>def</span> <span class='foo identifier id'>foo</span><span class='lparen token'>(</span><span class='bar identifier id'>bar</span><span class='rparen token'>)</span> <span class='comment val'># also responds to /foo/bar</span>
</pre>
<p>
But foo__bar takes precedence because it&#8217;s more explicit.
</p>
<p>
The last fallback will always be the index action with all of the path
turned into parameters.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>String</tt>, <tt>#split</tt>]</span>
        <span class='name'>path</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
usually the PATH_INFO
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a title="Action" href="Action.html">Action</a></tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
it actually returns the first non-nil/false result of yield
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt><a title="Node#fill_action" href="#fill_action-instance_method">Node#fill_action</a></tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 721</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L721">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">721
722
723
724
725
726
727
728
729
730
731
732
733
734
735</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='patterns_for identifier id'>patterns_for</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='rparen token'>)</span>
  <span class='atoms identifier id'>atoms</span> <span class='assign token'>=</span> <span class='path identifier id'>path</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>'/'</span><span class='rparen token'>)</span>
  <span class='atoms identifier id'>atoms</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='string val'>''</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>

  <span class='atoms identifier id'>atoms</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='dot token'>.</span><span class='downto identifier id'>downto</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='len identifier id'>len</span><span class='bitor op'>|</span>
    <span class='action_name identifier id'>action_name</span> <span class='assign token'>=</span> <span class='atoms identifier id'>atoms</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot3 op'>...</span><span class='len identifier id'>len</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'__'</span><span class='rparen token'>)</span>
    <span class='params identifier id'>params</span> <span class='assign token'>=</span> <span class='atoms identifier id'>atoms</span><span class='lbrack token'>[</span><span class='len identifier id'>len</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span>
    <span class='action_name identifier id'>action_name</span> <span class='assign token'>=</span> <span class='string val'>'index'</span> <span class='if if_mod kw'>if</span> <span class='action_name identifier id'>action_name</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span> <span class='and and kw'>and</span> <span class='params identifier id'>params</span> <span class='neq op'>!=</span> <span class='lbrack token'>[</span><span class='string val'>'index'</span><span class='rbrack token'>]</span>

    <span class='return return kw'>return</span> <span class='result identifier id'>result</span> <span class='if if_mod kw'>if</span> <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='action_name identifier id'>action_name</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>possible_exts_for</h3>
</div><div id="possible_exts_for-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Array</tt></span>
    <span class='name'>possible_exts_for</span><span class='args'>(wish)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Answer with an array of possible extensions in order of significance for
the given <tt>wish</tt>.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>#to_s</tt>]</span>
        <span class='name'>wish</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
the extension (no leading &#8217;.&#8217;)
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Array</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
list of exts valid for this <tt>wish</tt>
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>Node#to_template View::exts_of Node#provides</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 851</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L851">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">851
852
853
854
855
856
857</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='possible_exts_for identifier id'>possible_exts_for</span><span class='lparen token'>(</span><span class='wish identifier id'>wish</span><span class='rparen token'>)</span>
  <span class='pr identifier id'>pr</span> <span class='assign token'>=</span> <span class='provides identifier id'>provides</span>
  <span class='return return kw'>return</span> <span class='unless unless_mod kw'>unless</span> <span class='engine identifier id'>engine</span> <span class='assign token'>=</span> <span class='pr identifier id'>pr</span><span class='lbrack token'>[</span><span class='dstring node'>&quot;#{wish}_handler&quot;</span><span class='rbrack token'>]</span>
  <span class='View constant id'>View</span><span class='dot token'>.</span><span class='exts_of identifier id'>exts_of</span><span class='lparen token'>(</span><span class='engine identifier id'>engine</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='e_ext identifier id'>e_ext</span><span class='bitor op'>|</span>
    <span class='lbrack token'>[</span><span class='lbrack token'>[</span><span class='mult op'>*</span><span class='wish identifier id'>wish</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='w_ext identifier id'>w_ext</span><span class='bitor op'>|</span> <span class='dregexp node'>/#{w_ext}\.#{e_ext}$/</span> <span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='dregexp node'>/#{e_ext}$/</span><span class='rbrack token'>]</span>
  <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>possible_paths_for</h3>
</div><div id="possible_paths_for-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Array</tt></span>
    <span class='name'>possible_paths_for</span><span class='args'>(mappings)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Answer with an array of possible paths in order of significance for
template lookup of the given <tt>mappings</tt>.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Array</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>update_view_mappings update_layout_mappings update_template_mappings</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 834</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L834">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">834
835
836
837
838
839</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='possible_paths_for identifier id'>possible_paths_for</span><span class='lparen token'>(</span><span class='mappings identifier id'>mappings</span><span class='rparen token'>)</span>
  <span class='root_mappings identifier id'>root_mappings</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='root identifier id'>root</span><span class='bitor op'>|</span>
    <span class='mappings identifier id'>mappings</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='inner identifier id'>inner</span><span class='bitor op'>|</span>
      <span class='mappings identifier id'>mappings</span><span class='dot token'>.</span><span class='last identifier id'>last</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='outer identifier id'>outer</span><span class='bitor op'>|</span>
        <span class='colon3 op'>::</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='root identifier id'>root</span><span class='comma token'>,</span> <span class='inner identifier id'>inner</span><span class='comma token'>,</span> <span class='outer identifier id'>outer</span><span class='comma token'>,</span> <span class='string val'>'/'</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span><span class='rbrace token'>}</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>provide</h3>
</div><div id="provide-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>provide</span><span class='args'>(format, param = {}, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Specify which way contents are provided and processed.
</p>
<p>
Use this to set a templating engine, custom Content-Type, or pass a block
to take over the processing of the <tt><a title="Action" href="Action.html">Action</a></tt> and template yourself.
</p>
<p>
Provides set via this method will be inherited into subclasses.
</p>
<p>
The <tt>format</tt> is extracted from the PATH_INFO, it simply represents
the last extension name in the path.
</p>
<p>
The provide also has influence on the chosen templates for the <tt><a title="Action" href="Action.html">Action</a></tt>.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>Options Hash <tt>param</tt></dt>
<dd>
  <div class="option">
    <table>
      <tr>
        <th class="name">Key Name</th>
        <th class="default">Default Value</th>
        <th class="type">Accepted Types</th>
        <th class="desc">Description</th>
      </tr>
      
        <tr>
          <td class="name">:engine</td>
          <td class="default">
            
              <span class="na">N/A</span>
            
          </td>
          <td class="type">[<tt>Symbol String</tt>]</td>
          <td class="desc"><p>
Name of an engine for View::get
</p>
</td>
        </tr>
      
        <tr>
          <td class="name">:type</td>
          <td class="default">
            
              <span class="na">N/A</span>
            
          </td>
          <td class="type">[<tt>String</tt>]</td>
          <td class="desc"><p>
default Content-Type if none was set in Response
</p>
</td>
        </tr>
      
    </table>
  </div>
</dd>

    
  
    
      <dt>
        <span class='type'>[<tt>Proc</tt>]</span>
        <span class='name'>block</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
upon calling the action, [action, value] will be passed to it and its
return value becomes the response body.
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>ArgumentError</tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
if neither a block nor an engine was given
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>View::get Node#provides</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 213</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L213">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">213
214
215
216
217
218
219
220
221
222
223
224
225
226</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='provide identifier id'>provide</span><span class='lparen token'>(</span><span class='format identifier id'>format</span><span class='comma token'>,</span> <span class='param identifier id'>param</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='param identifier id'>param</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:to_hash</span><span class='rparen token'>)</span>
    <span class='param identifier id'>param</span> <span class='assign token'>=</span> <span class='param identifier id'>param</span><span class='dot token'>.</span><span class='to_hash identifier id'>to_hash</span>
    <span class='handler identifier id'>handler</span> <span class='assign token'>=</span> <span class='block identifier id'>block</span> <span class='orop op'>||</span> <span class='View constant id'>View</span><span class='dot token'>.</span><span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='param identifier id'>param</span><span class='lbrack token'>[</span><span class='symbol val'>:engine</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
    <span class='content_type identifier id'>content_type</span> <span class='assign token'>=</span> <span class='param identifier id'>param</span><span class='lbrack token'>[</span><span class='symbol val'>:type</span><span class='rbrack token'>]</span>
  <span class='else else kw'>else</span>
    <span class='handler identifier id'>handler</span> <span class='assign token'>=</span> <span class='View constant id'>View</span><span class='dot token'>.</span><span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='param identifier id'>param</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='raise identifier id'>raise</span><span class='lparen token'>(</span><span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;Need an engine or block&quot;</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='handler identifier id'>handler</span>

  <span class='trait identifier id'>trait</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{format}_handler&quot;</span>      <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='handler identifier id'>handler</span><span class='comma token'>,</span> <span class='symbol val'>:provide_set</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='rparen token'>)</span>
  <span class='trait identifier id'>trait</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{format}_content_type&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='content_type identifier id'>content_type</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='content_type identifier id'>content_type</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>provide_set?</h3>
</div><div id="provide_set-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>true</tt></span>
    <span class='name'>provide_set?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This will return true if the only provides set are by <tt><a title="Node::included" href="Node/Node.html#included-class_method">Node::included</a></tt>.
</p>
<p>
The reasoning behind this is to determine whether the user has touched the
provides at all, in which case we will not override the provides in
subclasses.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>true</tt>, <tt>false</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
(false)
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>{Node::included}</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 980</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L980">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">980
981
982</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='provide_set? fid id'>provide_set?</span>
  <span class='ancestral_trait identifier id'>ancestral_trait</span><span class='lbrack token'>[</span><span class='symbol val'>:provide_set</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>provides</h3>
</div><div id="provides-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>provides</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 228</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L228">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">228
229
230</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='provides identifier id'>provides</span>
  <span class='ancestral_trait identifier id'>ancestral_trait</span><span class='dot token'>.</span><span class='reject identifier id'>reject</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='k identifier id'>k</span> <span class='nmatch op'>!~</span> <span class='regexp val'>/_handler$/</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>resolve</h3>
</div><div id="resolve-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>nil</tt></span>
    <span class='name'>resolve</span><span class='args'>(path)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Let&#8217;s get down to business, first check if we got any wishes
regarding the representation from the client, otherwise we will assume he
wants html.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>String</tt>]</span>
        <span class='name'>path</span>
        
      </dt>
      <dd>
        <span class='desc'></span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>nil</tt>, <tt><a title="Action" href="Action.html">Action</a></tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>Node::find_provide Node::update_method_arities Node::find_action</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 360</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L360">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">360
361
362
363
364
365
366
367
368
369
370
371
372</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='resolve identifier id'>resolve</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='rparen token'>)</span>
  <span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='wish identifier id'>wish</span><span class='comma token'>,</span> <span class='engine identifier id'>engine</span> <span class='assign token'>=</span> <span class='find_provide identifier id'>find_provide</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='rparen token'>)</span>
  <span class='node identifier id'>node</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:ancestors</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:new</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='self self kw'>self</span> <span class='colon op'>:</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span>
  <span class='action identifier id'>action</span> <span class='assign token'>=</span> <span class='Action constant id'>Action</span><span class='dot token'>.</span><span class='create identifier id'>create</span><span class='lparen token'>(</span><span class='symbol val'>:node</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='node identifier id'>node</span><span class='comma token'>,</span> <span class='symbol val'>:wish</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='wish identifier id'>wish</span><span class='comma token'>,</span> <span class='symbol val'>:engine</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='engine identifier id'>engine</span><span class='comma token'>,</span> <span class='symbol val'>:path</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='path identifier id'>path</span><span class='rparen token'>)</span>

  <span class='if if kw'>if</span> <span class='content_type identifier id'>content_type</span> <span class='assign token'>=</span> <span class='node identifier id'>node</span><span class='dot token'>.</span><span class='ancestral_trait identifier id'>ancestral_trait</span><span class='lbrack token'>[</span><span class='dstring node'>&quot;#{wish}_content_type&quot;</span><span class='rbrack token'>]</span>
    <span class='action identifier id'>action</span><span class='dot token'>.</span><span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:content_type</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='content_type identifier id'>content_type</span><span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>

  <span class='node identifier id'>node</span><span class='dot token'>.</span><span class='update_method_arities identifier id'>update_method_arities</span>
  <span class='node identifier id'>node</span><span class='dot token'>.</span><span class='update_template_mappings identifier id'>update_template_mappings</span>
  <span class='node identifier id'>node</span><span class='dot token'>.</span><span class='fill_action identifier id'>fill_action</span><span class='lparen token'>(</span><span class='action identifier id'>action</span><span class='comma token'>,</span> <span class='name identifier id'>name</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>root_mappings</h3>
</div><div id="root_mappings-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Array</tt></span>
    <span class='name'>root_mappings</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
make sure this is an Array and a new instance so modification on the
wrapping array doesn&#8217;t affect the original option. [*arr].object_id
== arr.object_id if arr is an Array
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Array</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
list of root directories
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 874</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L874">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">874
875
876</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='root_mappings identifier id'>root_mappings</span>
  <span class='lbrack token'>[</span><span class='mult op'>*</span><span class='options identifier id'>options</span><span class='dot token'>.</span><span class='roots identifier id'>roots</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_layout</h3>
</div><div id="to_layout-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>nil</tt></span>
    <span class='name'>to_layout</span><span class='args'>(action_name, wish)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Find the best matching action_name for the layout, if any.
</p>
<p>
This is mostly an abstract method that you might find handy if you want to
do vastly different layout lookup.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>String</tt>]</span>
        <span class='name'>action_name</span>
        
      </dt>
      <dd>
        <span class='desc'></span>
      </dd>
    
  
    
      <dt>
        <span class='type'>[<tt>String</tt>]</span>
        <span class='name'>wish</span>
        
      </dt>
      <dd>
        <span class='desc'></span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>nil</tt>, <tt>String</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
the absolute path to the template or nil
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>{Node#to_template} {Node#root_mappings} {Node#layout_mappings}</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 640</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L640">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">640
641
642
643</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_layout identifier id'>to_layout</span><span class='lparen token'>(</span><span class='action_name identifier id'>action_name</span><span class='comma token'>,</span> <span class='wish identifier id'>wish</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='unless unless_mod kw'>unless</span> <span class='files identifier id'>files</span> <span class='assign token'>=</span> <span class='layout_templates identifier id'>layout_templates</span><span class='lbrack token'>[</span><span class='wish identifier id'>wish</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span>
  <span class='files identifier id'>files</span><span class='lbrack token'>[</span><span class='action_name identifier id'>action_name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_template</h3>
</div><div id="to_template-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>nil</tt></span>
    <span class='name'>to_template</span><span class='args'>(path, wish)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Try to find a template at the given <tt>path</tt> for <tt>wish</tt>.
</p>
<p>
Since Innate supports multiple paths to templates the <tt>path</tt> has to
be an Array that may be nested one level.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>Array&lt;Array&lt;String>></tt>, <tt>Array&lt;String></tt>]</span>
        <span class='name'>path</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
array containing strings and nested (1 level) arrays containing strings
</p>
</span>
      </dd>
    
  
    
      <dt>
        <span class='type'>[<tt>String</tt>]</span>
        <span class='name'>wish</span>
        
      </dt>
      <dd>
        <span class='desc'></span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>nil</tt>, <tt>String</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
relative path to the first template found
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>Node#find_view Node#to_layout Node#find_aliased_view</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 777</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L777">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">777
778
779</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_template identifier id'>to_template</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='wish identifier id'>wish</span><span class='rparen token'>)</span>
  <span class='to_view identifier id'>to_view</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='wish identifier id'>wish</span><span class='rparen token'>)</span> <span class='orop op'>||</span> <span class='to_layout identifier id'>to_layout</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='wish identifier id'>wish</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_view</h3>
</div><div id="to_view-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>String</tt></span>
    <span class='name'>to_view</span><span class='args'>(action_name, wish)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Try to find the best template for the given basename and wish.
</p>
<p>
This method is mostly here for symetry with <tt>to_layout</tt> and to allow you
overriding the template lookup easily.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>#to_s</tt>]</span>
        <span class='name'>action_name</span>
        
      </dt>
      <dd>
        <span class='desc'></span>
      </dd>
    
  
    
      <dt>
        <span class='type'>[<tt>#to_s</tt>]</span>
        <span class='name'>wish</span>
        
      </dt>
      <dd>
        <span class='desc'></span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>String</tt>, <tt>nil</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
depending whether a template could be found
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>{Node#find_view} {Node#to_template} {Node#root_mappings} {Node#view_mappings} {Node#to_template}</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 568</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L568">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">568
569
570
571</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_view identifier id'>to_view</span><span class='lparen token'>(</span><span class='action_name identifier id'>action_name</span><span class='comma token'>,</span> <span class='wish identifier id'>wish</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='unless unless_mod kw'>unless</span> <span class='files identifier id'>files</span> <span class='assign token'>=</span> <span class='view_templates identifier id'>view_templates</span><span class='lbrack token'>[</span><span class='wish identifier id'>wish</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span>
  <span class='files identifier id'>files</span><span class='lbrack token'>[</span><span class='action_name identifier id'>action_name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>try_resolve</h3>
</div><div id="try_resolve-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt><a title="Response" href="Response.html">Response</a></tt></span>
    <span class='name'>try_resolve</span><span class='args'>(path)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Let&#8217;s try to find some valid action for given <tt>path</tt>.
Otherwise we dispatch to <tt>action_missing</tt>.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>String</tt>]</span>
        <span class='name'>path</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
from env[&#8216;PATH_INFO&#8217;]
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a title="Response" href="Response.html">Response</a></tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>Node#resolve Node#action_found Node#action_missing</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 277</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L277">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">277
278
279
280</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='try_resolve identifier id'>try_resolve</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='rparen token'>)</span>
  <span class='action identifier id'>action</span> <span class='assign token'>=</span> <span class='resolve identifier id'>resolve</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='rparen token'>)</span>
  <span class='action identifier id'>action</span> <span class='integer val'>? </span><span class='action_found identifier id'>action_found</span><span class='lparen token'>(</span><span class='action identifier id'>action</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='action_missing identifier id'>action_missing</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>update_layout_mappings</h3>
</div><div id="update_layout_mappings-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>update_layout_mappings</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 791</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L791">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">791
792
793
794</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='update_layout_mappings identifier id'>update_layout_mappings</span>
  <span class='paths identifier id'>paths</span> <span class='assign token'>=</span> <span class='possible_paths_for identifier id'>possible_paths_for</span><span class='lparen token'>(</span><span class='layout_mappings identifier id'>layout_mappings</span><span class='rparen token'>)</span>
  <span class='@layout_templates ivar id'>@layout_templates</span> <span class='assign token'>=</span> <span class='update_mapping_shared identifier id'>update_mapping_shared</span><span class='lparen token'>(</span><span class='paths identifier id'>paths</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>update_mapping_shared</h3>
</div><div id="update_mapping_shared-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>update_mapping_shared</span><span class='args'>(paths)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 796</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L796">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">796
797
798
799
800
801
802
803
804
805
806
807
808
809
810
811
812
813
814
815
816
817
818
819
820
821
822
823
824</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='update_mapping_shared identifier id'>update_mapping_shared</span><span class='lparen token'>(</span><span class='paths identifier id'>paths</span><span class='rparen token'>)</span>
  <span class='mapping identifier id'>mapping</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='paths identifier id'>paths</span><span class='dot token'>.</span><span class='reject! fid id'>reject!</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='path identifier id'>path</span><span class='bitor op'>|</span> <span class='notop op'>!</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='directory? fid id'>directory?</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>

  <span class='provides identifier id'>provides</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='wish_key identifier id'>wish_key</span><span class='comma token'>,</span> <span class='engine identifier id'>engine</span><span class='bitor op'>|</span>
    <span class='wish identifier id'>wish</span> <span class='assign token'>=</span> <span class='wish_key identifier id'>wish_key</span><span class='lbrack token'>[</span><span class='regexp val'>/(.*)_handler/</span><span class='comma token'>,</span> <span class='integer val'>1</span><span class='rbrack token'>]</span>
    <span class='exts identifier id'>exts</span> <span class='assign token'>=</span> <span class='possible_exts_for identifier id'>possible_exts_for</span><span class='lparen token'>(</span><span class='wish identifier id'>wish</span><span class='rparen token'>)</span>

    <span class='paths identifier id'>paths</span><span class='dot token'>.</span><span class='reverse_each identifier id'>reverse_each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='path identifier id'>path</span><span class='bitor op'>|</span>
      <span class='Find constant id'>Find</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='file identifier id'>file</span><span class='bitor op'>|</span>
        <span class='exts identifier id'>exts</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='ext identifier id'>ext</span><span class='bitor op'>|</span>
          <span class='next next kw'>next</span> <span class='unless unless_mod kw'>unless</span> <span class='file identifier id'>file</span> <span class='match op'>=~</span> <span class='ext identifier id'>ext</span>

          <span class='case case kw'>case</span> <span class='file identifier id'>file</span><span class='dot token'>.</span><span class='sub identifier id'>sub</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='string val'>''</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='string val'>'/'</span><span class='comma token'>,</span> <span class='string val'>'__'</span><span class='rparen token'>)</span>
          <span class='when when kw'>when</span> <span class='regexp val'>/^(.*)\.(.*)\.(.*)$/</span>
            <span class='action_name identifier id'>action_name</span><span class='comma token'>,</span> <span class='wish_ext identifier id'>wish_ext</span><span class='comma token'>,</span> <span class='engine_ext identifier id'>engine_ext</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span><span class='comma token'>,</span> <span class='$2 nth_ref id'>$2</span><span class='comma token'>,</span> <span class='$3 nth_ref id'>$3</span>
          <span class='when when kw'>when</span> <span class='regexp val'>/^(.*)\.(.*)$/</span>
            <span class='action_name identifier id'>action_name</span><span class='comma token'>,</span> <span class='wish_ext identifier id'>wish_ext</span><span class='comma token'>,</span> <span class='engine_ext identifier id'>engine_ext</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span><span class='comma token'>,</span> <span class='wish identifier id'>wish</span><span class='comma token'>,</span> <span class='$2 nth_ref id'>$2</span>
          <span class='end end kw'>end</span>

          <span class='mapping identifier id'>mapping</span><span class='lbrack token'>[</span><span class='wish_ext identifier id'>wish_ext</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
          <span class='mapping identifier id'>mapping</span><span class='lbrack token'>[</span><span class='wish_ext identifier id'>wish_ext</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='action_name identifier id'>action_name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='file identifier id'>file</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='return return kw'>return</span> <span class='mapping identifier id'>mapping</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>update_method_arities</h3>
</div><div id="update_method_arities-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Hash</tt></span>
    <span class='name'>update_method_arities</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Answer with a hash, keys are method names, values are method arities.
</p>
<p>
Note that this will be executed once for every request, once we have
settled things down a bit more we can switch to update based on Reloader
hooks and update once on startup. However, that may cause problems with
dynamically created methods, so let&#8217;s play it safe for now.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Hash</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
mapping the name of the methods to their arity
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt><a title="Node#resolve" href="#resolve-instance_method">Node#resolve</a></tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 521</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L521">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">521
522
523
524
525
526
527
528
529
530
531
532
533
534</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='update_method_arities identifier id'>update_method_arities</span>
  <span class='@method_arities ivar id'>@method_arities</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>

  <span class='exposed identifier id'>exposed</span> <span class='assign token'>=</span> <span class='ancestors identifier id'>ancestors</span> <span class='bitand op'>&amp;</span> <span class='Helper constant id'>Helper</span><span class='colon2 op'>::</span><span class='EXPOSE constant id'>EXPOSE</span><span class='dot token'>.</span><span class='to_a identifier id'>to_a</span>
  <span class='higher identifier id'>higher</span> <span class='assign token'>=</span> <span class='ancestors identifier id'>ancestors</span><span class='dot token'>.</span><span class='select identifier id'>select</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span> <span class='lt op'>&lt;</span> <span class='Innate constant id'>Innate</span><span class='colon2 op'>::</span><span class='Node constant id'>Node</span> <span class='rbrace token'>}</span>

  <span class='lparen token'>(</span><span class='higher identifier id'>higher</span> <span class='plus op'>+</span> <span class='exposed identifier id'>exposed</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='reverse_each identifier id'>reverse_each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='ancestor identifier id'>ancestor</span><span class='bitor op'>|</span>
    <span class='ancestor identifier id'>ancestor</span><span class='dot token'>.</span><span class='public_instance_methods identifier id'>public_instance_methods</span><span class='lparen token'>(</span><span class='false false kw'>false</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='im identifier id'>im</span><span class='bitor op'>|</span>
      <span class='@method_arities ivar id'>@method_arities</span><span class='lbrack token'>[</span><span class='im identifier id'>im</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='ancestor identifier id'>ancestor</span><span class='dot token'>.</span><span class='instance_method identifier id'>instance_method</span><span class='lparen token'>(</span><span class='im identifier id'>im</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='arity identifier id'>arity</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='@method_arities ivar id'>@method_arities</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>update_template_mappings</h3>
</div><div id="update_template_mappings-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>update_template_mappings</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 781</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L781">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">781
782
783
784</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='update_template_mappings identifier id'>update_template_mappings</span>
  <span class='update_view_mappings identifier id'>update_view_mappings</span>
  <span class='update_layout_mappings identifier id'>update_layout_mappings</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>update_view_mappings</h3>
</div><div id="update_view_mappings-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>update_view_mappings</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 786</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L786">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">786
787
788
789</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='update_view_mappings identifier id'>update_view_mappings</span>
  <span class='paths identifier id'>paths</span> <span class='assign token'>=</span> <span class='possible_paths_for identifier id'>possible_paths_for</span><span class='lparen token'>(</span><span class='view_mappings identifier id'>view_mappings</span><span class='rparen token'>)</span>
  <span class='@view_templates ivar id'>@view_templates</span> <span class='assign token'>=</span> <span class='update_mapping_shared identifier id'>update_mapping_shared</span><span class='lparen token'>(</span><span class='paths identifier id'>paths</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>view_mappings</h3>
</div><div id="view_mappings-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Array&lt;String></tt></span>
    <span class='name'>view_mappings</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Combine Innate.options.views with either the `ancestral_trait[:views]` or
the <tt><a title="Node#mapping" href="#mapping-instance_method">Node#mapping</a></tt> if the trait yields an empty Array.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Array&lt;String></tt>, <tt>Array&lt;Array&lt;String>></tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>
<div class="author">
  <h3>Author:</h3>
  <dl>
  
    <dt>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
manveru
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="see">
  <h3>See Also:</h3>
  <dl>
    <dt></dt>
    <dd>
      <span class='desc'>
        <tt>{Node#map_views}</tt>
      </span>
    </dd>
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/innate/node.rb', line 902</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/manveru/innate/blob/9650f8c49ca585570e5eab70d4e2ff5b5df8b4c8/lib/innate/node.rb#L902">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">902
903
904
905
906
907</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='view_mappings identifier id'>view_mappings</span>
  <span class='paths identifier id'>paths</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='mult op'>*</span><span class='ancestral_trait identifier id'>ancestral_trait</span><span class='lbrack token'>[</span><span class='symbol val'>:views</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span>
  <span class='paths identifier id'>paths</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='mapping identifier id'>mapping</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='paths identifier id'>paths</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>

  <span class='lbrack token'>[</span><span class='lbrack token'>[</span><span class='mult op'>*</span><span class='options identifier id'>options</span><span class='dot token'>.</span><span class='views identifier id'>views</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='mult op'>*</span><span class='paths identifier id'>paths</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>