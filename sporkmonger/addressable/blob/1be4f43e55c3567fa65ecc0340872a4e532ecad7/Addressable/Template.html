<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>sporkmonger's addressable - Class: Addressable::Template - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/sporkmonger/commits/addressable/master" rel="alternate" title="Recent Commits to addressable:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("sporkmonger", "addressable", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='sporkmonger/addressable/blob/1be4f43e55c3567fa65ecc0340872a4e532ecad7' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='sporkmonger/addressable/blob/1be4f43e55c3567fa65ecc0340872a4e532ecad7' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("sporkmonger", "addressable", "1be4f43e55c3567fa65ecc0340872a4e532ecad7", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/sporkmonger/addressable/tree/">Source</a></li>
            <li class=""><a href="http://github.com/sporkmonger/addressable/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/sporkmonger/addressable/network">Network</a></li>            
            <li class=""><a href="http://github.com/sporkmonger/addressable/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/sporkmonger/addressable">Wiki</a></li>
            <li class=""><a href="http://github.com/sporkmonger/addressable/graphs">Graphs</a></li>                    
            <li class="active"><a href="/sporkmonger/addressable">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/sporkmonger">sporkmonger</a> / <b><a href="http://github.com/sporkmonger/addressable/tree">addressable</a></b>        
                <a id="namespaces_button" rel="sporkmonger/addressable/blob/1be4f43e55c3567fa65ecc0340872a4e532ecad7" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="sporkmonger/addressable/blob/1be4f43e55c3567fa65ecc0340872a4e532ecad7" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Addressable_Template">
  <h1>Class: Addressable::Template</h1>
  <div class="section docstring">
  <p>
This is an implementation of a URI template based on &lt;a
href=&quot;http://tinyurl.com/uritemplatedraft03&quot;&gt;URI Template
draft 03&lt;/a&gt;.
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">pattern</td>
          <td class="readwrite">
            [<span id='pattern-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            
            
              <p class='returns'>
                Returns: 
                  <span class='return_types'>
                     <tt>String</tt>
                  </span>
              </p>
            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="OPERATOR_EXPANSION-constant">OPERATOR_EXPANSION</dt>
      <dd>/\{-([a-zA-Z]+)\|([#{anything}]+)\|([#{anything}]+)\}/</dd>
    
      <dt id="VARIABLE_EXPANSION-constant">VARIABLE_EXPANSION</dt>
      <dd>/\{([#{anything}]+?)(=([#{anything}]+))?\}/</dd>
    
  </dl>
</div>

</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt><a title="Addressable::Template" href="">Addressable::Template</a></tt></span>
    <span class='name'>initialize</span><span class='args'>(pattern)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Creates a new <tt>Addressable::Template</tt> object.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>#to_str</tt>]</span>
        <span class='name'>pattern</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
The URI Template pattern.
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a title="Addressable::Template" href="">Addressable::Template</a></tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
The initialized Template object.
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/addressable/template.rb', line 132</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/sporkmonger/addressable/blob/1be4f43e55c3567fa65ecc0340872a4e532ecad7/lib/addressable/template.rb#L132">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">132
133
134
135
136
137</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='pattern identifier id'>pattern</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='notop op'>!</span><span class='pattern identifier id'>pattern</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='colon op'>:</span><span class='to_str identifier id'>to_str</span><span class='rparen token'>)</span>
    <span class='raise identifier id'>raise</span> <span class='TypeError constant id'>TypeError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Can't convert #{pattern.class} into String.&quot;</span>
  <span class='end end kw'>end</span>
  <span class='@pattern ivar id'>@pattern</span> <span class='assign token'>=</span> <span class='pattern identifier id'>pattern</span><span class='dot token'>.</span><span class='to_str identifier id'>to_str</span><span class='dot token'>.</span><span class='freeze identifier id'>freeze</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#expand-instance_method">#expand</span><span class='args'>(mapping, processor = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Expands a URI template into a full URI.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt><a title="Addressable::URI" href="URI.html">Addressable::URI</a></tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#extract-instance_method">#extract</span><span class='args'>(uri, processor = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Extracts a mapping from the URI using a URI Template pattern.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Hash</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#inspect-instance_method">#inspect</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a <tt>String</tt> representation of the Template object&#8217;s
state.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>String</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#match-instance_method">#match</span><span class='args'>(uri, processor = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Extracts match data from the URI using a URI Template pattern.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Hash</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#partial_expand-instance_method">#partial_expand</span><span class='args'>(mapping, processor = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Expands a URI template into another URI template.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt><a title="Addressable::Template" href="">Addressable::Template</a></tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#variables-instance_method">#variables</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns an Array of variables used within the template pattern.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Array</tt>
              </span>
          </p>
        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>expand</h3>
</div><div id="expand-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt><a title="Addressable::URI" href="URI.html">Addressable::URI</a></tt></span>
    <span class='name'>expand</span><span class='args'>(mapping, processor = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Expands a URI template into a full URI.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>Hash</tt>]</span>
        <span class='name'>mapping</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
The mapping that corresponds to the pattern.
</p>
</span>
      </dd>
    
  
    
      <dt>
        <span class='type'>[<tt>#validate</tt>, <tt>#transform</tt>]</span>
        <span class='name'>processor</span>
        
          <em class="default">(defaults to: <tt>nil</tt>)</em>
        
      </dt>
      <dd>
        <span class='desc'><p>
An optional processor object may be supplied. The object should respond to
either the <tt>validate</tt> or <tt>transform</tt> messages or both. Both
the <tt>validate</tt> and <tt>transform</tt> methods should take two
parameters: <tt>name</tt> and <tt>value</tt>. The <tt>validate</tt> method
should return <tt>true</tt> or <tt>false</tt>; <tt>true</tt> if the value
of the variable is valid, <tt>false</tt> otherwise. An
<tt>InvalidTemplateValueError</tt> exception will be raised if the value is
invalid. The <tt>transform</tt> method should return the transformed
variable value as a <tt>String</tt>. If a <tt>transform</tt> method is
used, the value will not be percent encoded automatically. Unicode
normalization will be performed both before and after sending the value to
the transform method.
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a title="Addressable::URI" href="URI.html">Addressable::URI</a></tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
The expanded URI template.
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/addressable/template.rb', line 455</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/sporkmonger/addressable/blob/1be4f43e55c3567fa65ecc0340872a4e532ecad7/lib/addressable/template.rb#L455">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='expand identifier id'>expand</span><span class='lparen token'>(</span><span class='mapping identifier id'>mapping</span><span class='comma token'>,</span> <span class='processor identifier id'>processor</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='pattern identifier id'>pattern</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
  <span class='transformed_mapping identifier id'>transformed_mapping</span> <span class='assign token'>=</span> <span class='transform_mapping identifier id'>transform_mapping</span><span class='lparen token'>(</span><span class='mapping identifier id'>mapping</span><span class='comma token'>,</span> <span class='processor identifier id'>processor</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span>
    <span class='dregexp node'>/#{OPERATOR_EXPANSION}|#{VARIABLE_EXPANSION}/</span>
  <span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='capture identifier id'>capture</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='capture identifier id'>capture</span> <span class='match op'>=~</span> <span class='OPERATOR_EXPANSION constant id'>OPERATOR_EXPANSION</span>
      <span class='operator identifier id'>operator</span><span class='comma token'>,</span> <span class='argument identifier id'>argument</span><span class='comma token'>,</span> <span class='variables identifier id'>variables</span><span class='comma token'>,</span> <span class='default_mapping identifier id'>default_mapping</span> <span class='assign token'>=</span>
        <span class='parse_template_expansion identifier id'>parse_template_expansion</span><span class='lparen token'>(</span><span class='capture identifier id'>capture</span><span class='comma token'>,</span> <span class='transformed_mapping identifier id'>transformed_mapping</span><span class='rparen token'>)</span>
      <span class='expand_method identifier id'>expand_method</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;expand_#{operator}_operator&quot;</span>
      <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='expand_method identifier id'>expand_method</span><span class='comma token'>,</span> <span class='expand_method identifier id'>expand_method</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span> <span class='bitand op'>&amp;</span> <span class='private_methods identifier id'>private_methods</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
        <span class='raise identifier id'>raise</span> <span class='InvalidTemplateOperatorError constant id'>InvalidTemplateOperatorError</span><span class='comma token'>,</span>
          <span class='dstring node'>&quot;Invalid template operator: #{operator}&quot;</span>
      <span class='else else kw'>else</span>
        <span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='expand_method identifier id'>expand_method</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='comma token'>,</span> <span class='argument identifier id'>argument</span><span class='comma token'>,</span> <span class='variables identifier id'>variables</span><span class='comma token'>,</span> <span class='default_mapping identifier id'>default_mapping</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='else else kw'>else</span>
      <span class='varname identifier id'>varname</span><span class='comma token'>,</span> <span class='_ identifier id'>_</span><span class='comma token'>,</span> <span class='vardefault identifier id'>vardefault</span> <span class='assign token'>=</span> <span class='capture identifier id'>capture</span><span class='dot token'>.</span><span class='scan identifier id'>scan</span><span class='lparen token'>(</span><span class='regexp val'>/^\{(.+?)(=(.*))?\}$/</span><span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
      <span class='transformed_mapping identifier id'>transformed_mapping</span><span class='lbrack token'>[</span><span class='varname identifier id'>varname</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='vardefault identifier id'>vardefault</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='return return kw'>return</span> <span class='Addressable constant id'>Addressable</span><span class='colon2 op'>::</span><span class='URI constant id'>URI</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='result identifier id'>result</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>extract</h3>
</div><div id="extract-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Hash</tt></span>
    <span class='name'>extract</span><span class='args'>(uri, processor = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Extracts a mapping from the URI using a URI Template pattern.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt><a title="Addressable::URI" href="URI.html">Addressable::URI</a></tt>, <tt>#to_str</tt>]</span>
        <span class='name'>uri</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
The URI to extract from.
</p>
</span>
      </dd>
    
  
    
      <dt>
        <span class='type'>[<tt>#restore</tt>, <tt>#match</tt>]</span>
        <span class='name'>processor</span>
        
          <em class="default">(defaults to: <tt>nil</tt>)</em>
        
      </dt>
      <dd>
        <span class='desc'><p>
A template processor object may optionally be supplied. The object should
respond to either the <tt>restore</tt> or <tt>match</tt> messages or both.
The <tt>restore</tt> method should take two parameters: [String] name and
[String] value. The <tt>restore</tt> method should reverse any
transformations that have been performed on the value to ensure a valid
URI. The <tt>match</tt> method should take a single parameter: [String]
name. The <tt>match</tt> method should return a <tt>String</tt> containing
a regular expression capture group for matching on that particular
variable. The default value is &quot;.*?&quot;. The <tt>match</tt> method
has no effect on multivariate operator expansions.
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Hash</tt>, <tt>NilClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
The <tt>Hash</tt> mapping that was extracted from the URI, or <tt>nil</tt>
if the URI didn&#8217;t match the template.
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/addressable/template.rb', line 205</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/sporkmonger/addressable/blob/1be4f43e55c3567fa65ecc0340872a4e532ecad7/lib/addressable/template.rb#L205">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">205
206
207
208</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='extract identifier id'>extract</span><span class='lparen token'>(</span><span class='uri identifier id'>uri</span><span class='comma token'>,</span> <span class='processor identifier id'>processor</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='match_data identifier id'>match_data</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='uri identifier id'>uri</span><span class='comma token'>,</span> <span class='processor identifier id'>processor</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='lparen token'>(</span><span class='match_data identifier id'>match_data</span> <span class='integer val'>? </span><span class='match_data identifier id'>match_data</span><span class='dot token'>.</span><span class='mapping identifier id'>mapping</span> <span class='colon op'>:</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>inspect</h3>
</div><div id="inspect-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>String</tt></span>
    <span class='name'>inspect</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a <tt>String</tt> representation of the Template object&#8217;s
state.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>String</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
The Template object&#8217;s state, as a <tt>String</tt>.
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/addressable/template.rb', line 147</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/sporkmonger/addressable/blob/1be4f43e55c3567fa65ecc0340872a4e532ecad7/lib/addressable/template.rb#L147">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">147
148
149
150</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='inspect identifier id'>inspect</span>
  <span class='sprintf identifier id'>sprintf</span><span class='lparen token'>(</span><span class='string val'>&quot;#&lt;%s:%#0x PATTERN:%s&gt;&quot;</span><span class='comma token'>,</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='object_id identifier id'>object_id</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='pattern identifier id'>pattern</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>match</h3>
</div><div id="match-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Hash</tt></span>
    <span class='name'>match</span><span class='args'>(uri, processor = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Extracts match data from the URI using a URI Template pattern.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt><a title="Addressable::URI" href="URI.html">Addressable::URI</a></tt>, <tt>#to_str</tt>]</span>
        <span class='name'>uri</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
The URI to extract from.
</p>
</span>
      </dd>
    
  
    
      <dt>
        <span class='type'>[<tt>#restore</tt>, <tt>#match</tt>]</span>
        <span class='name'>processor</span>
        
          <em class="default">(defaults to: <tt>nil</tt>)</em>
        
      </dt>
      <dd>
        <span class='desc'><p>
A template processor object may optionally be supplied. The object should
respond to either the <tt>restore</tt> or <tt>match</tt> messages or both.
The <tt>restore</tt> method should take two parameters: [String] name and
[String] value. The <tt>restore</tt> method should reverse any
transformations that have been performed on the value to ensure a valid
URI. The <tt>match</tt> method should take a single parameter: [String]
name. The <tt>match</tt> method should return a <tt>String</tt> containing
a regular expression capture group for matching on that particular
variable. The default value is &quot;.*?&quot;. The <tt>match</tt> method
has no effect on multivariate operator expansions.
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Hash</tt>, <tt>NilClass</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
The <tt>Hash</tt> mapping that was extracted from the URI, or <tt>nil</tt>
if the URI didn&#8217;t match the template.
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/addressable/template.rb', line 272</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/sporkmonger/addressable/blob/1be4f43e55c3567fa65ecc0340872a4e532ecad7/lib/addressable/template.rb#L272">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='uri identifier id'>uri</span><span class='comma token'>,</span> <span class='processor identifier id'>processor</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='uri identifier id'>uri</span> <span class='assign token'>=</span> <span class='Addressable constant id'>Addressable</span><span class='colon2 op'>::</span><span class='URI constant id'>URI</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='uri identifier id'>uri</span><span class='rparen token'>)</span>
  <span class='mapping identifier id'>mapping</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>

  <span class='comment val'># First, we need to process the pattern, and extract the values.</span>
  <span class='expansions identifier id'>expansions</span><span class='comma token'>,</span> <span class='expansion_regexp identifier id'>expansion_regexp</span> <span class='assign token'>=</span>
    <span class='parse_template_pattern identifier id'>parse_template_pattern</span><span class='lparen token'>(</span><span class='pattern identifier id'>pattern</span><span class='comma token'>,</span> <span class='processor identifier id'>processor</span><span class='rparen token'>)</span>
  <span class='unparsed_values identifier id'>unparsed_values</span> <span class='assign token'>=</span> <span class='uri identifier id'>uri</span><span class='dot token'>.</span><span class='to_str identifier id'>to_str</span><span class='dot token'>.</span><span class='scan identifier id'>scan</span><span class='lparen token'>(</span><span class='expansion_regexp identifier id'>expansion_regexp</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span>

  <span class='if if kw'>if</span> <span class='uri identifier id'>uri</span><span class='dot token'>.</span><span class='to_str identifier id'>to_str</span> <span class='eq op'>==</span> <span class='pattern identifier id'>pattern</span>
    <span class='return return kw'>return</span> <span class='Addressable constant id'>Addressable</span><span class='colon2 op'>::</span><span class='Template constant id'>Template</span><span class='colon2 op'>::</span><span class='MatchData constant id'>MatchData</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='uri identifier id'>uri</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='comma token'>,</span> <span class='mapping identifier id'>mapping</span><span class='rparen token'>)</span>
  <span class='elsif elsif kw'>elsif</span> <span class='expansions identifier id'>expansions</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span> <span class='andop op'>&amp;&amp;</span> <span class='expansions identifier id'>expansions</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='eq op'>==</span> <span class='unparsed_values identifier id'>unparsed_values</span><span class='dot token'>.</span><span class='size identifier id'>size</span>
    <span class='expansions identifier id'>expansions</span><span class='dot token'>.</span><span class='each_with_index identifier id'>each_with_index</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='expansion identifier id'>expansion</span><span class='comma token'>,</span> <span class='index identifier id'>index</span><span class='bitor op'>|</span>
      <span class='unparsed_value identifier id'>unparsed_value</span> <span class='assign token'>=</span> <span class='unparsed_values identifier id'>unparsed_values</span><span class='lbrack token'>[</span><span class='index identifier id'>index</span><span class='rbrack token'>]</span>
      <span class='if if kw'>if</span> <span class='expansion identifier id'>expansion</span> <span class='match op'>=~</span> <span class='OPERATOR_EXPANSION constant id'>OPERATOR_EXPANSION</span>
        <span class='operator identifier id'>operator</span><span class='comma token'>,</span> <span class='argument identifier id'>argument</span><span class='comma token'>,</span> <span class='variables identifier id'>variables</span> <span class='assign token'>=</span>
          <span class='parse_template_expansion identifier id'>parse_template_expansion</span><span class='lparen token'>(</span><span class='expansion identifier id'>expansion</span><span class='rparen token'>)</span>
        <span class='extract_method identifier id'>extract_method</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;extract_#{operator}_operator&quot;</span>
        <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='extract_method identifier id'>extract_method</span><span class='comma token'>,</span> <span class='extract_method identifier id'>extract_method</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span> <span class='bitand op'>&amp;</span>
            <span class='private_methods identifier id'>private_methods</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
          <span class='raise identifier id'>raise</span> <span class='InvalidTemplateOperatorError constant id'>InvalidTemplateOperatorError</span><span class='comma token'>,</span>
            <span class='dstring node'>&quot;Invalid template operator: #{operator}&quot;</span>
        <span class='else else kw'>else</span>
          <span class='begin begin kw'>begin</span>
            <span class='send identifier id'>send</span><span class='lparen token'>(</span>
              <span class='extract_method identifier id'>extract_method</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='comma token'>,</span> <span class='unparsed_value identifier id'>unparsed_value</span><span class='comma token'>,</span> <span class='processor identifier id'>processor</span><span class='comma token'>,</span>
              <span class='argument identifier id'>argument</span><span class='comma token'>,</span> <span class='variables identifier id'>variables</span><span class='comma token'>,</span> <span class='mapping identifier id'>mapping</span>
            <span class='rparen token'>)</span>
          <span class='rescue rescue kw'>rescue</span> <span class='TemplateOperatorAbortedError constant id'>TemplateOperatorAbortedError</span>
            <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span>
          <span class='end end kw'>end</span>
        <span class='end end kw'>end</span>
      <span class='else else kw'>else</span>
        <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='expansion identifier id'>expansion</span><span class='lbrack token'>[</span><span class='VARIABLE_EXPANSION constant id'>VARIABLE_EXPANSION</span><span class='comma token'>,</span> <span class='integer val'>1</span><span class='rbrack token'>]</span>
        <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='unparsed_value identifier id'>unparsed_value</span>
        <span class='if if kw'>if</span> <span class='processor identifier id'>processor</span> <span class='neq op'>!=</span> <span class='nil nil kw'>nil</span> <span class='andop op'>&amp;&amp;</span> <span class='processor identifier id'>processor</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='colon op'>:</span><span class='restore identifier id'>restore</span><span class='rparen token'>)</span>
          <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='processor identifier id'>processor</span><span class='dot token'>.</span><span class='restore identifier id'>restore</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
        <span class='if if kw'>if</span> <span class='mapping identifier id'>mapping</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span> <span class='orop op'>||</span> <span class='mapping identifier id'>mapping</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='value identifier id'>value</span>
          <span class='mapping identifier id'>mapping</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span>
        <span class='else else kw'>else</span>
          <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='return return kw'>return</span> <span class='Addressable constant id'>Addressable</span><span class='colon2 op'>::</span><span class='Template constant id'>Template</span><span class='colon2 op'>::</span><span class='MatchData constant id'>MatchData</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='uri identifier id'>uri</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='comma token'>,</span> <span class='mapping identifier id'>mapping</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>partial_expand</h3>
</div><div id="partial_expand-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt><a title="Addressable::Template" href="">Addressable::Template</a></tt></span>
    <span class='name'>partial_expand</span><span class='args'>(mapping, processor = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Expands a URI template into another URI template.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>Hash</tt>]</span>
        <span class='name'>mapping</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
The mapping that corresponds to the pattern.
</p>
</span>
      </dd>
    
  
    
      <dt>
        <span class='type'>[<tt>#validate</tt>, <tt>#transform</tt>]</span>
        <span class='name'>processor</span>
        
          <em class="default">(defaults to: <tt>nil</tt>)</em>
        
      </dt>
      <dd>
        <span class='desc'><p>
An optional processor object may be supplied. The object should respond to
either the <tt>validate</tt> or <tt>transform</tt> messages or both. Both
the <tt>validate</tt> and <tt>transform</tt> methods should take two
parameters: <tt>name</tt> and <tt>value</tt>. The <tt>validate</tt> method
should return <tt>true</tt> or <tt>false</tt>; <tt>true</tt> if the value
of the variable is valid, <tt>false</tt> otherwise. An
<tt>InvalidTemplateValueError</tt> exception will be raised if the value is
invalid. The <tt>transform</tt> method should return the transformed
variable value as a <tt>String</tt>. If a <tt>transform</tt> method is
used, the value will not be percent encoded automatically. Unicode
normalization will be performed both before and after sending the value to
the transform method.
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a title="Addressable::Template" href="">Addressable::Template</a></tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
The partially expanded URI template.
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/addressable/template.rb', line 366</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/sporkmonger/addressable/blob/1be4f43e55c3567fa65ecc0340872a4e532ecad7/lib/addressable/template.rb#L366">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='partial_expand identifier id'>partial_expand</span><span class='lparen token'>(</span><span class='mapping identifier id'>mapping</span><span class='comma token'>,</span> <span class='processor identifier id'>processor</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='pattern identifier id'>pattern</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
  <span class='transformed_mapping identifier id'>transformed_mapping</span> <span class='assign token'>=</span> <span class='transform_mapping identifier id'>transform_mapping</span><span class='lparen token'>(</span><span class='mapping identifier id'>mapping</span><span class='comma token'>,</span> <span class='processor identifier id'>processor</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span>
    <span class='dregexp node'>/#{OPERATOR_EXPANSION}|#{VARIABLE_EXPANSION}/</span>
  <span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='capture identifier id'>capture</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='capture identifier id'>capture</span> <span class='match op'>=~</span> <span class='OPERATOR_EXPANSION constant id'>OPERATOR_EXPANSION</span>
      <span class='operator identifier id'>operator</span><span class='comma token'>,</span> <span class='argument identifier id'>argument</span><span class='comma token'>,</span> <span class='variables identifier id'>variables</span><span class='comma token'>,</span> <span class='default_mapping identifier id'>default_mapping</span> <span class='assign token'>=</span>
        <span class='parse_template_expansion identifier id'>parse_template_expansion</span><span class='lparen token'>(</span><span class='capture identifier id'>capture</span><span class='comma token'>,</span> <span class='transformed_mapping identifier id'>transformed_mapping</span><span class='rparen token'>)</span>
      <span class='expand_method identifier id'>expand_method</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;expand_#{operator}_operator&quot;</span>
      <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='expand_method identifier id'>expand_method</span><span class='comma token'>,</span> <span class='expand_method identifier id'>expand_method</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span> <span class='bitand op'>&amp;</span> <span class='private_methods identifier id'>private_methods</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
        <span class='raise identifier id'>raise</span> <span class='InvalidTemplateOperatorError constant id'>InvalidTemplateOperatorError</span><span class='comma token'>,</span>
          <span class='dstring node'>&quot;Invalid template operator: #{operator}&quot;</span>
      <span class='else else kw'>else</span>
        <span class='send identifier id'>send</span><span class='lparen token'>(</span>
          <span class='expand_method identifier id'>expand_method</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='comma token'>,</span> <span class='argument identifier id'>argument</span><span class='comma token'>,</span> <span class='variables identifier id'>variables</span><span class='comma token'>,</span>
          <span class='default_mapping identifier id'>default_mapping</span><span class='comma token'>,</span> <span class='true true kw'>true</span>
        <span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='else else kw'>else</span>
      <span class='varname identifier id'>varname</span><span class='comma token'>,</span> <span class='_ identifier id'>_</span><span class='comma token'>,</span> <span class='vardefault identifier id'>vardefault</span> <span class='assign token'>=</span> <span class='capture identifier id'>capture</span><span class='dot token'>.</span><span class='scan identifier id'>scan</span><span class='lparen token'>(</span><span class='regexp val'>/^\{(.+?)(=(.*))?\}$/</span><span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
      <span class='if if kw'>if</span> <span class='transformed_mapping identifier id'>transformed_mapping</span><span class='lbrack token'>[</span><span class='varname identifier id'>varname</span><span class='rbrack token'>]</span>
        <span class='transformed_mapping identifier id'>transformed_mapping</span><span class='lbrack token'>[</span><span class='varname identifier id'>varname</span><span class='rbrack token'>]</span>
      <span class='elsif elsif kw'>elsif</span> <span class='vardefault identifier id'>vardefault</span>
        <span class='dstring node'>&quot;{#{varname}=#{vardefault}}&quot;</span>
      <span class='else else kw'>else</span>
        <span class='dstring node'>&quot;{#{varname}}&quot;</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='return return kw'>return</span> <span class='Addressable constant id'>Addressable</span><span class='colon2 op'>::</span><span class='Template constant id'>Template</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='result identifier id'>result</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>variables</h3>
</div><div id="variables-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Array</tt></span>
    <span class='name'>variables</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns an Array of variables used within the template pattern. The
variables are listed in the Array in the order they appear within the
pattern. Multiple occurrences of a variable within a pattern are not
represented in this Array.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Array</tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
The variables present in the template&#8217;s pattern.
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/addressable/template.rb', line 486</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/sporkmonger/addressable/blob/1be4f43e55c3567fa65ecc0340872a4e532ecad7/lib/addressable/template.rb#L486">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">486
487
488
489
490
491
492
493
494
495
496
497
498
499
500</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='variables identifier id'>variables</span>
<span class='@variables ivar id'>@variables</span> <span class='opasgn op'>||=</span> <span class='lparen token'>(</span><span class='begin begin kw'>begin</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>

  <span class='expansions identifier id'>expansions</span><span class='comma token'>,</span> <span class='expansion_regexp identifier id'>expansion_regexp</span> <span class='assign token'>=</span> <span class='parse_template_pattern identifier id'>parse_template_pattern</span><span class='lparen token'>(</span><span class='pattern identifier id'>pattern</span><span class='rparen token'>)</span>
  <span class='expansions identifier id'>expansions</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='expansion identifier id'>expansion</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='expansion identifier id'>expansion</span> <span class='match op'>=~</span> <span class='OPERATOR_EXPANSION constant id'>OPERATOR_EXPANSION</span>
      <span class='_ identifier id'>_</span><span class='comma token'>,</span> <span class='_ identifier id'>_</span><span class='comma token'>,</span> <span class='variables identifier id'>variables</span><span class='comma token'>,</span> <span class='_ identifier id'>_</span> <span class='assign token'>=</span> <span class='parse_template_expansion identifier id'>parse_template_expansion</span><span class='lparen token'>(</span><span class='expansion identifier id'>expansion</span><span class='rparen token'>)</span>
      <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='concat identifier id'>concat</span><span class='lparen token'>(</span><span class='variables identifier id'>variables</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='result identifier id'>result</span> <span class='lshft op'>&lt;&lt;</span> <span class='expansion identifier id'>expansion</span><span class='lbrack token'>[</span><span class='VARIABLE_EXPANSION constant id'>VARIABLE_EXPANSION</span><span class='comma token'>,</span> <span class='integer val'>1</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='uniq identifier id'>uniq</span>
<span class='end end kw'>end</span><span class='rparen token'>)</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>