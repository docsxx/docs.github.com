<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>hgimenez's peegee - Class: Peegee::Table - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/hgimenez/commits/peegee/master" rel="alternate" title="Recent Commits to peegee:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    GitHubRepo.init("hgimenez", "peegee", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='hgimenez/peegee/blob/4d73daf1a0521b2e1ffd470b5d50f7cd627c52e1' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='hgimenez/peegee/blob/4d73daf1a0521b2e1ffd470b5d50f7cd627c52e1' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("hgimenez", "peegee", "4d73daf1a0521b2e1ffd470b5d50f7cd627c52e1", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/hgimenez/peegee/tree/">Source</a></li>
            <li class=""><a href="http://github.com/hgimenez/peegee/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/hgimenez/peegee/network">Network</a></li>            
            <li class=""><a href="http://github.com/hgimenez/peegee/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/hgimenez/peegee">Wiki</a></li>
            <li class=""><a href="http://github.com/hgimenez/peegee/graphs">Graphs</a></li>                    
            <li class="active"><a href="/hgimenez/peegee">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/hgimenez">hgimenez</a> / <b><a href="http://github.com/hgimenez/peegee/tree">peegee</a></b>        
                <a id="namespaces_button" rel="hgimenez/peegee/blob/4d73daf1a0521b2e1ffd470b5d50f7cd627c52e1" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="hgimenez/peegee/blob/4d73daf1a0521b2e1ffd470b5d50f7cd627c52e1" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Peegee_Table">
  <h1>Class: Peegee::Table</h1>
  <div class="section mixins">
  <h2>Included Modules</h2>
  <p><a title="Peegee::Clustering" href="Clustering.html">Peegee::Clustering</a></p>
</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">table_name</td>
          <td class="readwrite">
            [<span id='table_name-instance_method'>R</span><span id='table_name%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>table_name</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(table_name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
new can&#8217;t be called on this class. Use find instead. Using find will
register the Table instance
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/peegee/table.rb', line 13</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/hgimenez/peegee/blob/master/lib/peegee/table.rb#L13">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">13
14
15</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='rparen token'>)</span>
  <span class='@table_name ivar id'>@table_name</span> <span class='assign token'>=</span> <span class='table_name identifier id'>table_name</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#exists-3F-class_method">exists?</span><span class='args'>(table_name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Class method that finds out if a given table name exists in the database.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#find-class_method">find</span><span class='args'>(opts)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Finds the table given by <tt>table_name</tt> and returns an instance of
Peegee::Table.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#columns-instance_method">#columns</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns an array of <tt>Peegee::Column</tt> objects.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#columns-21-instance_method">#columns!</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#ddl-instance_method">#ddl</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the DDL for this table as a string.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#dependent_foreign_keys-instance_method">#dependent_foreign_keys</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns an array of all dependent foreign keys for this table, as
<tt>Peegee::ForeignKey</tt> objects.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#dependent_foreign_keys-21-instance_method">#dependent_foreign_keys!</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#foreign_keys-instance_method">#foreign_keys</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns an array of all foreign keys for this table, as
<tt>Peegee::ForeignKey</tt> objects.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#foreign_keys-21-instance_method">#foreign_keys!</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#indexes-instance_method">#indexes</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns an array of indexes for this table, as <tt>Peegee::indexes</tt>
objects.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#indexes-21-instance_method">#indexes!</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#oid-instance_method">#oid</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
The postgresql OID for this table.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#oid-21-instance_method">#oid!</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#primary_key-instance_method">#primary_key</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns an array of primary keys for this table, as
<tt>Peegee::PrimaryKey</tt> objects.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#primary_key-21-instance_method">#primary_key!</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_s-instance_method">#to_s</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a human readable description of this table.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#unique_constraints-instance_method">#unique_constraints</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns an array of unique constraints for this table, as
<tt>Peegee::UniqueConstraint</tt> objects.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#unique_constraints-21-instance_method">#unique_constraints!</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table><div class="included">
  
  <div>
    <h2>Public Instance Methods Included from <a title="Peegee::Clustering" href="Clustering.html">Peegee::Clustering</a></h2>
    <p><span class='name'><a title="cluster" href="Clustering.html#cluster-instance_method">cluster</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>exists?</h3>
</div><div id="exists-3F-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>exists?</span><span class='args'>(table_name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Class method that finds out if a given table name exists in the database.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/peegee/table.rb', line 32</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/hgimenez/peegee/blob/master/lib/peegee/table.rb#L32">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">32
33
34
35</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='exists? fid id'>exists?</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='rparen token'>)</span>
  <span class='sql identifier id'>sql</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;select * from pg_class where relname = '#{table_name}' and relkind = 'r'&quot;</span>
  <span class='notop op'>!</span><span class='lparen token'>(</span><span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span><span class='dot token'>.</span><span class='connection identifier id'>connection</span><span class='dot token'>.</span><span class='execute identifier id'>execute</span><span class='lparen token'>(</span><span class='sql identifier id'>sql</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='entries identifier id'>entries</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='eq op'>==</span> <span class='integer val'>0</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>find</h3>
</div><div id="find-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>find</span><span class='args'>(opts)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Finds the table given by <tt>table_name</tt> and returns an instance of
Peegee::Table. A TableNotFoundError is thrown if the table with the
supplied <tt>table_name</tt> is not found in the database.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/peegee/table.rb', line 21</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/hgimenez/peegee/blob/master/lib/peegee/table.rb#L21">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">21
22
23
24
25
26
27
28
29</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='opts identifier id'>opts</span><span class='rparen token'>)</span>
  <span class='table_name identifier id'>table_name</span> <span class='assign token'>=</span> <span class='opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:table_name</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='opts identifier id'>opts</span>
  <span class='if if kw'>if</span> <span class='Peegee constant id'>Peegee</span><span class='colon2 op'>::</span><span class='Table constant id'>Table</span><span class='dot token'>.</span><span class='exists? fid id'>exists?</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='rparen token'>)</span>
    <span class='t identifier id'>t</span> <span class='assign token'>=</span> <span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='table_name identifier id'>table_name</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='Peegee constant id'>Peegee</span><span class='colon2 op'>::</span><span class='Database constant id'>Database</span><span class='dot token'>.</span><span class='register_table identifier id'>register_table</span><span class='lparen token'>(</span><span class='t identifier id'>t</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='raise identifier id'>raise</span> <span class='TableNotFoundError constant id'>TableNotFoundError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Table #{table_name} does not exist&quot;</span><span class='comma token'>,</span> <span class='caller identifier id'>caller</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>columns</h3>
</div><div id="columns-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>columns</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns an array of <tt>Peegee::Column</tt> objects. The first time this
method is called, columns are retrieved from the database and cached in an
instance variable. Subsequent calls will use the cached values. To force a
lookup of this table&#8217;s columns use the <tt>columns!</tt> method
instead.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/peegee/table.rb', line 116</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/hgimenez/peegee/blob/master/lib/peegee/table.rb#L116">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">116
117
118</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='columns identifier id'>columns</span>
  <span class='@columns ivar id'>@columns</span> <span class='opasgn op'>||=</span> <span class='fetch_columns identifier id'>fetch_columns</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>columns!</h3>
</div><div id="columns-21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>columns!</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/peegee/table.rb', line 120</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/hgimenez/peegee/blob/master/lib/peegee/table.rb#L120">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">120
121
122
123</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='columns! fid id'>columns!</span>
  <span class='@columns ivar id'>@columns</span> <span class='assign token'>=</span> <span class='fetch_columns identifier id'>fetch_columns</span>
  <span class='@columns ivar id'>@columns</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>ddl</h3>
</div><div id="ddl-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>ddl</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the DDL for this table as a string.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/peegee/table.rb', line 126</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/hgimenez/peegee/blob/master/lib/peegee/table.rb#L126">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='ddl identifier id'>ddl</span>
  <span class='ddl identifier id'>ddl</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;create table #{@table_name} ( \n\t&quot;</span>
  <span class='columns_ddl identifier id'>columns_ddl</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='columns identifier id'>columns</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='column identifier id'>column</span><span class='bitor op'>|</span>
    <span class='column_ddl identifier id'>column_ddl</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='comment val'>#name and type</span>
    <span class='column_ddl identifier id'>column_ddl</span> <span class='lshft op'>&lt;&lt;</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='name identifier id'>name</span> <span class='plus op'>+</span> <span class='string val'>' '</span> <span class='plus op'>+</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='type identifier id'>type</span>
    <span class='comment val'>#not null?</span>
    <span class='column_ddl identifier id'>column_ddl</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>'NOT NULL'</span> <span class='if if_mod kw'>if</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='not_null identifier id'>not_null</span>
    <span class='comment val'>#add modifiers:</span>
    <span class='column_ddl identifier id'>column_ddl</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>'DEFAULT '</span> <span class='plus op'>+</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='default identifier id'>default</span> <span class='if if_mod kw'>if</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='has_default identifier id'>has_default</span>
    <span class='columns_ddl identifier id'>columns_ddl</span> <span class='lshft op'>&lt;&lt;</span> <span class='column_ddl identifier id'>column_ddl</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>' '</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='ddl identifier id'>ddl</span> <span class='opasgn op'>+=</span> <span class='columns_ddl identifier id'>columns_ddl</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;,\n\t&quot;</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='string val'>&quot;\n )&quot;</span>
  <span class='ddl identifier id'>ddl</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='string val'>'\\'</span><span class='comma token'>,</span><span class='string val'>''</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>dependent_foreign_keys</h3>
</div><div id="dependent_foreign_keys-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>dependent_foreign_keys</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns an array of all dependent foreign keys for this table, as
<tt>Peegee::ForeignKey</tt> objects. The first time this method is called,
dependent foreign keys are retrieved from the database and cached in an
instance variable. Subsequence calls will use the cached values. To force a
lookup of dependent foreign keys use the <tt>dependent_foreign_keys!</tt>
method instead.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/peegee/table.rb', line 64</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/hgimenez/peegee/blob/master/lib/peegee/table.rb#L64">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">64
65
66</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='dependent_foreign_keys identifier id'>dependent_foreign_keys</span>
  <span class='@dependent_foreign_keys ivar id'>@dependent_foreign_keys</span> <span class='opasgn op'>||=</span> <span class='fetch_dependent_foreign_keys identifier id'>fetch_dependent_foreign_keys</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>dependent_foreign_keys!</h3>
</div><div id="dependent_foreign_keys-21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>dependent_foreign_keys!</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/peegee/table.rb', line 68</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/hgimenez/peegee/blob/master/lib/peegee/table.rb#L68">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">68
69
70
71</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='dependent_foreign_keys! fid id'>dependent_foreign_keys!</span>
  <span class='@dependent_foreign_keys ivar id'>@dependent_foreign_keys</span> <span class='assign token'>=</span> <span class='fetch_dependent_foreign_keys identifier id'>fetch_dependent_foreign_keys</span>
  <span class='@dependent_foreign_keys ivar id'>@dependent_foreign_keys</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>foreign_keys</h3>
</div><div id="foreign_keys-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>foreign_keys</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns an array of all foreign keys for this table, as
<tt>Peegee::ForeignKey</tt> objects. The first time this method is called,
foreign keys are retrieved from the database and cached in an instance
variable. Subsequence calls will use the cached values. To force a lookup
of foreign keys use the <tt>foreign_keys!</tt> method instead.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/peegee/table.rb', line 51</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/hgimenez/peegee/blob/master/lib/peegee/table.rb#L51">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">51
52
53</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='foreign_keys identifier id'>foreign_keys</span>
  <span class='@foreign_keys ivar id'>@foreign_keys</span> <span class='opasgn op'>||=</span> <span class='fetch_foreign_keys identifier id'>fetch_foreign_keys</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>foreign_keys!</h3>
</div><div id="foreign_keys-21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>foreign_keys!</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/peegee/table.rb', line 55</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/hgimenez/peegee/blob/master/lib/peegee/table.rb#L55">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">55
56
57
58</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='foreign_keys! fid id'>foreign_keys!</span>
  <span class='@foreign_keys ivar id'>@foreign_keys</span> <span class='assign token'>=</span> <span class='fetch_foreign_keys identifier id'>fetch_foreign_keys</span>
  <span class='@foreign_keys ivar id'>@foreign_keys</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>indexes</h3>
</div><div id="indexes-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>indexes</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns an array of indexes for this table, as <tt>Peegee::indexes</tt>
objects. The first time this method is called, unique constraints are
retrieved from the database and cached in an instance variable. Subsequence
calls will use the cached values. To force a lookup of unique constraints
use the <tt>indexes!</tt> method instead.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/peegee/table.rb', line 103</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/hgimenez/peegee/blob/master/lib/peegee/table.rb#L103">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">103
104
105</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='indexes identifier id'>indexes</span>
  <span class='@indexes ivar id'>@indexes</span> <span class='opasgn op'>||=</span> <span class='fetch_indexes identifier id'>fetch_indexes</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>indexes!</h3>
</div><div id="indexes-21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>indexes!</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/peegee/table.rb', line 107</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/hgimenez/peegee/blob/master/lib/peegee/table.rb#L107">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">107
108
109
110</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='indexes! fid id'>indexes!</span>
  <span class='@indexes ivar id'>@indexes</span> <span class='assign token'>=</span> <span class='fetch_indexes identifier id'>fetch_indexes</span>
  <span class='@indexes ivar id'>@indexes</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>oid</h3>
</div><div id="oid-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>oid</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
The postgresql OID for this table.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/peegee/table.rb', line 38</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/hgimenez/peegee/blob/master/lib/peegee/table.rb#L38">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">38
39
40</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='oid identifier id'>oid</span>
  <span class='@oid ivar id'>@oid</span> <span class='opasgn op'>||=</span> <span class='fetch_oid identifier id'>fetch_oid</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>oid!</h3>
</div><div id="oid-21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>oid!</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/peegee/table.rb', line 42</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/hgimenez/peegee/blob/master/lib/peegee/table.rb#L42">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">42
43
44
45</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='oid! fid id'>oid!</span>
  <span class='@oid ivar id'>@oid</span> <span class='assign token'>=</span> <span class='fetch_oid identifier id'>fetch_oid</span>
  <span class='oid identifier id'>oid</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>primary_key</h3>
</div><div id="primary_key-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>primary_key</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns an array of primary keys for this table, as
<tt>Peegee::PrimaryKey</tt> objects. The first time this method is called,
primary keys are retrieved from the database and cached in an instance
variable. Subsequence calls will use the cached values. To force a lookup
of primary keys use the <tt>primary_key!</tt> method instead.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/peegee/table.rb', line 77</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/hgimenez/peegee/blob/master/lib/peegee/table.rb#L77">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">77
78
79</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='primary_key identifier id'>primary_key</span>
  <span class='@primary_key ivar id'>@primary_key</span> <span class='opasgn op'>||=</span> <span class='fetch_primary_key identifier id'>fetch_primary_key</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>primary_key!</h3>
</div><div id="primary_key-21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>primary_key!</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/peegee/table.rb', line 81</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/hgimenez/peegee/blob/master/lib/peegee/table.rb#L81">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">81
82
83
84</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='primary_key! fid id'>primary_key!</span>
  <span class='@primary_key ivar id'>@primary_key</span> <span class='assign token'>=</span> <span class='fetch_primary_key identifier id'>fetch_primary_key</span>
  <span class='@primary_key ivar id'>@primary_key</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_s</h3>
</div><div id="to_s-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_s</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a human readable description of this table
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/peegee/table.rb', line 144</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/hgimenez/peegee/blob/master/lib/peegee/table.rb#L144">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_s identifier id'>to_s</span>
  <span class='description identifier id'>description</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;Table: #{@table_name}\n&quot;</span>
  <span class='description identifier id'>description</span> <span class='opasgn op'>+=</span> <span class='string val'>&quot;Columns:\n\t&quot;</span>
  <span class='columns identifier id'>columns</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='column identifier id'>column</span><span class='bitor op'>|</span>
    <span class='column_desc identifier id'>column_desc</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='comment val'>#name and type</span>
    <span class='column_desc identifier id'>column_desc</span> <span class='lshft op'>&lt;&lt;</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='name identifier id'>name</span> <span class='plus op'>+</span> <span class='string val'>&quot;\t&quot;</span> <span class='plus op'>+</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='type identifier id'>type</span>
    <span class='comment val'>#not null?</span>
    <span class='column_desc identifier id'>column_desc</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>'NOT NULL'</span> <span class='if if_mod kw'>if</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='not_null identifier id'>not_null</span>
    <span class='comment val'>#add modifiers:</span>
    <span class='column_desc identifier id'>column_desc</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>'DEFAULT: '</span> <span class='plus op'>+</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='default identifier id'>default</span> <span class='if if_mod kw'>if</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='has_default identifier id'>has_default</span>
    <span class='description identifier id'>description</span> <span class='lshft op'>&lt;&lt;</span> <span class='column_desc identifier id'>column_desc</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;\n\t&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='description identifier id'>description</span> <span class='opasgn op'>+=</span> <span class='string val'>&quot;Indexes:\n\t&quot;</span> <span class='if if_mod kw'>if</span> <span class='indexes identifier id'>indexes</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>
  <span class='indexes_desc identifier id'>indexes_desc</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='indexes identifier id'>indexes</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='index identifier id'>index</span><span class='bitor op'>|</span>
    <span class='indexes_desc identifier id'>indexes_desc</span> <span class='lshft op'>&lt;&lt;</span> <span class='index identifier id'>index</span><span class='dot token'>.</span><span class='index_name identifier id'>index_name</span>
  <span class='end end kw'>end</span>
  <span class='description identifier id'>description</span> <span class='opasgn op'>+=</span> <span class='indexes_desc identifier id'>indexes_desc</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;\n\t&quot;</span><span class='rparen token'>)</span>
  <span class='description identifier id'>description</span> <span class='opasgn op'>+=</span> <span class='string val'>&quot;Foreign Keys:\n\t&quot;</span> <span class='if if_mod kw'>if</span> <span class='foreign_keys identifier id'>foreign_keys</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>
  <span class='foreign_keys_desc identifier id'>foreign_keys_desc</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='foreign_keys identifier id'>foreign_keys</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='fk identifier id'>fk</span><span class='bitor op'>|</span>
    <span class='foreign_keys_desc identifier id'>foreign_keys_desc</span> <span class='lshft op'>&lt;&lt;</span> <span class='fk identifier id'>fk</span><span class='dot token'>.</span><span class='foreign_key_name identifier id'>foreign_key_name</span>
  <span class='end end kw'>end</span>
  <span class='description identifier id'>description</span> <span class='opasgn op'>+=</span> <span class='foreign_keys_desc identifier id'>foreign_keys_desc</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;\n\t&quot;</span><span class='rparen token'>)</span>
  <span class='description identifier id'>description</span> <span class='opasgn op'>+=</span> <span class='string val'>&quot;Dependent Foreign Keys:\n\t&quot;</span> <span class='if if_mod kw'>if</span> <span class='dependent_foreign_keys identifier id'>dependent_foreign_keys</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>
  <span class='dependent_foreign_keys_desc identifier id'>dependent_foreign_keys_desc</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='dependent_foreign_keys identifier id'>dependent_foreign_keys</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='dfk identifier id'>dfk</span><span class='bitor op'>|</span>
    <span class='dependent_foreign_keys_desc identifier id'>dependent_foreign_keys_desc</span> <span class='lshft op'>&lt;&lt;</span> <span class='dfk identifier id'>dfk</span><span class='dot token'>.</span><span class='foreign_key_name identifier id'>foreign_key_name</span>
  <span class='end end kw'>end</span>
  <span class='description identifier id'>description</span> <span class='opasgn op'>+=</span> <span class='dependent_foreign_keys_desc identifier id'>dependent_foreign_keys_desc</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;\n\t&quot;</span><span class='rparen token'>)</span>
  <span class='description identifier id'>description</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>unique_constraints</h3>
</div><div id="unique_constraints-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>unique_constraints</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns an array of unique constraints for this table, as
<tt>Peegee::UniqueConstraint</tt> objects. The first time this method is
called, unique constraints are retrieved from the database and cached in an
instance variable. Subsequence calls will use the cached values. To force a
lookup of unique constraints use the <tt>unique_constraints!</tt> method
instead.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/peegee/table.rb', line 90</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/hgimenez/peegee/blob/master/lib/peegee/table.rb#L90">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">90
91
92</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='unique_constraints identifier id'>unique_constraints</span>
  <span class='@unique_constraints ivar id'>@unique_constraints</span> <span class='opasgn op'>||=</span> <span class='fetch_unique_constraints identifier id'>fetch_unique_constraints</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>unique_constraints!</h3>
</div><div id="unique_constraints-21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>unique_constraints!</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/peegee/table.rb', line 94</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/hgimenez/peegee/blob/master/lib/peegee/table.rb#L94">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">94
95
96
97</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='unique_constraints! fid id'>unique_constraints!</span>
  <span class='@unique_constraints ivar id'>@unique_constraints</span> <span class='assign token'>=</span> <span class='fetch_unique_constraints identifier id'>fetch_unique_constraints</span>
  <span class='@unique_constraints ivar id'>@unique_constraints</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>