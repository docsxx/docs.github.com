<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>chriskite's anemone - Class: Anemone::Core - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/chriskite/commits/anemone/master" rel="alternate" title="Recent Commits to anemone:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("chriskite", "anemone", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='chriskite/anemone/blob/c5ff08f246da5950e9a90a5b3ea51a8052848234' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='chriskite/anemone/blob/c5ff08f246da5950e9a90a5b3ea51a8052848234' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("chriskite", "anemone", "c5ff08f246da5950e9a90a5b3ea51a8052848234", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/chriskite/anemone/tree/">Source</a></li>
            <li class=""><a href="http://github.com/chriskite/anemone/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/chriskite/anemone/network">Network</a></li>            
            <li class=""><a href="http://github.com/chriskite/anemone/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/chriskite/anemone">Wiki</a></li>
            <li class=""><a href="http://github.com/chriskite/anemone/graphs">Graphs</a></li>                    
            <li class="active"><a href="/chriskite/anemone">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/chriskite">chriskite</a> / <b><a href="http://github.com/chriskite/anemone/tree">anemone</a></b>        
                <a id="namespaces_button" rel="chriskite/anemone/blob/c5ff08f246da5950e9a90a5b3ea51a8052848234" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="chriskite/anemone/blob/c5ff08f246da5950e9a90a5b3ea51a8052848234" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Anemone_Core">
  <h1>Class: Anemone::Core</h1>
  <div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">pages</td>
          <td class="readwrite">
            [<span id='pages-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
PageHash storing all Page objects encountered during the crawl.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(url, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Initialize the crawl with a starting <b>url</b>, <b>options</b>, and
optional <b>block</b>
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/anemone/core.rb', line 14</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/chriskite/anemone/blob/c5ff08f246da5950e9a90a5b3ea51a8052848234/lib/anemone/core.rb#L14">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">14
15
16
17
18
19
20
21
22
23
24
25
26</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='url identifier id'>url</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='url identifier id'>url</span> <span class='assign token'>=</span> <span class='URI constant id'>URI</span><span class='lparen token'>(</span><span class='url identifier id'>url</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='url identifier id'>url</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='String constant id'>String</span><span class='rparen token'>)</span>
  <span class='@url ivar id'>@url</span> <span class='assign token'>=</span> <span class='url identifier id'>url</span>
  <span class='@url ivar id'>@url</span><span class='dot token'>.</span><span class='path identifier id'>path</span> <span class='assign token'>=</span> <span class='string val'>&quot;/&quot;</span> <span class='if if_mod kw'>if</span> <span class='@url ivar id'>@url</span><span class='dot token'>.</span><span class='path identifier id'>path</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
  <span class='@tentacles ivar id'>@tentacles</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@pages ivar id'>@pages</span> <span class='assign token'>=</span> <span class='PageHash constant id'>PageHash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='@on_every_page_blocks ivar id'>@on_every_page_blocks</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@on_pages_like_blocks ivar id'>@on_pages_like_blocks</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='hash identifier id'>hash</span><span class='comma token'>,</span><span class='key identifier id'>key</span><span class='bitor op'>|</span> <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
  <span class='@skip_link_patterns ivar id'>@skip_link_patterns</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@after_crawl_blocks ivar id'>@after_crawl_blocks</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  
  <span class='block identifier id'>block</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='block identifier id'>block</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#crawl-class_method">crawl</span><span class='args'>(root, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Convenience method to start a new crawl.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#after_crawl-instance_method">#after_crawl</span><span class='args'>(&amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Add a block to be executed on the PageHash after the crawl is finished.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#do_after_crawl_blocks-instance_method">#do_after_crawl_blocks</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Execute the after_crawl blocks.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#do_page_blocks-instance_method">#do_page_blocks</span><span class='args'>(page)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Execute the on_every_page blocks for <b>page</b>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#on_every_page-instance_method">#on_every_page</span><span class='args'>(&amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Add a block to be executed on every Page as they are encountered during the
crawl.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#on_pages_like-instance_method">#on_pages_like</span><span class='args'>(*patterns, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Add a block to be executed on Page objects with a URL matching one or more
patterns.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#run-instance_method">#run</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Perform the crawl.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#skip_link-3F-instance_method">#skip_link?</span><span class='args'>(link)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns <tt>true</tt> if <b>link</b> should not be visited because its URL
matches a skip_link pattern.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#skip_links_like-instance_method">#skip_links_like</span><span class='args'>(*patterns)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Add one ore more Regex patterns for URLs which should not be followed.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#visit_link-3F-instance_method">#visit_link?</span><span class='args'>(link)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns <tt>true</tt> if <b>link</b> has not been visited already, and is
not excluded by a skip_link pattern.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>crawl</h3>
</div><div id="crawl-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>crawl</span><span class='args'>(root, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Convenience method to start a new crawl
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/anemone/core.rb', line 31</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/chriskite/anemone/blob/c5ff08f246da5950e9a90a5b3ea51a8052848234/lib/anemone/core.rb#L31">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">31
32
33
34
35
36
37</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='crawl identifier id'>crawl</span><span class='lparen token'>(</span><span class='root identifier id'>root</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='root identifier id'>root</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='core identifier id'>core</span><span class='bitor op'>|</span>
    <span class='block identifier id'>block</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='core identifier id'>core</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='block identifier id'>block</span>
    <span class='core identifier id'>core</span><span class='dot token'>.</span><span class='run identifier id'>run</span>
    <span class='return return kw'>return</span> <span class='core identifier id'>core</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>after_crawl</h3>
</div><div id="after_crawl-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>after_crawl</span><span class='args'>(&amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Add a block to be executed on the PageHash after the crawl is finished
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/anemone/core.rb', line 43</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/chriskite/anemone/blob/c5ff08f246da5950e9a90a5b3ea51a8052848234/lib/anemone/core.rb#L43">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">43
44
45
46</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='after_crawl identifier id'>after_crawl</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='@after_crawl_blocks ivar id'>@after_crawl_blocks</span> <span class='lshft op'>&lt;&lt;</span> <span class='block identifier id'>block</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>do_after_crawl_blocks</h3>
</div><div id="do_after_crawl_blocks-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>do_after_crawl_blocks</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Execute the after_crawl blocks
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/anemone/core.rb', line 149</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/chriskite/anemone/blob/c5ff08f246da5950e9a90a5b3ea51a8052848234/lib/anemone/core.rb#L149">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">149
150
151</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='do_after_crawl_blocks identifier id'>do_after_crawl_blocks</span>
  <span class='@after_crawl_blocks ivar id'>@after_crawl_blocks</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='b identifier id'>b</span><span class='bitor op'>|</span> <span class='b identifier id'>b</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='@pages ivar id'>@pages</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>do_page_blocks</h3>
</div><div id="do_page_blocks-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>do_page_blocks</span><span class='args'>(page)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Execute the on_every_page blocks for <b>page</b>
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/anemone/core.rb', line 156</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/chriskite/anemone/blob/c5ff08f246da5950e9a90a5b3ea51a8052848234/lib/anemone/core.rb#L156">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">156
157
158
159
160
161
162
163
164
165
166</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='do_page_blocks identifier id'>do_page_blocks</span><span class='lparen token'>(</span><span class='page identifier id'>page</span><span class='rparen token'>)</span>
  <span class='@on_every_page_blocks ivar id'>@on_every_page_blocks</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='blk identifier id'>blk</span><span class='bitor op'>|</span>
    <span class='blk identifier id'>blk</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='page identifier id'>page</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  
  <span class='@on_pages_like_blocks ivar id'>@on_pages_like_blocks</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='pattern identifier id'>pattern</span><span class='comma token'>,</span> <span class='blks identifier id'>blks</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='url identifier id'>url</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='match op'>=~</span> <span class='pattern identifier id'>pattern</span>
      <span class='blks identifier id'>blks</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='blk identifier id'>blk</span><span class='bitor op'>|</span> <span class='blk identifier id'>blk</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='page identifier id'>page</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>      
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>on_every_page</h3>
</div><div id="on_every_page-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>on_every_page</span><span class='args'>(&amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Add a block to be executed on every Page as they are encountered during the
crawl
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/anemone/core.rb', line 65</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/chriskite/anemone/blob/c5ff08f246da5950e9a90a5b3ea51a8052848234/lib/anemone/core.rb#L65">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">65
66
67
68</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='on_every_page identifier id'>on_every_page</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='@on_every_page_blocks ivar id'>@on_every_page_blocks</span> <span class='lshft op'>&lt;&lt;</span> <span class='block identifier id'>block</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>on_pages_like</h3>
</div><div id="on_pages_like-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>on_pages_like</span><span class='args'>(*patterns, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Add a block to be executed on Page objects with a URL matching one or more
patterns
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/anemone/core.rb', line 74</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/chriskite/anemone/blob/c5ff08f246da5950e9a90a5b3ea51a8052848234/lib/anemone/core.rb#L74">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">74
75
76
77
78
79
80
81</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='on_pages_like identifier id'>on_pages_like</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='patterns identifier id'>patterns</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='patterns identifier id'>patterns</span>
    <span class='patterns identifier id'>patterns</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='pattern identifier id'>pattern</span><span class='bitor op'>|</span>
      <span class='@on_pages_like_blocks ivar id'>@on_pages_like_blocks</span><span class='lbrack token'>[</span><span class='pattern identifier id'>pattern</span><span class='rbrack token'>]</span> <span class='lshft op'>&lt;&lt;</span> <span class='block identifier id'>block</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>run</h3>
</div><div id="run-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>run</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Perform the crawl
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/anemone/core.rb', line 86</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/chriskite/anemone/blob/c5ff08f246da5950e9a90a5b3ea51a8052848234/lib/anemone/core.rb#L86">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='run identifier id'>run</span>
    <span class='link_queue identifier id'>link_queue</span> <span class='assign token'>=</span> <span class='Queue constant id'>Queue</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
    <span class='page_queue identifier id'>page_queue</span> <span class='assign token'>=</span> <span class='Queue constant id'>Queue</span><span class='dot token'>.</span><span class='new identifier id'>new</span>

    <span class='Anemone constant id'>Anemone</span><span class='dot token'>.</span><span class='options identifier id'>options</span><span class='dot token'>.</span><span class='threads identifier id'>threads</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='id identifier id'>id</span><span class='bitor op'>|</span>
      <span class='@tentacles ivar id'>@tentacles</span> <span class='lshft op'>&lt;&lt;</span> <span class='Thread constant id'>Thread</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='lbrace token'>{</span> <span class='Tentacle constant id'>Tentacle</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='link_queue identifier id'>link_queue</span><span class='comma token'>,</span> <span class='page_queue identifier id'>page_queue</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='run identifier id'>run</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>
    
    <span class='return return kw'>return</span> <span class='if if_mod kw'>if</span> <span class='notop op'>!</span><span class='visit_link? fid id'>visit_link?</span><span class='lparen token'>(</span><span class='@url ivar id'>@url</span><span class='rparen token'>)</span>
    
    <span class='link_queue identifier id'>link_queue</span><span class='dot token'>.</span><span class='enq identifier id'>enq</span><span class='lparen token'>(</span><span class='@url ivar id'>@url</span><span class='rparen token'>)</span>

    <span class='while while kw'>while</span> <span class='true true kw'>true</span> <span class='do do kw'>do</span>
      <span class='page identifier id'>page</span> <span class='assign token'>=</span> <span class='page_queue identifier id'>page_queue</span><span class='dot token'>.</span><span class='deq identifier id'>deq</span>
      
      <span class='@pages ivar id'>@pages</span><span class='lbrack token'>[</span><span class='page identifier id'>page</span><span class='dot token'>.</span><span class='url identifier id'>url</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='page identifier id'>page</span>
      
      <span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;#{page.url} Queue: #{link_queue.size}&quot;</span> <span class='if if_mod kw'>if</span> <span class='Anemone constant id'>Anemone</span><span class='dot token'>.</span><span class='options identifier id'>options</span><span class='dot token'>.</span><span class='verbose identifier id'>verbose</span>
      
      <span class='do_page_blocks identifier id'>do_page_blocks</span><span class='lparen token'>(</span><span class='page identifier id'>page</span><span class='rparen token'>)</span>

      <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='doc identifier id'>doc</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span> <span class='if if_mod kw'>if</span> <span class='Anemone constant id'>Anemone</span><span class='dot token'>.</span><span class='options identifier id'>options</span><span class='dot token'>.</span><span class='discard_page_bodies identifier id'>discard_page_bodies</span>
      
      <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='links identifier id'>links</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='link identifier id'>link</span><span class='bitor op'>|</span> 
        <span class='if if kw'>if</span> <span class='visit_link? fid id'>visit_link?</span><span class='lparen token'>(</span><span class='link identifier id'>link</span><span class='rparen token'>)</span>
          <span class='link_queue identifier id'>link_queue</span><span class='dot token'>.</span><span class='enq identifier id'>enq</span><span class='lparen token'>(</span><span class='link identifier id'>link</span><span class='rparen token'>)</span>
          <span class='@pages ivar id'>@pages</span><span class='lbrack token'>[</span><span class='link identifier id'>link</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
      
      <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='aliases identifier id'>aliases</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='aka identifier id'>aka</span><span class='bitor op'>|</span>
        <span class='if if kw'>if</span> <span class='notop op'>!</span><span class='@pages ivar id'>@pages</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='aka identifier id'>aka</span><span class='rparen token'>)</span> <span class='or or kw'>or</span> <span class='@pages ivar id'>@pages</span><span class='lbrack token'>[</span><span class='aka identifier id'>aka</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
          <span class='@pages ivar id'>@pages</span><span class='lbrack token'>[</span><span class='aka identifier id'>aka</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='alias_clone identifier id'>alias_clone</span><span class='lparen token'>(</span><span class='aka identifier id'>aka</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
        <span class='@pages ivar id'>@pages</span><span class='lbrack token'>[</span><span class='aka identifier id'>aka</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='add_alias! fid id'>add_alias!</span><span class='lparen token'>(</span><span class='page identifier id'>page</span><span class='dot token'>.</span><span class='url identifier id'>url</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
      
      <span class='comment val'># if we are done with the crawl, tell the threads to end</span>
      <span class='if if kw'>if</span> <span class='link_queue identifier id'>link_queue</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span> <span class='and and kw'>and</span> <span class='page_queue identifier id'>page_queue</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
        <span class='until until kw'>until</span> <span class='link_queue identifier id'>link_queue</span><span class='dot token'>.</span><span class='num_waiting identifier id'>num_waiting</span> <span class='eq op'>==</span> <span class='@tentacles ivar id'>@tentacles</span><span class='dot token'>.</span><span class='size identifier id'>size</span>
          <span class='Thread constant id'>Thread</span><span class='dot token'>.</span><span class='pass identifier id'>pass</span>
        <span class='end end kw'>end</span>
        
        <span class='if if kw'>if</span> <span class='page_queue identifier id'>page_queue</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
          <span class='@tentacles ivar id'>@tentacles</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='link_queue identifier id'>link_queue</span><span class='dot token'>.</span><span class='enq identifier id'>enq</span><span class='lparen token'>(</span><span class='symbol val'>:END</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
          <span class='break break kw'>break</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
      
    <span class='end end kw'>end</span>

    <span class='@tentacles ivar id'>@tentacles</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='t identifier id'>t</span><span class='bitor op'>|</span> <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='join identifier id'>join</span> <span class='rbrace token'>}</span>

    <span class='do_after_crawl_blocks identifier id'>do_after_crawl_blocks</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
    
    <span class='self self kw'>self</span>
  <span class='end end kw'>end</span>
  
  <span class='private identifier id'>private</span>    
  
  <span class='comment val'>#</span>
  <span class='comment val'># Execute the after_crawl blocks</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='do_after_crawl_blocks identifier id'>do_after_crawl_blocks</span>
    <span class='@after_crawl_blocks ivar id'>@after_crawl_blocks</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='b identifier id'>b</span><span class='bitor op'>|</span> <span class='b identifier id'>b</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='@pages ivar id'>@pages</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
  
  <span class='comment val'>#</span>
  <span class='comment val'># Execute the on_every_page blocks for *page*</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='do_page_blocks identifier id'>do_page_blocks</span><span class='lparen token'>(</span><span class='page identifier id'>page</span><span class='rparen token'>)</span>
    <span class='@on_every_page_blocks ivar id'>@on_every_page_blocks</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='blk identifier id'>blk</span><span class='bitor op'>|</span>
      <span class='blk identifier id'>blk</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='page identifier id'>page</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    
    <span class='@on_pages_like_blocks ivar id'>@on_pages_like_blocks</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='pattern identifier id'>pattern</span><span class='comma token'>,</span> <span class='blks identifier id'>blks</span><span class='bitor op'>|</span>
      <span class='if if kw'>if</span> <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='url identifier id'>url</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='match op'>=~</span> <span class='pattern identifier id'>pattern</span>
        <span class='blks identifier id'>blks</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='blk identifier id'>blk</span><span class='bitor op'>|</span> <span class='blk identifier id'>blk</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='page identifier id'>page</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>      
  
  <span class='comment val'>#</span>
  <span class='comment val'># Returns +true+ if *link* has not been visited already,</span>
  <span class='comment val'># and is not excluded by a skip_link pattern. Returns</span>
  <span class='comment val'># +false+ otherwise.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='visit_link? fid id'>visit_link?</span><span class='lparen token'>(</span><span class='link identifier id'>link</span><span class='rparen token'>)</span>
    <span class='notop op'>!</span><span class='@pages ivar id'>@pages</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='link identifier id'>link</span><span class='rparen token'>)</span> <span class='and and kw'>and</span> <span class='notop op'>!</span><span class='skip_link? fid id'>skip_link?</span><span class='lparen token'>(</span><span class='link identifier id'>link</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  
  <span class='comment val'>#</span>
  <span class='comment val'># Returns +true+ if *link* should not be visited because</span>
  <span class='comment val'># its URL matches a skip_link pattern.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='skip_link? fid id'>skip_link?</span><span class='lparen token'>(</span><span class='link identifier id'>link</span><span class='rparen token'>)</span>
    <span class='@skip_link_patterns ivar id'>@skip_link_patterns</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='p identifier id'>p</span><span class='bitor op'>|</span> <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='link identifier id'>link</span><span class='dot token'>.</span><span class='path identifier id'>path</span> <span class='match op'>=~</span> <span class='p identifier id'>p</span><span class='rbrace token'>}</span>
    <span class='return return kw'>return</span> <span class='false false kw'>false</span>
  <span class='end end kw'>end</span>
  
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>skip_link?</h3>
</div><div id="skip_link-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>skip_link?</span><span class='args'>(link)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns <tt>true</tt> if <b>link</b> should not be visited because its URL
matches a skip_link pattern.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/anemone/core.rb', line 181</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/chriskite/anemone/blob/c5ff08f246da5950e9a90a5b3ea51a8052848234/lib/anemone/core.rb#L181">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">181
182
183
184</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='skip_link? fid id'>skip_link?</span><span class='lparen token'>(</span><span class='link identifier id'>link</span><span class='rparen token'>)</span>
  <span class='@skip_link_patterns ivar id'>@skip_link_patterns</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='p identifier id'>p</span><span class='bitor op'>|</span> <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='link identifier id'>link</span><span class='dot token'>.</span><span class='path identifier id'>path</span> <span class='match op'>=~</span> <span class='p identifier id'>p</span><span class='rbrace token'>}</span>
  <span class='return return kw'>return</span> <span class='false false kw'>false</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>skip_links_like</h3>
</div><div id="skip_links_like-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>skip_links_like</span><span class='args'>(*patterns)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Add one ore more Regex patterns for URLs which should not be followed
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/anemone/core.rb', line 52</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/chriskite/anemone/blob/c5ff08f246da5950e9a90a5b3ea51a8052848234/lib/anemone/core.rb#L52">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">52
53
54
55
56
57
58
59</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='skip_links_like identifier id'>skip_links_like</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='patterns identifier id'>patterns</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='patterns identifier id'>patterns</span>
    <span class='patterns identifier id'>patterns</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='pattern identifier id'>pattern</span><span class='bitor op'>|</span>
      <span class='@skip_link_patterns ivar id'>@skip_link_patterns</span> <span class='lshft op'>&lt;&lt;</span> <span class='pattern identifier id'>pattern</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>visit_link?</h3>
</div><div id="visit_link-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>visit_link?</span><span class='args'>(link)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns <tt>true</tt> if <b>link</b> has not been visited already, and is
not excluded by a skip_link pattern. Returns <tt>false</tt> otherwise.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/anemone/core.rb', line 173</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/chriskite/anemone/blob/c5ff08f246da5950e9a90a5b3ea51a8052848234/lib/anemone/core.rb#L173">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">173
174
175</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='visit_link? fid id'>visit_link?</span><span class='lparen token'>(</span><span class='link identifier id'>link</span><span class='rparen token'>)</span>
  <span class='notop op'>!</span><span class='@pages ivar id'>@pages</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='link identifier id'>link</span><span class='rparen token'>)</span> <span class='and and kw'>and</span> <span class='notop op'>!</span><span class='skip_link? fid id'>skip_link?</span><span class='lparen token'>(</span><span class='link identifier id'>link</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>