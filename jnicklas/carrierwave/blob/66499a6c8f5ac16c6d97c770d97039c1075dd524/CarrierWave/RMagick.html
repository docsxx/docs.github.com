<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>jnicklas's carrierwave - Module: CarrierWave::RMagick - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/jnicklas/commits/carrierwave/master" rel="alternate" title="Recent Commits to carrierwave:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("jnicklas", "carrierwave", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='jnicklas/carrierwave/blob/66499a6c8f5ac16c6d97c770d97039c1075dd524' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='jnicklas/carrierwave/blob/66499a6c8f5ac16c6d97c770d97039c1075dd524' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("jnicklas", "carrierwave", "66499a6c8f5ac16c6d97c770d97039c1075dd524", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/jnicklas/carrierwave/tree/">Source</a></li>
            <li class=""><a href="http://github.com/jnicklas/carrierwave/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/jnicklas/carrierwave/network">Network</a></li>            
            <li class=""><a href="http://github.com/jnicklas/carrierwave/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/jnicklas/carrierwave">Wiki</a></li>
            <li class=""><a href="http://github.com/jnicklas/carrierwave/graphs">Graphs</a></li>                    
            <li class="active"><a href="/jnicklas/carrierwave">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/jnicklas">jnicklas</a> / <b><a href="http://github.com/jnicklas/carrierwave/tree">carrierwave</a></b>        
                <a id="namespaces_button" rel="jnicklas/carrierwave/blob/66499a6c8f5ac16c6d97c770d97039c1075dd524" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="jnicklas/carrierwave/blob/66499a6c8f5ac16c6d97c770d97039c1075dd524" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section module CarrierWave_RMagick">
  <h1>Module: CarrierWave::RMagick</h1>
  <div class="section docstring">
  <p>
This module simplifies manipulation with RMagick by providing a set of
convenient helper methods. If you want to use them, you&#8217;ll need to
require this file:
</p>
<pre class="code">
    <span class='require identifier id'>require</span> <span class='string val'>'carrierwave/processing/rmagick'</span>
</pre>
<p>
And then include it in your uploader:
</p>
<pre class="code">
    <span class='class class kw'>class</span> <span class='MyUploader constant id'>MyUploader</span> <span class='lt op'>&lt;</span> <span class='CarrierWave constant id'>CarrierWave</span><span class='colon2 op'>::</span><span class='Uploader constant id'>Uploader</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
      <span class='include identifier id'>include</span> <span class='CarrierWave constant id'>CarrierWave</span><span class='colon2 op'>::</span><span class='RMagick constant id'>RMagick</span>
    <span class='end end kw'>end</span>
</pre>
<p>
You can now use the provided helpers:
</p>
<pre class="code">
    <span class='class class kw'>class</span> <span class='MyUploader constant id'>MyUploader</span> <span class='lt op'>&lt;</span> <span class='CarrierWave constant id'>CarrierWave</span><span class='colon2 op'>::</span><span class='Uploader constant id'>Uploader</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
      <span class='include identifier id'>include</span> <span class='CarrierWave constant id'>CarrierWave</span><span class='colon2 op'>::</span><span class='RMagick constant id'>RMagick</span>

      <span class='process identifier id'>process</span> <span class='symbol val'>:resize_to_fit</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>200</span><span class='comma token'>,</span> <span class='integer val'>200</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>
</pre>
<p>
Or create your own helpers with the powerful manipulate! method. Check out
the RMagick docs at http://www.imagemagick.org/RMagick/doc/ for more info
</p>
<pre class="code">
    <span class='class class kw'>class</span> <span class='MyUploader constant id'>MyUploader</span> <span class='lt op'>&lt;</span> <span class='CarrierWave constant id'>CarrierWave</span><span class='colon2 op'>::</span><span class='Uploader constant id'>Uploader</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
      <span class='include identifier id'>include</span> <span class='CarrierWave constant id'>CarrierWave</span><span class='colon2 op'>::</span><span class='RMagick constant id'>RMagick</span>

      <span class='process identifier id'>process</span> <span class='symbol val'>:do_stuff</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='float val'>10.0</span>

      <span class='def def kw'>def</span> <span class='do_stuff identifier id'>do_stuff</span><span class='lparen token'>(</span><span class='blur_factor identifier id'>blur_factor</span><span class='rparen token'>)</span>
        <span class='manipulate! fid id'>manipulate!</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='img identifier id'>img</span><span class='bitor op'>|</span>
          <span class='img identifier id'>img</span> <span class='assign token'>=</span> <span class='img identifier id'>img</span><span class='dot token'>.</span><span class='sepiatone identifier id'>sepiatone</span>
          <span class='img identifier id'>img</span> <span class='assign token'>=</span> <span class='img identifier id'>img</span><span class='dot token'>.</span><span class='auto_orient identifier id'>auto_orient</span>
          <span class='img identifier id'>img</span> <span class='assign token'>=</span> <span class='img identifier id'>img</span><span class='dot token'>.</span><span class='radial_blur identifier id'>radial_blur</span><span class='lparen token'>(</span><span class='blur_factor identifier id'>blur_factor</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
</pre>
<h3>Note</h3>
<p>
You should be aware how RMagick handles memory. manipulate! takes care of
freeing up memory for you, but for optimum memory usage you should use
destructive operations as much as possible:
</p>
<p>
DON&#8217;T DO THIS:
</p>
<pre class="code">
    <span class='img identifier id'>img</span> <span class='assign token'>=</span> <span class='img identifier id'>img</span><span class='dot token'>.</span><span class='resize_to_fit identifier id'>resize_to_fit</span>
</pre>
<p>
DO THIS INSTEAD:
</p>
<pre class="code">
    <span class='img identifier id'>img</span><span class='dot token'>.</span><span class='resize_to_fit! fid id'>resize_to_fit!</span>
</pre>
<p>
Read this for more information why:
</p>
<p>
http://rubyforge.org/forum/forum.php?thread_id=1374&amp;forum_id=1618
</p>

</div><div class="section constants">
  
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#convert-instance_method">#convert</span><span class='args'>(format)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Changes the image encoding format to the given format.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#manipulate-21-instance_method">#manipulate!</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Manipulate the image with RMagick.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#resize_and_pad-instance_method">#resize_and_pad</span><span class='args'>(width, height, background = :transparent, gravity = ::Magick::CenterGravity)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Resize the image to fit within the specified dimensions while retaining the
original aspect ratio.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#resize_to_fill-instance_method">#resize_to_fill</span><span class='args'>(width, height)</span>
        <span class='block'></span>
        
          <span class='alias'>#crop_resized</span>
        
      </th>
      <td class="docstring">
        <p>
From the RMagick documentation: &quot;Resize the image to fit within the
specified dimensions while retaining the aspect ratio of the original
image.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#resize_to_fit-instance_method">#resize_to_fit</span><span class='args'>(width, height)</span>
        <span class='block'></span>
        
          <span class='alias'>#resize</span>
        
      </th>
      <td class="docstring">
        <p>
From the RMagick documentation: &quot;Resize the image to fit within the
specified dimensions while retaining the original aspect ratio.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>convert</h3>
</div><div id="convert-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>convert</span><span class='args'>(format)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Changes the image encoding format to the given format
</p>
<p>
See even http://www.imagemagick.org/RMagick/doc/magick.html#formats
</p>
<h3>Parameters</h3>
<dl>
<dt>format (#to_s)</dt><dd>an abreviation of the format

</dd>
</dl>
<h3>Yields</h3>
<dl>
<dt>Magick::Image</dt><dd>additional manipulations to perform

</dd>
</dl>
<h3>Examples</h3>
<pre class="code">
    <span class='image identifier id'>image</span><span class='dot token'>.</span><span class='convert identifier id'>convert</span><span class='lparen token'>(</span><span class='symbol val'>:png</span><span class='rparen token'>)</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/carrierwave/processing/rmagick.rb', line 83</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jnicklas/carrierwave/blob/66499a6c8f5ac16c6d97c770d97039c1075dd524/lib/carrierwave/processing/rmagick.rb#L83">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">83
84
85
86
87
88
89</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='convert identifier id'>convert</span><span class='lparen token'>(</span><span class='format identifier id'>format</span><span class='rparen token'>)</span>
  <span class='manipulate! fid id'>manipulate!</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='img identifier id'>img</span><span class='bitor op'>|</span>
    <span class='img identifier id'>img</span><span class='dot token'>.</span><span class='format identifier id'>format</span> <span class='assign token'>=</span> <span class='format identifier id'>format</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='upcase identifier id'>upcase</span>
    <span class='img identifier id'>img</span> <span class='assign token'>=</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='img identifier id'>img</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='img identifier id'>img</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>manipulate!</h3>
</div><div id="manipulate-21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>manipulate!</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Manipulate the image with RMagick. This method will load up an image and
then pass each of its frames to the supplied block. It will then save the
image to disk.
</p>
<h3>Gotcha</h3>
<p>
This method assumes that the object responds to <tt>current_path</tt>. Any
class that this module is mixed into must have a <tt>current_path</tt>
method. CarrierWave::Uploader does, so you won&#8217;t need to worry about
this in most cases.
</p>
<h3>Yields</h3>
<dl>
<dt>Magick::Image</dt><dd>manipulations to perform

</dd>
</dl>
<h3>Raises</h3>
<dl>
<dt>CarrierWave::ProcessingError</dt><dd>if manipulation failed.

</dd>
</dl>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
  </dl>
</div><div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="ProcessingError.html" title="CarrierWave::ProcessingError">CarrierWave::ProcessingError</a></tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/carrierwave/processing/rmagick.rb', line 198</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jnicklas/carrierwave/blob/66499a6c8f5ac16c6d97c770d97039c1075dd524/lib/carrierwave/processing/rmagick.rb#L198">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='manipulate! fid id'>manipulate!</span>
  <span class='image identifier id'>image</span> <span class='assign token'>=</span> <span class='colon3 op'>::</span><span class='Magick constant id'>Magick</span><span class='colon2 op'>::</span><span class='Image constant id'>Image</span><span class='dot token'>.</span><span class='read identifier id'>read</span><span class='lparen token'>(</span><span class='current_path identifier id'>current_path</span><span class='rparen token'>)</span>

  <span class='if if kw'>if</span> <span class='image identifier id'>image</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='gt op'>&gt;</span> <span class='integer val'>1</span>
    <span class='list identifier id'>list</span> <span class='assign token'>=</span> <span class='colon3 op'>::</span><span class='Magick constant id'>Magick</span><span class='colon2 op'>::</span><span class='ImageList constant id'>ImageList</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
    <span class='image identifier id'>image</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='frame identifier id'>frame</span><span class='bitor op'>|</span>
      <span class='list identifier id'>list</span> <span class='lshft op'>&lt;&lt;</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span> <span class='frame identifier id'>frame</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='list identifier id'>list</span><span class='dot token'>.</span><span class='write identifier id'>write</span><span class='lparen token'>(</span><span class='current_path identifier id'>current_path</span><span class='rparen token'>)</span>
    <span class='list identifier id'>list</span><span class='dot token'>.</span><span class='destroy! fid id'>destroy!</span>
  <span class='else else kw'>else</span>
    <span class='frame identifier id'>frame</span> <span class='assign token'>=</span> <span class='image identifier id'>image</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
    <span class='yield yield kw'>yield</span><span class='lparen token'>(</span> <span class='frame identifier id'>frame</span> <span class='rparen token'>)</span><span class='dot token'>.</span><span class='write identifier id'>write</span><span class='lparen token'>(</span><span class='current_path identifier id'>current_path</span><span class='rparen token'>)</span>
    <span class='frame identifier id'>frame</span><span class='dot token'>.</span><span class='destroy! fid id'>destroy!</span>
  <span class='end end kw'>end</span>
<span class='rescue rescue kw'>rescue</span> <span class='colon2 op'>::</span><span class='Magick constant id'>Magick</span><span class='colon2 op'>::</span><span class='ImageMagickError constant id'>ImageMagickError</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='e identifier id'>e</span>
  <span class='raise identifier id'>raise</span> <span class='CarrierWave constant id'>CarrierWave</span><span class='colon2 op'>::</span><span class='ProcessingError constant id'>ProcessingError</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='dstring node'>&quot;Failed to manipulate with rmagick, maybe it is not an image? Original Error: #{e}&quot;</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>resize_and_pad</h3>
</div><div id="resize_and_pad-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>resize_and_pad</span><span class='args'>(width, height, background = :transparent, gravity = ::Magick::CenterGravity)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Resize the image to fit within the specified dimensions while retaining the
original aspect ratio. If necessary, will pad the remaining area with the
given color, which defaults to transparent (for gif and png, white for
jpeg).
</p>
<h3>Parameters</h3>
<dl>
<dt>width (Integer)</dt><dd>the width to scale the image to

</dd>
<dt>height (Integer)</dt><dd>the height to scale the image to

</dd>
<dt>background (String, :transparent)</dt><dd>the color of the background as a hexcode, like &quot;#ff45de&quot;

</dd>
<dt>gravity (Magick::GravityType)</dt><dd>how to position the image

</dd>
</dl>
<h3>Yields</h3>
<dl>
<dt>Magick::Image</dt><dd>additional manipulations to perform

</dd>
</dl>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/carrierwave/processing/rmagick.rb', line 161</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jnicklas/carrierwave/blob/66499a6c8f5ac16c6d97c770d97039c1075dd524/lib/carrierwave/processing/rmagick.rb#L161">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='resize_and_pad identifier id'>resize_and_pad</span><span class='lparen token'>(</span><span class='width identifier id'>width</span><span class='comma token'>,</span> <span class='height identifier id'>height</span><span class='comma token'>,</span> <span class='background identifier id'>background</span><span class='assign token'>=</span><span class='symbol val'>:transparent</span><span class='comma token'>,</span> <span class='gravity identifier id'>gravity</span><span class='assign token'>=</span><span class='colon3 op'>::</span><span class='Magick constant id'>Magick</span><span class='colon2 op'>::</span><span class='CenterGravity constant id'>CenterGravity</span><span class='rparen token'>)</span>
  <span class='manipulate! fid id'>manipulate!</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='img identifier id'>img</span><span class='bitor op'>|</span>
    <span class='img identifier id'>img</span><span class='dot token'>.</span><span class='resize_to_fit! fid id'>resize_to_fit!</span><span class='lparen token'>(</span><span class='width identifier id'>width</span><span class='comma token'>,</span> <span class='height identifier id'>height</span><span class='rparen token'>)</span>
    <span class='new_img identifier id'>new_img</span> <span class='assign token'>=</span> <span class='colon3 op'>::</span><span class='Magick constant id'>Magick</span><span class='colon2 op'>::</span><span class='Image constant id'>Image</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='width identifier id'>width</span><span class='comma token'>,</span> <span class='height identifier id'>height</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='background identifier id'>background</span> <span class='eq op'>==</span> <span class='colon op'>:</span><span class='transparent identifier id'>transparent</span>
      <span class='filled identifier id'>filled</span> <span class='assign token'>=</span> <span class='new_img identifier id'>new_img</span><span class='dot token'>.</span><span class='matte_floodfill identifier id'>matte_floodfill</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='integer val'>1</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='filled identifier id'>filled</span> <span class='assign token'>=</span> <span class='new_img identifier id'>new_img</span><span class='dot token'>.</span><span class='color_floodfill identifier id'>color_floodfill</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='colon3 op'>::</span><span class='Magick constant id'>Magick</span><span class='colon2 op'>::</span><span class='Pixel constant id'>Pixel</span><span class='dot token'>.</span><span class='from_color identifier id'>from_color</span><span class='lparen token'>(</span><span class='background identifier id'>background</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='new_img identifier id'>new_img</span><span class='dot token'>.</span><span class='destroy! fid id'>destroy!</span>
    <span class='filled identifier id'>filled</span><span class='dot token'>.</span><span class='composite! fid id'>composite!</span><span class='lparen token'>(</span><span class='img identifier id'>img</span><span class='comma token'>,</span> <span class='gravity identifier id'>gravity</span><span class='comma token'>,</span> <span class='colon3 op'>::</span><span class='Magick constant id'>Magick</span><span class='colon2 op'>::</span><span class='OverCompositeOp constant id'>OverCompositeOp</span><span class='rparen token'>)</span>
    <span class='img identifier id'>img</span><span class='dot token'>.</span><span class='destroy! fid id'>destroy!</span>
    <span class='filled identifier id'>filled</span> <span class='assign token'>=</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='filled identifier id'>filled</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='filled identifier id'>filled</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>resize_to_fill</h3>
</div><div id="resize_to_fill-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>resize_to_fill</span><span class='args'>(width, height)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="crop_resized-instance_method">crop_resized</tt>
  
</p>
</div><div class="section docstring">
  <p>
From the RMagick documentation: &quot;Resize the image to fit within the
specified dimensions while retaining the aspect ratio of the original
image. If necessary, crop the image in the larger dimension.&quot;
</p>
<p>
See even http://www.imagemagick.org/RMagick/doc/image3.html#resize_to_fill
</p>
<h3>Parameters</h3>
<dl>
<dt>width (Integer)</dt><dd>the width to scale the image to

</dd>
<dt>height (Integer)</dt><dd>the height to scale the image to

</dd>
</dl>
<h3>Yields</h3>
<dl>
<dt>Magick::Image</dt><dd>additional manipulations to perform

</dd>
</dl>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/carrierwave/processing/rmagick.rb', line 134</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jnicklas/carrierwave/blob/66499a6c8f5ac16c6d97c770d97039c1075dd524/lib/carrierwave/processing/rmagick.rb#L134">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">134
135
136
137
138
139
140</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='resize_to_fill identifier id'>resize_to_fill</span><span class='lparen token'>(</span><span class='width identifier id'>width</span><span class='comma token'>,</span> <span class='height identifier id'>height</span><span class='rparen token'>)</span>
  <span class='manipulate! fid id'>manipulate!</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='img identifier id'>img</span><span class='bitor op'>|</span>
    <span class='img identifier id'>img</span><span class='dot token'>.</span><span class='resize_to_fill! fid id'>resize_to_fill!</span><span class='lparen token'>(</span><span class='width identifier id'>width</span><span class='comma token'>,</span> <span class='height identifier id'>height</span><span class='rparen token'>)</span>
    <span class='img identifier id'>img</span> <span class='assign token'>=</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='img identifier id'>img</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='img identifier id'>img</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>resize_to_fit</h3>
</div><div id="resize_to_fit-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>resize_to_fit</span><span class='args'>(width, height)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="resize-instance_method">resize</tt>
  
</p>
</div><div class="section docstring">
  <p>
From the RMagick documentation: &quot;Resize the image to fit within the
specified dimensions while retaining the original aspect ratio. The image
may be shorter or narrower than specified in the smaller dimension but will
not be larger than the specified values.&quot;
</p>
<p>
See even http://www.imagemagick.org/RMagick/doc/image3.html#resize_to_fit
</p>
<h3>Parameters</h3>
<dl>
<dt>width (Integer)</dt><dd>the width to scale the image to

</dd>
<dt>height (Integer)</dt><dd>the height to scale the image to

</dd>
</dl>
<h3>Yields</h3>
<dl>
<dt>Magick::Image</dt><dd>additional manipulations to perform

</dd>
</dl>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/carrierwave/processing/rmagick.rb', line 108</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jnicklas/carrierwave/blob/66499a6c8f5ac16c6d97c770d97039c1075dd524/lib/carrierwave/processing/rmagick.rb#L108">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">108
109
110
111
112
113
114</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='resize_to_fit identifier id'>resize_to_fit</span><span class='lparen token'>(</span><span class='width identifier id'>width</span><span class='comma token'>,</span> <span class='height identifier id'>height</span><span class='rparen token'>)</span>
  <span class='manipulate! fid id'>manipulate!</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='img identifier id'>img</span><span class='bitor op'>|</span>
    <span class='img identifier id'>img</span><span class='dot token'>.</span><span class='resize_to_fit! fid id'>resize_to_fit!</span><span class='lparen token'>(</span><span class='width identifier id'>width</span><span class='comma token'>,</span> <span class='height identifier id'>height</span><span class='rparen token'>)</span>
    <span class='img identifier id'>img</span> <span class='assign token'>=</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='img identifier id'>img</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='img identifier id'>img</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>