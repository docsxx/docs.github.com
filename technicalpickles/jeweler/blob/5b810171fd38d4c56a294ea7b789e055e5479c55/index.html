<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>technicalpickles's jeweler - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/technicalpickles/commits/jeweler/master" rel="alternate" title="Recent Commits to jeweler:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("technicalpickles", "jeweler", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='technicalpickles/jeweler/blob/5b810171fd38d4c56a294ea7b789e055e5479c55' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='technicalpickles/jeweler/blob/5b810171fd38d4c56a294ea7b789e055e5479c55' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("technicalpickles", "jeweler", "5b810171fd38d4c56a294ea7b789e055e5479c55", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/technicalpickles/jeweler/tree/">Source</a></li>
            <li class=""><a href="http://github.com/technicalpickles/jeweler/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/technicalpickles/jeweler/network">Network</a></li>            
            <li class=""><a href="http://github.com/technicalpickles/jeweler/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/technicalpickles/jeweler">Wiki</a></li>
            <li class=""><a href="http://github.com/technicalpickles/jeweler/graphs">Graphs</a></li>                    
            <li class="active"><a href="/technicalpickles/jeweler">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/technicalpickles">technicalpickles</a> / <b><a href="http://github.com/technicalpickles/jeweler/tree">jeweler</a></b>        
                <a id="namespaces_button" rel="technicalpickles/jeweler/blob/5b810171fd38d4c56a294ea7b789e055e5479c55" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="technicalpickles/jeweler/blob/5b810171fd38d4c56a294ea7b789e055e5479c55" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="section docstring readme wikistyle">
  <h1>Jeweler: Craft the perfect RubyGem</h1>

<p>Jeweler provides two things:</p>

<ul>
<li>Rake tasks for managing gems and versioning of a <a href="http://github.com">GitHub</a> project</li>
<li>A generator for creating kickstarting a new project</li>
</ul>

<h2>Quick Links</h2>

<ul>
<li><a href="http://wiki.github.com/technicalpickles/jeweler">Wiki</a></li>
<li><a href="http://github.com/technicalpickles/jeweler/issues">Bugs</a></li>
<li><a href="http://pledgie.org/campaigns/2604">Donate</a></li>
</ul>

<h2>Installing</h2>

<pre class="code"><span class='comment val'># Install the gem:</span>
<span class='sudo identifier id'>sudo</span> <span class='gem identifier id'>gem</span> <span class='install identifier id'>install</span> <span class='jeweler identifier id'>jeweler</span>
</pre>

<h2>Using in an existing project</h2>

<p>It's easy to get up and running. Update your Rakefile to instantiate a <code>Jeweler::Tasks</code>, and give it a block with details about your project.</p>

<pre class="code"><span class='begin begin kw'>begin</span>
  <span class='require identifier id'>require</span> <span class='string val'>'jeweler'</span>
  <span class='Jeweler constant id'>Jeweler</span><span class='colon2 op'>::</span><span class='Tasks constant id'>Tasks</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='gemspec identifier id'>gemspec</span><span class='bitor op'>|</span>
    <span class='gemspec identifier id'>gemspec</span><span class='dot token'>.</span><span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='string val'>&quot;the-perfect-gem&quot;</span>
    <span class='gemspec identifier id'>gemspec</span><span class='dot token'>.</span><span class='summary identifier id'>summary</span> <span class='assign token'>=</span> <span class='string val'>&quot;TODO&quot;</span>
    <span class='gemspec identifier id'>gemspec</span><span class='dot token'>.</span><span class='email identifier id'>email</span> <span class='assign token'>=</span> <span class='string val'>&quot;josh@technicalpickles.com&quot;</span>
    <span class='gemspec identifier id'>gemspec</span><span class='dot token'>.</span><span class='homepage identifier id'>homepage</span> <span class='assign token'>=</span> <span class='string val'>&quot;http://github.com/technicalpickles/the-perfect-gem&quot;</span>
    <span class='gemspec identifier id'>gemspec</span><span class='dot token'>.</span><span class='description identifier id'>description</span> <span class='assign token'>=</span> <span class='string val'>&quot;TODO&quot;</span>
    <span class='gemspec identifier id'>gemspec</span><span class='dot token'>.</span><span class='authors identifier id'>authors</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='string val'>&quot;Josh Nichols&quot;</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>
<span class='rescue rescue kw'>rescue</span> <span class='LoadError constant id'>LoadError</span>
  <span class='puts identifier id'>puts</span> <span class='string val'>&quot;Jeweler not available. Install it with: sudo gem install technicalpickles-jeweler -s http://gems.github.com&quot;</span>
<span class='end end kw'>end</span>
</pre>

<p>The yield object here, <code>gemspec</code>, is a <code>Gem::Specification</code> object. See the <a href="http://wiki.github.com/technicalpickles/jeweler/customizing-your-projects-gem-specification">Customizing your project's gem specification</a> for more details about how you can customize your gemspec.</p>

<h2>Using to start a new project</h2>

<p>Jeweler provides a generator. It requires you to <a href="http://github.com/guides/tell-git-your-user-name-and-email-address">setup your name and email for git</a> and <a href="http://github.com/guides/local-github-config">your username and token for GitHub</a>.</p>

<pre class="code"><span class='jeweler identifier id'>jeweler</span> <span class='the identifier id'>the</span><span class='minus op'>-</span><span class='perfect identifier id'>perfect</span><span class='minus op'>-</span><span class='gem identifier id'>gem</span>
</pre>

<p>This will prepare a project in the 'the-perfect-gem' directory, setup to use Jeweler.</p>

<p>It supports a number of options:</p>

<ul>
<li>--create-repo: in addition to preparing a project, it create an repo up on GitHub and enable RubyGem generation</li>
<li>--testunit: generate test_helper.rb and test ready for test/unit</li>
<li>--minitest: generate test_helper.rb and test ready for minitest </li>
<li>--shoulda: generate test_helper.rb and test ready for shoulda (this is the default)</li>
<li>--rspec: generate spec_helper.rb and spec ready for rspec</li>
<li>--bacon: generate spec_helper.rb and spec ready for bacon</li>
<li>--rubyforge: setup releasing to rubyforge</li>
</ul>

<h3>Default options</h3>

<p>Jeweler respects the JEWELER_OPTS environment variable. Want to always use RSpec, and you're using bash? Add this to ~/.bashrc:</p>

<pre class="code"><span class='export identifier id'>export</span> <span class='JEWELER_OPTS constant id'>JEWELER_OPTS</span><span class='assign token'>=</span><span class='string val'>&quot;--rspec&quot;</span>
</pre>

<h2>Gemspec</h2>

<p>Jeweler handles generating a gemspec file for your project:</p>

<pre class="code"><span class='rake identifier id'>rake</span> <span class='gemspec identifier id'>gemspec</span>
</pre>

<p>This creates a gemspec for your project. It's based on the info you give <code>Jeweler::Tasks</code>, the current version of your project, and some defaults that Jeweler provides.</p>

<h2>Gem</h2>

<p>Jeweler gives you tasks for building and installing your gem:</p>

<pre class="code"><span class='rake identifier id'>rake</span> <span class='build identifier id'>build</span>
<span class='rake identifier id'>rake</span> <span class='install identifier id'>install</span>
</pre>

<h2>Versioning</h2>

<p>Jeweler tracks the version of your project. It assumes you will be using a version in the format <code>x.y.z</code>. <code>x</code> is the 'major' version, <code>y</code> is the 'minor' version, and <code>z</code> is the patch version.</p>

<p>Initially, your project starts out at 0.0.0. Jeweler provides Rake tasks for bumping the version:</p>

<pre class="code"><span class='rake identifier id'>rake</span> <span class='version identifier id'>version</span><span class='symbol val'>:bump</span><span class='symbol val'>:major</span>
<span class='rake identifier id'>rake</span> <span class='version identifier id'>version</span><span class='symbol val'>:bump</span><span class='symbol val'>:minor</span>
<span class='rake identifier id'>rake</span> <span class='version identifier id'>version</span><span class='symbol val'>:bump</span><span class='symbol val'>:patch</span>
</pre>

<h2>Releasing to GitHub</h2>

<p>Jeweler handles releasing your gem into the wild:</p>

<pre class="code"><span class='rake identifier id'>rake</span> <span class='release identifier id'>release</span>
</pre>

<p>It does the following for you:</p>

<ul>
<li>Regenerate the gemspec to the latest version of your project</li>
<li>Push to GitHub (which results in a gem being build)</li>
<li>Tag the version and push to GitHub</li>
</ul>

<h2>Releasing to RubyForge</h2>

<p>Jeweler can also handle releasing to <a href="http://rubyforge.org">RubyForge</a>. There are a few steps you need to do before doing any RubyForge releases with Jeweler:</p>

<ul>
<li><a href="http://rubyforge.org/account/register.php">Create an account on RubyForge</a></li>
<li>Request a project on RubyForge. This involves waiting for a project approval, which can take any amount of time from a few hours to a week
<ul>
<li>You might want to create an umbrella project where you can publish your gems, instead of one project per gem</li>
</ul></li>
<li>Install the RubyForge gem: sudo gem install rubyforge</li>
<li>Run 'rubyforge setup' and fill in your username and password for RubyForge</li>
<li>Run 'rubyforge config' to pull down information about your projects</li>
<li>Run 'rubyforge login' to make sure you are able to login</li>
</ul>

<p>With this in place, you now update your Jeweler::Tasks to setup <code>rubyforge_project</code> with the RubyForge project you've just created. (Note, using <code>jeweler --rubyforge</code> when generating the project does this for you automatically.)</p>

<pre class="code"><span class='begin begin kw'>begin</span>
  <span class='require identifier id'>require</span> <span class='string val'>'jeweler'</span>
  <span class='Jeweler constant id'>Jeweler</span><span class='colon2 op'>::</span><span class='Tasks constant id'>Tasks</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='s identifier id'>s</span><span class='bitor op'>|</span>
    <span class='s identifier id'>s</span><span class='dot token'>.</span><span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='string val'>&quot;the-perfect-gem&quot;</span>
    <span class='s identifier id'>s</span><span class='dot token'>.</span><span class='summary identifier id'>summary</span> <span class='assign token'>=</span> <span class='string val'>&quot;TODO&quot;</span>
    <span class='s identifier id'>s</span><span class='dot token'>.</span><span class='email identifier id'>email</span> <span class='assign token'>=</span> <span class='string val'>&quot;josh@technicalpickles.com&quot;</span>
    <span class='s identifier id'>s</span><span class='dot token'>.</span><span class='homepage identifier id'>homepage</span> <span class='assign token'>=</span> <span class='string val'>&quot;http://github.com/technicalpickles/the-perfect-gem&quot;</span>
    <span class='s identifier id'>s</span><span class='dot token'>.</span><span class='description identifier id'>description</span> <span class='assign token'>=</span> <span class='string val'>&quot;TODO&quot;</span>
    <span class='s identifier id'>s</span><span class='dot token'>.</span><span class='authors identifier id'>authors</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='string val'>&quot;Josh Nichols&quot;</span><span class='rbrack token'>]</span>
    <span class='s identifier id'>s</span><span class='dot token'>.</span><span class='rubyforge_project identifier id'>rubyforge_project</span> <span class='assign token'>=</span> <span class='string val'>'the-perfect-gem'</span> <span class='comment val'># This line would be new</span>
  <span class='end end kw'>end</span>
<span class='rescue rescue kw'>rescue</span> <span class='LoadError constant id'>LoadError</span>
  <span class='puts identifier id'>puts</span> <span class='string val'>&quot;Jeweler not available. Install it with: sudo gem install jeweler&quot;</span>
<span class='end end kw'>end</span>

<span class='comment val'># These are new tasks</span>
<span class='begin begin kw'>begin</span>
  <span class='require identifier id'>require</span> <span class='string val'>'rake/contrib/sshpublisher'</span>
  <span class='namespace identifier id'>namespace</span> <span class='symbol val'>:rubyforge</span> <span class='do do kw'>do</span>

    <span class='desc identifier id'>desc</span> <span class='string val'>&quot;Release gem and RDoc documentation to RubyForge&quot;</span>
    <span class='task identifier id'>task</span> <span class='symbol val'>:release</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='string val'>&quot;rubyforge:release:gem&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;rubyforge:release:docs&quot;</span><span class='rbrack token'>]</span>

    <span class='namespace identifier id'>namespace</span> <span class='symbol val'>:release</span> <span class='do do kw'>do</span>
      <span class='desc identifier id'>desc</span> <span class='string val'>&quot;Publish RDoc to RubyForge.&quot;</span>
      <span class='task identifier id'>task</span> <span class='symbol val'>:docs</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='symbol val'>:rdoc</span><span class='rbrack token'>]</span> <span class='do do kw'>do</span>
        <span class='config identifier id'>config</span> <span class='assign token'>=</span> <span class='YAML constant id'>YAML</span><span class='dot token'>.</span><span class='load identifier id'>load</span><span class='lparen token'>(</span>
            <span class='File constant id'>File</span><span class='dot token'>.</span><span class='read identifier id'>read</span><span class='lparen token'>(</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='expand_path identifier id'>expand_path</span><span class='lparen token'>(</span><span class='string val'>'~/.rubyforge/user-config.yml'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
        <span class='rparen token'>)</span>

        <span class='host identifier id'>host</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{config['username']}@rubyforge.org&quot;</span>
        <span class='remote_dir identifier id'>remote_dir</span> <span class='assign token'>=</span> <span class='string val'>&quot;/var/www/gforge-projects/the-perfect-gem/&quot;</span>
        <span class='local_dir identifier id'>local_dir</span> <span class='assign token'>=</span> <span class='string val'>'rdoc'</span>

        <span class='Rake constant id'>Rake</span><span class='colon2 op'>::</span><span class='SshDirPublisher constant id'>SshDirPublisher</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='host identifier id'>host</span><span class='comma token'>,</span> <span class='remote_dir identifier id'>remote_dir</span><span class='comma token'>,</span> <span class='local_dir identifier id'>local_dir</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='upload identifier id'>upload</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='rescue rescue kw'>rescue</span> <span class='LoadError constant id'>LoadError</span>
  <span class='puts identifier id'>puts</span> <span class='string val'>&quot;Rake SshDirPublisher is unavailable or your rubyforge environment is not configured.&quot;</span>
<span class='end end kw'>end</span>
</pre>

<p>Now you must initially create a 'package' for your gem in your 'project':</p>

<pre class="code">$ <span class='rake identifier id'>rake</span> <span class='rubyforge identifier id'>rubyforge</span><span class='symbol val'>:setup</span>
</pre>

<p>With all that setup out of the way, you can now release to RubyForge with impunity. This would release the current version of your gem, and upload the rdoc as your project's webpage.</p>

<pre class="code">$ <span class='rake identifier id'>rake</span> <span class='rubyforge identifier id'>rubyforge</span><span class='symbol val'>:release</span>
</pre>

<h2>Workflow</h2>

<ul>
<li>Hack, commit, hack, commit, etc, etc</li>
<li><code>rake version:bump:patch release</code> to do the actual version bump and release</li>
<li>Have a delicious scotch</li>
<li>Install <a href="http://github.com/technicalpickles/gemstalker">gemstalker</a>, and use it to know when gem is built. It typically builds in a few minutes, but won't be installable for another 15 minutes.</li>
</ul>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>