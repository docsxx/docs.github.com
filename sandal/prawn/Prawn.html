<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="syntax_highlight.css" type="text/css" charset="utf-8" />

    <script src="jquery.js" type="text/javascript" charset="utf-8"></script>
    <script src="app.js" type="text/javascript" charset="utf-8"></script>
    <title>Module: Prawn</title>
  </head>
  <body>
    <div id="content">
      <div class="section module Prawn">
  <h1 class="title">Module: Prawn</h1>
  <div class="section docstring">
  <p>
encoding: utf-8 measurements.rb: Conversions from other measurements to PDF
points
</p>
<p>
Copyright December 2008, Florian Witteler. All Rights Reserved.
</p>

</div><div class="section attributes">
  <h1>Attributes</h1>

  
    <div class="instance">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">debug</td>
          <td class="readwrite">
            [<span id='debug-instance_method'>R</span><span id='debug%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Whe set to true, Prawn will verify hash options to ensure only valid keys
are used.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  <div class="thisclass">
  <h1>Constants</h1>
  <dl>
    
      <dt id="BASEDIR-constant">BASEDIR</dt>
      <dd>File.expand_path(File.join(dir, '..'))</dd>
    
  </dl>
</div>

</div>  <div class="section visibilitygroup public">
    <h1>Public Visibility</h1>
      <div class="section methodsummary instance public">
    <h1>Public Instance Method Summary</h1>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#PdfObject-instance_method' title='#PdfObject'>#PdfObject</a></span><span class='args'>(obj, in_content_stream = false)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Serializes Ruby objects to their PDF equivalents.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#Reference-instance_method' title='#Reference'>#Reference</a></span><span class='args'>(*args, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#verify_options-instance_method' title='#verify_options'>#verify_options</a></span><span class='args'>(accepted,actual)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails instance public">
  <h1>Public Instance Method Details</h1>
  
    <div class="method">
      <div class="method_header">
  <h3>PdfObject</h3>
</div><div id="PdfObject-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>PdfObject</span><span class='args'>(obj, in_content_stream = false)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Serializes Ruby objects to their PDF equivalents. Most primitive objects
will work as expected, but please note that Name objects are represented by
Ruby Symbol objects and Dictionary objects are represented by Ruby hashes
(keyed by symbols)
</p>
<pre class="code">
 <span class='Examples constant id'>Examples</span><span class='colon op'>:</span>

    <span class='PdfObject constant id'>PdfObject</span><span class='lparen token'>(</span><span class='true true kw'>true</span><span class='rparen token'>)</span>      <span class='comment val'>#=&gt; &quot;true&quot;</span>
    <span class='PdfObject constant id'>PdfObject</span><span class='lparen token'>(</span><span class='false false kw'>false</span><span class='rparen token'>)</span>     <span class='comment val'>#=&gt; &quot;false&quot;</span>
    <span class='PdfObject constant id'>PdfObject</span><span class='lparen token'>(</span><span class='float val'>1.2124</span><span class='rparen token'>)</span>    <span class='comment val'>#=&gt; &quot;1.2124&quot;</span>
    <span class='PdfObject constant id'>PdfObject</span><span class='lparen token'>(</span><span class='string val'>&quot;foo bar&quot;</span><span class='rparen token'>)</span> <span class='comment val'>#=&gt; &quot;(foo bar)&quot;</span>
    <span class='PdfObject constant id'>PdfObject</span><span class='lparen token'>(</span><span class='symbol val'>:Symbol</span><span class='rparen token'>)</span>   <span class='comment val'>#=&gt; &quot;/Symbol&quot;</span>
    <span class='PdfObject constant id'>PdfObject</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='string val'>&quot;foo&quot;</span><span class='comma token'>,</span><span class='symbol val'>:bar</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='comment val'>#=&gt; &quot;[foo /bar [1 2]]&quot;</span>
</pre>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/prawn/pdf_object.rb', line 29</span>

<span class='def def kw'>def</span> <span class='PdfObject constant id'>PdfObject</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='comma token'>,</span> <span class='in_content_stream identifier id'>in_content_stream</span> <span class='assign token'>=</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='case case kw'>case</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='rparen token'>)</span>        
  <span class='when when kw'>when</span> <span class='NilClass constant id'>NilClass</span>   <span class='then then kw'>then</span> <span class='string val'>&quot;null&quot;</span> 
  <span class='when when kw'>when</span> <span class='TrueClass constant id'>TrueClass</span>  <span class='then then kw'>then</span> <span class='string val'>&quot;true&quot;</span>
  <span class='when when kw'>when</span> <span class='FalseClass constant id'>FalseClass</span> <span class='then then kw'>then</span> <span class='string val'>&quot;false&quot;</span>
  <span class='when when kw'>when</span> <span class='Numeric constant id'>Numeric</span>    <span class='then then kw'>then</span> <span class='String constant id'>String</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='rparen token'>)</span>
  <span class='when when kw'>when</span> <span class='Array constant id'>Array</span>
    <span class='string val'>&quot;[&quot;</span> <span class='lshft op'>&lt;&lt;</span> <span class='obj identifier id'>obj</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='PdfObject constant id'>PdfObject</span><span class='lparen token'>(</span><span class='e identifier id'>e</span><span class='comma token'>,</span> <span class='in_content_stream identifier id'>in_content_stream</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>' '</span><span class='rparen token'>)</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;]&quot;</span>
  <span class='when when kw'>when</span> <span class='Prawn constant id'>Prawn</span><span class='colon2 op'>::</span><span class='LiteralString constant id'>LiteralString</span>
    <span class='obj identifier id'>obj</span> <span class='assign token'>=</span> <span class='obj identifier id'>obj</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/[\\\n\(\)]/</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='m identifier id'>m</span><span class='bitor op'>|</span> <span class='dstring node'>&quot;\\#{m}&quot;</span> <span class='rbrace token'>}</span>
    <span class='dstring node'>&quot;(#{obj})&quot;</span>
  <span class='when when kw'>when</span> <span class='Time constant id'>Time</span>
    <span class='obj identifier id'>obj</span> <span class='assign token'>=</span> <span class='obj identifier id'>obj</span><span class='dot token'>.</span><span class='strftime identifier id'>strftime</span><span class='lparen token'>(</span><span class='string val'>&quot;D:%Y%m%d%H%M%S%z&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='chop identifier id'>chop</span><span class='dot token'>.</span><span class='chop identifier id'>chop</span> <span class='plus op'>+</span> <span class='string val'>&quot;'00'&quot;</span>
    <span class='obj identifier id'>obj</span> <span class='assign token'>=</span> <span class='obj identifier id'>obj</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/[\\\n\(\)]/</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='m identifier id'>m</span><span class='bitor op'>|</span> <span class='dstring node'>&quot;\\#{m}&quot;</span> <span class='rbrace token'>}</span>
    <span class='dstring node'>&quot;(#{obj})&quot;</span>
  <span class='when when kw'>when</span> <span class='String constant id'>String</span>
    <span class='obj identifier id'>obj</span> <span class='assign token'>=</span> <span class='string val'>&quot;\xFE\xFF&quot;</span> <span class='plus op'>+</span> <span class='obj identifier id'>obj</span><span class='dot token'>.</span><span class='unpack identifier id'>unpack</span><span class='lparen token'>(</span><span class='string val'>&quot;U*&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='pack identifier id'>pack</span><span class='lparen token'>(</span><span class='string val'>&quot;n*&quot;</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='in_content_stream identifier id'>in_content_stream</span>
    <span class='string val'>&quot;&lt;&quot;</span> <span class='lshft op'>&lt;&lt;</span> <span class='obj identifier id'>obj</span><span class='dot token'>.</span><span class='unpack identifier id'>unpack</span><span class='lparen token'>(</span><span class='string val'>&quot;H*&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;&gt;&quot;</span>
  <span class='when when kw'>when</span> <span class='Symbol constant id'>Symbol</span>                                                         
     <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='obj identifier id'>obj</span> <span class='assign token'>=</span> <span class='obj identifier id'>obj</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span> <span class='match op'>=~</span> <span class='regexp val'>/\s/</span>
       <span class='raise identifier id'>raise</span> <span class='Prawn constant id'>Prawn</span><span class='colon2 op'>::</span><span class='Errors constant id'>Errors</span><span class='colon2 op'>::</span><span class='FailedObjectConversion constant id'>FailedObjectConversion</span><span class='comma token'>,</span> 
         <span class='string val'>&quot;A PDF Name cannot contain whitespace&quot;</span>  
     <span class='else else kw'>else</span>
       <span class='string val'>&quot;/&quot;</span> <span class='lshft op'>&lt;&lt;</span> <span class='obj identifier id'>obj</span>   
     <span class='end end kw'>end</span> 
  <span class='when when kw'>when</span> <span class='Hash constant id'>Hash</span>           
    <span class='output identifier id'>output</span> <span class='assign token'>=</span> <span class='string val'>&quot;&lt;&lt; &quot;</span>
    <span class='obj identifier id'>obj</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span>                                                        
      <span class='unless unless kw'>unless</span> <span class='String constant id'>String</span> <span class='eqq op'>===</span> <span class='k identifier id'>k</span> <span class='orop op'>||</span> <span class='Symbol constant id'>Symbol</span> <span class='eqq op'>===</span> <span class='k identifier id'>k</span>
        <span class='raise identifier id'>raise</span> <span class='Prawn constant id'>Prawn</span><span class='colon2 op'>::</span><span class='Errors constant id'>Errors</span><span class='colon2 op'>::</span><span class='FailedObjectConversion constant id'>FailedObjectConversion</span><span class='comma token'>,</span> 
          <span class='string val'>&quot;A PDF Dictionary must be keyed by names&quot;</span>
      <span class='end end kw'>end</span>                          
      <span class='output identifier id'>output</span> <span class='lshft op'>&lt;&lt;</span> <span class='PdfObject constant id'>PdfObject</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='comma token'>,</span> <span class='in_content_stream identifier id'>in_content_stream</span><span class='rparen token'>)</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot; &quot;</span> <span class='lshft op'>&lt;&lt;</span> 
                <span class='PdfObject constant id'>PdfObject</span><span class='lparen token'>(</span><span class='v identifier id'>v</span><span class='comma token'>,</span> <span class='in_content_stream identifier id'>in_content_stream</span><span class='rparen token'>)</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;\n&quot;</span>
    <span class='end end kw'>end</span>   
    <span class='output identifier id'>output</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;&gt;&gt;&quot;</span>  
  <span class='when when kw'>when</span> <span class='Prawn constant id'>Prawn</span><span class='colon2 op'>::</span><span class='Reference constant id'>Reference</span>
    <span class='obj identifier id'>obj</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>      
  <span class='when when kw'>when</span> <span class='Prawn constant id'>Prawn</span><span class='colon2 op'>::</span><span class='NameTree constant id'>NameTree</span><span class='colon2 op'>::</span><span class='Node constant id'>Node</span>
    <span class='PdfObject constant id'>PdfObject</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='dot token'>.</span><span class='to_hash identifier id'>to_hash</span><span class='rparen token'>)</span>
  <span class='when when kw'>when</span> <span class='Prawn constant id'>Prawn</span><span class='colon2 op'>::</span><span class='NameTree constant id'>NameTree</span><span class='colon2 op'>::</span><span class='Value constant id'>Value</span>
    <span class='PdfObject constant id'>PdfObject</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='string val'>&quot; &quot;</span> <span class='plus op'>+</span> <span class='PdfObject constant id'>PdfObject</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='dot token'>.</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='raise identifier id'>raise</span> <span class='Prawn constant id'>Prawn</span><span class='colon2 op'>::</span><span class='Errors constant id'>Errors</span><span class='colon2 op'>::</span><span class='FailedObjectConversion constant id'>FailedObjectConversion</span><span class='comma token'>,</span> 
      <span class='string val'>&quot;This object cannot be serialized to PDF&quot;</span>
  <span class='end end kw'>end</span>     
<span class='end end kw'>end</span>   
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>Reference</h3>
</div><div id="Reference-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>Reference</span><span class='args'>(*args, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


55
56
57</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/prawn/reference.rb', line 55</span>

<span class='def def kw'>def</span> <span class='Reference constant id'>Reference</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='Reference constant id'>Reference</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>     
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>verify_options</h3>
</div><div id="verify_options-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>verify_options</span><span class='args'>(accepted,actual)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  
</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


37
38
39
40
41
42
43
44
45
46</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/prawn.rb', line 37</span>

<span class='def def kw'>def</span> <span class='verify_options identifier id'>verify_options</span><span class='lparen token'>(</span><span class='accepted identifier id'>accepted</span><span class='comma token'>,</span><span class='actual identifier id'>actual</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='return return kw'>return</span> <span class='unless unless_mod kw'>unless</span> <span class='debug identifier id'>debug</span> <span class='orop op'>||</span> <span class='$DEBUG gvar id'>$DEBUG</span>
  <span class='require identifier id'>require</span> <span class='string val'>&quot;set&quot;</span>
  <span class='unless unless kw'>unless</span> <span class='lparen token'>(</span><span class='act identifier id'>act</span><span class='assign token'>=</span><span class='Set constant id'>Set</span><span class='lbrack token'>[</span><span class='mult op'>*</span><span class='actual identifier id'>actual</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='subset? fid id'>subset?</span><span class='lparen token'>(</span><span class='acc identifier id'>acc</span><span class='assign token'>=</span><span class='Set constant id'>Set</span><span class='lbrack token'>[</span><span class='mult op'>*</span><span class='accepted identifier id'>accepted</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
    <span class='raise identifier id'>raise</span> <span class='Prawn constant id'>Prawn</span><span class='colon2 op'>::</span><span class='Errors constant id'>Errors</span><span class='colon2 op'>::</span><span class='UnknownOption constant id'>UnknownOption</span><span class='comma token'>,</span>
      <span class='dstring node'>&quot;\nDetected unknown option(s): #{(act - acc).to_a.inspect}\n&quot;</span> <span class='lshft op'>&lt;&lt;</span>
      <span class='dstring node'>&quot;Accepted options are: #{accepted.inspect}&quot;</span>
  <span class='end end kw'>end</span>
  <span class='yield yield kw'>yield</span> <span class='if if_mod kw'>if</span> <span class='block_given? fid id'>block_given?</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
</div>
  </div>

</div>
    </div>
  </body>
</html>