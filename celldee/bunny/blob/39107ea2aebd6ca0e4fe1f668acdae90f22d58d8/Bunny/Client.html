<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>celldee's bunny - Class: Bunny::Client - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/celldee/commits/bunny/master" rel="alternate" title="Recent Commits to bunny:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("celldee", "bunny", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='celldee/bunny/blob/39107ea2aebd6ca0e4fe1f668acdae90f22d58d8' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='celldee/bunny/blob/39107ea2aebd6ca0e4fe1f668acdae90f22d58d8' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("celldee", "bunny", "39107ea2aebd6ca0e4fe1f668acdae90f22d58d8", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/celldee/bunny/tree/">Source</a></li>
            <li class=""><a href="http://github.com/celldee/bunny/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/celldee/bunny/network">Network</a></li>            
            <li class=""><a href="http://github.com/celldee/bunny/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/celldee/bunny">Wiki</a></li>
            <li class=""><a href="http://github.com/celldee/bunny/graphs">Graphs</a></li>                    
            <li class="active"><a href="/celldee/bunny">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/celldee">celldee</a> / <b><a href="http://github.com/celldee/bunny/tree">bunny</a></b>        
                <a id="namespaces_button" rel="celldee/bunny/blob/39107ea2aebd6ca0e4fe1f668acdae90f22d58d8" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="celldee/bunny/blob/39107ea2aebd6ca0e4fe1f668acdae90f22d58d8" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Bunny_Client">
  <h1>Class: Bunny::Client</h1>
  <div class="section inheritance">
  <ul>
  <li><a href="../Qrack/Client.html" title="Qrack::Client">Qrack::Client</a></li><ul><li>Bunny::Client</li>
  </ul></ul>
</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">channel</td>
          <td class="readwrite">
            [<span id='channel-instance_method'>R</span><span id='channel%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>channel</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">exchanges</td>
          <td class="readwrite">
            [R<span id='exchanges%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            
            
          </td>
        </tr>
      
        <tr>
          <th class="name">host</td>
          <td class="readwrite">
            [<span id='host-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>host</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">logging</td>
          <td class="readwrite">
            [<span id='logging-instance_method'>R</span><span id='logging%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>logging</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">port</td>
          <td class="readwrite">
            [<span id='port-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>port</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">queues</td>
          <td class="readwrite">
            [R<span id='queues%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>queues</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">status</td>
          <td class="readwrite">
            [<span id='status-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>status</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">ticket</td>
          <td class="readwrite">
            [<span id='ticket-instance_method'>R</span><span id='ticket%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>ticket</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">vhost</td>
          <td class="readwrite">
            [<span id='vhost-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>vhost</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="CONNECT_TIMEOUT-constant">CONNECT_TIMEOUT</dt>
      <dd>1.0</dd>
    
      <dt id="RETRY_DELAY-constant">RETRY_DELAY</dt>
      <dd>10.0</dd>
    
  </dl>
</div>

</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(opts = )</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bunny/client.rb', line 41</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/celldee/bunny/blob/39107ea2aebd6ca0e4fe1f668acdae90f22d58d8/lib/bunny/client.rb#L41">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">41
42
43
44
45
46
47
48
49
50</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='opts identifier id'>opts</span> <span class='assign token'>=</span> <span class='semicolon token'>;</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='@host ivar id'>@host</span> <span class='assign token'>=</span> <span class='opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:host</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='string val'>'localhost'</span>
  <span class='@port ivar id'>@port</span> <span class='assign token'>=</span> <span class='opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:port</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='Qrack constant id'>Qrack</span><span class='colon2 op'>::</span><span class='Protocol constant id'>Protocol</span><span class='colon2 op'>::</span><span class='PORT constant id'>PORT</span>
  <span class='@user ivar id'>@user</span>   <span class='assign token'>=</span> <span class='opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:user</span><span class='rbrack token'>]</span>  <span class='orop op'>||</span> <span class='string val'>'guest'</span>
  <span class='@pass ivar id'>@pass</span>   <span class='assign token'>=</span> <span class='opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:pass</span><span class='rbrack token'>]</span>  <span class='orop op'>||</span> <span class='string val'>'guest'</span>
  <span class='@vhost ivar id'>@vhost</span>  <span class='assign token'>=</span> <span class='opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:vhost</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='string val'>'/'</span>
  <span class='@logging ivar id'>@logging</span> <span class='assign token'>=</span> <span class='opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:logging</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='false false kw'>false</span>
  <span class='@insist ivar id'>@insist</span> <span class='assign token'>=</span> <span class='opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:insist</span><span class='rbrack token'>]</span>
  <span class='@status ivar id'>@status</span> <span class='assign token'>=</span> <span class='symbol val'>:not_connected</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#close-instance_method">#close</span><span class='args'></span>
        <span class='block'></span>
        
          <span class='alias'>#stop</span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#exchange-instance_method">#exchange</span><span class='args'>(name, opts = )</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#exchanges-instance_method">#exchanges</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#next_frame-instance_method">#next_frame</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#next_method-instance_method">#next_method</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#next_payload-instance_method">#next_payload</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#queue-instance_method">#queue</span><span class='args'>(name, opts = )</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#queues-instance_method">#queues</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the value of attribute <tt>queues</tt>..
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#read-instance_method">#read</span><span class='args'>(*args)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#recover-instance_method">#recover</span><span class='args'>(opts = )</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#send_frame-instance_method">#send_frame</span><span class='args'>(*args)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#start_session-instance_method">#start_session</span><span class='args'></span>
        <span class='block'></span>
        
          <span class='alias'>#start</span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#write-instance_method">#write</span><span class='args'>(*args)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>close</h3>
</div><div id="close-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>close</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="stop-instance_method">stop</tt>
  
</p>
</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
  </dl>
</div><div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="ProtocolError.html" title="Bunny::ProtocolError">Bunny::ProtocolError</a></tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bunny/client.rb', line 185</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/celldee/bunny/blob/39107ea2aebd6ca0e4fe1f668acdae90f22d58d8/lib/bunny/client.rb#L185">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">185
186
187
188
189
190
191
192
193
194
195
196
197
198</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='close identifier id'>close</span>
  <span class='send_frame identifier id'>send_frame</span><span class='lparen token'>(</span>
    <span class='Qrack constant id'>Qrack</span><span class='colon2 op'>::</span><span class='Protocol constant id'>Protocol</span><span class='colon2 op'>::</span><span class='Channel constant id'>Channel</span><span class='colon2 op'>::</span><span class='Close constant id'>Close</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:reply_code</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>200</span><span class='comma token'>,</span> <span class='symbol val'>:reply_text</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'bye'</span><span class='comma token'>,</span> <span class='symbol val'>:method_id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>0</span><span class='comma token'>,</span> <span class='symbol val'>:class_id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>0</span><span class='rparen token'>)</span>
  <span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='Bunny constant id'>Bunny</span><span class='colon2 op'>::</span><span class='ProtocolError constant id'>ProtocolError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Error closing channel #{channel}&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='next_method identifier id'>next_method</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Qrack constant id'>Qrack</span><span class='colon2 op'>::</span><span class='Protocol constant id'>Protocol</span><span class='colon2 op'>::</span><span class='Channel constant id'>Channel</span><span class='colon2 op'>::</span><span class='CloseOk constant id'>CloseOk</span><span class='rparen token'>)</span>

  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='channel identifier id'>channel</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='send_frame identifier id'>send_frame</span><span class='lparen token'>(</span>
    <span class='Qrack constant id'>Qrack</span><span class='colon2 op'>::</span><span class='Protocol constant id'>Protocol</span><span class='colon2 op'>::</span><span class='Connection constant id'>Connection</span><span class='colon2 op'>::</span><span class='Close constant id'>Close</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:reply_code</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>200</span><span class='comma token'>,</span> <span class='symbol val'>:reply_text</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'Goodbye'</span><span class='comma token'>,</span> <span class='symbol val'>:class_id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>0</span><span class='comma token'>,</span> <span class='symbol val'>:method_id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>0</span><span class='rparen token'>)</span>
  <span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='Bunny constant id'>Bunny</span><span class='colon2 op'>::</span><span class='ProtocolError constant id'>ProtocolError</span><span class='comma token'>,</span> <span class='string val'>&quot;Error closing connection&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='next_method identifier id'>next_method</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Qrack constant id'>Qrack</span><span class='colon2 op'>::</span><span class='Protocol constant id'>Protocol</span><span class='colon2 op'>::</span><span class='Connection constant id'>Connection</span><span class='colon2 op'>::</span><span class='CloseOk constant id'>CloseOk</span><span class='rparen token'>)</span>

  <span class='close_socket identifier id'>close_socket</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>exchange</h3>
</div><div id="exchange-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>exchange</span><span class='args'>(name, opts = )</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bunny/client.rb', line 79</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/celldee/bunny/blob/39107ea2aebd6ca0e4fe1f668acdae90f22d58d8/lib/bunny/client.rb#L79">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">79
80
81</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='exchange identifier id'>exchange</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='opts identifier id'>opts</span> <span class='assign token'>=</span> <span class='semicolon token'>;</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='exchanges identifier id'>exchanges</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='Bunny constant id'>Bunny</span><span class='colon2 op'>::</span><span class='Exchange constant id'>Exchange</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='opts identifier id'>opts</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>exchanges</h3>
</div><div id="exchanges-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>exchanges</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bunny/client.rb', line 91</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/celldee/bunny/blob/39107ea2aebd6ca0e4fe1f668acdae90f22d58d8/lib/bunny/client.rb#L91">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">91
92
93</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='exchanges identifier id'>exchanges</span>
  <span class='@exchanges ivar id'>@exchanges</span> <span class='opasgn op'>||=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>next_frame</h3>
</div><div id="next_frame-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>next_frame</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bunny/client.rb', line 157</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/celldee/bunny/blob/39107ea2aebd6ca0e4fe1f668acdae90f22d58d8/lib/bunny/client.rb#L157">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">157
158
159
160
161</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='next_frame identifier id'>next_frame</span>
  <span class='frame identifier id'>frame</span> <span class='assign token'>=</span> <span class='Qrack constant id'>Qrack</span><span class='colon2 op'>::</span><span class='Transport constant id'>Transport</span><span class='colon2 op'>::</span><span class='Frame constant id'>Frame</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='buffer identifier id'>buffer</span><span class='rparen token'>)</span>
  <span class='log identifier id'>log</span> <span class='symbol val'>:received</span><span class='comma token'>,</span> <span class='frame identifier id'>frame</span>
  <span class='frame identifier id'>frame</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>next_method</h3>
</div><div id="next_method-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>next_method</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bunny/client.rb', line 163</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/celldee/bunny/blob/39107ea2aebd6ca0e4fe1f668acdae90f22d58d8/lib/bunny/client.rb#L163">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">163
164
165</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='next_method identifier id'>next_method</span>
  <span class='next_payload identifier id'>next_payload</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>next_payload</h3>
</div><div id="next_payload-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>next_payload</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bunny/client.rb', line 167</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/celldee/bunny/blob/39107ea2aebd6ca0e4fe1f668acdae90f22d58d8/lib/bunny/client.rb#L167">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">167
168
169
170</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='next_payload identifier id'>next_payload</span>
  <span class='frame identifier id'>frame</span> <span class='assign token'>=</span> <span class='next_frame identifier id'>next_frame</span>
  <span class='frame identifier id'>frame</span> <span class='and and kw'>and</span> <span class='frame identifier id'>frame</span><span class='dot token'>.</span><span class='payload identifier id'>payload</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>queue</h3>
</div><div id="queue-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>queue</span><span class='args'>(name, opts = )</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bunny/client.rb', line 129</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/celldee/bunny/blob/39107ea2aebd6ca0e4fe1f668acdae90f22d58d8/lib/bunny/client.rb#L129">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">129
130
131</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='queue identifier id'>queue</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='opts identifier id'>opts</span> <span class='assign token'>=</span> <span class='semicolon token'>;</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='queues identifier id'>queues</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='Bunny constant id'>Bunny</span><span class='colon2 op'>::</span><span class='Queue constant id'>Queue</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='opts identifier id'>opts</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>queues</h3>
</div><div id="queues-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>queues</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the value of attribute <tt>queues</tt>
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bunny/client.rb', line 16</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/celldee/bunny/blob/39107ea2aebd6ca0e4fe1f668acdae90f22d58d8/lib/bunny/client.rb#L16">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">16
17
18</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='queues identifier id'>queues</span>
  <span class='@queues ivar id'>@queues</span> <span class='opasgn op'>||=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>read</h3>
</div><div id="read-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>read</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bunny/client.rb', line 202</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/celldee/bunny/blob/39107ea2aebd6ca0e4fe1f668acdae90f22d58d8/lib/bunny/client.rb#L202">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">202
203
204</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='read identifier id'>read</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='send_command identifier id'>send_command</span><span class='lparen token'>(</span><span class='symbol val'>:read</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>recover</h3>
</div><div id="recover-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>recover</span><span class='args'>(opts = )</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bunny/client.rb', line 284</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/celldee/bunny/blob/39107ea2aebd6ca0e4fe1f668acdae90f22d58d8/lib/bunny/client.rb#L284">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">284
285
286
287
288
289
290</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='recover identifier id'>recover</span><span class='lparen token'>(</span><span class='opts identifier id'>opts</span> <span class='assign token'>=</span> <span class='semicolon token'>;</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>

  <span class='send_frame identifier id'>send_frame</span><span class='lparen token'>(</span>
    <span class='Qrack constant id'>Qrack</span><span class='colon2 op'>::</span><span class='Protocol constant id'>Protocol</span><span class='colon2 op'>::</span><span class='Basic constant id'>Basic</span><span class='colon2 op'>::</span><span class='Recover constant id'>Recover</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='lbrace token'>{</span> <span class='symbol val'>:requeue</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='opts identifier id'>opts</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='rparen token'>)</span>

<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>send_frame</h3>
</div><div id="send_frame-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>send_frame</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bunny/client.rb', line 145</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/celldee/bunny/blob/39107ea2aebd6ca0e4fe1f668acdae90f22d58d8/lib/bunny/client.rb#L145">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">145
146
147
148
149
150
151
152
153
154
155</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='send_frame identifier id'>send_frame</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='data identifier id'>data</span><span class='bitor op'>|</span>
    <span class='data identifier id'>data</span><span class='dot token'>.</span><span class='ticket identifier id'>ticket</span>  <span class='assign token'>=</span> <span class='ticket identifier id'>ticket</span> <span class='if if_mod kw'>if</span> <span class='ticket identifier id'>ticket</span> <span class='and and kw'>and</span> <span class='data identifier id'>data</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:ticket=</span><span class='rparen token'>)</span>
    <span class='data identifier id'>data</span>         <span class='assign token'>=</span> <span class='data identifier id'>data</span><span class='dot token'>.</span><span class='to_frame identifier id'>to_frame</span><span class='lparen token'>(</span><span class='channel identifier id'>channel</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='data identifier id'>data</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Qrack constant id'>Qrack</span><span class='colon2 op'>::</span><span class='Transport constant id'>Transport</span><span class='colon2 op'>::</span><span class='Frame constant id'>Frame</span><span class='rparen token'>)</span>
    <span class='data identifier id'>data</span><span class='dot token'>.</span><span class='channel identifier id'>channel</span> <span class='assign token'>=</span> <span class='channel identifier id'>channel</span>

    <span class='log identifier id'>log</span> <span class='symbol val'>:send</span><span class='comma token'>,</span> <span class='data identifier id'>data</span>
    <span class='write identifier id'>write</span><span class='lparen token'>(</span><span class='data identifier id'>data</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>start_session</h3>
</div><div id="start_session-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>start_session</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="start-instance_method">start</tt>
  
</p>
</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
  </dl>
</div><div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="ProtocolError.html" title="Bunny::ProtocolError">Bunny::ProtocolError</a></tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bunny/client.rb', line 223</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/celldee/bunny/blob/39107ea2aebd6ca0e4fe1f668acdae90f22d58d8/lib/bunny/client.rb#L223">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='start_session identifier id'>start_session</span>
  <span class='@channel ivar id'>@channel</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='write identifier id'>write</span><span class='lparen token'>(</span><span class='Qrack constant id'>Qrack</span><span class='colon2 op'>::</span><span class='Protocol constant id'>Protocol</span><span class='colon2 op'>::</span><span class='HEADER constant id'>HEADER</span><span class='rparen token'>)</span>
  <span class='write identifier id'>write</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='Qrack constant id'>Qrack</span><span class='colon2 op'>::</span><span class='Protocol constant id'>Protocol</span><span class='colon2 op'>::</span><span class='VERSION_MAJOR constant id'>VERSION_MAJOR</span><span class='comma token'>,</span> <span class='Qrack constant id'>Qrack</span><span class='colon2 op'>::</span><span class='Protocol constant id'>Protocol</span><span class='colon2 op'>::</span><span class='VERSION_MINOR constant id'>VERSION_MINOR</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='pack identifier id'>pack</span><span class='lparen token'>(</span><span class='string val'>'C4'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='Bunny constant id'>Bunny</span><span class='colon2 op'>::</span><span class='ProtocolError constant id'>ProtocolError</span><span class='comma token'>,</span> <span class='string val'>'Connection initiation failed'</span> <span class='unless unless_mod kw'>unless</span> <span class='next_method identifier id'>next_method</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Qrack constant id'>Qrack</span><span class='colon2 op'>::</span><span class='Protocol constant id'>Protocol</span><span class='colon2 op'>::</span><span class='Connection constant id'>Connection</span><span class='colon2 op'>::</span><span class='Start constant id'>Start</span><span class='rparen token'>)</span>

  <span class='send_frame identifier id'>send_frame</span><span class='lparen token'>(</span>
    <span class='Qrack constant id'>Qrack</span><span class='colon2 op'>::</span><span class='Protocol constant id'>Protocol</span><span class='colon2 op'>::</span><span class='Connection constant id'>Connection</span><span class='colon2 op'>::</span><span class='StartOk constant id'>StartOk</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span>
      <span class='lbrace token'>{</span><span class='symbol val'>:platform</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'Ruby'</span><span class='comma token'>,</span> <span class='symbol val'>:product</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'Bunny'</span><span class='comma token'>,</span> <span class='symbol val'>:information</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'http://github.com/celldee/bunny'</span><span class='comma token'>,</span> <span class='symbol val'>:version</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='VERSION constant id'>VERSION</span><span class='rbrace token'>}</span><span class='comma token'>,</span>
      <span class='string val'>'AMQPLAIN'</span><span class='comma token'>,</span>
      <span class='lbrace token'>{</span><span class='symbol val'>:LOGIN</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='@user ivar id'>@user</span><span class='comma token'>,</span> <span class='symbol val'>:PASSWORD</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='@pass ivar id'>@pass</span><span class='rbrace token'>}</span><span class='comma token'>,</span>
      <span class='string val'>'en_US'</span>
    <span class='rparen token'>)</span>
  <span class='rparen token'>)</span>
  
  <span class='method identifier id'>method</span> <span class='assign token'>=</span> <span class='next_method identifier id'>next_method</span>
  <span class='raise identifier id'>raise</span> <span class='Bunny constant id'>Bunny</span><span class='colon2 op'>::</span><span class='ProtocolError constant id'>ProtocolError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Connection failed - user: #{@user}, pass: #{@pass}&quot;</span> <span class='if if_mod kw'>if</span> <span class='method identifier id'>method</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>

  <span class='if if kw'>if</span> <span class='method identifier id'>method</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Qrack constant id'>Qrack</span><span class='colon2 op'>::</span><span class='Protocol constant id'>Protocol</span><span class='colon2 op'>::</span><span class='Connection constant id'>Connection</span><span class='colon2 op'>::</span><span class='Tune constant id'>Tune</span><span class='rparen token'>)</span>
    <span class='send_frame identifier id'>send_frame</span><span class='lparen token'>(</span>
      <span class='Qrack constant id'>Qrack</span><span class='colon2 op'>::</span><span class='Protocol constant id'>Protocol</span><span class='colon2 op'>::</span><span class='Connection constant id'>Connection</span><span class='colon2 op'>::</span><span class='TuneOk constant id'>TuneOk</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span> <span class='symbol val'>:channel_max</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>0</span><span class='comma token'>,</span> <span class='symbol val'>:frame_max</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>131072</span><span class='comma token'>,</span> <span class='symbol val'>:heartbeat</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>0</span><span class='rparen token'>)</span>
    <span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='send_frame identifier id'>send_frame</span><span class='lparen token'>(</span>
    <span class='Qrack constant id'>Qrack</span><span class='colon2 op'>::</span><span class='Protocol constant id'>Protocol</span><span class='colon2 op'>::</span><span class='Connection constant id'>Connection</span><span class='colon2 op'>::</span><span class='Open constant id'>Open</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:virtual_host</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='@vhost ivar id'>@vhost</span><span class='comma token'>,</span> <span class='symbol val'>:capabilities</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>''</span><span class='comma token'>,</span> <span class='symbol val'>:insist</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='@insist ivar id'>@insist</span><span class='rparen token'>)</span>
  <span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='Bunny constant id'>Bunny</span><span class='colon2 op'>::</span><span class='ProtocolError constant id'>ProtocolError</span><span class='comma token'>,</span> <span class='string val'>'Cannot open connection'</span> <span class='unless unless_mod kw'>unless</span> <span class='next_method identifier id'>next_method</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Qrack constant id'>Qrack</span><span class='colon2 op'>::</span><span class='Protocol constant id'>Protocol</span><span class='colon2 op'>::</span><span class='Connection constant id'>Connection</span><span class='colon2 op'>::</span><span class='OpenOk constant id'>OpenOk</span><span class='rparen token'>)</span>

  <span class='@channel ivar id'>@channel</span> <span class='assign token'>=</span> <span class='integer val'>1</span>
  <span class='send_frame identifier id'>send_frame</span><span class='lparen token'>(</span><span class='Qrack constant id'>Qrack</span><span class='colon2 op'>::</span><span class='Protocol constant id'>Protocol</span><span class='colon2 op'>::</span><span class='Channel constant id'>Channel</span><span class='colon2 op'>::</span><span class='Open constant id'>Open</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='Bunny constant id'>Bunny</span><span class='colon2 op'>::</span><span class='ProtocolError constant id'>ProtocolError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Cannot open channel #{channel}&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='next_method identifier id'>next_method</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Qrack constant id'>Qrack</span><span class='colon2 op'>::</span><span class='Protocol constant id'>Protocol</span><span class='colon2 op'>::</span><span class='Channel constant id'>Channel</span><span class='colon2 op'>::</span><span class='OpenOk constant id'>OpenOk</span><span class='rparen token'>)</span>

  <span class='send_frame identifier id'>send_frame</span><span class='lparen token'>(</span>
    <span class='Qrack constant id'>Qrack</span><span class='colon2 op'>::</span><span class='Protocol constant id'>Protocol</span><span class='colon2 op'>::</span><span class='Access constant id'>Access</span><span class='colon2 op'>::</span><span class='Request constant id'>Request</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:realm</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'/data'</span><span class='comma token'>,</span> <span class='symbol val'>:read</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:write</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:active</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:passive</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='rparen token'>)</span>
  <span class='rparen token'>)</span>
  <span class='method identifier id'>method</span> <span class='assign token'>=</span> <span class='next_method identifier id'>next_method</span>
  <span class='raise identifier id'>raise</span> <span class='Bunny constant id'>Bunny</span><span class='colon2 op'>::</span><span class='ProtocolError constant id'>ProtocolError</span><span class='comma token'>,</span> <span class='string val'>'Access denied'</span> <span class='unless unless_mod kw'>unless</span> <span class='method identifier id'>method</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Qrack constant id'>Qrack</span><span class='colon2 op'>::</span><span class='Protocol constant id'>Protocol</span><span class='colon2 op'>::</span><span class='Access constant id'>Access</span><span class='colon2 op'>::</span><span class='RequestOk constant id'>RequestOk</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='ticket identifier id'>ticket</span> <span class='assign token'>=</span> <span class='method identifier id'>method</span><span class='dot token'>.</span><span class='ticket identifier id'>ticket</span>

  <span class='comment val'># return status</span>
  <span class='status identifier id'>status</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>write</h3>
</div><div id="write-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>write</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bunny/client.rb', line 206</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/celldee/bunny/blob/39107ea2aebd6ca0e4fe1f668acdae90f22d58d8/lib/bunny/client.rb#L206">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">206
207
208</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='write identifier id'>write</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='send_command identifier id'>send_command</span><span class='lparen token'>(</span><span class='symbol val'>:write</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>