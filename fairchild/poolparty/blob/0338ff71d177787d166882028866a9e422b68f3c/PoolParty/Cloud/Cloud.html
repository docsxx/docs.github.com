<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>fairchild's poolparty - Class: PoolParty::Cloud::Cloud - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/fairchild/commits/poolparty/master" rel="alternate" title="Recent Commits to poolparty:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("fairchild", "poolparty", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("fairchild", "poolparty", "0338ff71d177787d166882028866a9e422b68f3c", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/fairchild/poolparty/tree/">Source</a></li>
            <li class=""><a href="http://github.com/fairchild/poolparty/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/fairchild/poolparty/network">Network</a></li>            
            <li class=""><a href="http://github.com/fairchild/poolparty/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/fairchild/poolparty">Wiki</a></li>
            <li class=""><a href="http://github.com/fairchild/poolparty/graphs">Graphs</a></li>                    
            <li class="active"><a href="/fairchild/poolparty">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/fairchild">fairchild</a> / <b><a href="http://github.com/fairchild/poolparty/tree">poolparty</a></b>        
                <a id="namespaces_button" rel="fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class PoolParty_Cloud_Cloud">
  <h1>Class: PoolParty::Cloud::Cloud</h1>
  <div class="section inheritance">
  <ul>
  <li><a href="../../Object.html" title="Object">Object</a></li><ul><li><a href="../PoolPartyBaseClass.html" title="PoolParty::PoolPartyBaseClass">PoolParty::PoolPartyBaseClass</a></li><ul><li>PoolParty::Cloud::Cloud</li>
  </ul></ul></ul>
</div><div class="section mixins">
  <h2>Included Modules</h2>
  <p><a href="Cloud/CloudResourcer.html" title="PoolParty::CloudResourcer">PoolParty::CloudResourcer</a>, <a href="../PoolParty/PluginModel.html" title="PoolParty::PluginModel">PoolParty::PluginModel</a>, <a href="../PoolParty/Resources.html" title="PoolParty::Resources">PoolParty::Resources</a>, <a href="../PoolParty/Callbacks.html" title="PoolParty::Callbacks">PoolParty::Callbacks</a>, <a href="../PoolParty/DependencyResolverCloudExtensions.html" title="PoolParty::DependencyResolverCloudExtensions">PoolParty::DependencyResolverCloudExtensions</a>, <a href="Cloud/PrettyPrinter.html" title="PoolParty::PrettyPrinter">PoolParty::PrettyPrinter</a>, <a href="../Remote.html" title="PoolParty::Remote">PoolParty::Remote</a>, <a href="../PoolParty/CloudDsl.html" title="PoolParty::CloudDsl">PoolParty::CloudDsl</a>, <a href="../PoolParty/Verification.html" title="PoolParty::Verification">PoolParty::Verification</a></p>
</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">cloud_name</td>
          <td class="readwrite">
            [<span id='cloud_name-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>cloud_name</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">remote_base</td>
          <td class="readwrite">
            [RW] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>remote_base</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">started_instance</td>
          <td class="readwrite">
            [<span id='started_instance-instance_method'>R</span><span id='started_instance%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>started_instance</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">templates</td>
          <td class="readwrite">
            [<span id='templates-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>templates</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(name, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Freeze the cloud_name so we can&#8217;t modify it at all, set the
plugin_directory call and run instance_eval on the block and then call the
after_create callback
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 92</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L92">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">92
93
94
95
96
97
98
99
100
101
102</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='@cloud_name ivar id'>@cloud_name</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span>
  <span class='@cloud_name ivar id'>@cloud_name</span><span class='dot token'>.</span><span class='freeze identifier id'>freeze</span>
  
  <span class='setup_callbacks identifier id'>setup_callbacks</span>
  
  <span class='plugin_directory identifier id'>plugin_directory</span> <span class='dstring node'>&quot;#{pool_specfile ? ::File.dirname(pool_specfile) : Dir.pwd}/plugins&quot;</span>        
  <span class='before_create identifier id'>before_create</span>
  <span class='super super kw'>super</span>
  <span class='after_create identifier id'>after_create</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div><div class="section methodmissing">
  <h2>Dynamic Method Handling</h2>

  <p class="note">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
  </p>

  <div id="method_missing-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>method_missing</span><span class='args'>(m, *args, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Call the remoter commands on the remoter_base if they don&#8217;t exist on
the cloud itself. This gives the cloud access to the remote_base&#8217;s
methods.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 70</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L70">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">70
71
72
73
74
75
76
77
78
79
80
81
82
83
84</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='method_missing identifier id'>method_missing</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='remote_base identifier id'>remote_base</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='rparen token'>)</span>
    <span class='remoter_opts identifier id'>remoter_opts</span> <span class='assign token'>=</span> <span class='dsl_options identifier id'>dsl_options</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='remote_base identifier id'>remote_base</span><span class='dot token'>.</span><span class='dsl_options identifier id'>dsl_options</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='choose identifier id'>choose</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span>
       <span class='remote_base identifier id'>remote_base</span><span class='dot token'>.</span><span class='dsl_options identifier id'>dsl_options</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='if if kw'>if</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='eq op'>==</span><span class='integer val'>1</span> <span class='andop op'>&amp;&amp;</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='colon op'>:</span><span class='merge identifier id'>merge</span><span class='rparen token'>)</span>
      <span class='new_args identifier id'>new_args</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='remoter_opts identifier id'>remoter_opts</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='rparen token'>)</span><span class='rbrack token'>]</span>
    <span class='else else kw'>else</span>
      <span class='new_args identifier id'>new_args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='remoter_opts identifier id'>remoter_opts</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='remote_base identifier id'>remote_base</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='lparen token'>(</span><span class='new_args identifier id'>new_args</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='super super kw'>super</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#immutable_methods-class_method">immutable_methods</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
include PoolParty::Monitors.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#load_from_json-class_method">load_from_json</span><span class='args'>(str, o = )</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
TODO: test ruby -rrubygems -e &#8216;require &quot;poolparty&quot;;puts
Cloud.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#method_added-class_method">method_added</span><span class='args'>(sym)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Redefining methods are not allowed.
</p>

        
      </td>
    </tr>
  
</table><div class="inherited">
  
  <div>
    <h2>Public Class Methods Inherited from <a href="../PoolPartyBaseClass.html" title="PoolParty::PoolPartyBaseClass">PoolParty::PoolPartyBaseClass</a></h2>
    <p><span class='name'><a href="../PoolPartyBaseClass.html#add_has_and_does_not_have_methods_for-class_method" title="add_has_and_does_not_have_methods_for">add_has_and_does_not_have_methods_for</a></span>, <span class='name'><a href="../PoolPartyBaseClass.html#add_resource_lookup_method-class_method" title="add_resource_lookup_method">add_resource_lookup_method</a></span></p>
  </div>
  
</div>
<div class="clear"></div><div class="included">
  
  <div>
    <h2>Public Class Methods Included from <a href="../PoolParty/Verification.html" title="PoolParty::Verification">PoolParty::Verification</a></h2>
    <p><span class='name'><a href="../Verification.html#included-class_method" title="included">included</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#_keypair_filepaths-instance_method">#_keypair_filepaths</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Collect the filepaths of the already loaded keypairs.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#_keypairs-instance_method">#_keypairs</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#after-instance_method">#after</span><span class='args'>(time, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
CALLBACKS To hook into the chain of processes that PoolParty uses when
launching, bootstrapping, configuring tasks, call these methods in your
clouds.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#after_bootstrap-instance_method">#after_bootstrap</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#after_configure-instance_method">#after_configure</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#after_create-instance_method">#after_create</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Callback called after the cloud has been created, everything has run and is
set at this point here the base requirements are added as well as an empty
chef recipe is called Also, the after_create hook on the plugins used by
the cloud are called here.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#after_launch_instance-instance_method">#after_launch_instance</span><span class='args'>(inst = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#before-instance_method">#before</span><span class='args'>(time, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#before_bootstrap-instance_method">#before_bootstrap</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Call before and after configure callbacks on the cloud.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#before_configure-instance_method">#before_configure</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#before_create-instance_method">#before_create</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#build_and_store_new_config_file-instance_method">#build_and_store_new_config_file</span><span class='args'>(filepath = nil, force = false)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Build the new poolparty manifest Wrapping all of these requirements into
the one poolparty class.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#build_from_existing_file-instance_method">#build_from_existing_file</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
If the pp already exists, then let&#8217;s not recreate it TODO: Abstract.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#build_manifest-instance_method">#build_manifest</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
FIXME MOVE TO DEPENDENCY RESOLVER Configuration files.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#copy_custom_monitors-instance_method">#copy_custom_monitors</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
If there is a directory named monitors in the same directory as the pool
specification file is in, then create a monitors directory in the storage
directory and mirror the two.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#full_keypair_path-instance_method">#full_keypair_path</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
TODO: deprecate: use key.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#ip-instance_method">#ip</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#ips-instance_method">#ips</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
provide list of public ips to get into the cloud.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#keypair-instance_method">#keypair</span><span class='args'>(*args)</span>
        <span class='block'></span>
        
          <span class='alias'>#key</span>
        
          <span class='alias'>#set_keypairs</span>
        
      </th>
      <td class="docstring">
        <p>
Keypairs Use the keypair path.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#rebuild_manifest-instance_method">#rebuild_manifest</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Force rebuilding of the manifest.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#remote_base-instance_method">#remote_base</span><span class='args'>(n = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the value of attribute <tt>remote_base</tt>..
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#reset-21-instance_method">#reset!</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Reset the entire cloud.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#setup_defaults-instance_method">#setup_defaults</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
setup defaults for the cloud.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#tmp_path-instance_method">#tmp_path</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_h-instance_method">#to_h</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_hash-instance_method">#to_hash</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#write_properties_hash-instance_method">#write_properties_hash</span><span class='args'>(filename = ::File.join(tmp_path, Default.properties_hash_filename))</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table><div class="inherited">
  
  <div>
    <h2>Public Instance Methods Inherited from <a href="../PoolPartyBaseClass.html" title="PoolParty::PoolPartyBaseClass">PoolParty::PoolPartyBaseClass</a></h2>
    <p><span class='name'><a href="../PoolPartyBaseClass.html#add_resource-instance_method" title="add_resource">add_resource</a></span>, <span class='name'><a href="../PoolPartyBaseClass.html#add_service-instance_method" title="add_service">add_service</a></span>, <span class='name'><a href="../PoolPartyBaseClass.html#add_to_parent_if_parent_exists_and_is_a_service-instance_method" title="add_to_parent_if_parent_exists_and_is_a_service">add_to_parent_if_parent_exists_and_is_a_service</a></span>, <span class='name'><a href="../PoolPartyBaseClass.html#get_local_resource-instance_method" title="get_local_resource">get_local_resource</a></span>, <span class='name'><a href="../PoolPartyBaseClass.html#get_name_from_options_and_extra_options-instance_method" title="get_name_from_options_and_extra_options">get_name_from_options_and_extra_options</a></span>, <span class='name'><a href="../PoolPartyBaseClass.html#get_resource-instance_method" title="get_resource">get_resource</a></span>, <span class='name'><a href="../PoolPartyBaseClass.html#handle_option_values-instance_method" title="handle_option_values">handle_option_values</a></span>, <span class='name'><a href="../PoolPartyBaseClass.html#in_local_resources%3F-instance_method" title="in_local_resources?">in_local_resources?</a></span>, <span class='name'><a href="../PoolPartyBaseClass.html#inspect-instance_method" title="inspect">inspect</a></span>, <span class='name'><a href="../PoolPartyBaseClass.html#is_a_resource%3F-instance_method" title="is_a_resource?">is_a_resource?</a></span>, <span class='name'><a href="../PoolPartyBaseClass.html#is_plugin%3F-instance_method" title="is_plugin?">is_plugin?</a></span>, <span class='name'><a href="../PoolPartyBaseClass.html#ordered_resources-instance_method" title="ordered_resources">ordered_resources</a></span>, <span class='name'><a href="../PoolPartyBaseClass.html#plugin_store-instance_method" title="plugin_store">plugin_store</a></span>, <span class='name'><a href="../PoolPartyBaseClass.html#resource-instance_method" title="resource">resource</a></span>, <span class='name'><a href="../PoolPartyBaseClass.html#resources-instance_method" title="resources">resources</a></span>, <span class='name'><a href="../PoolPartyBaseClass.html#run_in_context-instance_method" title="run_in_context">run_in_context</a></span>, <span class='name'><a href="../PoolPartyBaseClass.html#run_with_callbacks-instance_method" title="run_with_callbacks">run_with_callbacks</a></span>, <span class='name'><a href="../PoolPartyBaseClass.html#search_in_known_locations-instance_method" title="search_in_known_locations">search_in_known_locations</a></span>, <span class='name'><a href="../PoolPartyBaseClass.html#store_in_local_resources-instance_method" title="store_in_local_resources">store_in_local_resources</a></span>, <span class='name'><a href="../PoolPartyBaseClass.html#to_json-instance_method" title="to_json">to_json</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Inherited from <a href="../../Object.html" title="Object">Object</a></h2>
    <p><span class='name'><a href="../../Object.html#alias_method-instance_method" title="alias_method">alias_method</a></span>, <span class='name'><a href="../../Object.html#block_instance_eval-instance_method" title="block_instance_eval">block_instance_eval</a></span>, <span class='name'><a href="../../Object.html#debugging-instance_method" title="debugging">debugging</a></span>, <span class='name'><a href="../../Object.html#debugging%3F-instance_method" title="debugging?">debugging?</a></span>, <span class='name'><a href="../../Object.html#do_once-instance_method" title="do_once">do_once</a></span>, <span class='name'><a href="../../Object.html#dprint-instance_method" title="dprint">dprint</a></span>, <span class='name'><a href="../../Object.html#dputs-instance_method" title="dputs">dputs</a></span>, <span class='name'><a href="../../Object.html#extended-instance_method" title="extended">extended</a></span>, <span class='name'><a href="../../Object.html#meta_def-instance_method" title="meta_def">meta_def</a></span>, <span class='name'><a href="../../Object.html#meta_undef-instance_method" title="meta_undef">meta_undef</a></span>, <span class='name'><a href="../../Object.html#my_methods-instance_method" title="my_methods">my_methods</a></span>, <span class='name'><a href="../../Object.html#remote_bases-instance_method" title="remote_bases">remote_bases</a></span>, <span class='name'><a href="../../Object.html#respec_string-instance_method" title="respec_string">respec_string</a></span>, <span class='name'><a href="../../Object.html#returning-instance_method" title="returning">returning</a></span>, <span class='name'><a href="../../Object.html#run_procs-instance_method" title="run_procs">run_procs</a></span>, <span class='name'><a href="../../Object.html#testing-instance_method" title="testing">testing</a></span>, <span class='name'><a href="../../Object.html#this-instance_method" title="this">this</a></span>, <span class='name'><a href="../../Object.html#to_os-instance_method" title="to_os">to_os</a></span>, <span class='name'><a href="../../Object.html#unix_hide_string-instance_method" title="unix_hide_string">unix_hide_string</a></span>, <span class='name'><a href="../../Object.html#verbose%3F-instance_method" title="verbose?">verbose?</a></span>, <span class='name'><a href="../../Object.html#vprint-instance_method" title="vprint">vprint</a></span>, <span class='name'><a href="../../Object.html#vputs-instance_method" title="vputs">vputs</a></span></p>
  </div>
  
</div>
<div class="clear"></div><div class="included">
  
  <div>
    <h2>Public Instance Methods Included from <a href="Cloud/CloudResourcer.html" title="PoolParty::CloudResourcer">PoolParty::CloudResourcer</a></h2>
    <p><span class='name'><a href="../CloudResourcer.html#dependency_resolver-instance_method" title="dependency_resolver">dependency_resolver</a></span>, <span class='name'><a href="../CloudResourcer.html#instances-instance_method" title="instances">instances</a></span>, <span class='name'><a href="../CloudResourcer.html#plugin_directory-instance_method" title="plugin_directory">plugin_directory</a></span>, <span class='name'><a href="../CloudResourcer.html#run_stored_block-instance_method" title="run_stored_block">run_stored_block</a></span>, <span class='name'><a href="../CloudResourcer.html#store_block-instance_method" title="store_block">store_block</a></span>, <span class='name'><a href="../CloudResourcer.html#stored_block-instance_method" title="stored_block">stored_block</a></span>, <span class='name'><a href="../CloudResourcer.html#using-instance_method" title="using">using</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a href="../PoolParty/PluginModel.html" title="PoolParty::PluginModel">PoolParty::PluginModel</a></h2>
    <p><span class='name'><a href="../PluginModel.html#plugin-instance_method" title="plugin">plugin</a></span>, <span class='name'><a href="../PluginModel.html#plugins-instance_method" title="plugins">plugins</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a href="../PoolParty/Resources.html" title="PoolParty::Resources">PoolParty::Resources</a></h2>
    <p><span class='name'><a href="../Resources.html#custom_file-instance_method" title="custom_file">custom_file</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a href="../PoolParty/DependencyResolverCloudExtensions.html" title="PoolParty::DependencyResolverCloudExtensions">PoolParty::DependencyResolverCloudExtensions</a></h2>
    <p><span class='name'><a href="../DependencyResolverCloudExtensions.html#to_properties_hash-instance_method" title="to_properties_hash">to_properties_hash</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a href="Cloud/PrettyPrinter.html" title="PoolParty::PrettyPrinter">PoolParty::PrettyPrinter</a></h2>
    <p><span class='name'><a href="../PrettyPrinter.html#pretty_name-instance_method" title="pretty_name">pretty_name</a></span>, <span class='name'><a href="../PrettyPrinter.html#pretty_options-instance_method" title="pretty_options">pretty_options</a></span>, <span class='name'><a href="../PrettyPrinter.html#pretty_print-instance_method" title="pretty_print">pretty_print</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a href="../Remote.html" title="PoolParty::Remote">PoolParty::Remote</a></h2>
    <p><span class='name'><a href="../Remote.html#are_any_nodes_exceeding_minimum_runtime%3F-instance_method" title="are_any_nodes_exceeding_minimum_runtime?">are_any_nodes_exceeding_minimum_runtime?</a></span>, <span class='name'><a href="../Remote.html#are_too_few_instances_running%3F-instance_method" title="are_too_few_instances_running?">are_too_few_instances_running?</a></span>, <span class='name'><a href="../Remote.html#are_too_many_instances_running%3F-instance_method" title="are_too_many_instances_running?">are_too_many_instances_running?</a></span>, <span class='name'><a href="../Remote.html#commands-instance_method" title="commands">commands</a></span>, <span class='name'><a href="../Remote.html#execute%21-instance_method" title="execute!">execute!</a></span>, <span class='name'><a href="../Remote.html#list_of_instances-instance_method" title="list_of_instances">list_of_instances</a></span>, <span class='name'><a href="../Remote.html#list_of_nodes_exceeding_minimum_runtime-instance_method" title="list_of_nodes_exceeding_minimum_runtime">list_of_nodes_exceeding_minimum_runtime</a></span>, <span class='name'><a href="../Remote.html#netssh-instance_method" title="netssh">netssh</a></span>, <span class='name'><a href="../Remote.html#nodes-instance_method" title="nodes">nodes</a></span>, <span class='name'><a href="../Remote.html#remote_rsync_command-instance_method" title="remote_rsync_command">remote_rsync_command</a></span>, <span class='name'><a href="../Remote.html#remote_ssh_array-instance_method" title="remote_ssh_array">remote_ssh_array</a></span>, <span class='name'><a href="../Remote.html#remote_ssh_string-instance_method" title="remote_ssh_string">remote_ssh_string</a></span>, <span class='name'><a href="../Remote.html#rsync-instance_method" title="rsync">rsync</a></span>, <span class='name'><a href="../Remote.html#rsync_command-instance_method" title="rsync_command">rsync_command</a></span>, <span class='name'><a href="../Remote.html#rsync_storage_files_to-instance_method" title="rsync_storage_files_to">rsync_storage_files_to</a></span>, <span class='name'><a href="../Remote.html#rsync_storage_files_to_command-instance_method" title="rsync_storage_files_to_command">rsync_storage_files_to_command</a></span>, <span class='name'><a href="../Remote.html#rsync_to-instance_method" title="rsync_to">rsync_to</a></span>, <span class='name'><a href="../Remote.html#rsync_to_command-instance_method" title="rsync_to_command">rsync_to_command</a></span>, <span class='name'><a href="../Remote.html#run_command_on-instance_method" title="run_command_on">run_command_on</a></span>, <span class='name'><a href="../Remote.html#run_command_on_command-instance_method" title="run_command_on_command">run_command_on_command</a></span>, <span class='name'><a href="../Remote.html#run_command_on_instance_number-instance_method" title="run_command_on_instance_number">run_command_on_instance_number</a></span>, <span class='name'><a href="../Remote.html#run_local-instance_method" title="run_local">run_local</a></span>, <span class='name'><a href="../Remote.html#run_remote-instance_method" title="run_remote">run_remote</a></span>, <span class='name'><a href="../Remote.html#scp_array-instance_method" title="scp_array">scp_array</a></span>, <span class='name'><a href="../Remote.html#scp_to_command-instance_method" title="scp_to_command">scp_to_command</a></span>, <span class='name'><a href="../Remote.html#simplest_run_remote-instance_method" title="simplest_run_remote">simplest_run_remote</a></span>, <span class='name'><a href="../Remote.html#ssh_array-instance_method" title="ssh_array">ssh_array</a></span>, <span class='name'><a href="../Remote.html#ssh_command-instance_method" title="ssh_command">ssh_command</a></span>, <span class='name'><a href="../Remote.html#ssh_into-instance_method" title="ssh_into">ssh_into</a></span>, <span class='name'><a href="../Remote.html#ssh_into_instance_number-instance_method" title="ssh_into_instance_number">ssh_into_instance_number</a></span>, <span class='name'><a href="../Remote.html#ssh_options-instance_method" title="ssh_options">ssh_options</a></span>, <span class='name'><a href="../Remote.html#ssh_string-instance_method" title="ssh_string">ssh_string</a></span>, <span class='name'><a href="../Remote.html#target_host-instance_method" title="target_host">target_host</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a href="../PoolParty/CloudDsl.html" title="PoolParty::CloudDsl">PoolParty::CloudDsl</a></h2>
    <p><span class='name'><a href="../CloudDsl.html#add_optional_enabled_services-instance_method" title="add_optional_enabled_services">add_optional_enabled_services</a></span>, <span class='name'><a href="../CloudDsl.html#disable-instance_method" title="disable">disable</a></span>, <span class='name'><a href="../CloudDsl.html#enable-instance_method" title="enable">enable</a></span>, <span class='name'><a href="../CloudDsl.html#enabled%3F-instance_method" title="enabled?">enabled?</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>immutable_methods</h3>
</div><div id="immutable_methods-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>immutable_methods</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
include PoolParty::Monitors
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 57</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L57">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">57
58
59</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='immutable_methods identifier id'>immutable_methods</span>
  <span class='lbrack token'>[</span><span class='symbol val'>:name</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>load_from_json</h3>
</div><div id="load_from_json-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>load_from_json</span><span class='args'>(str, o = )</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
TODO: test ruby -rrubygems -e &#8216;require &quot;poolparty&quot;;puts
Cloud.load_from_json(open(&quot;/etc/poolparty/clouds.json&quot;).read).minimum_instances&#8217;
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 290</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L290">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='load_from_json identifier id'>load_from_json</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='o identifier id'>o</span><span class='assign token'>=</span><span class='semicolon token'>;</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='colon3 op'>::</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='file? fid id'>file?</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>
    <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='read identifier id'>read</span>
  <span class='end end kw'>end</span>
  <span class='parsed identifier id'>parsed</span> <span class='assign token'>=</span> <span class='JSON constant id'>JSON</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='symbolize_keys! fid id'>symbolize_keys!</span>
  <span class='opts identifier id'>opts</span> <span class='assign token'>=</span> <span class='parsed identifier id'>parsed</span><span class='dot token'>.</span><span class='options identifier id'>options</span>
  <span class='opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='string val'>&quot;keypair&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='string val'>&quot;keypair_path&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='string val'>&quot;keypair_name&quot;</span><span class='rbrack token'>]</span>

  <span class='cld identifier id'>cld</span> <span class='assign token'>=</span> <span class='Cloud constant id'>Cloud</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='cloud_name identifier id'>cloud_name</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span>
  <span class='cld identifier id'>cld</span><span class='dot token'>.</span><span class='dsl_options identifier id'>dsl_options</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span> <span class='opts identifier id'>opts</span>
  <span class='cld identifier id'>cld</span><span class='dot token'>.</span><span class='using identifier id'>using</span> <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='remoter_base identifier id'>remoter_base</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='comma token'>,</span> <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='remote_base identifier id'>remote_base</span>
  <span class='cld identifier id'>cld</span><span class='dot token'>.</span><span class='dependency_resolver identifier id'>dependency_resolver</span> <span class='opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:dependency_resolver</span><span class='rbrack token'>]</span>
  
  <span class='comment val'>#TODO: will never run</span>
  <span class='unless unless kw'>unless</span> <span class='true true kw'>true</span> <span class='orop op'>||</span> <span class='o identifier id'>o</span><span class='lbrack token'>[</span><span class='colon op'>:</span><span class='full_stack identifier id'>full_stack</span><span class='rbrack token'>]</span>
    <span class='context_stack identifier id'>context_stack</span><span class='dot token'>.</span><span class='push identifier id'>push</span> <span class='cld identifier id'>cld</span>
    <span class='cld identifier id'>cld</span><span class='dot token'>.</span><span class='ordered_resources identifier id'>ordered_resources</span> <span class='assign token'>=</span> <span class='parsed identifier id'>parsed</span><span class='dot token'>.</span><span class='resources identifier id'>resources</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='r identifier id'>r</span><span class='bitor op'>|</span>
      <span class='case case kw'>case</span> <span class='typ identifier id'>typ</span> <span class='assign token'>=</span> <span class='r identifier id'>r</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='symbol val'>:pp_type</span><span class='rparen token'>)</span>
      <span class='when when kw'>when</span> <span class='string val'>&quot;plugin&quot;</span>
        <span class='comment val'># This may become a problem on the server where the plugins</span>
        <span class='comment val'># cannot be found. TODO: Fix?!? How? Uh... fake plugin maybe?            </span>
        <span class='cld identifier id'>cld</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='r identifier id'>r</span><span class='lbrack token'>[</span><span class='symbol val'>:name</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/_class/</span><span class='comma token'>,</span> <span class='string val'>''</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rparen token'>)</span> <span class='do do kw'>do</span>              
          <span class='set_vars_from_options identifier id'>set_vars_from_options</span><span class='lparen token'>(</span><span class='r identifier id'>r</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>            
      <span class='else else kw'>else</span>
        <span class='cld identifier id'>cld</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='dstring node'>&quot;has_#{typ}&quot;</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='comma token'>,</span> <span class='r identifier id'>r</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
      <span class='context_stack identifier id'>context_stack</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='cld identifier id'>cld</span><span class='dot token'>.</span><span class='ordered_resources identifier id'>ordered_resources</span> <span class='assign token'>=</span> <span class='parsed identifier id'>parsed</span><span class='dot token'>.</span><span class='resources identifier id'>resources</span>
  <span class='end end kw'>end</span>
  <span class='cld identifier id'>cld</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>method_added</h3>
</div><div id="method_added-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>method_added</span><span class='args'>(sym)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Redefining methods are not allowed
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 62</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L62">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">62
63
64</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='method_added identifier id'>method_added</span> <span class='sym identifier id'>sym</span>        
  <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Exception: #{sym.to_s.capitalize} method has been redefined&quot;</span> <span class='if if_mod kw'>if</span> <span class='immutable_methods identifier id'>immutable_methods</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='sym identifier id'>sym</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='notop op'>!</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='sym identifier id'>sym</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>_keypair_filepaths</h3>
</div><div id="_keypair_filepaths-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>_keypair_filepaths</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Collect the filepaths of the already loaded keypairs
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 194</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L194">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">194
195
196</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='_keypair_filepaths identifier id'>_keypair_filepaths</span>
  <span class='_keypairs identifier id'>_keypairs</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='filepath identifier id'>filepath</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>_keypairs</h3>
</div><div id="_keypairs-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>_keypairs</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 189</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L189">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">189
190
191</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='_keypairs identifier id'>_keypairs</span>
  <span class='@keypairs ivar id'>@keypairs</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='Key constant id'>Key</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>after</h3>
</div><div id="after-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>after</span><span class='args'>(time, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
CALLBACKS To hook into the chain of processes that PoolParty uses when
launching, bootstrapping, configuring tasks, call these methods in your
clouds.rb. Example:
</p>
<pre class="code">
  <span class='after identifier id'>after</span> <span class='symbol val'>:bootstrap</span> <span class='do do kw'>do</span>
    <span class='stuff identifier id'>stuff</span>
  <span class='end end kw'>end</span>
</pre>
<p>
These store the blocks into the after/before_blocks on self and are called
as appropriate at the runtime
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 142</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L142">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">142
143
144</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='after identifier id'>after</span> <span class='time identifier id'>time</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> 
  <span class='lparen token'>(</span><span class='after_blocks identifier id'>after_blocks</span><span class='lbrack token'>[</span><span class='time identifier id'>time</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='lshft op'>&lt;&lt;</span> <span class='block identifier id'>block</span>
<span class='end end kw'>end</span>      
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>after_bootstrap</h3>
</div><div id="after_bootstrap-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>after_bootstrap</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 354</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L354">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">354
355
356</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='after_bootstrap identifier id'>after_bootstrap</span>
  <span class='after_blocks identifier id'>after_blocks</span><span class='lbrack token'>[</span><span class='symbol val'>:bootstrap</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='b identifier id'>b</span><span class='bitor op'>|</span> <span class='b identifier id'>b</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span> <span class='if if_mod kw'>if</span> <span class='after_blocks identifier id'>after_blocks</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='symbol val'>:bootstrap</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>after_configure</h3>
</div><div id="after_configure-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>after_configure</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 360</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L360">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">360
361
362</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='after_configure identifier id'>after_configure</span>
  <span class='after_blocks identifier id'>after_blocks</span><span class='lbrack token'>[</span><span class='symbol val'>:configure</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='b identifier id'>b</span><span class='bitor op'>|</span> <span class='b identifier id'>b</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span> <span class='if if_mod kw'>if</span> <span class='after_blocks identifier id'>after_blocks</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='symbol val'>:configure</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>after_create</h3>
</div><div id="after_create-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>after_create</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Callback called after the cloud has been created, everything has run and is
set at this point here the base requirements are added as well as an empty
chef recipe is called Also, the after_create hook on the plugins used by
the cloud are called here
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 117</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L117">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">117
118
119
120
121
122
123
124
125
126
127
128</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='after_create identifier id'>after_create</span>
  <span class='colon3 op'>::</span><span class='FileUtils constant id'>FileUtils</span><span class='dot token'>.</span><span class='mkdir_p identifier id'>mkdir_p</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{tmp_path}/dr_configure&quot;</span><span class='rparen token'>)</span>
  
  <span class='run_in_context identifier id'>run_in_context</span> <span class='do do kw'>do</span>
    <span class='add_optional_enabled_services identifier id'>add_optional_enabled_services</span>
    <span class='chef identifier id'>chef</span> <span class='do do kw'>do</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  
  <span class='plugin_store identifier id'>plugin_store</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='call_after_create_callbacks identifier id'>call_after_create_callbacks</span> <span class='rbrace token'>}</span>
  <span class='setup_defaults identifier id'>setup_defaults</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>after_launch_instance</h3>
</div><div id="after_launch_instance-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>after_launch_instance</span><span class='args'>(inst = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 160</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L160">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">160
161
162</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='after_launch_instance identifier id'>after_launch_instance</span><span class='lparen token'>(</span><span class='inst identifier id'>inst</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='remote_base identifier id'>remote_base</span><span class='dot token'>.</span><span class='send identifier id'>send</span> <span class='symbol val'>:after_launch_instance</span><span class='comma token'>,</span> <span class='inst identifier id'>inst</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>before</h3>
</div><div id="before-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>before</span><span class='args'>(time, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 145</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L145">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">145
146
147</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='before identifier id'>before</span> <span class='time identifier id'>time</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span>
  <span class='lparen token'>(</span><span class='before_blocks identifier id'>before_blocks</span><span class='lbrack token'>[</span><span class='time identifier id'>time</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='lshft op'>&lt;&lt;</span> <span class='block identifier id'>block</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>before_bootstrap</h3>
</div><div id="before_bootstrap-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>before_bootstrap</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Call before and after configure callbacks on the cloud. These are called
from the dynamically defined callback method
</p>
<pre class="code">
  <span class='call_before identifier id'>call_before</span><span class='div op'>/</span><span class='after_configure identifier id'>after_configure</span><span class='div op'>/</span><span class='bootstrap_callbacks identifier id'>bootstrap_callbacks</span>
</pre>
<p>
from within callbacks.rb If there is a callback block defined for the
specific runtime method being called, then the appropriate callback blocks
will be accessed and called from within the before/after_ callback
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 351</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L351">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">351
352
353</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='before_bootstrap identifier id'>before_bootstrap</span>
  <span class='before_blocks identifier id'>before_blocks</span><span class='lbrack token'>[</span><span class='symbol val'>:bootstrap</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='b identifier id'>b</span><span class='bitor op'>|</span> <span class='b identifier id'>b</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span> <span class='if if_mod kw'>if</span> <span class='before_blocks identifier id'>before_blocks</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='symbol val'>:bootstrap</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>before_configure</h3>
</div><div id="before_configure-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>before_configure</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 357</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L357">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">357
358
359</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='before_configure identifier id'>before_configure</span>
  <span class='before_blocks identifier id'>before_blocks</span><span class='lbrack token'>[</span><span class='symbol val'>:configure</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='b identifier id'>b</span><span class='bitor op'>|</span> <span class='b identifier id'>b</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span> <span class='if if_mod kw'>if</span> <span class='before_blocks identifier id'>before_blocks</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='symbol val'>:configure</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>before_create</h3>
</div><div id="before_create-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>before_create</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 109</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L109">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">109
110
111</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='before_create identifier id'>before_create</span>
  <span class='add_poolparty_base_requirements identifier id'>add_poolparty_base_requirements</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>build_and_store_new_config_file</h3>
</div><div id="build_and_store_new_config_file-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>build_and_store_new_config_file</span><span class='args'>(filepath = nil, force = false)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Build the new poolparty manifest Wrapping all of these requirements into
the one poolparty class.
</p>
<p>
TODO: Consider the benefits of moving all the manifest classes to separate
files and keeping the containing references in the include
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 219</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L219">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">219
220
221
222
223
224
225
226
227</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='build_and_store_new_config_file identifier id'>build_and_store_new_config_file</span><span class='lparen token'>(</span><span class='filepath identifier id'>filepath</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='force identifier id'>force</span><span class='assign token'>=</span><span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='filepath identifier id'>filepath</span> <span class='opasgn op'>||=</span> <span class='colon3 op'>::</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='Default constant id'>Default</span><span class='dot token'>.</span><span class='storage_directory identifier id'>storage_directory</span><span class='comma token'>,</span> <span class='string val'>&quot;poolparty.pp&quot;</span><span class='rparen token'>)</span>
  <span class='comment val'># write_properties_hash if debugging</span>
  <span class='vputs identifier id'>vputs</span> <span class='dstring node'>&quot;Building new manifest configuration file (forced: #{force})&quot;</span>
  <span class='manifest identifier id'>manifest</span> <span class='assign token'>=</span> <span class='force identifier id'>force</span> <span class='integer val'>? </span><span class='rebuild_manifest identifier id'>rebuild_manifest</span> <span class='colon op'>:</span> <span class='build_manifest identifier id'>build_manifest</span>
  <span class='colon3 op'>::</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='filepath identifier id'>filepath</span><span class='comma token'>,</span> <span class='string val'>&quot;w&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='file identifier id'>file</span><span class='bitor op'>|</span>
    <span class='file identifier id'>file</span> <span class='lshft op'>&lt;&lt;</span> <span class='manifest identifier id'>manifest</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>build_from_existing_file</h3>
</div><div id="build_from_existing_file-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>build_from_existing_file</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
If the pp already exists, then let&#8217;s not recreate it TODO: Abstract
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 265</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L265">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">265
266
267</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='build_from_existing_file identifier id'>build_from_existing_file</span>
  <span class='colon3 op'>::</span><span class='FileTest constant id'>FileTest</span><span class='dot token'>.</span><span class='file? fid id'>file?</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{Default.base_config_directory}/poolparty.pp&quot;</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{Default.base_config_directory}/poolparty.pp&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='read identifier id'>read</span> <span class='colon op'>:</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>build_manifest</h3>
</div><div id="build_manifest-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>build_manifest</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
FIXME MOVE TO DEPENDENCY RESOLVER Configuration files
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 245</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L245">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">245
246
247
248
249
250
251
252
253
254
255</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='build_manifest identifier id'>build_manifest</span>
  <span class='vputs identifier id'>vputs</span> <span class='string val'>&quot;Building manifest&quot;</span>
  <span class='@build_manifest ivar id'>@build_manifest</span> <span class='opasgn op'>||=</span> <span class='build_from_existing_file identifier id'>build_from_existing_file</span>
  <span class='unless unless kw'>unless</span> <span class='@build_manifest ivar id'>@build_manifest</span>
    <span class='props identifier id'>props</span> <span class='assign token'>=</span> <span class='to_properties_hash identifier id'>to_properties_hash</span>
    
    <span class='@build_manifest ivar id'>@build_manifest</span> <span class='assign token'>=</span> <span class='dependency_resolver identifier id'>dependency_resolver</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='symbol val'>:compile</span><span class='comma token'>,</span> <span class='props identifier id'>props</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='dputs identifier id'>dputs</span> <span class='string val'>&quot;Finished creating manifest&quot;</span>
  <span class='@build_manifest ivar id'>@build_manifest</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>copy_custom_monitors</h3>
</div><div id="copy_custom_monitors-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>copy_custom_monitors</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
If there is a directory named monitors in the same directory as the pool
specification file is in, then create a monitors directory in the storage
directory and mirror the two. When PoolParty &quot;boots&quot; up, it scans
the monitors directory for any custom monitors that are in known locations,
these are included
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 235</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L235">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">235
236
237
238
239
240
241</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='copy_custom_monitors identifier id'>copy_custom_monitors</span>
  <span class='unless unless kw'>unless</span> <span class='Default constant id'>Default</span><span class='dot token'>.</span><span class='custom_monitor_directories identifier id'>custom_monitor_directories</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
    <span class='Default constant id'>Default</span><span class='dot token'>.</span><span class='custom_monitor_directories identifier id'>custom_monitor_directories</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='dir identifier id'>dir</span><span class='bitor op'>|</span>
      <span class='Dir constant id'>Dir</span><span class='lbrack token'>[</span><span class='dstring node'>&quot;#{dir}/*.rb&quot;</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='f identifier id'>f</span><span class='bitor op'>|</span> <span class='colon3 op'>::</span><span class='Suitcase constant id'>Suitcase</span><span class='colon2 op'>::</span><span class='Zipper constant id'>Zipper</span><span class='dot token'>.</span><span class='add identifier id'>add</span><span class='lparen token'>(</span><span class='f identifier id'>f</span><span class='comma token'>,</span> <span class='string val'>&quot;monitors&quot;</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>full_keypair_path</h3>
</div><div id="full_keypair_path-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>full_keypair_path</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
TODO: deprecate: use key.full_filepath
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 199</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L199">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">199
200
201</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='full_keypair_path identifier id'>full_keypair_path</span>
  <span class='@full_keypair_path ivar id'>@full_keypair_path</span> <span class='opasgn op'>||=</span> <span class='keypair identifier id'>keypair</span><span class='dot token'>.</span><span class='full_filepath identifier id'>full_filepath</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>ip</h3>
</div><div id="ip-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>ip</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 208</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L208">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">208
209
210</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='ip identifier id'>ip</span>
  <span class='ips identifier id'>ips</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>ips</h3>
</div><div id="ips-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>ips</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
provide list of public ips to get into the cloud
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 204</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L204">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">204
205
206</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='ips identifier id'>ips</span>
  <span class='nodes identifier id'>nodes</span><span class='lparen token'>(</span><span class='symbol val'>:status</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;running&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='ri identifier id'>ri</span><span class='bitor op'>|</span> <span class='ri identifier id'>ri</span><span class='dot token'>.</span><span class='ip identifier id'>ip</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>keypair</h3>
</div><div id="keypair-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>keypair</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="key-instance_method">key</tt>
  
    <tt id="set_keypairs-instance_method">set_keypairs</tt>
  
</p>
</div><div class="section docstring">
  <p>
Keypairs Use the keypair path
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 166</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L166">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='keypair identifier id'>keypair</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='args identifier id'>args</span> <span class='andop op'>&amp;&amp;</span> <span class='notop op'>!</span><span class='args identifier id'>args</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
    <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='arg identifier id'>arg</span><span class='bitor op'>|</span>
      <span class='unless unless kw'>unless</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span> <span class='orop op'>||</span> <span class='_keypair_filepaths identifier id'>_keypair_filepaths</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='rparen token'>)</span>
        <span class='k identifier id'>k</span> <span class='assign token'>=</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Key constant id'>Key</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='arg identifier id'>arg</span> <span class='colon op'>:</span> <span class='Key constant id'>Key</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='rparen token'>)</span>
        <span class='_keypairs identifier id'>_keypairs</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span> <span class='k identifier id'>k</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='keypair identifier id'>keypair</span>
  <span class='else else kw'>else</span>
    <span class='unless unless kw'>unless</span> <span class='@keypair ivar id'>@keypair</span>
      <span class='@keypair ivar id'>@keypair</span> <span class='assign token'>=</span> <span class='_keypairs identifier id'>_keypairs</span><span class='dot token'>.</span><span class='select identifier id'>select</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='bitor op'>|</span> <span class='key identifier id'>key</span><span class='dot token'>.</span><span class='exists? fid id'>exists?</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='keypair_path identifier id'>keypair_path</span> <span class='assign token'>=</span> <span class='@keypair ivar id'>@keypair</span><span class='dot token'>.</span><span class='full_filepath identifier id'>full_filepath</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='keypair_name identifier id'>keypair_name</span> <span class='assign token'>=</span> <span class='@keypair ivar id'>@keypair</span><span class='dot token'>.</span><span class='basename identifier id'>basename</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='keypair identifier id'>keypair</span> <span class='assign token'>=</span> <span class='@keypair ivar id'>@keypair</span>
    <span class='end end kw'>end</span>
    <span class='@keypair ivar id'>@keypair</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>rebuild_manifest</h3>
</div><div id="rebuild_manifest-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>rebuild_manifest</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Force rebuilding of the manifest
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 258</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L258">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">258
259
260
261</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='rebuild_manifest identifier id'>rebuild_manifest</span>
  <span class='@build_manifest ivar id'>@build_manifest</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='build_manifest identifier id'>build_manifest</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>remote_base</h3>
</div><div id="remote_base-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>remote_base</span><span class='args'>(n = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the value of attribute <tt>remote_base</tt>
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 24</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L24">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">24
25
26
27
28
29
30</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='remote_base identifier id'>remote_base</span><span class='lparen token'>(</span><span class='n identifier id'>n</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='n identifier id'>n</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
    <span class='@remote_base ivar id'>@remote_base</span>
  <span class='else else kw'>else</span>
    <span class='@remote_base ivar id'>@remote_base</span> <span class='assign token'>=</span> <span class='n identifier id'>n</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>reset!</h3>
</div><div id="reset-21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>reset!</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Reset the entire cloud
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 338</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L338">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">338
339
340
341</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='reset! fid id'>reset!</span>
  <span class='reset_remoter_base! fid id'>reset_remoter_base!</span>
  <span class='@build_manifest ivar id'>@build_manifest</span> <span class='assign token'>=</span> <span class='@describe_instances ivar id'>@describe_instances</span> <span class='assign token'>=</span> <span class='@remote_instances_list ivar id'>@remote_instances_list</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>setup_defaults</h3>
</div><div id="setup_defaults-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>setup_defaults</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
setup defaults for the cloud
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 150</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L150">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">150
151
152
153
154
155
156
157
158</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='setup_defaults identifier id'>setup_defaults</span>
  <span class='set_vars_from_options identifier id'>set_vars_from_options</span><span class='lparen token'>(</span><span class='symbol val'>:keypair_name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='key identifier id'>key</span><span class='dot token'>.</span><span class='basename identifier id'>basename</span><span class='comma token'>,</span> <span class='symbol val'>:keypair_path</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='key identifier id'>key</span><span class='dot token'>.</span><span class='full_filepath identifier id'>full_filepath</span><span class='rparen token'>)</span> <span class='rescue rescue kw'>rescue</span> <span class='nil nil kw'>nil</span>
  
  <span class='dsl_options identifier id'>dsl_options</span><span class='lbrack token'>[</span><span class='symbol val'>:rules</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:expand</span>   <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='dstring node'>&quot;#{dsl_options[:expand_when]}&quot;</span><span class='comma token'>,</span> 
                         <span class='symbol val'>:contract</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='dsl_options identifier id'>dsl_options</span><span class='lbrack token'>[</span><span class='symbol val'>:contract_when</span><span class='rbrack token'>]</span><span class='rbrace token'>}</span>        
  
  <span class='dependency_resolver identifier id'>dependency_resolver</span> <span class='string val'>'chef'</span>
  <span class='using identifier id'>using</span> <span class='Default constant id'>Default</span><span class='dot token'>.</span><span class='remoter_base identifier id'>remoter_base</span> <span class='unless unless_mod kw'>unless</span> <span class='@remote_base ivar id'>@remote_base</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>tmp_path</h3>
</div><div id="tmp_path-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>tmp_path</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 333</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L333">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">333
334
335</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='tmp_path identifier id'>tmp_path</span>
  <span class='Default constant id'>Default</span><span class='dot token'>.</span><span class='tmp_path identifier id'>tmp_path</span> <span class='div op'>/</span> <span class='pool identifier id'>pool</span><span class='dot token'>.</span><span class='name identifier id'>name</span> <span class='div op'>/</span> <span class='name identifier id'>name</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_h</h3>
</div><div id="to_h-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_h</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 284</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L284">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">284
285
286</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_h identifier id'>to_h</span>
  <span class='to_hash identifier id'>to_hash</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_hash</h3>
</div><div id="to_hash-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_hash</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 277</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L277">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">277
278
279
280
281
282</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_hash identifier id'>to_hash</span>
  <span class='hsh identifier id'>hsh</span> <span class='assign token'>=</span> <span class='to_properties_hash identifier id'>to_properties_hash</span>
  <span class='hsh identifier id'>hsh</span><span class='lbrack token'>[</span><span class='symbol val'>:options</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:remote_base</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='remote_base identifier id'>remote_base</span><span class='dot token'>.</span><span class='to_hash identifier id'>to_hash</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>  
  <span class='comment val'># hsh.reject{|k,v| k == :remote_base || k == :cloud}</span>
  <span class='hsh identifier id'>hsh</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>write_properties_hash</h3>
</div><div id="write_properties_hash-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>write_properties_hash</span><span class='args'>(filename = ::File.join(tmp_path, Default.properties_hash_filename))</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 269</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/0338ff71d177787d166882028866a9e422b68f3c/lib/poolparty/poolparty/cloud.rb#L269">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">269
270
271
272
273
274
275</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='write_properties_hash identifier id'>write_properties_hash</span><span class='lparen token'>(</span><span class='filename identifier id'>filename</span><span class='assign token'>=</span><span class='colon3 op'>::</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='tmp_path identifier id'>tmp_path</span><span class='comma token'>,</span> <span class='Default constant id'>Default</span><span class='dot token'>.</span><span class='properties_hash_filename identifier id'>properties_hash_filename</span><span class='rparen token'>)</span> <span class='rparen token'>)</span>
  <span class='file_path identifier id'>file_path</span> <span class='assign token'>=</span> <span class='colon3 op'>::</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='dirname identifier id'>dirname</span><span class='lparen token'>(</span><span class='filename identifier id'>filename</span><span class='rparen token'>)</span>
  <span class='file_name identifier id'>file_name</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{::File.basename(filename, ::File.extname(filename))}_#{name}#{::File.extname(filename)}&quot;</span>
  <span class='output identifier id'>output</span> <span class='assign token'>=</span> <span class='to_properties_hash identifier id'>to_properties_hash</span><span class='dot token'>.</span><span class='to_json identifier id'>to_json</span>
  <span class='colon3 op'>::</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{file_path}/#{file_name}&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;w&quot;</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='f identifier id'>f</span><span class='bitor op'>|</span> <span class='f identifier id'>f</span><span class='dot token'>.</span><span class='write identifier id'>write</span> <span class='output identifier id'>output</span> <span class='rbrace token'>}</span>
  <span class='true true kw'>true</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>