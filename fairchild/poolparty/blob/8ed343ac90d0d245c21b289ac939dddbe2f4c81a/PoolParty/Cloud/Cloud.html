<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>fairchild's poolparty - Class: PoolParty::Cloud::Cloud - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/fairchild/commits/poolparty/master" rel="alternate" title="Recent Commits to poolparty:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("fairchild", "poolparty", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("fairchild", "poolparty", "8ed343ac90d0d245c21b289ac939dddbe2f4c81a", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/fairchild/poolparty/tree/">Source</a></li>
            <li class=""><a href="http://github.com/fairchild/poolparty/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/fairchild/poolparty/network">Network</a></li>            
            <li class=""><a href="http://github.com/fairchild/poolparty/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/fairchild/poolparty">Wiki</a></li>
            <li class=""><a href="http://github.com/fairchild/poolparty/graphs">Graphs</a></li>                    
            <li class="active"><a href="/fairchild/poolparty">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/fairchild">fairchild</a> / <b><a href="http://github.com/fairchild/poolparty/tree">poolparty</a></b>        
                <a id="namespaces_button" rel="fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class PoolParty_Cloud_Cloud">
  <h1>Class: PoolParty::Cloud::Cloud</h1>
  <div class="section inheritance">
  <ul>
  <li><a title="Object" href="../../Object.html">Object</a></li><ul><li><a title="PoolParty::PoolPartyBaseClass" href="../PoolPartyBaseClass.html">PoolParty::PoolPartyBaseClass</a></li><ul><li>PoolParty::Cloud::Cloud</li>
  </ul></ul></ul>
</div><div class="section mixins">
  <h2>Included Modules</h2>
  <p><a title="PoolParty::CloudResourcer" href="Cloud/CloudResourcer.html">PoolParty::CloudResourcer</a>, <a title="PoolParty::Resources" href="../PoolParty/Resources.html">PoolParty::Resources</a>, <a title="PoolParty::Callbacks" href="../PoolParty/Callbacks.html">PoolParty::Callbacks</a>, <a title="PoolParty::DependencyResolverCloudExtensions" href="../PoolParty/DependencyResolverCloudExtensions.html">PoolParty::DependencyResolverCloudExtensions</a>, <a title="PoolParty::PrettyPrinter" href="Cloud/PrettyPrinter.html">PoolParty::PrettyPrinter</a>, <a title="PoolParty::Remote" href="../PoolParty/Remote.html">PoolParty::Remote</a>, <a title="PoolParty::CloudDsl" href="../PoolParty/CloudDsl.html">PoolParty::CloudDsl</a>, <a title="PoolParty::Verification" href="../PoolParty/Verification.html">PoolParty::Verification</a></p>
</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">cloud_name</td>
          <td class="readwrite">
            [<span id='cloud_name-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>cloud_name</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">remote_base</td>
          <td class="readwrite">
            [RW] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>remote_base</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">started_instance</td>
          <td class="readwrite">
            [<span id='started_instance-instance_method'>R</span><span id='started_instance%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>started_instance</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">templates</td>
          <td class="readwrite">
            [<span id='templates-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>templates</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(name, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Freeze the cloud_name so we can&#8217;t modify it at all, set the
plugin_directory call and run instance_eval on the block and then call the
after_create callback
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 91</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L91">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">91
92
93
94
95
96
97
98
99
100
101</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='@cloud_name ivar id'>@cloud_name</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span>
  <span class='@cloud_name ivar id'>@cloud_name</span><span class='dot token'>.</span><span class='freeze identifier id'>freeze</span>
  
  <span class='setup_callbacks identifier id'>setup_callbacks</span>
  
  <span class='plugin_directory identifier id'>plugin_directory</span> <span class='dstring node'>&quot;#{pool_specfile ? ::File.dirname(pool_specfile) : Dir.pwd}/plugins&quot;</span>
  <span class='before_create identifier id'>before_create</span>
  <span class='super super kw'>super</span>
  <span class='after_create identifier id'>after_create</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div><div class="section methodmissing">
  <h2>Dynamic Method Handling</h2>

  <p class="note">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
  </p>

  <div id="method_missing-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>method_missing</span><span class='args'>(m, *args, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Call the remoter commands on the remoter_base if they don&#8217;t exist on
the cloud itself. This gives the cloud access to the remote_base&#8217;s
methods.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 69</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L69">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">69
70
71
72
73
74
75
76
77
78
79
80
81
82
83</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='method_missing identifier id'>method_missing</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='remote_base identifier id'>remote_base</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='rparen token'>)</span>
    <span class='remoter_opts identifier id'>remoter_opts</span> <span class='assign token'>=</span> <span class='dsl_options identifier id'>dsl_options</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='remote_base identifier id'>remote_base</span><span class='dot token'>.</span><span class='dsl_options identifier id'>dsl_options</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='choose identifier id'>choose</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span>
       <span class='remote_base identifier id'>remote_base</span><span class='dot token'>.</span><span class='dsl_options identifier id'>dsl_options</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='if if kw'>if</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='eq op'>==</span><span class='integer val'>1</span> <span class='andop op'>&amp;&amp;</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='colon op'>:</span><span class='merge identifier id'>merge</span><span class='rparen token'>)</span>
      <span class='new_args identifier id'>new_args</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='remoter_opts identifier id'>remoter_opts</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='rparen token'>)</span><span class='rbrack token'>]</span>
    <span class='else else kw'>else</span>
      <span class='new_args identifier id'>new_args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='remoter_opts identifier id'>remoter_opts</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='remote_base identifier id'>remote_base</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='lparen token'>(</span><span class='new_args identifier id'>new_args</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='super super kw'>super</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#immutable_methods-class_method">immutable_methods</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
include PoolParty::Monitors.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#load_from_json-class_method">load_from_json</span><span class='args'>(str, o = )</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
TODO: test ruby -rrubygems -e &#8216;require &quot;poolparty&quot;;puts
Cloud.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#method_added-class_method">method_added</span><span class='args'>(sym)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Redefining methods are not allowed.
</p>

        
      </td>
    </tr>
  
</table><div class="inherited">
  
  <div>
    <h2>Public Class Methods Inherited from <a title="PoolParty::PoolPartyBaseClass" href="../PoolPartyBaseClass.html">PoolParty::PoolPartyBaseClass</a></h2>
    <p><span class='name'><a title="add_has_and_does_not_have_methods_for" href="../PoolPartyBaseClass.html#add_has_and_does_not_have_methods_for-class_method">add_has_and_does_not_have_methods_for</a></span>, <span class='name'><a title="add_resource_lookup_method" href="../PoolPartyBaseClass.html#add_resource_lookup_method-class_method">add_resource_lookup_method</a></span></p>
  </div>
  
</div>
<div class="clear"></div><div class="included">
  
  <div>
    <h2>Public Class Methods Included from <a title="PoolParty::Verification" href="../PoolParty/Verification.html">PoolParty::Verification</a></h2>
    <p><span class='name'><a title="included" href="../Verification.html#included-class_method">included</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#_keypair_filepaths-instance_method">#_keypair_filepaths</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Collect the filepaths of the already loaded keypairs.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#_keypairs-instance_method">#_keypairs</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#after-instance_method">#after</span><span class='args'>(time, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
CALLBACKS To hook into the chain of processes that PoolParty uses when
launching, bootstrapping, configuring tasks, call these methods in your
clouds.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#after_bootstrap-instance_method">#after_bootstrap</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#after_configure-instance_method">#after_configure</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#after_create-instance_method">#after_create</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Callback called after the cloud has been created, everything has run and is
set at this point here the base requirements are added as well as an empty
chef recipe is called Also, the after_create hook on the plugins used by
the cloud are called here.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#after_launch_instance-instance_method">#after_launch_instance</span><span class='args'>(inst = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#before-instance_method">#before</span><span class='args'>(time, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#before_bootstrap-instance_method">#before_bootstrap</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Call before and after configure callbacks on the cloud.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#before_configure-instance_method">#before_configure</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#before_create-instance_method">#before_create</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#build_and_store_new_config_file-instance_method">#build_and_store_new_config_file</span><span class='args'>(filepath = nil, force = false)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Build the new poolparty manifest Wrapping all of these requirements into
the one poolparty class.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#build_from_existing_file-instance_method">#build_from_existing_file</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
If the pp already exists, then let&#8217;s not recreate it TODO: Abstract.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#build_manifest-instance_method">#build_manifest</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
FIXME MOVE TO DEPENDENCY RESOLVER Configuration files.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#copy_custom_monitors-instance_method">#copy_custom_monitors</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
If there is a directory named monitors in the same directory as the pool
specification file is in, then create a monitors directory in the storage
directory and mirror the two.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#full_keypair_path-instance_method">#full_keypair_path</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
TODO: deprecate: use key.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#ip-instance_method">#ip</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#ips-instance_method">#ips</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
provide list of public ips to get into the cloud.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#keypair-instance_method">#keypair</span><span class='args'>(*args)</span>
        <span class='block'></span>
        
          <span class='alias'>#set_keypairs</span>
        
          <span class='alias'>#key</span>
        
      </th>
      <td class="docstring">
        <p>
Keypairs Use the keypair path.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#rebuild_manifest-instance_method">#rebuild_manifest</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Force rebuilding of the manifest.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#remote_base-instance_method">#remote_base</span><span class='args'>(n = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the value of attribute <tt>remote_base</tt>..
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#reset-21-instance_method">#reset!</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Reset the entire cloud.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#setup_defaults-instance_method">#setup_defaults</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
setup defaults for the cloud.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#tmp_path-instance_method">#tmp_path</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_h-instance_method">#to_h</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_hash-instance_method">#to_hash</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#write_properties_hash-instance_method">#write_properties_hash</span><span class='args'>(filename = ::File.join(tmp_path, Default.properties_hash_filename))</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table><div class="inherited">
  
  <div>
    <h2>Public Instance Methods Inherited from <a title="PoolParty::PoolPartyBaseClass" href="../PoolPartyBaseClass.html">PoolParty::PoolPartyBaseClass</a></h2>
    <p><span class='name'><a title="add_resource" href="../PoolPartyBaseClass.html#add_resource-instance_method">add_resource</a></span>, <span class='name'><a title="add_service" href="../PoolPartyBaseClass.html#add_service-instance_method">add_service</a></span>, <span class='name'><a title="add_to_parent_if_parent_exists_and_is_a_service" href="../PoolPartyBaseClass.html#add_to_parent_if_parent_exists_and_is_a_service-instance_method">add_to_parent_if_parent_exists_and_is_a_service</a></span>, <span class='name'><a title="get_local_resource" href="../PoolPartyBaseClass.html#get_local_resource-instance_method">get_local_resource</a></span>, <span class='name'><a title="get_name_from_options_and_extra_options" href="../PoolPartyBaseClass.html#get_name_from_options_and_extra_options-instance_method">get_name_from_options_and_extra_options</a></span>, <span class='name'><a title="get_resource" href="../PoolPartyBaseClass.html#get_resource-instance_method">get_resource</a></span>, <span class='name'><a title="handle_option_values" href="../PoolPartyBaseClass.html#handle_option_values-instance_method">handle_option_values</a></span>, <span class='name'><a title="in_local_resources?" href="../PoolPartyBaseClass.html#in_local_resources%3F-instance_method">in_local_resources?</a></span>, <span class='name'><a title="inspect" href="../PoolPartyBaseClass.html#inspect-instance_method">inspect</a></span>, <span class='name'><a title="is_a_resource?" href="../PoolPartyBaseClass.html#is_a_resource%3F-instance_method">is_a_resource?</a></span>, <span class='name'><a title="is_plugin?" href="../PoolPartyBaseClass.html#is_plugin%3F-instance_method">is_plugin?</a></span>, <span class='name'><a title="ordered_resources" href="../PoolPartyBaseClass.html#ordered_resources-instance_method">ordered_resources</a></span>, <span class='name'><a title="plugin_store" href="../PoolPartyBaseClass.html#plugin_store-instance_method">plugin_store</a></span>, <span class='name'><a title="resource" href="../PoolPartyBaseClass.html#resource-instance_method">resource</a></span>, <span class='name'><a title="resources" href="../PoolPartyBaseClass.html#resources-instance_method">resources</a></span>, <span class='name'><a title="run_in_context" href="../PoolPartyBaseClass.html#run_in_context-instance_method">run_in_context</a></span>, <span class='name'><a title="run_with_callbacks" href="../PoolPartyBaseClass.html#run_with_callbacks-instance_method">run_with_callbacks</a></span>, <span class='name'><a title="search_in_known_locations" href="../PoolPartyBaseClass.html#search_in_known_locations-instance_method">search_in_known_locations</a></span>, <span class='name'><a title="store_in_local_resources" href="../PoolPartyBaseClass.html#store_in_local_resources-instance_method">store_in_local_resources</a></span>, <span class='name'><a title="to_json" href="../PoolPartyBaseClass.html#to_json-instance_method">to_json</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Inherited from <a title="Object" href="../../Object.html">Object</a></h2>
    <p><span class='name'><a title="alias_method" href="../../Object.html#alias_method-instance_method">alias_method</a></span>, <span class='name'><a title="block_instance_eval" href="../../Object.html#block_instance_eval-instance_method">block_instance_eval</a></span>, <span class='name'><a title="class_eval" href="../../Object.html#class_eval-instance_method">class_eval</a></span>, <span class='name'><a title="debugging" href="../../Object.html#debugging-instance_method">debugging</a></span>, <span class='name'><a title="debugging?" href="../../Object.html#debugging%3F-instance_method">debugging?</a></span>, <span class='name'><a title="do_once" href="../../Object.html#do_once-instance_method">do_once</a></span>, <span class='name'><a title="dprint" href="../../Object.html#dprint-instance_method">dprint</a></span>, <span class='name'><a title="dputs" href="../../Object.html#dputs-instance_method">dputs</a></span>, <span class='name'><a title="extended" href="../../Object.html#extended-instance_method">extended</a></span>, <span class='name'><a title="meta_def" href="../../Object.html#meta_def-instance_method">meta_def</a></span>, <span class='name'><a title="meta_undef" href="../../Object.html#meta_undef-instance_method">meta_undef</a></span>, <span class='name'><a title="metaclass" href="../../Object.html#metaclass-instance_method">metaclass</a></span>, <span class='name'><a title="my_methods" href="../../Object.html#my_methods-instance_method">my_methods</a></span>, <span class='name'><a title="remote_bases" href="../../Object.html#remote_bases-instance_method">remote_bases</a></span>, <span class='name'><a title="respec_string" href="../../Object.html#respec_string-instance_method">respec_string</a></span>, <span class='name'><a title="returning" href="../../Object.html#returning-instance_method">returning</a></span>, <span class='name'><a title="run_procs" href="../../Object.html#run_procs-instance_method">run_procs</a></span>, <span class='name'><a title="testing" href="../../Object.html#testing-instance_method">testing</a></span>, <span class='name'><a title="this" href="../../Object.html#this-instance_method">this</a></span>, <span class='name'><a title="to_os" href="../../Object.html#to_os-instance_method">to_os</a></span>, <span class='name'><a title="unix_hide_string" href="../../Object.html#unix_hide_string-instance_method">unix_hide_string</a></span>, <span class='name'><a title="verbose?" href="../../Object.html#verbose%3F-instance_method">verbose?</a></span>, <span class='name'><a title="vprint" href="../../Object.html#vprint-instance_method">vprint</a></span>, <span class='name'><a title="vputs" href="../../Object.html#vputs-instance_method">vputs</a></span></p>
  </div>
  
</div>
<div class="clear"></div><div class="included">
  
  <div>
    <h2>Public Instance Methods Included from <a title="PoolParty::CloudResourcer" href="Cloud/CloudResourcer.html">PoolParty::CloudResourcer</a></h2>
    <p><span class='name'><a title="dependency_resolver" href="../CloudResourcer.html#dependency_resolver-instance_method">dependency_resolver</a></span>, <span class='name'><a title="instances" href="../CloudResourcer.html#instances-instance_method">instances</a></span>, <span class='name'><a title="plugin_directory" href="../CloudResourcer.html#plugin_directory-instance_method">plugin_directory</a></span>, <span class='name'><a title="run_stored_block" href="../CloudResourcer.html#run_stored_block-instance_method">run_stored_block</a></span>, <span class='name'><a title="store_block" href="../CloudResourcer.html#store_block-instance_method">store_block</a></span>, <span class='name'><a title="stored_block" href="../CloudResourcer.html#stored_block-instance_method">stored_block</a></span>, <span class='name'><a title="using" href="../CloudResourcer.html#using-instance_method">using</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a title="PoolParty::Resources" href="../PoolParty/Resources.html">PoolParty::Resources</a></h2>
    <p><span class='name'><a title="custom_file" href="../Resources.html#custom_file-instance_method">custom_file</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a title="PoolParty::DependencyResolverCloudExtensions" href="../PoolParty/DependencyResolverCloudExtensions.html">PoolParty::DependencyResolverCloudExtensions</a></h2>
    <p><span class='name'><a title="to_properties_hash" href="../DependencyResolverCloudExtensions.html#to_properties_hash-instance_method">to_properties_hash</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a title="PoolParty::PrettyPrinter" href="Cloud/PrettyPrinter.html">PoolParty::PrettyPrinter</a></h2>
    <p><span class='name'><a title="pretty_name" href="../PrettyPrinter.html#pretty_name-instance_method">pretty_name</a></span>, <span class='name'><a title="pretty_options" href="../PrettyPrinter.html#pretty_options-instance_method">pretty_options</a></span>, <span class='name'><a title="pretty_print" href="../PrettyPrinter.html#pretty_print-instance_method">pretty_print</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a title="PoolParty::Remote" href="../PoolParty/Remote.html">PoolParty::Remote</a></h2>
    <p><span class='name'><a title="are_any_nodes_exceeding_minimum_runtime?" href="../Remote.html#are_any_nodes_exceeding_minimum_runtime%3F-instance_method">are_any_nodes_exceeding_minimum_runtime?</a></span>, <span class='name'><a title="are_too_few_instances_running?" href="../Remote.html#are_too_few_instances_running%3F-instance_method">are_too_few_instances_running?</a></span>, <span class='name'><a title="are_too_many_instances_running?" href="../Remote.html#are_too_many_instances_running%3F-instance_method">are_too_many_instances_running?</a></span>, <span class='name'><a title="commands" href="../Remote.html#commands-instance_method">commands</a></span>, <span class='name'><a title="execute!" href="../Remote.html#execute%21-instance_method">execute!</a></span>, <span class='name'><a title="list_of_instances" href="../Remote.html#list_of_instances-instance_method">list_of_instances</a></span>, <span class='name'><a title="list_of_nodes_exceeding_minimum_runtime" href="../Remote.html#list_of_nodes_exceeding_minimum_runtime-instance_method">list_of_nodes_exceeding_minimum_runtime</a></span>, <span class='name'><a title="netssh" href="../Remote.html#netssh-instance_method">netssh</a></span>, <span class='name'><a title="nodes" href="../Remote.html#nodes-instance_method">nodes</a></span>, <span class='name'><a title="remote_rsync_command" href="../Remote.html#remote_rsync_command-instance_method">remote_rsync_command</a></span>, <span class='name'><a title="remote_ssh_array" href="../Remote.html#remote_ssh_array-instance_method">remote_ssh_array</a></span>, <span class='name'><a title="remote_ssh_string" href="../Remote.html#remote_ssh_string-instance_method">remote_ssh_string</a></span>, <span class='name'><a title="rsync" href="../Remote.html#rsync-instance_method">rsync</a></span>, <span class='name'><a title="rsync_command" href="../Remote.html#rsync_command-instance_method">rsync_command</a></span>, <span class='name'><a title="rsync_storage_files_to" href="../Remote.html#rsync_storage_files_to-instance_method">rsync_storage_files_to</a></span>, <span class='name'><a title="rsync_storage_files_to_command" href="../Remote.html#rsync_storage_files_to_command-instance_method">rsync_storage_files_to_command</a></span>, <span class='name'><a title="rsync_to" href="../Remote.html#rsync_to-instance_method">rsync_to</a></span>, <span class='name'><a title="rsync_to_command" href="../Remote.html#rsync_to_command-instance_method">rsync_to_command</a></span>, <span class='name'><a title="run_command_on" href="../Remote.html#run_command_on-instance_method">run_command_on</a></span>, <span class='name'><a title="run_command_on_command" href="../Remote.html#run_command_on_command-instance_method">run_command_on_command</a></span>, <span class='name'><a title="run_command_on_instance_number" href="../Remote.html#run_command_on_instance_number-instance_method">run_command_on_instance_number</a></span>, <span class='name'><a title="run_local" href="../Remote.html#run_local-instance_method">run_local</a></span>, <span class='name'><a title="run_remote" href="../Remote.html#run_remote-instance_method">run_remote</a></span>, <span class='name'><a title="scp_array" href="../Remote.html#scp_array-instance_method">scp_array</a></span>, <span class='name'><a title="scp_to_command" href="../Remote.html#scp_to_command-instance_method">scp_to_command</a></span>, <span class='name'><a title="simplest_run_remote" href="../Remote.html#simplest_run_remote-instance_method">simplest_run_remote</a></span>, <span class='name'><a title="ssh_array" href="../Remote.html#ssh_array-instance_method">ssh_array</a></span>, <span class='name'><a title="ssh_command" href="../Remote.html#ssh_command-instance_method">ssh_command</a></span>, <span class='name'><a title="ssh_into" href="../Remote.html#ssh_into-instance_method">ssh_into</a></span>, <span class='name'><a title="ssh_into_instance_number" href="../Remote.html#ssh_into_instance_number-instance_method">ssh_into_instance_number</a></span>, <span class='name'><a title="ssh_options" href="../Remote.html#ssh_options-instance_method">ssh_options</a></span>, <span class='name'><a title="ssh_string" href="../Remote.html#ssh_string-instance_method">ssh_string</a></span>, <span class='name'><a title="target_host" href="../Remote.html#target_host-instance_method">target_host</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a title="PoolParty::CloudDsl" href="../PoolParty/CloudDsl.html">PoolParty::CloudDsl</a></h2>
    <p><span class='name'><a title="add_optional_enabled_services" href="../CloudDsl.html#add_optional_enabled_services-instance_method">add_optional_enabled_services</a></span>, <span class='name'><a title="disable" href="../CloudDsl.html#disable-instance_method">disable</a></span>, <span class='name'><a title="enable" href="../CloudDsl.html#enable-instance_method">enable</a></span>, <span class='name'><a title="enabled?" href="../CloudDsl.html#enabled%3F-instance_method">enabled?</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>immutable_methods</h3>
</div><div id="immutable_methods-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>immutable_methods</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
include PoolParty::Monitors
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 56</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L56">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">56
57
58</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='immutable_methods identifier id'>immutable_methods</span>
  <span class='lbrack token'>[</span><span class='symbol val'>:name</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>load_from_json</h3>
</div><div id="load_from_json-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>load_from_json</span><span class='args'>(str, o = )</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
TODO: test ruby -rrubygems -e &#8216;require &quot;poolparty&quot;;puts
Cloud.load_from_json(open(&quot;/etc/poolparty/clouds.json&quot;).read).minimum_instances&#8217;
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 288</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L288">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='load_from_json identifier id'>load_from_json</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='o identifier id'>o</span><span class='assign token'>=</span><span class='semicolon token'>;</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='colon3 op'>::</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='file? fid id'>file?</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>
    <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='read identifier id'>read</span>
  <span class='end end kw'>end</span>
  <span class='parsed identifier id'>parsed</span> <span class='assign token'>=</span> <span class='JSON constant id'>JSON</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='symbolize_keys! fid id'>symbolize_keys!</span>
  <span class='opts identifier id'>opts</span> <span class='assign token'>=</span> <span class='parsed identifier id'>parsed</span><span class='dot token'>.</span><span class='options identifier id'>options</span>
  <span class='opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='string val'>&quot;keypair&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='string val'>&quot;keypair_path&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='string val'>&quot;keypair_name&quot;</span><span class='rbrack token'>]</span>

  <span class='cld identifier id'>cld</span> <span class='assign token'>=</span> <span class='Cloud constant id'>Cloud</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='cloud_name identifier id'>cloud_name</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span>
  <span class='cld identifier id'>cld</span><span class='dot token'>.</span><span class='dsl_options identifier id'>dsl_options</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span> <span class='opts identifier id'>opts</span>
  <span class='cld identifier id'>cld</span><span class='dot token'>.</span><span class='using identifier id'>using</span> <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='remoter_base identifier id'>remoter_base</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='comma token'>,</span> <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='remote_base identifier id'>remote_base</span>
  <span class='cld identifier id'>cld</span><span class='dot token'>.</span><span class='dependency_resolver identifier id'>dependency_resolver</span> <span class='opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:dependency_resolver</span><span class='rbrack token'>]</span>
  
  <span class='comment val'>#TODO: will never run</span>
  <span class='unless unless kw'>unless</span> <span class='true true kw'>true</span> <span class='orop op'>||</span> <span class='o identifier id'>o</span><span class='lbrack token'>[</span><span class='colon op'>:</span><span class='full_stack identifier id'>full_stack</span><span class='rbrack token'>]</span>
    <span class='context_stack identifier id'>context_stack</span><span class='dot token'>.</span><span class='push identifier id'>push</span> <span class='cld identifier id'>cld</span>
    <span class='cld identifier id'>cld</span><span class='dot token'>.</span><span class='ordered_resources identifier id'>ordered_resources</span> <span class='assign token'>=</span> <span class='parsed identifier id'>parsed</span><span class='dot token'>.</span><span class='resources identifier id'>resources</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='r identifier id'>r</span><span class='bitor op'>|</span>
      <span class='case case kw'>case</span> <span class='typ identifier id'>typ</span> <span class='assign token'>=</span> <span class='r identifier id'>r</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='symbol val'>:pp_type</span><span class='rparen token'>)</span>
      <span class='when when kw'>when</span> <span class='string val'>&quot;plugin&quot;</span>
        <span class='comment val'># This may become a problem on the server where the plugins</span>
        <span class='comment val'># cannot be found. TODO: Fix?!? How? Uh... fake plugin maybe?            </span>
        <span class='cld identifier id'>cld</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='r identifier id'>r</span><span class='lbrack token'>[</span><span class='symbol val'>:name</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/_class/</span><span class='comma token'>,</span> <span class='string val'>''</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rparen token'>)</span> <span class='do do kw'>do</span>              
          <span class='set_vars_from_options identifier id'>set_vars_from_options</span><span class='lparen token'>(</span><span class='r identifier id'>r</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>            
      <span class='else else kw'>else</span>
        <span class='cld identifier id'>cld</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='dstring node'>&quot;has_#{typ}&quot;</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='comma token'>,</span> <span class='r identifier id'>r</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
      <span class='context_stack identifier id'>context_stack</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='cld identifier id'>cld</span><span class='dot token'>.</span><span class='ordered_resources identifier id'>ordered_resources</span> <span class='assign token'>=</span> <span class='parsed identifier id'>parsed</span><span class='dot token'>.</span><span class='resources identifier id'>resources</span>
  <span class='end end kw'>end</span>
  <span class='cld identifier id'>cld</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>method_added</h3>
</div><div id="method_added-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>method_added</span><span class='args'>(sym)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Redefining methods are not allowed
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 61</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L61">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">61
62
63</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='method_added identifier id'>method_added</span> <span class='sym identifier id'>sym</span>        
  <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Exception: #{sym.to_s.capitalize} method has been redefined&quot;</span> <span class='if if_mod kw'>if</span> <span class='immutable_methods identifier id'>immutable_methods</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='sym identifier id'>sym</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='notop op'>!</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='sym identifier id'>sym</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>_keypair_filepaths</h3>
</div><div id="_keypair_filepaths-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>_keypair_filepaths</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Collect the filepaths of the already loaded keypairs
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 193</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L193">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">193
194
195</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='_keypair_filepaths identifier id'>_keypair_filepaths</span>
  <span class='_keypairs identifier id'>_keypairs</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='filepath identifier id'>filepath</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>_keypairs</h3>
</div><div id="_keypairs-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>_keypairs</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 188</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L188">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">188
189
190</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='_keypairs identifier id'>_keypairs</span>
  <span class='@keypairs ivar id'>@keypairs</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='Key constant id'>Key</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>after</h3>
</div><div id="after-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>after</span><span class='args'>(time, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
CALLBACKS To hook into the chain of processes that PoolParty uses when
launching, bootstrapping, configuring tasks, call these methods in your
clouds.rb. Example:
</p>
<pre class="code">
  <span class='after identifier id'>after</span> <span class='symbol val'>:bootstrap</span> <span class='do do kw'>do</span>
    <span class='stuff identifier id'>stuff</span>
  <span class='end end kw'>end</span>
</pre>
<p>
These store the blocks into the after/before_blocks on self and are called
as appropriate at the runtime
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 141</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L141">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">141
142
143</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='after identifier id'>after</span> <span class='time identifier id'>time</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> 
  <span class='lparen token'>(</span><span class='after_blocks identifier id'>after_blocks</span><span class='lbrack token'>[</span><span class='time identifier id'>time</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='lshft op'>&lt;&lt;</span> <span class='block identifier id'>block</span>
<span class='end end kw'>end</span>      
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>after_bootstrap</h3>
</div><div id="after_bootstrap-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>after_bootstrap</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 352</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L352">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">352
353
354</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='after_bootstrap identifier id'>after_bootstrap</span>
  <span class='after_blocks identifier id'>after_blocks</span><span class='lbrack token'>[</span><span class='symbol val'>:bootstrap</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='b identifier id'>b</span><span class='bitor op'>|</span> <span class='b identifier id'>b</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span> <span class='if if_mod kw'>if</span> <span class='after_blocks identifier id'>after_blocks</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='symbol val'>:bootstrap</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>after_configure</h3>
</div><div id="after_configure-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>after_configure</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 358</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L358">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">358
359
360</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='after_configure identifier id'>after_configure</span>
  <span class='after_blocks identifier id'>after_blocks</span><span class='lbrack token'>[</span><span class='symbol val'>:configure</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='b identifier id'>b</span><span class='bitor op'>|</span> <span class='b identifier id'>b</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span> <span class='if if_mod kw'>if</span> <span class='after_blocks identifier id'>after_blocks</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='symbol val'>:configure</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>after_create</h3>
</div><div id="after_create-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>after_create</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Callback called after the cloud has been created, everything has run and is
set at this point here the base requirements are added as well as an empty
chef recipe is called Also, the after_create hook on the plugins used by
the cloud are called here
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 116</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L116">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">116
117
118
119
120
121
122
123
124
125
126
127</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='after_create identifier id'>after_create</span>
  <span class='colon3 op'>::</span><span class='FileUtils constant id'>FileUtils</span><span class='dot token'>.</span><span class='mkdir_p identifier id'>mkdir_p</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{tmp_path}/dr_configure&quot;</span><span class='rparen token'>)</span>
  
  <span class='run_in_context identifier id'>run_in_context</span> <span class='do do kw'>do</span>
    <span class='add_optional_enabled_services identifier id'>add_optional_enabled_services</span>
    <span class='chef identifier id'>chef</span> <span class='do do kw'>do</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  
  <span class='plugin_store identifier id'>plugin_store</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='call_after_create_callbacks identifier id'>call_after_create_callbacks</span> <span class='rbrace token'>}</span>
  <span class='setup_defaults identifier id'>setup_defaults</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>after_launch_instance</h3>
</div><div id="after_launch_instance-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>after_launch_instance</span><span class='args'>(inst = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 159</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L159">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">159
160
161</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='after_launch_instance identifier id'>after_launch_instance</span><span class='lparen token'>(</span><span class='inst identifier id'>inst</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='remote_base identifier id'>remote_base</span><span class='dot token'>.</span><span class='send identifier id'>send</span> <span class='symbol val'>:after_launch_instance</span><span class='comma token'>,</span> <span class='inst identifier id'>inst</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>before</h3>
</div><div id="before-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>before</span><span class='args'>(time, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 144</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L144">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">144
145
146</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='before identifier id'>before</span> <span class='time identifier id'>time</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span>
  <span class='lparen token'>(</span><span class='before_blocks identifier id'>before_blocks</span><span class='lbrack token'>[</span><span class='time identifier id'>time</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='lshft op'>&lt;&lt;</span> <span class='block identifier id'>block</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>before_bootstrap</h3>
</div><div id="before_bootstrap-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>before_bootstrap</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Call before and after configure callbacks on the cloud. These are called
from the dynamically defined callback method
</p>
<pre class="code">
  <span class='call_before identifier id'>call_before</span><span class='div op'>/</span><span class='after_configure identifier id'>after_configure</span><span class='div op'>/</span><span class='bootstrap_callbacks identifier id'>bootstrap_callbacks</span>
</pre>
<p>
from within callbacks.rb If there is a callback block defined for the
specific runtime method being called, then the appropriate callback blocks
will be accessed and called from within the before/after_ callback
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 349</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L349">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">349
350
351</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='before_bootstrap identifier id'>before_bootstrap</span>
  <span class='before_blocks identifier id'>before_blocks</span><span class='lbrack token'>[</span><span class='symbol val'>:bootstrap</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='b identifier id'>b</span><span class='bitor op'>|</span> <span class='b identifier id'>b</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span> <span class='if if_mod kw'>if</span> <span class='before_blocks identifier id'>before_blocks</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='symbol val'>:bootstrap</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>before_configure</h3>
</div><div id="before_configure-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>before_configure</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 355</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L355">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">355
356
357</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='before_configure identifier id'>before_configure</span>
  <span class='before_blocks identifier id'>before_blocks</span><span class='lbrack token'>[</span><span class='symbol val'>:configure</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='b identifier id'>b</span><span class='bitor op'>|</span> <span class='b identifier id'>b</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span> <span class='if if_mod kw'>if</span> <span class='before_blocks identifier id'>before_blocks</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='symbol val'>:configure</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>before_create</h3>
</div><div id="before_create-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>before_create</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 108</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L108">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">108
109
110</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='before_create identifier id'>before_create</span>
  <span class='add_poolparty_base_requirements identifier id'>add_poolparty_base_requirements</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>build_and_store_new_config_file</h3>
</div><div id="build_and_store_new_config_file-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>build_and_store_new_config_file</span><span class='args'>(filepath = nil, force = false)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Build the new poolparty manifest Wrapping all of these requirements into
the one poolparty class.
</p>
<p>
TODO: Consider the benefits of moving all the manifest classes to separate
files and keeping the containing references in the include
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 218</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L218">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">218
219
220
221
222
223
224
225
226</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='build_and_store_new_config_file identifier id'>build_and_store_new_config_file</span><span class='lparen token'>(</span><span class='filepath identifier id'>filepath</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='force identifier id'>force</span><span class='assign token'>=</span><span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='filepath identifier id'>filepath</span> <span class='opasgn op'>||=</span> <span class='colon3 op'>::</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='Default constant id'>Default</span><span class='dot token'>.</span><span class='storage_directory identifier id'>storage_directory</span><span class='comma token'>,</span> <span class='string val'>&quot;poolparty.pp&quot;</span><span class='rparen token'>)</span>
  <span class='comment val'># write_properties_hash if debugging</span>
  <span class='vputs identifier id'>vputs</span> <span class='dstring node'>&quot;Building new manifest configuration file (forced: #{force})&quot;</span>
  <span class='manifest identifier id'>manifest</span> <span class='assign token'>=</span> <span class='force identifier id'>force</span> <span class='integer val'>? </span><span class='rebuild_manifest identifier id'>rebuild_manifest</span> <span class='colon op'>:</span> <span class='build_manifest identifier id'>build_manifest</span>
  <span class='colon3 op'>::</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='filepath identifier id'>filepath</span><span class='comma token'>,</span> <span class='string val'>&quot;w&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='file identifier id'>file</span><span class='bitor op'>|</span>
    <span class='file identifier id'>file</span> <span class='lshft op'>&lt;&lt;</span> <span class='manifest identifier id'>manifest</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>build_from_existing_file</h3>
</div><div id="build_from_existing_file-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>build_from_existing_file</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
If the pp already exists, then let&#8217;s not recreate it TODO: Abstract
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 264</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L264">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">264
265
266</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='build_from_existing_file identifier id'>build_from_existing_file</span>
  <span class='colon3 op'>::</span><span class='FileTest constant id'>FileTest</span><span class='dot token'>.</span><span class='file? fid id'>file?</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{Default.base_config_directory}/poolparty.pp&quot;</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{Default.base_config_directory}/poolparty.pp&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='read identifier id'>read</span> <span class='colon op'>:</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>build_manifest</h3>
</div><div id="build_manifest-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>build_manifest</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
FIXME MOVE TO DEPENDENCY RESOLVER Configuration files
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 244</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L244">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">244
245
246
247
248
249
250
251
252
253
254</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='build_manifest identifier id'>build_manifest</span>
  <span class='vputs identifier id'>vputs</span> <span class='string val'>&quot;Building manifest&quot;</span>
  <span class='@build_manifest ivar id'>@build_manifest</span> <span class='opasgn op'>||=</span> <span class='build_from_existing_file identifier id'>build_from_existing_file</span>
  <span class='unless unless kw'>unless</span> <span class='@build_manifest ivar id'>@build_manifest</span>
    <span class='props identifier id'>props</span> <span class='assign token'>=</span> <span class='to_properties_hash identifier id'>to_properties_hash</span>
    
    <span class='@build_manifest ivar id'>@build_manifest</span> <span class='assign token'>=</span> <span class='dependency_resolver identifier id'>dependency_resolver</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='symbol val'>:compile</span><span class='comma token'>,</span> <span class='props identifier id'>props</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='dputs identifier id'>dputs</span> <span class='string val'>&quot;Finished creating manifest&quot;</span>
  <span class='@build_manifest ivar id'>@build_manifest</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>copy_custom_monitors</h3>
</div><div id="copy_custom_monitors-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>copy_custom_monitors</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
If there is a directory named monitors in the same directory as the pool
specification file is in, then create a monitors directory in the storage
directory and mirror the two. When PoolParty &quot;boots&quot; up, it scans
the monitors directory for any custom monitors that are in known locations,
these are included
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 234</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L234">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">234
235
236
237
238
239
240</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='copy_custom_monitors identifier id'>copy_custom_monitors</span>
  <span class='unless unless kw'>unless</span> <span class='Default constant id'>Default</span><span class='dot token'>.</span><span class='custom_monitor_directories identifier id'>custom_monitor_directories</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
    <span class='Default constant id'>Default</span><span class='dot token'>.</span><span class='custom_monitor_directories identifier id'>custom_monitor_directories</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='dir identifier id'>dir</span><span class='bitor op'>|</span>
      <span class='Dir constant id'>Dir</span><span class='lbrack token'>[</span><span class='dstring node'>&quot;#{dir}/*.rb&quot;</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='f identifier id'>f</span><span class='bitor op'>|</span> <span class='colon3 op'>::</span><span class='Suitcase constant id'>Suitcase</span><span class='colon2 op'>::</span><span class='Zipper constant id'>Zipper</span><span class='dot token'>.</span><span class='add identifier id'>add</span><span class='lparen token'>(</span><span class='f identifier id'>f</span><span class='comma token'>,</span> <span class='string val'>&quot;monitors&quot;</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>full_keypair_path</h3>
</div><div id="full_keypair_path-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>full_keypair_path</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
TODO: deprecate: use key.full_filepath
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 198</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L198">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">198
199
200</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='full_keypair_path identifier id'>full_keypair_path</span>
  <span class='@full_keypair_path ivar id'>@full_keypair_path</span> <span class='opasgn op'>||=</span> <span class='keypair identifier id'>keypair</span><span class='dot token'>.</span><span class='full_filepath identifier id'>full_filepath</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>ip</h3>
</div><div id="ip-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>ip</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 207</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L207">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">207
208
209</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='ip identifier id'>ip</span>
  <span class='ips identifier id'>ips</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>ips</h3>
</div><div id="ips-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>ips</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
provide list of public ips to get into the cloud
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 203</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L203">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">203
204
205</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='ips identifier id'>ips</span>
  <span class='nodes identifier id'>nodes</span><span class='lparen token'>(</span><span class='symbol val'>:status</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;running&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='ri identifier id'>ri</span><span class='bitor op'>|</span> <span class='ri identifier id'>ri</span><span class='dot token'>.</span><span class='ip identifier id'>ip</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>keypair</h3>
</div><div id="keypair-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>keypair</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="set_keypairs-instance_method">set_keypairs</tt>
  
    <tt id="key-instance_method">key</tt>
  
</p>
</div><div class="section docstring">
  <p>
Keypairs Use the keypair path
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 165</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L165">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='keypair identifier id'>keypair</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='args identifier id'>args</span> <span class='andop op'>&amp;&amp;</span> <span class='notop op'>!</span><span class='args identifier id'>args</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
    <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='arg identifier id'>arg</span><span class='bitor op'>|</span>
      <span class='unless unless kw'>unless</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span> <span class='orop op'>||</span> <span class='_keypair_filepaths identifier id'>_keypair_filepaths</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='rparen token'>)</span>
        <span class='k identifier id'>k</span> <span class='assign token'>=</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Key constant id'>Key</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='arg identifier id'>arg</span> <span class='colon op'>:</span> <span class='Key constant id'>Key</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='rparen token'>)</span>
        <span class='_keypairs identifier id'>_keypairs</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span> <span class='k identifier id'>k</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='keypair identifier id'>keypair</span>
  <span class='else else kw'>else</span>
    <span class='unless unless kw'>unless</span> <span class='@keypair ivar id'>@keypair</span>
      <span class='@keypair ivar id'>@keypair</span> <span class='assign token'>=</span> <span class='_keypairs identifier id'>_keypairs</span><span class='dot token'>.</span><span class='select identifier id'>select</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='bitor op'>|</span> <span class='key identifier id'>key</span><span class='dot token'>.</span><span class='exists? fid id'>exists?</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='keypair_path identifier id'>keypair_path</span> <span class='assign token'>=</span> <span class='@keypair ivar id'>@keypair</span><span class='dot token'>.</span><span class='full_filepath identifier id'>full_filepath</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='keypair_name identifier id'>keypair_name</span> <span class='assign token'>=</span> <span class='@keypair ivar id'>@keypair</span><span class='dot token'>.</span><span class='basename identifier id'>basename</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='keypair identifier id'>keypair</span> <span class='assign token'>=</span> <span class='@keypair ivar id'>@keypair</span>
    <span class='end end kw'>end</span>
    <span class='@keypair ivar id'>@keypair</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>rebuild_manifest</h3>
</div><div id="rebuild_manifest-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>rebuild_manifest</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Force rebuilding of the manifest
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 257</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L257">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">257
258
259
260</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='rebuild_manifest identifier id'>rebuild_manifest</span>
  <span class='@build_manifest ivar id'>@build_manifest</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='build_manifest identifier id'>build_manifest</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>remote_base</h3>
</div><div id="remote_base-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>remote_base</span><span class='args'>(n = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the value of attribute <tt>remote_base</tt>
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 24</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L24">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">24
25
26
27
28
29
30</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='remote_base identifier id'>remote_base</span><span class='lparen token'>(</span><span class='n identifier id'>n</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='n identifier id'>n</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
    <span class='@remote_base ivar id'>@remote_base</span>
  <span class='else else kw'>else</span>
    <span class='@remote_base ivar id'>@remote_base</span> <span class='assign token'>=</span> <span class='n identifier id'>n</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>reset!</h3>
</div><div id="reset-21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>reset!</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Reset the entire cloud
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 336</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L336">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">336
337
338
339</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='reset! fid id'>reset!</span>
  <span class='reset_remoter_base! fid id'>reset_remoter_base!</span>
  <span class='@build_manifest ivar id'>@build_manifest</span> <span class='assign token'>=</span> <span class='@describe_instances ivar id'>@describe_instances</span> <span class='assign token'>=</span> <span class='@remote_instances_list ivar id'>@remote_instances_list</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>setup_defaults</h3>
</div><div id="setup_defaults-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>setup_defaults</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
setup defaults for the cloud
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 149</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L149">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">149
150
151
152
153
154
155
156
157</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='setup_defaults identifier id'>setup_defaults</span>
  <span class='set_vars_from_options identifier id'>set_vars_from_options</span><span class='lparen token'>(</span><span class='symbol val'>:keypair_name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='key identifier id'>key</span><span class='dot token'>.</span><span class='basename identifier id'>basename</span><span class='comma token'>,</span> <span class='symbol val'>:keypair_path</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='key identifier id'>key</span><span class='dot token'>.</span><span class='full_filepath identifier id'>full_filepath</span><span class='rparen token'>)</span> <span class='rescue rescue kw'>rescue</span> <span class='nil nil kw'>nil</span>
  
  <span class='dsl_options identifier id'>dsl_options</span><span class='lbrack token'>[</span><span class='symbol val'>:rules</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:expand</span>   <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='dstring node'>&quot;#{dsl_options[:expand_when]}&quot;</span><span class='comma token'>,</span> 
                         <span class='symbol val'>:contract</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='dsl_options identifier id'>dsl_options</span><span class='lbrack token'>[</span><span class='symbol val'>:contract_when</span><span class='rbrack token'>]</span><span class='rbrace token'>}</span>        
  
  <span class='dependency_resolver identifier id'>dependency_resolver</span> <span class='string val'>'chef'</span>
  <span class='using identifier id'>using</span> <span class='Default constant id'>Default</span><span class='dot token'>.</span><span class='remoter_base identifier id'>remoter_base</span> <span class='unless unless_mod kw'>unless</span> <span class='@remote_base ivar id'>@remote_base</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>tmp_path</h3>
</div><div id="tmp_path-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>tmp_path</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 331</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L331">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">331
332
333</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='tmp_path identifier id'>tmp_path</span>
  <span class='Default constant id'>Default</span><span class='dot token'>.</span><span class='tmp_path identifier id'>tmp_path</span> <span class='div op'>/</span> <span class='pool identifier id'>pool</span><span class='dot token'>.</span><span class='name identifier id'>name</span> <span class='div op'>/</span> <span class='name identifier id'>name</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_h</h3>
</div><div id="to_h-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_h</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 282</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L282">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">282
283
284</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_h identifier id'>to_h</span>
  <span class='to_hash identifier id'>to_hash</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_hash</h3>
</div><div id="to_hash-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_hash</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 276</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L276">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">276
277
278
279
280</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_hash identifier id'>to_hash</span>
  <span class='hsh identifier id'>hsh</span> <span class='assign token'>=</span> <span class='to_properties_hash identifier id'>to_properties_hash</span>
  <span class='hsh identifier id'>hsh</span><span class='lbrack token'>[</span><span class='symbol val'>:options</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:remote_base</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='remote_base identifier id'>remote_base</span><span class='dot token'>.</span><span class='to_hash identifier id'>to_hash</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>  
  <span class='hsh identifier id'>hsh</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>write_properties_hash</h3>
</div><div id="write_properties_hash-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>write_properties_hash</span><span class='args'>(filename = ::File.join(tmp_path, Default.properties_hash_filename))</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 268</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fairchild/poolparty/blob/8ed343ac90d0d245c21b289ac939dddbe2f4c81a/lib/poolparty/poolparty/cloud.rb#L268">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">268
269
270
271
272
273
274</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='write_properties_hash identifier id'>write_properties_hash</span><span class='lparen token'>(</span><span class='filename identifier id'>filename</span><span class='assign token'>=</span><span class='colon3 op'>::</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='tmp_path identifier id'>tmp_path</span><span class='comma token'>,</span> <span class='Default constant id'>Default</span><span class='dot token'>.</span><span class='properties_hash_filename identifier id'>properties_hash_filename</span><span class='rparen token'>)</span> <span class='rparen token'>)</span>
  <span class='file_path identifier id'>file_path</span> <span class='assign token'>=</span> <span class='colon3 op'>::</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='dirname identifier id'>dirname</span><span class='lparen token'>(</span><span class='filename identifier id'>filename</span><span class='rparen token'>)</span>
  <span class='file_name identifier id'>file_name</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{::File.basename(filename, ::File.extname(filename))}_#{name}#{::File.extname(filename)}&quot;</span>
  <span class='output identifier id'>output</span> <span class='assign token'>=</span> <span class='to_properties_hash identifier id'>to_properties_hash</span><span class='dot token'>.</span><span class='to_json identifier id'>to_json</span>
  <span class='colon3 op'>::</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{file_path}/#{file_name}&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;w&quot;</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='f identifier id'>f</span><span class='bitor op'>|</span> <span class='f identifier id'>f</span><span class='dot token'>.</span><span class='write identifier id'>write</span> <span class='output identifier id'>output</span> <span class='rbrace token'>}</span>
  <span class='true true kw'>true</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>