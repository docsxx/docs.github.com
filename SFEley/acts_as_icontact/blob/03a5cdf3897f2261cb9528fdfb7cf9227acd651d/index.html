<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>SFEley's acts_as_icontact - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/SFEley/commits/acts_as_icontact/master" rel="alternate" title="Recent Commits to acts_as_icontact:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("SFEley", "acts_as_icontact", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='SFEley/acts_as_icontact/blob/03a5cdf3897f2261cb9528fdfb7cf9227acd651d' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='SFEley/acts_as_icontact/blob/03a5cdf3897f2261cb9528fdfb7cf9227acd651d' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("SFEley", "acts_as_icontact", "03a5cdf3897f2261cb9528fdfb7cf9227acd651d", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/SFEley/acts_as_icontact/tree/">Source</a></li>
            <li class=""><a href="http://github.com/SFEley/acts_as_icontact/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/SFEley/acts_as_icontact/network">Network</a></li>            
            <li class=""><a href="http://github.com/SFEley/acts_as_icontact/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/SFEley/acts_as_icontact">Wiki</a></li>
            <li class=""><a href="http://github.com/SFEley/acts_as_icontact/graphs">Graphs</a></li>                    
            <li class="active"><a href="/SFEley/acts_as_icontact">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/SFEley">SFEley</a> / <b><a href="http://github.com/SFEley/acts_as_icontact/tree">acts_as_icontact</a></b>        
                <a id="namespaces_button" rel="SFEley/acts_as_icontact/blob/03a5cdf3897f2261cb9528fdfb7cf9227acd651d" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="SFEley/acts_as_icontact/blob/03a5cdf3897f2261cb9528fdfb7cf9227acd651d" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="section docstring readme wikistyle">
  <h1>ActsAsIcontact</h1>

<p>ActsAsIcontact connects Ruby applications with the <a href="http://icontact.com">iContact e-mail marketing service</a> using the iContact API v2.0.  Building on the <a href="http://rest-client.heroku.com">RestClient</a> gem, it offers two significant feature sets:</p>

<ul>
<li>Simple, consistent access to all resources in the iContact API; and</li>
<li>Automatic synchronizing between ActiveRecord models and iContact contact lists for Rails applications.</li>
</ul>


<h2>Prerequisites</h2>

<p>You'll need the following to use this gem properly:</p>

<ol>
<li><p><strong>Ruby 1.9</strong> Yeah, we know, change is <em>scary</em> and a zillion of your other gems only work in 1.8. But ActsAsIcontact makes use of a few 1.9 features for efficiency, such as Enumerators.  It's <em>possible</em> that this might work in 1.8.7 if you install the <strong>JSON</strong> gem and <code>require 'enumerator'</code> explicitly -- but the author hasn't tested it.  If you need it to work in 1.8, speak up.  Or better yet, make it work and submit a patch.</p></li>
<li><p><strong>Rails 2.1</strong> <em>(If using Rails integration)</em> We use ActiveRecord's 'dirty fields' feature that first appeared in 2.1 to determine whether iContact needs updating.  If you're on a version of Rails older than this, it's probably worth your while to update anyway.</p></li>
<li><p><strong>rest-client</strong> This gem <em>should</em> install when you install the <strong>acts_as_icontact</strong> gem.  But we include it here for completeness.</p></li>
</ol>


<h2>Setting Up</h2>

<p>Using ActsAsIcontact is easy, but going through iContact's authorization process requires jumping a couple of hoops.  Here's how to get going quickly:</p>

<ol>
<li><p>Install the gem.</p>

<p>   $ sudo gem install acts_as_icontact</p></li>
<li><p><em>Optional but recommended:</em> Go to <a href="http://beta.icontact.com">http://beta.icontact.com</a> and sign up for an iContact Beta account. This will let you test your app without risk of blowing away your production mailing lists.</p></li>
<li><p>Enable the ActsAsIcontact gem for use with your iContact account. The URL and credentials you'll use are different between the beta and production environments:<br/>
</p>

<ul>
<li><p><strong>BETA:</strong> Go to <a href="http://app.beta.icontact.com/icp/core/externallogin">http://app.beta.icontact.com/icp/core/externallogin</a> and enter <code>Ml5SnuFhnoOsuZeTOuZQnLUHTbzeUyhx</code> for the Application Id. Choose a password for ActsAsIcontact that's different from your account password.<br/>
</p></li>
<li><p><strong>PRODUCTION:</strong> Go to <a href="http://app.icontact.com/icp/core/externallogin">http://app.icontact.com/icp/core/externallogin</a> and enter <code>IYDOhgaZGUKNjih3hl1ItLln7zpAtWN2</code> for the Application Id. Choose a password for ActsAsIcontact that's different from your account password.</p></li>
</ul>
</li>
<li><p>Set your <em>(beta, if applicable)</em> account username and the password you just chose for API access. You can either set the environment variables <code>ICONTACT_MODE</code>, <code>ICONTACT_USERNAME</code>, and <code>ICONTACT_PASSWORD</code>, or you can explicitly do it with calls to the Config module:<br/>
</p>

<pre class="code"><span class='require identifier id'>require</span> <span class='string val'>'rubygems'</span>
<span class='require identifier id'>require</span> <span class='string val'>'acts_as_icontact'</span>

<span class='ActsAsIcontact constant id'>ActsAsIcontact</span><span class='colon2 op'>::</span><span class='Config constant id'>Config</span><span class='dot token'>.</span><span class='mode identifier id'>mode</span> <span class='assign token'>=</span> <span class='symbol val'>:beta</span>
<span class='ActsAsIcontact constant id'>ActsAsIcontact</span><span class='colon2 op'>::</span><span class='Config constant id'>Config</span><span class='dot token'>.</span><span class='username identifier id'>username</span> <span class='assign token'>=</span> <span class='my_beta_username identifier id'>my_beta_username</span>
<span class='ActsAsIcontact constant id'>ActsAsIcontact</span><span class='colon2 op'>::</span><span class='Config constant id'>Config</span><span class='dot token'>.</span><span class='password identifier id'>password</span> <span class='assign token'>=</span> <span class='my_api_password identifier id'>my_api_password</span>  
</pre>

If you're using Rails, the recommended approach is to require the gem with <code>config.gem 'acts_as_icontact'</code> in your <strong>config/environment.rb</strong> file, and then set up an initializer (i.e. <strong>config/initializers/acts_as_icontact.rb</strong>) with the above code.  See more about Rails below.</li>
<li><p>Rinse and repeat with production credentials when you're ready to move out of the beta environment.<br/>
</p></li>
</ol>


<h2>API Access</h2>

<p>Whether or not you're using Rails, retrieving and modifying iContact resources is simple.  The gem autodiscovers your account and client folder IDs (you only have one of each unless you're an 'agency' account), so you can jump straight to the good parts:</p>

<pre class="code"> <span class='contacts identifier id'>contacts</span> <span class='assign token'>=</span> <span class='ActsAsIcontact constant id'>ActsAsIcontact</span><span class='colon2 op'>::</span><span class='Contact constant id'>Contact</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='symbol val'>:all</span><span class='rparen token'>)</span>  <span class='comment val'># =&gt; &lt;#ActsAsIcontact::ResourceCollection&gt;</span>
 <span class='c identifier id'>c</span> <span class='assign token'>=</span> <span class='contacts identifier id'>contacts</span><span class='dot token'>.</span><span class='first identifier id'>first</span>    <span class='comment val'># =&gt; &lt;#ActsAsIcontact.Contact&gt;</span>
 <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='firstName identifier id'>firstName</span>           <span class='comment val'># =&gt; &quot;Bob&quot;</span>
 <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='lastName identifier id'>lastName</span>            <span class='comment val'># =&gt; &quot;Smith&quot;</span>
 <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='email identifier id'>email</span>               <span class='comment val'># =&gt; &quot;bob@example.org&quot;</span>
 <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='lastName identifier id'>lastName</span> <span class='assign token'>=</span> <span class='string val'>&quot;Smith-Jones&quot;</span>   <span class='comment val'># Bob gets married and changes his name</span>
 <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='save identifier id'>save</span>                <span class='comment val'># =&gt; true</span>
 <span class='history identifier id'>history</span> <span class='assign token'>=</span> <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='actions identifier id'>actions</span>   <span class='comment val'># =&gt; &lt;#ActsAsIcontact::ResourceCollection&gt;</span>
 <span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='history identifier id'>history</span><span class='dot token'>.</span><span class='first identifier id'>first</span>     <span class='comment val'># =&gt; &lt;#ActsAsIcontact::Action&gt;</span>
 <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='actionType identifier id'>actionType</span>          <span class='comment val'># =&gt; &quot;EditFields&quot;</span>
</pre>

<h3>Nesting</h3>

<p>The interface is deliberately as "ActiveRecord-like" as possible, with methods linking resources that are either nested in iContact's URLs or logically related.  Messages have a Message#bounces method.  Lists have List#subscribers to list the Contacts subscribed to them, and Contacts have Contact#lists.  Read the documentation for each class to find out what you can do:</p>

<ul>
<li>ActsAsIcontact::Account

<ul>
<li>ActsAsIcontact::ClientFolder</li>
</ul>
</li>
<li>ActsAsIcontact::Contact

<ul>
<li>ActsAsIcontact::History <em>(documented as "Contact History")</em></li>
</ul>
</li>
<li>ActsAsIcontact::Message

<ul>
<li>ActsAsIcontact::Bounce</li>
<li>ActsAsIcontact::Click</li>
<li>ActsAsIcontact::Open</li>
<li>ActsAsIcontact::Unsubscribe</li>
<li>ActsAsIcontact::Statistics</li>
</ul>
</li>
<li>ActsAsIcontact::List

<ul>
<li>ActsAsIcontact::Segment

<ul>
<li>ActsAsIcontact::Criterion  <em>(documented as "Segment Criteria")</em></li>
</ul>
</li>
</ul>
</li>
<li>ActsAsIcontact::Subscription</li>
<li>ActsAsIcontact::Campaign</li>
<li>ActsAsIcontact::CustomField</li>
<li>ActsAsIcontact::Send</li>
<li>ActsAsIcontact::Upload</li>
<li>ActsAsIcontact::User

<ul>
<li>ActsAsIcontact::Permission</li>
</ul>
</li>
<li>ActsAsIcontact::Time</li>
</ul>


<h3>Searching</h3>

<p>Searches are handled in a sane way using the same query options that iContact accepts.  The following are all valid:</p>

<p><code>Messages.all</code> -- <em>Same as <code>Messages.find(:all)</code></em><br/>
<code>Messages.first</code> -- <em>Same as <code>Messages.find(:first)</code></em><br/>
<code>Messages.find(:all, :limit =&gt; 20)</code> -- <em>First 20 messages</em><br/>
<code>Messages.find(:all, :limit =&gt; 20, :offset =&gt; 40)</code> -- <em>Messages 41-60</em><br/>
<code>Messages.first(:subject =&gt; "Fnord")</code> -- <em>First message with the given subject</em><br/>
<code>Messages.all(:orderby =&gt; createDate, :desc =&gt; true)</code> -- <em>Messages ordered by most recent first</em><br/>
<code>Messages.all(:messageType =&gt; "welcome", :campaignId =&gt; 11)</code> -- <em>Welcome messages from the given campaign</em><br/>
</p>

<p>At this time, special searches are not yet supported.  Fields requiring dates must also be given a string corresponding to the ISO8601 timestamp (e.g. <code>2006-09-16T14:30:00-06:00</code>).  Proper date/time conversion will happen soon.</p>

<h3>Updating</h3>

<p>Again, think ActiveRecord.  When you initialize an object, you can optionally pass it a hash of values:</p>

<pre class="code"><span class='c identifier id'>c</span> <span class='assign token'>=</span> <span class='Contact constant id'>Contact</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:firstName</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Bob&quot;</span><span class='comma token'>,</span> 
                <span class='symbol val'>:lastName</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Smith-Jones&quot;</span><span class='comma token'>,</span> 
                <span class='symbol val'>:email</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;bob@example.org&quot;</span><span class='rparen token'>)</span>
<span class='c identifier id'>c</span><span class='dot token'>.</span><span class='address identifier id'>address</span> <span class='assign token'>=</span> <span class='string val'>&quot;123 Test Street&quot;</span>
</pre>

<p>Each resource class has a <code>#save</code> method which returns true or false.  If false, the <code>#error</code> method contains the reply back from iContact about what went wrong.  (Which may or may not be informative, but we can't tell you more than they do.)  There's also a<code>#save!</code>method which throws an exception instead.</p>

<p>Nested resources can be created using the <code>build_</code> method (which returns an object but doesn't save it right away) or <code>create_</code> method (which does save it upon creation).  The full panoply of ActiveRecord association methods are not implemented yet.  (Hey, we said it was AR-<em>like.</em>)</p>

<p>The <code>#delete</code> method on each class works as you'd expect, assuming iContact allows deletes on that resource.  Resource collections containing the resource are not updated, however, so you may need to requery.</p>

<p>Multiple-record updates are not implemented at this time.</p>

<h2>Rails Integration</h2>

<p>The <em>real</em> power of ActsAsIcontact is its automatic syncing with ActiveRecord.  At this time this feature is focused entirely on Contacts.<br/>
</p>

<h3>Activation</h3>

<p>First add the line <code>config.gem 'acts_as_icontact'</code> to your <strong>config/environment.rb</strong> file.  Then create an initializer (e.g. <strong>config/initializers/acts_as_icontact.rb</strong>) and set it up with your username and password.  If applicable, you can give it both the beta <em>and</em> production credentials:</p>

<pre class="code"><span class='module module kw'>module</span> <span class='ActsAsIcontact constant id'>ActsAsIcontact</span>
  <span class='case case kw'>case</span> <span class='Config constant id'>Config</span><span class='dot token'>.</span><span class='mode identifier id'>mode</span>
        <span class='when when kw'>when</span> <span class='symbol val'>:beta</span>
    <span class='Config constant id'>Config</span><span class='dot token'>.</span><span class='username identifier id'>username</span> <span class='assign token'>=</span> <span class='my_beta_username identifier id'>my_beta_username</span>
    <span class='Config constant id'>Config</span><span class='dot token'>.</span><span class='password identifier id'>password</span> <span class='assign token'>=</span> <span class='my_beta_password identifier id'>my_beta_password</span>
  <span class='when when kw'>when</span> <span class='symbol val'>:production</span>
    <span class='Config constant id'>Config</span><span class='dot token'>.</span><span class='username identifier id'>username</span> <span class='assign token'>=</span> <span class='my_production_username identifier id'>my_production_username</span>
    <span class='Config constant id'>Config</span><span class='dot token'>.</span><span class='password identifier id'>password</span> <span class='assign token'>=</span> <span class='my_production_password identifier id'>my_production_password</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>

<p>If ActsAsIcontact detects that it's running in a Rails app, the default behavior is to set the mode to <code>:production</code> if RAILS_ENV is equal to "production" and <code>:beta</code> if RAILS_ENV is set to anything else.  (Incidentally, if you're <em>not</em> in a Rails app but running Rack, the same logic applies for the RACK_ENV environment variable.)</p>

<p>Finally, enable one of your models to synchronize with iContact with a simple declaration:</p>

<pre class="code"><span class='class class kw'>class</span> <span class='Person constant id'>Person</span> <span class='lt op'>&lt;</span> <span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
  <span class='acts_as_icontact identifier id'>acts_as_icontact</span>
<span class='end end kw'>end</span>
</pre>

<p>There are some options, of course; we'll get to those in a bit.</p>

<h3>What Happens</h3>

<p>When you call the <code>acts_as_icontact</code> method in an ActiveRecord class declaration, the gem does several useful things:</p>

<ol>
<li>Creates callbacks to post changes to iContact's API after a record is saved or deleted.</li>
<li>Defines an <code>icontact_sync!</code> method to pull the contact's data <em>from</em> iContact and make any changes.</li>
<li>Defines other methods such as <code>icontact_lists</code> and <code>icontact_history</code> to make related data accessible.</li>
<li>If an <code>icontact_status</code> field exists, creates named scopes on the model class for each iContact status.  <em>(Pending)</em></li>
</ol>


<h3>Options</h3>

<p>Option values and field mappings can be passed to the <code>acts_as_icontact</code> declaration to set default behavior for the model class.  Right now there's only one option:</p>

<p><code>default_lists</code> -- <em>The name or ID number of a list to subscribe new contacts to automatically, or an array of said names or numbers</em></p>

<h3>Field Mappings</h3>

<p>You can add contact integration to any ActiveRecord model that tracks an email address.  (If your model <em>doesn't</em> include email but you want to use iContact with it, you are very, very confused.)</p>

<p>Any fields that are named the same as iContact's personal information fields, or custom fields you've previously declared, will be autodiscovered.  Otherwise you can map them:</p>

<pre class="code"><span class='class class kw'>class</span> <span class='Customer constant id'>Customer</span> <span class='lt op'>&lt;</span> <span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
  <span class='acts_as_icontact identifier id'>acts_as_icontact</span> <span class='symbol val'>:default_lists</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='string val'>'New Customers'</span><span class='comma token'>,</span> <span class='string val'>'All Users'</span><span class='rbrack token'>]</span>  <span class='comment val'># Puts new contact on two lists</span>
                   <span class='symbol val'>:given_name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:firstName</span><span class='comma token'>,</span> <span class='comment val'># Key is Rails field, value is iContact field</span>
                   <span class='symbol val'>:family_name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:lastName</span><span class='comma token'>,</span>
                   <span class='symbol val'>:address1</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:street</span><span class='comma token'>,</span>
                   <span class='symbol val'>:address2</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:street2</span><span class='comma token'>,</span>
                   <span class='symbol val'>:id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:rails_id</span><span class='comma token'>,</span> <span class='comment val'># Custom field created in iContact</span>
                   <span class='symbol val'>:preferred?</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:preferred_customer</span> <span class='comment val'># Custom field</span>
<span class='end end kw'>end</span>
</pre>

<p>A few iContact-specific fields are exceptions, and have different autodiscovery names to avoid collisions with other attributes in your application:</p>

<p><code>icontact_id</code> -- <em>Corresponds to <code>contactId</code> in iContact.  Highly recommended.</em><br/>
<code>icontact_status</code> -- <em>Corresponds to <code>status</code> in iContact.</em><br/>
<code>icontact_created</code> -- <em>Corresponds to <code>createDate</code> in iContact.</em>
<code>icontact_bounces</code> -- <em>Corresponds to <code>bounceCount</code> in iContact.</em></p>

<p>You are welcome to create these fields in your model or omit them.  However, we <em>strongly</em> recommend that you either include the <code>icontact_id</code> field to track iContact's primary key in your application, or map your own model's primary key to a custom field in iContact.  You can also do both for two-way associations.  If you don't establish a relationship with at least one ID, ActsAsIcontact will resort to using the email address for lookups -- which will be a problem if the email address changes.</p>

<h3>Lists</h3>

<p>The reason to add contacts to iContact is to put them on mailing lists.  We know this.  The <code>default_list</code> option (see above) is one way to do it automatically.  The following methods are also defined on the model for your convenience:</p>

<p><code>icontact_lists</code> -- <em>An array of List objects to which the contact is currently subscribed</em>
<code>icontact_subscribe(list)</code> -- <em>Given a list name or ID number, subscribes the contact to that list immediately</em>
<code>icontact_unsubscribe(list)</code> -- <em>Given a list name or ID number, unsubscribes the contact from that list</em></p>

<h3>Why Just Contacts?</h3>

<p>iContact's interface is really quite good at handling pretty much every other resource.  Campaigns, segments, etc. can usually stand alone.  It's less likely that you'll need to keep copies of them in your Rails app.  But contacts are highly entangled.  If you're using iContact to communicate with your app's users or subjects, you'll want to keep iContact up-to-date when they change.  And if someone bounces or unsubscribes in iContact, odds are good you'll want to know about it.  So this is the strongest point of coupling and the highest priority feature.  (Lists will likely come next, followed by messages.)</p>

<h2>Copyright</h2>

<p>Copyright (c) 2009 Stephen Eley. See LICENSE for details.</p>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> Â©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>