<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>trans's facets - Module: Enumerable - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/trans/commits/facets/master" rel="alternate" title="Recent Commits to facets:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("trans", "facets", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("trans", "facets", "6b9e6139658a078c45898dc44a4ecff4c70b3545", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/trans/facets/tree/">Source</a></li>
            <li class=""><a href="http://github.com/trans/facets/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/trans/facets/network">Network</a></li>            
            <li class=""><a href="http://github.com/trans/facets/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/trans/facets">Wiki</a></li>
            <li class=""><a href="http://github.com/trans/facets/graphs">Graphs</a></li>                    
            <li class="active"><a href="/trans/facets">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/trans">trans</a> / <b><a href="http://github.com/trans/facets/tree">facets</a></b>        
                <a id="namespaces_button" rel="trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section module Enumerable">
  <h1>Module: Enumerable</h1>
  <div class="section constants">
  
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#accumulate-instance_method">#accumulate</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Accumulate a set of a set.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#cluster_by-instance_method">#cluster_by</span><span class='args'>(&amp;b)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Similar to #group_by but returns an array of the groups.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#commonality-instance_method">#commonality</span><span class='args'>(&amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns all items that are equal in terms of the supplied block.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#compact_map-instance_method">#compact_map</span><span class='args'>(trash = nil, &amp;block)</span>
        <span class='block'></span>
        
          <span class='alias'>#compact_collect</span>
        
      </th>
      <td class="docstring">
        <p>
A more versitle #compact method.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#divide-instance_method">#divide</span><span class='args'>(pattern)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Divide on matching pattern.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#each_by-instance_method">#each_by</span><span class='args'>(steps = nil, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Iterate through slices.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#elementwise-instance_method">#elementwise</span><span class='args'>(count = 1)</span>
        <span class='block'></span>
        
          <span class='alias'>#ewise</span>
        
      </th>
      <td class="docstring">
        <p>
Returns an elementwise Functor designed to make R-like elementwise
operations possible.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#entropy-instance_method">#entropy</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Shannon&#8217;s entropy for an array - returns the average bits per symbol
required to encode the array.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#every-instance_method">#every</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns an elemental object.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#every-21-instance_method">#every!</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
In place version of #every.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#filter-instance_method">#filter</span><span class='args'>(&amp;blk)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Without a block: wrap the Enumerable object in such a way that map, select
and similar operations are performed &quot;horizontally&quot; across a
series of blocks, instead of building an array of results at each step.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#frequency-instance_method">#frequency</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Generates a hash mapping each unique symbol in the array to the absolute
frequency it appears.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#ideal_entropy-instance_method">#ideal_entropy</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the maximum possible Shannon entropy of the array with given size
assuming that it is an &quot;order-0&quot; source (each element is selected
independently of the next).
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#inject-21-instance_method">#inject!</span><span class='args'>(s)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
A small variation of #Inject that save one from having to return the
aggregating or memo argument.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#map_send-instance_method">#map_send</span><span class='args'>(meth, *args, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Send a message to each element and collect the result.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#map_with_index-instance_method">#map_with_index</span><span class='args'></span>
        <span class='block'></span>
        
          <span class='alias'>#collect_with_index</span>
        
      </th>
      <td class="docstring">
        <p>
Same as #collect but with an iteration counter.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#mash-instance_method">#mash</span><span class='args'>(&amp;yld)</span>
        <span class='block'></span>
        
          <span class='alias'>#graph</span>
        
      </th>
      <td class="docstring">
        <p>
Like <tt>#map</tt>/<tt>#collect</tt>, but generates a Hash.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#mode-instance_method">#mode</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
In Statistics mode is the value that occurs most frequently in a given set
of data.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#modulate-instance_method">#modulate</span><span class='args'>(modulo)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Modulate.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#nonuniq-instance_method">#nonuniq</span><span class='args'></span>
        <span class='block'></span>
        
          <span class='alias'>#duplicates</span>
        
      </th>
      <td class="docstring">
        <p>
Returns a list on non-unique,.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#occur-instance_method">#occur</span><span class='args'>(n = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns an array of elements for the elements that occur n times.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#per-instance_method">#per</span><span class='args'>(enum_method = nil, *enum_args)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Per element meta-functor.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#probability-instance_method">#probability</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Generates a hash mapping each unique element in the array to the relative
frequency, i.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#split-instance_method">#split</span><span class='args'>(pattern)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Split on matching pattern.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#sum-instance_method">#sum</span><span class='args'>(identity = 0, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Uses #+ to sum the enumerated elements.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#threaded_map-instance_method">#threaded_map</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Like Enumerable#map but each iteration is processed via a separate thread.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#threaded_map_send-instance_method">#threaded_map_send</span><span class='args'>(meth, *args, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Like Enumerable#map_send but each iteration is processed via a separate
thread.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_h-instance_method">#to_h</span><span class='args'>(mode = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Convert an Enumerable object into a hash by first turning it into an array.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_h_assoc-instance_method">#to_h_assoc</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_h_auto-instance_method">#to_h_auto</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_h_flat-instance_method">#to_h_flat</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_h_multi-instance_method">#to_h_multi</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_h_splat-instance_method">#to_h_splat</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#uniq_by-instance_method">#uniq_by</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Like #uniq, but determines uniqueness based on a given block.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>accumulate</h3>
</div><div id="accumulate-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>accumulate</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Accumulate a set of a set.
</p>
<p>
For example, in an ORM design if Group has_many User then
</p>
<pre class="code">
  <span class='groups identifier id'>groups</span><span class='dot token'>.</span><span class='accumulate identifier id'>accumulate</span><span class='dot token'>.</span><span class='users identifier id'>users</span>
</pre>
<p>
will return a list of users from all groups.
</p>
<p>
CREDIT: George Moshchovitis
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/accumulate.rb', line 16</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/accumulate.rb#L16">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">16
17
18
19
20</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='accumulate identifier id'>accumulate</span>
  <span class='@_accumulate ivar id'>@_accumulate</span> <span class='opasgn op'>||=</span> <span class='Functor constant id'>Functor</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='bitor op'>|</span>
    <span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='comma token'>,</span> <span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span> <span class='lshft op'>&lt;&lt;</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>cluster_by</h3>
</div><div id="cluster_by-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>cluster_by</span><span class='args'>(&amp;b)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Similar to #group_by but returns an array of the groups. Returned elements
are sorted by block.
</p>
<pre class="code">
   <span class='dstring node'>%w{this is a test}</span><span class='dot token'>.</span><span class='cluster_by identifier id'>cluster_by</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='x identifier id'>x</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='rbrace token'>}</span>
</pre>
<p>
<em>produces</em>
</p>
<pre class="code">
   <span class='lbrack token'>[</span> <span class='lbrack token'>[</span><span class='string val'>'a'</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='string val'>'is'</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='string val'>'this'</span><span class='comma token'>,</span> <span class='string val'>'test'</span><span class='rbrack token'>]</span> <span class='rbrack token'>]</span>
</pre>
<p>
CREDIT: Erik Veenstra
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/cluster_by.rb', line 16</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/cluster_by.rb#L16">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">16
17
18</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='cluster_by identifier id'>cluster_by</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='b identifier id'>b</span><span class='rparen token'>)</span>
  <span class='group_by identifier id'>group_by</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='b identifier id'>b</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='sort identifier id'>sort</span><span class='dot token'>.</span><span class='transpose identifier id'>transpose</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span> <span class='orop op'>||</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>   <span class='comment val'># group_by(&amp;b).values ?</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>commonality</h3>
</div><div id="commonality-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>commonality</span><span class='args'>(&amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns all items that are equal in terms of the supplied block. If no
block is given objects are considered to be equal if they return the same
value for Object#hash and if obj1 == obj2.
</p>
<pre class="code">
  <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='integer val'>3</span><span class='comma token'>,</span> <span class='integer val'>4</span><span class='comma token'>,</span> <span class='integer val'>4</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='commonality identifier id'>commonality</span> <span class='comment val'># =&gt; { 2 =&gt; [2], 4 =&gt; [4] }</span>

  <span class='lbrack token'>[</span><span class='string val'>&quot;foo&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;bar&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;a&quot;</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='commonality identifier id'>commonality</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='str identifier id'>str</span><span class='bitor op'>|</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='rbrace token'>}</span>
  <span class='comment val'># =&gt; { 3 =&gt; [&quot;foo, &quot;bar&quot;] }</span>

  <span class='comment val'># Returns all persons that share their last name with another person.</span>
  <span class='persons identifier id'>persons</span><span class='dot token'>.</span><span class='collisions identifier id'>collisions</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='person identifier id'>person</span><span class='bitor op'>|</span> <span class='person identifier id'>person</span><span class='dot token'>.</span><span class='last_name identifier id'>last_name</span> <span class='rbrace token'>}</span>
</pre>
<p>
CREDIT: Florian Gross
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/commonality.rb', line 17</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/commonality.rb#L17">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='commonality identifier id'>commonality</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
  <span class='had_no_block identifier id'>had_no_block</span> <span class='assign token'>=</span> <span class='notop op'>!</span><span class='block identifier id'>block</span>
  <span class='block identifier id'>block</span> <span class='opasgn op'>||=</span> <span class='lambda identifier id'>lambda</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='item identifier id'>item</span><span class='bitor op'>|</span> <span class='item identifier id'>item</span> <span class='rbrace token'>}</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='hash identifier id'>hash</span><span class='comma token'>,</span> <span class='key identifier id'>key</span><span class='bitor op'>|</span> <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='rbrace token'>}</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='item identifier id'>item</span><span class='bitor op'>|</span>
    <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='block identifier id'>block</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='item identifier id'>item</span><span class='rparen token'>)</span>
    <span class='result identifier id'>result</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='lshft op'>&lt;&lt;</span> <span class='item identifier id'>item</span>
  <span class='end end kw'>end</span>
  <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='reject! fid id'>reject!</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='values identifier id'>values</span><span class='bitor op'>|</span>
    <span class='values identifier id'>values</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='leq op'>&lt;=</span> <span class='integer val'>1</span>
  <span class='end end kw'>end</span>
  <span class='comment val'>#return had_no_block ? result.values.flatten : result</span>
  <span class='return return kw'>return</span> <span class='result identifier id'>result</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>compact_map</h3>
</div><div id="compact_map-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>compact_map</span><span class='args'>(trash = nil, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="compact_collect-instance_method">compact_collect</tt>
  
</p>
</div><div class="section docstring">
  <p>
A more versitle #compact method. It can be used to collect and filter items
out in one single step.
</p>
<pre class="code">
  <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='compact_map identifier id'>compact_map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='n identifier id'>n</span><span class='bitor op'>|</span>
    <span class='n identifier id'>n</span> <span class='lt op'>&lt;</span> <span class='integer val'>1</span> <span class='question op'>?</span> <span class='nil nil kw'>nil</span> <span class='colon op'>:</span> <span class='n identifier id'>n</span>
  <span class='end end kw'>end</span>
</pre>
<p>
<em>produces</em>
</p>
<pre class="code">
  <span class='lbrack token'>[</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span>
</pre>
<p>
NOTE: Perhaps nicer to have as added functionality for #compact.
</p>
<p>
CREDIT: Trans
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/compact_map.rb', line 18</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/compact_map.rb#L18">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='compact_map identifier id'>compact_map</span><span class='lparen token'>(</span><span class='trash identifier id'>trash</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='y identifier id'>y</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='mult op'>*</span><span class='a identifier id'>a</span><span class='bitor op'>|</span>
      <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='a identifier id'>a</span><span class='rparen token'>)</span>
      <span class='y identifier id'>y</span> <span class='lshft op'>&lt;&lt;</span> <span class='r identifier id'>r</span> <span class='unless unless_mod kw'>unless</span> <span class='trash identifier id'>trash</span> <span class='eq op'>==</span> <span class='r identifier id'>r</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='r identifier id'>r</span><span class='bitor op'>|</span>
      <span class='y identifier id'>y</span> <span class='lshft op'>&lt;&lt;</span> <span class='r identifier id'>r</span> <span class='unless unless_mod kw'>unless</span> <span class='trash identifier id'>trash</span> <span class='eq op'>==</span> <span class='r identifier id'>r</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='y identifier id'>y</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>divide</h3>
</div><div id="divide-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>divide</span><span class='args'>(pattern)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Divide on matching pattern.
</p>
<pre class="code">
  <span class='lbrack token'>[</span><span class='string val'>'a1'</span><span class='comma token'>,</span><span class='string val'>'b1'</span><span class='comma token'>,</span><span class='string val'>'a2'</span><span class='comma token'>,</span><span class='string val'>'b2'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='divide identifier id'>divide</span><span class='lparen token'>(</span><span class='regexp val'>/^a/</span><span class='rparen token'>)</span>
  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lbrack token'>[</span><span class='string val'>'a1,'</span><span class='b1 identifier id'>b1</span><span class='string val'>'],['</span><span class='a2 identifier id'>a2</span><span class='string val'>','</span><span class='b2 identifier id'>b2</span><span class='string val'>']]
</span></pre>
<p>
CREDIT: Trans
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/divide.rb', line 10</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/divide.rb#L10">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">10
11
12
13
14
15
16
17</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='divide identifier id'>divide</span><span class='lparen token'>(</span><span class='pattern identifier id'>pattern</span><span class='rparen token'>)</span>
  <span class='memo identifier id'>memo</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='obj identifier id'>obj</span><span class='bitor op'>|</span>
    <span class='memo identifier id'>memo</span><span class='dot token'>.</span><span class='push identifier id'>push</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='pattern identifier id'>pattern</span> <span class='eqq op'>===</span> <span class='obj identifier id'>obj</span>
    <span class='memo identifier id'>memo</span><span class='dot token'>.</span><span class='last identifier id'>last</span> <span class='lshft op'>&lt;&lt;</span> <span class='obj identifier id'>obj</span>
  <span class='end end kw'>end</span>
  <span class='memo identifier id'>memo</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>each_by</h3>
</div><div id="each_by-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>each_by</span><span class='args'>(steps = nil, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Iterate through slices. If slice <tt>steps</tt> is not given, the arity of
the block is used.
</p>
<pre class="code">
  <span class='x identifier id'>x</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each_by identifier id'>each_by</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='comma token'>,</span><span class='b identifier id'>b</span><span class='bitor op'>|</span> <span class='x identifier id'>x</span> <span class='lshft op'>&lt;&lt;</span> <span class='lbrack token'>[</span><span class='a identifier id'>a</span><span class='comma token'>,</span><span class='b identifier id'>b</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
  <span class='x identifier id'>x</span>  <span class='comment val'>#=&gt; [ [1,2], [3,4] ]</span>

  <span class='x identifier id'>x</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='comma token'>,</span><span class='integer val'>6</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each_by identifier id'>each_by</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='rparen token'>)</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='x identifier id'>x</span> <span class='lshft op'>&lt;&lt;</span> <span class='a identifier id'>a</span> <span class='rbrace token'>}</span>
  <span class='x identifier id'>x</span>  <span class='comment val'>#=&gt; [ [1,2,3], [4,5,6] ]</span>
</pre>
<p>
This is just like each_slice, except that it will check the arity of the
block. If each_slice ever suppots this this method can be deprecated.
</p>
<p>
CREDIT: Trans
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/each_by.rb', line 22</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/each_by.rb#L22">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">22
23
24
25
26
27
28
29
30</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='each_by identifier id'>each_by</span><span class='lparen token'>(</span><span class='steps identifier id'>steps</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='steps identifier id'>steps</span>
    <span class='each_slice identifier id'>each_slice</span><span class='lparen token'>(</span><span class='steps identifier id'>steps</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='steps identifier id'>steps</span> <span class='assign token'>=</span> <span class='block identifier id'>block</span><span class='dot token'>.</span><span class='arity identifier id'>arity</span><span class='dot token'>.</span><span class='abs identifier id'>abs</span>
    <span class='each_slice identifier id'>each_slice</span><span class='lparen token'>(</span><span class='steps identifier id'>steps</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='comment val'>#each_slice(steps) {|i| block.call(*i)}</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>elementwise</h3>
</div><div id="elementwise-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>elementwise</span><span class='args'>(count = 1)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="ewise-instance_method">ewise</tt>
  
</p>
</div><div class="section docstring">
  <p>
Returns an elementwise Functor designed to make R-like elementwise
operations possible.
</p>
<pre class="code">
  <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='elementwise identifier id'>elementwise</span> <span class='plus op'>+</span> <span class='integer val'>3</span>          <span class='comment val'>#=&gt; [4,5]</span>
  <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='elementwise identifier id'>elementwise</span> <span class='plus op'>+</span> <span class='lbrack token'>[</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='rbrack token'>]</span>      <span class='comment val'>#=&gt; [5,7]</span>
  <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='elementwise identifier id'>elementwise</span> <span class='plus op'>+</span> <span class='lbrack token'>[</span><span class='lbrack token'>[</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span>  <span class='comment val'>#=&gt; [[5,7],[4,5]</span>
</pre>
<p>
&#8212; Special thanks to Martin DeMello for helping to develop this. ++
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/elementwise.rb', line 16</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/elementwise.rb#L16">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='elementwise identifier id'>elementwise</span><span class='lparen token'>(</span><span class='count identifier id'>count</span><span class='assign token'>=</span><span class='integer val'>1</span><span class='rparen token'>)</span>
  <span class='@_elementwise_functor ivar id'>@_elementwise_functor</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@_elementwise_functor ivar id'>@_elementwise_functor</span><span class='lbrack token'>[</span><span class='count identifier id'>count</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='Functor constant id'>Functor</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='op identifier id'>op</span><span class='comma token'>,</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
      <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='self self kw'>self</span>
      <span class='count identifier id'>count</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='do do kw'>do</span>
        <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='r identifier id'>r</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='op identifier id'>op</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
      <span class='end end kw'>end</span>
      <span class='r identifier id'>r</span>
    <span class='else else kw'>else</span>
      <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='arg identifier id'>arg</span><span class='bitor op'>|</span>
        <span class='if if kw'>if</span> <span class='Array constant id'>Array</span> <span class='eqq op'>===</span> <span class='arg identifier id'>arg</span> <span class='comment val'>#arg.kind_of?(Enumerable)</span>
          <span class='x identifier id'>x</span> <span class='assign token'>=</span> <span class='self self kw'>self</span>
          <span class='count identifier id'>count</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='do do kw'>do</span>
            <span class='ln identifier id'>ln</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='gt op'>&gt;</span> <span class='length identifier id'>length</span> <span class='integer val'>? </span><span class='length identifier id'>length</span> <span class='colon op'>:</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='rparen token'>)</span>
            <span class='x identifier id'>x</span> <span class='assign token'>=</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='slice identifier id'>slice</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='dot3 op'>...</span><span class='ln identifier id'>ln</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='zip identifier id'>zip</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot3 op'>...</span><span class='ln identifier id'>ln</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='comma token'>,</span><span class='b identifier id'>b</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='op identifier id'>op</span><span class='comma token'>,</span><span class='b identifier id'>b</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
            <span class='comment val'>#slice(0...ln).zip(arg[0...1n]).collect{ |a,b| b ? a.send(op,b) : nil }</span>
          <span class='end end kw'>end</span>
          <span class='x identifier id'>x</span>
        <span class='else else kw'>else</span>
          <span class='x identifier id'>x</span> <span class='assign token'>=</span> <span class='self self kw'>self</span>
          <span class='count identifier id'>count</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='do do kw'>do</span>
            <span class='x identifier id'>x</span> <span class='assign token'>=</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='op identifier id'>op</span><span class='comma token'>,</span><span class='arg identifier id'>arg</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
          <span class='end end kw'>end</span>
          <span class='x identifier id'>x</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
      <span class='r identifier id'>r</span><span class='dot token'>.</span><span class='flatten! fid id'>flatten!</span> <span class='if if_mod kw'>if</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='eq op'>==</span> <span class='integer val'>1</span>
      <span class='r identifier id'>r</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>entropy</h3>
</div><div id="entropy-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>entropy</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Shannon&#8217;s entropy for an array - returns the average bits per symbol
required to encode the array. Lower values mean less &quot;entropy&quot; -
i.e. less unique information in the array.
</p>
<pre class="code">
  <span class='dstring node'>%w{ a b c d e e e }</span><span class='dot token'>.</span><span class='entropy identifier id'>entropy</span>  <span class='comment val'>#=&gt;</span>
</pre>
<p>
CREDIT: Derek
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/entropy.rb', line 14</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/entropy.rb#L14">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">14
15
16
17
18
19
20
21
22</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='entropy identifier id'>entropy</span>
  <span class='arr identifier id'>arr</span> <span class='assign token'>=</span> <span class='to_a identifier id'>to_a</span>
  <span class='probHash identifier id'>probHash</span> <span class='assign token'>=</span> <span class='arr identifier id'>arr</span><span class='dot token'>.</span><span class='probability identifier id'>probability</span>
  <span class='comment val'># h is the Shannon entropy of the array</span>
  <span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='float val'>-1</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span> <span class='mult op'>*</span> <span class='probHash identifier id'>probHash</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='sum identifier id'>sum</span><span class='comma token'>,</span> <span class='i identifier id'>i</span><span class='bitor op'>|</span>
    <span class='sum identifier id'>sum</span> <span class='plus op'>+</span> <span class='lparen token'>(</span><span class='probHash identifier id'>probHash</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='mult op'>*</span> <span class='lparen token'>(</span><span class='Math constant id'>Math</span><span class='dot token'>.</span><span class='log identifier id'>log</span><span class='lparen token'>(</span><span class='probHash identifier id'>probHash</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='div op'>/</span><span class='Math constant id'>Math</span><span class='dot token'>.</span><span class='log identifier id'>log</span><span class='lparen token'>(</span><span class='float val'>2</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='h identifier id'>h</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>every</h3>
</div><div id="every-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>every</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns an elemental object. This allows you to map a method on to every
element.
</p>
<pre class="code">
  <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='every identifier id'>every</span> <span class='plus op'>+</span> <span class='integer val'>3</span>  <span class='comment val'>#=&gt; [4,5,6]</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/every.rb', line 10</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/every.rb#L10">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">10
11
12</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='every identifier id'>every</span>
  <span class='@_every ivar id'>@_every</span> <span class='opasgn op'>||=</span> <span class='per identifier id'>per</span><span class='lparen token'>(</span><span class='symbol val'>:map</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>every!</h3>
</div><div id="every-21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>every!</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
In place version of #every.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>NoMethodError</tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/every.rb', line 16</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/every.rb#L16">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">16
17
18
19</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='every! fid id'>every!</span>
  <span class='raise identifier id'>raise</span> <span class='NoMethodError constant id'>NoMethodError</span> <span class='unless unless_mod kw'>unless</span> <span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:map!</span><span class='rparen token'>)</span>
  <span class='@_every_inplace ivar id'>@_every_inplace</span> <span class='opasgn op'>||=</span> <span class='per identifier id'>per</span><span class='lparen token'>(</span><span class='symbol val'>:map!</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>filter</h3>
</div><div id="filter-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>filter</span><span class='args'>(&amp;blk)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Without a block: wrap the Enumerable object in such a way that map, select
and similar operations are performed &quot;horizontally&quot; across a
series of blocks, instead of building an array of results at each step.
This reduces memory usage, allows partial results to be provided early, and
permits working with infinite series.
</p>
<pre class="code">
  <span class='lparen token'>(</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>1_000_000_000</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='filter identifier id'>filter</span><span class='dot token'>.</span><span class='select identifier id'>select</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='i identifier id'>i</span> <span class='mod op'>%</span> <span class='integer val'>2</span> <span class='eq op'>==</span> <span class='integer val'>0</span> <span class='rbrace token'>}</span><span class='dot token'>.</span>
                            <span class='map identifier id'>map</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='i identifier id'>i</span> <span class='plus op'>+</span> <span class='integer val'>100</span> <span class='rbrace token'>}</span><span class='dot token'>.</span>
                            <span class='take identifier id'>take</span><span class='lparen token'>(</span><span class='integer val'>10</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_a identifier id'>to_a</span>
</pre>
<p>
With a block: the block acts as an arbitrary filter on the data. Unlike
map, it can choose to drop elements from the result, and/or add additional
ones. The first object passed to the block is the receiver of the output.
</p>
<pre class="code">
  <span class='lparen token'>(</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>1_000_000_000</span><span class='rparen token'>)</span><span class='dot token'>.</span>
    <span class='filter identifier id'>filter</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='out identifier id'>out</span><span class='comma token'>,</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='out identifier id'>out</span> <span class='lshft op'>&lt;&lt;</span> <span class='i identifier id'>i</span> <span class='if if_mod kw'>if</span> <span class='i identifier id'>i</span> <span class='mod op'>%</span> <span class='integer val'>2</span> <span class='eq op'>==</span> <span class='integer val'>0</span> <span class='rbrace token'>}</span><span class='dot token'>.</span>  <span class='comment val'># like select</span>
    <span class='filter identifier id'>filter</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='out identifier id'>out</span><span class='comma token'>,</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='out identifier id'>out</span> <span class='lshft op'>&lt;&lt;</span> <span class='i identifier id'>i</span> <span class='plus op'>+</span> <span class='integer val'>100</span> <span class='rbrace token'>}</span><span class='dot token'>.</span>          <span class='comment val'># like map</span>
    <span class='take identifier id'>take</span><span class='lparen token'>(</span><span class='integer val'>10</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='puts identifier id'>puts</span> <span class='i identifier id'>i</span> <span class='rbrace token'>}</span>
</pre>
<p>
Use a method like to_a or to_h at the end of the chain if you want an Array
or Hash built with the results, or each { &#8230; } if you just want to
output each result and discard it.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/filter.rb', line 30</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/filter.rb#L30">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">30
31
32
33
34
35
36
37
38
39
40
41
42
43
44</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='filter identifier id'>filter</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='Enumerator constant id'>Enumerator</span><span class='colon2 op'>::</span><span class='Filter constant id'>Filter</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='output identifier id'>output</span><span class='bitor op'>|</span>
      <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='mult op'>*</span><span class='input identifier id'>input</span><span class='bitor op'>|</span>
        <span class='yield yield kw'>yield</span> <span class='output identifier id'>output</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='input identifier id'>input</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='Enumerator constant id'>Enumerator</span><span class='colon2 op'>::</span><span class='Filter constant id'>Filter</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='output identifier id'>output</span><span class='bitor op'>|</span>
      <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='mult op'>*</span><span class='input identifier id'>input</span><span class='bitor op'>|</span>
        <span class='output identifier id'>output</span><span class='dot token'>.</span><span class='yield identifier id'>yield</span> <span class='mult op'>*</span><span class='input identifier id'>input</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>frequency</h3>
</div><div id="frequency-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>frequency</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Generates a hash mapping each unique symbol in the array to the absolute
frequency it appears.
</p>
<p>
CREDIT: Brian Schröder
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/frequency.rb', line 8</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/frequency.rb#L8">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">8
9
10
11
12
13
14
15</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='frequency identifier id'>frequency</span>
  <span class='comment val'>#probs = Hash.new(0)</span>
  <span class='comment val'>#each do |e|</span>
  <span class='comment val'>#  probs[e] += 1</span>
  <span class='comment val'>#end</span>
  <span class='comment val'>#probs</span>
  <span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='h identifier id'>h</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='v identifier id'>v</span><span class='rbrack token'>]</span><span class='opasgn op'>+=</span><span class='integer val'>1</span><span class='semicolon token'>;</span> <span class='h identifier id'>h</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>ideal_entropy</h3>
</div><div id="ideal_entropy-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>ideal_entropy</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the maximum possible Shannon entropy of the array with given size
assuming that it is an &quot;order-0&quot; source (each element is selected
independently of the next).
</p>
<p>
CREDIT: Derek
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/entropy.rb', line 30</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/entropy.rb#L30">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">30
31
32
33
34</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='ideal_entropy identifier id'>ideal_entropy</span>
  <span class='arr identifier id'>arr</span> <span class='assign token'>=</span> <span class='to_a identifier id'>to_a</span>
  <span class='unitProb identifier id'>unitProb</span> <span class='assign token'>=</span> <span class='float val'>1.0</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span> <span class='div op'>/</span> <span class='arr identifier id'>arr</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span>
  <span class='lparen token'>(</span><span class='float val'>-1</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span> <span class='mult op'>*</span> <span class='arr identifier id'>arr</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span> <span class='mult op'>*</span> <span class='unitProb identifier id'>unitProb</span> <span class='mult op'>*</span> <span class='Math constant id'>Math</span><span class='dot token'>.</span><span class='log identifier id'>log</span><span class='lparen token'>(</span><span class='unitProb identifier id'>unitProb</span><span class='rparen token'>)</span><span class='div op'>/</span><span class='Math constant id'>Math</span><span class='dot token'>.</span><span class='log identifier id'>log</span><span class='lparen token'>(</span><span class='float val'>2</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>inject!</h3>
</div><div id="inject-21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>inject!</span><span class='args'>(s)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
A small variation of #Inject that save one from having to return the
aggregating or memo argument.
</p>
<p>
Say you want to count letters.
</p>
<pre class="code">
   <span class='some_text identifier id'>some_text</span><span class='dot token'>.</span><span class='inject! fid id'>inject!</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='h identifier id'>h</span><span class='comma token'>,</span><span class='l identifier id'>l</span><span class='bitor op'>|</span> <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='l identifier id'>l</span><span class='rbrack token'>]</span> <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='geq op'>&gt;=</span> <span class='integer val'>1</span><span class='rbrace token'>}</span>
</pre>
<p>
vs
</p>
<pre class="code">
   <span class='some_text identifier id'>some_text</span><span class='dot token'>.</span><span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='h identifier id'>h</span><span class='comma token'>,</span><span class='l identifier id'>l</span><span class='bitor op'>|</span> <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='l identifier id'>l</span><span class='rbrack token'>]</span> <span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;=1; h}
</span></pre>
<p>
CREDIT: David Black, Louis J Scoras
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/inject.rb', line 16</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/inject.rb#L16">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">16
17
18
19
20</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='inject! fid id'>inject!</span><span class='lparen token'>(</span><span class='s identifier id'>s</span><span class='rparen token'>)</span>
  <span class='k identifier id'>k</span> <span class='assign token'>=</span> <span class='s identifier id'>s</span>
  <span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='comma token'>,</span> <span class='i identifier id'>i</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='k identifier id'>k</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>map_send</h3>
</div><div id="map_send-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>map_send</span><span class='args'>(meth, *args, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Send a message to each element and collect the result.
</p>
<p>
CREDIT: Sean O&#8217;Halpin
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/map_send.rb', line 7</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/map_send.rb#L7">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">7
8
9</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='map_send identifier id'>map_send</span><span class='lparen token'>(</span><span class='meth identifier id'>meth</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='map identifier id'>map</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='meth identifier id'>meth</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>map_with_index</h3>
</div><div id="map_with_index-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>map_with_index</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="collect_with_index-instance_method">collect_with_index</tt>
  
</p>
</div><div class="section docstring">
  <p>
Same as #collect but with an iteration counter.
</p>
<pre class="code">
  <span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='collect_with_index identifier id'>collect_with_index</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='comma token'>,</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='e identifier id'>e</span><span class='mult op'>*</span><span class='i identifier id'>i</span> <span class='rbrace token'>}</span>
  <span class='a identifier id'>a</span>  <span class='comment val'>#=&gt; [0,2,6]</span>
</pre>
<p>
CREDIT: Gavin Sinclair
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/map_with_index.rb', line 10</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/map_with_index.rb#L10">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">10
11
12
13
14
15
16</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='map_with_index identifier id'>map_with_index</span>
  <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='each_index identifier id'>each_index</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
    <span class='r identifier id'>r</span> <span class='lshft op'>&lt;&lt;</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='i identifier id'>i</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='r identifier id'>r</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>mash</h3>
</div><div id="mash-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>mash</span><span class='args'>(&amp;yld)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="graph-instance_method">graph</tt>
  
</p>
</div><div class="section docstring">
  <p>
Like <tt>#map</tt>/<tt>#collect</tt>, but generates a Hash. The block is
expected to return two values: the key and the value for the new hash.
</p>
<pre class="code">
  <span class='numbers identifier id'>numbers</span>  <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>3</span><span class='rparen token'>)</span>
  <span class='squares identifier id'>squares</span>  <span class='assign token'>=</span> <span class='numbers identifier id'>numbers</span><span class='dot token'>.</span><span class='mash identifier id'>mash</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='n identifier id'>n</span><span class='bitor op'>|</span> <span class='lbrack token'>[</span><span class='n identifier id'>n</span><span class='comma token'>,</span> <span class='n identifier id'>n</span><span class='mult op'>*</span><span class='n identifier id'>n</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>   <span class='comment val'># { 1=&gt;1, 2=&gt;4, 3=&gt;9 }</span>
  <span class='sq_roots identifier id'>sq_roots</span> <span class='assign token'>=</span> <span class='numbers identifier id'>numbers</span><span class='dot token'>.</span><span class='mash identifier id'>mash</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='n identifier id'>n</span><span class='bitor op'>|</span> <span class='lbrack token'>[</span><span class='n identifier id'>n</span><span class='mult op'>*</span><span class='n identifier id'>n</span><span class='comma token'>,</span> <span class='n identifier id'>n</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>   <span class='comment val'># { 1=&gt;1, 4=&gt;2, 9=&gt;3 }</span>
</pre>
<p>
The name &quot;mash&quot; stands for &quot;map hash&quot;.
</p>
<p>
CREDIT: Andrew Dudzik (adudzik), Trans
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/mash.rb', line 14</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/mash.rb#L14">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">14
15
16
17
18
19
20
21
22
23
24
25</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='mash identifier id'>mash</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='yld identifier id'>yld</span>
    <span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='h identifier id'>h</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='kv identifier id'>kv</span><span class='bitor op'>|</span> <span class='comment val'># Used to be inject({}) do |h,kv|</span>
      <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='mult op'>*</span><span class='yld identifier id'>yld</span><span class='lbrack token'>[</span><span class='mult op'>*</span><span class='kv identifier id'>kv</span><span class='rbrack token'>]</span>        <span class='comment val'># The *-op works differnt from to_a on single element hash!!!</span>
      <span class='nk identifier id'>nk</span><span class='comma token'>,</span> <span class='nv identifier id'>nv</span> <span class='assign token'>=</span> <span class='mult op'>*</span><span class='r identifier id'>r</span>          <span class='comment val'># Used to be nk, nv = *yld[*kv].to_a.flatten</span>
      <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='nk identifier id'>nk</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='nv identifier id'>nv</span>
      <span class='h identifier id'>h</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='Enumerator constant id'>Enumerator</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span><span class='symbol val'>:graph</span><span class='rparen token'>)</span>  <span class='comment val'># Used to be Hash[*self.to_a] or Hash[*self.to_a.flatten]</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>mode</h3>
</div><div id="mode-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>mode</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
In Statistics mode is the value that occurs most frequently in a given set
of data.
</p>
<p>
CREDIT: Robert Klemme
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/mode.rb', line 8</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/mode.rb#L8">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">8
9
10
11
12
13</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='mode identifier id'>mode</span>
  <span class='max identifier id'>max</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='c identifier id'>c</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='integer val'>0</span>
  <span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='cc identifier id'>cc</span> <span class='assign token'>=</span> <span class='c identifier id'>c</span><span class='lbrack token'>[</span><span class='x identifier id'>x</span><span class='rbrack token'>]</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span><span class='semicolon token'>;</span> <span class='max identifier id'>max</span> <span class='assign token'>=</span> <span class='cc identifier id'>cc</span> <span class='if if_mod kw'>if</span> <span class='cc identifier id'>cc</span> <span class='gt op'>&gt;</span> <span class='max identifier id'>max</span><span class='rbrace token'>}</span>
  <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='select identifier id'>select</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='v identifier id'>v</span> <span class='eq op'>==</span> <span class='max identifier id'>max</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='k identifier id'>k</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>modulate</h3>
</div><div id="modulate-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>modulate</span><span class='args'>(modulo)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Modulate. Divide an array into groups by modulo of the index.
</p>
<p>
[2,4,6,8].modulate(2) #=&gt; [[2,6],[4,8]]
</p>
<p>
CREDIT: Trans
</p>
<p>
NOTE: Would the better name for this be &#8216;collate&#8217;?
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>ArgumentError</tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/modulate.rb', line 11</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/modulate.rb#L11">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">11
12
13
14
15
16
17
18
19</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='modulate identifier id'>modulate</span><span class='lparen token'>(</span><span class='modulo identifier id'>modulo</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='to_a identifier id'>to_a</span> <span class='if if_mod kw'>if</span> <span class='modulo identifier id'>modulo</span> <span class='eq op'>==</span> <span class='integer val'>1</span>
  <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>'bad modulo'</span> <span class='if if_mod kw'>if</span> <span class='size identifier id'>size</span> <span class='mod op'>%</span> <span class='modulo identifier id'>modulo</span> <span class='neq op'>!=</span> <span class='integer val'>0</span>
  <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='modulo identifier id'>modulo</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='lparen token'>(</span><span class='integer val'>0</span><span class='dot3 op'>...</span><span class='size identifier id'>size</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
    <span class='r identifier id'>r</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span> <span class='mod op'>%</span> <span class='modulo identifier id'>modulo</span><span class='rbrack token'>]</span> <span class='opasgn op'>+=</span> <span class='lbrack token'>[</span><span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>
  <span class='r identifier id'>r</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>nonuniq</h3>
</div><div id="nonuniq-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>nonuniq</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="duplicates-instance_method">duplicates</tt>
  
</p>
</div><div class="section docstring">
  <p>
Returns a list on non-unique,
</p>
<pre class="code">
  <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='nonuniq identifier id'>nonuniq</span>  <span class='comment val'>#=&gt; [1,2]</span>
</pre>
<p>
CREDIT: Martin DeMello
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/duplicates.rb', line 9</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/duplicates.rb#L9">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">9
10
11
12
13
14
15
16
17</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='nonuniq identifier id'>nonuniq</span>
  <span class='h1 identifier id'>h1</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='h2 identifier id'>h2</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
    <span class='h2 identifier id'>h2</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='h1 identifier id'>h1</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span>
    <span class='h1 identifier id'>h1</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
  <span class='rbrace token'>}</span>
  <span class='h2 identifier id'>h2</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>occur</h3>
</div><div id="occur-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>occur</span><span class='args'>(n = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns an array of elements for the elements that occur n times. Or
according to the results of a given block.
</p>
<pre class="code">
  <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='occur identifier id'>occur</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span>             <span class='comment val'>#=&gt; [2,4]</span>
  <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='occur identifier id'>occur</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span>             <span class='comment val'>#=&gt; [1,3,5]</span>
  <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='occur identifier id'>occur</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='rparen token'>)</span>             <span class='comment val'>#=&gt; []</span>

  <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='occur identifier id'>occur</span><span class='lparen token'>(</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>1</span><span class='rparen token'>)</span>              <span class='comment val'>#=&gt; [1]</span>
  <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='occur identifier id'>occur</span><span class='lparen token'>(</span><span class='float val'>2</span><span class='dot2 op'>..</span><span class='integer val'>3</span><span class='rparen token'>)</span>              <span class='comment val'>#=&gt; [2,3]</span>

  <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='occur identifier id'>occur</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='n identifier id'>n</span><span class='bitor op'>|</span> <span class='n identifier id'>n</span> <span class='eq op'>==</span> <span class='integer val'>1</span> <span class='rbrace token'>}</span> <span class='comment val'>#=&gt; [2,4]</span>
  <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='occur identifier id'>occur</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='n identifier id'>n</span><span class='bitor op'>|</span> <span class='n identifier id'>n</span> <span class='gt op'>&gt;</span> <span class='integer val'>1</span> <span class='rbrace token'>}</span>  <span class='comment val'>#=&gt; [1,3,5]</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/occur.rb', line 16</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/occur.rb#L16">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='occur identifier id'>occur</span><span class='lparen token'>(</span><span class='n identifier id'>n</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span> <span class='comment val'>#:yield:</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='hash identifier id'>hash</span><span class='comma token'>,</span> <span class='key identifier id'>key</span><span class='bitor op'>|</span> <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='rbrace token'>}</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='item identifier id'>item</span><span class='bitor op'>|</span>
    <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='item identifier id'>item</span>
    <span class='result identifier id'>result</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='lshft op'>&lt;&lt;</span> <span class='item identifier id'>item</span>
  <span class='end end kw'>end</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='reject! fid id'>reject!</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='values identifier id'>values</span><span class='bitor op'>|</span> <span class='notop op'>!</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='values identifier id'>values</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='else else kw'>else</span>
    <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span> <span class='unless unless_mod kw'>unless</span> <span class='n identifier id'>n</span>
    <span class='if if kw'>if</span> <span class='Range constant id'>Range</span> <span class='eqq op'>===</span> <span class='n identifier id'>n</span>
      <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='reject! fid id'>reject!</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='values identifier id'>values</span><span class='bitor op'>|</span> <span class='notop op'>!</span> <span class='n identifier id'>n</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='values identifier id'>values</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='else else kw'>else</span>
      <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='reject! fid id'>reject!</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='values identifier id'>values</span><span class='bitor op'>|</span> <span class='values identifier id'>values</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='neq op'>!=</span> <span class='n identifier id'>n</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='return return kw'>return</span> <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='values identifier id'>values</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='dot token'>.</span><span class='uniq identifier id'>uniq</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>per</h3>
</div><div id="per-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>per</span><span class='args'>(enum_method = nil, *enum_args)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Per element meta-functor.
</p>
<pre class="code">
  <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='per identifier id'>per</span> <span class='plus op'>+</span> <span class='integer val'>3</span>             <span class='comment val'>#=&gt; [4,5,6]</span>
  <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='per identifier id'>per</span><span class='lparen token'>(</span><span class='symbol val'>:map</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='integer val'>3</span>       <span class='comment val'>#=&gt; [4,5,6]</span>
  <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='per identifier id'>per</span><span class='lparen token'>(</span><span class='symbol val'>:select</span><span class='rparen token'>)</span> <span class='gt op'>&gt;</span> <span class='integer val'>1</span>    <span class='comment val'>#=&gt; [2,3]</span>

  <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='per identifier id'>per</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='plus op'>+</span> <span class='integer val'>3</span>       <span class='comment val'>#=&gt; [4,5,6]</span>
  <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='per identifier id'>per</span><span class='dot token'>.</span><span class='select identifier id'>select</span> <span class='gt op'>&gt;</span> <span class='integer val'>1</span>    <span class='comment val'>#=&gt; [2,3]</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/per.rb', line 14</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/per.rb#L14">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='per identifier id'>per</span><span class='lparen token'>(</span><span class='enum_method identifier id'>enum_method</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='enum_args identifier id'>enum_args</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='enum_method identifier id'>enum_method</span>
    <span class='Permeator constant id'>Permeator</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='enum_method identifier id'>enum_method</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='enum_args identifier id'>enum_args</span><span class='rparen token'>)</span>
    <span class='comment val'>#Functor.new do |op, *args|</span>
    <span class='comment val'>#  __send__(enum_method, *enum_args){ |x| x.__send__(op, *args) } #, &amp;blk) }</span>
    <span class='comment val'>#end</span>
  <span class='else else kw'>else</span>
    <span class='@__per__ ivar id'>@__per__</span> <span class='opasgn op'>||=</span> <span class='Functor constant id'>Functor</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='enum_method identifier id'>enum_method</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='enum_args identifier id'>enum_args</span><span class='bitor op'>|</span>
      <span class='Permeator constant id'>Permeator</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='enum_method identifier id'>enum_method</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='enum_args identifier id'>enum_args</span><span class='rparen token'>)</span>
      <span class='comment val'>#Functor.new do |op, *args|</span>
      <span class='comment val'>#  __send__(enum_method, *enum_args){ |x| x.__send__(op, *args) } #, &amp;blk) }</span>
      <span class='comment val'>#end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>probability</h3>
</div><div id="probability-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>probability</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Generates a hash mapping each unique element in the array to the relative
frequency, i.e. the probablity, of it appearence.
</p>
<p>
CREDIT: Brian Schröder
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/probability.rb', line 9</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/probability.rb#L9">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">9
10
11
12
13
14
15
16
17
18</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='probability identifier id'>probability</span>
  <span class='probs identifier id'>probs</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='integer val'>.0</span><span class='rparen token'>)</span>
  <span class='size identifier id'>size</span> <span class='assign token'>=</span> <span class='integer val'>0</span><span class='integer val'>.0</span>
  <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span> <span class='e identifier id'>e</span> <span class='bitor op'>|</span>
    <span class='probs identifier id'>probs</span><span class='lbrack token'>[</span><span class='e identifier id'>e</span><span class='rbrack token'>]</span> <span class='opasgn op'>+=</span> <span class='float val'>1.0</span>
    <span class='size identifier id'>size</span> <span class='opasgn op'>+=</span> <span class='float val'>1.0</span>
  <span class='end end kw'>end</span>
  <span class='probs identifier id'>probs</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='probs identifier id'>probs</span><span class='lbrack token'>[</span><span class='e identifier id'>e</span><span class='rbrack token'>]</span> <span class='opasgn op'>/=</span> <span class='size identifier id'>size</span> <span class='rbrace token'>}</span>
  <span class='probs identifier id'>probs</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>split</h3>
</div><div id="split-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>split</span><span class='args'>(pattern)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Split on matching pattern. Unlike #divide this does not include matching
elements.
</p>
<pre class="code">
  <span class='lbrack token'>[</span><span class='string val'>'a1'</span><span class='comma token'>,</span><span class='string val'>'a2'</span><span class='comma token'>,</span><span class='string val'>'b1'</span><span class='comma token'>,</span><span class='string val'>'a3'</span><span class='comma token'>,</span><span class='string val'>'b2'</span><span class='comma token'>,</span><span class='string val'>'a4'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>/^b/</span><span class='rparen token'>)</span>
  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lbrack token'>[</span><span class='string val'>'a1'</span><span class='comma token'>,</span><span class='string val'>'a2'</span><span class='rbrack token'>]</span><span class='comma token'>,</span><span class='lbrack token'>[</span><span class='string val'>'a3'</span><span class='rbrack token'>]</span><span class='comma token'>,</span><span class='lbrack token'>[</span><span class='string val'>'a4'</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span>
</pre>
<p>
CREDIT: Trans
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/split.rb', line 10</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/split.rb#L10">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='pattern identifier id'>pattern</span><span class='rparen token'>)</span>
  <span class='memo identifier id'>memo</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='sect identifier id'>sect</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='obj identifier id'>obj</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='pattern identifier id'>pattern</span> <span class='eqq op'>===</span> <span class='obj identifier id'>obj</span>
      <span class='memo identifier id'>memo</span> <span class='lshft op'>&lt;&lt;</span> <span class='sect identifier id'>sect</span>
      <span class='sect identifier id'>sect</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='else else kw'>else</span>
      <span class='sect identifier id'>sect</span> <span class='lshft op'>&lt;&lt;</span> <span class='obj identifier id'>obj</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='memo identifier id'>memo</span> <span class='lshft op'>&lt;&lt;</span> <span class='sect identifier id'>sect</span>
  <span class='memo identifier id'>memo</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span> <span class='while while_mod kw'>while</span> <span class='memo identifier id'>memo</span><span class='dot token'>.</span><span class='last identifier id'>last</span> <span class='eq op'>==</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='memo identifier id'>memo</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>sum</h3>
</div><div id="sum-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>sum</span><span class='args'>(identity = 0, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Uses #+ to sum the enumerated elements.
</p>
<pre class="code">
  <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='sum identifier id'>sum</span>  <span class='comment val'>#=&gt; 6</span>
  <span class='lbrack token'>[</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='sum identifier id'>sum</span>  <span class='comment val'>#=&gt; 9</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/sum.rb', line 8</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/sum.rb#L8">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">8
9
10
11
12
13
14</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='sum identifier id'>sum</span><span class='lparen token'>(</span><span class='identity identifier id'>identity</span> <span class='assign token'>=</span> <span class='integer val'>0</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='map identifier id'>map</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='sum identifier id'>sum</span>
  <span class='else else kw'>else</span>
    <span class='inject identifier id'>inject</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='sum identifier id'>sum</span><span class='comma token'>,</span> <span class='element identifier id'>element</span><span class='bitor op'>|</span> <span class='sum identifier id'>sum</span> <span class='plus op'>+</span> <span class='element identifier id'>element</span> <span class='rbrace token'>}</span> <span class='orop op'>||</span> <span class='identity identifier id'>identity</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>threaded_map</h3>
</div><div id="threaded_map-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>threaded_map</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Like Enumerable#map but each iteration is processed via a separate thread.
</p>
<p>
CREDIT Sean O&#8217;Halpin
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/lore/facets/thread.rb', line 37</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/lore/facets/thread.rb#L37">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">37
38
39</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='threaded_map identifier id'>threaded_map</span> 
  <span class='map identifier id'>map</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='Thread constant id'>Thread</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='e identifier id'>e</span><span class='rparen token'>)</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='t identifier id'>t</span><span class='bitor op'>|</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='t identifier id'>t</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='t identifier id'>t</span><span class='bitor op'>|</span> <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='value identifier id'>value</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>threaded_map_send</h3>
</div><div id="threaded_map_send-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>threaded_map_send</span><span class='args'>(meth, *args, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Like Enumerable#map_send but each iteration is processed via a separate
thread.
</p>
<p>
CREDIT Sean O&#8217;Halpin
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/lore/facets/thread.rb', line 46</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/lore/facets/thread.rb#L46">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">46
47
48</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='threaded_map_send identifier id'>threaded_map_send</span><span class='lparen token'>(</span><span class='meth identifier id'>meth</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='map identifier id'>map</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='Thread constant id'>Thread</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='e identifier id'>e</span><span class='rparen token'>)</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='t identifier id'>t</span><span class='bitor op'>|</span> <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='meth identifier id'>meth</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='t identifier id'>t</span><span class='bitor op'>|</span> <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='value identifier id'>value</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_h</h3>
</div><div id="to_h-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_h</span><span class='args'>(mode = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Convert an Enumerable object into a hash by first turning it into an array.
</p>
<p>
CREDIT: Trans
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/to_hash.rb', line 226</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/to_hash.rb#L226">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">226
227
228</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_h identifier id'>to_h</span><span class='lparen token'>(</span><span class='mode identifier id'>mode</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='to_h identifier id'>to_h</span><span class='lparen token'>(</span><span class='mode identifier id'>mode</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_h_assoc</h3>
</div><div id="to_h_assoc-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_h_assoc</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/to_hash.rb', line 242</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/to_hash.rb#L242">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">242
243
244</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_h_assoc identifier id'>to_h_assoc</span>
  <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='to_h_assoc identifier id'>to_h_assoc</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_h_auto</h3>
</div><div id="to_h_auto-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_h_auto</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/to_hash.rb', line 230</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/to_hash.rb#L230">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">230
231
232</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_h_auto identifier id'>to_h_auto</span>
  <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='to_h_auto identifier id'>to_h_auto</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_h_flat</h3>
</div><div id="to_h_flat-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_h_flat</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/to_hash.rb', line 238</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/to_hash.rb#L238">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">238
239
240</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_h_flat identifier id'>to_h_flat</span>
  <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='to_h_flat identifier id'>to_h_flat</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_h_multi</h3>
</div><div id="to_h_multi-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_h_multi</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/to_hash.rb', line 246</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/to_hash.rb#L246">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">246
247
248</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_h_multi identifier id'>to_h_multi</span>
  <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='to_h_multi identifier id'>to_h_multi</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_h_splat</h3>
</div><div id="to_h_splat-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_h_splat</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/to_hash.rb', line 234</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/to_hash.rb#L234">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">234
235
236</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_h_splat identifier id'>to_h_splat</span>
  <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='to_h_splat identifier id'>to_h_splat</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>uniq_by</h3>
</div><div id="uniq_by-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>uniq_by</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Like #uniq, but determines uniqueness based on a given block.
</p>
<pre class="code">
  <span class='lparen token'>(</span><span class='float val'>-5</span><span class='dot2 op'>..</span><span class='integer val'>5</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='uniq_by identifier id'>uniq_by</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='i identifier id'>i</span><span class='mult op'>*</span><span class='i identifier id'>i</span> <span class='rbrace token'>}</span>
</pre>
<p>
produces
</p>
<pre class="code">
  <span class='lbrack token'>[</span><span class='integer val'>-5</span><span class='comma token'>,</span> <span class='integer val'>-4</span><span class='comma token'>,</span> <span class='integer val'>-3</span><span class='comma token'>,</span> <span class='integer val'>-2</span><span class='comma token'>,</span> <span class='integer val'>-1</span><span class='comma token'>,</span> <span class='integer val'>0</span><span class='rbrack token'>]</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/core/facets/enumerable/uniq_by.rb', line 11</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/core/facets/enumerable/uniq_by.rb#L11">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">11
12
13</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='uniq_by identifier id'>uniq_by</span> 
  <span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='semicolon token'>;</span> <span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='comma token'>,</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='x identifier id'>x</span><span class='rparen token'>)</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='a identifier id'>a</span> <span class='lshft op'>&lt;&lt;</span> <span class='x identifier id'>x</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>