<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>trans's facets - Class: Tuple - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/trans/commits/facets/master" rel="alternate" title="Recent Commits to facets:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("trans", "facets", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("trans", "facets", "6b9e6139658a078c45898dc44a4ecff4c70b3545", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/trans/facets/tree/">Source</a></li>
            <li class=""><a href="http://github.com/trans/facets/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/trans/facets/network">Network</a></li>            
            <li class=""><a href="http://github.com/trans/facets/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/trans/facets">Wiki</a></li>
            <li class=""><a href="http://github.com/trans/facets/graphs">Graphs</a></li>                    
            <li class="active"><a href="/trans/facets">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/trans">trans</a> / <b><a href="http://github.com/trans/facets/tree">facets</a></b>        
                <a id="namespaces_button" rel="trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Tuple">
  <h1>Class: Tuple</h1>
  <div class="section mixins">
  <h2>Included Modules</h2>
  <p><a href="Multiton.html" title="Multiton">Multiton</a>, <a href="Enumerable.html" title="Enumerable">Enumerable</a>, <a href="Comparable.html" title="Comparable">Comparable</a></p>
</div><div class="section docstring">
  <h1>Tuple</h1>
<p>
A tuple can be made using #new or #[] just as one builds an array, or using
the #to_t method on a string or array. With a string tuple remembers the
first non-alphanumeric character as the tuple divider.
</p>
<h2>Usage</h2>
<pre class="code">
  <span class='t1 identifier id'>t1</span> <span class='assign token'>=</span> <span class='Tuple constant id'>Tuple</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span>
  <span class='t2 identifier id'>t2</span> <span class='assign token'>=</span> <span class='Tuple constant id'>Tuple</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='rbrack token'>]</span>

  <span class='t1 identifier id'>t1</span> <span class='lt op'>&lt;</span> <span class='t2 identifier id'>t2</span>   <span class='comment val'>#=&gt; true</span>
  <span class='t1 identifier id'>t1</span> <span class='gt op'>&gt;</span> <span class='t2 identifier id'>t2</span>   <span class='comment val'>#=&gt; false</span>

  <span class='t1 identifier id'>t1</span> <span class='assign token'>=</span> <span class='string val'>'1.2.3'</span><span class='dot token'>.</span><span class='to_t identifier id'>to_t</span>
  <span class='t2 identifier id'>t2</span> <span class='assign token'>=</span> <span class='string val'>'1-2-3'</span><span class='dot token'>.</span><span class='to_t identifier id'>to_t</span>

  <span class='puts identifier id'>puts</span> <span class='t1 identifier id'>t1</span>  <span class='comment val'>#=&gt; 1.2.3</span>
  <span class='puts identifier id'>puts</span> <span class='t2 identifier id'>t2</span>  <span class='comment val'>#=&gt; 1-2-3</span>

  <span class='t1 identifier id'>t1</span> <span class='eq op'>==</span> <span class='t2 identifier id'>t2</span>  <span class='comment val'>#=&gt; true</span>
</pre>
<p>
Keep in mind that Tuple[1,2,3] is not the same as
Tuple[&#8216;1&#8217;,&#8217;2&#8217;,&#8217;3&#8217;].
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">default</td>
          <td class="readwrite">
            [<span id='default-instance_method'>R</span><span id='default=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>default</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(arg = 0, default = 0, &amp;blk)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 95</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L95">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">95
96
97
98
99
100
101
102
103
104
105
106</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='assign token'>=</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='default identifier id'>default</span><span class='assign token'>=</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='@values ivar id'>@values</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='@values ivar id'>@values</span> <span class='lshft op'>&lt;&lt;</span> <span class='blk identifier id'>blk</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
  <span class='elseif identifier id'>elseif</span> <span class='Integer constant id'>Integer</span> <span class='eqq op'>===</span> <span class='arg identifier id'>arg</span>
    <span class='@values ivar id'>@values</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span> <span class='default identifier id'>default</span> <span class='rbrack token'>]</span> <span class='mult op'>*</span> <span class='arg identifier id'>arg</span>
  <span class='else else kw'>else</span>
    <span class='@values ivar id'>@values</span> <span class='assign token'>=</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='to_ary identifier id'>to_ary</span>
  <span class='end end kw'>end</span>
  <span class='@default ivar id'>@default</span> <span class='assign token'>=</span> <span class='default identifier id'>default</span>
  <span class='@divider ivar id'>@divider</span> <span class='assign token'>=</span> <span class='string val'>'.'</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-5B-5D-class_method">[]</span><span class='args'>(*args)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#cast_from_array-class_method">cast_from_array</span><span class='args'>(arr)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#cast_from_string-class_method">cast_from_string</span><span class='args'>(str, &amp;yld)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Translates a string in the form on a set of numerical and/or alphanumerical
characters separated by non-word characters (eg \W+) into a Tuple.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#constraint_to_lambda-class_method">constraint_to_lambda</span><span class='args'>(constraint, &amp;yld)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Parses a constraint returning the operation as a lambda.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#multiton_id-class_method">multiton_id</span><span class='args'>(arg = 0, default = 0, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#parse_constraint-class_method">parse_constraint</span><span class='args'>(constraint, &amp;yld)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-3C-3C-instance_method">#<<</span><span class='args'>(obj)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Unlike Array, Tuple#&lt;&lt; cannot act in place becuase Tuple&#8217;s are
immutable.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-3C-3D-instance_method">#<=</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-3D-7E-instance_method">#=~</span><span class='args'>(other)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
For pessimistic constraint (like &#8217;~&gt;&#8217; in gems).
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-5B-5D-instance_method">#[]</span><span class='args'>(i)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-5B-5D-3D-instance_method">#[]=</span><span class='args'>(i, v)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#divider-instance_method">#divider</span><span class='args'>(set = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#each-instance_method">#each</span><span class='args'>(&amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#each_index-instance_method">#each_index</span><span class='args'>(&amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#empty-3F-instance_method">#empty?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#eql-3F-instance_method">#eql?</span><span class='args'>(other)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns true if two tuple references are for the very same tuple.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#first-instance_method">#first</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#hash-instance_method">#hash</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Unique hash value.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#index-instance_method">#index</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#inspect-instance_method">#inspect</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#last-instance_method">#last</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#length-instance_method">#length</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#major-instance_method">#major</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
These are useful for using a Tuple as a version.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#minor-instance_method">#minor</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#pop-instance_method">#pop</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#pot-instance_method">#pot</span><span class='args'>(obj)</span>
        <span class='block'></span>
        
          <span class='alias'>#unshift</span>
        
      </th>
      <td class="docstring">
        <p>
Stands for &quot;Put On Top&quot;.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#pull-instance_method">#pull</span><span class='args'></span>
        <span class='block'></span>
        
          <span class='alias'>#shift</span>
        
      </th>
      <td class="docstring">
        <p>
Pulls a value off the beginning of a tuple.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#push-instance_method">#push</span><span class='args'>(obj)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#rindex-instance_method">#rindex</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#size-instance_method">#size</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#teeny-instance_method">#teeny</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_a-instance_method">#to_a</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_ary-instance_method">#to_ary</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_s-instance_method">#to_s</span><span class='args'>(divider = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_t-instance_method">#to_t</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_tuple-instance_method">#to_tuple</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table><div class="included">
  
  <div>
    <h2>Public Instance Methods Included from <a href="Multiton.html" title="Multiton">Multiton</a></h2>
    <p><span class='name'><a href="Multiton.html#clone-instance_method" title="clone">clone</a></span>, <span class='name'><a href="Multiton.html#dup-instance_method" title="dup">dup</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a href="Enumerable.html" title="Enumerable">Enumerable</a></h2>
    <p><span class='name'><a href="Enumerable.html#accumulate-instance_method" title="accumulate">accumulate</a></span>, <span class='name'><a href="Enumerable.html#cluster_by-instance_method" title="cluster_by">cluster_by</a></span>, <span class='name'><a href="Enumerable.html#commonality-instance_method" title="commonality">commonality</a></span>, <span class='name'><a href="Enumerable.html#compact_map-instance_method" title="compact_map">compact_map</a></span>, <span class='name'><a href="Enumerable.html#divide-instance_method" title="divide">divide</a></span>, <span class='name'><a href="Enumerable.html#each_by-instance_method" title="each_by">each_by</a></span>, <span class='name'><a href="Enumerable.html#elementwise-instance_method" title="elementwise">elementwise</a></span>, <span class='name'><a href="Enumerable.html#entropy-instance_method" title="entropy">entropy</a></span>, <span class='name'><a href="Enumerable.html#every-instance_method" title="every">every</a></span>, <span class='name'><a href="Enumerable.html#every%21-instance_method" title="every!">every!</a></span>, <span class='name'><a href="Enumerable.html#filter-instance_method" title="filter">filter</a></span>, <span class='name'><a href="Enumerable.html#frequency-instance_method" title="frequency">frequency</a></span>, <span class='name'><a href="Enumerable.html#ideal_entropy-instance_method" title="ideal_entropy">ideal_entropy</a></span>, <span class='name'><a href="Enumerable.html#inject%21-instance_method" title="inject!">inject!</a></span>, <span class='name'><a href="Enumerable.html#map_send-instance_method" title="map_send">map_send</a></span>, <span class='name'><a href="Enumerable.html#map_with_index-instance_method" title="map_with_index">map_with_index</a></span>, <span class='name'><a href="Enumerable.html#mash-instance_method" title="mash">mash</a></span>, <span class='name'><a href="Enumerable.html#mode-instance_method" title="mode">mode</a></span>, <span class='name'><a href="Enumerable.html#modulate-instance_method" title="modulate">modulate</a></span>, <span class='name'><a href="Enumerable.html#nonuniq-instance_method" title="nonuniq">nonuniq</a></span>, <span class='name'><a href="Enumerable.html#occur-instance_method" title="occur">occur</a></span>, <span class='name'><a href="Enumerable.html#per-instance_method" title="per">per</a></span>, <span class='name'><a href="Enumerable.html#probability-instance_method" title="probability">probability</a></span>, <span class='name'><a href="Enumerable.html#split-instance_method" title="split">split</a></span>, <span class='name'><a href="Enumerable.html#sum-instance_method" title="sum">sum</a></span>, <span class='name'><a href="Enumerable.html#threaded_map-instance_method" title="threaded_map">threaded_map</a></span>, <span class='name'><a href="Enumerable.html#threaded_map_send-instance_method" title="threaded_map_send">threaded_map_send</a></span>, <span class='name'><a href="Enumerable.html#to_h-instance_method" title="to_h">to_h</a></span>, <span class='name'><a href="Enumerable.html#to_h_assoc-instance_method" title="to_h_assoc">to_h_assoc</a></span>, <span class='name'><a href="Enumerable.html#to_h_auto-instance_method" title="to_h_auto">to_h_auto</a></span>, <span class='name'><a href="Enumerable.html#to_h_flat-instance_method" title="to_h_flat">to_h_flat</a></span>, <span class='name'><a href="Enumerable.html#to_h_multi-instance_method" title="to_h_multi">to_h_multi</a></span>, <span class='name'><a href="Enumerable.html#to_h_splat-instance_method" title="to_h_splat">to_h_splat</a></span>, <span class='name'><a href="Enumerable.html#uniq_by-instance_method" title="uniq_by">uniq_by</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a href="Comparable.html" title="Comparable">Comparable</a></h2>
    <p><span class='name'><a href="Comparable.html#at_least-instance_method" title="at_least">at_least</a></span>, <span class='name'><a href="Comparable.html#at_most-instance_method" title="at_most">at_most</a></span>, <span class='name'><a href="Comparable.html#clip-instance_method" title="clip">clip</a></span>, <span class='name'><a href="Comparable.html#cmp-instance_method" title="cmp">cmp</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>[]</h3>
</div><div id="-5B-5D-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>[]</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 226</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L226">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">226
227
228</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span> <span class='mult op'>*</span><span class='args identifier id'>args</span> <span class='rparen token'>)</span>
  <span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='args identifier id'>args</span> <span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>cast_from_array</h3>
</div><div id="cast_from_array-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>cast_from_array</span><span class='args'>(arr)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 257</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L257">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">257
258
259</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='cast_from_array identifier id'>cast_from_array</span><span class='lparen token'>(</span> <span class='arr identifier id'>arr</span> <span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='arr identifier id'>arr</span> <span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>cast_from_string</h3>
</div><div id="cast_from_string-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>cast_from_string</span><span class='args'>(str, &amp;yld)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Translates a string in the form on a set of numerical and/or alphanumerical
characters separated by non-word characters (eg \W+) into a Tuple. The
values of the tuple will be converted to integers if they are purely
numerical.
</p>
<pre class="code">
  <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span><span class='string val'>'1.2.3a'</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; [1,2,&quot;3a&quot;]</span>
</pre>
<p>
It you would like to control the interpretation of each value as it is
added to the tuple you can supply a block.
</p>
<pre class="code">
  <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span><span class='string val'>'1.2.3a'</span><span class='rparen token'>)</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='v identifier id'>v</span><span class='dot token'>.</span><span class='upcase identifier id'>upcase</span> <span class='rbrace token'>}</span>  <span class='comment val'>#=&gt; [&quot;1&quot;,&quot;2&quot;,&quot;3A&quot;]</span>
</pre>
<p>
This method is called by String#to_t.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 244</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L244">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">244
245
246
247
248
249
250
251
252
253</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
  <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>/\W+/</span><span class='rparen token'>)</span>
  <span class='div identifier id'>div</span> <span class='assign token'>=</span> <span class='regexp val'>/\W+/</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='yld identifier id'>yld</span><span class='lbrack token'>[</span><span class='a identifier id'>a</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
  <span class='else else kw'>else</span>
    <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='regexp val'>/^[0-9]+$/</span> <span class='match op'>=~</span> <span class='i identifier id'>i</span> <span class='integer val'>? </span><span class='i identifier id'>i</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span> <span class='colon op'>:</span> <span class='i identifier id'>i</span> <span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='args identifier id'>args</span> <span class='rparen token'>)</span><span class='dot token'>.</span><span class='divider identifier id'>divider</span><span class='lparen token'>(</span> <span class='div identifier id'>div</span> <span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>constraint_to_lambda</h3>
</div><div id="constraint_to_lambda-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>constraint_to_lambda</span><span class='args'>(constraint, &amp;yld)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Parses a constraint returning the operation as a lambda.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 263</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L263">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">263
264
265
266</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='constraint_to_lambda identifier id'>constraint_to_lambda</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
  <span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='mult op'>*</span><span class='parse_constraint identifier id'>parse_constraint</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
  <span class='lambda identifier id'>lambda</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='t identifier id'>t</span><span class='bitor op'>|</span> <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>multiton_id</h3>
</div><div id="multiton_id-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>multiton_id</span><span class='args'>(arg = 0, default = 0, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 83</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L83">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">83
84
85
86
87
88
89
90
91
92
93</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='multiton_id identifier id'>multiton_id</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='assign token'>=</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='default identifier id'>default</span><span class='assign token'>=</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='values identifier id'>values</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='values identifier id'>values</span> <span class='lshft op'>&lt;&lt;</span> <span class='block identifier id'>block</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
  <span class='elseif identifier id'>elseif</span> <span class='Integer constant id'>Integer</span> <span class='eqq op'>===</span> <span class='arg identifier id'>arg</span>
    <span class='values identifier id'>values</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span> <span class='default identifier id'>default</span> <span class='rbrack token'>]</span> <span class='mult op'>*</span> <span class='arg identifier id'>arg</span>
  <span class='else else kw'>else</span>
    <span class='values identifier id'>values</span> <span class='assign token'>=</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='to_ary identifier id'>to_ary</span>
  <span class='end end kw'>end</span>
  <span class='values identifier id'>values</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>parse_constraint</h3>
</div><div id="parse_constraint-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>parse_constraint</span><span class='args'>(constraint, &amp;yld)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 268</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L268">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='parse_constraint identifier id'>parse_constraint</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
  <span class='constraint identifier id'>constraint</span> <span class='assign token'>=</span> <span class='constraint identifier id'>constraint</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span>
  <span class='re identifier id'>re</span> <span class='assign token'>=</span> <span class='regexp val'>%r{^(=~|~&gt;|&lt;=|&gt;=|==|=|&lt;|&gt;)?\s*(\d+(:?[-.]\d+)*)$}</span>
  <span class='if if kw'>if</span> <span class='md identifier id'>md</span> <span class='assign token'>=</span> <span class='re identifier id'>re</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span> <span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
      <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=~'</span> <span class='if if_mod kw'>if</span> <span class='op identifier id'>op</span> <span class='eq op'>==</span> <span class='string val'>'~&gt;'</span>
      <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=='</span> <span class='if if_mod kw'>if</span> <span class='op identifier id'>op</span> <span class='eq op'>==</span> <span class='string val'>'='</span>
      <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span> <span class='comment val'>#instance( md[2] )</span>
    <span class='else else kw'>else</span>
      <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=='</span>
      <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span> <span class='comment val'>#instance( constraint )</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;invalid constraint&quot;</span>
  <span class='end end kw'>end</span>
  <span class='return return kw'>return</span> <span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>&lt;&lt;</h3>
</div><div id="-3C-3C-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'><<</span><span class='args'>(obj)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Unlike Array, Tuple#&lt;&lt; cannot act in place becuase Tuple&#8217;s are
immutable.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 164</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L164">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">164
165
166</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='lshft op'>&lt;&lt;</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span> <span class='lshft op'>&lt;&lt;</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>&lt;=</h3>
</div><div id="-3C-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'><=</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 190</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L190">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">190
191
192
193
194
195
196
197</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='cmp op'>&lt;=&gt;</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
  <span class='other identifier id'>other</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='to_t identifier id'>to_t</span>
  <span class='lbrack token'>[</span><span class='size identifier id'>size</span><span class='comma token'>,</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='max identifier id'>max</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
    <span class='c identifier id'>c</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='cmp op'>&lt;=&gt;</span> <span class='other identifier id'>other</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span>
    <span class='return return kw'>return</span> <span class='c identifier id'>c</span> <span class='if if_mod kw'>if</span> <span class='c identifier id'>c</span> <span class='neq op'>!=</span> <span class='integer val'>0</span>
  <span class='end end kw'>end</span>
  <span class='integer val'>0</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>=~</h3>
</div><div id="-3D-7E-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>=~</span><span class='args'>(other)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
For pessimistic constraint (like &#8217;~&gt;&#8217; in gems)
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 200</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L200">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">200
201
202
203
204
205</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='match op'>=~</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
  <span class='other identifier id'>other</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='to_t identifier id'>to_t</span>
  <span class='upver identifier id'>upver</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
  <span class='upver identifier id'>upver</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
  <span class='self self kw'>self</span> <span class='geq op'>&gt;=</span> <span class='other identifier id'>other</span> <span class='and and kw'>and</span> <span class='self self kw'>self</span> <span class='lt op'>&lt;</span> <span class='upver identifier id'>upver</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>[]</h3>
</div><div id="-5B-5D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>[]</span><span class='args'>(i)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 151</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L151">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">151
152
153</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='rparen token'>)</span>
  <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='comma token'>,</span><span class='@default ivar id'>@default</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>[]=</h3>
</div><div id="-5B-5D-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>[]=</span><span class='args'>(i, v)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 155</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L155">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">155
156
157</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='aset op'>[]=</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='rparen token'>)</span>
  <span class='@values ivar id'>@values</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>divider</h3>
</div><div id="divider-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>divider</span><span class='args'>(set = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 110</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L110">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">110
111
112
113
114</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='divider identifier id'>divider</span><span class='lparen token'>(</span> <span class='set identifier id'>set</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span> <span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='@divider ivar id'>@divider</span> <span class='unless unless_mod kw'>unless</span> <span class='set identifier id'>set</span>
  <span class='@divider ivar id'>@divider</span> <span class='assign token'>=</span> <span class='set identifier id'>set</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>each</h3>
</div><div id="each-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>each</span><span class='args'>(&amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 143</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L143">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">143
144
145</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='each identifier id'>each</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
  <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>each_index</h3>
</div><div id="each_index-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>each_index</span><span class='args'>(&amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 147</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L147">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">147
148
149</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='each_index identifier id'>each_index</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
  <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='each_index identifier id'>each_index</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>empty?</h3>
</div><div id="empty-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>empty?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 137</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L137">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">137
138
139
140
141</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='empty? fid id'>empty?</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
  <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='@values ivar id'>@values</span> <span class='eq op'>==</span> <span class='lbrack token'>[</span> <span class='@default ivar id'>@default</span> <span class='rbrack token'>]</span> <span class='mult op'>*</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='size identifier id'>size</span>
  <span class='false false kw'>false</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>eql?</h3>
</div><div id="eql-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>eql?</span><span class='args'>(other)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns true if two tuple references are for the very same tuple.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 185</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L185">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">185
186
187
188</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='eql? fid id'>eql?</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='object_id identifier id'>object_id</span> <span class='eq op'>==</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='object_id identifier id'>object_id</span>
  <span class='comment val'>#return true if values.eql? other.values</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>first</h3>
</div><div id="first-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>first</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 207</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L207">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='first identifier id'>first</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='last identifier id'>last</span><span class='lparen token'>(</span><span class='rparen token'>)</span>  <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='last identifier id'>last</span> <span class='end end kw'>end</span>

  <span class='comment val'># These are useful for using a Tuple as a version.</span>
  <span class='def def kw'>def</span> <span class='major identifier id'>major</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='minor identifier id'>minor</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='teeny identifier id'>teeny</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Unique hash value.</span>
  <span class='def def kw'>def</span> <span class='hash identifier id'>hash</span>
    <span class='comment val'># TODO This needs to take into account the default</span>
    <span class='comment val'>#      and maybe the divider too.</span>
    <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='hash identifier id'>hash</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># class-level -----------------------------------------------</span>

  <span class='class class kw'>class</span> <span class='lshft op'>&lt;&lt;</span> <span class='self self kw'>self</span>

    <span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span> <span class='mult op'>*</span><span class='args identifier id'>args</span> <span class='rparen token'>)</span>
      <span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='args identifier id'>args</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Translates a string in the form on a set of numerical and/or</span>
    <span class='comment val'># alphanumerical characters separated by non-word characters (eg \W+)</span>
    <span class='comment val'># into a Tuple. The values of the tuple will be converted to integers</span>
    <span class='comment val'># if they are purely numerical.</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   Tuple.cast_from_string('1.2.3a')  #=&gt; [1,2,&quot;3a&quot;]</span>
    <span class='comment val'>#</span>
    <span class='comment val'># It you would like to control the interpretation of each value</span>
    <span class='comment val'># as it is added to the tuple you can supply a block.</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   Tuple.cast_from_string('1.2.3a'){ |v| v.upcase }  #=&gt; [&quot;1&quot;,&quot;2&quot;,&quot;3A&quot;]</span>
    <span class='comment val'>#</span>
    <span class='comment val'># This method is called by String#to_t.</span>

    <span class='def def kw'>def</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>/\W+/</span><span class='rparen token'>)</span>
      <span class='div identifier id'>div</span> <span class='assign token'>=</span> <span class='regexp val'>/\W+/</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
      <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
        <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='yld identifier id'>yld</span><span class='lbrack token'>[</span><span class='a identifier id'>a</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
      <span class='else else kw'>else</span>
        <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='regexp val'>/^[0-9]+$/</span> <span class='match op'>=~</span> <span class='i identifier id'>i</span> <span class='integer val'>? </span><span class='i identifier id'>i</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span> <span class='colon op'>:</span> <span class='i identifier id'>i</span> <span class='rbrace token'>}</span>
      <span class='end end kw'>end</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='args identifier id'>args</span> <span class='rparen token'>)</span><span class='dot token'>.</span><span class='divider identifier id'>divider</span><span class='lparen token'>(</span> <span class='div identifier id'>div</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>

    <span class='def def kw'>def</span> <span class='cast_from_array identifier id'>cast_from_array</span><span class='lparen token'>(</span> <span class='arr identifier id'>arr</span> <span class='rparen token'>)</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='arr identifier id'>arr</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Parses a constraint returning the operation as a lambda.</span>

    <span class='def def kw'>def</span> <span class='constraint_to_lambda identifier id'>constraint_to_lambda</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='mult op'>*</span><span class='parse_constraint identifier id'>parse_constraint</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='lambda identifier id'>lambda</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='t identifier id'>t</span><span class='bitor op'>|</span> <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='parse_constraint identifier id'>parse_constraint</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='constraint identifier id'>constraint</span> <span class='assign token'>=</span> <span class='constraint identifier id'>constraint</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span>
      <span class='re identifier id'>re</span> <span class='assign token'>=</span> <span class='regexp val'>%r{^(=~|~&gt;|&lt;=|&gt;=|==|=|&lt;|&gt;)?\s*(\d+(:?[-.]\d+)*)$}</span>
      <span class='if if kw'>if</span> <span class='md identifier id'>md</span> <span class='assign token'>=</span> <span class='re identifier id'>re</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span> <span class='rparen token'>)</span>
        <span class='if if kw'>if</span> <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=~'</span> <span class='if if_mod kw'>if</span> <span class='op identifier id'>op</span> <span class='eq op'>==</span> <span class='string val'>'~&gt;'</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=='</span> <span class='if if_mod kw'>if</span> <span class='op identifier id'>op</span> <span class='eq op'>==</span> <span class='string val'>'='</span>
          <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span> <span class='comment val'>#instance( md[2] )</span>
        <span class='else else kw'>else</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=='</span>
          <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span> <span class='comment val'>#instance( constraint )</span>
        <span class='end end kw'>end</span>
      <span class='else else kw'>else</span>
        <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;invalid constraint&quot;</span>
      <span class='end end kw'>end</span>
      <span class='return return kw'>return</span> <span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span>
    <span class='end end kw'>end</span>

  <span class='end end kw'>end</span>

<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>hash</h3>
</div><div id="hash-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>hash</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Unique hash value.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 216</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L216">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">216
217
218
219
220</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='hash identifier id'>hash</span>
  <span class='comment val'># TODO This needs to take into account the default</span>
  <span class='comment val'>#      and maybe the divider too.</span>
  <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='hash identifier id'>hash</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>index</h3>
</div><div id="index-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>index</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 159</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L159">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='rparen token'>)</span>  <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='index identifier id'>index</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='rindex identifier id'>rindex</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='rindex identifier id'>rindex</span> <span class='end end kw'>end</span>

  <span class='comment val'># Unlike Array, Tuple#&lt;&lt; cannot act in place</span>
  <span class='comment val'># becuase Tuple's are immutable.</span>
  <span class='def def kw'>def</span> <span class='lshft op'>&lt;&lt;</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span> <span class='lshft op'>&lt;&lt;</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='pop identifier id'>pop</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='push identifier id'>push</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='rparen token'>)</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Pulls a value off the beginning of a tuple.</span>
  <span class='comment val'># This method is otherwsie known as #shift.</span>
  <span class='def def kw'>def</span> <span class='pull identifier id'>pull</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Stands for &quot;Put On Top&quot;. This method is the opposite of #pull and is</span>
  <span class='comment val'># otherwise known as #unshift.</span>
  <span class='def def kw'>def</span> <span class='pot identifier id'>pot</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='rparen token'>)</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:unshift</span><span class='comma token'>,</span> <span class='symbol val'>:pot</span>
  <span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:shift</span><span class='comma token'>,</span> <span class='symbol val'>:pull</span>

  <span class='comment val'># Returns true if two tuple references are for the</span>
  <span class='comment val'># very same tuple.</span>
  <span class='def def kw'>def</span> <span class='eql? fid id'>eql?</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='object_id identifier id'>object_id</span> <span class='eq op'>==</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='object_id identifier id'>object_id</span>
    <span class='comment val'>#return true if values.eql? other.values</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='cmp op'>&lt;=&gt;</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
    <span class='other identifier id'>other</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='to_t identifier id'>to_t</span>
    <span class='lbrack token'>[</span><span class='size identifier id'>size</span><span class='comma token'>,</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='max identifier id'>max</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
      <span class='c identifier id'>c</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='cmp op'>&lt;=&gt;</span> <span class='other identifier id'>other</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span>
      <span class='return return kw'>return</span> <span class='c identifier id'>c</span> <span class='if if_mod kw'>if</span> <span class='c identifier id'>c</span> <span class='neq op'>!=</span> <span class='integer val'>0</span>
    <span class='end end kw'>end</span>
    <span class='integer val'>0</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># For pessimistic constraint (like '~&gt;' in gems)</span>
  <span class='def def kw'>def</span> <span class='match op'>=~</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
    <span class='other identifier id'>other</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='to_t identifier id'>to_t</span>
    <span class='upver identifier id'>upver</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
    <span class='upver identifier id'>upver</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
    <span class='self self kw'>self</span> <span class='geq op'>&gt;=</span> <span class='other identifier id'>other</span> <span class='and and kw'>and</span> <span class='self self kw'>self</span> <span class='lt op'>&lt;</span> <span class='upver identifier id'>upver</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='first identifier id'>first</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='last identifier id'>last</span><span class='lparen token'>(</span><span class='rparen token'>)</span>  <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='last identifier id'>last</span> <span class='end end kw'>end</span>

  <span class='comment val'># These are useful for using a Tuple as a version.</span>
  <span class='def def kw'>def</span> <span class='major identifier id'>major</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='minor identifier id'>minor</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='teeny identifier id'>teeny</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Unique hash value.</span>
  <span class='def def kw'>def</span> <span class='hash identifier id'>hash</span>
    <span class='comment val'># TODO This needs to take into account the default</span>
    <span class='comment val'>#      and maybe the divider too.</span>
    <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='hash identifier id'>hash</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># class-level -----------------------------------------------</span>

  <span class='class class kw'>class</span> <span class='lshft op'>&lt;&lt;</span> <span class='self self kw'>self</span>

    <span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span> <span class='mult op'>*</span><span class='args identifier id'>args</span> <span class='rparen token'>)</span>
      <span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='args identifier id'>args</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Translates a string in the form on a set of numerical and/or</span>
    <span class='comment val'># alphanumerical characters separated by non-word characters (eg \W+)</span>
    <span class='comment val'># into a Tuple. The values of the tuple will be converted to integers</span>
    <span class='comment val'># if they are purely numerical.</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   Tuple.cast_from_string('1.2.3a')  #=&gt; [1,2,&quot;3a&quot;]</span>
    <span class='comment val'>#</span>
    <span class='comment val'># It you would like to control the interpretation of each value</span>
    <span class='comment val'># as it is added to the tuple you can supply a block.</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   Tuple.cast_from_string('1.2.3a'){ |v| v.upcase }  #=&gt; [&quot;1&quot;,&quot;2&quot;,&quot;3A&quot;]</span>
    <span class='comment val'>#</span>
    <span class='comment val'># This method is called by String#to_t.</span>

    <span class='def def kw'>def</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>/\W+/</span><span class='rparen token'>)</span>
      <span class='div identifier id'>div</span> <span class='assign token'>=</span> <span class='regexp val'>/\W+/</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
      <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
        <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='yld identifier id'>yld</span><span class='lbrack token'>[</span><span class='a identifier id'>a</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
      <span class='else else kw'>else</span>
        <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='regexp val'>/^[0-9]+$/</span> <span class='match op'>=~</span> <span class='i identifier id'>i</span> <span class='integer val'>? </span><span class='i identifier id'>i</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span> <span class='colon op'>:</span> <span class='i identifier id'>i</span> <span class='rbrace token'>}</span>
      <span class='end end kw'>end</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='args identifier id'>args</span> <span class='rparen token'>)</span><span class='dot token'>.</span><span class='divider identifier id'>divider</span><span class='lparen token'>(</span> <span class='div identifier id'>div</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>

    <span class='def def kw'>def</span> <span class='cast_from_array identifier id'>cast_from_array</span><span class='lparen token'>(</span> <span class='arr identifier id'>arr</span> <span class='rparen token'>)</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='arr identifier id'>arr</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Parses a constraint returning the operation as a lambda.</span>

    <span class='def def kw'>def</span> <span class='constraint_to_lambda identifier id'>constraint_to_lambda</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='mult op'>*</span><span class='parse_constraint identifier id'>parse_constraint</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='lambda identifier id'>lambda</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='t identifier id'>t</span><span class='bitor op'>|</span> <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='parse_constraint identifier id'>parse_constraint</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='constraint identifier id'>constraint</span> <span class='assign token'>=</span> <span class='constraint identifier id'>constraint</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span>
      <span class='re identifier id'>re</span> <span class='assign token'>=</span> <span class='regexp val'>%r{^(=~|~&gt;|&lt;=|&gt;=|==|=|&lt;|&gt;)?\s*(\d+(:?[-.]\d+)*)$}</span>
      <span class='if if kw'>if</span> <span class='md identifier id'>md</span> <span class='assign token'>=</span> <span class='re identifier id'>re</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span> <span class='rparen token'>)</span>
        <span class='if if kw'>if</span> <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=~'</span> <span class='if if_mod kw'>if</span> <span class='op identifier id'>op</span> <span class='eq op'>==</span> <span class='string val'>'~&gt;'</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=='</span> <span class='if if_mod kw'>if</span> <span class='op identifier id'>op</span> <span class='eq op'>==</span> <span class='string val'>'='</span>
          <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span> <span class='comment val'>#instance( md[2] )</span>
        <span class='else else kw'>else</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=='</span>
          <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span> <span class='comment val'>#instance( constraint )</span>
        <span class='end end kw'>end</span>
      <span class='else else kw'>else</span>
        <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;invalid constraint&quot;</span>
      <span class='end end kw'>end</span>
      <span class='return return kw'>return</span> <span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span>
    <span class='end end kw'>end</span>

  <span class='end end kw'>end</span>

<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>inspect</h3>
</div><div id="inspect-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>inspect</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 122</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L122">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='inspect identifier id'>inspect</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='inspect identifier id'>inspect</span> <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='to_t identifier id'>to_t</span><span class='lparen token'>(</span><span class='rparen token'>)</span>     <span class='self self kw'>self</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='to_tuple identifier id'>to_tuple</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='self self kw'>self</span> <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='to_a identifier id'>to_a</span><span class='lparen token'>(</span><span class='rparen token'>)</span>   <span class='Array constant id'>Array</span><span class='lparen token'>(</span><span class='@values ivar id'>@values</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='to_ary identifier id'>to_ary</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='Array constant id'>Array</span><span class='lparen token'>(</span><span class='@values ivar id'>@values</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='to_s identifier id'>to_s</span><span class='lparen token'>(</span> <span class='divider identifier id'>divider</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span> <span class='rparen token'>)</span>
    <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='divider identifier id'>divider</span><span class='orop op'>||</span><span class='@divider ivar id'>@divider</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='size identifier id'>size</span><span class='lparen token'>(</span><span class='rparen token'>)</span>   <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='length identifier id'>length</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='empty? fid id'>empty?</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='@values ivar id'>@values</span> <span class='eq op'>==</span> <span class='lbrack token'>[</span> <span class='@default ivar id'>@default</span> <span class='rbrack token'>]</span> <span class='mult op'>*</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='size identifier id'>size</span>
    <span class='false false kw'>false</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='each identifier id'>each</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
    <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='each_index identifier id'>each_index</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
    <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='each_index identifier id'>each_index</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='rparen token'>)</span>
    <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='comma token'>,</span><span class='@default ivar id'>@default</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='aset op'>[]=</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='rparen token'>)</span>
    <span class='@values ivar id'>@values</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='rparen token'>)</span>  <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='index identifier id'>index</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='rindex identifier id'>rindex</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='rindex identifier id'>rindex</span> <span class='end end kw'>end</span>

  <span class='comment val'># Unlike Array, Tuple#&lt;&lt; cannot act in place</span>
  <span class='comment val'># becuase Tuple's are immutable.</span>
  <span class='def def kw'>def</span> <span class='lshft op'>&lt;&lt;</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span> <span class='lshft op'>&lt;&lt;</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='pop identifier id'>pop</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='push identifier id'>push</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='rparen token'>)</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Pulls a value off the beginning of a tuple.</span>
  <span class='comment val'># This method is otherwsie known as #shift.</span>
  <span class='def def kw'>def</span> <span class='pull identifier id'>pull</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Stands for &quot;Put On Top&quot;. This method is the opposite of #pull and is</span>
  <span class='comment val'># otherwise known as #unshift.</span>
  <span class='def def kw'>def</span> <span class='pot identifier id'>pot</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='rparen token'>)</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:unshift</span><span class='comma token'>,</span> <span class='symbol val'>:pot</span>
  <span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:shift</span><span class='comma token'>,</span> <span class='symbol val'>:pull</span>

  <span class='comment val'># Returns true if two tuple references are for the</span>
  <span class='comment val'># very same tuple.</span>
  <span class='def def kw'>def</span> <span class='eql? fid id'>eql?</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='object_id identifier id'>object_id</span> <span class='eq op'>==</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='object_id identifier id'>object_id</span>
    <span class='comment val'>#return true if values.eql? other.values</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='cmp op'>&lt;=&gt;</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
    <span class='other identifier id'>other</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='to_t identifier id'>to_t</span>
    <span class='lbrack token'>[</span><span class='size identifier id'>size</span><span class='comma token'>,</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='max identifier id'>max</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
      <span class='c identifier id'>c</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='cmp op'>&lt;=&gt;</span> <span class='other identifier id'>other</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span>
      <span class='return return kw'>return</span> <span class='c identifier id'>c</span> <span class='if if_mod kw'>if</span> <span class='c identifier id'>c</span> <span class='neq op'>!=</span> <span class='integer val'>0</span>
    <span class='end end kw'>end</span>
    <span class='integer val'>0</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># For pessimistic constraint (like '~&gt;' in gems)</span>
  <span class='def def kw'>def</span> <span class='match op'>=~</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
    <span class='other identifier id'>other</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='to_t identifier id'>to_t</span>
    <span class='upver identifier id'>upver</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
    <span class='upver identifier id'>upver</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
    <span class='self self kw'>self</span> <span class='geq op'>&gt;=</span> <span class='other identifier id'>other</span> <span class='and and kw'>and</span> <span class='self self kw'>self</span> <span class='lt op'>&lt;</span> <span class='upver identifier id'>upver</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='first identifier id'>first</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='last identifier id'>last</span><span class='lparen token'>(</span><span class='rparen token'>)</span>  <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='last identifier id'>last</span> <span class='end end kw'>end</span>

  <span class='comment val'># These are useful for using a Tuple as a version.</span>
  <span class='def def kw'>def</span> <span class='major identifier id'>major</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='minor identifier id'>minor</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='teeny identifier id'>teeny</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Unique hash value.</span>
  <span class='def def kw'>def</span> <span class='hash identifier id'>hash</span>
    <span class='comment val'># TODO This needs to take into account the default</span>
    <span class='comment val'>#      and maybe the divider too.</span>
    <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='hash identifier id'>hash</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># class-level -----------------------------------------------</span>

  <span class='class class kw'>class</span> <span class='lshft op'>&lt;&lt;</span> <span class='self self kw'>self</span>

    <span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span> <span class='mult op'>*</span><span class='args identifier id'>args</span> <span class='rparen token'>)</span>
      <span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='args identifier id'>args</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Translates a string in the form on a set of numerical and/or</span>
    <span class='comment val'># alphanumerical characters separated by non-word characters (eg \W+)</span>
    <span class='comment val'># into a Tuple. The values of the tuple will be converted to integers</span>
    <span class='comment val'># if they are purely numerical.</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   Tuple.cast_from_string('1.2.3a')  #=&gt; [1,2,&quot;3a&quot;]</span>
    <span class='comment val'>#</span>
    <span class='comment val'># It you would like to control the interpretation of each value</span>
    <span class='comment val'># as it is added to the tuple you can supply a block.</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   Tuple.cast_from_string('1.2.3a'){ |v| v.upcase }  #=&gt; [&quot;1&quot;,&quot;2&quot;,&quot;3A&quot;]</span>
    <span class='comment val'>#</span>
    <span class='comment val'># This method is called by String#to_t.</span>

    <span class='def def kw'>def</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>/\W+/</span><span class='rparen token'>)</span>
      <span class='div identifier id'>div</span> <span class='assign token'>=</span> <span class='regexp val'>/\W+/</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
      <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
        <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='yld identifier id'>yld</span><span class='lbrack token'>[</span><span class='a identifier id'>a</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
      <span class='else else kw'>else</span>
        <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='regexp val'>/^[0-9]+$/</span> <span class='match op'>=~</span> <span class='i identifier id'>i</span> <span class='integer val'>? </span><span class='i identifier id'>i</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span> <span class='colon op'>:</span> <span class='i identifier id'>i</span> <span class='rbrace token'>}</span>
      <span class='end end kw'>end</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='args identifier id'>args</span> <span class='rparen token'>)</span><span class='dot token'>.</span><span class='divider identifier id'>divider</span><span class='lparen token'>(</span> <span class='div identifier id'>div</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>

    <span class='def def kw'>def</span> <span class='cast_from_array identifier id'>cast_from_array</span><span class='lparen token'>(</span> <span class='arr identifier id'>arr</span> <span class='rparen token'>)</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='arr identifier id'>arr</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Parses a constraint returning the operation as a lambda.</span>

    <span class='def def kw'>def</span> <span class='constraint_to_lambda identifier id'>constraint_to_lambda</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='mult op'>*</span><span class='parse_constraint identifier id'>parse_constraint</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='lambda identifier id'>lambda</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='t identifier id'>t</span><span class='bitor op'>|</span> <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='parse_constraint identifier id'>parse_constraint</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='constraint identifier id'>constraint</span> <span class='assign token'>=</span> <span class='constraint identifier id'>constraint</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span>
      <span class='re identifier id'>re</span> <span class='assign token'>=</span> <span class='regexp val'>%r{^(=~|~&gt;|&lt;=|&gt;=|==|=|&lt;|&gt;)?\s*(\d+(:?[-.]\d+)*)$}</span>
      <span class='if if kw'>if</span> <span class='md identifier id'>md</span> <span class='assign token'>=</span> <span class='re identifier id'>re</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span> <span class='rparen token'>)</span>
        <span class='if if kw'>if</span> <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=~'</span> <span class='if if_mod kw'>if</span> <span class='op identifier id'>op</span> <span class='eq op'>==</span> <span class='string val'>'~&gt;'</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=='</span> <span class='if if_mod kw'>if</span> <span class='op identifier id'>op</span> <span class='eq op'>==</span> <span class='string val'>'='</span>
          <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span> <span class='comment val'>#instance( md[2] )</span>
        <span class='else else kw'>else</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=='</span>
          <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span> <span class='comment val'>#instance( constraint )</span>
        <span class='end end kw'>end</span>
      <span class='else else kw'>else</span>
        <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;invalid constraint&quot;</span>
      <span class='end end kw'>end</span>
      <span class='return return kw'>return</span> <span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span>
    <span class='end end kw'>end</span>

  <span class='end end kw'>end</span>

<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>last</h3>
</div><div id="last-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>last</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 208</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L208">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='last identifier id'>last</span><span class='lparen token'>(</span><span class='rparen token'>)</span>  <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='last identifier id'>last</span> <span class='end end kw'>end</span>

  <span class='comment val'># These are useful for using a Tuple as a version.</span>
  <span class='def def kw'>def</span> <span class='major identifier id'>major</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='minor identifier id'>minor</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='teeny identifier id'>teeny</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Unique hash value.</span>
  <span class='def def kw'>def</span> <span class='hash identifier id'>hash</span>
    <span class='comment val'># TODO This needs to take into account the default</span>
    <span class='comment val'>#      and maybe the divider too.</span>
    <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='hash identifier id'>hash</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># class-level -----------------------------------------------</span>

  <span class='class class kw'>class</span> <span class='lshft op'>&lt;&lt;</span> <span class='self self kw'>self</span>

    <span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span> <span class='mult op'>*</span><span class='args identifier id'>args</span> <span class='rparen token'>)</span>
      <span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='args identifier id'>args</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Translates a string in the form on a set of numerical and/or</span>
    <span class='comment val'># alphanumerical characters separated by non-word characters (eg \W+)</span>
    <span class='comment val'># into a Tuple. The values of the tuple will be converted to integers</span>
    <span class='comment val'># if they are purely numerical.</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   Tuple.cast_from_string('1.2.3a')  #=&gt; [1,2,&quot;3a&quot;]</span>
    <span class='comment val'>#</span>
    <span class='comment val'># It you would like to control the interpretation of each value</span>
    <span class='comment val'># as it is added to the tuple you can supply a block.</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   Tuple.cast_from_string('1.2.3a'){ |v| v.upcase }  #=&gt; [&quot;1&quot;,&quot;2&quot;,&quot;3A&quot;]</span>
    <span class='comment val'>#</span>
    <span class='comment val'># This method is called by String#to_t.</span>

    <span class='def def kw'>def</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>/\W+/</span><span class='rparen token'>)</span>
      <span class='div identifier id'>div</span> <span class='assign token'>=</span> <span class='regexp val'>/\W+/</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
      <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
        <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='yld identifier id'>yld</span><span class='lbrack token'>[</span><span class='a identifier id'>a</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
      <span class='else else kw'>else</span>
        <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='regexp val'>/^[0-9]+$/</span> <span class='match op'>=~</span> <span class='i identifier id'>i</span> <span class='integer val'>? </span><span class='i identifier id'>i</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span> <span class='colon op'>:</span> <span class='i identifier id'>i</span> <span class='rbrace token'>}</span>
      <span class='end end kw'>end</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='args identifier id'>args</span> <span class='rparen token'>)</span><span class='dot token'>.</span><span class='divider identifier id'>divider</span><span class='lparen token'>(</span> <span class='div identifier id'>div</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>

    <span class='def def kw'>def</span> <span class='cast_from_array identifier id'>cast_from_array</span><span class='lparen token'>(</span> <span class='arr identifier id'>arr</span> <span class='rparen token'>)</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='arr identifier id'>arr</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Parses a constraint returning the operation as a lambda.</span>

    <span class='def def kw'>def</span> <span class='constraint_to_lambda identifier id'>constraint_to_lambda</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='mult op'>*</span><span class='parse_constraint identifier id'>parse_constraint</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='lambda identifier id'>lambda</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='t identifier id'>t</span><span class='bitor op'>|</span> <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='parse_constraint identifier id'>parse_constraint</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='constraint identifier id'>constraint</span> <span class='assign token'>=</span> <span class='constraint identifier id'>constraint</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span>
      <span class='re identifier id'>re</span> <span class='assign token'>=</span> <span class='regexp val'>%r{^(=~|~&gt;|&lt;=|&gt;=|==|=|&lt;|&gt;)?\s*(\d+(:?[-.]\d+)*)$}</span>
      <span class='if if kw'>if</span> <span class='md identifier id'>md</span> <span class='assign token'>=</span> <span class='re identifier id'>re</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span> <span class='rparen token'>)</span>
        <span class='if if kw'>if</span> <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=~'</span> <span class='if if_mod kw'>if</span> <span class='op identifier id'>op</span> <span class='eq op'>==</span> <span class='string val'>'~&gt;'</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=='</span> <span class='if if_mod kw'>if</span> <span class='op identifier id'>op</span> <span class='eq op'>==</span> <span class='string val'>'='</span>
          <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span> <span class='comment val'>#instance( md[2] )</span>
        <span class='else else kw'>else</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=='</span>
          <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span> <span class='comment val'>#instance( constraint )</span>
        <span class='end end kw'>end</span>
      <span class='else else kw'>else</span>
        <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;invalid constraint&quot;</span>
      <span class='end end kw'>end</span>
      <span class='return return kw'>return</span> <span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span>
    <span class='end end kw'>end</span>

  <span class='end end kw'>end</span>

<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>length</h3>
</div><div id="length-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>length</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 135</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L135">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='length identifier id'>length</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='empty? fid id'>empty?</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='@values ivar id'>@values</span> <span class='eq op'>==</span> <span class='lbrack token'>[</span> <span class='@default ivar id'>@default</span> <span class='rbrack token'>]</span> <span class='mult op'>*</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='size identifier id'>size</span>
    <span class='false false kw'>false</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='each identifier id'>each</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
    <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='each_index identifier id'>each_index</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
    <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='each_index identifier id'>each_index</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='rparen token'>)</span>
    <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='comma token'>,</span><span class='@default ivar id'>@default</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='aset op'>[]=</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='rparen token'>)</span>
    <span class='@values ivar id'>@values</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='rparen token'>)</span>  <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='index identifier id'>index</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='rindex identifier id'>rindex</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='rindex identifier id'>rindex</span> <span class='end end kw'>end</span>

  <span class='comment val'># Unlike Array, Tuple#&lt;&lt; cannot act in place</span>
  <span class='comment val'># becuase Tuple's are immutable.</span>
  <span class='def def kw'>def</span> <span class='lshft op'>&lt;&lt;</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span> <span class='lshft op'>&lt;&lt;</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='pop identifier id'>pop</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='push identifier id'>push</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='rparen token'>)</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Pulls a value off the beginning of a tuple.</span>
  <span class='comment val'># This method is otherwsie known as #shift.</span>
  <span class='def def kw'>def</span> <span class='pull identifier id'>pull</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Stands for &quot;Put On Top&quot;. This method is the opposite of #pull and is</span>
  <span class='comment val'># otherwise known as #unshift.</span>
  <span class='def def kw'>def</span> <span class='pot identifier id'>pot</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='rparen token'>)</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:unshift</span><span class='comma token'>,</span> <span class='symbol val'>:pot</span>
  <span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:shift</span><span class='comma token'>,</span> <span class='symbol val'>:pull</span>

  <span class='comment val'># Returns true if two tuple references are for the</span>
  <span class='comment val'># very same tuple.</span>
  <span class='def def kw'>def</span> <span class='eql? fid id'>eql?</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='object_id identifier id'>object_id</span> <span class='eq op'>==</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='object_id identifier id'>object_id</span>
    <span class='comment val'>#return true if values.eql? other.values</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='cmp op'>&lt;=&gt;</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
    <span class='other identifier id'>other</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='to_t identifier id'>to_t</span>
    <span class='lbrack token'>[</span><span class='size identifier id'>size</span><span class='comma token'>,</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='max identifier id'>max</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
      <span class='c identifier id'>c</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='cmp op'>&lt;=&gt;</span> <span class='other identifier id'>other</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span>
      <span class='return return kw'>return</span> <span class='c identifier id'>c</span> <span class='if if_mod kw'>if</span> <span class='c identifier id'>c</span> <span class='neq op'>!=</span> <span class='integer val'>0</span>
    <span class='end end kw'>end</span>
    <span class='integer val'>0</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># For pessimistic constraint (like '~&gt;' in gems)</span>
  <span class='def def kw'>def</span> <span class='match op'>=~</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
    <span class='other identifier id'>other</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='to_t identifier id'>to_t</span>
    <span class='upver identifier id'>upver</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
    <span class='upver identifier id'>upver</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
    <span class='self self kw'>self</span> <span class='geq op'>&gt;=</span> <span class='other identifier id'>other</span> <span class='and and kw'>and</span> <span class='self self kw'>self</span> <span class='lt op'>&lt;</span> <span class='upver identifier id'>upver</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='first identifier id'>first</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='last identifier id'>last</span><span class='lparen token'>(</span><span class='rparen token'>)</span>  <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='last identifier id'>last</span> <span class='end end kw'>end</span>

  <span class='comment val'># These are useful for using a Tuple as a version.</span>
  <span class='def def kw'>def</span> <span class='major identifier id'>major</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='minor identifier id'>minor</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='teeny identifier id'>teeny</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Unique hash value.</span>
  <span class='def def kw'>def</span> <span class='hash identifier id'>hash</span>
    <span class='comment val'># TODO This needs to take into account the default</span>
    <span class='comment val'>#      and maybe the divider too.</span>
    <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='hash identifier id'>hash</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># class-level -----------------------------------------------</span>

  <span class='class class kw'>class</span> <span class='lshft op'>&lt;&lt;</span> <span class='self self kw'>self</span>

    <span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span> <span class='mult op'>*</span><span class='args identifier id'>args</span> <span class='rparen token'>)</span>
      <span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='args identifier id'>args</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Translates a string in the form on a set of numerical and/or</span>
    <span class='comment val'># alphanumerical characters separated by non-word characters (eg \W+)</span>
    <span class='comment val'># into a Tuple. The values of the tuple will be converted to integers</span>
    <span class='comment val'># if they are purely numerical.</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   Tuple.cast_from_string('1.2.3a')  #=&gt; [1,2,&quot;3a&quot;]</span>
    <span class='comment val'>#</span>
    <span class='comment val'># It you would like to control the interpretation of each value</span>
    <span class='comment val'># as it is added to the tuple you can supply a block.</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   Tuple.cast_from_string('1.2.3a'){ |v| v.upcase }  #=&gt; [&quot;1&quot;,&quot;2&quot;,&quot;3A&quot;]</span>
    <span class='comment val'>#</span>
    <span class='comment val'># This method is called by String#to_t.</span>

    <span class='def def kw'>def</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>/\W+/</span><span class='rparen token'>)</span>
      <span class='div identifier id'>div</span> <span class='assign token'>=</span> <span class='regexp val'>/\W+/</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
      <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
        <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='yld identifier id'>yld</span><span class='lbrack token'>[</span><span class='a identifier id'>a</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
      <span class='else else kw'>else</span>
        <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='regexp val'>/^[0-9]+$/</span> <span class='match op'>=~</span> <span class='i identifier id'>i</span> <span class='integer val'>? </span><span class='i identifier id'>i</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span> <span class='colon op'>:</span> <span class='i identifier id'>i</span> <span class='rbrace token'>}</span>
      <span class='end end kw'>end</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='args identifier id'>args</span> <span class='rparen token'>)</span><span class='dot token'>.</span><span class='divider identifier id'>divider</span><span class='lparen token'>(</span> <span class='div identifier id'>div</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>

    <span class='def def kw'>def</span> <span class='cast_from_array identifier id'>cast_from_array</span><span class='lparen token'>(</span> <span class='arr identifier id'>arr</span> <span class='rparen token'>)</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='arr identifier id'>arr</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Parses a constraint returning the operation as a lambda.</span>

    <span class='def def kw'>def</span> <span class='constraint_to_lambda identifier id'>constraint_to_lambda</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='mult op'>*</span><span class='parse_constraint identifier id'>parse_constraint</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='lambda identifier id'>lambda</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='t identifier id'>t</span><span class='bitor op'>|</span> <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='parse_constraint identifier id'>parse_constraint</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='constraint identifier id'>constraint</span> <span class='assign token'>=</span> <span class='constraint identifier id'>constraint</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span>
      <span class='re identifier id'>re</span> <span class='assign token'>=</span> <span class='regexp val'>%r{^(=~|~&gt;|&lt;=|&gt;=|==|=|&lt;|&gt;)?\s*(\d+(:?[-.]\d+)*)$}</span>
      <span class='if if kw'>if</span> <span class='md identifier id'>md</span> <span class='assign token'>=</span> <span class='re identifier id'>re</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span> <span class='rparen token'>)</span>
        <span class='if if kw'>if</span> <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=~'</span> <span class='if if_mod kw'>if</span> <span class='op identifier id'>op</span> <span class='eq op'>==</span> <span class='string val'>'~&gt;'</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=='</span> <span class='if if_mod kw'>if</span> <span class='op identifier id'>op</span> <span class='eq op'>==</span> <span class='string val'>'='</span>
          <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span> <span class='comment val'>#instance( md[2] )</span>
        <span class='else else kw'>else</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=='</span>
          <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span> <span class='comment val'>#instance( constraint )</span>
        <span class='end end kw'>end</span>
      <span class='else else kw'>else</span>
        <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;invalid constraint&quot;</span>
      <span class='end end kw'>end</span>
      <span class='return return kw'>return</span> <span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span>
    <span class='end end kw'>end</span>

  <span class='end end kw'>end</span>

<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>major</h3>
</div><div id="major-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>major</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
These are useful for using a Tuple as a version.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 211</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L211">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='major identifier id'>major</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='minor identifier id'>minor</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='teeny identifier id'>teeny</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Unique hash value.</span>
  <span class='def def kw'>def</span> <span class='hash identifier id'>hash</span>
    <span class='comment val'># TODO This needs to take into account the default</span>
    <span class='comment val'>#      and maybe the divider too.</span>
    <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='hash identifier id'>hash</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># class-level -----------------------------------------------</span>

  <span class='class class kw'>class</span> <span class='lshft op'>&lt;&lt;</span> <span class='self self kw'>self</span>

    <span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span> <span class='mult op'>*</span><span class='args identifier id'>args</span> <span class='rparen token'>)</span>
      <span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='args identifier id'>args</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Translates a string in the form on a set of numerical and/or</span>
    <span class='comment val'># alphanumerical characters separated by non-word characters (eg \W+)</span>
    <span class='comment val'># into a Tuple. The values of the tuple will be converted to integers</span>
    <span class='comment val'># if they are purely numerical.</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   Tuple.cast_from_string('1.2.3a')  #=&gt; [1,2,&quot;3a&quot;]</span>
    <span class='comment val'>#</span>
    <span class='comment val'># It you would like to control the interpretation of each value</span>
    <span class='comment val'># as it is added to the tuple you can supply a block.</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   Tuple.cast_from_string('1.2.3a'){ |v| v.upcase }  #=&gt; [&quot;1&quot;,&quot;2&quot;,&quot;3A&quot;]</span>
    <span class='comment val'>#</span>
    <span class='comment val'># This method is called by String#to_t.</span>

    <span class='def def kw'>def</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>/\W+/</span><span class='rparen token'>)</span>
      <span class='div identifier id'>div</span> <span class='assign token'>=</span> <span class='regexp val'>/\W+/</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
      <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
        <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='yld identifier id'>yld</span><span class='lbrack token'>[</span><span class='a identifier id'>a</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
      <span class='else else kw'>else</span>
        <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='regexp val'>/^[0-9]+$/</span> <span class='match op'>=~</span> <span class='i identifier id'>i</span> <span class='integer val'>? </span><span class='i identifier id'>i</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span> <span class='colon op'>:</span> <span class='i identifier id'>i</span> <span class='rbrace token'>}</span>
      <span class='end end kw'>end</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='args identifier id'>args</span> <span class='rparen token'>)</span><span class='dot token'>.</span><span class='divider identifier id'>divider</span><span class='lparen token'>(</span> <span class='div identifier id'>div</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>

    <span class='def def kw'>def</span> <span class='cast_from_array identifier id'>cast_from_array</span><span class='lparen token'>(</span> <span class='arr identifier id'>arr</span> <span class='rparen token'>)</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='arr identifier id'>arr</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Parses a constraint returning the operation as a lambda.</span>

    <span class='def def kw'>def</span> <span class='constraint_to_lambda identifier id'>constraint_to_lambda</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='mult op'>*</span><span class='parse_constraint identifier id'>parse_constraint</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='lambda identifier id'>lambda</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='t identifier id'>t</span><span class='bitor op'>|</span> <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='parse_constraint identifier id'>parse_constraint</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='constraint identifier id'>constraint</span> <span class='assign token'>=</span> <span class='constraint identifier id'>constraint</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span>
      <span class='re identifier id'>re</span> <span class='assign token'>=</span> <span class='regexp val'>%r{^(=~|~&gt;|&lt;=|&gt;=|==|=|&lt;|&gt;)?\s*(\d+(:?[-.]\d+)*)$}</span>
      <span class='if if kw'>if</span> <span class='md identifier id'>md</span> <span class='assign token'>=</span> <span class='re identifier id'>re</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span> <span class='rparen token'>)</span>
        <span class='if if kw'>if</span> <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=~'</span> <span class='if if_mod kw'>if</span> <span class='op identifier id'>op</span> <span class='eq op'>==</span> <span class='string val'>'~&gt;'</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=='</span> <span class='if if_mod kw'>if</span> <span class='op identifier id'>op</span> <span class='eq op'>==</span> <span class='string val'>'='</span>
          <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span> <span class='comment val'>#instance( md[2] )</span>
        <span class='else else kw'>else</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=='</span>
          <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span> <span class='comment val'>#instance( constraint )</span>
        <span class='end end kw'>end</span>
      <span class='else else kw'>else</span>
        <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;invalid constraint&quot;</span>
      <span class='end end kw'>end</span>
      <span class='return return kw'>return</span> <span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span>
    <span class='end end kw'>end</span>

  <span class='end end kw'>end</span>

<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>minor</h3>
</div><div id="minor-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>minor</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 212</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L212">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">212</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='minor identifier id'>minor</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>pop</h3>
</div><div id="pop-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>pop</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 168</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L168">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">168</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='pop identifier id'>pop</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>pot</h3>
</div><div id="pot-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>pot</span><span class='args'>(obj)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="unshift-instance_method">unshift</tt>
  
</p>
</div><div class="section docstring">
  <p>
Stands for &quot;Put On Top&quot;. This method is the opposite of #pull and
is otherwise known as #unshift.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 178</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L178">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">178</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='pot identifier id'>pot</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='rparen token'>)</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>pull</h3>
</div><div id="pull-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>pull</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="shift-instance_method">shift</tt>
  
</p>
</div><div class="section docstring">
  <p>
Pulls a value off the beginning of a tuple. This method is otherwsie known
as #shift.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 174</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L174">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">174</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='pull identifier id'>pull</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>push</h3>
</div><div id="push-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>push</span><span class='args'>(obj)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 170</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L170">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">170</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='push identifier id'>push</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='rparen token'>)</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>rindex</h3>
</div><div id="rindex-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>rindex</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 160</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L160">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='rindex identifier id'>rindex</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='rindex identifier id'>rindex</span> <span class='end end kw'>end</span>

  <span class='comment val'># Unlike Array, Tuple#&lt;&lt; cannot act in place</span>
  <span class='comment val'># becuase Tuple's are immutable.</span>
  <span class='def def kw'>def</span> <span class='lshft op'>&lt;&lt;</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span> <span class='lshft op'>&lt;&lt;</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='pop identifier id'>pop</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='push identifier id'>push</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='rparen token'>)</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Pulls a value off the beginning of a tuple.</span>
  <span class='comment val'># This method is otherwsie known as #shift.</span>
  <span class='def def kw'>def</span> <span class='pull identifier id'>pull</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Stands for &quot;Put On Top&quot;. This method is the opposite of #pull and is</span>
  <span class='comment val'># otherwise known as #unshift.</span>
  <span class='def def kw'>def</span> <span class='pot identifier id'>pot</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='rparen token'>)</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:unshift</span><span class='comma token'>,</span> <span class='symbol val'>:pot</span>
  <span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:shift</span><span class='comma token'>,</span> <span class='symbol val'>:pull</span>

  <span class='comment val'># Returns true if two tuple references are for the</span>
  <span class='comment val'># very same tuple.</span>
  <span class='def def kw'>def</span> <span class='eql? fid id'>eql?</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='object_id identifier id'>object_id</span> <span class='eq op'>==</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='object_id identifier id'>object_id</span>
    <span class='comment val'>#return true if values.eql? other.values</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='cmp op'>&lt;=&gt;</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
    <span class='other identifier id'>other</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='to_t identifier id'>to_t</span>
    <span class='lbrack token'>[</span><span class='size identifier id'>size</span><span class='comma token'>,</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='max identifier id'>max</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
      <span class='c identifier id'>c</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='cmp op'>&lt;=&gt;</span> <span class='other identifier id'>other</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span>
      <span class='return return kw'>return</span> <span class='c identifier id'>c</span> <span class='if if_mod kw'>if</span> <span class='c identifier id'>c</span> <span class='neq op'>!=</span> <span class='integer val'>0</span>
    <span class='end end kw'>end</span>
    <span class='integer val'>0</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># For pessimistic constraint (like '~&gt;' in gems)</span>
  <span class='def def kw'>def</span> <span class='match op'>=~</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
    <span class='other identifier id'>other</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='to_t identifier id'>to_t</span>
    <span class='upver identifier id'>upver</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
    <span class='upver identifier id'>upver</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
    <span class='self self kw'>self</span> <span class='geq op'>&gt;=</span> <span class='other identifier id'>other</span> <span class='and and kw'>and</span> <span class='self self kw'>self</span> <span class='lt op'>&lt;</span> <span class='upver identifier id'>upver</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='first identifier id'>first</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='last identifier id'>last</span><span class='lparen token'>(</span><span class='rparen token'>)</span>  <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='last identifier id'>last</span> <span class='end end kw'>end</span>

  <span class='comment val'># These are useful for using a Tuple as a version.</span>
  <span class='def def kw'>def</span> <span class='major identifier id'>major</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='minor identifier id'>minor</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='teeny identifier id'>teeny</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Unique hash value.</span>
  <span class='def def kw'>def</span> <span class='hash identifier id'>hash</span>
    <span class='comment val'># TODO This needs to take into account the default</span>
    <span class='comment val'>#      and maybe the divider too.</span>
    <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='hash identifier id'>hash</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># class-level -----------------------------------------------</span>

  <span class='class class kw'>class</span> <span class='lshft op'>&lt;&lt;</span> <span class='self self kw'>self</span>

    <span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span> <span class='mult op'>*</span><span class='args identifier id'>args</span> <span class='rparen token'>)</span>
      <span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='args identifier id'>args</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Translates a string in the form on a set of numerical and/or</span>
    <span class='comment val'># alphanumerical characters separated by non-word characters (eg \W+)</span>
    <span class='comment val'># into a Tuple. The values of the tuple will be converted to integers</span>
    <span class='comment val'># if they are purely numerical.</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   Tuple.cast_from_string('1.2.3a')  #=&gt; [1,2,&quot;3a&quot;]</span>
    <span class='comment val'>#</span>
    <span class='comment val'># It you would like to control the interpretation of each value</span>
    <span class='comment val'># as it is added to the tuple you can supply a block.</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   Tuple.cast_from_string('1.2.3a'){ |v| v.upcase }  #=&gt; [&quot;1&quot;,&quot;2&quot;,&quot;3A&quot;]</span>
    <span class='comment val'>#</span>
    <span class='comment val'># This method is called by String#to_t.</span>

    <span class='def def kw'>def</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>/\W+/</span><span class='rparen token'>)</span>
      <span class='div identifier id'>div</span> <span class='assign token'>=</span> <span class='regexp val'>/\W+/</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
      <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
        <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='yld identifier id'>yld</span><span class='lbrack token'>[</span><span class='a identifier id'>a</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
      <span class='else else kw'>else</span>
        <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='regexp val'>/^[0-9]+$/</span> <span class='match op'>=~</span> <span class='i identifier id'>i</span> <span class='integer val'>? </span><span class='i identifier id'>i</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span> <span class='colon op'>:</span> <span class='i identifier id'>i</span> <span class='rbrace token'>}</span>
      <span class='end end kw'>end</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='args identifier id'>args</span> <span class='rparen token'>)</span><span class='dot token'>.</span><span class='divider identifier id'>divider</span><span class='lparen token'>(</span> <span class='div identifier id'>div</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>

    <span class='def def kw'>def</span> <span class='cast_from_array identifier id'>cast_from_array</span><span class='lparen token'>(</span> <span class='arr identifier id'>arr</span> <span class='rparen token'>)</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='arr identifier id'>arr</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Parses a constraint returning the operation as a lambda.</span>

    <span class='def def kw'>def</span> <span class='constraint_to_lambda identifier id'>constraint_to_lambda</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='mult op'>*</span><span class='parse_constraint identifier id'>parse_constraint</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='lambda identifier id'>lambda</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='t identifier id'>t</span><span class='bitor op'>|</span> <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='parse_constraint identifier id'>parse_constraint</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='constraint identifier id'>constraint</span> <span class='assign token'>=</span> <span class='constraint identifier id'>constraint</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span>
      <span class='re identifier id'>re</span> <span class='assign token'>=</span> <span class='regexp val'>%r{^(=~|~&gt;|&lt;=|&gt;=|==|=|&lt;|&gt;)?\s*(\d+(:?[-.]\d+)*)$}</span>
      <span class='if if kw'>if</span> <span class='md identifier id'>md</span> <span class='assign token'>=</span> <span class='re identifier id'>re</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span> <span class='rparen token'>)</span>
        <span class='if if kw'>if</span> <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=~'</span> <span class='if if_mod kw'>if</span> <span class='op identifier id'>op</span> <span class='eq op'>==</span> <span class='string val'>'~&gt;'</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=='</span> <span class='if if_mod kw'>if</span> <span class='op identifier id'>op</span> <span class='eq op'>==</span> <span class='string val'>'='</span>
          <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span> <span class='comment val'>#instance( md[2] )</span>
        <span class='else else kw'>else</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=='</span>
          <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span> <span class='comment val'>#instance( constraint )</span>
        <span class='end end kw'>end</span>
      <span class='else else kw'>else</span>
        <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;invalid constraint&quot;</span>
      <span class='end end kw'>end</span>
      <span class='return return kw'>return</span> <span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span>
    <span class='end end kw'>end</span>

  <span class='end end kw'>end</span>

<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>size</h3>
</div><div id="size-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>size</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 134</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L134">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='size identifier id'>size</span><span class='lparen token'>(</span><span class='rparen token'>)</span>   <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='length identifier id'>length</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='empty? fid id'>empty?</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='@values ivar id'>@values</span> <span class='eq op'>==</span> <span class='lbrack token'>[</span> <span class='@default ivar id'>@default</span> <span class='rbrack token'>]</span> <span class='mult op'>*</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='size identifier id'>size</span>
    <span class='false false kw'>false</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='each identifier id'>each</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
    <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='each_index identifier id'>each_index</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
    <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='each_index identifier id'>each_index</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='rparen token'>)</span>
    <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='comma token'>,</span><span class='@default ivar id'>@default</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='aset op'>[]=</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='rparen token'>)</span>
    <span class='@values ivar id'>@values</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='rparen token'>)</span>  <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='index identifier id'>index</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='rindex identifier id'>rindex</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='rindex identifier id'>rindex</span> <span class='end end kw'>end</span>

  <span class='comment val'># Unlike Array, Tuple#&lt;&lt; cannot act in place</span>
  <span class='comment val'># becuase Tuple's are immutable.</span>
  <span class='def def kw'>def</span> <span class='lshft op'>&lt;&lt;</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span> <span class='lshft op'>&lt;&lt;</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='pop identifier id'>pop</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='push identifier id'>push</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='rparen token'>)</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Pulls a value off the beginning of a tuple.</span>
  <span class='comment val'># This method is otherwsie known as #shift.</span>
  <span class='def def kw'>def</span> <span class='pull identifier id'>pull</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Stands for &quot;Put On Top&quot;. This method is the opposite of #pull and is</span>
  <span class='comment val'># otherwise known as #unshift.</span>
  <span class='def def kw'>def</span> <span class='pot identifier id'>pot</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='rparen token'>)</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:unshift</span><span class='comma token'>,</span> <span class='symbol val'>:pot</span>
  <span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:shift</span><span class='comma token'>,</span> <span class='symbol val'>:pull</span>

  <span class='comment val'># Returns true if two tuple references are for the</span>
  <span class='comment val'># very same tuple.</span>
  <span class='def def kw'>def</span> <span class='eql? fid id'>eql?</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='object_id identifier id'>object_id</span> <span class='eq op'>==</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='object_id identifier id'>object_id</span>
    <span class='comment val'>#return true if values.eql? other.values</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='cmp op'>&lt;=&gt;</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
    <span class='other identifier id'>other</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='to_t identifier id'>to_t</span>
    <span class='lbrack token'>[</span><span class='size identifier id'>size</span><span class='comma token'>,</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='max identifier id'>max</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
      <span class='c identifier id'>c</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='cmp op'>&lt;=&gt;</span> <span class='other identifier id'>other</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span>
      <span class='return return kw'>return</span> <span class='c identifier id'>c</span> <span class='if if_mod kw'>if</span> <span class='c identifier id'>c</span> <span class='neq op'>!=</span> <span class='integer val'>0</span>
    <span class='end end kw'>end</span>
    <span class='integer val'>0</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># For pessimistic constraint (like '~&gt;' in gems)</span>
  <span class='def def kw'>def</span> <span class='match op'>=~</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
    <span class='other identifier id'>other</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='to_t identifier id'>to_t</span>
    <span class='upver identifier id'>upver</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
    <span class='upver identifier id'>upver</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
    <span class='self self kw'>self</span> <span class='geq op'>&gt;=</span> <span class='other identifier id'>other</span> <span class='and and kw'>and</span> <span class='self self kw'>self</span> <span class='lt op'>&lt;</span> <span class='upver identifier id'>upver</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='first identifier id'>first</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='last identifier id'>last</span><span class='lparen token'>(</span><span class='rparen token'>)</span>  <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='last identifier id'>last</span> <span class='end end kw'>end</span>

  <span class='comment val'># These are useful for using a Tuple as a version.</span>
  <span class='def def kw'>def</span> <span class='major identifier id'>major</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='minor identifier id'>minor</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='teeny identifier id'>teeny</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Unique hash value.</span>
  <span class='def def kw'>def</span> <span class='hash identifier id'>hash</span>
    <span class='comment val'># TODO This needs to take into account the default</span>
    <span class='comment val'>#      and maybe the divider too.</span>
    <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='hash identifier id'>hash</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># class-level -----------------------------------------------</span>

  <span class='class class kw'>class</span> <span class='lshft op'>&lt;&lt;</span> <span class='self self kw'>self</span>

    <span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span> <span class='mult op'>*</span><span class='args identifier id'>args</span> <span class='rparen token'>)</span>
      <span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='args identifier id'>args</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Translates a string in the form on a set of numerical and/or</span>
    <span class='comment val'># alphanumerical characters separated by non-word characters (eg \W+)</span>
    <span class='comment val'># into a Tuple. The values of the tuple will be converted to integers</span>
    <span class='comment val'># if they are purely numerical.</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   Tuple.cast_from_string('1.2.3a')  #=&gt; [1,2,&quot;3a&quot;]</span>
    <span class='comment val'>#</span>
    <span class='comment val'># It you would like to control the interpretation of each value</span>
    <span class='comment val'># as it is added to the tuple you can supply a block.</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   Tuple.cast_from_string('1.2.3a'){ |v| v.upcase }  #=&gt; [&quot;1&quot;,&quot;2&quot;,&quot;3A&quot;]</span>
    <span class='comment val'>#</span>
    <span class='comment val'># This method is called by String#to_t.</span>

    <span class='def def kw'>def</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>/\W+/</span><span class='rparen token'>)</span>
      <span class='div identifier id'>div</span> <span class='assign token'>=</span> <span class='regexp val'>/\W+/</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
      <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
        <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='yld identifier id'>yld</span><span class='lbrack token'>[</span><span class='a identifier id'>a</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
      <span class='else else kw'>else</span>
        <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='regexp val'>/^[0-9]+$/</span> <span class='match op'>=~</span> <span class='i identifier id'>i</span> <span class='integer val'>? </span><span class='i identifier id'>i</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span> <span class='colon op'>:</span> <span class='i identifier id'>i</span> <span class='rbrace token'>}</span>
      <span class='end end kw'>end</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='args identifier id'>args</span> <span class='rparen token'>)</span><span class='dot token'>.</span><span class='divider identifier id'>divider</span><span class='lparen token'>(</span> <span class='div identifier id'>div</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>

    <span class='def def kw'>def</span> <span class='cast_from_array identifier id'>cast_from_array</span><span class='lparen token'>(</span> <span class='arr identifier id'>arr</span> <span class='rparen token'>)</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='arr identifier id'>arr</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Parses a constraint returning the operation as a lambda.</span>

    <span class='def def kw'>def</span> <span class='constraint_to_lambda identifier id'>constraint_to_lambda</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='mult op'>*</span><span class='parse_constraint identifier id'>parse_constraint</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='lambda identifier id'>lambda</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='t identifier id'>t</span><span class='bitor op'>|</span> <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='parse_constraint identifier id'>parse_constraint</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='constraint identifier id'>constraint</span> <span class='assign token'>=</span> <span class='constraint identifier id'>constraint</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span>
      <span class='re identifier id'>re</span> <span class='assign token'>=</span> <span class='regexp val'>%r{^(=~|~&gt;|&lt;=|&gt;=|==|=|&lt;|&gt;)?\s*(\d+(:?[-.]\d+)*)$}</span>
      <span class='if if kw'>if</span> <span class='md identifier id'>md</span> <span class='assign token'>=</span> <span class='re identifier id'>re</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span> <span class='rparen token'>)</span>
        <span class='if if kw'>if</span> <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=~'</span> <span class='if if_mod kw'>if</span> <span class='op identifier id'>op</span> <span class='eq op'>==</span> <span class='string val'>'~&gt;'</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=='</span> <span class='if if_mod kw'>if</span> <span class='op identifier id'>op</span> <span class='eq op'>==</span> <span class='string val'>'='</span>
          <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span> <span class='comment val'>#instance( md[2] )</span>
        <span class='else else kw'>else</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=='</span>
          <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span> <span class='comment val'>#instance( constraint )</span>
        <span class='end end kw'>end</span>
      <span class='else else kw'>else</span>
        <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;invalid constraint&quot;</span>
      <span class='end end kw'>end</span>
      <span class='return return kw'>return</span> <span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span>
    <span class='end end kw'>end</span>

  <span class='end end kw'>end</span>

<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>teeny</h3>
</div><div id="teeny-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>teeny</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 213</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L213">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">213</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='teeny identifier id'>teeny</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_a</h3>
</div><div id="to_a-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_a</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 127</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L127">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">127</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_a identifier id'>to_a</span><span class='lparen token'>(</span><span class='rparen token'>)</span>   <span class='Array constant id'>Array</span><span class='lparen token'>(</span><span class='@values ivar id'>@values</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_ary</h3>
</div><div id="to_ary-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_ary</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 128</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L128">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">128</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_ary identifier id'>to_ary</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='Array constant id'>Array</span><span class='lparen token'>(</span><span class='@values ivar id'>@values</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_s</h3>
</div><div id="to_s-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_s</span><span class='args'>(divider = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 130</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L130">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">130
131
132</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_s identifier id'>to_s</span><span class='lparen token'>(</span> <span class='divider identifier id'>divider</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span> <span class='rparen token'>)</span>
  <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='divider identifier id'>divider</span><span class='orop op'>||</span><span class='@divider ivar id'>@divider</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_t</h3>
</div><div id="to_t-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_t</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 124</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L124">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_t identifier id'>to_t</span><span class='lparen token'>(</span><span class='rparen token'>)</span>     <span class='self self kw'>self</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='to_tuple identifier id'>to_tuple</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='self self kw'>self</span> <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='to_a identifier id'>to_a</span><span class='lparen token'>(</span><span class='rparen token'>)</span>   <span class='Array constant id'>Array</span><span class='lparen token'>(</span><span class='@values ivar id'>@values</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='to_ary identifier id'>to_ary</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='Array constant id'>Array</span><span class='lparen token'>(</span><span class='@values ivar id'>@values</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='to_s identifier id'>to_s</span><span class='lparen token'>(</span> <span class='divider identifier id'>divider</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span> <span class='rparen token'>)</span>
    <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='divider identifier id'>divider</span><span class='orop op'>||</span><span class='@divider ivar id'>@divider</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='size identifier id'>size</span><span class='lparen token'>(</span><span class='rparen token'>)</span>   <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='length identifier id'>length</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='empty? fid id'>empty?</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='@values ivar id'>@values</span> <span class='eq op'>==</span> <span class='lbrack token'>[</span> <span class='@default ivar id'>@default</span> <span class='rbrack token'>]</span> <span class='mult op'>*</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='size identifier id'>size</span>
    <span class='false false kw'>false</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='each identifier id'>each</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
    <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='each_index identifier id'>each_index</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
    <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='each_index identifier id'>each_index</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='rparen token'>)</span>
    <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='comma token'>,</span><span class='@default ivar id'>@default</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='aset op'>[]=</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='rparen token'>)</span>
    <span class='@values ivar id'>@values</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='rparen token'>)</span>  <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='index identifier id'>index</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='rindex identifier id'>rindex</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='rindex identifier id'>rindex</span> <span class='end end kw'>end</span>

  <span class='comment val'># Unlike Array, Tuple#&lt;&lt; cannot act in place</span>
  <span class='comment val'># becuase Tuple's are immutable.</span>
  <span class='def def kw'>def</span> <span class='lshft op'>&lt;&lt;</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span> <span class='lshft op'>&lt;&lt;</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='pop identifier id'>pop</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='push identifier id'>push</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='rparen token'>)</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Pulls a value off the beginning of a tuple.</span>
  <span class='comment val'># This method is otherwsie known as #shift.</span>
  <span class='def def kw'>def</span> <span class='pull identifier id'>pull</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Stands for &quot;Put On Top&quot;. This method is the opposite of #pull and is</span>
  <span class='comment val'># otherwise known as #unshift.</span>
  <span class='def def kw'>def</span> <span class='pot identifier id'>pot</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='rparen token'>)</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:unshift</span><span class='comma token'>,</span> <span class='symbol val'>:pot</span>
  <span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:shift</span><span class='comma token'>,</span> <span class='symbol val'>:pull</span>

  <span class='comment val'># Returns true if two tuple references are for the</span>
  <span class='comment val'># very same tuple.</span>
  <span class='def def kw'>def</span> <span class='eql? fid id'>eql?</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='object_id identifier id'>object_id</span> <span class='eq op'>==</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='object_id identifier id'>object_id</span>
    <span class='comment val'>#return true if values.eql? other.values</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='cmp op'>&lt;=&gt;</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
    <span class='other identifier id'>other</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='to_t identifier id'>to_t</span>
    <span class='lbrack token'>[</span><span class='size identifier id'>size</span><span class='comma token'>,</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='max identifier id'>max</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
      <span class='c identifier id'>c</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='cmp op'>&lt;=&gt;</span> <span class='other identifier id'>other</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span>
      <span class='return return kw'>return</span> <span class='c identifier id'>c</span> <span class='if if_mod kw'>if</span> <span class='c identifier id'>c</span> <span class='neq op'>!=</span> <span class='integer val'>0</span>
    <span class='end end kw'>end</span>
    <span class='integer val'>0</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># For pessimistic constraint (like '~&gt;' in gems)</span>
  <span class='def def kw'>def</span> <span class='match op'>=~</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
    <span class='other identifier id'>other</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='to_t identifier id'>to_t</span>
    <span class='upver identifier id'>upver</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
    <span class='upver identifier id'>upver</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
    <span class='self self kw'>self</span> <span class='geq op'>&gt;=</span> <span class='other identifier id'>other</span> <span class='and and kw'>and</span> <span class='self self kw'>self</span> <span class='lt op'>&lt;</span> <span class='upver identifier id'>upver</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='first identifier id'>first</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='last identifier id'>last</span><span class='lparen token'>(</span><span class='rparen token'>)</span>  <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='last identifier id'>last</span> <span class='end end kw'>end</span>

  <span class='comment val'># These are useful for using a Tuple as a version.</span>
  <span class='def def kw'>def</span> <span class='major identifier id'>major</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='minor identifier id'>minor</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='teeny identifier id'>teeny</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Unique hash value.</span>
  <span class='def def kw'>def</span> <span class='hash identifier id'>hash</span>
    <span class='comment val'># TODO This needs to take into account the default</span>
    <span class='comment val'>#      and maybe the divider too.</span>
    <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='hash identifier id'>hash</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># class-level -----------------------------------------------</span>

  <span class='class class kw'>class</span> <span class='lshft op'>&lt;&lt;</span> <span class='self self kw'>self</span>

    <span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span> <span class='mult op'>*</span><span class='args identifier id'>args</span> <span class='rparen token'>)</span>
      <span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='args identifier id'>args</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Translates a string in the form on a set of numerical and/or</span>
    <span class='comment val'># alphanumerical characters separated by non-word characters (eg \W+)</span>
    <span class='comment val'># into a Tuple. The values of the tuple will be converted to integers</span>
    <span class='comment val'># if they are purely numerical.</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   Tuple.cast_from_string('1.2.3a')  #=&gt; [1,2,&quot;3a&quot;]</span>
    <span class='comment val'>#</span>
    <span class='comment val'># It you would like to control the interpretation of each value</span>
    <span class='comment val'># as it is added to the tuple you can supply a block.</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   Tuple.cast_from_string('1.2.3a'){ |v| v.upcase }  #=&gt; [&quot;1&quot;,&quot;2&quot;,&quot;3A&quot;]</span>
    <span class='comment val'>#</span>
    <span class='comment val'># This method is called by String#to_t.</span>

    <span class='def def kw'>def</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>/\W+/</span><span class='rparen token'>)</span>
      <span class='div identifier id'>div</span> <span class='assign token'>=</span> <span class='regexp val'>/\W+/</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
      <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
        <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='yld identifier id'>yld</span><span class='lbrack token'>[</span><span class='a identifier id'>a</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
      <span class='else else kw'>else</span>
        <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='regexp val'>/^[0-9]+$/</span> <span class='match op'>=~</span> <span class='i identifier id'>i</span> <span class='integer val'>? </span><span class='i identifier id'>i</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span> <span class='colon op'>:</span> <span class='i identifier id'>i</span> <span class='rbrace token'>}</span>
      <span class='end end kw'>end</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='args identifier id'>args</span> <span class='rparen token'>)</span><span class='dot token'>.</span><span class='divider identifier id'>divider</span><span class='lparen token'>(</span> <span class='div identifier id'>div</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>

    <span class='def def kw'>def</span> <span class='cast_from_array identifier id'>cast_from_array</span><span class='lparen token'>(</span> <span class='arr identifier id'>arr</span> <span class='rparen token'>)</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='arr identifier id'>arr</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Parses a constraint returning the operation as a lambda.</span>

    <span class='def def kw'>def</span> <span class='constraint_to_lambda identifier id'>constraint_to_lambda</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='mult op'>*</span><span class='parse_constraint identifier id'>parse_constraint</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='lambda identifier id'>lambda</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='t identifier id'>t</span><span class='bitor op'>|</span> <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='parse_constraint identifier id'>parse_constraint</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='constraint identifier id'>constraint</span> <span class='assign token'>=</span> <span class='constraint identifier id'>constraint</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span>
      <span class='re identifier id'>re</span> <span class='assign token'>=</span> <span class='regexp val'>%r{^(=~|~&gt;|&lt;=|&gt;=|==|=|&lt;|&gt;)?\s*(\d+(:?[-.]\d+)*)$}</span>
      <span class='if if kw'>if</span> <span class='md identifier id'>md</span> <span class='assign token'>=</span> <span class='re identifier id'>re</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span> <span class='rparen token'>)</span>
        <span class='if if kw'>if</span> <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=~'</span> <span class='if if_mod kw'>if</span> <span class='op identifier id'>op</span> <span class='eq op'>==</span> <span class='string val'>'~&gt;'</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=='</span> <span class='if if_mod kw'>if</span> <span class='op identifier id'>op</span> <span class='eq op'>==</span> <span class='string val'>'='</span>
          <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span> <span class='comment val'>#instance( md[2] )</span>
        <span class='else else kw'>else</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=='</span>
          <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span> <span class='comment val'>#instance( constraint )</span>
        <span class='end end kw'>end</span>
      <span class='else else kw'>else</span>
        <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;invalid constraint&quot;</span>
      <span class='end end kw'>end</span>
      <span class='return return kw'>return</span> <span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span>
    <span class='end end kw'>end</span>

  <span class='end end kw'>end</span>

<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_tuple</h3>
</div><div id="to_tuple-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_tuple</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/more/facets/tuple.rb', line 125</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/trans/facets/blob/6b9e6139658a078c45898dc44a4ecff4c70b3545/lib/more/facets/tuple.rb#L125">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_tuple identifier id'>to_tuple</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='self self kw'>self</span> <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='to_a identifier id'>to_a</span><span class='lparen token'>(</span><span class='rparen token'>)</span>   <span class='Array constant id'>Array</span><span class='lparen token'>(</span><span class='@values ivar id'>@values</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='to_ary identifier id'>to_ary</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='Array constant id'>Array</span><span class='lparen token'>(</span><span class='@values ivar id'>@values</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='to_s identifier id'>to_s</span><span class='lparen token'>(</span> <span class='divider identifier id'>divider</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span> <span class='rparen token'>)</span>
    <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='divider identifier id'>divider</span><span class='orop op'>||</span><span class='@divider ivar id'>@divider</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='size identifier id'>size</span><span class='lparen token'>(</span><span class='rparen token'>)</span>   <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='length identifier id'>length</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='empty? fid id'>empty?</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='@values ivar id'>@values</span> <span class='eq op'>==</span> <span class='lbrack token'>[</span> <span class='@default ivar id'>@default</span> <span class='rbrack token'>]</span> <span class='mult op'>*</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='size identifier id'>size</span>
    <span class='false false kw'>false</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='each identifier id'>each</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
    <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='each_index identifier id'>each_index</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
    <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='each_index identifier id'>each_index</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='rparen token'>)</span>
    <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='comma token'>,</span><span class='@default ivar id'>@default</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='aset op'>[]=</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='rparen token'>)</span>
    <span class='@values ivar id'>@values</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='rparen token'>)</span>  <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='index identifier id'>index</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='rindex identifier id'>rindex</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='rindex identifier id'>rindex</span> <span class='end end kw'>end</span>

  <span class='comment val'># Unlike Array, Tuple#&lt;&lt; cannot act in place</span>
  <span class='comment val'># becuase Tuple's are immutable.</span>
  <span class='def def kw'>def</span> <span class='lshft op'>&lt;&lt;</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span> <span class='lshft op'>&lt;&lt;</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='pop identifier id'>pop</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='push identifier id'>push</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='rparen token'>)</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Pulls a value off the beginning of a tuple.</span>
  <span class='comment val'># This method is otherwsie known as #shift.</span>
  <span class='def def kw'>def</span> <span class='pull identifier id'>pull</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Stands for &quot;Put On Top&quot;. This method is the opposite of #pull and is</span>
  <span class='comment val'># otherwise known as #unshift.</span>
  <span class='def def kw'>def</span> <span class='pot identifier id'>pot</span><span class='lparen token'>(</span> <span class='obj identifier id'>obj</span> <span class='rparen token'>)</span> <span class='Tuple constant id'>Tuple</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='rparen token'>)</span> <span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:unshift</span><span class='comma token'>,</span> <span class='symbol val'>:pot</span>
  <span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:shift</span><span class='comma token'>,</span> <span class='symbol val'>:pull</span>

  <span class='comment val'># Returns true if two tuple references are for the</span>
  <span class='comment val'># very same tuple.</span>
  <span class='def def kw'>def</span> <span class='eql? fid id'>eql?</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='object_id identifier id'>object_id</span> <span class='eq op'>==</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='object_id identifier id'>object_id</span>
    <span class='comment val'>#return true if values.eql? other.values</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='cmp op'>&lt;=&gt;</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
    <span class='other identifier id'>other</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='to_t identifier id'>to_t</span>
    <span class='lbrack token'>[</span><span class='size identifier id'>size</span><span class='comma token'>,</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='max identifier id'>max</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
      <span class='c identifier id'>c</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='cmp op'>&lt;=&gt;</span> <span class='other identifier id'>other</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span>
      <span class='return return kw'>return</span> <span class='c identifier id'>c</span> <span class='if if_mod kw'>if</span> <span class='c identifier id'>c</span> <span class='neq op'>!=</span> <span class='integer val'>0</span>
    <span class='end end kw'>end</span>
    <span class='integer val'>0</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># For pessimistic constraint (like '~&gt;' in gems)</span>
  <span class='def def kw'>def</span> <span class='match op'>=~</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
    <span class='other identifier id'>other</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='to_t identifier id'>to_t</span>
    <span class='upver identifier id'>upver</span> <span class='assign token'>=</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
    <span class='upver identifier id'>upver</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
    <span class='self self kw'>self</span> <span class='geq op'>&gt;=</span> <span class='other identifier id'>other</span> <span class='and and kw'>and</span> <span class='self self kw'>self</span> <span class='lt op'>&lt;</span> <span class='upver identifier id'>upver</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='first identifier id'>first</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='last identifier id'>last</span><span class='lparen token'>(</span><span class='rparen token'>)</span>  <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='last identifier id'>last</span> <span class='end end kw'>end</span>

  <span class='comment val'># These are useful for using a Tuple as a version.</span>
  <span class='def def kw'>def</span> <span class='major identifier id'>major</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='minor identifier id'>minor</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
  <span class='def def kw'>def</span> <span class='teeny identifier id'>teeny</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='@values ivar id'>@values</span><span class='dot token'>.</span><span class='at identifier id'>at</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'># Unique hash value.</span>
  <span class='def def kw'>def</span> <span class='hash identifier id'>hash</span>
    <span class='comment val'># TODO This needs to take into account the default</span>
    <span class='comment val'>#      and maybe the divider too.</span>
    <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='hash identifier id'>hash</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># class-level -----------------------------------------------</span>

  <span class='class class kw'>class</span> <span class='lshft op'>&lt;&lt;</span> <span class='self self kw'>self</span>

    <span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span> <span class='mult op'>*</span><span class='args identifier id'>args</span> <span class='rparen token'>)</span>
      <span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='args identifier id'>args</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Translates a string in the form on a set of numerical and/or</span>
    <span class='comment val'># alphanumerical characters separated by non-word characters (eg \W+)</span>
    <span class='comment val'># into a Tuple. The values of the tuple will be converted to integers</span>
    <span class='comment val'># if they are purely numerical.</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   Tuple.cast_from_string('1.2.3a')  #=&gt; [1,2,&quot;3a&quot;]</span>
    <span class='comment val'>#</span>
    <span class='comment val'># It you would like to control the interpretation of each value</span>
    <span class='comment val'># as it is added to the tuple you can supply a block.</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   Tuple.cast_from_string('1.2.3a'){ |v| v.upcase }  #=&gt; [&quot;1&quot;,&quot;2&quot;,&quot;3A&quot;]</span>
    <span class='comment val'>#</span>
    <span class='comment val'># This method is called by String#to_t.</span>

    <span class='def def kw'>def</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>/\W+/</span><span class='rparen token'>)</span>
      <span class='div identifier id'>div</span> <span class='assign token'>=</span> <span class='regexp val'>/\W+/</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
      <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
        <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='yld identifier id'>yld</span><span class='lbrack token'>[</span><span class='a identifier id'>a</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
      <span class='else else kw'>else</span>
        <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='regexp val'>/^[0-9]+$/</span> <span class='match op'>=~</span> <span class='i identifier id'>i</span> <span class='integer val'>? </span><span class='i identifier id'>i</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span> <span class='colon op'>:</span> <span class='i identifier id'>i</span> <span class='rbrace token'>}</span>
      <span class='end end kw'>end</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='args identifier id'>args</span> <span class='rparen token'>)</span><span class='dot token'>.</span><span class='divider identifier id'>divider</span><span class='lparen token'>(</span> <span class='div identifier id'>div</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>

    <span class='def def kw'>def</span> <span class='cast_from_array identifier id'>cast_from_array</span><span class='lparen token'>(</span> <span class='arr identifier id'>arr</span> <span class='rparen token'>)</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span> <span class='arr identifier id'>arr</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Parses a constraint returning the operation as a lambda.</span>

    <span class='def def kw'>def</span> <span class='constraint_to_lambda identifier id'>constraint_to_lambda</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='mult op'>*</span><span class='parse_constraint identifier id'>parse_constraint</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='lambda identifier id'>lambda</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='t identifier id'>t</span><span class='bitor op'>|</span> <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='parse_constraint identifier id'>parse_constraint</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
      <span class='constraint identifier id'>constraint</span> <span class='assign token'>=</span> <span class='constraint identifier id'>constraint</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span>
      <span class='re identifier id'>re</span> <span class='assign token'>=</span> <span class='regexp val'>%r{^(=~|~&gt;|&lt;=|&gt;=|==|=|&lt;|&gt;)?\s*(\d+(:?[-.]\d+)*)$}</span>
      <span class='if if kw'>if</span> <span class='md identifier id'>md</span> <span class='assign token'>=</span> <span class='re identifier id'>re</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span> <span class='rparen token'>)</span>
        <span class='if if kw'>if</span> <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=~'</span> <span class='if if_mod kw'>if</span> <span class='op identifier id'>op</span> <span class='eq op'>==</span> <span class='string val'>'~&gt;'</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=='</span> <span class='if if_mod kw'>if</span> <span class='op identifier id'>op</span> <span class='eq op'>==</span> <span class='string val'>'='</span>
          <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='md identifier id'>md</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span> <span class='comment val'>#instance( md[2] )</span>
        <span class='else else kw'>else</span>
          <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='string val'>'=='</span>
          <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cast_from_string identifier id'>cast_from_string</span><span class='lparen token'>(</span> <span class='constraint identifier id'>constraint</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span> <span class='comment val'>#instance( constraint )</span>
        <span class='end end kw'>end</span>
      <span class='else else kw'>else</span>
        <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;invalid constraint&quot;</span>
      <span class='end end kw'>end</span>
      <span class='return return kw'>return</span> <span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='val identifier id'>val</span>
    <span class='end end kw'>end</span>

  <span class='end end kw'>end</span>

<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>