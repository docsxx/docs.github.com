<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="syntax_highlight.css" type="text/css" charset="utf-8" />

    <title>README</title>
  </head>
  <body>
    <div id="content">
      <div class="section docstring readme">
        <h1>TinyMCE for Rails</h1>
<p>
This plugin provides for the installation and utilization of TinyMCE 3.2.2
in Ruby on Rails applications.
</p>
<p>
TinyMCE is a WYSIWYG HTML editing component released under the GNU Public
License 2.1 (GPL 2.1) by Moxiecode Systems (http://tinymce.moxiecode.com/).
</p>
<h2>Installation</h2>
<p>
Installing TinyMCE for Rails takes no more than a few minutes to install.
</p>
<h3>Step 1</h3>
<p>
Open a console, and in the root of you Rails application, install the
plugin by running one of the following (depending on the method you use to
import plugins):
</p>
<ul>
<li>script/plugin install git://github.com/kete/tiny_mce.git

</li>
<li>piston import git://github.com/kete/tiny_mce.git vendor/plugins/tiny_mce

</li>
<li>git submodule add git://github.com/kete/tiny_mce.git
vendor/plugins/tiny_mce

</li>
<li>Download the latest files ( http://github.com/kete/tiny_mce/tarball/master
) and extract to vendor/plugins/tiny_mce

</li>
</ul>
<h3>Step 2</h3>
<p>
Then install the necessary files into your public directory by running
</p>
<pre class="code">
  <span class='rake identifier id'>rake</span> <span class='tiny_mce identifier id'>tiny_mce</span><span class='symbol val'>:install</span>
</pre>
<p>
or, if you are updating a previously installed version
</p>
<pre class="code">
  <span class='rake identifier id'>rake</span> <span class='tiny_mce identifier id'>tiny_mce</span><span class='symbol val'>:update</span>
</pre>
<h3>Step 3</h3>
<p>
Add the following to the controller of the page you want to add TinyMCE to.
</p>
<pre class="code">
  <span class='uses_tiny_mce identifier id'>uses_tiny_mce</span>
</pre>
<p>
Then append the following to the text area you want to transform into a
TinyMCE editor. You can change the name by editing the
&#8216;editor_selector&#8217; param in the controller code options.
</p>
<pre class="code">
  <span class='symbol val'>:class</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;mceEditor&quot;</span>
</pre>
<p>
Lastly, add the following line(s) to the &lt;head&gt; element of your
application view:
</p>
<pre class="code">
  <span class='lt op'>&lt;</span><span class='string val'>%= include_tiny_mce_if_needed %&gt;
</span></pre>
<p>
Now you&#8217;re all set!
</p>
<h2>Configuration</h2>
<p>
There are several ways to configure the plugin to get the desirable effect
you&#8217;re looking for. The following ways can be combined to create
complex tiny mce setups
</p>
<h3>TinyMCE options</h3>
<p>
You can change the theme, order/choice of buttons, selectors Id, plugins,
and many more by passing an :options hash to the uses_tiny_mce declaration.
</p>
<p>
The options hash can contain any number of settings available in
tiny_mce_options.yml (a copy of the settings available per version).
</p>
<p>
If an option is misspelled, invalid, or deprecated (no longer in TinyMCE),
when you go to a page containing your editor, you will receive an
Exception, which must be dealt with before continuing.
</p>
<p>
You can read about all these options at
http://tinymce.moxiecode.com/documentation.php
</p>
<h4>Example</h4>
<pre class="code">
  <span class='uses_tiny_mce identifier id'>uses_tiny_mce</span> <span class='symbol val'>:options</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span>
                              <span class='symbol val'>:theme</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'advanced'</span><span class='comma token'>,</span>
                              <span class='symbol val'>:theme_advanced_resizing</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span>
                              <span class='symbol val'>:theme_advanced_resize_horizontal</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span><span class='comma token'>,</span>
                              <span class='symbol val'>:plugins</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='dstring node'>%w{ table fullscreen }</span>
                            <span class='rbrace token'>}</span>
</pre>
<h3>Filter options</h3>
<p>
If, like most applications, you only need the editor on the new, create,
edit, and update pages, then tell the uses_tiny_mce declaration this, so it
doesn&#8217;t load up all the files unnecessarily.
</p>
<p>
The declaration accepts any number of default parameters a normal
controller filter would.
</p>
<h4>Example</h4>
<pre class="code">
  <span class='uses_tiny_mce identifier id'>uses_tiny_mce</span> <span class='symbol val'>:only</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='symbol val'>:new</span><span class='comma token'>,</span> <span class='symbol val'>:create</span><span class='comma token'>,</span> <span class='symbol val'>:edit</span><span class='comma token'>,</span> <span class='symbol val'>:update</span><span class='rbrack token'>]</span>
</pre>
<h3>Additional Javascript options</h3>
<p>
Sometimes, when you need complex arrays of data for plugins or such, the
plugin helpers aren&#8217;t complex enough to do what you need. But you can
always fall back to supplying your own options. You can this by passing a
raw javascript (no &lt;script&gt; tags) to the uses_tiny_mce declaration.
Consider the following example for the template plugin.
</p>
<pre class="code">
  <span class='uses_tiny_mce identifier id'>uses_tiny_mce</span> <span class='symbol val'>:raw_options</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;template_templates : [ {
                                                          title : 'Editor Details',
                                                          src : 'editor_details.htm',
                                                          description : 'Adds Editors Name and Staff ID'
                                                      } ]&quot;</span>
</pre>
<h2>Methods</h2>
<p>
TinyMCE has a range of convenience methods for loading TinyMCE. Besides the
uses_tiny_mce shown above, they include:
</p>
<pre class="code">
  <span class='using_tiny_mce? fid id'>using_tiny_mce?</span>
      <span class='Check constant id'>Check</span> <span class='whether identifier id'>whether</span> <span class='the identifier id'>the</span> <span class='uses_tiny_mce identifier id'>uses_tiny_mce</span> <span class='declaration identifier id'>declaration</span> <span class='has identifier id'>has</span> <span class='been identifier id'>been</span> <span class='made identifier id'>made</span> <span class='in in kw'>in</span> <span class='the identifier id'>the</span> <span class='current identifier id'>current</span> <span class='controller identifier id'>controller</span>

  <span class='raw_tiny_mce_init identifier id'>raw_tiny_mce_init</span>
      <span class='Creates constant id'>Creates</span> <span class='a identifier id'>a</span> <span class='string identifier id'>string</span> <span class='of identifier id'>of</span> <span class='javascript identifier id'>javascript</span> <span class='formed identifier id'>formed</span> <span class='from identifier id'>from</span> <span class='the identifier id'>the</span> <span class='options identifier id'>options</span> <span class='declared identifier id'>declared</span> <span class='to identifier id'>to</span> <span class='uses_tiny_mce identifier id'>uses_tiny_mce</span> <span class='lparen token'>(</span><span class='is identifier id'>is</span> <span class='not not kw'>not</span> <span class='wrapped identifier id'>wrapped</span> <span class='in in kw'>in</span> <span class='a identifier id'>a</span> <span class='JS constant id'>JS</span> <span class='tag identifier id'>tag</span> <span class='though identifier id'>though</span><span class='comma token'>,</span> <span class='use identifier id'>use</span> <span class='tiny_mce_init identifier id'>tiny_mce_init</span> <span class='for for kw'>for</span> <span class='that identifier id'>that</span><span class='rparen token'>)</span>

  <span class='tiny_mce_init identifier id'>tiny_mce_init</span>
      <span class='Creates constant id'>Creates</span> <span class='a identifier id'>a</span> <span class='javascript identifier id'>javascript</span> <span class='tag identifier id'>tag</span> <span class='formed identifier id'>formed</span> <span class='from identifier id'>from</span> <span class='the identifier id'>the</span> <span class='options identifier id'>options</span> <span class='declared identifier id'>declared</span> <span class='to identifier id'>to</span> <span class='uses_tiny_mce identifier id'>uses_tiny_mce</span> <span class='lparen token'>(</span><span class='executes identifier id'>executes</span> <span class='whether identifier id'>whether</span> <span class='uses_tiny_mce identifier id'>uses_tiny_mce</span> <span class='was identifier id'>was</span> <span class='declared identifier id'>declared</span> <span class='or or kw'>or</span> <span class='not not kw'>not</span><span class='rparen token'>)</span>
  <span class='tiny_mce_init_if_needed identifier id'>tiny_mce_init_if_needed</span>
      <span class='Creates constant id'>Creates</span> <span class='a identifier id'>a</span> <span class='javascript identifier id'>javascript</span> <span class='tag identifier id'>tag</span> <span class='formed identifier id'>formed</span> <span class='from identifier id'>from</span> <span class='the identifier id'>the</span> <span class='options identifier id'>options</span> <span class='declared identifier id'>declared</span> <span class='to identifier id'>to</span> <span class='uses_tiny_mce identifier id'>uses_tiny_mce</span> <span class='lparen token'>(</span><span class='executes identifier id'>executes</span> <span class='only identifier id'>only</span> <span class='when when kw'>when</span> <span class='uses_tiny_mce identifier id'>uses_tiny_mce</span> <span class='has identifier id'>has</span> <span class='been identifier id'>been</span> <span class='declared identifier id'>declared</span><span class='rparen token'>)</span>

  <span class='include_tiny_mce_js identifier id'>include_tiny_mce_js</span>
      <span class='Includes constant id'>Includes</span> <span class='the identifier id'>the</span> <span class='TinyMCE constant id'>TinyMCE</span> <span class='core identifier id'>core</span> <span class='javascript identifier id'>javascript</span> <span class='file identifier id'>file</span><span class='comma token'>,</span> <span class='must identifier id'>must</span> <span class='be identifier id'>be</span> <span class='declared identifier id'>declared</span> <span class='before identifier id'>before</span> <span class='tiny_mce_init identifier id'>tiny_mce_init</span> <span class='lparen token'>(</span><span class='executes identifier id'>executes</span> <span class='whether identifier id'>whether</span> <span class='uses_tiny_mce identifier id'>uses_tiny_mce</span> <span class='was identifier id'>was</span> <span class='declared identifier id'>declared</span> <span class='or or kw'>or</span> <span class='not not kw'>not</span><span class='rparen token'>)</span>
  <span class='include_tiny_mce_js_if_needed identifier id'>include_tiny_mce_js_if_needed</span>
      <span class='Includes constant id'>Includes</span> <span class='the identifier id'>the</span> <span class='TinyMCE constant id'>TinyMCE</span> <span class='core identifier id'>core</span> <span class='javascript identifier id'>javascript</span> <span class='file identifier id'>file</span><span class='comma token'>,</span> <span class='must identifier id'>must</span> <span class='be identifier id'>be</span> <span class='declared identifier id'>declared</span> <span class='before identifier id'>before</span> <span class='tiny_mce_init identifier id'>tiny_mce_init</span> <span class='lparen token'>(</span><span class='executes identifier id'>executes</span> <span class='only identifier id'>only</span> <span class='when when kw'>when</span> <span class='uses_tiny_mce identifier id'>uses_tiny_mce</span> <span class='has identifier id'>has</span> <span class='been identifier id'>been</span> <span class='declared identifier id'>declared</span><span class='rparen token'>)</span>

  <span class='include_tiny_mce_if_needed identifier id'>include_tiny_mce_if_needed</span>
      <span class='Includes constant id'>Includes</span> <span class='the identifier id'>the</span> <span class='TinyMCE constant id'>TinyMCE</span> <span class='core identifier id'>core</span> <span class='javascript identifier id'>javascript</span> <span class='file identifier id'>file</span><span class='comma token'>,</span> <span class='and and kw'>and</span> <span class='creates identifier id'>creates</span> <span class='a identifier id'>a</span> <span class='string identifier id'>string</span> <span class='of identifier id'>of</span> <span class='javascript identifier id'>javascript</span> <span class='formed identifier id'>formed</span> <span class='from identifier id'>from</span> <span class='the identifier id'>the</span> <span class='options identifier id'>options</span> <span class='declared identifier id'>declared</span> <span class='to identifier id'>to</span> <span class='uses_tiny_mce identifier id'>uses_tiny_mce</span> <span class='lparen token'>(</span><span class='executes identifier id'>executes</span> <span class='only identifier id'>only</span> <span class='when when kw'>when</span> <span class='uses_tiny_mce identifier id'>uses_tiny_mce</span> <span class='has identifier id'>has</span> <span class='been identifier id'>been</span> <span class='declared identifier id'>declared</span><span class='rparen token'>)</span>
</pre>
<h2>Spellchecking</h2>
<p>
See SPELLCHECKING_PLUGIN.rdoc
</p>
<p>
http://github.com/kete/tiny_mce/tree/master/SPELLCHECKING_PLUGIN.rdoc
</p>
<h2>Testing</h2>
<p>
The plugin comes with a test suite that can be run once the plugin is
installed in an application.
</p>
<p>
Change into the plugins directory and run &#8216;rake&#8217; to start them.
</p>
<p>
Note: The tests require Rails 2.2 or higher, and are currently tested on
Rails 2.3 RC1 (so problems in older versions may arise - please see
&quot;Reporting an Issue&quot; if they do)
</p>
<h2>Reporting an Issue</h2>
<p>
If you have a problem, please report it on the tiny_mce plugin ticket
tracker (on Ligthouseapp)
</p>
<p>
http://kete.lighthouseapp.com/projects/14744-tiny_mce/tickets
</p>
<p>
Be sure to include Rails version, plugin version, and when possible, a
sample application that can reproduce the problem. Upload it to one of the
various file hosting sites and link to it in the ticket. Don&#8217;t
include vendored rails or the tiny_mce plugin in the archive (if I know the
versions, I&#8217;ll add these myself).
</p>
<h2>Contributing</h2>
<p>
If you&#8217;ve added something, why not share it. Fork the repository
(http://github.com/kete/tiny_mce), make the changes and send a pull request
to the maintainers.
</p>
<p>
Changes with tests, and full documentation are preferred.
</p>
<h1>Credits</h1>
<p>
This plugin was created by Blake Watters &lt;blake@near-time.com&gt;
</p>
<p>
This plugin is currently maintained by Kieran Pilkington
&lt;kieran@katipo.co.nz&gt;
</p>
<p>
Bundled TinyMCE version: 3.2.2
</p>

      </div>
    </div>
  </body>
</html>