<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>smacks's apricoteatsgorilla - Class: ApricotEatsGorilla - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/smacks/commits/apricoteatsgorilla/master" rel="alternate" title="Recent Commits to apricoteatsgorilla:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("smacks", "apricoteatsgorilla", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='smacks/apricoteatsgorilla/blob/ba62f0b1d242b47a0a198959323c13e8f1f1e909' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='smacks/apricoteatsgorilla/blob/ba62f0b1d242b47a0a198959323c13e8f1f1e909' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("smacks", "apricoteatsgorilla", "ba62f0b1d242b47a0a198959323c13e8f1f1e909", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/smacks/apricoteatsgorilla/tree/">Source</a></li>
            <li class=""><a href="http://github.com/smacks/apricoteatsgorilla/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/smacks/apricoteatsgorilla/network">Network</a></li>            
            <li class=""><a href="http://github.com/smacks/apricoteatsgorilla/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/smacks/apricoteatsgorilla">Wiki</a></li>
            <li class=""><a href="http://github.com/smacks/apricoteatsgorilla/graphs">Graphs</a></li>                    
            <li class="active"><a href="/smacks/apricoteatsgorilla">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/smacks">smacks</a> / <b><a href="http://github.com/smacks/apricoteatsgorilla/tree">apricoteatsgorilla</a></b>        
                <a id="namespaces_button" rel="smacks/apricoteatsgorilla/blob/ba62f0b1d242b47a0a198959323c13e8f1f1e909" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="smacks/apricoteatsgorilla/blob/ba62f0b1d242b47a0a198959323c13e8f1f1e909" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class ApricotEatsGorilla">
  <h1>Class: ApricotEatsGorilla</h1>
  <div class="section docstring">
  <p>
Apricot eats Gorilla is a SOAP communication helper.
</p>
<p>
It translates between SOAP messages (XML) and Ruby Hashes while offering
some helpful methods for working with SOAP webservices. Apricot eats
Gorilla was initially based on CobraVsMongoose but uses Hpricot instead of
REXML.
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Class Attributes</h2>
      <table>
      
        <tr>
          <th class="name">disable_hash_keys_to_snake_case</td>
          <td class="readwrite">
            [<span id='disable_hash_keys_to_snake_case-class_method'>R</span><span id='disable_hash_keys_to_snake_case=-class_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Flag to disable conversion of Hash keys to snake_case.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">disable_hash_keys_to_symbol</td>
          <td class="readwrite">
            [<span id='disable_hash_keys_to_symbol-class_method'>R</span><span id='disable_hash_keys_to_symbol=-class_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Flag to disable conversion of Hash keys to Symbols.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">disable_tag_names_to_lower_camel_case</td>
          <td class="readwrite">
            [<span id='disable_tag_names_to_lower_camel_case-class_method'>R</span><span id='disable_tag_names_to_lower_camel_case=-class_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Flag to disable conversion of tag names to lowerCamelCase.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">node_namespace</td>
          <td class="readwrite">
            [<span id='node_namespace-class_method'>R</span><span id='node_namespace=-class_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
The namespace for nodes set by nodes_to_namespace.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">nodes_to_namespace</td>
          <td class="readwrite">
            [<span id='nodes_to_namespace-class_method'>R</span><span id='nodes_to_namespace=-class_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Array of XML nodes to add a namespace to.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">sort_keys</td>
          <td class="readwrite">
            [<span id='sort_keys-class_method'>R</span><span id='sort_keys=-class_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Flag to enable sorting of Hash keys.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-5B-5D-class_method">[]</span><span class='args'>(source, root_node = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Shortcut method for translating between XML Strings and Ruby Hashes.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#hash_to_xml-class_method">hash_to_xml</span><span class='args'>(hash)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Converts a given Ruby Hash into an XML String.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#setup-class_method">setup</span><span class='args'></span>
        <span class='block'>{|_self| ... }</span>
        
      </th>
      <td class="docstring">
        <p>
Yields this class object in case a <tt>block</tt> was given.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#soap_envelope-class_method">soap_envelope</span><span class='args'>(namespaces = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Builds a SOAP request envelope and includes the content from a given
<tt>block</tt> into the envelope body.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_lower_camel_case-class_method">to_lower_camel_case</span><span class='args'>(string)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Converts a given <tt>string</tt> from snake_case to lowerCamelCase.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_snake_case-class_method">to_snake_case</span><span class='args'>(string)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Converts a given <tt>string</tt> from CamelCase/lowerCamelCase to
snake_case.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#xml_to_hash-class_method">xml_to_hash</span><span class='args'>(xml, root_node = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Converts a given <tt>xml</tt> String into a Ruby Hash.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>[]</h3>
</div><div id="-5B-5D-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>[]</span><span class='args'>(source, root_node = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Shortcut method for translating between XML Strings and Ruby Hashes.
Delegates to xml_to_hash in case <tt>source</tt> is of type String or
delegates to hash_to_xml in case <tt>source</tt> is of type Hash. Returns
nil otherwise.
</p>
<h4>Parameters</h4>
<ul>
<li><tt>source</tt> - The XML String or Ruby Hash to translate.

</li>
<li><tt>root_node</tt> - Optional. Custom root node to start parsing the given
XML.

</li>
</ul>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/apricoteatsgorilla.rb', line 38</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/smacks/apricoteatsgorilla/blob/ba62f0b1d242b47a0a198959323c13e8f1f1e909/lib/apricoteatsgorilla.rb#L38">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">38
39
40
41
42
43
44
45
46
47</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='comma token'>,</span> <span class='root_node identifier id'>root_node</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='case case kw'>case</span> <span class='source identifier id'>source</span>
  <span class='when when kw'>when</span> <span class='String constant id'>String</span>
    <span class='xml_to_hash identifier id'>xml_to_hash</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='comma token'>,</span> <span class='root_node identifier id'>root_node</span><span class='rparen token'>)</span>
  <span class='when when kw'>when</span> <span class='Hash constant id'>Hash</span>
    <span class='hash_to_xml identifier id'>hash_to_xml</span><span class='lparen token'>(</span><span class='source identifier id'>source</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='nil nil kw'>nil</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>hash_to_xml</h3>
</div><div id="hash_to_xml-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>hash_to_xml</span><span class='args'>(hash)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Converts a given Ruby Hash into an XML String. Converts Hash keys from
snake_case to lowerCamelCase by default.
</p>
<h4>Parameters</h4>
<ul>
<li><tt>hash</tt> - The Ruby Hash to translate.

</li>
</ul>
<h4>Examples</h4>
<pre class="code">
  <span class='hash identifier id'>hash</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:apricot</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span> <span class='symbol val'>:eats</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Gorilla&quot;</span> <span class='rbrace token'>}</span> <span class='rbrace token'>}</span>
  <span class='ApricotEatsGorilla constant id'>ApricotEatsGorilla</span><span class='lbrack token'>[</span><span class='hash identifier id'>hash</span><span class='rbrack token'>]</span>
  <span class='comment val'># =&gt; &quot;&lt;apricot&gt;&lt;eats&gt;Gorilla&lt;/eats&gt;&lt;/apricot&gt;&quot;</span>

  <span class='hash identifier id'>hash</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:apricot</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span> <span class='symbol val'>:eats</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span> <span class='string val'>&quot;Gorillas&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;Snakes&quot;</span> <span class='rbrack token'>]</span> <span class='rbrace token'>}</span> <span class='rbrace token'>}</span>
  <span class='ApricotEatsGorilla constant id'>ApricotEatsGorilla</span><span class='lbrack token'>[</span><span class='hash identifier id'>hash</span><span class='rbrack token'>]</span>
  <span class='comment val'># =&gt; &quot;&lt;apricot&gt;&lt;eats&gt;Gorillas&lt;/eats&gt;&lt;eats&gt;Snakes&lt;/eats&gt;&lt;/apricot&gt;&quot;</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/apricoteatsgorilla.rb', line 109</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/smacks/apricoteatsgorilla/blob/ba62f0b1d242b47a0a198959323c13e8f1f1e909/lib/apricoteatsgorilla.rb#L109">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">109
110
111</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='hash_to_xml identifier id'>hash_to_xml</span><span class='lparen token'>(</span><span class='hash identifier id'>hash</span><span class='rparen token'>)</span>
  <span class='nested_data_to_xml identifier id'>nested_data_to_xml</span><span class='lparen token'>(</span><span class='hash identifier id'>hash</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='comma token'>,</span> <span class='hash identifier id'>hash</span><span class='dot token'>.</span><span class='values identifier id'>values</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>setup</h3>
</div><div id="setup-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>setup</span><span class='args'></span>
    <span class='block'>{|_self| ... }</span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Yields this class object in case a <tt>block</tt> was given. Nice way for
setting multiple options at once.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="yieldparam">
  <h3>Yield Parameters:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="" title="ApricotEatsGorilla">ApricotEatsGorilla</a></tt>]</span>
      
      
        <span class='name'>_self</span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
the object that the method was called on
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/apricoteatsgorilla.rb', line 51</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/smacks/apricoteatsgorilla/blob/ba62f0b1d242b47a0a198959323c13e8f1f1e909/lib/apricoteatsgorilla.rb#L51">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">51
52
53</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='setup identifier id'>setup</span>
  <span class='yield yield kw'>yield</span> <span class='self self kw'>self</span> <span class='if if_mod kw'>if</span> <span class='block_given? fid id'>block_given?</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>soap_envelope</h3>
</div><div id="soap_envelope-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>soap_envelope</span><span class='args'>(namespaces = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Builds a SOAP request envelope and includes the content from a given
<tt>block</tt> into the envelope body. Accepts a Hash (namespace =&gt;
namespace_uri) of additional <tt>namespaces</tt> to set.
</p>
<h4>Parameters</h4>
<ul>
<li><tt>namespaces</tt> - A Hash of namespaces and their URI.

</li>
</ul>
<h4>Examples</h4>
<pre class="code">
 <span class='ApricotEatsGorilla constant id'>ApricotEatsGorilla</span><span class='dot token'>.</span><span class='soap_envelope identifier id'>soap_envelope</span> <span class='lbrace token'>{</span> <span class='string val'>&quot;&lt;authenticate&gt;me&lt;/authenticate&gt;&quot;</span> <span class='rbrace token'>}</span>

 <span class='comment val'># =&gt; '&lt;env:Envelope xmlns:env=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;</span>
 <span class='comment val'># =&gt;    &lt;env:Body&gt;</span>
 <span class='comment val'># =&gt;      &lt;authenticate&gt;me&lt;/authenticate&gt;</span>
 <span class='comment val'># =&gt;    &lt;/env:Body&gt;</span>
 <span class='comment val'># =&gt;  &lt;/env:Envelope&gt;'</span>

 <span class='ApricotEatsGorilla constant id'>ApricotEatsGorilla</span><span class='dot token'>.</span><span class='soap_envelope identifier id'>soap_envelope</span> <span class='symbol val'>:wsdl</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;http://example.com&quot;</span> <span class='do do kw'>do</span>
   <span class='string val'>&quot;&lt;authenticate&gt;me&lt;/authenticate&gt;&quot;</span>
 <span class='end end kw'>end</span>

 <span class='comment val'># =&gt; '&lt;env:Envelope</span>
 <span class='comment val'># =&gt;    xmlns:wsdl=&quot;http://example.com&quot;</span>
 <span class='comment val'># =&gt;    xmlns:env=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;</span>
 <span class='comment val'># =&gt;    &lt;env:Body&gt;</span>
 <span class='comment val'># =&gt;      &lt;authenticate&gt;me&lt;/authenticate&gt;</span>
 <span class='comment val'># =&gt;    &lt;/env:Body&gt;</span>
 <span class='comment val'># =&gt;  &lt;/env:Envelope&gt;'</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/apricoteatsgorilla.rb', line 142</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/smacks/apricoteatsgorilla/blob/ba62f0b1d242b47a0a198959323c13e8f1f1e909/lib/apricoteatsgorilla.rb#L142">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">142
143
144
145
146
147
148
149</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='soap_envelope identifier id'>soap_envelope</span><span class='lparen token'>(</span><span class='namespaces identifier id'>namespaces</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='namespaces identifier id'>namespaces</span><span class='lbrack token'>[</span><span class='string val'>&quot;env&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='string val'>&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;</span>
  <span class='tag identifier id'>tag</span><span class='lparen token'>(</span><span class='string val'>&quot;env:Envelope&quot;</span><span class='comma token'>,</span> <span class='namespaces identifier id'>namespaces</span><span class='rparen token'>)</span> <span class='do do kw'>do</span>
    <span class='tag identifier id'>tag</span><span class='lparen token'>(</span><span class='string val'>&quot;env:Body&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span>
      <span class='yield yield kw'>yield</span> <span class='if if_mod kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_lower_camel_case</h3>
</div><div id="to_lower_camel_case-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_lower_camel_case</span><span class='args'>(string)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Converts a given <tt>string</tt> from snake_case to lowerCamelCase.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/apricoteatsgorilla.rb', line 159</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/smacks/apricoteatsgorilla/blob/ba62f0b1d242b47a0a198959323c13e8f1f1e909/lib/apricoteatsgorilla.rb#L159">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">159
160
161</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_lower_camel_case identifier id'>to_lower_camel_case</span><span class='lparen token'>(</span><span class='string identifier id'>string</span><span class='rparen token'>)</span>
  <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/_(.)/</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='$1 nth_ref id'>$1</span><span class='dot token'>.</span><span class='upcase identifier id'>upcase</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_snake_case</h3>
</div><div id="to_snake_case-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_snake_case</span><span class='args'>(string)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Converts a given <tt>string</tt> from CamelCase/lowerCamelCase to
snake_case.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/apricoteatsgorilla.rb', line 152</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/smacks/apricoteatsgorilla/blob/ba62f0b1d242b47a0a198959323c13e8f1f1e909/lib/apricoteatsgorilla.rb#L152">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">152
153
154
155
156</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_snake_case identifier id'>to_snake_case</span><span class='lparen token'>(</span><span class='string identifier id'>string</span><span class='rparen token'>)</span>
  <span class='string identifier id'>string</span> <span class='assign token'>=</span> <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/[A-Z]+/</span><span class='comma token'>,</span> <span class='string val'>'\1_\0'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span>
  <span class='string identifier id'>string</span> <span class='assign token'>=</span> <span class='string identifier id'>string</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='length identifier id'>length</span><span class='minus op'>-</span><span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='string identifier id'>string</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='string val'>&quot;_&quot;</span>
  <span class='string identifier id'>string</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>xml_to_hash</h3>
</div><div id="xml_to_hash-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>xml_to_hash</span><span class='args'>(xml, root_node = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Converts a given <tt>xml</tt> String into a Ruby Hash. Starts parsing at
root node by default. The optional <tt>root_node</tt> parameter can be used
to specify a custom root node to start parsing at using an XPath (Hpricot
search). The root node itself won&#8217;t be included in the Hash. Converts
tag names from CamelCase/lowerCamelCase to snake_case and into Symbols by
default.
</p>
<h4>Parameters</h4>
<ul>
<li><tt>xml</tt> - The XML String to translate.

</li>
<li><tt>root_node</tt> - Optional. Custom root node to start parsing the given
XML.

</li>
</ul>
<h4>Examples</h4>
<pre class="code">
  <span class='xml identifier id'>xml</span> <span class='assign token'>=</span> <span class='string val'>&quot;&lt;apricot&gt;&lt;eats&gt;Gorilla&lt;/eats&gt;&lt;/apricot&gt;&quot;</span>
  <span class='ApricotEatsGorilla constant id'>ApricotEatsGorilla</span><span class='lbrack token'>[</span><span class='xml identifier id'>xml</span><span class='rbrack token'>]</span>
  <span class='comment val'># =&gt; { :eats =&gt; &quot;Gorilla&quot; }</span>

  <span class='xml identifier id'>xml</span> <span class='assign token'>=</span> <span class='string val'>&quot;&lt;apricot&gt;&lt;eats&gt;&lt;lotsOf&gt;Gorillas&lt;/lotsOf&gt;&lt;/eats&gt;&lt;/apricot&gt;&quot;</span>
  <span class='ApricotEatsGorilla constant id'>ApricotEatsGorilla</span><span class='lbrack token'>[</span><span class='xml identifier id'>xml</span><span class='comma token'>,</span> <span class='string val'>&quot;//eats&quot;</span><span class='rbrack token'>]</span>
  <span class='comment val'># =&gt; { :lots_of =&gt; &quot;Gorillas&quot; }</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/apricoteatsgorilla.rb', line 75</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/smacks/apricoteatsgorilla/blob/ba62f0b1d242b47a0a198959323c13e8f1f1e909/lib/apricoteatsgorilla.rb#L75">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='xml_to_hash identifier id'>xml_to_hash</span><span class='lparen token'>(</span><span class='xml identifier id'>xml</span><span class='comma token'>,</span> <span class='root_node identifier id'>root_node</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='doc identifier id'>doc</span> <span class='assign token'>=</span> <span class='Hpricot constant id'>Hpricot</span><span class='dot token'>.</span><span class='XML constant id'>XML</span> <span class='clean_xml identifier id'>clean_xml</span><span class='lparen token'>(</span><span class='xml identifier id'>xml</span><span class='rparen token'>)</span>
  <span class='root identifier id'>root</span> <span class='assign token'>=</span> <span class='root_node identifier id'>root_node</span> <span class='integer val'>? </span><span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='root_node identifier id'>root_node</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='root identifier id'>root</span>

  <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span> <span class='if if_mod kw'>if</span> <span class='root identifier id'>root</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
  <span class='comment val'># root is an Hpricot::Elements object</span>
  <span class='if if kw'>if</span> <span class='root identifier id'>root</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:count</span><span class='rparen token'>)</span>
    <span class='comment val'># root is an Hpricot::Elements object with only one element</span>
    <span class='return return kw'>return</span> <span class='root identifier id'>root</span><span class='dot token'>.</span><span class='entries identifier id'>entries</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='xml_node_to_hash identifier id'>xml_node_to_hash</span><span class='lparen token'>(</span><span class='e identifier id'>e</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span> <span class='if if_mod kw'>if</span> <span class='root identifier id'>root</span><span class='dot token'>.</span><span class='count identifier id'>count</span> <span class='gt op'>&gt;</span> <span class='integer val'>1</span>
    <span class='root identifier id'>root</span> <span class='assign token'>=</span> <span class='root identifier id'>root</span><span class='dot token'>.</span><span class='entries identifier id'>entries</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
    <span class='if if kw'>if</span> <span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='eq op'>==</span> <span class='integer val'>1</span> <span class='andop op'>&amp;&amp;</span> <span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='dot token'>.</span><span class='text? fid id'>text?</span>
      <span class='comment val'># root contains text only</span>
      <span class='return return kw'>return</span> <span class='root identifier id'>root</span><span class='dot token'>.</span><span class='children identifier id'>children</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='xml_node_to_hash identifier id'>xml_node_to_hash</span><span class='lparen token'>(</span><span class='root identifier id'>root</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> Â©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>