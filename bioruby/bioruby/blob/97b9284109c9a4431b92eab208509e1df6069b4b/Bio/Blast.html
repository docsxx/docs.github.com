<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>bioruby's bioruby - Class: Bio::Blast - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/bioruby/commits/bioruby/master" rel="alternate" title="Recent Commits to bioruby:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("bioruby", "bioruby", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("bioruby", "bioruby", "97b9284109c9a4431b92eab208509e1df6069b4b", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/bioruby/bioruby/tree/">Source</a></li>
            <li class=""><a href="http://github.com/bioruby/bioruby/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/bioruby/bioruby/network">Network</a></li>            
            <li class=""><a href="http://github.com/bioruby/bioruby/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/bioruby/bioruby">Wiki</a></li>
            <li class=""><a href="http://github.com/bioruby/bioruby/graphs">Graphs</a></li>                    
            <li class="active"><a href="/bioruby/bioruby">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/bioruby">bioruby</a> / <b><a href="http://github.com/bioruby/bioruby/tree">bioruby</a></b>        
                <a id="namespaces_button" rel="bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Bio_Blast">
  <h1>Class: Bio::Blast</h1>
  <div class="section docstring">
  <h2>Description</h2>
<p>
The Bio::Blast class contains methods for running local or remote BLAST
searches, as well as for parsing of the output of such BLASTs (i.e. the
BLAST reports). For more information on similarity searches and the BLAST
program, see
http://www.ncbi.nlm.nih.gov/Education/BLASTinfo/similarity.html.
</p>
<h2>Usage</h2>
<pre class="code">
  <span class='require identifier id'>require</span> <span class='string val'>'bio'</span>

  <span class='comment val'># To run an actual BLAST analysis:</span>
  <span class='comment val'>#   1. create a BLAST factory</span>
  <span class='remote_blast_factory identifier id'>remote_blast_factory</span> <span class='assign token'>=</span> <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='Blast constant id'>Blast</span><span class='dot token'>.</span><span class='remote identifier id'>remote</span><span class='lparen token'>(</span><span class='string val'>'blastp'</span><span class='comma token'>,</span> <span class='string val'>'SWISS'</span><span class='comma token'>,</span>
                                           <span class='string val'>'-e 0.0001'</span><span class='comma token'>,</span> <span class='string val'>'genomenet'</span><span class='rparen token'>)</span>
  <span class='comment val'>#or:</span>
  <span class='local_blast_factory identifier id'>local_blast_factory</span> <span class='assign token'>=</span> <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='Blast constant id'>Blast</span><span class='dot token'>.</span><span class='local identifier id'>local</span><span class='lparen token'>(</span><span class='string val'>'blastn'</span><span class='comma token'>,</span><span class='string val'>'/path/to/db'</span><span class='rparen token'>)</span>

  <span class='comment val'>#   2. run the actual BLAST by querying the factory</span>
  <span class='report identifier id'>report</span> <span class='assign token'>=</span> <span class='remote_blast_factory identifier id'>remote_blast_factory</span><span class='dot token'>.</span><span class='query identifier id'>query</span><span class='lparen token'>(</span><span class='sequence_text identifier id'>sequence_text</span><span class='rparen token'>)</span>

  <span class='comment val'># Then, to parse the report, see Bio::Blast::Report</span>
</pre>
<h2>See also</h2>
<ul>
<li>Bio::Blast::Report

</li>
<li>Bio::Blast::Report::Hit

</li>
<li>Bio::Blast::Report::Hsp

</li>
</ul>
<h2>References</h2>
<ul>
<li>http://www.ncbi.nlm.nih.gov/blast/

</li>
<li>http://www.ncbi.nlm.nih.gov/Education/BLASTinfo/similarity.html

</li>
<li>http://blast.genome.jp/ideas/ideas.html#blast

</li>
</ul>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">blastall</td>
          <td class="readwrite">
            [<span id='blastall-instance_method'>R</span><span id='blastall=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Full path for blastall.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">db</td>
          <td class="readwrite">
            [<span id='db-instance_method'>R</span><span id='db=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Database name (_-d_ option for blastall).
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">filter</td>
          <td class="readwrite">
            [<span id='filter-instance_method'>R</span><span id='filter=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Filter option for blastall -F (T or F).
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">format</td>
          <td class="readwrite">
            [<span id='format-instance_method'>R</span><span id='format=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Output report format for blastall -m .
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">matrix</td>
          <td class="readwrite">
            [<span id='matrix-instance_method'>R</span><span id='matrix=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Substitution matrix for blastall -M.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">options</td>
          <td class="readwrite">
            [<span id='options-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Options for blastall.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">output</td>
          <td class="readwrite">
            [<span id='output-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns a String containing blast execution output in as is the
Bio::Blast#format.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">parser</td>
          <td class="readwrite">
            [R<span id='parser=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
to change :xmlparser, :rexml, :tab.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">program</td>
          <td class="readwrite">
            [<span id='program-instance_method'>R</span><span id='program=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Program name (_-p_ option for blastall): blastp, blastn, blastx, tblastn or
tblastx.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">server</td>
          <td class="readwrite">
            [<span id='server-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Server to submit the BLASTs to.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(program, db, opt = [], server = 'local')</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Creates a Bio::Blast factory object.
</p>
<p>
To run any BLAST searches, a factory has to be created that describes a
certain BLAST pipeline: the program to use, the database to search, any
options and the server to use. E.g.
</p>
<pre class="code">
  <span class='blast_factory identifier id'>blast_factory</span> <span class='assign token'>=</span> <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='Blast constant id'>Blast</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'blastn'</span><span class='comma token'>,</span><span class='string val'>'dbsts'</span><span class='comma token'>,</span> <span class='string val'>'-e 0.0001 -r 4'</span><span class='comma token'>,</span> <span class='string val'>'genomenet'</span><span class='rparen token'>)</span>
</pre>
<hr size="1"></hr><p>
<b>Arguments</b>:
</p>
<ul>
<li><em>program</em> (required): &#8216;blastn&#8217;, &#8216;blastp&#8217;,
&#8216;blastx&#8217;, &#8216;tblastn&#8217; or &#8216;tblastx&#8217;

</li>
<li><em>db</em> (required): name of the (local or remote) database

</li>
<li><em>options</em>: blastall options # (see
http://www.genome.jp/dbget-bin/show_man?blast2)

</li>
<li><em>server</em>: server to use (e.g. &#8216;genomenet&#8217;; DEFAULT =
&#8216;local&#8217;)

</li>
</ul>
<table>
<tr><td valign="top"><b>Returns</b>:</td><td>Bio::Blast factory object

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/appl/blast.rb', line 317</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/appl/blast.rb#L317">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">317
318
319
320
321
322
323
324
325
326
327
328
329
330
331</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='program identifier id'>program</span><span class='comma token'>,</span> <span class='db identifier id'>db</span><span class='comma token'>,</span> <span class='opt identifier id'>opt</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='server identifier id'>server</span> <span class='assign token'>=</span> <span class='string val'>'local'</span><span class='rparen token'>)</span>
  <span class='@program ivar id'>@program</span>  <span class='assign token'>=</span> <span class='program identifier id'>program</span>
  <span class='@db ivar id'>@db</span>       <span class='assign token'>=</span> <span class='db identifier id'>db</span>

  <span class='@blastall ivar id'>@blastall</span> <span class='assign token'>=</span> <span class='string val'>'blastall'</span>
  <span class='@matrix ivar id'>@matrix</span>   <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@filter ivar id'>@filter</span>   <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>

  <span class='@output ivar id'>@output</span>   <span class='assign token'>=</span> <span class='string val'>''</span>
  <span class='@parser ivar id'>@parser</span>   <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@format ivar id'>@format</span>   <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>

  <span class='@options ivar id'>@options</span> <span class='assign token'>=</span> <span class='set_options identifier id'>set_options</span><span class='lparen token'>(</span><span class='opt identifier id'>opt</span><span class='comma token'>,</span> <span class='program identifier id'>program</span><span class='comma token'>,</span> <span class='db identifier id'>db</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='server identifier id'>server</span> <span class='assign token'>=</span> <span class='server identifier id'>server</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#local-class_method">local</span><span class='args'>(program, db, options = '', blastall = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
This is a shortcut for Bio::Blast.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#remote-class_method">remote</span><span class='args'>(program, db, option = '', server = 'genomenet')</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Bio::Blast.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#reports-class_method">reports</span><span class='args'>(input, parser = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Bio::Blast.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#reports_xml-class_method">reports_xml</span><span class='args'>(input, parser = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
&#8212; the method Bio::Blast.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#option-instance_method">#option</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns options of blastall.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#option-3D-instance_method">#option=</span><span class='args'>(str)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Set options for blastall.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#options-3D-instance_method">#options=</span><span class='args'>(ary)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Sets options for blastall.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#query-instance_method">#query</span><span class='args'>(query)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
This method submits a sequence to a BLAST factory, which performs the
actual BLAST.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#server-3D-instance_method">#server=</span><span class='args'>(str)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Sets server to submit the BLASTs to.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>local</h3>
</div><div id="local-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>local</span><span class='args'>(program, db, options = '', blastall = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This is a shortcut for Bio::Blast.new:
</p>
<pre class="code">
 <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='Blast constant id'>Blast</span><span class='dot token'>.</span><span class='local identifier id'>local</span><span class='lparen token'>(</span><span class='program identifier id'>program</span><span class='comma token'>,</span> <span class='database identifier id'>database</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
</pre>
<p>
is equivalent to
</p>
<pre class="code">
 <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='Blast constant id'>Blast</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='program identifier id'>program</span><span class='comma token'>,</span> <span class='database identifier id'>database</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='string val'>'local'</span><span class='rparen token'>)</span>
</pre>
<hr size="1"></hr><p>
<b>Arguments</b>:
</p>
<ul>
<li><em>program</em> (required): &#8216;blastn&#8217;, &#8216;blastp&#8217;,
&#8216;blastx&#8217;, &#8216;tblastn&#8217; or &#8216;tblastx&#8217;

</li>
<li><em>db</em> (required): name of the local database

</li>
<li><em>options</em>: blastall options # (see
http://www.genome.jp/dbget-bin/show_man?blast2)

</li>
<li><em>blastall</em>: full path to blastall program (e.g.
&quot;/opt/bin/blastall&quot;; DEFAULT: &quot;blastall&quot;)

</li>
</ul>
<table>
<tr><td valign="top"><b>Returns</b>:</td><td>Bio::Blast factory object

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/appl/blast.rb', line 79</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/appl/blast.rb#L79">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">79
80
81
82
83
84
85</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='local identifier id'>local</span><span class='lparen token'>(</span><span class='program identifier id'>program</span><span class='comma token'>,</span> <span class='db identifier id'>db</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='string val'>''</span><span class='comma token'>,</span> <span class='blastall identifier id'>blastall</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='f identifier id'>f</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='program identifier id'>program</span><span class='comma token'>,</span> <span class='db identifier id'>db</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='string val'>'local'</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='blastall identifier id'>blastall</span> <span class='then then kw'>then</span>
    <span class='f identifier id'>f</span><span class='dot token'>.</span><span class='blastall identifier id'>blastall</span> <span class='assign token'>=</span> <span class='blastall identifier id'>blastall</span>
  <span class='end end kw'>end</span>
  <span class='f identifier id'>f</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>remote</h3>
</div><div id="remote-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>remote</span><span class='args'>(program, db, option = '', server = 'genomenet')</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Bio::Blast.remote does exactly the same as Bio::Blast.new, but sets the
remote server &#8216;genomenet&#8217; as its default.
</p>
<hr size="1"></hr><p>
<b>Arguments</b>:
</p>
<ul>
<li><em>program</em> (required): &#8216;blastn&#8217;, &#8216;blastp&#8217;,
&#8216;blastx&#8217;, &#8216;tblastn&#8217; or &#8216;tblastx&#8217;

</li>
<li><em>db</em> (required): name of the remote database

</li>
<li><em>options</em>: blastall options # (see
http://www.genome.jp/dbget-bin/show_man?blast2)

</li>
<li><em>server</em>: server to use (DEFAULT = &#8216;genomenet&#8217;)

</li>
</ul>
<table>
<tr><td valign="top"><b>Returns</b>:</td><td>Bio::Blast factory object

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/appl/blast.rb', line 97</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/appl/blast.rb#L97">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">97
98
99</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='remote identifier id'>remote</span><span class='lparen token'>(</span><span class='program identifier id'>program</span><span class='comma token'>,</span> <span class='db identifier id'>db</span><span class='comma token'>,</span> <span class='option identifier id'>option</span> <span class='assign token'>=</span> <span class='string val'>''</span><span class='comma token'>,</span> <span class='server identifier id'>server</span> <span class='assign token'>=</span> <span class='string val'>'genomenet'</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='program identifier id'>program</span><span class='comma token'>,</span> <span class='db identifier id'>db</span><span class='comma token'>,</span> <span class='option identifier id'>option</span><span class='comma token'>,</span> <span class='server identifier id'>server</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>reports</h3>
</div><div id="reports-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>reports</span><span class='args'>(input, parser = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Bio::Blast.report parses given data, and returns an array of report
(Bio::Blast::Report or Bio::Blast::Default::Report) objects, or yields each
report object when a block is given.
</p>
<p>
Supported formats: NCBI default (-m 0), XML (-m 7), tabular (-m 8).
</p>
<hr size="1"></hr><p>
<b>Arguments</b>:
</p>
<ul>
<li><em>input</em> (required): input data

</li>
<li><em>parser</em>: type of parser. see Bio::Blast::Report.new

</li>
</ul>
<table>
<tr><td valign="top"><b>Returns</b>:</td><td>Undefiend when a block is given. Otherwise, an Array containing report
(Bio::Blast::Report or Bio::Blast::Default::Report) objects.

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/appl/blast.rb', line 114</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/appl/blast.rb#L114">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='reports identifier id'>reports</span><span class='lparen token'>(</span><span class='input identifier id'>input</span><span class='comma token'>,</span> <span class='parser identifier id'>parser</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='begin begin kw'>begin</span>
    <span class='istr identifier id'>istr</span> <span class='assign token'>=</span> <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='to_str identifier id'>to_str</span>
  <span class='rescue rescue kw'>rescue</span> <span class='NoMethodError constant id'>NoMethodError</span>
    <span class='istr identifier id'>istr</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='end end kw'>end</span>
  <span class='if if kw'>if</span> <span class='istr identifier id'>istr</span> <span class='then then kw'>then</span>
    <span class='input identifier id'>input</span> <span class='assign token'>=</span> <span class='StringIO constant id'>StringIO</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='istr identifier id'>istr</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='raise identifier id'>raise</span> <span class='string val'>'unsupported input data type'</span> <span class='unless unless_mod kw'>unless</span> <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:gets</span><span class='rparen token'>)</span>

  <span class='comment val'># if proper parser is given, emulates old behavior.</span>
  <span class='case case kw'>case</span> <span class='parser identifier id'>parser</span>
  <span class='when when kw'>when</span> <span class='symbol val'>:xmlparser</span><span class='comma token'>,</span> <span class='symbol val'>:rexml</span>
    <span class='ff identifier id'>ff</span> <span class='assign token'>=</span> <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='FlatFile constant id'>FlatFile</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='Blast constant id'>Blast</span><span class='colon2 op'>::</span><span class='Report constant id'>Report</span><span class='comma token'>,</span> <span class='input identifier id'>input</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span> <span class='then then kw'>then</span>
      <span class='ff identifier id'>ff</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span>
        <span class='yield yield kw'>yield</span> <span class='e identifier id'>e</span>
      <span class='end end kw'>end</span>
      <span class='return return kw'>return</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='else else kw'>else</span>
      <span class='return return kw'>return</span> <span class='ff identifier id'>ff</span><span class='dot token'>.</span><span class='to_a identifier id'>to_a</span>
    <span class='end end kw'>end</span>
  <span class='when when kw'>when</span> <span class='symbol val'>:tab</span>
    <span class='istr identifier id'>istr</span> <span class='assign token'>=</span> <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='read identifier id'>read</span> <span class='unless unless_mod kw'>unless</span> <span class='istr identifier id'>istr</span>
    <span class='rep identifier id'>rep</span> <span class='assign token'>=</span> <span class='Report constant id'>Report</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='istr identifier id'>istr</span><span class='comma token'>,</span> <span class='parser identifier id'>parser</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span> <span class='then then kw'>then</span>
      <span class='yield yield kw'>yield</span> <span class='rep identifier id'>rep</span>
      <span class='return return kw'>return</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='else else kw'>else</span>
      <span class='return return kw'>return</span> <span class='lbrack token'>[</span> <span class='rep identifier id'>rep</span> <span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># preparation of the new format autodetection rule if needed</span>
  <span class='if if kw'>if</span> <span class='notop op'>!</span><span class='defined? defined kw'>defined?</span><span class='lparen token'>(</span><span class='@@reports_format_autodetection_rule ivar id'>@@reports_format_autodetection_rule</span><span class='rparen token'>)</span> <span class='or or kw'>or</span>
      <span class='notop op'>!</span><span class='@@reports_format_autodetection_rule ivar id'>@@reports_format_autodetection_rule</span> <span class='then then kw'>then</span>
    <span class='regrule identifier id'>regrule</span> <span class='assign token'>=</span> <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='FlatFile constant id'>FlatFile</span><span class='colon2 op'>::</span><span class='AutoDetect constant id'>AutoDetect</span><span class='colon2 op'>::</span><span class='RuleRegexp constant id'>RuleRegexp</span>
    <span class='blastxml identifier id'>blastxml</span> <span class='assign token'>=</span> <span class='regrule identifier id'>regrule</span><span class='lbrack token'>[</span> <span class='string val'>'Bio::Blast::Report'</span><span class='comma token'>,</span>
                        <span class='regexp val'>/\&lt;\!DOCTYPE BlastOutput PUBLIC /</span> <span class='rbrack token'>]</span>
    <span class='blast identifier id'>blast</span>    <span class='assign token'>=</span> <span class='regrule identifier id'>regrule</span><span class='lbrack token'>[</span> <span class='string val'>'Bio::Blast::Default::Report'</span><span class='comma token'>,</span>
                        <span class='regexp val'>/^BLAST.? +[\-\.\w]+ +\[[\-\.\w ]+\]/</span> <span class='rbrack token'>]</span>
    <span class='tblast identifier id'>tblast</span>   <span class='assign token'>=</span> <span class='regrule identifier id'>regrule</span><span class='lbrack token'>[</span> <span class='string val'>'Bio::Blast::Default::Report_TBlast'</span><span class='comma token'>,</span>
                        <span class='regexp val'>/^TBLAST.? +[\-\.\w]+ +\[[\-\.\w ]+\]/</span> <span class='rbrack token'>]</span>
    <span class='tab identifier id'>tab</span>      <span class='assign token'>=</span> <span class='regrule identifier id'>regrule</span><span class='lbrack token'>[</span> <span class='string val'>'Bio::Blast::Report_tab'</span><span class='comma token'>,</span>
                        <span class='regexp val'>/^([^\t]*\t){11}[^\t]*$/</span> <span class='rbrack token'>]</span>
    <span class='auto identifier id'>auto</span> <span class='assign token'>=</span> <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='FlatFile constant id'>FlatFile</span><span class='colon2 op'>::</span><span class='AutoDetect constant id'>AutoDetect</span><span class='lbrack token'>[</span> <span class='blastxml identifier id'>blastxml</span><span class='comma token'>,</span>
                                      <span class='blast identifier id'>blast</span><span class='comma token'>,</span>
                                      <span class='tblast identifier id'>tblast</span><span class='comma token'>,</span>
                                      <span class='tab identifier id'>tab</span>
                                    <span class='rbrack token'>]</span>
    <span class='comment val'># sets priorities</span>
    <span class='blastxml identifier id'>blastxml</span><span class='dot token'>.</span><span class='is_prior_to identifier id'>is_prior_to</span> <span class='blast identifier id'>blast</span>
    <span class='blast identifier id'>blast</span><span class='dot token'>.</span><span class='is_prior_to identifier id'>is_prior_to</span> <span class='tblast identifier id'>tblast</span>
    <span class='tblast identifier id'>tblast</span><span class='dot token'>.</span><span class='is_prior_to identifier id'>is_prior_to</span> <span class='tab identifier id'>tab</span>
    <span class='comment val'># rehash</span>
    <span class='auto identifier id'>auto</span><span class='dot token'>.</span><span class='rehash identifier id'>rehash</span>
    <span class='@@report_format_autodetection_rule ivar id'>@@report_format_autodetection_rule</span> <span class='assign token'>=</span> <span class='auto identifier id'>auto</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># Creates a FlatFile object with dummy class</span>
  <span class='ff identifier id'>ff</span> <span class='assign token'>=</span> <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='FlatFile constant id'>FlatFile</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='Object constant id'>Object</span><span class='comma token'>,</span> <span class='input identifier id'>input</span><span class='rparen token'>)</span>
  <span class='ff identifier id'>ff</span><span class='dot token'>.</span><span class='dbclass identifier id'>dbclass</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>

  <span class='comment val'># file format autodetection</span>
  <span class='float val'>3</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='do do kw'>do</span>
    <span class='break break kw'>break</span> <span class='if if_mod kw'>if</span> <span class='ff identifier id'>ff</span><span class='dot token'>.</span><span class='eof? fid id'>eof?</span> <span class='or or kw'>or</span>
      <span class='ff identifier id'>ff</span><span class='dot token'>.</span><span class='autodetect identifier id'>autodetect</span><span class='lparen token'>(</span><span class='integer val'>31</span><span class='comma token'>,</span> <span class='@@report_format_autodetection_rule ivar id'>@@report_format_autodetection_rule</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='comment val'># If format detection failed, assumed to be tabular (-m 8)</span>
  <span class='ff identifier id'>ff</span><span class='dot token'>.</span><span class='dbclass identifier id'>dbclass</span> <span class='assign token'>=</span> <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='Blast constant id'>Blast</span><span class='colon2 op'>::</span><span class='Report_tab constant id'>Report_tab</span> <span class='unless unless_mod kw'>unless</span> <span class='ff identifier id'>ff</span><span class='dot token'>.</span><span class='dbclass identifier id'>dbclass</span>

  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span> <span class='then then kw'>then</span>
    <span class='ff identifier id'>ff</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='entry identifier id'>entry</span><span class='bitor op'>|</span>
      <span class='yield yield kw'>yield</span> <span class='entry identifier id'>entry</span>
    <span class='end end kw'>end</span>
    <span class='ret identifier id'>ret</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='else else kw'>else</span>
    <span class='ret identifier id'>ret</span> <span class='assign token'>=</span> <span class='ff identifier id'>ff</span><span class='dot token'>.</span><span class='to_a identifier id'>to_a</span>
  <span class='end end kw'>end</span>
  <span class='ret identifier id'>ret</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>reports_xml</h3>
</div><div id="reports_xml-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>reports_xml</span><span class='args'>(input, parser = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
&#8212; the method Bio::Blast.reports is moved from
bio/appl/blast/report.rb. ++ Note that this is the old implementation of
Bio::Blast.reports. The aim of this method is keeping compatibility for
older BLAST XML documents which might not be parsed by the new
Bio::Blast.reports nor Bio::FlatFile. (Though we are not sure whether such
documents exist or not.)
</p>
<p>
Bio::Blast.reports_xml parses given data, and returns an array of
Bio::Blast::Report objects, or yields each Bio::Blast::Report object when a
block is given.
</p>
<p>
It can be used only for XML format. For default (-m 0) format, consider
using Bio::FlatFile, or Bio::Blast.reports.
</p>
<hr size="1"></hr><p>
<b>Arguments</b>:
</p>
<ul>
<li><em>input</em> (required): input data

</li>
<li><em>parser</em>: type of parser. see Bio::Blast::Report.new

</li>
</ul>
<table>
<tr><td valign="top"><b>Returns</b>:</td><td>Undefiend when a block is given. Otherwise, an Array containing
Bio::Blast::Report objects.

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/appl/blast.rb', line 220</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/appl/blast.rb#L220">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='reports_xml identifier id'>reports_xml</span><span class='lparen token'>(</span><span class='input identifier id'>input</span><span class='comma token'>,</span> <span class='parser identifier id'>parser</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='ary identifier id'>ary</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='each_line identifier id'>each_line</span><span class='lparen token'>(</span><span class='string val'>&quot;&lt;/BlastOutput&gt;\n&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='xml identifier id'>xml</span><span class='bitor op'>|</span>
    <span class='xml identifier id'>xml</span><span class='dot token'>.</span><span class='sub! fid id'>sub!</span><span class='lparen token'>(</span><span class='regexp val'>/[^&lt;]*(&lt;?)/</span><span class='comma token'>,</span> <span class='string val'>'\1'</span><span class='rparen token'>)</span> <span class='comment val'># skip before &lt;?xml&gt; tag</span>
    <span class='next next kw'>next</span> <span class='if if_mod kw'>if</span> <span class='xml identifier id'>xml</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>          <span class='comment val'># skip trailing no hits</span>
    <span class='rep identifier id'>rep</span> <span class='assign token'>=</span> <span class='Report constant id'>Report</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='xml identifier id'>xml</span><span class='comma token'>,</span> <span class='parser identifier id'>parser</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='rep identifier id'>rep</span><span class='dot token'>.</span><span class='reports identifier id'>reports</span> <span class='then then kw'>then</span>
      <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
        <span class='rep identifier id'>rep</span><span class='dot token'>.</span><span class='reports identifier id'>reports</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='r identifier id'>r</span><span class='bitor op'>|</span> <span class='yield yield kw'>yield</span> <span class='r identifier id'>r</span> <span class='rbrace token'>}</span>
      <span class='else else kw'>else</span>
        <span class='ary identifier id'>ary</span><span class='dot token'>.</span><span class='concat identifier id'>concat</span> <span class='rep identifier id'>rep</span><span class='dot token'>.</span><span class='reports identifier id'>reports</span>
      <span class='end end kw'>end</span>
    <span class='else else kw'>else</span>
      <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
        <span class='yield yield kw'>yield</span> <span class='rep identifier id'>rep</span>
      <span class='else else kw'>else</span>
        <span class='ary identifier id'>ary</span><span class='dot token'>.</span><span class='push identifier id'>push</span> <span class='rep identifier id'>rep</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='return return kw'>return</span> <span class='ary identifier id'>ary</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>option</h3>
</div><div id="option-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>option</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns options of blastall
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/appl/blast.rb', line 374</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/appl/blast.rb#L374">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">374
375
376
377</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='option identifier id'>option</span>
  <span class='comment val'># backward compatibility</span>
  <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='Command constant id'>Command</span><span class='dot token'>.</span><span class='make_command_line identifier id'>make_command_line</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>option=</h3>
</div><div id="option-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>option=</span><span class='args'>(str)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Set options for blastall
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/appl/blast.rb', line 380</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/appl/blast.rb#L380">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">380
381
382
383</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='option= identifier id'>option=</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>
  <span class='comment val'># backward compatibility</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Shellwords constant id'>Shellwords</span><span class='dot token'>.</span><span class='shellwords identifier id'>shellwords</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>options=</h3>
</div><div id="options-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>options=</span><span class='args'>(ary)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Sets options for blastall
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/appl/blast.rb', line 255</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/appl/blast.rb#L255">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">255
256
257</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='options= identifier id'>options=</span><span class='lparen token'>(</span><span class='ary identifier id'>ary</span><span class='rparen token'>)</span>
  <span class='@options ivar id'>@options</span> <span class='assign token'>=</span> <span class='set_options identifier id'>set_options</span><span class='lparen token'>(</span><span class='ary identifier id'>ary</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>query</h3>
</div><div id="query-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>query</span><span class='args'>(query)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This method submits a sequence to a BLAST factory, which performs the
actual BLAST.
</p>
<pre class="code">
  <span class='comment val'># example 1</span>
  <span class='seq identifier id'>seq</span> <span class='assign token'>=</span> <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='Sequence constant id'>Sequence</span><span class='colon2 op'>::</span><span class='NA constant id'>NA</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'agggcattgccccggaagatcaagtcgtgctcctg'</span><span class='rparen token'>)</span>
  <span class='report identifier id'>report</span> <span class='assign token'>=</span> <span class='blast_factory identifier id'>blast_factory</span><span class='dot token'>.</span><span class='query identifier id'>query</span><span class='lparen token'>(</span><span class='seq identifier id'>seq</span><span class='rparen token'>)</span>

  <span class='comment val'># example 2</span>
  <span class='str identifier id'>str</span> <span class='string val'>&quot;  &gt;lcl|MySequence\n  MPPSAISKISNSTTPQVQSSSAPNLTMLEGKGISVEKSFRVYSEEENQNQHKAKDSLGF\n  KELEKDAIKNSKQDKKDHKNWLETLYDQAEQKWLQEPKKKLQDLIKNSGDNSRVILKDS\n  END_OF_FASTA\n  report = blast_factory.query(str)\n&quot;</span>
</pre>
<p>
Bug note: When multi-FASTA is given and the format is 7 (XML) or 8 (tab),
it should return an array of Bio::Blast::Report objects, but it returns a
single Bio::Blast::Report object. This is a known bug and should be fixed
in the future.
</p>
<hr size="1"></hr><p>
<b>Arguments</b>:
</p>
<ul>
<li><em>query</em> (required): single- or multiple-FASTA formatted sequence(s)

</li>
</ul>
<table>
<tr><td valign="top"><b>Returns</b>:</td><td>a Bio::Blast::Report (or Bio::Blast::Default::Report) object when single
query is given. When multiple sequences are given as the query, it returns
an array of Bio::Blast::Report (or Bio::Blast::Default::Report) objects. If
it can not parse result, nil will be returnd.

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/appl/blast.rb', line 358</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/appl/blast.rb#L358">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">358
359
360
361
362
363
364
365
366
367
368
369
370
371</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='query identifier id'>query</span><span class='lparen token'>(</span><span class='query identifier id'>query</span><span class='rparen token'>)</span>
  <span class='case case kw'>case</span> <span class='query identifier id'>query</span>
  <span class='when when kw'>when</span> <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='Sequence constant id'>Sequence</span>
    <span class='query identifier id'>query</span> <span class='assign token'>=</span> <span class='query identifier id'>query</span><span class='dot token'>.</span><span class='output identifier id'>output</span><span class='lparen token'>(</span><span class='symbol val'>:fasta</span><span class='rparen token'>)</span>
  <span class='when when kw'>when</span> <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='Sequence constant id'>Sequence</span><span class='colon2 op'>::</span><span class='NA constant id'>NA</span><span class='comma token'>,</span> <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='Sequence constant id'>Sequence</span><span class='colon2 op'>::</span><span class='AA constant id'>AA</span><span class='comma token'>,</span> <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='Sequence constant id'>Sequence</span><span class='colon2 op'>::</span><span class='Generic constant id'>Generic</span>
    <span class='query identifier id'>query</span> <span class='assign token'>=</span> <span class='query identifier id'>query</span><span class='dot token'>.</span><span class='to_fasta identifier id'>to_fasta</span><span class='lparen token'>(</span><span class='string val'>'query'</span><span class='comma token'>,</span> <span class='integer val'>70</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='query identifier id'>query</span> <span class='assign token'>=</span> <span class='query identifier id'>query</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
  <span class='end end kw'>end</span>

  <span class='@output ivar id'>@output</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='__send__ identifier id'>__send__</span><span class='lparen token'>(</span><span class='dstring node'>&quot;exec_#{@server}&quot;</span><span class='comma token'>,</span> <span class='query identifier id'>query</span><span class='rparen token'>)</span>
  <span class='report identifier id'>report</span> <span class='assign token'>=</span> <span class='parse_result identifier id'>parse_result</span><span class='lparen token'>(</span><span class='@output ivar id'>@output</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='report identifier id'>report</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>server=</h3>
</div><div id="server-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>server=</span><span class='args'>(str)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Sets server to submit the BLASTs to. The exec_xxxx method should be defined
in Bio::Blast or Bio::Blast::Remote::Xxxx class.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/appl/blast.rb', line 265</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/appl/blast.rb#L265">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">265
266
267
268
269
270
271
272
273
274
275
276
277</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='server= identifier id'>server=</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>
  <span class='@server ivar id'>@server</span> <span class='assign token'>=</span> <span class='str identifier id'>str</span>
  <span class='begin begin kw'>begin</span>
    <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='Blast constant id'>Blast</span><span class='colon2 op'>::</span><span class='Remote constant id'>Remote</span><span class='dot token'>.</span><span class='const_get identifier id'>const_get</span><span class='lparen token'>(</span><span class='@server ivar id'>@server</span><span class='dot token'>.</span><span class='capitalize identifier id'>capitalize</span><span class='rparen token'>)</span>
  <span class='rescue rescue kw'>rescue</span> <span class='NameError constant id'>NameError</span>
    <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='end end kw'>end</span>
  <span class='if if kw'>if</span> <span class='m identifier id'>m</span> <span class='and and kw'>and</span> <span class='notop op'>!</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='then then kw'>then</span>
    <span class='comment val'># lazy include Bio::Blast::Remote::XXX module</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='class_eval identifier id'>class_eval</span> <span class='lbrace token'>{</span> <span class='include identifier id'>include</span> <span class='m identifier id'>m</span> <span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
  <span class='return return kw'>return</span> <span class='@server ivar id'>@server</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>