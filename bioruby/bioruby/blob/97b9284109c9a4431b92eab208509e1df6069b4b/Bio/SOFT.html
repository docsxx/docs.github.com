<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>bioruby's bioruby - Class: Bio::SOFT - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/bioruby/commits/bioruby/master" rel="alternate" title="Recent Commits to bioruby:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("bioruby", "bioruby", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("bioruby", "bioruby", "97b9284109c9a4431b92eab208509e1df6069b4b", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/bioruby/bioruby/tree/">Source</a></li>
            <li class=""><a href="http://github.com/bioruby/bioruby/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/bioruby/bioruby/network">Network</a></li>            
            <li class=""><a href="http://github.com/bioruby/bioruby/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/bioruby/bioruby">Wiki</a></li>
            <li class=""><a href="http://github.com/bioruby/bioruby/graphs">Graphs</a></li>                    
            <li class="active"><a href="/bioruby/bioruby">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/bioruby">bioruby</a> / <b><a href="http://github.com/bioruby/bioruby/tree">bioruby</a></b>        
                <a id="namespaces_button" rel="bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Bio_SOFT">
  <h1>Class: Bio::SOFT</h1>
  <div class="section docstring">
  <p>
bio/db/soft.rb - Interface for SOFT formatted files
</p>
<table>
<tr><td valign="top">Author:</td><td>Trevor Wennblom &lt;mailto:trevor@corevx.com&gt;

</td></tr>
<tr><td valign="top">Copyright:</td><td>Copyright &#169; 2007 Midwinter Laboratories, LLC
(http://midwinterlabs.com)

</td></tr>
<tr><td valign="top">License:</td><td>The Ruby License

</td></tr>
</table>
<h1>Description</h1>
<p>
&quot;SOFT (Simple Omnibus in Text Format) is a compact, simple,
line-based, ASCII text format that incorporates experimental data and
metadata.&quot; &#8212; <em>GEO, National Center for Biotechnology
Information</em>
</p>
<p>
The Bio::SOFT module reads SOFT Series or Platform formatted files that
contain information describing one database, one series, one platform, and
many samples (GEO accessions). The data from the file can then be viewed
with Ruby methods.
</p>
<p>
Bio::SOFT also supports the reading of SOFT DataSet files which contain one
database, one dataset, and many subsets.
</p>
<p>
Format specification is located here:
</p>
<ul>
<li>http://www.ncbi.nlm.nih.gov/projects/geo/info/soft2.html#SOFTformat

</li>
</ul>
<p>
SOFT data files may be directly downloaded here:
</p>
<ul>
<li>ftp://ftp.ncbi.nih.gov/pub/geo/DATA/SOFT

</li>
</ul>
<p>
NCBI&#8217;s Gene Expression Omnibus (GEO) is here:
</p>
<ul>
<li>http://www.ncbi.nlm.nih.gov/geo

</li>
</ul>
<h1>Usage</h1>
<p>
If an attribute has more than one value then the values are stored in an
Array of String objects. Otherwise the attribute is stored as a String.
</p>
<p>
The platform and each sample may contain a table of data. A dataset from a
DataSet file may also contain a table.
</p>
<p>
Attributes are dynamically created based on the data in the file.
Predefined keys have not been created in advance due to the variability of
SOFT files in-the-wild.
</p>
<p>
Keys are generally stored as Symbols. In the case of keys for samples and
table headings may alternatively be accessed with Strings. The names of
samples (geo accessions) are case sensitive. Table headers are case
insensitive.
</p>
<pre class="code">
  <span class='require identifier id'>require</span> <span class='string val'>'bio'</span>

  <span class='lines identifier id'>lines</span> <span class='assign token'>=</span> <span class='IO constant id'>IO</span><span class='dot token'>.</span><span class='readlines identifier id'>readlines</span><span class='lparen token'>(</span><span class='string val'>'GSE3457_family.soft'</span><span class='rparen token'>)</span>
  <span class='soft identifier id'>soft</span> <span class='assign token'>=</span> <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='SOFT constant id'>SOFT</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='lines identifier id'>lines</span><span class='rparen token'>)</span>

  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='platform identifier id'>platform</span><span class='lbrack token'>[</span><span class='symbol val'>:geo_accession</span><span class='rbrack token'>]</span>             <span class='comment val'># =&gt; &quot;GPL2092&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='platform identifier id'>platform</span><span class='lbrack token'>[</span><span class='symbol val'>:organism</span><span class='rbrack token'>]</span>                  <span class='comment val'># =&gt; &quot;Populus&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='platform identifier id'>platform</span><span class='lbrack token'>[</span><span class='symbol val'>:contributor</span><span class='rbrack token'>]</span>               <span class='comment val'># =&gt; [&quot;Jingyi,,Li&quot;, &quot;Olga,,Shevchenko&quot;, &quot;Steve,H,Strauss&quot;, &quot;Amy,M,Brunner&quot;]</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='platform identifier id'>platform</span><span class='lbrack token'>[</span><span class='symbol val'>:data_row_count</span><span class='rbrack token'>]</span>            <span class='comment val'># =&gt; &quot;240&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='platform identifier id'>platform</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='sort identifier id'>sort</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='comma token'>,</span><span class='b identifier id'>b</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='cmp op'>&lt;=&gt;</span> <span class='b identifier id'>b</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrace token'>}</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>2</span><span class='rbrack token'>]</span> <span class='comment val'># =&gt; [:contact_address, :contact_city, :contact_country]</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='platform identifier id'>platform</span><span class='lbrack token'>[</span><span class='symbol val'>:&quot;contact_zip/postal_code&quot;</span><span class='rbrack token'>]</span> <span class='comment val'># =&gt; &quot;97331&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='platform identifier id'>platform</span><span class='lbrack token'>[</span><span class='symbol val'>:table</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='header identifier id'>header</span>              <span class='comment val'># =&gt; [&quot;ID&quot;, &quot;GB_ACC&quot;, &quot;SPOT_ID&quot;, &quot;Function/Family&quot;, &quot;ORGANISM&quot;, &quot;SEQUENCE&quot;]</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='platform identifier id'>platform</span><span class='lbrack token'>[</span><span class='symbol val'>:table</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='header_description identifier id'>header_description</span>  <span class='comment val'># =&gt; {&quot;ORGANISM&quot;=&gt;&quot;sequence sources&quot;, &quot;SEQUENCE&quot;=&gt;&quot;oligo sequence used&quot;, &quot;Function/Family&quot;=&gt;&quot;gene functions and family&quot;, &quot;ID&quot;=&gt;&quot;&quot;, &quot;SPOT_ID&quot;=&gt;&quot;&quot;, &quot;GB_ACC&quot;=&gt;&quot;Gene bank accession number&quot;}</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='platform identifier id'>platform</span><span class='lbrack token'>[</span><span class='symbol val'>:table</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rows identifier id'>rows</span><span class='dot token'>.</span><span class='size identifier id'>size</span>           <span class='comment val'># =&gt; 240</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='platform identifier id'>platform</span><span class='lbrack token'>[</span><span class='symbol val'>:table</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rows identifier id'>rows</span><span class='lbrack token'>[</span><span class='integer val'>5</span><span class='rbrack token'>]</span>             <span class='comment val'># =&gt; [&quot;A039P68U&quot;, &quot;AI163321&quot;, &quot;&quot;, &quot;TF, flowering protein CONSTANS&quot;, &quot;P. tremula x P. tremuloides&quot;, &quot;AGAAAATTCGATATACTGTCCGTAAAGAGGTAGCACTTAGAATGCAACGGAATAAAGGGCAGTTCACCTC&quot;]</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='platform identifier id'>platform</span><span class='lbrack token'>[</span><span class='symbol val'>:table</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rows identifier id'>rows</span><span class='lbrack token'>[</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='integer val'>4</span><span class='rbrack token'>]</span>          <span class='comment val'># =&gt; &quot;P. tremula x P. tremuloides&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='platform identifier id'>platform</span><span class='lbrack token'>[</span><span class='symbol val'>:table</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rows identifier id'>rows</span><span class='lbrack token'>[</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:organism</span><span class='rbrack token'>]</span>  <span class='comment val'># =&gt; &quot;P. tremula x P. tremuloides&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='platform identifier id'>platform</span><span class='lbrack token'>[</span><span class='symbol val'>:table</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rows identifier id'>rows</span><span class='lbrack token'>[</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'ORGANISM'</span><span class='rbrack token'>]</span> <span class='comment val'># =&gt; &quot;P. tremula x P. tremuloides&quot;</span>

  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='series identifier id'>series</span><span class='lbrack token'>[</span><span class='symbol val'>:geo_accession</span><span class='rbrack token'>]</span>               <span class='comment val'># =&gt; &quot;GSE3457&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='series identifier id'>series</span><span class='lbrack token'>[</span><span class='symbol val'>:contributor</span><span class='rbrack token'>]</span>                 <span class='comment val'># =&gt; [&quot;Jingyi,,Li&quot;, &quot;Olga,,Shevchenko&quot;, &quot;Ove,,Nilsson&quot;, &quot;Steve,H,Strauss&quot;, &quot;Amy,M,Brunner&quot;]</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='series identifier id'>series</span><span class='lbrack token'>[</span><span class='symbol val'>:platform_id</span><span class='rbrack token'>]</span>                 <span class='comment val'># =&gt; &quot;GPL2092&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='series identifier id'>series</span><span class='lbrack token'>[</span><span class='symbol val'>:sample_id</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='size identifier id'>size</span>              <span class='comment val'># =&gt; 74</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='series identifier id'>series</span><span class='lbrack token'>[</span><span class='symbol val'>:sample_id</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>4</span><span class='rbrack token'>]</span>             <span class='comment val'># =&gt; [&quot;GSM77557&quot;, &quot;GSM77558&quot;, &quot;GSM77559&quot;, &quot;GSM77560&quot;, &quot;GSM77561&quot;]</span>

  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='database identifier id'>database</span><span class='lbrack token'>[</span><span class='symbol val'>:name</span><span class='rbrack token'>]</span>                      <span class='comment val'># =&gt; &quot;Gene Expression Omnibus (GEO)&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='database identifier id'>database</span><span class='lbrack token'>[</span><span class='symbol val'>:ref</span><span class='rbrack token'>]</span>                       <span class='comment val'># =&gt; &quot;Nucleic Acids Res. 2005 Jan 1;33 Database Issue:D562-6&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='database identifier id'>database</span><span class='lbrack token'>[</span><span class='symbol val'>:institute</span><span class='rbrack token'>]</span>                 <span class='comment val'># =&gt; &quot;NCBI NLM NIH&quot;</span>

  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='samples identifier id'>samples</span><span class='dot token'>.</span><span class='size identifier id'>size</span>                         <span class='comment val'># =&gt; 74</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='samples identifier id'>samples</span><span class='lbrack token'>[</span><span class='symbol val'>:GSM77600</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:series_id</span><span class='rbrack token'>]</span>       <span class='comment val'># =&gt; &quot;GSE3457&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='samples identifier id'>samples</span><span class='lbrack token'>[</span><span class='string val'>'GSM77600'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:series_id</span><span class='rbrack token'>]</span>      <span class='comment val'># =&gt; &quot;GSE3457&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='samples identifier id'>samples</span><span class='lbrack token'>[</span><span class='symbol val'>:GSM77600</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:platform_id</span><span class='rbrack token'>]</span>     <span class='comment val'># =&gt; &quot;GPL2092&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='samples identifier id'>samples</span><span class='lbrack token'>[</span><span class='symbol val'>:GSM77600</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:type</span><span class='rbrack token'>]</span>            <span class='comment val'># =&gt; &quot;RNA&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='samples identifier id'>samples</span><span class='lbrack token'>[</span><span class='symbol val'>:GSM77600</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:title</span><span class='rbrack token'>]</span>           <span class='comment val'># =&gt; &quot;jst2b2&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='samples identifier id'>samples</span><span class='lbrack token'>[</span><span class='symbol val'>:GSM77600</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:table</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='header identifier id'>header</span>    <span class='comment val'># =&gt; [&quot;ID_REF&quot;, &quot;VALUE&quot;]</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='samples identifier id'>samples</span><span class='lbrack token'>[</span><span class='symbol val'>:GSM77600</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:table</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='header_description identifier id'>header_description</span> <span class='comment val'># =&gt; {&quot;ID_REF&quot;=&gt;&quot;&quot;, &quot;VALUE&quot;=&gt;&quot;normalized signal intensities&quot;}</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='samples identifier id'>samples</span><span class='lbrack token'>[</span><span class='symbol val'>:GSM77600</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:table</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rows identifier id'>rows</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='comment val'># =&gt; 217</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='samples identifier id'>samples</span><span class='lbrack token'>[</span><span class='symbol val'>:GSM77600</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:table</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rows identifier id'>rows</span><span class='lbrack token'>[</span><span class='integer val'>5</span><span class='rbrack token'>]</span>   <span class='comment val'># =&gt; [&quot;A039P68U&quot;, &quot;8.19&quot;]</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='samples identifier id'>samples</span><span class='lbrack token'>[</span><span class='symbol val'>:GSM77600</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:table</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rows identifier id'>rows</span><span class='lbrack token'>[</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>        <span class='comment val'># =&gt; &quot;A039P68U&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='samples identifier id'>samples</span><span class='lbrack token'>[</span><span class='symbol val'>:GSM77600</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:table</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rows identifier id'>rows</span><span class='lbrack token'>[</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:id_ref</span><span class='rbrack token'>]</span>  <span class='comment val'># =&gt; &quot;A039P68U&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='samples identifier id'>samples</span><span class='lbrack token'>[</span><span class='symbol val'>:GSM77600</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:table</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rows identifier id'>rows</span><span class='lbrack token'>[</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'ID_REF'</span><span class='rbrack token'>]</span> <span class='comment val'># =&gt; &quot;A039P68U&quot;</span>

  <span class='lines identifier id'>lines</span> <span class='assign token'>=</span> <span class='IO constant id'>IO</span><span class='dot token'>.</span><span class='readlines identifier id'>readlines</span><span class='lparen token'>(</span><span class='string val'>'GDS100.soft'</span><span class='rparen token'>)</span>
  <span class='soft identifier id'>soft</span> <span class='assign token'>=</span> <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='SOFT constant id'>SOFT</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='lines identifier id'>lines</span><span class='rparen token'>)</span>

  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='database identifier id'>database</span><span class='lbrack token'>[</span><span class='symbol val'>:name</span><span class='rbrack token'>]</span>                      <span class='comment val'># =&gt; &quot;Gene Expression Omnibus (GEO)&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='database identifier id'>database</span><span class='lbrack token'>[</span><span class='symbol val'>:ref</span><span class='rbrack token'>]</span>                       <span class='comment val'># =&gt; &quot;Nucleic Acids Res. 2005 Jan 1;33 Database Issue:D562-6&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='database identifier id'>database</span><span class='lbrack token'>[</span><span class='symbol val'>:institute</span><span class='rbrack token'>]</span>                 <span class='comment val'># =&gt; &quot;NCBI NLM NIH&quot;</span>

  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='subsets identifier id'>subsets</span><span class='dot token'>.</span><span class='size identifier id'>size</span>                         <span class='comment val'># =&gt; 8</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='subsets identifier id'>subsets</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span>                         <span class='comment val'># =&gt; [&quot;GDS100_1&quot;, &quot;GDS100_2&quot;, &quot;GDS100_3&quot;, &quot;GDS100_4&quot;, &quot;GDS100_5&quot;, &quot;GDS100_6&quot;, &quot;GDS100_7&quot;, &quot;GDS100_8&quot;]</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='subsets identifier id'>subsets</span><span class='lbrack token'>[</span><span class='symbol val'>:GDS100_7</span><span class='rbrack token'>]</span>                   <span class='comment val'># =&gt; {:dataset_id=&gt;&quot;GDS100&quot;, :type=&gt;&quot;time&quot;, :sample_id=&gt;&quot;GSM548,GSM543&quot;, :description=&gt;&quot;60 minute&quot;}</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='subsets identifier id'>subsets</span><span class='lbrack token'>[</span><span class='string val'>'GDS100_7'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:sample_id</span><span class='rbrack token'>]</span>      <span class='comment val'># =&gt; &quot;GSM548,GSM543&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='subsets identifier id'>subsets</span><span class='lbrack token'>[</span><span class='symbol val'>:GDS100_7</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:sample_id</span><span class='rbrack token'>]</span>       <span class='comment val'># =&gt; &quot;GSM548,GSM543&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='subsets identifier id'>subsets</span><span class='lbrack token'>[</span><span class='symbol val'>:GDS100_7</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:dataset_id</span><span class='rbrack token'>]</span>      <span class='comment val'># =&gt; &quot;GDS100&quot;</span>

  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='dataset identifier id'>dataset</span><span class='lbrack token'>[</span><span class='symbol val'>:order</span><span class='rbrack token'>]</span>                      <span class='comment val'># =&gt; &quot;none&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='dataset identifier id'>dataset</span><span class='lbrack token'>[</span><span class='symbol val'>:sample_organism</span><span class='rbrack token'>]</span>            <span class='comment val'># =&gt; &quot;Escherichia coli&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='dataset identifier id'>dataset</span><span class='lbrack token'>[</span><span class='symbol val'>:table</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='header identifier id'>header</span>               <span class='comment val'># =&gt; [&quot;ID_REF&quot;, &quot;IDENTIFIER&quot;, &quot;GSM549&quot;, &quot;GSM542&quot;, &quot;GSM543&quot;, &quot;GSM547&quot;, &quot;GSM544&quot;, &quot;GSM545&quot;, &quot;GSM546&quot;, &quot;GSM548&quot;]</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='dataset identifier id'>dataset</span><span class='lbrack token'>[</span><span class='symbol val'>:table</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rows identifier id'>rows</span><span class='dot token'>.</span><span class='size identifier id'>size</span>            <span class='comment val'># =&gt; 5764</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='dataset identifier id'>dataset</span><span class='lbrack token'>[</span><span class='symbol val'>:table</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rows identifier id'>rows</span><span class='lbrack token'>[</span><span class='integer val'>5</span><span class='rbrack token'>]</span>              <span class='comment val'># =&gt; [&quot;6&quot;, &quot;EMPTY&quot;, &quot;0.097&quot;, &quot;0.217&quot;, &quot;0.242&quot;, &quot;0.067&quot;, &quot;0.104&quot;, &quot;0.162&quot;, &quot;0.104&quot;, &quot;0.154&quot;]</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='dataset identifier id'>dataset</span><span class='lbrack token'>[</span><span class='symbol val'>:table</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rows identifier id'>rows</span><span class='lbrack token'>[</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='integer val'>4</span><span class='rbrack token'>]</span>           <span class='comment val'># =&gt; &quot;0.242&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='dataset identifier id'>dataset</span><span class='lbrack token'>[</span><span class='symbol val'>:table</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rows identifier id'>rows</span><span class='lbrack token'>[</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:gsm549</span><span class='rbrack token'>]</span>     <span class='comment val'># =&gt; &quot;0.097&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='dataset identifier id'>dataset</span><span class='lbrack token'>[</span><span class='symbol val'>:table</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rows identifier id'>rows</span><span class='lbrack token'>[</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='symbol val'>:GSM549</span><span class='rbrack token'>]</span>     <span class='comment val'># =&gt; &quot;0.097&quot;</span>
  <span class='soft identifier id'>soft</span><span class='dot token'>.</span><span class='dataset identifier id'>dataset</span><span class='lbrack token'>[</span><span class='symbol val'>:table</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rows identifier id'>rows</span><span class='lbrack token'>[</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'GSM549'</span><span class='rbrack token'>]</span>    <span class='comment val'># =&gt; &quot;0.097&quot;</span>
</pre>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">database</td>
          <td class="readwrite">
            [<span id='database-instance_method'>R</span><span id='database=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>database</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">dataset</td>
          <td class="readwrite">
            [<span id='dataset-instance_method'>R</span><span id='dataset=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>dataset</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">platform</td>
          <td class="readwrite">
            [<span id='platform-instance_method'>R</span><span id='platform=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>platform</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">samples</td>
          <td class="readwrite">
            [<span id='samples-instance_method'>R</span><span id='samples=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>samples</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">series</td>
          <td class="readwrite">
            [<span id='series-instance_method'>R</span><span id='series=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>series</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">subsets</td>
          <td class="readwrite">
            [<span id='subsets-instance_method'>R</span><span id='subsets=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>subsets</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="LINE_TYPE_ENTITY_ATTRIBUTE-constant">LINE_TYPE_ENTITY_ATTRIBUTE</dt>
      <dd>'!'</dd>
    
      <dt id="LINE_TYPE_ENTITY_INDICATOR-constant">LINE_TYPE_ENTITY_INDICATOR</dt>
      <dd>'^'</dd>
    
      <dt id="LINE_TYPE_TABLE_HEADER-constant">LINE_TYPE_TABLE_HEADER</dt>
      <dd>'#'</dd>
    
      <dt id="TABLE_COLUMN_DELIMITER-constant">TABLE_COLUMN_DELIMITER</dt>
      <dd>&quot;\t&quot;</dd>
    
  </dl>
</div>

</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(lines = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Constructor
</p>
<hr size="1"></hr><p>
<b>Arguments</b>
</p>
<ul>
<li><tt>lines</tt>: (<em>required</em>) contents of SOFT formatted file

</li>
</ul>
<table>
<tr><td valign="top"><b>Returns</b>:</td><td>Bio::SOFT

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/db/soft.rb', line 147</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/db/soft.rb#L147">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">147
148
149
150
151
152
153
154
155
156
157
158</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='lines identifier id'>lines</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='@database ivar id'>@database</span> <span class='assign token'>=</span> <span class='Database constant id'>Database</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  
  <span class='@series ivar id'>@series</span> <span class='assign token'>=</span> <span class='Series constant id'>Series</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='@platform ivar id'>@platform</span> <span class='assign token'>=</span> <span class='Platform constant id'>Platform</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='@samples ivar id'>@samples</span> <span class='assign token'>=</span> <span class='Samples constant id'>Samples</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  
  <span class='@dataset ivar id'>@dataset</span> <span class='assign token'>=</span> <span class='Dataset constant id'>Dataset</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='@subsets ivar id'>@subsets</span> <span class='assign token'>=</span> <span class='Subsets constant id'>Subsets</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  
  <span class='process identifier id'>process</span><span class='lparen token'>(</span><span class='lines identifier id'>lines</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>
</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> Â©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>