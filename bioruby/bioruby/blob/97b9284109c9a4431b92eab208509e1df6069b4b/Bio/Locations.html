<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>bioruby's bioruby - Class: Bio::Locations - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/bioruby/commits/bioruby/master" rel="alternate" title="Recent Commits to bioruby:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("bioruby", "bioruby", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("bioruby", "bioruby", "97b9284109c9a4431b92eab208509e1df6069b4b", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/bioruby/bioruby/tree/">Source</a></li>
            <li class=""><a href="http://github.com/bioruby/bioruby/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/bioruby/bioruby/network">Network</a></li>            
            <li class=""><a href="http://github.com/bioruby/bioruby/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/bioruby/bioruby">Wiki</a></li>
            <li class=""><a href="http://github.com/bioruby/bioruby/graphs">Graphs</a></li>                    
            <li class="active"><a href="/bioruby/bioruby">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/bioruby">bioruby</a> / <b><a href="http://github.com/bioruby/bioruby/tree">bioruby</a></b>        
                <a id="namespaces_button" rel="bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Bio_Locations">
  <h1>Class: Bio::Locations</h1>
  <div class="section mixins">
  <h2>Included Modules</h2>
  <p>Enumerable</p>
</div><div class="section docstring">
  <h2>Description</h2>
<p>
The Bio::Locations class is a container for Bio::Location objects: creating
a Bio::Locations object (based on a GenBank style position string) will
spawn an array of Bio::Location objects.
</p>
<h2>Usage</h2>
<pre class="code">
  <span class='locations identifier id'>locations</span> <span class='assign token'>=</span> <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='Locations constant id'>Locations</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'join(complement(500..550), 600..625)'</span><span class='rparen token'>)</span>
  <span class='locations identifier id'>locations</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='loc identifier id'>loc</span><span class='bitor op'>|</span>
    <span class='puts identifier id'>puts</span> <span class='string val'>&quot;class = &quot;</span> <span class='plus op'>+</span> <span class='loc identifier id'>loc</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
    <span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;range = #{loc.from}..#{loc.to} (strand = #{loc.strand})&quot;</span>
  <span class='end end kw'>end</span>
  <span class='comment val'># Output would be:</span>
  <span class='comment val'>#   class = Bio::Location</span>
  <span class='comment val'>#   range = 500..550 (strand = -1)</span>
  <span class='comment val'>#   class = Bio::Location</span>
  <span class='comment val'>#   range = 600..625 (strand = 1)</span>

 <span class='comment val'># For the following three location strings, print the span and range</span>
 <span class='lbrack token'>[</span><span class='string val'>'one-of(898,900)..983'</span><span class='comma token'>,</span>
  <span class='string val'>'one-of(5971..6308,5971..6309)'</span><span class='comma token'>,</span>
  <span class='string val'>'8050..one-of(10731,10758,10905,11242)'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='loc identifier id'>loc</span><span class='bitor op'>|</span>
     <span class='location identifier id'>location</span> <span class='assign token'>=</span> <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='Locations constant id'>Locations</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='loc identifier id'>loc</span><span class='rparen token'>)</span>
     <span class='puts identifier id'>puts</span> <span class='location identifier id'>location</span><span class='dot token'>.</span><span class='span identifier id'>span</span>
     <span class='puts identifier id'>puts</span> <span class='location identifier id'>location</span><span class='dot token'>.</span><span class='range identifier id'>range</span>
 <span class='end end kw'>end</span>
</pre>
<h3>GenBank location descriptor classification</h3>
<h4>Definition of the position notation of the GenBank location format</h4>
<p>
According to the GenBank manual &#8216;gbrel.txt&#8217;, position notations
were classified into 10 patterns - (A) to (J).
</p>
<pre class="code">
  <span class='float val'>3.4</span><span class='float val'>.12.2</span> <span class='Feature constant id'>Feature</span> <span class='Location constant id'>Location</span>

    <span class='The constant id'>The</span> <span class='second identifier id'>second</span> <span class='column identifier id'>column</span> <span class='of identifier id'>of</span> <span class='the identifier id'>the</span> <span class='feature identifier id'>feature</span> <span class='descriptor identifier id'>descriptor</span> <span class='line identifier id'>line</span> <span class='designates identifier id'>designates</span> <span class='the identifier id'>the</span>
  <span class='location identifier id'>location</span> <span class='of identifier id'>of</span> <span class='the identifier id'>the</span> <span class='feature identifier id'>feature</span> <span class='in in kw'>in</span> <span class='the identifier id'>the</span> <span class='sequence identifier id'>sequence</span><span class='dot token'>.</span> <span class='The constant id'>The</span> <span class='location identifier id'>location</span> <span class='descriptor identifier id'>descriptor</span>
  <span class='begins identifier id'>begins</span> <span class='at identifier id'>at</span> <span class='position identifier id'>position</span> <span class='float val'>22</span><span class='dot token'>.</span> <span class='Several constant id'>Several</span> <span class='conventions identifier id'>conventions</span> <span class='are identifier id'>are</span> <span class='used identifier id'>used</span> <span class='to identifier id'>to</span> <span class='indicate identifier id'>indicate</span>
  <span class='sequence identifier id'>sequence</span> <span class='location identifier id'>location</span><span class='dot token'>.</span>

    <span class='Base constant id'>Base</span> <span class='numbers identifier id'>numbers</span> <span class='in in kw'>in</span> <span class='location identifier id'>location</span> <span class='descriptors identifier id'>descriptors</span> <span class='refer identifier id'>refer</span> <span class='to identifier id'>to</span> <span class='numbering identifier id'>numbering</span> <span class='in in kw'>in</span> <span class='the identifier id'>the</span> <span class='entry identifier id'>entry</span><span class='comma token'>,</span>
  <span class='which identifier id'>which</span> <span class='is identifier id'>is</span> <span class='not not kw'>not</span> <span class='necessarily identifier id'>necessarily</span> <span class='the identifier id'>the</span> <span class='same identifier id'>same</span> <span class='as identifier id'>as</span> <span class='the identifier id'>the</span> <span class='numbering identifier id'>numbering</span> <span class='scheme identifier id'>scheme</span> <span class='used identifier id'>used</span> <span class='in in kw'>in</span> <span class='the identifier id'>the</span>
  <span class='published identifier id'>published</span> <span class='report identifier id'>report</span><span class='dot token'>.</span> <span class='The constant id'>The</span> <span class='first identifier id'>first</span> <span class='base identifier id'>base</span> <span class='in in kw'>in</span> <span class='the identifier id'>the</span> <span class='presented identifier id'>presented</span> <span class='sequence identifier id'>sequence</span> <span class='is identifier id'>is</span> <span class='numbered identifier id'>numbered</span>
  <span class='base identifier id'>base</span> <span class='float val'>1</span><span class='dot token'>.</span> <span class='Sequences constant id'>Sequences</span> <span class='are identifier id'>are</span> <span class='presented identifier id'>presented</span> <span class='in in kw'>in</span> <span class='the identifier id'>the</span> <span class='integer val'>5</span> <span class='to identifier id'>to</span> <span class='integer val'>3</span> <span class='direction identifier id'>direction</span><span class='dot token'>.</span>

  <span class='Location constant id'>Location</span> <span class='descriptors identifier id'>descriptors</span> <span class='can identifier id'>can</span> <span class='be identifier id'>be</span> <span class='one identifier id'>one</span> <span class='of identifier id'>of</span> <span class='the identifier id'>the</span> <span class='following identifier id'>following</span><span class='colon op'>:</span>

  <span class='lparen token'>(</span><span class='A constant id'>A</span><span class='rparen token'>)</span> <span class='float val'>1</span><span class='dot token'>.</span> <span class='A constant id'>A</span> <span class='single identifier id'>single</span> <span class='base identifier id'>base</span><span class='semicolon token'>;</span>

  <span class='lparen token'>(</span><span class='B constant id'>B</span><span class='rparen token'>)</span> <span class='float val'>2</span><span class='dot token'>.</span> <span class='A constant id'>A</span> <span class='contiguous identifier id'>contiguous</span> <span class='span identifier id'>span</span> <span class='of identifier id'>of</span> <span class='bases identifier id'>bases</span><span class='semicolon token'>;</span>

  <span class='lparen token'>(</span><span class='C constant id'>C</span><span class='rparen token'>)</span> <span class='float val'>3</span><span class='dot token'>.</span> <span class='A constant id'>A</span> <span class='site identifier id'>site</span> <span class='between identifier id'>between</span> <span class='two identifier id'>two</span> <span class='bases identifier id'>bases</span><span class='semicolon token'>;</span>

  <span class='lparen token'>(</span><span class='D constant id'>D</span><span class='rparen token'>)</span> <span class='float val'>4</span><span class='dot token'>.</span> <span class='A constant id'>A</span> <span class='single identifier id'>single</span> <span class='base identifier id'>base</span> <span class='chosen identifier id'>chosen</span> <span class='from identifier id'>from</span> <span class='a identifier id'>a</span> <span class='range identifier id'>range</span> <span class='of identifier id'>of</span> <span class='bases identifier id'>bases</span><span class='semicolon token'>;</span>

  <span class='lparen token'>(</span><span class='E constant id'>E</span><span class='rparen token'>)</span> <span class='float val'>5</span><span class='dot token'>.</span> <span class='A constant id'>A</span> <span class='single identifier id'>single</span> <span class='base identifier id'>base</span> <span class='chosen identifier id'>chosen</span> <span class='from identifier id'>from</span> <span class='among identifier id'>among</span> <span class='two identifier id'>two</span> <span class='or or kw'>or</span> <span class='more identifier id'>more</span> <span class='specified identifier id'>specified</span> <span class='bases identifier id'>bases</span><span class='semicolon token'>;</span>

  <span class='lparen token'>(</span><span class='F constant id'>F</span><span class='rparen token'>)</span> <span class='float val'>6</span><span class='dot token'>.</span> <span class='A constant id'>A</span> <span class='joining identifier id'>joining</span> <span class='of identifier id'>of</span> <span class='sequence identifier id'>sequence</span> <span class='spans identifier id'>spans</span><span class='semicolon token'>;</span>

  <span class='lparen token'>(</span><span class='G constant id'>G</span><span class='rparen token'>)</span> <span class='float val'>7</span><span class='dot token'>.</span> <span class='A constant id'>A</span> <span class='reference identifier id'>reference</span> <span class='to identifier id'>to</span> <span class='an identifier id'>an</span> <span class='entry identifier id'>entry</span> <span class='other identifier id'>other</span> <span class='than identifier id'>than</span> <span class='the identifier id'>the</span> <span class='one identifier id'>one</span> <span class='to identifier id'>to</span> <span class='which identifier id'>which</span> <span class='the identifier id'>the</span> <span class='feature identifier id'>feature</span>
       <span class='belongs identifier id'>belongs</span> <span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='dot token'>.</span><span class='e identifier id'>e</span><span class='dot token'>.</span><span class='comma token'>,</span> <span class='a identifier id'>a</span> <span class='remote identifier id'>remote</span> <span class='entry identifier id'>entry</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='followed identifier id'>followed</span> <span class='by identifier id'>by</span> <span class='a identifier id'>a</span> <span class='location identifier id'>location</span> <span class='descriptor identifier id'>descriptor</span>
       <span class='referring identifier id'>referring</span> <span class='to identifier id'>to</span> <span class='the identifier id'>the</span> <span class='remote identifier id'>remote</span> <span class='sequence identifier id'>sequence</span><span class='semicolon token'>;</span>

  <span class='lparen token'>(</span><span class='H constant id'>H</span><span class='rparen token'>)</span> <span class='float val'>8</span><span class='dot token'>.</span> <span class='A constant id'>A</span> <span class='literal identifier id'>literal</span> <span class='sequence identifier id'>sequence</span> <span class='lparen token'>(</span><span class='a identifier id'>a</span> <span class='string identifier id'>string</span> <span class='of identifier id'>of</span> <span class='bases identifier id'>bases</span> <span class='enclosed identifier id'>enclosed</span> <span class='in in kw'>in</span> <span class='quotation identifier id'>quotation</span> <span class='marks identifier id'>marks</span><span class='rparen token'>)</span><span class='dot token'>.</span>
</pre>
<h4>Description commented with pattern IDs.</h4>
<pre class="code">
  <span class='lparen token'>(</span><span class='C constant id'>C</span><span class='rparen token'>)</span>   <span class='A constant id'>A</span> <span class='site identifier id'>site</span> <span class='between identifier id'>between</span> <span class='two identifier id'>two</span> <span class='residues identifier id'>residues</span><span class='comma token'>,</span> <span class='such identifier id'>such</span> <span class='as identifier id'>as</span> <span class='an identifier id'>an</span> <span class='endonuclease identifier id'>endonuclease</span> <span class='cleavage identifier id'>cleavage</span> <span class='site identifier id'>site</span><span class='comma token'>,</span> <span class='is identifier id'>is</span>
      <span class='indicated identifier id'>indicated</span> <span class='by identifier id'>by</span> <span class='listing identifier id'>listing</span> <span class='the identifier id'>the</span> <span class='two identifier id'>two</span> <span class='bases identifier id'>bases</span> <span class='separated identifier id'>separated</span> <span class='by identifier id'>by</span> <span class='a identifier id'>a</span> <span class='carat identifier id'>carat</span> <span class='lparen token'>(</span><span class='e identifier id'>e</span><span class='dot token'>.</span><span class='g identifier id'>g</span><span class='dot token'>.</span><span class='comma token'>,</span> <span class='integer val'>23</span><span class='bitxor op'>^</span><span class='integer val'>24</span><span class='rparen token'>)</span><span class='dot token'>.</span>

  <span class='lparen token'>(</span><span class='D constant id'>D</span><span class='rparen token'>)</span>   <span class='A constant id'>A</span> <span class='single identifier id'>single</span> <span class='residue identifier id'>residue</span> <span class='chosen identifier id'>chosen</span> <span class='from identifier id'>from</span> <span class='a identifier id'>a</span> <span class='range identifier id'>range</span> <span class='of identifier id'>of</span> <span class='residues identifier id'>residues</span> <span class='is identifier id'>is</span> <span class='indicated identifier id'>indicated</span> <span class='by identifier id'>by</span> <span class='the identifier id'>the</span>
      <span class='number identifier id'>number</span> <span class='of identifier id'>of</span> <span class='the identifier id'>the</span> <span class='first identifier id'>first</span> <span class='and and kw'>and</span> <span class='last identifier id'>last</span> <span class='bases identifier id'>bases</span> <span class='in in kw'>in</span> <span class='the identifier id'>the</span> <span class='range identifier id'>range</span> <span class='separated identifier id'>separated</span> <span class='by identifier id'>by</span> <span class='a identifier id'>a</span> <span class='single identifier id'>single</span>
      <span class='period identifier id'>period</span> <span class='lparen token'>(</span><span class='e identifier id'>e</span><span class='dot token'>.</span><span class='g identifier id'>g</span><span class='dot token'>.</span><span class='comma token'>,</span> <span class='float val'>23.79</span><span class='rparen token'>)</span><span class='dot token'>.</span> <span class='The constant id'>The</span> <span class='symbols identifier id'>symbols</span> <span class='lt op'>&lt;</span> <span class='and and kw'>and</span> <span class='gt op'>&gt;</span> <span class='indicate identifier id'>indicate</span> <span class='that identifier id'>that</span> <span class='the identifier id'>the</span> <span class='end end kw'>end</span> <span class='point identifier id'>point</span>
  <span class='lparen token'>(</span><span class='I constant id'>I</span><span class='rparen token'>)</span> <span class='of identifier id'>of</span> <span class='the identifier id'>the</span> <span class='range identifier id'>range</span> <span class='is identifier id'>is</span> <span class='beyond identifier id'>beyond</span> <span class='the identifier id'>the</span> <span class='specified identifier id'>specified</span> <span class='base identifier id'>base</span> <span class='number identifier id'>number</span><span class='dot token'>.</span>

  <span class='lparen token'>(</span><span class='B constant id'>B</span><span class='rparen token'>)</span>   <span class='A constant id'>A</span> <span class='contiguous identifier id'>contiguous</span> <span class='span identifier id'>span</span> <span class='of identifier id'>of</span> <span class='bases identifier id'>bases</span> <span class='is identifier id'>is</span> <span class='indicated identifier id'>indicated</span> <span class='by identifier id'>by</span> <span class='the identifier id'>the</span> <span class='number identifier id'>number</span> <span class='of identifier id'>of</span> <span class='the identifier id'>the</span> <span class='first identifier id'>first</span> <span class='and and kw'>and</span>
      <span class='last identifier id'>last</span> <span class='bases identifier id'>bases</span> <span class='in in kw'>in</span> <span class='the identifier id'>the</span> <span class='range identifier id'>range</span> <span class='separated identifier id'>separated</span> <span class='by identifier id'>by</span> <span class='two identifier id'>two</span> <span class='periods identifier id'>periods</span> <span class='lparen token'>(</span><span class='e identifier id'>e</span><span class='dot token'>.</span><span class='g identifier id'>g</span><span class='dot token'>.</span><span class='comma token'>,</span> <span class='float val'>23</span><span class='dot2 op'>..</span><span class='integer val'>79</span><span class='rparen token'>)</span><span class='dot token'>.</span> <span class='The constant id'>The</span>
  <span class='lparen token'>(</span><span class='I constant id'>I</span><span class='rparen token'>)</span> <span class='symbols identifier id'>symbols</span> <span class='lt op'>&lt;</span> <span class='and and kw'>and</span> <span class='gt op'>&gt;</span> <span class='indicate identifier id'>indicate</span> <span class='that identifier id'>that</span> <span class='the identifier id'>the</span> <span class='end end kw'>end</span> <span class='point identifier id'>point</span> <span class='of identifier id'>of</span> <span class='the identifier id'>the</span> <span class='range identifier id'>range</span> <span class='is identifier id'>is</span> <span class='beyond identifier id'>beyond</span> <span class='the identifier id'>the</span>
      <span class='specified identifier id'>specified</span> <span class='base identifier id'>base</span> <span class='number identifier id'>number</span><span class='dot token'>.</span> <span class='Starting constant id'>Starting</span> <span class='and and kw'>and</span> <span class='ending identifier id'>ending</span> <span class='positions identifier id'>positions</span> <span class='can identifier id'>can</span> <span class='be identifier id'>be</span> <span class='indicated identifier id'>indicated</span>
      <span class='by identifier id'>by</span> <span class='base identifier id'>base</span> <span class='number identifier id'>number</span> <span class='or or kw'>or</span> <span class='by identifier id'>by</span> <span class='one identifier id'>one</span> <span class='of identifier id'>of</span> <span class='the identifier id'>the</span> <span class='operators identifier id'>operators</span> <span class='described identifier id'>described</span> <span class='below identifier id'>below</span><span class='dot token'>.</span>

        <span class='Operators constant id'>Operators</span> <span class='are identifier id'>are</span> <span class='prefixes identifier id'>prefixes</span> <span class='that identifier id'>that</span> <span class='specify identifier id'>specify</span> <span class='what identifier id'>what</span> <span class='must identifier id'>must</span> <span class='be identifier id'>be</span> <span class='done identifier id'>done</span> <span class='to identifier id'>to</span> <span class='the identifier id'>the</span> <span class='indicated identifier id'>indicated</span>
      <span class='sequence identifier id'>sequence</span> <span class='to identifier id'>to</span> <span class='locate identifier id'>locate</span> <span class='the identifier id'>the</span> <span class='feature identifier id'>feature</span><span class='dot token'>.</span> <span class='The constant id'>The</span> <span class='following identifier id'>following</span> <span class='are identifier id'>are</span> <span class='the identifier id'>the</span> <span class='operators identifier id'>operators</span>
      <span class='available identifier id'>available</span><span class='comma token'>,</span> <span class='along identifier id'>along</span> <span class='with identifier id'>with</span> <span class='their identifier id'>their</span> <span class='most identifier id'>most</span> <span class='common identifier id'>common</span> <span class='format identifier id'>format</span> <span class='and and kw'>and</span> <span class='a identifier id'>a</span> <span class='description identifier id'>description</span><span class='dot token'>.</span>

  <span class='lparen token'>(</span><span class='J constant id'>J</span><span class='rparen token'>)</span> <span class='complement identifier id'>complement</span> <span class='lparen token'>(</span><span class='location identifier id'>location</span><span class='rparen token'>)</span><span class='colon op'>:</span> <span class='The constant id'>The</span> <span class='feature identifier id'>feature</span> <span class='is identifier id'>is</span> <span class='complementary identifier id'>complementary</span> <span class='to identifier id'>to</span> <span class='the identifier id'>the</span> <span class='location identifier id'>location</span>
      <span class='indicated identifier id'>indicated</span><span class='dot token'>.</span> <span class='Complementary constant id'>Complementary</span> <span class='strands identifier id'>strands</span> <span class='are identifier id'>are</span> <span class='read identifier id'>read</span> <span class='integer val'>5</span> <span class='to identifier id'>to</span> <span class='float val'>3</span><span class='dot token'>.</span>

  <span class='lparen token'>(</span><span class='F constant id'>F</span><span class='rparen token'>)</span> <span class='join identifier id'>join</span> <span class='lparen token'>(</span><span class='location identifier id'>location</span><span class='comma token'>,</span> <span class='location identifier id'>location</span><span class='comma token'>,</span> <span class='dot2 op'>..</span> <span class='location identifier id'>location</span><span class='rparen token'>)</span><span class='colon op'>:</span> <span class='The constant id'>The</span> <span class='indicated identifier id'>indicated</span> <span class='elements identifier id'>elements</span> <span class='should identifier id'>should</span>
      <span class='be identifier id'>be</span> <span class='placed identifier id'>placed</span> <span class='end end kw'>end</span> <span class='to identifier id'>to</span> <span class='end end kw'>end</span> <span class='to identifier id'>to</span> <span class='form identifier id'>form</span> <span class='one identifier id'>one</span> <span class='contiguous identifier id'>contiguous</span> <span class='sequence identifier id'>sequence</span><span class='dot token'>.</span>

  <span class='lparen token'>(</span><span class='F constant id'>F</span><span class='rparen token'>)</span> <span class='order identifier id'>order</span> <span class='lparen token'>(</span><span class='location identifier id'>location</span><span class='comma token'>,</span> <span class='location identifier id'>location</span><span class='comma token'>,</span> <span class='dot2 op'>..</span> <span class='location identifier id'>location</span><span class='rparen token'>)</span><span class='colon op'>:</span> <span class='The constant id'>The</span> <span class='elements identifier id'>elements</span> <span class='are identifier id'>are</span> <span class='found identifier id'>found</span> <span class='in in kw'>in</span> <span class='the identifier id'>the</span>
      <span class='specified identifier id'>specified</span> <span class='order identifier id'>order</span> <span class='in in kw'>in</span> <span class='the identifier id'>the</span> <span class='integer val'>5</span> <span class='to identifier id'>to</span> <span class='integer val'>3</span> <span class='direction identifier id'>direction</span><span class='comma token'>,</span> <span class='but identifier id'>but</span> <span class='nothing identifier id'>nothing</span> <span class='is identifier id'>is</span> <span class='implied identifier id'>implied</span> <span class='about identifier id'>about</span>
      <span class='the identifier id'>the</span> <span class='rationality identifier id'>rationality</span> <span class='of identifier id'>of</span> <span class='joining identifier id'>joining</span> <span class='them identifier id'>them</span><span class='dot token'>.</span>

  <span class='lparen token'>(</span><span class='F constant id'>F</span><span class='rparen token'>)</span> <span class='group identifier id'>group</span> <span class='lparen token'>(</span><span class='location identifier id'>location</span><span class='comma token'>,</span> <span class='location identifier id'>location</span><span class='comma token'>,</span> <span class='dot2 op'>..</span> <span class='location identifier id'>location</span><span class='rparen token'>)</span><span class='colon op'>:</span> <span class='The constant id'>The</span> <span class='elements identifier id'>elements</span> <span class='are identifier id'>are</span> <span class='related identifier id'>related</span> <span class='and and kw'>and</span>
      <span class='should identifier id'>should</span> <span class='be identifier id'>be</span> <span class='grouped identifier id'>grouped</span> <span class='together identifier id'>together</span><span class='comma token'>,</span> <span class='but identifier id'>but</span> <span class='no identifier id'>no</span> <span class='order identifier id'>order</span> <span class='is identifier id'>is</span> <span class='implied identifier id'>implied</span><span class='dot token'>.</span>

  <span class='lparen token'>(</span><span class='E constant id'>E</span><span class='rparen token'>)</span> <span class='one identifier id'>one</span><span class='minus op'>-</span><span class='of identifier id'>of</span> <span class='lparen token'>(</span><span class='location identifier id'>location</span><span class='comma token'>,</span> <span class='location identifier id'>location</span><span class='comma token'>,</span> <span class='dot2 op'>..</span> <span class='location identifier id'>location</span><span class='rparen token'>)</span><span class='colon op'>:</span> <span class='The constant id'>The</span> <span class='element identifier id'>element</span> <span class='can identifier id'>can</span> <span class='be identifier id'>be</span> <span class='any identifier id'>any</span> <span class='one identifier id'>one</span><span class='comma token'>,</span>
    <span class='but identifier id'>but</span> <span class='only identifier id'>only</span> <span class='one identifier id'>one</span><span class='comma token'>,</span> <span class='of identifier id'>of</span> <span class='the identifier id'>the</span> <span class='items identifier id'>items</span> <span class='listed identifier id'>listed</span><span class='dot token'>.</span>
</pre>
<h3>Reduction strategy of the position notations</h3>
<ul>
<li>(A) Location n

</li>
<li>(B) Location n..m

</li>
<li>(C) Location n^m

</li>
<li>(D) (n.m) =&gt; Location n

</li>
<li>(E)

<ul>
<li>one-of(n,m,..) =&gt; Location n

</li>
<li>one-of(n..m,..) =&gt; Location n..m

</li>
</ul>
</li>
<li>(F)

<ul>
<li>order(loc,loc,..) =&gt; join(loc, loc,..)

</li>
<li>group(loc,loc,..) =&gt; join(loc, loc,..)

</li>
<li>join(loc,loc,..) =&gt; Sequence

</li>
</ul>
</li>
<li>(G) ID:loc =&gt; Location with ID

</li>
<li>(H) &quot;atgc&quot; =&gt; Location only with Sequence

</li>
<li>(I)

<ul>
<li>&lt;n =&gt; Location n with lt flag

</li>
<li>&gt;n =&gt; Location n with gt flag

</li>
<li>&lt;n..m =&gt; Location n..m with lt flag

</li>
<li>n..&gt;m =&gt; Location n..m with gt flag

</li>
<li>&lt;n..&gt;m =&gt; Location n..m with lt, gt flag

</li>
</ul>
</li>
<li>(J) complement(loc) =&gt; Sequence

</li>
<li>(K) replace(loc, str) =&gt; Location with replacement Sequence

</li>
</ul>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">locations</td>
          <td class="readwrite">
            [<span id='locations-instance_method'>R</span><span id='locations=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
(Array) An Array of Bio::Location objects.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">operator</td>
          <td class="readwrite">
            [<span id='operator-instance_method'>R</span><span id='operator=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
(Symbol or nil) Operator.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(position)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Parses a GenBank style position string and returns a Bio::Locations object,
which contains a list of Bio::Location objects.
</p>
<pre class="code">
  <span class='locations identifier id'>locations</span> <span class='assign token'>=</span> <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='Locations constant id'>Locations</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'join(complement(500..550), 600..625)'</span><span class='rparen token'>)</span>
</pre>
<hr size="1"></hr><p>
<b>Arguments</b>:
</p>
<ul>
<li>(required) <em>str</em>: GenBank style position string

</li>
</ul>
<table>
<tr><td valign="top"><b>Returns</b>:</td><td>Bio::Locations object

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/location.rb', line 324</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/location.rb#L324">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">324
325
326
327
328
329
330
331
332</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='position identifier id'>position</span><span class='rparen token'>)</span>
  <span class='@operator ivar id'>@operator</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='if if kw'>if</span> <span class='position identifier id'>position</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span> <span class='Array constant id'>Array</span>
    <span class='@locations ivar id'>@locations</span> <span class='assign token'>=</span> <span class='position identifier id'>position</span>
  <span class='else else kw'>else</span>
    <span class='position identifier id'>position</span>   <span class='assign token'>=</span> <span class='gbl_cleanup identifier id'>gbl_cleanup</span><span class='lparen token'>(</span><span class='position identifier id'>position</span><span class='rparen token'>)</span>  <span class='comment val'># preprocessing</span>
    <span class='@locations ivar id'>@locations</span> <span class='assign token'>=</span> <span class='gbl_pos2loc identifier id'>gbl_pos2loc</span><span class='lparen token'>(</span><span class='position identifier id'>position</span><span class='rparen token'>)</span>  <span class='comment val'># create an Array of Bio::Location objects</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-5B-5D-instance_method">#[]</span><span class='args'>(n)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns nth Bio::Location object.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#absolute-instance_method">#absolute</span><span class='args'>(n, type = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Converts relative position in the locus to position in the whole of the DNA
sequence.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#each-instance_method">#each</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Iterates on each Bio::Location object.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#equals-3F-instance_method">#equals?</span><span class='args'>(other)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Evaluate equality of Bio::Locations object.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#first-instance_method">#first</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns first Bio::Location object.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#last-instance_method">#last</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns last Bio::Location object.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#length-instance_method">#length</span><span class='args'></span>
        <span class='block'></span>
        
          <span class='alias'>#size</span>
        
      </th>
      <td class="docstring">
        <p>
Returns a length of the spliced RNA.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#range-instance_method">#range</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Similar to span, but returns a Range object min.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#relative-instance_method">#relative</span><span class='args'>(n, type = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Converts absolute position in the whole of the DNA sequence to relative
position in the locus.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#span-instance_method">#span</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns an Array containing overall min and max position [min, max] of this
Bio::Locations object.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_s-instance_method">#to_s</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
String representation.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>[]</h3>
</div><div id="-5B-5D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>[]</span><span class='args'>(n)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns nth Bio::Location object.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/location.rb', line 361</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/location.rb#L361">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">361
362
363</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='aref op'>[]</span><span class='lparen token'>(</span><span class='n identifier id'>n</span><span class='rparen token'>)</span>
  <span class='@locations ivar id'>@locations</span><span class='lbrack token'>[</span><span class='n identifier id'>n</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>absolute</h3>
</div><div id="absolute-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>absolute</span><span class='args'>(n, type = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Converts relative position in the locus to position in the whole of the DNA
sequence.
</p>
<p>
This method can for example be used to relate positions in a DNA-sequence
with those in RNA. In this use, the optional &#8217;:aa&#8217;-flag returns
the position of the associated amino-acid rather than the nucleotide.
</p>
<pre class="code">
  <span class='loc identifier id'>loc</span> <span class='assign token'>=</span> <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='Locations constant id'>Locations</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'complement(12838..13533)'</span><span class='rparen token'>)</span>
  <span class='puts identifier id'>puts</span> <span class='loc identifier id'>loc</span><span class='dot token'>.</span><span class='absolute identifier id'>absolute</span><span class='lparen token'>(</span><span class='integer val'>10</span><span class='rparen token'>)</span>          <span class='comment val'># =&gt; 13524</span>
  <span class='puts identifier id'>puts</span> <span class='loc identifier id'>loc</span><span class='dot token'>.</span><span class='absolute identifier id'>absolute</span><span class='lparen token'>(</span><span class='integer val'>10</span><span class='comma token'>,</span> <span class='symbol val'>:aa</span><span class='rparen token'>)</span>     <span class='comment val'># =&gt; 13506</span>
</pre>
<hr size="1"></hr><p>
<b>Arguments</b>:
</p>
<ul>
<li>(required) <em>position</em>: nucleotide position within locus

</li>
<li>_:aa_: flag to be used if <em>position</em> is a aminoacid position rather
than a nucleotide position

</li>
</ul>
<table>
<tr><td valign="top"><b>Returns</b>:</td><td>position within the whole of the sequence

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/location.rb', line 451</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/location.rb#L451">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">451
452
453
454
455
456
457
458
459
460
461</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='absolute identifier id'>absolute</span><span class='lparen token'>(</span><span class='n identifier id'>n</span><span class='comma token'>,</span> <span class='type identifier id'>type</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='case case kw'>case</span> <span class='type identifier id'>type</span>
  <span class='when when kw'>when</span> <span class='symbol val'>:location</span>
    <span class='semicolon token'>;</span>
  <span class='when when kw'>when</span> <span class='symbol val'>:aa</span>
    <span class='n identifier id'>n</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='n identifier id'>n</span> <span class='minus op'>-</span> <span class='integer val'>1</span><span class='rparen token'>)</span> <span class='mult op'>*</span> <span class='integer val'>3</span> <span class='plus op'>+</span> <span class='integer val'>1</span>
    <span class='rel2abs identifier id'>rel2abs</span><span class='lparen token'>(</span><span class='n identifier id'>n</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='rel2abs identifier id'>rel2abs</span><span class='lparen token'>(</span><span class='n identifier id'>n</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>each</h3>
</div><div id="each-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>each</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Iterates on each Bio::Location object.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/location.rb', line 354</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/location.rb#L354">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">354
355
356
357
358</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='each identifier id'>each</span>
  <span class='@locations ivar id'>@locations</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span>
    <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='x identifier id'>x</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>equals?</h3>
</div><div id="equals-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>equals?</span><span class='args'>(other)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Evaluate equality of Bio::Locations object.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/location.rb', line 342</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/location.rb#L342">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">342
343
344
345
346
347
348
349
350
351</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='equals? fid id'>equals?</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='notop op'>!</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span><span class='lparen token'>(</span><span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='Locations constant id'>Locations</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span>
  <span class='end end kw'>end</span>
  <span class='if if kw'>if</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='sort identifier id'>sort</span> <span class='eq op'>==</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='sort identifier id'>sort</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span>
  <span class='else else kw'>else</span>
    <span class='return return kw'>return</span> <span class='false false kw'>false</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>first</h3>
</div><div id="first-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>first</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns first Bio::Location object.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/location.rb', line 366</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/location.rb#L366">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">366
367
368</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='first identifier id'>first</span>
  <span class='@locations ivar id'>@locations</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>last</h3>
</div><div id="last-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>last</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns last Bio::Location object.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/location.rb', line 371</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/location.rb#L371">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">371
372
373</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='last identifier id'>last</span>
  <span class='@locations ivar id'>@locations</span><span class='dot token'>.</span><span class='last identifier id'>last</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>length</h3>
</div><div id="length-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>length</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="size-instance_method">size</tt>
  
</p>
</div><div class="section docstring">
  <p>
Returns a length of the spliced RNA.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/location.rb', line 390</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/location.rb#L390">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">390
391
392
393
394
395
396
397
398
399
400</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='length identifier id'>length</span>
  <span class='len identifier id'>len</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='@locations ivar id'>@locations</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='sequence identifier id'>sequence</span>
      <span class='len identifier id'>len</span> <span class='opasgn op'>+=</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='sequence identifier id'>sequence</span><span class='dot token'>.</span><span class='size identifier id'>size</span>
    <span class='else else kw'>else</span>
      <span class='len identifier id'>len</span> <span class='opasgn op'>+=</span> <span class='lparen token'>(</span><span class='x identifier id'>x</span><span class='dot token'>.</span><span class='to identifier id'>to</span> <span class='minus op'>-</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='from identifier id'>from</span> <span class='plus op'>+</span> <span class='integer val'>1</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='len identifier id'>len</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>range</h3>
</div><div id="range-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>range</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Similar to span, but returns a Range object min..max
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/location.rb', line 384</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/location.rb#L384">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">384
385
386
387</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='range identifier id'>range</span>
  <span class='min identifier id'>min</span><span class='comma token'>,</span> <span class='max identifier id'>max</span> <span class='assign token'>=</span> <span class='span identifier id'>span</span>
  <span class='min identifier id'>min</span><span class='dot2 op'>..</span><span class='max identifier id'>max</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>relative</h3>
</div><div id="relative-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>relative</span><span class='args'>(n, type = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Converts absolute position in the whole of the DNA sequence to relative
position in the locus.
</p>
<p>
This method can for example be used to relate positions in a DNA-sequence
with those in RNA. In this use, the optional &#8217;:aa&#8217;-flag returns
the position of the associated amino-acid rather than the nucleotide.
</p>
<pre class="code">
  <span class='loc identifier id'>loc</span> <span class='assign token'>=</span> <span class='Bio constant id'>Bio</span><span class='colon2 op'>::</span><span class='Locations constant id'>Locations</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'complement(12838..13533)'</span><span class='rparen token'>)</span>
  <span class='puts identifier id'>puts</span> <span class='loc identifier id'>loc</span><span class='dot token'>.</span><span class='relative identifier id'>relative</span><span class='lparen token'>(</span><span class='integer val'>13524</span><span class='rparen token'>)</span>        <span class='comment val'># =&gt; 10</span>
  <span class='puts identifier id'>puts</span> <span class='loc identifier id'>loc</span><span class='dot token'>.</span><span class='relative identifier id'>relative</span><span class='lparen token'>(</span><span class='integer val'>13506</span><span class='comma token'>,</span> <span class='symbol val'>:aa</span><span class='rparen token'>)</span>   <span class='comment val'># =&gt; 3</span>
</pre>
<hr size="1"></hr><p>
<b>Arguments</b>:
</p>
<ul>
<li>(required) <em>position</em>: nucleotide position within whole of the
sequence

</li>
<li>_:aa_: flag that lets method return position in aminoacid coordinates

</li>
</ul>
<table>
<tr><td valign="top"><b>Returns</b>:</td><td>position within the location

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/location.rb', line 419</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/location.rb#L419">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">419
420
421
422
423
424
425
426
427
428
429
430
431
432</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='relative identifier id'>relative</span><span class='lparen token'>(</span><span class='n identifier id'>n</span><span class='comma token'>,</span> <span class='type identifier id'>type</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='case case kw'>case</span> <span class='type identifier id'>type</span>
  <span class='when when kw'>when</span> <span class='symbol val'>:location</span>
    <span class='semicolon token'>;</span>
  <span class='when when kw'>when</span> <span class='symbol val'>:aa</span>
    <span class='if if kw'>if</span> <span class='n identifier id'>n</span> <span class='assign token'>=</span> <span class='abs2rel identifier id'>abs2rel</span><span class='lparen token'>(</span><span class='n identifier id'>n</span><span class='rparen token'>)</span>
      <span class='lparen token'>(</span><span class='n identifier id'>n</span> <span class='minus op'>-</span> <span class='integer val'>1</span><span class='rparen token'>)</span> <span class='div op'>/</span> <span class='integer val'>3</span> <span class='plus op'>+</span> <span class='integer val'>1</span>
    <span class='else else kw'>else</span>
      <span class='nil nil kw'>nil</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='abs2rel identifier id'>abs2rel</span><span class='lparen token'>(</span><span class='n identifier id'>n</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>span</h3>
</div><div id="span-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>span</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns an Array containing overall min and max position [min, max] of this
Bio::Locations object.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/location.rb', line 377</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/location.rb#L377">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">377
378
379
380
381</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='span identifier id'>span</span>
  <span class='span_min identifier id'>span_min</span> <span class='assign token'>=</span> <span class='@locations ivar id'>@locations</span><span class='dot token'>.</span><span class='min identifier id'>min</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='comma token'>,</span><span class='b identifier id'>b</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='from identifier id'>from</span> <span class='cmp op'>&lt;=&gt;</span> <span class='b identifier id'>b</span><span class='dot token'>.</span><span class='from identifier id'>from</span> <span class='rbrace token'>}</span>
  <span class='span_max identifier id'>span_max</span> <span class='assign token'>=</span> <span class='@locations ivar id'>@locations</span><span class='dot token'>.</span><span class='max identifier id'>max</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='comma token'>,</span><span class='b identifier id'>b</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='to identifier id'>to</span>   <span class='cmp op'>&lt;=&gt;</span> <span class='b identifier id'>b</span><span class='dot token'>.</span><span class='to identifier id'>to</span>   <span class='rbrace token'>}</span>
  <span class='return return kw'>return</span> <span class='span_min identifier id'>span_min</span><span class='dot token'>.</span><span class='from identifier id'>from</span><span class='comma token'>,</span> <span class='span_max identifier id'>span_max</span><span class='dot token'>.</span><span class='to identifier id'>to</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_s</h3>
</div><div id="to_s-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_s</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
String representation.
</p>
<p>
Note: In some cases, it fails to detect whether
&quot;complement(join(&#8230;))&quot; or &quot;join(complement(..))&quot;,
and whether &quot;complement(order(&#8230;))&quot; or
&quot;order(complement(..))&quot;.
</p>
<hr size="1"></hr><table>
<tr><td valign="top"><b>Returns</b>:</td><td>String

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/location.rb', line 472</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/location.rb#L472">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_s identifier id'>to_s</span>
  <span class='return return kw'>return</span> <span class='string val'>''</span> <span class='if if_mod kw'>if</span> <span class='@locations ivar id'>@locations</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
  <span class='complement_join identifier id'>complement_join</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
  <span class='locs identifier id'>locs</span> <span class='assign token'>=</span> <span class='@locations ivar id'>@locations</span>
  <span class='if if kw'>if</span> <span class='locs identifier id'>locs</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='geq op'>&gt;=</span> <span class='integer val'>2</span> <span class='and and kw'>and</span> <span class='locs identifier id'>locs</span><span class='dot token'>.</span><span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='true true kw'>true</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='flag identifier id'>flag</span><span class='comma token'>,</span> <span class='loc identifier id'>loc</span><span class='bitor op'>|</span>
      <span class='comment val'># check if each location is complement</span>
      <span class='lparen token'>(</span><span class='flag identifier id'>flag</span> <span class='andop op'>&amp;&amp;</span> <span class='lparen token'>(</span><span class='loc identifier id'>loc</span><span class='dot token'>.</span><span class='strand identifier id'>strand</span> <span class='eq op'>==</span> <span class='integer val'>-1</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='notop op'>!</span><span class='loc identifier id'>loc</span><span class='dot token'>.</span><span class='xref_id identifier id'>xref_id</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span> <span class='and and kw'>and</span> <span class='locs identifier id'>locs</span><span class='dot token'>.</span><span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='locs identifier id'>locs</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='from identifier id'>from</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='pos identifier id'>pos</span><span class='comma token'>,</span> <span class='loc identifier id'>loc</span><span class='bitor op'>|</span>
      <span class='if if kw'>if</span> <span class='pos identifier id'>pos</span> <span class='then then kw'>then</span>
        <span class='lparen token'>(</span><span class='pos identifier id'>pos</span> <span class='geq op'>&gt;=</span> <span class='loc identifier id'>loc</span><span class='dot token'>.</span><span class='from identifier id'>from</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='loc identifier id'>loc</span><span class='dot token'>.</span><span class='from identifier id'>from</span> <span class='colon op'>:</span> <span class='false false kw'>false</span>
      <span class='else else kw'>else</span>
        <span class='false false kw'>false</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span> <span class='then then kw'>then</span>
    <span class='locs identifier id'>locs</span> <span class='assign token'>=</span> <span class='locs identifier id'>locs</span><span class='dot token'>.</span><span class='reverse identifier id'>reverse</span>
    <span class='complement_join identifier id'>complement_join</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
  <span class='end end kw'>end</span>
  <span class='locs identifier id'>locs</span> <span class='assign token'>=</span> <span class='locs identifier id'>locs</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='loc identifier id'>loc</span><span class='bitor op'>|</span>
    <span class='lt identifier id'>lt</span> <span class='assign token'>=</span> <span class='loc identifier id'>loc</span><span class='dot token'>.</span><span class='lt identifier id'>lt</span> <span class='integer val'>? </span><span class='string val'>'&lt;'</span> <span class='colon op'>:</span> <span class='string val'>''</span>
    <span class='gt identifier id'>gt</span> <span class='assign token'>=</span> <span class='loc identifier id'>loc</span><span class='dot token'>.</span><span class='gt identifier id'>gt</span> <span class='integer val'>? </span><span class='string val'>'&gt;'</span> <span class='colon op'>:</span> <span class='string val'>''</span>
    <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='if if kw'>if</span> <span class='loc identifier id'>loc</span><span class='dot token'>.</span><span class='from identifier id'>from</span> <span class='eq op'>==</span> <span class='loc identifier id'>loc</span><span class='dot token'>.</span><span class='to identifier id'>to</span> <span class='then then kw'>then</span>
            <span class='dstring node'>&quot;#{lt}#{gt}#{loc.from.to_i}&quot;</span>
          <span class='elsif elsif kw'>elsif</span> <span class='loc identifier id'>loc</span><span class='dot token'>.</span><span class='carat identifier id'>carat</span> <span class='then then kw'>then</span>
            <span class='dstring node'>&quot;#{lt}#{loc.from.to_i}^#{gt}#{loc.to.to_i}&quot;</span>
          <span class='else else kw'>else</span>
            <span class='dstring node'>&quot;#{lt}#{loc.from.to_i}..#{gt}#{loc.to.to_i}&quot;</span>
          <span class='end end kw'>end</span>
    <span class='if if kw'>if</span> <span class='loc identifier id'>loc</span><span class='dot token'>.</span><span class='xref_id identifier id'>xref_id</span> <span class='and and kw'>and</span> <span class='notop op'>!</span><span class='loc identifier id'>loc</span><span class='dot token'>.</span><span class='xref_id identifier id'>xref_id</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span> <span class='then then kw'>then</span>
      <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{loc.xref_id}:#{str}&quot;</span>
    <span class='end end kw'>end</span>
    <span class='if if kw'>if</span> <span class='loc identifier id'>loc</span><span class='dot token'>.</span><span class='strand identifier id'>strand</span> <span class='eq op'>==</span> <span class='integer val'>-1</span> <span class='and and kw'>and</span> <span class='notop op'>!</span><span class='complement_join identifier id'>complement_join</span> <span class='then then kw'>then</span>
      <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;complement(#{str})&quot;</span>
    <span class='end end kw'>end</span>
    <span class='if if kw'>if</span> <span class='loc identifier id'>loc</span><span class='dot token'>.</span><span class='sequence identifier id'>sequence</span> <span class='then then kw'>then</span>
      <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;replace(#{str},\&quot;#{loc.sequence}\&quot;)&quot;</span>
    <span class='end end kw'>end</span>
    <span class='str identifier id'>str</span>
  <span class='end end kw'>end</span>
  <span class='if if kw'>if</span> <span class='locs identifier id'>locs</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='geq op'>&gt;=</span> <span class='integer val'>2</span> <span class='then then kw'>then</span>
    <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='operator identifier id'>operator</span> <span class='orop op'>||</span> <span class='string val'>'join'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{op}(#{locs.join(',')})&quot;</span>
  <span class='else else kw'>else</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='locs identifier id'>locs</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>
  <span class='if if kw'>if</span> <span class='complement_join identifier id'>complement_join</span> <span class='then then kw'>then</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;complement(#{result})&quot;</span>
  <span class='end end kw'>end</span>
  <span class='result identifier id'>result</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>