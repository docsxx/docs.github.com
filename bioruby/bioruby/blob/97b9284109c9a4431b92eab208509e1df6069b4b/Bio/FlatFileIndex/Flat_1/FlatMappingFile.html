<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>bioruby's bioruby - Class: Bio::FlatFileIndex::Flat_1::FlatMappingFile - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/bioruby/commits/bioruby/master" rel="alternate" title="Recent Commits to bioruby:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../../../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("bioruby", "bioruby", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("bioruby", "bioruby", "97b9284109c9a4431b92eab208509e1df6069b4b", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../../../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/bioruby/bioruby/tree/">Source</a></li>
            <li class=""><a href="http://github.com/bioruby/bioruby/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/bioruby/bioruby/network">Network</a></li>            
            <li class=""><a href="http://github.com/bioruby/bioruby/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/bioruby/bioruby">Wiki</a></li>
            <li class=""><a href="http://github.com/bioruby/bioruby/graphs">Graphs</a></li>                    
            <li class="active"><a href="/bioruby/bioruby">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/bioruby">bioruby</a> / <b><a href="http://github.com/bioruby/bioruby/tree">bioruby</a></b>        
                <a id="namespaces_button" rel="bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Bio_FlatFileIndex_Flat_1_FlatMappingFile">
  <h1>Class: Bio::FlatFileIndex::Flat_1::FlatMappingFile</h1>
  <div class="section docstring">
  <p>
FlatMappingFile class.
</p>
<p>
Internal use only.
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">filename</td>
          <td class="readwrite">
            [<span id='filename-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>filename</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">mode</td>
          <td class="readwrite">
            [<span id='mode-instance_method'>R</span><span id='mode=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>mode</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(filename, mode = 'rb')</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/io/flatfile/index.rb', line 734</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/io/flatfile/index.rb#L734">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">734
735
736
737
738
739
740
741</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='filename identifier id'>filename</span><span class='comma token'>,</span> <span class='mode identifier id'>mode</span> <span class='assign token'>=</span> <span class='string val'>'rb'</span><span class='rparen token'>)</span>
  <span class='@filename ivar id'>@filename</span> <span class='assign token'>=</span> <span class='filename identifier id'>filename</span>
  <span class='@mode ivar id'>@mode</span> <span class='assign token'>=</span> <span class='mode identifier id'>mode</span>
  <span class='@file ivar id'>@file</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='comment val'>#@file = File.open(filename, mode)</span>
  <span class='@record_size ivar id'>@record_size</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@records ivar id'>@records</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#external_merge_proc-class_method">external_merge_proc</span><span class='args'>(sort_program = [ '/usr/bin/env', 
                                                       'LC_ALL=C',
                                                       '/usr/bin/sort' ])</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#external_merge_sort_proc-class_method">external_merge_sort_proc</span><span class='args'>(sort_program = [ '/usr/bin/env', 
                                                           'LC_ALL=C',
                                                           '/usr/bin/sort' ])</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#external_sort_proc-class_method">external_sort_proc</span><span class='args'>(sort_program = [ '/usr/bin/env', 
                                                     'LC_ALL=C',
                                                     '/usr/bin/sort' ])</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#internal_sort_proc-class_method">internal_sort_proc</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#open-class_method">open</span><span class='args'>(*arg)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#add_record-instance_method">#add_record</span><span class='args'>(str)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#close-instance_method">#close</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#each-instance_method">#each</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
export/import/edit data.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#export_tsv-instance_method">#export_tsv</span><span class='args'>(stream)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get_record-instance_method">#get_record</span><span class='args'>(i)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#import_tsv_files-instance_method">#import_tsv_files</span><span class='args'>(flag_primary, mode, sort_proc, *files)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#init-instance_method">#init</span><span class='args'>(rs)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#init_with_sorted_tsv_file-instance_method">#init_with_sorted_tsv_file</span><span class='args'>(filename, flag_primary = false)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#open-instance_method">#open</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#put_record-instance_method">#put_record</span><span class='args'>(i, str)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#record_size-instance_method">#record_size</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#records-instance_method">#records</span><span class='args'></span>
        <span class='block'></span>
        
          <span class='alias'>#size</span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#search-instance_method">#search</span><span class='args'>(key)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
methods for searching.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#seek-instance_method">#seek</span><span class='args'>(i)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#write_record-instance_method">#write_record</span><span class='args'>(str)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
methods for writing file.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>external_merge_proc</h3>
</div><div id="external_merge_proc-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>external_merge_proc</span><span class='args'>(sort_program = [ '/usr/bin/env', 
                                                       'LC_ALL=C',
                                                       '/usr/bin/sort' ])</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/io/flatfile/index.rb', line 923</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/io/flatfile/index.rb#L923">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">923
924
925
926
927
928
929
930
931</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='external_merge_proc identifier id'>external_merge_proc</span><span class='lparen token'>(</span><span class='sort_program identifier id'>sort_program</span> <span class='assign token'>=</span>  <span class='lbrack token'>[</span> <span class='string val'>'/usr/bin/env'</span><span class='comma token'>,</span> 
                                               <span class='string val'>'LC_ALL=C'</span><span class='comma token'>,</span>
                                               <span class='string val'>'/usr/bin/sort'</span> <span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='Proc constant id'>Proc</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='out identifier id'>out</span><span class='comma token'>,</span> <span class='in1 identifier id'>in1</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='files identifier id'>files</span><span class='bitor op'>|</span>
    <span class='comment val'># files (and in1) must be sorted</span>
    <span class='cmd identifier id'>cmd</span> <span class='assign token'>=</span> <span class='sort_program identifier id'>sort_program</span> <span class='plus op'>+</span> <span class='lbrack token'>[</span> <span class='string val'>'-m'</span><span class='comma token'>,</span> <span class='string val'>'-o'</span><span class='comma token'>,</span> <span class='out identifier id'>out</span><span class='comma token'>,</span> <span class='in1 identifier id'>in1</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='files identifier id'>files</span> <span class='rbrack token'>]</span>
    <span class='system identifier id'>system</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='cmd identifier id'>cmd</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>external_merge_sort_proc</h3>
</div><div id="external_merge_sort_proc-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>external_merge_sort_proc</span><span class='args'>(sort_program = [ '/usr/bin/env', 
                                                           'LC_ALL=C',
                                                           '/usr/bin/sort' ])</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/io/flatfile/index.rb', line 900</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/io/flatfile/index.rb#L900">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">900
901
902
903
904
905
906
907
908
909
910
911
912
913
914
915
916
917
918
919
920
921</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='external_merge_sort_proc identifier id'>external_merge_sort_proc</span><span class='lparen token'>(</span><span class='sort_program identifier id'>sort_program</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span> <span class='string val'>'/usr/bin/env'</span><span class='comma token'>,</span> 
                                                   <span class='string val'>'LC_ALL=C'</span><span class='comma token'>,</span>
                                                   <span class='string val'>'/usr/bin/sort'</span> <span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='Proc constant id'>Proc</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='out identifier id'>out</span><span class='comma token'>,</span> <span class='in1 identifier id'>in1</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='files identifier id'>files</span><span class='bitor op'>|</span>
    <span class='comment val'># (in1 may be sorted)</span>
    <span class='tf_all identifier id'>tf_all</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='tfn_all identifier id'>tfn_all</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='files identifier id'>files</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='fn identifier id'>fn</span><span class='bitor op'>|</span>
      <span class='tf identifier id'>tf</span> <span class='assign token'>=</span> <span class='Tempfile constant id'>Tempfile</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='string val'>'sort'</span><span class='rparen token'>)</span>
      <span class='tf identifier id'>tf</span><span class='dot token'>.</span><span class='close identifier id'>close</span><span class='lparen token'>(</span><span class='false false kw'>false</span><span class='rparen token'>)</span>
      <span class='cmd identifier id'>cmd</span> <span class='assign token'>=</span> <span class='sort_program identifier id'>sort_program</span> <span class='plus op'>+</span> <span class='lbrack token'>[</span> <span class='string val'>'-o'</span><span class='comma token'>,</span> <span class='tf identifier id'>tf</span><span class='dot token'>.</span><span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='fn identifier id'>fn</span> <span class='rbrack token'>]</span>
      <span class='system identifier id'>system</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='cmd identifier id'>cmd</span><span class='rparen token'>)</span>
      <span class='tf_all identifier id'>tf_all</span> <span class='lshft op'>&lt;&lt;</span> <span class='tf identifier id'>tf</span>
      <span class='tfn_all identifier id'>tfn_all</span> <span class='lshft op'>&lt;&lt;</span> <span class='tf identifier id'>tf</span><span class='dot token'>.</span><span class='path identifier id'>path</span>
    <span class='end end kw'>end</span>
    <span class='cmd_fin identifier id'>cmd_fin</span> <span class='assign token'>=</span> <span class='sort_program identifier id'>sort_program</span> <span class='plus op'>+</span> <span class='lbrack token'>[</span> <span class='string val'>'-m'</span><span class='comma token'>,</span> <span class='string val'>'-o'</span><span class='comma token'>,</span> <span class='out identifier id'>out</span><span class='comma token'>,</span> <span class='in1 identifier id'>in1</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='tfn_all identifier id'>tfn_all</span> <span class='rbrack token'>]</span>
    <span class='system identifier id'>system</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='cmd_fin identifier id'>cmd_fin</span><span class='rparen token'>)</span>
    <span class='tf_all identifier id'>tf_all</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='tf identifier id'>tf</span><span class='bitor op'>|</span>
      <span class='tf identifier id'>tf</span><span class='dot token'>.</span><span class='close identifier id'>close</span><span class='lparen token'>(</span><span class='true true kw'>true</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>external_sort_proc</h3>
</div><div id="external_sort_proc-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>external_sort_proc</span><span class='args'>(sort_program = [ '/usr/bin/env', 
                                                     'LC_ALL=C',
                                                     '/usr/bin/sort' ])</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/io/flatfile/index.rb', line 891</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/io/flatfile/index.rb#L891">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">891
892
893
894
895
896
897
898</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='external_sort_proc identifier id'>external_sort_proc</span><span class='lparen token'>(</span><span class='sort_program identifier id'>sort_program</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span> <span class='string val'>'/usr/bin/env'</span><span class='comma token'>,</span> 
                                             <span class='string val'>'LC_ALL=C'</span><span class='comma token'>,</span>
                                             <span class='string val'>'/usr/bin/sort'</span> <span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='Proc constant id'>Proc</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='out identifier id'>out</span><span class='comma token'>,</span> <span class='in1 identifier id'>in1</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='files identifier id'>files</span><span class='bitor op'>|</span>
    <span class='cmd identifier id'>cmd</span> <span class='assign token'>=</span> <span class='sort_program identifier id'>sort_program</span> <span class='plus op'>+</span> <span class='lbrack token'>[</span> <span class='string val'>'-o'</span><span class='comma token'>,</span> <span class='out identifier id'>out</span><span class='comma token'>,</span> <span class='in1 identifier id'>in1</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='files identifier id'>files</span> <span class='rbrack token'>]</span>
    <span class='system identifier id'>system</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='cmd identifier id'>cmd</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>internal_sort_proc</h3>
</div><div id="internal_sort_proc-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>internal_sort_proc</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/io/flatfile/index.rb', line 933</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/io/flatfile/index.rb#L933">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">933
934
935
936
937
938
939
940
941
942
943
944
945
946</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='internal_sort_proc identifier id'>internal_sort_proc</span>
  <span class='Proc constant id'>Proc</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='out identifier id'>out</span><span class='comma token'>,</span> <span class='in1 identifier id'>in1</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='files identifier id'>files</span><span class='bitor op'>|</span>
    <span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='IO constant id'>IO</span><span class='dot token'>.</span><span class='readlines identifier id'>readlines</span><span class='lparen token'>(</span><span class='in1 identifier id'>in1</span><span class='rparen token'>)</span>
    <span class='files identifier id'>files</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='fn identifier id'>fn</span><span class='bitor op'>|</span>
      <span class='IO constant id'>IO</span><span class='dot token'>.</span><span class='foreach identifier id'>foreach</span><span class='lparen token'>(</span><span class='fn identifier id'>fn</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span>
        <span class='a identifier id'>a</span> <span class='lshft op'>&lt;&lt;</span> <span class='x identifier id'>x</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='sort! fid id'>sort!</span>
    <span class='of identifier id'>of</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='out identifier id'>out</span><span class='comma token'>,</span> <span class='string val'>'w'</span><span class='rparen token'>)</span>
    <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='of identifier id'>of</span> <span class='lshft op'>&lt;&lt;</span> <span class='x identifier id'>x</span> <span class='rbrace token'>}</span>
    <span class='of identifier id'>of</span><span class='dot token'>.</span><span class='close identifier id'>close</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>open</h3>
</div><div id="open-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>open</span><span class='args'>(*arg)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/io/flatfile/index.rb', line 730</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/io/flatfile/index.rb#L730">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">730
731
732</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='arg identifier id'>arg</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='arg identifier id'>arg</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>add_record</h3>
</div><div id="add_record-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>add_record</span><span class='args'>(str)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/io/flatfile/index.rb', line 806</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/io/flatfile/index.rb#L806">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">806
807
808
809
810
811
812</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='add_record identifier id'>add_record</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>
  <span class='n identifier id'>n</span> <span class='assign token'>=</span> <span class='records identifier id'>records</span>
  <span class='rs identifier id'>rs</span> <span class='assign token'>=</span> <span class='record_size identifier id'>record_size</span>
  <span class='@file ivar id'>@file</span><span class='dot token'>.</span><span class='seek identifier id'>seek</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='IO constant id'>IO</span><span class='colon2 op'>::</span><span class='SEEK_END constant id'>SEEK_END</span><span class='rparen token'>)</span>
  <span class='write_record identifier id'>write_record</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>
  <span class='@records ivar id'>@records</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>close</h3>
</div><div id="close-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>close</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/io/flatfile/index.rb', line 755</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/io/flatfile/index.rb#L755">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">755
756
757
758
759
760
761
762</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='close identifier id'>close</span>
  <span class='if if kw'>if</span> <span class='@file ivar id'>@file</span> <span class='then then kw'>then</span>
    <span class='DEBUG constant id'>DEBUG</span><span class='dot token'>.</span><span class='print identifier id'>print</span> <span class='dstring node'>&quot;FlatMappingFile: close #{@filename}\n&quot;</span>
    <span class='@file ivar id'>@file</span><span class='dot token'>.</span><span class='close identifier id'>close</span>
    <span class='@file ivar id'>@file</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='end end kw'>end</span>
  <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>each</h3>
</div><div id="each-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>each</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
export/import/edit data
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/io/flatfile/index.rb', line 841</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/io/flatfile/index.rb#L841">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">841
842
843
844
845
846
847
848</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='each identifier id'>each</span>
  <span class='n identifier id'>n</span> <span class='assign token'>=</span> <span class='records identifier id'>records</span>
  <span class='seek identifier id'>seek</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span>
  <span class='lparen token'>(</span><span class='integer val'>0</span><span class='dot3 op'>...</span><span class='n identifier id'>n</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
    <span class='yield yield kw'>yield</span> <span class='Record constant id'>Record</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='get_record identifier id'>get_record</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>export_tsv</h3>
</div><div id="export_tsv-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>export_tsv</span><span class='args'>(stream)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/io/flatfile/index.rb', line 850</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/io/flatfile/index.rb#L850">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">850
851
852
853
854
855</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='export_tsv identifier id'>export_tsv</span><span class='lparen token'>(</span><span class='stream identifier id'>stream</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span>
    <span class='stream identifier id'>stream</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;#{x.to_s}\n&quot;</span>
  <span class='end end kw'>end</span>
  <span class='stream identifier id'>stream</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_record</h3>
</div><div id="get_record-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_record</span><span class='args'>(i)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/io/flatfile/index.rb', line 776</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/io/flatfile/index.rb#L776">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">776
777
778
779
780
781
782</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get_record identifier id'>get_record</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='rparen token'>)</span>
  <span class='rs identifier id'>rs</span> <span class='assign token'>=</span> <span class='record_size identifier id'>record_size</span>
  <span class='seek identifier id'>seek</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='rparen token'>)</span>
  <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='@file ivar id'>@file</span><span class='dot token'>.</span><span class='read identifier id'>read</span><span class='lparen token'>(</span><span class='rs identifier id'>rs</span><span class='rparen token'>)</span>
  <span class='comment val'>#DEBUG.print &quot;get_record(#{i})=#{str.inspect}\n&quot;</span>
  <span class='str identifier id'>str</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>import_tsv_files</h3>
</div><div id="import_tsv_files-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>import_tsv_files</span><span class='args'>(flag_primary, mode, sort_proc, *files)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/io/flatfile/index.rb', line 948</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/io/flatfile/index.rb#L948">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">948
949
950
951
952
953
954
955
956
957
958
959
960
961
962
963
964
965
966
967
968
969
970
971
972
973
974
975
976
977
978</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='import_tsv_files identifier id'>import_tsv_files</span><span class='lparen token'>(</span><span class='flag_primary identifier id'>flag_primary</span><span class='comma token'>,</span> <span class='mode identifier id'>mode</span><span class='comma token'>,</span> <span class='sort_proc identifier id'>sort_proc</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='files identifier id'>files</span><span class='rparen token'>)</span>
  <span class='require identifier id'>require</span> <span class='string val'>'tempfile'</span>

  <span class='tmpfile1 identifier id'>tmpfile1</span> <span class='assign token'>=</span> <span class='Tempfile constant id'>Tempfile</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='string val'>'flat'</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='export_tsv identifier id'>export_tsv</span><span class='lparen token'>(</span><span class='tmpfile1 identifier id'>tmpfile1</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='mode identifier id'>mode</span> <span class='eq op'>==</span> <span class='symbol val'>:new</span>
  <span class='tmpfile1 identifier id'>tmpfile1</span><span class='dot token'>.</span><span class='close identifier id'>close</span><span class='lparen token'>(</span><span class='false false kw'>false</span><span class='rparen token'>)</span>

  <span class='tmpfile0 identifier id'>tmpfile0</span> <span class='assign token'>=</span> <span class='Tempfile constant id'>Tempfile</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='string val'>'sorted'</span><span class='rparen token'>)</span>
  <span class='tmpfile0 identifier id'>tmpfile0</span><span class='dot token'>.</span><span class='close identifier id'>close</span><span class='lparen token'>(</span><span class='false false kw'>false</span><span class='rparen token'>)</span>

  <span class='sort_proc identifier id'>sort_proc</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='tmpfile0 identifier id'>tmpfile0</span><span class='dot token'>.</span><span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='tmpfile1 identifier id'>tmpfile1</span><span class='dot token'>.</span><span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='files identifier id'>files</span><span class='rparen token'>)</span>

  <span class='tmpmap identifier id'>tmpmap</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='filename identifier id'>filename</span> <span class='plus op'>+</span> <span class='dstring node'>&quot;.#{$$}.tmp~&quot;</span><span class='comma token'>,</span> <span class='string val'>'wb+'</span><span class='rparen token'>)</span>
  <span class='tmpmap identifier id'>tmpmap</span><span class='dot token'>.</span><span class='init_with_sorted_tsv_file identifier id'>init_with_sorted_tsv_file</span><span class='lparen token'>(</span><span class='tmpfile0 identifier id'>tmpfile0</span><span class='dot token'>.</span><span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='flag_primary identifier id'>flag_primary</span><span class='rparen token'>)</span>
  <span class='tmpmap identifier id'>tmpmap</span><span class='dot token'>.</span><span class='close identifier id'>close</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='close identifier id'>close</span>

  <span class='begin begin kw'>begin</span>
    <span class='File constant id'>File</span><span class='dot token'>.</span><span class='rename identifier id'>rename</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='filename identifier id'>filename</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='filename identifier id'>filename</span> <span class='plus op'>+</span> <span class='dstring node'>&quot;.#{$$}.bak~&quot;</span><span class='rparen token'>)</span>
  <span class='rescue rescue kw'>rescue</span> <span class='Errno constant id'>Errno</span><span class='colon2 op'>::</span><span class='ENOENT constant id'>ENOENT</span>
  <span class='end end kw'>end</span>
  <span class='File constant id'>File</span><span class='dot token'>.</span><span class='rename identifier id'>rename</span><span class='lparen token'>(</span><span class='tmpmap identifier id'>tmpmap</span><span class='dot token'>.</span><span class='filename identifier id'>filename</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='filename identifier id'>filename</span><span class='rparen token'>)</span>
  <span class='begin begin kw'>begin</span>
    <span class='File constant id'>File</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='filename identifier id'>filename</span> <span class='plus op'>+</span> <span class='dstring node'>&quot;.#{$$}.bak~&quot;</span><span class='rparen token'>)</span>
  <span class='rescue rescue kw'>rescue</span> <span class='Errno constant id'>Errno</span><span class='colon2 op'>::</span><span class='ENOENT constant id'>ENOENT</span>
  <span class='end end kw'>end</span>

  <span class='tmpfile0 identifier id'>tmpfile0</span><span class='dot token'>.</span><span class='close identifier id'>close</span><span class='lparen token'>(</span><span class='true true kw'>true</span><span class='rparen token'>)</span>
  <span class='tmpfile1 identifier id'>tmpfile1</span><span class='dot token'>.</span><span class='close identifier id'>close</span><span class='lparen token'>(</span><span class='true true kw'>true</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>init</h3>
</div><div id="init-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>init</span><span class='args'>(rs)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/io/flatfile/index.rb', line 827</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/io/flatfile/index.rb#L827">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">827
828
829
830
831
832
833
834
835
836
837
838</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='init identifier id'>init</span><span class='lparen token'>(</span><span class='rs identifier id'>rs</span><span class='rparen token'>)</span>
  <span class='unless unless kw'>unless</span> <span class='integer val'>0</span> <span class='lt op'>&lt;</span> <span class='rs identifier id'>rs</span> <span class='and and kw'>and</span> <span class='rs identifier id'>rs</span> <span class='lt op'>&lt;</span> <span class='integer val'>10</span> <span class='pow op'>**</span> <span class='@@recsize_width ivar id'>@@recsize_width</span> <span class='then then kw'>then</span>
    <span class='raise identifier id'>raise</span> <span class='string val'>'record size out of range'</span>
  <span class='end end kw'>end</span>
  <span class='open identifier id'>open</span>
  <span class='@record_size ivar id'>@record_size</span> <span class='assign token'>=</span> <span class='rs identifier id'>rs</span>
  <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='sprintf identifier id'>sprintf</span><span class='lparen token'>(</span><span class='string val'>&quot;%0*d&quot;</span><span class='comma token'>,</span> <span class='@@recsize_width ivar id'>@@recsize_width</span><span class='comma token'>,</span> <span class='rs identifier id'>rs</span><span class='rparen token'>)</span>
  <span class='@file ivar id'>@file</span><span class='dot token'>.</span><span class='truncate identifier id'>truncate</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span>
  <span class='@file ivar id'>@file</span><span class='dot token'>.</span><span class='seek identifier id'>seek</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='IO constant id'>IO</span><span class='colon2 op'>::</span><span class='SEEK_SET constant id'>SEEK_SET</span><span class='rparen token'>)</span>
  <span class='@file ivar id'>@file</span><span class='dot token'>.</span><span class='write identifier id'>write</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>
  <span class='@records ivar id'>@records</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>init_with_sorted_tsv_file</h3>
</div><div id="init_with_sorted_tsv_file-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>init_with_sorted_tsv_file</span><span class='args'>(filename, flag_primary = false)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/io/flatfile/index.rb', line 857</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/io/flatfile/index.rb#L857">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">857
858
859
860
861
862
863
864
865
866
867
868
869
870
871
872
873
874
875
876
877
878
879
880
881
882
883
884
885
886
887
888
889</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='init_with_sorted_tsv_file identifier id'>init_with_sorted_tsv_file</span><span class='lparen token'>(</span><span class='filename identifier id'>filename</span><span class='comma token'>,</span> <span class='flag_primary identifier id'>flag_primary</span> <span class='assign token'>=</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='rec_size identifier id'>rec_size</span> <span class='assign token'>=</span> <span class='integer val'>1</span>
  <span class='f identifier id'>f</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='filename identifier id'>filename</span><span class='rparen token'>)</span>
  <span class='f identifier id'>f</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='y identifier id'>y</span><span class='bitor op'>|</span>
    <span class='rec_size identifier id'>rec_size</span> <span class='assign token'>=</span> <span class='y identifier id'>y</span><span class='dot token'>.</span><span class='chomp identifier id'>chomp</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='if if_mod kw'>if</span> <span class='rec_size identifier id'>rec_size</span> <span class='lt op'>&lt;</span> <span class='y identifier id'>y</span><span class='dot token'>.</span><span class='chomp identifier id'>chomp</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='end end kw'>end</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='init identifier id'>init</span><span class='lparen token'>(</span><span class='rec_size identifier id'>rec_size</span><span class='rparen token'>)</span>

  <span class='prev identifier id'>prev</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='f identifier id'>f</span><span class='dot token'>.</span><span class='rewind identifier id'>rewind</span>
  <span class='if if kw'>if</span> <span class='flag_primary identifier id'>flag_primary</span> <span class='then then kw'>then</span>
    <span class='f identifier id'>f</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='y identifier id'>y</span><span class='bitor op'>|</span>
      <span class='x identifier id'>x</span> <span class='assign token'>=</span> <span class='Record constant id'>Record</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='y identifier id'>y</span><span class='dot token'>.</span><span class='chomp identifier id'>chomp</span><span class='comma token'>,</span> <span class='rec_size identifier id'>rec_size</span><span class='rparen token'>)</span>
      <span class='if if kw'>if</span> <span class='prev identifier id'>prev</span> <span class='then then kw'>then</span>
        <span class='if if kw'>if</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='key identifier id'>key</span> <span class='eq op'>==</span> <span class='prev identifier id'>prev</span><span class='dot token'>.</span><span class='key identifier id'>key</span>
          <span class='DEBUG constant id'>DEBUG</span><span class='dot token'>.</span><span class='print identifier id'>print</span> <span class='dstring node'>&quot;Warining: overwrote unique id #{x.key.inspect}\n&quot;</span>
        <span class='else else kw'>else</span>
          <span class='self self kw'>self</span><span class='dot token'>.</span><span class='add_record identifier id'>add_record</span><span class='lparen token'>(</span><span class='prev identifier id'>prev</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
      <span class='prev identifier id'>prev</span> <span class='assign token'>=</span> <span class='x identifier id'>x</span>
    <span class='end end kw'>end</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='add_record identifier id'>add_record</span><span class='lparen token'>(</span><span class='prev identifier id'>prev</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='prev identifier id'>prev</span>
  <span class='else else kw'>else</span>
    <span class='f identifier id'>f</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='y identifier id'>y</span><span class='bitor op'>|</span>
      <span class='x identifier id'>x</span> <span class='assign token'>=</span> <span class='Record constant id'>Record</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='y identifier id'>y</span><span class='dot token'>.</span><span class='chomp identifier id'>chomp</span><span class='comma token'>,</span> <span class='rec_size identifier id'>rec_size</span><span class='rparen token'>)</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='add_record identifier id'>add_record</span><span class='lparen token'>(</span><span class='x identifier id'>x</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='x identifier id'>x</span> <span class='neq op'>!=</span> <span class='prev identifier id'>prev</span>
      <span class='prev identifier id'>prev</span> <span class='assign token'>=</span> <span class='x identifier id'>x</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='f identifier id'>f</span><span class='dot token'>.</span><span class='close identifier id'>close</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>open</h3>
</div><div id="open-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>open</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/io/flatfile/index.rb', line 745</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/io/flatfile/index.rb#L745">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">745
746
747
748
749
750
751
752
753</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='open identifier id'>open</span>
  <span class='unless unless kw'>unless</span> <span class='@file ivar id'>@file</span> <span class='then then kw'>then</span>
    <span class='DEBUG constant id'>DEBUG</span><span class='dot token'>.</span><span class='print identifier id'>print</span> <span class='dstring node'>&quot;FlatMappingFile: open #{@filename}\n&quot;</span>
    <span class='@file ivar id'>@file</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='@filename ivar id'>@filename</span><span class='comma token'>,</span> <span class='@mode ivar id'>@mode</span><span class='rparen token'>)</span>
    <span class='true true kw'>true</span>
  <span class='else else kw'>else</span>
    <span class='nil nil kw'>nil</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>put_record</h3>
</div><div id="put_record-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>put_record</span><span class='args'>(i, str)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/io/flatfile/index.rb', line 814</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/io/flatfile/index.rb#L814">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">814
815
816
817
818
819
820
821
822
823
824
825</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='put_record identifier id'>put_record</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='comma token'>,</span> <span class='str identifier id'>str</span><span class='rparen token'>)</span>
  <span class='n identifier id'>n</span> <span class='assign token'>=</span> <span class='records identifier id'>records</span>
  <span class='rs identifier id'>rs</span> <span class='assign token'>=</span> <span class='record_size identifier id'>record_size</span>
  <span class='if if kw'>if</span> <span class='i identifier id'>i</span> <span class='geq op'>&gt;=</span> <span class='n identifier id'>n</span> <span class='then then kw'>then</span>
    <span class='@file ivar id'>@file</span><span class='dot token'>.</span><span class='seek identifier id'>seek</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='IO constant id'>IO</span><span class='colon2 op'>::</span><span class='SEEK_END constant id'>SEEK_END</span><span class='rparen token'>)</span>
    <span class='@file ivar id'>@file</span><span class='dot token'>.</span><span class='write identifier id'>write</span><span class='lparen token'>(</span><span class='sprintf identifier id'>sprintf</span><span class='lparen token'>(</span><span class='string val'>&quot;%-*s&quot;</span><span class='comma token'>,</span> <span class='rs identifier id'>rs</span><span class='comma token'>,</span> <span class='string val'>''</span><span class='rparen token'>)</span> <span class='mult op'>*</span> <span class='lparen token'>(</span><span class='i identifier id'>i</span> <span class='minus op'>-</span> <span class='n identifier id'>n</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='@records ivar id'>@records</span> <span class='assign token'>=</span> <span class='i identifier id'>i</span> <span class='plus op'>+</span> <span class='integer val'>1</span>
  <span class='else else kw'>else</span>
    <span class='seek identifier id'>seek</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='write_record identifier id'>write_record</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>record_size</h3>
</div><div id="record_size-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>record_size</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/io/flatfile/index.rb', line 764</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/io/flatfile/index.rb#L764">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">764
765
766
767
768
769
770
771
772
773
774</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='record_size identifier id'>record_size</span>
  <span class='unless unless kw'>unless</span> <span class='@record_size ivar id'>@record_size</span> <span class='then then kw'>then</span>
    <span class='open identifier id'>open</span>
    <span class='@file ivar id'>@file</span><span class='dot token'>.</span><span class='seek identifier id'>seek</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='IO constant id'>IO</span><span class='colon2 op'>::</span><span class='SEEK_SET constant id'>SEEK_SET</span><span class='rparen token'>)</span>
    <span class='s identifier id'>s</span> <span class='assign token'>=</span> <span class='@file ivar id'>@file</span><span class='dot token'>.</span><span class='read identifier id'>read</span><span class='lparen token'>(</span><span class='@@recsize_width ivar id'>@@recsize_width</span><span class='rparen token'>)</span>
    <span class='raise identifier id'>raise</span> <span class='string val'>'strange record size'</span> <span class='unless unless_mod kw'>unless</span> <span class='s identifier id'>s</span> <span class='match op'>=~</span> <span class='@@recsize_regex ivar id'>@@recsize_regex</span>
    <span class='@record_size ivar id'>@record_size</span> <span class='assign token'>=</span> <span class='s identifier id'>s</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
    <span class='DEBUG constant id'>DEBUG</span><span class='dot token'>.</span><span class='print identifier id'>print</span> <span class='dstring node'>&quot;FlatMappingFile: record_size: #{@record_size}\n&quot;</span>
  <span class='end end kw'>end</span>
  <span class='@record_size ivar id'>@record_size</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>records</h3>
</div><div id="records-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>records</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="size-instance_method">size</tt>
  
</p>
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/io/flatfile/index.rb', line 789</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/io/flatfile/index.rb#L789">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">789
790
791
792
793
794
795
796</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='records identifier id'>records</span>
  <span class='unless unless kw'>unless</span> <span class='@records ivar id'>@records</span> <span class='then then kw'>then</span>
    <span class='rs identifier id'>rs</span> <span class='assign token'>=</span> <span class='record_size identifier id'>record_size</span>
    <span class='@records ivar id'>@records</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='@file ivar id'>@file</span><span class='dot token'>.</span><span class='stat identifier id'>stat</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='minus op'>-</span> <span class='@@recsize_width ivar id'>@@recsize_width</span><span class='rparen token'>)</span> <span class='div op'>/</span> <span class='rs identifier id'>rs</span>
    <span class='DEBUG constant id'>DEBUG</span><span class='dot token'>.</span><span class='print identifier id'>print</span> <span class='dstring node'>&quot;FlatMappingFile: records: #{@records}\n&quot;</span>
  <span class='end end kw'>end</span>
  <span class='@records ivar id'>@records</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>search</h3>
</div><div id="search-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>search</span><span class='args'>(key)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
methods for searching
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/io/flatfile/index.rb', line 982</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/io/flatfile/index.rb#L982">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">982
983
984
985
986
987
988
989
990
991
992
993
994
995
996
997
998
999
1000
1001
1002
1003
1004
1005
1006
1007
1008
1009
1010
1011
1012
1013
1014
1015
1016
1017
1018</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span>
  <span class='n identifier id'>n</span> <span class='assign token'>=</span> <span class='records identifier id'>records</span>
  <span class='return return kw'>return</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='n identifier id'>n</span> <span class='leq op'>&lt;=</span> <span class='integer val'>0</span>
  <span class='i identifier id'>i</span> <span class='assign token'>=</span> <span class='n identifier id'>n</span> <span class='div op'>/</span> <span class='integer val'>2</span>
  <span class='i_prev identifier id'>i_prev</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='DEBUG constant id'>DEBUG</span><span class='dot token'>.</span><span class='print identifier id'>print</span> <span class='string val'>&quot;binary search starts...\n&quot;</span>
  <span class='begin begin kw'>begin</span>
    <span class='rec identifier id'>rec</span> <span class='assign token'>=</span> <span class='Record constant id'>Record</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='get_record identifier id'>get_record</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='i_prev identifier id'>i_prev</span> <span class='assign token'>=</span> <span class='i identifier id'>i</span>
    <span class='if if kw'>if</span> <span class='key identifier id'>key</span> <span class='lt op'>&lt;</span> <span class='rec identifier id'>rec</span><span class='dot token'>.</span><span class='key identifier id'>key</span> <span class='then then kw'>then</span>
      <span class='n identifier id'>n</span> <span class='assign token'>=</span> <span class='i identifier id'>i</span>
      <span class='i identifier id'>i</span> <span class='assign token'>=</span> <span class='i identifier id'>i</span> <span class='div op'>/</span> <span class='integer val'>2</span>
    <span class='elsif elsif kw'>elsif</span> <span class='key identifier id'>key</span> <span class='gt op'>&gt;</span> <span class='rec identifier id'>rec</span><span class='dot token'>.</span><span class='key identifier id'>key</span> <span class='then then kw'>then</span>
      <span class='i identifier id'>i</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='i identifier id'>i</span> <span class='plus op'>+</span> <span class='n identifier id'>n</span><span class='rparen token'>)</span> <span class='div op'>/</span> <span class='integer val'>2</span>
    <span class='else else kw'>else</span> <span class='comment val'># key == rec.key</span>
      <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span> <span class='rec identifier id'>rec</span><span class='dot token'>.</span><span class='val identifier id'>val</span> <span class='rbrack token'>]</span>
      <span class='j identifier id'>j</span> <span class='assign token'>=</span> <span class='i identifier id'>i</span> <span class='minus op'>-</span> <span class='integer val'>1</span>
      <span class='while while kw'>while</span> <span class='j identifier id'>j</span> <span class='geq op'>&gt;=</span> <span class='integer val'>0</span> <span class='and and kw'>and</span>
          <span class='lparen token'>(</span><span class='rec identifier id'>rec</span> <span class='assign token'>=</span> <span class='Record constant id'>Record</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='get_record identifier id'>get_record</span><span class='lparen token'>(</span><span class='j identifier id'>j</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='key identifier id'>key</span> <span class='eq op'>==</span> <span class='key identifier id'>key</span>
        <span class='result identifier id'>result</span> <span class='lshft op'>&lt;&lt;</span> <span class='rec identifier id'>rec</span><span class='dot token'>.</span><span class='val identifier id'>val</span>
        <span class='j identifier id'>j</span> <span class='assign token'>=</span> <span class='j identifier id'>j</span> <span class='minus op'>-</span> <span class='integer val'>1</span>
      <span class='end end kw'>end</span>
      <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='reverse! fid id'>reverse!</span>
      <span class='j identifier id'>j</span> <span class='assign token'>=</span> <span class='i identifier id'>i</span> <span class='plus op'>+</span> <span class='integer val'>1</span>
      <span class='while while kw'>while</span> <span class='j identifier id'>j</span> <span class='lt op'>&lt;</span> <span class='n identifier id'>n</span> <span class='and and kw'>and</span>
          <span class='lparen token'>(</span><span class='rec identifier id'>rec</span> <span class='assign token'>=</span> <span class='Record constant id'>Record</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='get_record identifier id'>get_record</span><span class='lparen token'>(</span><span class='j identifier id'>j</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='key identifier id'>key</span> <span class='eq op'>==</span> <span class='key identifier id'>key</span>
        <span class='result identifier id'>result</span> <span class='lshft op'>&lt;&lt;</span> <span class='rec identifier id'>rec</span><span class='dot token'>.</span><span class='val identifier id'>val</span>
        <span class='j identifier id'>j</span> <span class='assign token'>=</span> <span class='j identifier id'>j</span> <span class='plus op'>+</span> <span class='integer val'>1</span>
      <span class='end end kw'>end</span>
      <span class='DEBUG constant id'>DEBUG</span><span class='dot token'>.</span><span class='print identifier id'>print</span> <span class='dstring node'>&quot;#{result.size} hits found!!\n&quot;</span>
      <span class='return return kw'>return</span> <span class='result identifier id'>result</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span> <span class='until until_mod kw'>until</span> <span class='i_prev identifier id'>i_prev</span> <span class='eq op'>==</span> <span class='i identifier id'>i</span>
  <span class='DEBUG constant id'>DEBUG</span><span class='dot token'>.</span><span class='print identifier id'>print</span> <span class='string val'>&quot;no hits found\n&quot;</span>
  <span class='comment val'>#nil</span>
  <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>seek</h3>
</div><div id="seek-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>seek</span><span class='args'>(i)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/io/flatfile/index.rb', line 784</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/io/flatfile/index.rb#L784">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">784
785
786
787</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='seek identifier id'>seek</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='rparen token'>)</span>
  <span class='rs identifier id'>rs</span> <span class='assign token'>=</span> <span class='record_size identifier id'>record_size</span>
  <span class='@file ivar id'>@file</span><span class='dot token'>.</span><span class='seek identifier id'>seek</span><span class='lparen token'>(</span><span class='@@recsize_width ivar id'>@@recsize_width</span> <span class='plus op'>+</span> <span class='rs identifier id'>rs</span> <span class='mult op'>*</span> <span class='i identifier id'>i</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>write_record</h3>
</div><div id="write_record-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>write_record</span><span class='args'>(str)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
methods for writing file
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/bio/io/flatfile/index.rb', line 800</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/bioruby/bioruby/blob/97b9284109c9a4431b92eab208509e1df6069b4b/lib/bio/io/flatfile/index.rb#L800">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">800
801
802
803
804</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='write_record identifier id'>write_record</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>
  <span class='rs identifier id'>rs</span> <span class='assign token'>=</span> <span class='record_size identifier id'>record_size</span>
  <span class='rec identifier id'>rec</span> <span class='assign token'>=</span> <span class='sprintf identifier id'>sprintf</span><span class='lparen token'>(</span><span class='string val'>&quot;%-*s&quot;</span><span class='comma token'>,</span> <span class='rs identifier id'>rs</span><span class='comma token'>,</span> <span class='str identifier id'>str</span><span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='rs identifier id'>rs</span><span class='rbrack token'>]</span>
  <span class='@file ivar id'>@file</span><span class='dot token'>.</span><span class='write identifier id'>write</span><span class='lparen token'>(</span><span class='rec identifier id'>rec</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>