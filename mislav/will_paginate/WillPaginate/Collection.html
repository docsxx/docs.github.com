<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>mislav's will_paginate - Class: WillPaginate::Collection - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/mislav/commits/will_paginate/master" rel="alternate" title="Recent Commits to will_paginate:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>
    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/mislav/will_paginate/tree/">Source</a></li>
            <li class=""><a href="http://github.com/mislav/will_paginate/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/mislav/will_paginate/network">Network</a></li>            
            <li class=""><a href="http://github.com/mislav/will_paginate/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/mislav/will_paginate">Wiki</a></li>
            <li class=""><a href="http://github.com/mislav/will_paginate/graphs">Graphs</a></li>                    
            <li class="active"><a href="/mislav/will_paginate">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/mislav">mislav</a> / <b><a href="http://github.com/mislav/will_paginate/tree">will_paginate</a></b>        
                <a id="namespaces_button" rel="mislav/will_paginate" href="#">
                  <img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/>
                </a>
                <a id="methods_button" rel="mislav/will_paginate" href="#">
                  <img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/>
                </a>

                <script type="text/javascript">          
                $('#namespaces_button').click(function(){
                  var url="/"+$(this).attr('rel')+"/namespaces/";
                  $.gitbox(url);
                  return false;
                });

                $('#methods_button').click(function(){
                  var url="/"+$(this).attr('rel')+"/methods/";
                  $.gitbox(url);
                  return false;
                });
                </script>
                
              </div>
            </div>
          </div>
                                        
          <div id="content">
            <div class="wikistyle">
  <div class="section class WillPaginate_Collection">
  <h1>Class: WillPaginate::Collection</h1>
  <div class="section inheritance">
  <ul>
  <li>Array</li><ul><li>WillPaginate::Collection</li>
  </ul></ul>
</div><div class="section docstring">
  <h1>The key to pagination</h1>
<p>
Arrays returned from paginating finds are, in fact, instances of this
little class. You may think of WillPaginate::Collection as an ordinary
array with some extra properties. Those properties are used by view helpers
to generate correct page links.
</p>
<p>
WillPaginate::Collection also assists in rolling out your own pagination
solutions: see <tt>create</tt>.
</p>
<p>
If you are writing a library that provides a collection which you would
like to conform to this API, you don&#8217;t have to copy these methods
over; simply make your plugin/gem dependant on the
&quot;mislav-will_paginate&quot; gem:
</p>
<pre class="code">
  <span class='gem identifier id'>gem</span> <span class='string val'>'mislav-will_paginate'</span>
  <span class='require identifier id'>require</span> <span class='string val'>'will_paginate/collection'</span>

  <span class='comment val'># WillPaginate::Collection is now available for use</span>
</pre>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">current_page</td>
          <td class="readwrite">
            [<span id='current_page-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>current_page</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">per_page</td>
          <td class="readwrite">
            [<span id='per_page-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>per_page</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">total_entries</td>
          <td class="readwrite">
            [RW] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
sets the <tt>total_entries</tt> property and calculates
<tt>total_pages</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">total_pages</td>
          <td class="readwrite">
            [<span id='total_pages-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>total_pages</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(page, per_page, total = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Arguments to the constructor are the current page number, per-page limit
and the total number of entries. The last argument is optional because it
is best to do lazy counting; in other words, count <b>conditionally</b>
after populating the collection using the <tt>replace</tt> method.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
  </dl>
</div><div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="InvalidPage.html" title="InvalidPage">InvalidPage</a></tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/will_paginate/collection.rb', line 49</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/mislav/will_paginate/blob/master/lib/will_paginate/collection.rb#L49">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">49
50
51
52
53
54
55
56</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='page identifier id'>page</span><span class='comma token'>,</span> <span class='per_page identifier id'>per_page</span><span class='comma token'>,</span> <span class='total identifier id'>total</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='@current_page ivar id'>@current_page</span> <span class='assign token'>=</span> <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
  <span class='raise identifier id'>raise</span> <span class='InvalidPage constant id'>InvalidPage</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='page identifier id'>page</span><span class='comma token'>,</span> <span class='@current_page ivar id'>@current_page</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='@current_page ivar id'>@current_page</span> <span class='lt op'>&lt;</span> <span class='integer val'>1</span>
  <span class='@per_page ivar id'>@per_page</span> <span class='assign token'>=</span> <span class='per_page identifier id'>per_page</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
  <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;`per_page` setting cannot be less than 1 (#{@per_page} given)&quot;</span> <span class='if if_mod kw'>if</span> <span class='@per_page ivar id'>@per_page</span> <span class='lt op'>&lt;</span> <span class='integer val'>1</span>
  
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='total_entries identifier id'>total_entries</span> <span class='assign token'>=</span> <span class='total identifier id'>total</span> <span class='if if_mod kw'>if</span> <span class='total identifier id'>total</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#create-class_method">create</span><span class='args'>(page, per_page, total = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Just like <tt>new</tt>, but yields the object after instantiation and
returns it afterwards.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#next_page-instance_method">#next_page</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
current_page + 1 or nil if there is no next page.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#offset-instance_method">#offset</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Current offset of the paginated collection.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#out_of_bounds-3F-instance_method">#out_of_bounds?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Helper method that is true when someone tries to fetch a page with a larger
number than the last page.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#previous_page-instance_method">#previous_page</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
current_page - 1 or nil if there is no previous page.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#replace-instance_method">#replace</span><span class='args'>(array)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
This is a magic wrapper for the original Array#replace method.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#total_entries-instance_method">#total_entries</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
sets the <tt>total_entries</tt> property and calculates
<tt>total_pages</tt>..
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>create</h3>
</div><div id="create-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>create</span><span class='args'>(page, per_page, total = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Just like <tt>new</tt>, but yields the object after instantiation and
returns it afterwards. This is very useful for manual pagination:
</p>
<pre class="code">
  <span class='@entries ivar id'>@entries</span> <span class='assign token'>=</span> <span class='WillPaginate constant id'>WillPaginate</span><span class='colon2 op'>::</span><span class='Collection constant id'>Collection</span><span class='dot token'>.</span><span class='create identifier id'>create</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='integer val'>10</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='pager identifier id'>pager</span><span class='bitor op'>|</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='Post constant id'>Post</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='symbol val'>:all</span><span class='comma token'>,</span> <span class='symbol val'>:limit</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='pager identifier id'>pager</span><span class='dot token'>.</span><span class='per_page identifier id'>per_page</span><span class='comma token'>,</span> <span class='symbol val'>:offset</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='pager identifier id'>pager</span><span class='dot token'>.</span><span class='offset identifier id'>offset</span><span class='rparen token'>)</span>
    <span class='comment val'># inject the result array into the paginated collection:</span>
    <span class='pager identifier id'>pager</span><span class='dot token'>.</span><span class='replace identifier id'>replace</span><span class='lparen token'>(</span><span class='result identifier id'>result</span><span class='rparen token'>)</span>

    <span class='unless unless kw'>unless</span> <span class='pager identifier id'>pager</span><span class='dot token'>.</span><span class='total_entries identifier id'>total_entries</span>
      <span class='comment val'># the pager didn't manage to guess the total count, do it manually</span>
      <span class='pager identifier id'>pager</span><span class='dot token'>.</span><span class='total_entries identifier id'>total_entries</span> <span class='assign token'>=</span> <span class='Post constant id'>Post</span><span class='dot token'>.</span><span class='count identifier id'>count</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
<p>
The possibilities with this are endless. For another example, here is how
WillPaginate used to define pagination for Array instances:
</p>
<pre class="code">
  <span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='class_eval identifier id'>class_eval</span> <span class='do do kw'>do</span>
    <span class='def def kw'>def</span> <span class='paginate identifier id'>paginate</span><span class='lparen token'>(</span><span class='page identifier id'>page</span> <span class='assign token'>=</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='per_page identifier id'>per_page</span> <span class='assign token'>=</span> <span class='integer val'>15</span><span class='rparen token'>)</span>
      <span class='WillPaginate constant id'>WillPaginate</span><span class='colon2 op'>::</span><span class='Collection constant id'>Collection</span><span class='dot token'>.</span><span class='create identifier id'>create</span><span class='lparen token'>(</span><span class='page identifier id'>page</span><span class='comma token'>,</span> <span class='per_page identifier id'>per_page</span><span class='comma token'>,</span> <span class='size identifier id'>size</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='pager identifier id'>pager</span><span class='bitor op'>|</span>
        <span class='pager identifier id'>pager</span><span class='dot token'>.</span><span class='replace identifier id'>replace</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='pager identifier id'>pager</span><span class='dot token'>.</span><span class='offset identifier id'>offset</span><span class='comma token'>,</span> <span class='pager identifier id'>pager</span><span class='dot token'>.</span><span class='per_page identifier id'>per_page</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='to_a identifier id'>to_a</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
<p>
The Array#paginate API has since then changed, but this still serves as a
fine example of WillPaginate::Collection usage.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
  </dl>
</div>
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/will_paginate/collection.rb', line 85</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/mislav/will_paginate/blob/master/lib/will_paginate/collection.rb#L85">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">85
86
87
88
89</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='create identifier id'>create</span><span class='lparen token'>(</span><span class='page identifier id'>page</span><span class='comma token'>,</span> <span class='per_page identifier id'>per_page</span><span class='comma token'>,</span> <span class='total identifier id'>total</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='pager identifier id'>pager</span> <span class='assign token'>=</span> <span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='page identifier id'>page</span><span class='comma token'>,</span> <span class='per_page identifier id'>per_page</span><span class='comma token'>,</span> <span class='total identifier id'>total</span><span class='rparen token'>)</span>
  <span class='yield yield kw'>yield</span> <span class='pager identifier id'>pager</span>
  <span class='pager identifier id'>pager</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>next_page</h3>
</div><div id="next_page-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>next_page</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
current_page + 1 or nil if there is no next page
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/will_paginate/collection.rb', line 112</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/mislav/will_paginate/blob/master/lib/will_paginate/collection.rb#L112">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">112
113
114</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='next_page identifier id'>next_page</span>
  <span class='current_page identifier id'>current_page</span> <span class='lt op'>&lt;</span> <span class='total_pages identifier id'>total_pages</span> <span class='integer val'>? </span><span class='lparen token'>(</span><span class='current_page identifier id'>current_page</span> <span class='plus op'>+</span> <span class='integer val'>1</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>offset</h3>
</div><div id="offset-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>offset</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Current offset of the paginated collection. If we&#8217;re on the first
page, it is always 0. If we&#8217;re on the 2nd page and there are 30
entries per page, the offset is 30. This property is useful if you want to
render ordinals side by side with records in the view: simply start with
offset + 1.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/will_paginate/collection.rb', line 102</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/mislav/will_paginate/blob/master/lib/will_paginate/collection.rb#L102">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">102
103
104</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='offset identifier id'>offset</span>
  <span class='lparen token'>(</span><span class='current_page identifier id'>current_page</span> <span class='minus op'>-</span> <span class='integer val'>1</span><span class='rparen token'>)</span> <span class='mult op'>*</span> <span class='per_page identifier id'>per_page</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>out_of_bounds?</h3>
</div><div id="out_of_bounds-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>out_of_bounds?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Helper method that is true when someone tries to fetch a page with a larger
number than the last page. Can be used in combination with flashes and
redirecting.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/will_paginate/collection.rb', line 94</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/mislav/will_paginate/blob/master/lib/will_paginate/collection.rb#L94">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">94
95
96</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='out_of_bounds? fid id'>out_of_bounds?</span>
  <span class='current_page identifier id'>current_page</span> <span class='gt op'>&gt;</span> <span class='total_pages identifier id'>total_pages</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>previous_page</h3>
</div><div id="previous_page-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>previous_page</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
current_page - 1 or nil if there is no previous page
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/will_paginate/collection.rb', line 107</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/mislav/will_paginate/blob/master/lib/will_paginate/collection.rb#L107">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">107
108
109</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='previous_page identifier id'>previous_page</span>
  <span class='current_page identifier id'>current_page</span> <span class='gt op'>&gt;</span> <span class='integer val'>1</span> <span class='question op'>?</span> <span class='lparen token'>(</span><span class='current_page identifier id'>current_page</span> <span class='minus op'>-</span> <span class='integer val'>1</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>replace</h3>
</div><div id="replace-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>replace</span><span class='args'>(array)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This is a magic wrapper for the original Array#replace method. It serves
for populating the paginated collection after initialization.
</p>
<p>
Why magic? Because it tries to guess the total number of entries judging by
the size of given array. If it is shorter than <tt>per_page</tt> limit,
then we know we&#8217;re on the last page. This trick is very useful for
avoiding unnecessary hits to the database to do the counting after we
fetched the data for the current page.
</p>
<p>
However, after using <tt>replace</tt> you should always test the value of
<tt>total_entries</tt> and set it to a proper value if it&#8217;s
<tt>nil</tt>. See the example in <tt>create</tt>.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/will_paginate/collection.rb', line 134</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/mislav/will_paginate/blob/master/lib/will_paginate/collection.rb#L134">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">134
135
136
137
138
139
140
141
142
143
144</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='replace identifier id'>replace</span><span class='lparen token'>(</span><span class='array identifier id'>array</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='super super kw'>super</span>
  
  <span class='comment val'># The collection is shorter then page limit? Rejoice, because</span>
  <span class='comment val'># then we know that we are on the last page!</span>
  <span class='if if kw'>if</span> <span class='total_entries identifier id'>total_entries</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span> <span class='and and kw'>and</span> <span class='length identifier id'>length</span> <span class='lt op'>&lt;</span> <span class='per_page identifier id'>per_page</span> <span class='and and kw'>and</span> <span class='lparen token'>(</span><span class='current_page identifier id'>current_page</span> <span class='eq op'>==</span> <span class='integer val'>1</span> <span class='or or kw'>or</span> <span class='length identifier id'>length</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span><span class='rparen token'>)</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='total_entries identifier id'>total_entries</span> <span class='assign token'>=</span> <span class='offset identifier id'>offset</span> <span class='plus op'>+</span> <span class='length identifier id'>length</span>
  <span class='end end kw'>end</span>

  <span class='result identifier id'>result</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>total_entries</h3>
</div><div id="total_entries-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>total_entries</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
sets the <tt>total_entries</tt> property and calculates
<tt>total_pages</tt>
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/will_paginate/collection.rb', line 117</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/mislav/will_paginate/blob/master/lib/will_paginate/collection.rb#L117">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">117
118
119
120</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='total_entries= identifier id'>total_entries=</span><span class='lparen token'>(</span><span class='number identifier id'>number</span><span class='rparen token'>)</span>
  <span class='@total_entries ivar id'>@total_entries</span> <span class='assign token'>=</span> <span class='number identifier id'>number</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
  <span class='@total_pages ivar id'>@total_pages</span>   <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='@total_entries ivar id'>@total_entries</span> <span class='div op'>/</span> <span class='per_page identifier id'>per_page</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='ceil identifier id'>ceil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>