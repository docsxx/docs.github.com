<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>circle's fastercsv - Class: FasterCSV - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/circle/commits/fastercsv/master" rel="alternate" title="Recent Commits to fastercsv:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("circle", "fastercsv", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("circle", "fastercsv", "5abee814bec99aa17ac1c587c5cea0294895f862", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/circle/fastercsv/tree/">Source</a></li>
            <li class=""><a href="http://github.com/circle/fastercsv/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/circle/fastercsv/network">Network</a></li>            
            <li class=""><a href="http://github.com/circle/fastercsv/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/circle/fastercsv">Wiki</a></li>
            <li class=""><a href="http://github.com/circle/fastercsv/graphs">Graphs</a></li>                    
            <li class="active"><a href="/circle/fastercsv">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/circle">circle</a> / <b><a href="http://github.com/circle/fastercsv/tree">fastercsv</a></b>        
                <a id="namespaces_button" rel="circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class FasterCSV">
  <h1>Class: FasterCSV</h1>
  <div class="section mixins">
  <h2>Included Modules</h2>
  <p>Forwardable, Enumerable</p>
</div><div class="section mixins">
  <h2>Included Modules</h2>
  <p>Forwardable, Enumerable</p>
</div><div class="section docstring">
  <p>
This class provides a complete interface to CSV files and data. It offers
tools to enable you to read and write to and from Strings or IO objects, as
needed.
</p>
<h2>Reading</h2>
<h3>From a File</h3>
<h4>A Line at a Time</h4>
<pre class="code">
  <span class='FasterCSV constant id'>FasterCSV</span><span class='dot token'>.</span><span class='foreach identifier id'>foreach</span><span class='lparen token'>(</span><span class='string val'>&quot;path/to/file.csv&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='row identifier id'>row</span><span class='bitor op'>|</span>
    <span class='comment val'># use row here...</span>
  <span class='end end kw'>end</span>
</pre>
<h4>All at Once</h4>
<pre class="code">
  <span class='arr_of_arrs identifier id'>arr_of_arrs</span> <span class='assign token'>=</span> <span class='FasterCSV constant id'>FasterCSV</span><span class='dot token'>.</span><span class='read identifier id'>read</span><span class='lparen token'>(</span><span class='string val'>&quot;path/to/file.csv&quot;</span><span class='rparen token'>)</span>
</pre>
<h3>From a String</h3>
<h4>A Line at a Time</h4>
<pre class="code">
  <span class='FasterCSV constant id'>FasterCSV</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='string val'>&quot;CSV,data,String&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='row identifier id'>row</span><span class='bitor op'>|</span>
    <span class='comment val'># use row here...</span>
  <span class='end end kw'>end</span>
</pre>
<h4>All at Once</h4>
<pre class="code">
  <span class='arr_of_arrs identifier id'>arr_of_arrs</span> <span class='assign token'>=</span> <span class='FasterCSV constant id'>FasterCSV</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='string val'>&quot;CSV,data,String&quot;</span><span class='rparen token'>)</span>
</pre>
<h2>Writing</h2>
<h3>To a File</h3>
<pre class="code">
  <span class='FasterCSV constant id'>FasterCSV</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='string val'>&quot;path/to/file.csv&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;w&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='csv identifier id'>csv</span><span class='bitor op'>|</span>
    <span class='csv identifier id'>csv</span> <span class='lshft op'>&lt;&lt;</span> <span class='lbrack token'>[</span><span class='string val'>&quot;row&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;of&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;CSV&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;data&quot;</span><span class='rbrack token'>]</span>
    <span class='csv identifier id'>csv</span> <span class='lshft op'>&lt;&lt;</span> <span class='lbrack token'>[</span><span class='string val'>&quot;another&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;row&quot;</span><span class='rbrack token'>]</span>
    <span class='comment val'># ...</span>
  <span class='end end kw'>end</span>
</pre>
<h3>To a String</h3>
<pre class="code">
  <span class='csv_string identifier id'>csv_string</span> <span class='assign token'>=</span> <span class='FasterCSV constant id'>FasterCSV</span><span class='dot token'>.</span><span class='generate identifier id'>generate</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='csv identifier id'>csv</span><span class='bitor op'>|</span>
    <span class='csv identifier id'>csv</span> <span class='lshft op'>&lt;&lt;</span> <span class='lbrack token'>[</span><span class='string val'>&quot;row&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;of&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;CSV&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;data&quot;</span><span class='rbrack token'>]</span>
    <span class='csv identifier id'>csv</span> <span class='lshft op'>&lt;&lt;</span> <span class='lbrack token'>[</span><span class='string val'>&quot;another&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;row&quot;</span><span class='rbrack token'>]</span>
    <span class='comment val'># ...</span>
  <span class='end end kw'>end</span>
</pre>
<h2>Convert a Single Line</h2>
<pre class="code">
  <span class='csv_string identifier id'>csv_string</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='string val'>&quot;CSV&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;data&quot;</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='to_csv identifier id'>to_csv</span>   <span class='comment val'># to CSV</span>
  <span class='csv_array identifier id'>csv_array</span>  <span class='assign token'>=</span> <span class='string val'>&quot;CSV,String&quot;</span><span class='dot token'>.</span><span class='parse_csv identifier id'>parse_csv</span>   <span class='comment val'># from CSV</span>
</pre>
<h2>Shortcut Interface</h2>
<pre class="code">
  <span class='FCSV constant id'>FCSV</span>             <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='csv_out identifier id'>csv_out</span><span class='bitor op'>|</span> <span class='csv_out identifier id'>csv_out</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>%w{my data here}</span> <span class='rbrace token'>}</span>  <span class='comment val'># to $stdout</span>
  <span class='FCSV constant id'>FCSV</span><span class='lparen token'>(</span><span class='csv identifier id'>csv</span> <span class='assign token'>=</span> <span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span>   <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='csv_str identifier id'>csv_str</span><span class='bitor op'>|</span> <span class='csv_str identifier id'>csv_str</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>%w{my data here}</span> <span class='rbrace token'>}</span>  <span class='comment val'># to a String</span>
  <span class='FCSV constant id'>FCSV</span><span class='lparen token'>(</span><span class='$stderr gvar id'>$stderr</span><span class='rparen token'>)</span>    <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='csv_err identifier id'>csv_err</span><span class='bitor op'>|</span> <span class='csv_err identifier id'>csv_err</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>%w{my data here}</span> <span class='rbrace token'>}</span>  <span class='comment val'># to $stderr</span>
</pre>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">lineno</td>
          <td class="readwrite">
            [<span id='lineno-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
The line number of the last row read from this file.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="Converters-constant">Converters</dt>
      <dd>{ :integer   =&gt; lambda { |f| Integer(f)        rescue f },
:float     =&gt; lambda { |f| Float(f)          rescue f },
:numeric   =&gt; [:integer, :float],
:date      =&gt; lambda { |f|
  f =~ DateMatcher ? (Date.parse(f) rescue f) : f
},
:date_time =&gt; lambda { |f|
  f =~ DateTimeMatcher ? (DateTime.parse(f) rescue f) : f
},
:all       =&gt; [:date_time, :numeric] }</dd>
    
      <dt id="DateMatcher-constant">DateMatcher</dt>
      <dd>/ \A(?: (\w+,?\s+)?\w+\s+\d{1,2},?\s+\d{2,4} |
\d{4}-\d{2}-\d{2} )\z /x</dd>
    
      <dt id="DateTimeMatcher-constant">DateTimeMatcher</dt>
      <dd>/ \A(?: (\w+,?\s+)?\w+\s+\d{1,2}\s+\d{1,2}:\d{1,2}:\d{1,2},?\s+\d{2,4} |
\d{4}-\d{2}-\d{2}\s\d{2}:\d{2}:\d{2} )\z /x</dd>
    
      <dt id="DEFAULT_OPTIONS-constant">DEFAULT_OPTIONS</dt>
      <dd>{ :col_sep            =&gt; &quot;,&quot;,
:row_sep            =&gt; :auto,
:quote_char         =&gt; '&quot;', 
:converters         =&gt; nil,
:unconverted_fields =&gt; nil,
:headers            =&gt; false,
:return_headers     =&gt; false,
:header_converters  =&gt; nil,
:skip_blanks        =&gt; false,
:force_quotes       =&gt; false }.freeze</dd>
    
      <dt id="FieldInfo-constant">FieldInfo</dt>
      <dd>Struct.new(:index, :line, :header)</dd>
    
      <dt id="HeaderConverters-constant">HeaderConverters</dt>
      <dd>{
  :downcase =&gt; lambda { |h| h.downcase },
  :symbol   =&gt; lambda { |h|
    h.downcase.tr(&quot; &quot;, &quot;_&quot;).delete(&quot;^a-z0-9_&quot;).to_sym
  }
}</dd>
    
      <dt id="VERSION-constant">VERSION</dt>
      <dd>&quot;1.4.0&quot;.freeze</dd>
    
  </dl>
</div>

</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(data, options = Hash.new)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This constructor will wrap either a String or IO object passed in
<tt>data</tt> for reading and/or writing. In addition to the FasterCSV
instance methods, several IO methods are delegated. (See FasterCSV::open()
for a complete list.) If you pass a String for <tt>data</tt>, you can later
retrieve it (after writing to it, for example) with FasterCSV.string().
</p>
<p>
Note that a wrapped String will be positioned at at the beginning (for
reading). If you want it at the end (for writing), use
FasterCSV::generate(). If you want any other positioning, pass a preset
StringIO object instead.
</p>
<p>
You may set any reading and/or writing preferences in the <tt>options</tt>
Hash. Available options are:
</p>
<table>
<tr><td valign="top"><b><tt>:col_sep</tt></b>:</td><td>The String placed between each field.

</td></tr>
<tr><td valign="top"><b><tt>:row_sep</tt></b>:</td><td>The String appended to the end of each row. This can be set to the special
<tt>:auto</tt> setting, which requests that FasterCSV automatically
discover this from the data. Auto-discovery reads ahead in the data looking
for the next <tt>&quot;\r\n&quot;</tt>, <tt>&quot;\n&quot;</tt>, or
<tt>&quot;\r&quot;</tt> sequence. A sequence will be selected even if it
occurs in a quoted field, assuming that you would have the same line
endings there. If none of those sequences is found, <tt>data</tt> is
<tt>ARGF</tt>, <tt>STDIN</tt>, <tt>STDOUT</tt>, or <tt>STDERR</tt>, or the
stream is only available for output, the default
<tt>$INPUT_RECORD_SEPARATOR</tt> (<tt>$/</tt>) is used. Obviously,
discovery takes a little time. Set manually if speed is important. Also
note that IO objects should be opened in binary mode on Windows if this
feature will be used as the line-ending translation can cause problems with
resetting the document position to where it was before the read ahead.

</td></tr>
<tr><td valign="top"><b><tt>:quote_char</tt></b>:</td><td>The character used to quote fields. This has to be a single character
String. This is useful for application that incorrectly use
<tt>&#8216;</tt> as the quote character instead of the correct
<tt>&quot;</tt>. FasterCSV will always consider a double sequence this
character to be an escaped quote.

</td></tr>
<tr><td valign="top"><b><tt>:encoding</tt></b>:</td><td>The encoding to use when parsing the file. Defaults to your <tt>$KDOCE</tt>
setting. Valid values: <tt>`n’</tt> or <tt>`N’</tt> for none,
<tt>`e’</tt> or <tt>`E’</tt> for EUC, <tt>`s’</tt> or <tt>`S’</tt>
for SJIS, and <tt>`u’</tt> or <tt>`U’</tt> for UTF-8 (see
Regexp.new()).

</td></tr>
<tr><td valign="top"><b><tt>:field_size_limit</tt></b>:</td><td>This is a maximum size FasterCSV will read ahead looking for the closing
quote for a field. (In truth, it reads to the first line ending beyond this
size.) If a quote cannot be found within the limit FasterCSV will raise a
MalformedCSVError, assuming the data is faulty. You can use this limit to
prevent what are effectively DoS attacks on the parser. However, this limit
can cause a legitimate parse to fail and thus is set to <tt>nil</tt>, or
off, by default.

</td></tr>
<tr><td valign="top"><b><tt>:converters</tt></b>:</td><td>An Array of names from the Converters Hash and/or lambdas that handle
custom conversion. A single converter doesn&#8217;t have to be in an Array.

</td></tr>
<tr><td valign="top"><b><tt>:unconverted_fields</tt></b>:</td><td>If set to <tt>true</tt>, an unconverted_fields() method will be added to
all returned rows (Array or FasterCSV::Row) that will return the fields as
they were before convertion. Note that <tt>:headers</tt> supplied by Array
or String were not fields of the document and thus will have an empty Array
attached.

</td></tr>
<tr><td valign="top"><b><tt>:headers</tt></b>:</td><td>If set to <tt>:first_row</tt> or <tt>true</tt>, the initial row of the CSV
file will be treated as a row of headers. If set to an Array, the contents
will be used as the headers. If set to a String, the String is run through
a call of FasterCSV::parse_line() with the same <tt>:col_sep</tt>,
<tt>:row_sep</tt>, and <tt>:quote_char</tt> as this instance to produce an
Array of headers. This setting causes FasterCSV.shift() to return rows as
FasterCSV::Row objects instead of Arrays and FasterCSV.read() to return
FasterCSV::Table objects instead of an Array of Arrays.

</td></tr>
<tr><td valign="top"><b><tt>:return_headers</tt></b>:</td><td>When <tt>false</tt>, header rows are silently swallowed. If set to
<tt>true</tt>, header rows are returned in a FasterCSV::Row object with
identical headers and fields (save that the fields do not go through the
converters).

</td></tr>
<tr><td valign="top"><b><tt>:write_headers</tt></b>:</td><td>When <tt>true</tt> and <tt>:headers</tt> is set, a header row will be added
to the output.

</td></tr>
<tr><td valign="top"><b><tt>:header_converters</tt></b>:</td><td>Identical in functionality to <tt>:converters</tt> save that the
conversions are only made to header rows.

</td></tr>
<tr><td valign="top"><b><tt>:skip_blanks</tt></b>:</td><td>When set to a <tt>true</tt> value, FasterCSV will skip over any rows with
no content.

</td></tr>
<tr><td valign="top"><b><tt>:force_quotes</tt></b>:</td><td>When set to a <tt>true</tt> value, FasterCSV will quote all CSV fields it
creates.

</td></tr>
</table>
<p>
See FasterCSV::DEFAULT_OPTIONS for the default settings.
</p>
<p>
Options cannot be overriden in the instance methods for performance
reasons, so be sure to set what you want here.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/faster_csv.rb', line 1390</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862/lib/faster_csv.rb#L1390">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1390
1391
1392
1393
1394
1395
1396
1397
1398
1399
1400
1401
1402
1403
1404
1405
1406
1407
1408</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='data identifier id'>data</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='rparen token'>)</span>
  <span class='comment val'># build the options for this read/write</span>
  <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='DEFAULT_OPTIONS constant id'>DEFAULT_OPTIONS</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  
  <span class='comment val'># create the IO object we will read from</span>
  <span class='@io ivar id'>@io</span> <span class='assign token'>=</span> <span class='if if kw'>if</span> <span class='data identifier id'>data</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span> <span class='String constant id'>String</span> <span class='then then kw'>then</span> <span class='StringIO constant id'>StringIO</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='data identifier id'>data</span><span class='rparen token'>)</span> <span class='else else kw'>else</span> <span class='data identifier id'>data</span> <span class='end end kw'>end</span>
  
  <span class='init_separators identifier id'>init_separators</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='init_parsers identifier id'>init_parsers</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='init_converters identifier id'>init_converters</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='init_headers identifier id'>init_headers</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  
  <span class='unless unless kw'>unless</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
    <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Unknown options:  #{options.keys.join(', ')}.&quot;</span>
  <span class='end end kw'>end</span>
  
  <span class='comment val'># track our own lineno since IO gets confused about line-ends is CSV fields</span>
  <span class='@lineno ivar id'>@lineno</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#build_csv_interface-class_method">build_csv_interface</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
This method will build a drop-in replacement for many of the standard CSV
methods.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#dump-class_method">dump</span><span class='args'>(ary_of_objs, io = &quot;&quot;, options = Hash.new)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
This method allows you to serialize an Array of Ruby objects to a String or
File of CSV data.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#filter-class_method">filter</span><span class='args'>(*args)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='filter identifier id'>filter</span><span class='lparen token'>(</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#foreach-class_method">foreach</span><span class='args'>(path, options = Hash.new, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
This method is intended as the primary interface for reading CSV files.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#generate-class_method">generate</span><span class='args'>(*args)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='generate identifier id'>generate</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#generate_line-class_method">generate_line</span><span class='args'>(row, options = Hash.new)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
This method is a shortcut for converting a single row (Array) into a CSV
String.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#instance-class_method">instance</span><span class='args'>(data = $stdout, options = Hash.new)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
This method will return a FasterCSV instance, just like FasterCSV::new(),
but the instance will be cached and returned for all future calls to this
method for the same <tt>data</tt> object (tested by Object#object_id())
with the same <tt>options</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#load-class_method">load</span><span class='args'>(io_or_str, options = Hash.new)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
This method is the reading counterpart to FasterCSV::dump().
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#open-class_method">open</span><span class='args'>(*args)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='open identifier id'>open</span><span class='lparen token'>(</span> <span class='filename identifier id'>filename</span><span class='comma token'>,</span> <span class='mode identifier id'>mode</span><span class='assign token'>=</span><span class='string val'>&quot;rb&quot;</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#parse-class_method">parse</span><span class='args'>(*args, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='parse identifier id'>parse</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#parse_line-class_method">parse_line</span><span class='args'>(line, options = Hash.new)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
This method is a shortcut for converting a single line of a CSV String into
a into an Array.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#read-class_method">read</span><span class='args'>(path, options = Hash.new)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Use to slurp a CSV file into an Array of Arrays.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#readlines-class_method">readlines</span><span class='args'>(*args)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Alias for FasterCSV::read().
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#table-class_method">table</span><span class='args'>(path, options = Hash.new)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
A shortcut for:.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-3C-3C-instance_method">#<<</span><span class='args'>(row)</span>
        <span class='block'></span>
        
          <span class='alias'>#add_row</span>
        
      </th>
      <td class="docstring">
        <p>
End Delegation ###.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#each-instance_method">#each</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Yields each row of the data source in turn.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#header_convert-instance_method">#header_convert</span><span class='args'>(name = nil, &amp;converter)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='header_convert identifier id'>header_convert</span><span class='lparen token'>(</span> <span class='name identifier id'>name</span> <span class='rparen token'>)</span>
  <span class='header_convert identifier id'>header_convert</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='field identifier id'>field</span><span class='bitor op'>|</span> <span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#header_row-3F-instance_method">#header_row?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns <tt>true</tt> if the next row read will be a header row.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#inspect-instance_method">#inspect</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a simplified description of the key FasterCSV attributes.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#read-instance_method">#read</span><span class='args'></span>
        <span class='block'></span>
        
          <span class='alias'>#readlines</span>
        
      </th>
      <td class="docstring">
        <p>
Slurps the remaining rows and returns an Array of Arrays.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#rewind-instance_method">#rewind</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Rewinds the underlying IO object and resets FasterCSV&#8217;s lineno()
counter.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#shift-instance_method">#shift</span><span class='args'></span>
        <span class='block'></span>
        
          <span class='alias'>#readline</span>
        
          <span class='alias'>#gets</span>
        
      </th>
      <td class="docstring">
        <p>
The primary read method for wrapped Strings and IOs, a single row is pulled
from the data source, parsed and returned as an Array of fields (if header
rows are not used) or a FasterCSV::Row (when header rows are used).
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>build_csv_interface</h3>
</div><div id="build_csv_interface-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>build_csv_interface</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This method will build a drop-in replacement for many of the standard CSV
methods. It allows you to write code like:
</p>
<pre class="code">
  <span class='begin begin kw'>begin</span>
    <span class='require identifier id'>require</span> <span class='string val'>&quot;faster_csv&quot;</span>
    <span class='FasterCSV constant id'>FasterCSV</span><span class='dot token'>.</span><span class='build_csv_interface identifier id'>build_csv_interface</span>
  <span class='rescue rescue kw'>rescue</span> <span class='LoadError constant id'>LoadError</span>
    <span class='require identifier id'>require</span> <span class='string val'>&quot;csv&quot;</span>
  <span class='end end kw'>end</span>
  <span class='comment val'># ... use CSV here ...</span>
</pre>
<p>
This is not a complete interface with completely identical behavior.
However, it is intended to be close enough that you won&#8217;t notice the
difference in most cases. CSV methods supported are:
</p>
<ul>
<li>foreach()

</li>
<li>generate_line()

</li>
<li>open()

</li>
<li>parse()

</li>
<li>parse_line()

</li>
<li>readlines()

</li>
</ul>
<p>
Be warned that this interface is slower than vanilla FasterCSV due to the
extra layer of method calls. Depending on usage, this can slow it down to
near CSV speeds.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/faster_csv.rb', line 843</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862/lib/faster_csv.rb#L843">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">843
844
845
846
847
848
849
850
851
852
853
854
855
856
857
858
859
860
861
862
863
864
865
866
867
868
869
870
871
872
873
874
875</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='build_csv_interface identifier id'>build_csv_interface</span>
  <span class='Object constant id'>Object</span><span class='dot token'>.</span><span class='const_set identifier id'>const_set</span><span class='lparen token'>(</span><span class='symbol val'>:CSV</span><span class='comma token'>,</span> <span class='Class constant id'>Class</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='class_eval identifier id'>class_eval</span> <span class='do do kw'>do</span>
    <span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='foreach identifier id'>foreach</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='rs identifier id'>rs</span> <span class='assign token'>=</span> <span class='symbol val'>:auto</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>  <span class='comment val'># :nodoc:</span>
      <span class='FasterCSV constant id'>FasterCSV</span><span class='dot token'>.</span><span class='foreach identifier id'>foreach</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='symbol val'>:row_sep</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rs identifier id'>rs</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    
    <span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='generate_line identifier id'>generate_line</span><span class='lparen token'>(</span><span class='row identifier id'>row</span><span class='comma token'>,</span> <span class='fs identifier id'>fs</span> <span class='assign token'>=</span> <span class='string val'>&quot;,&quot;</span><span class='comma token'>,</span> <span class='rs identifier id'>rs</span> <span class='assign token'>=</span> <span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span>  <span class='comment val'># :nodoc:</span>
      <span class='FasterCSV constant id'>FasterCSV</span><span class='dot token'>.</span><span class='generate_line identifier id'>generate_line</span><span class='lparen token'>(</span><span class='row identifier id'>row</span><span class='comma token'>,</span> <span class='symbol val'>:col_sep</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='fs identifier id'>fs</span><span class='comma token'>,</span> <span class='symbol val'>:row_sep</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rs identifier id'>rs</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    
    <span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='mode identifier id'>mode</span><span class='comma token'>,</span> <span class='fs identifier id'>fs</span> <span class='assign token'>=</span> <span class='string val'>&quot;,&quot;</span><span class='comma token'>,</span> <span class='rs identifier id'>rs</span> <span class='assign token'>=</span> <span class='symbol val'>:auto</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>  <span class='comment val'># :nodoc:</span>
      <span class='if if kw'>if</span> <span class='block identifier id'>block</span> <span class='and and kw'>and</span> <span class='mode identifier id'>mode</span><span class='dot token'>.</span><span class='include? fid id'>include?</span> <span class='string val'>&quot;r&quot;</span>
        <span class='FasterCSV constant id'>FasterCSV</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='mode identifier id'>mode</span><span class='comma token'>,</span> <span class='symbol val'>:col_sep</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='fs identifier id'>fs</span><span class='comma token'>,</span> <span class='symbol val'>:row_sep</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rs identifier id'>rs</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='csv identifier id'>csv</span><span class='bitor op'>|</span>
          <span class='csv identifier id'>csv</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
      <span class='else else kw'>else</span>
        <span class='FasterCSV constant id'>FasterCSV</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='mode identifier id'>mode</span><span class='comma token'>,</span> <span class='symbol val'>:col_sep</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='fs identifier id'>fs</span><span class='comma token'>,</span> <span class='symbol val'>:row_sep</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rs identifier id'>rs</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    
    <span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='str_or_readable identifier id'>str_or_readable</span><span class='comma token'>,</span> <span class='fs identifier id'>fs</span> <span class='assign token'>=</span> <span class='string val'>&quot;,&quot;</span><span class='comma token'>,</span> <span class='rs identifier id'>rs</span> <span class='assign token'>=</span> <span class='symbol val'>:auto</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>  <span class='comment val'># :nodoc:</span>
      <span class='FasterCSV constant id'>FasterCSV</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='str_or_readable identifier id'>str_or_readable</span><span class='comma token'>,</span> <span class='symbol val'>:col_sep</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='fs identifier id'>fs</span><span class='comma token'>,</span> <span class='symbol val'>:row_sep</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rs identifier id'>rs</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    
    <span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='parse_line identifier id'>parse_line</span><span class='lparen token'>(</span><span class='src identifier id'>src</span><span class='comma token'>,</span> <span class='fs identifier id'>fs</span> <span class='assign token'>=</span> <span class='string val'>&quot;,&quot;</span><span class='comma token'>,</span> <span class='rs identifier id'>rs</span> <span class='assign token'>=</span> <span class='symbol val'>:auto</span><span class='rparen token'>)</span>  <span class='comment val'># :nodoc:</span>
      <span class='FasterCSV constant id'>FasterCSV</span><span class='dot token'>.</span><span class='parse_line identifier id'>parse_line</span><span class='lparen token'>(</span><span class='src identifier id'>src</span><span class='comma token'>,</span> <span class='symbol val'>:col_sep</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='fs identifier id'>fs</span><span class='comma token'>,</span> <span class='symbol val'>:row_sep</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rs identifier id'>rs</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    
    <span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='readlines identifier id'>readlines</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='rs identifier id'>rs</span> <span class='assign token'>=</span> <span class='symbol val'>:auto</span><span class='rparen token'>)</span>  <span class='comment val'># :nodoc:</span>
      <span class='FasterCSV constant id'>FasterCSV</span><span class='dot token'>.</span><span class='readlines identifier id'>readlines</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='symbol val'>:row_sep</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rs identifier id'>rs</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>dump</h3>
</div><div id="dump-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>dump</span><span class='args'>(ary_of_objs, io = &quot;&quot;, options = Hash.new)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This method allows you to serialize an Array of Ruby objects to a String or
File of CSV data. This is not as powerful as Marshal or YAML, but perhaps
useful for spreadsheet and database interaction.
</p>
<p>
Out of the box, this method is intended to work with simple data objects or
Structs. It will serialize a list of instance variables and/or
Struct.members().
</p>
<p>
If you need need more complicated serialization, you can control the
process by adding methods to the class to be serialized.
</p>
<p>
A class method csv_meta() is responsible for returning the first row of the
document (as an Array). This row is considered to be a Hash of the form
key_1,value_1,key_2,value_2,&#8230; FasterCSV::load() expects to find a
class key with a value of the stringified class name and FasterCSV::dump()
will create this, if you do not define this method. This method is only
called on the first object of the Array.
</p>
<p>
The next method you can provide is an instance method called csv_headers().
This method is expected to return the second line of the document (again as
an Array), which is to be used to give each column a header. By default,
FasterCSV::load() will set an instance variable if the field header starts
with an @ character or call send() passing the header as the method name
and the field value as an argument. This method is only called on the first
object of the Array.
</p>
<p>
Finally, you can provide an instance method called csv_dump(), which will
be passed the headers. This should return an Array of fields that can be
serialized for this object. This method is called once for every object in
the Array.
</p>
<p>
The <tt>io</tt> parameter can be used to serialize to a File, and
<tt>options</tt> can be anything FasterCSV::new() accepts.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/faster_csv.rb', line 912</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862/lib/faster_csv.rb#L912">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">912
913
914
915
916
917
918
919
920
921
922
923
924
925
926
927
928
929
930
931
932
933
934
935
936
937
938
939
940
941
942
943
944
945
946
947
948
949
950
951
952
953
954
955</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='dump identifier id'>dump</span><span class='lparen token'>(</span><span class='ary_of_objs identifier id'>ary_of_objs</span><span class='comma token'>,</span> <span class='io identifier id'>io</span> <span class='assign token'>=</span> <span class='string val'>&quot;&quot;</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='rparen token'>)</span>
  <span class='obj_template identifier id'>obj_template</span> <span class='assign token'>=</span> <span class='ary_of_objs identifier id'>ary_of_objs</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
  
  <span class='csv identifier id'>csv</span> <span class='assign token'>=</span> <span class='FasterCSV constant id'>FasterCSV</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='io identifier id'>io</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  
  <span class='comment val'># write meta information</span>
  <span class='begin begin kw'>begin</span>
    <span class='csv identifier id'>csv</span> <span class='lshft op'>&lt;&lt;</span> <span class='obj_template identifier id'>obj_template</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='csv_meta identifier id'>csv_meta</span>
  <span class='rescue rescue kw'>rescue</span> <span class='NoMethodError constant id'>NoMethodError</span>
    <span class='csv identifier id'>csv</span> <span class='lshft op'>&lt;&lt;</span> <span class='lbrack token'>[</span><span class='symbol val'>:class</span><span class='comma token'>,</span> <span class='obj_template identifier id'>obj_template</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># write headers</span>
  <span class='begin begin kw'>begin</span>
    <span class='headers identifier id'>headers</span> <span class='assign token'>=</span> <span class='obj_template identifier id'>obj_template</span><span class='dot token'>.</span><span class='csv_headers identifier id'>csv_headers</span>
  <span class='rescue rescue kw'>rescue</span> <span class='NoMethodError constant id'>NoMethodError</span>
    <span class='headers identifier id'>headers</span> <span class='assign token'>=</span> <span class='obj_template identifier id'>obj_template</span><span class='dot token'>.</span><span class='instance_variables identifier id'>instance_variables</span><span class='dot token'>.</span><span class='sort identifier id'>sort</span>
    <span class='if if kw'>if</span> <span class='obj_template identifier id'>obj_template</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='ancestors identifier id'>ancestors</span><span class='dot token'>.</span><span class='find identifier id'>find</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='cls identifier id'>cls</span><span class='bitor op'>|</span> <span class='cls identifier id'>cls</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='match op'>=~</span> <span class='regexp val'>/\AStruct\b/</span> <span class='rbrace token'>}</span>
      <span class='headers identifier id'>headers</span> <span class='opasgn op'>+=</span> <span class='obj_template identifier id'>obj_template</span><span class='dot token'>.</span><span class='members identifier id'>members</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='mem identifier id'>mem</span><span class='bitor op'>|</span> <span class='dstring node'>&quot;#{mem}=&quot;</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='sort identifier id'>sort</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='csv identifier id'>csv</span> <span class='lshft op'>&lt;&lt;</span> <span class='headers identifier id'>headers</span>
  
  <span class='comment val'># serialize each object</span>
  <span class='ary_of_objs identifier id'>ary_of_objs</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='obj identifier id'>obj</span><span class='bitor op'>|</span>
    <span class='begin begin kw'>begin</span>
      <span class='csv identifier id'>csv</span> <span class='lshft op'>&lt;&lt;</span> <span class='obj identifier id'>obj</span><span class='dot token'>.</span><span class='csv_dump identifier id'>csv_dump</span><span class='lparen token'>(</span><span class='headers identifier id'>headers</span><span class='rparen token'>)</span>
    <span class='rescue rescue kw'>rescue</span> <span class='NoMethodError constant id'>NoMethodError</span>
      <span class='csv identifier id'>csv</span> <span class='lshft op'>&lt;&lt;</span> <span class='headers identifier id'>headers</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='var identifier id'>var</span><span class='bitor op'>|</span>
        <span class='if if kw'>if</span> <span class='var identifier id'>var</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='integer val'>?@</span>
          <span class='obj identifier id'>obj</span><span class='dot token'>.</span><span class='instance_variable_get identifier id'>instance_variable_get</span><span class='lparen token'>(</span><span class='var identifier id'>var</span><span class='rparen token'>)</span>
        <span class='else else kw'>else</span>
          <span class='obj identifier id'>obj</span><span class='lbrack token'>[</span><span class='var identifier id'>var</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>-2</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  
  <span class='if if kw'>if</span> <span class='io identifier id'>io</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span> <span class='String constant id'>String</span>
    <span class='csv identifier id'>csv</span><span class='dot token'>.</span><span class='string identifier id'>string</span>
  <span class='else else kw'>else</span>
    <span class='csv identifier id'>csv</span><span class='dot token'>.</span><span class='close identifier id'>close</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>filter</h3>
</div><div id="filter-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>filter</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='filter identifier id'>filter</span><span class='lparen token'>(</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='row identifier id'>row</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
  <span class='filter identifier id'>filter</span><span class='lparen token'>(</span> <span class='input identifier id'>input</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='row identifier id'>row</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
  <span class='filter identifier id'>filter</span><span class='lparen token'>(</span> <span class='input identifier id'>input</span><span class='comma token'>,</span> <span class='output identifier id'>output</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='row identifier id'>row</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
</pre>
<p>
This method is a convenience for building Unix-like filters for CSV data.
Each row is yielded to the provided block which can alter it as needed.
After the block returns, the row is appended to <tt>output</tt> altered or
not.
</p>
<p>
The <tt>input</tt> and <tt>output</tt> arguments can be anything
FasterCSV::new() accepts (generally String or IO objects). If not given,
they default to <tt>ARGF</tt> and <tt>$stdout</tt>.
</p>
<p>
The <tt>options</tt> parameter is also filtered down to FasterCSV::new()
after some clever key parsing. Any key beginning with <tt>:in_</tt> or
<tt>:input_</tt> will have that leading identifier stripped and will only
be used in the <tt>options</tt> Hash for the <tt>input</tt> object. Keys
starting with <tt>:out_</tt> or <tt>:output_</tt> affect only
<tt>output</tt>. All other keys are assigned to both objects.
</p>
<p>
The <tt>:output_row_sep</tt> <tt>option</tt> defaults to
<tt>$INPUT_RECORD_SEPARATOR</tt> (<tt>$/</tt>).
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/faster_csv.rb', line 981</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862/lib/faster_csv.rb#L981">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">981
982
983
984
985
986
987
988
989
990
991
992
993
994
995
996
997
998
999
1000
1001
1002
1003
1004
1005
1006</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='filter identifier id'>filter</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='comment val'># parse options for input, output, or both</span>
  <span class='in_options identifier id'>in_options</span><span class='comma token'>,</span> <span class='out_options identifier id'>out_options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='symbol val'>:row_sep</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='$INPUT_RECORD_SEPARATOR gvar id'>$INPUT_RECORD_SEPARATOR</span><span class='rbrace token'>}</span>
  <span class='if if kw'>if</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='last identifier id'>last</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span> <span class='Hash constant id'>Hash</span>
    <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span>
      <span class='case case kw'>case</span> <span class='key identifier id'>key</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
      <span class='when when kw'>when</span> <span class='regexp val'>/\Ain(?:put)?_(.+)\Z/</span>
        <span class='in_options identifier id'>in_options</span><span class='lbrack token'>[</span><span class='$1 nth_ref id'>$1</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span>
      <span class='when when kw'>when</span> <span class='regexp val'>/\Aout(?:put)?_(.+)\Z/</span>
        <span class='out_options identifier id'>out_options</span><span class='lbrack token'>[</span><span class='$1 nth_ref id'>$1</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span>
      <span class='else else kw'>else</span>
        <span class='in_options identifier id'>in_options</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span>  <span class='assign token'>=</span> <span class='value identifier id'>value</span>
        <span class='out_options identifier id'>out_options</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='comment val'># build input and output wrappers</span>
  <span class='input identifier id'>input</span>   <span class='assign token'>=</span> <span class='FasterCSV constant id'>FasterCSV</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span> <span class='orop op'>||</span> <span class='ARGF constant id'>ARGF</span><span class='comma token'>,</span>    <span class='in_options identifier id'>in_options</span><span class='rparen token'>)</span>
  <span class='output identifier id'>output</span>  <span class='assign token'>=</span> <span class='FasterCSV constant id'>FasterCSV</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span> <span class='orop op'>||</span> <span class='$stdout gvar id'>$stdout</span><span class='comma token'>,</span> <span class='out_options identifier id'>out_options</span><span class='rparen token'>)</span>
  
  <span class='comment val'># read, yield, write</span>
  <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='row identifier id'>row</span><span class='bitor op'>|</span>
    <span class='yield yield kw'>yield</span> <span class='row identifier id'>row</span>
    <span class='output identifier id'>output</span> <span class='lshft op'>&lt;&lt;</span> <span class='row identifier id'>row</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>foreach</h3>
</div><div id="foreach-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>foreach</span><span class='args'>(path, options = Hash.new, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This method is intended as the primary interface for reading CSV files. You
pass a <tt>path</tt> and any <tt>options</tt> you wish to set for the read.
Each row of file will be passed to the provided <tt>block</tt> in turn.
</p>
<p>
The <tt>options</tt> parameter can be anything FasterCSV::new()
understands.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/faster_csv.rb', line 1015</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862/lib/faster_csv.rb#L1015">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1015
1016
1017
1018
1019</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='foreach identifier id'>foreach</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='string val'>&quot;rb&quot;</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='csv identifier id'>csv</span><span class='bitor op'>|</span>
    <span class='csv identifier id'>csv</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>generate</h3>
</div><div id="generate-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>generate</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='generate identifier id'>generate</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='faster_csv identifier id'>faster_csv</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
  <span class='generate identifier id'>generate</span><span class='lparen token'>(</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='faster_csv identifier id'>faster_csv</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
</pre>
<p>
This method wraps a String you provide, or an empty default String, in a
FasterCSV object which is passed to the provided block. You can use the
block to append CSV rows to the String and when the block exits, the final
String will be returned.
</p>
<p>
Note that a passed String <b>is</b> modfied by this method. Call dup()
before passing if you need a new String.
</p>
<p>
The <tt>options</tt> parameter can be anthing FasterCSV::new() understands.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/faster_csv.rb', line 1036</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862/lib/faster_csv.rb#L1036">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1036
1037
1038
1039
1040
1041
1042
1043
1044
1045
1046
1047
1048</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='generate identifier id'>generate</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='comment val'># add a default empty String, if none was given</span>
  <span class='if if kw'>if</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span> <span class='String constant id'>String</span>
    <span class='io identifier id'>io</span> <span class='assign token'>=</span> <span class='StringIO constant id'>StringIO</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span><span class='rparen token'>)</span>
    <span class='io identifier id'>io</span><span class='dot token'>.</span><span class='seek identifier id'>seek</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='IO constant id'>IO</span><span class='colon2 op'>::</span><span class='SEEK_END constant id'>SEEK_END</span><span class='rparen token'>)</span>
    <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span><span class='lparen token'>(</span><span class='io identifier id'>io</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span><span class='lparen token'>(</span><span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='faster_csv identifier id'>faster_csv</span> <span class='assign token'>=</span> <span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>  <span class='comment val'># wrap</span>
  <span class='yield yield kw'>yield</span> <span class='faster_csv identifier id'>faster_csv</span>         <span class='comment val'># yield for appending</span>
  <span class='faster_csv identifier id'>faster_csv</span><span class='dot token'>.</span><span class='string identifier id'>string</span>        <span class='comment val'># return final String</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>generate_line</h3>
</div><div id="generate_line-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>generate_line</span><span class='args'>(row, options = Hash.new)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This method is a shortcut for converting a single row (Array) into a CSV
String.
</p>
<p>
The <tt>options</tt> parameter can be anthing FasterCSV::new() understands.
</p>
<p>
The <tt>:row_sep</tt> <tt>option</tt> defaults to
<tt>$INPUT_RECORD_SEPARATOR</tt> (<tt>$/</tt>) when calling this method.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/faster_csv.rb', line 1059</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862/lib/faster_csv.rb#L1059">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1059
1060
1061
1062</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='generate_line identifier id'>generate_line</span><span class='lparen token'>(</span><span class='row identifier id'>row</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='rparen token'>)</span>
  <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:row_sep</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='$INPUT_RECORD_SEPARATOR gvar id'>$INPUT_RECORD_SEPARATOR</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='lparen token'>(</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>&quot;&quot;</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span> <span class='lshft op'>&lt;&lt;</span> <span class='row identifier id'>row</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='string identifier id'>string</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>instance</h3>
</div><div id="instance-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>instance</span><span class='args'>(data = $stdout, options = Hash.new)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This method will return a FasterCSV instance, just like FasterCSV::new(),
but the instance will be cached and returned for all future calls to this
method for the same <tt>data</tt> object (tested by Object#object_id())
with the same <tt>options</tt>.
</p>
<p>
If a block is given, the instance is passed to the block and the return
value becomes the return value of the block.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/faster_csv.rb', line 1073</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862/lib/faster_csv.rb#L1073">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1073
1074
1075
1076
1077
1078
1079
1080
1081
1082
1083
1084
1085
1086
1087</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='lparen token'>(</span><span class='data identifier id'>data</span> <span class='assign token'>=</span> <span class='$stdout gvar id'>$stdout</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='rparen token'>)</span>
  <span class='comment val'># create a _signature_ for this method call, data object and options</span>
  <span class='sig identifier id'>sig</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='data identifier id'>data</span><span class='dot token'>.</span><span class='object_id identifier id'>object_id</span><span class='rbrack token'>]</span> <span class='plus op'>+</span>
        <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='values_at identifier id'>values_at</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='DEFAULT_OPTIONS constant id'>DEFAULT_OPTIONS</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='sort_by identifier id'>sort_by</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='sym identifier id'>sym</span><span class='bitor op'>|</span> <span class='sym identifier id'>sym</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='rbrace token'>}</span><span class='rparen token'>)</span>
  
  <span class='comment val'># fetch or create the instance for this signature</span>
  <span class='@@instances ivar id'>@@instances</span> <span class='opasgn op'>||=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='instance identifier id'>instance</span>    <span class='assign token'>=</span>   <span class='lparen token'>(</span><span class='@@instances ivar id'>@@instances</span><span class='lbrack token'>[</span><span class='sig identifier id'>sig</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='data identifier id'>data</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span><span class='rparen token'>)</span>

  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='yield yield kw'>yield</span> <span class='instance identifier id'>instance</span>  <span class='comment val'># run block, if given, returning result</span>
  <span class='else else kw'>else</span>
    <span class='instance identifier id'>instance</span>        <span class='comment val'># or return the instance</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>load</h3>
</div><div id="load-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>load</span><span class='args'>(io_or_str, options = Hash.new)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This method is the reading counterpart to FasterCSV::dump(). See that
method for a detailed description of the process.
</p>
<p>
You can customize loading by adding a class method called csv_load() which
will be passed a Hash of meta information, an Array of headers, and an
Array of fields for the object the method is expected to return.
</p>
<p>
Remember that all fields will be Strings after this load. If you need
something else, use <tt>options</tt> to setup converters or provide a
custom csv_load() implementation.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/faster_csv.rb', line 1101</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862/lib/faster_csv.rb#L1101">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1101
1102
1103
1104
1105
1106
1107
1108
1109
1110
1111
1112
1113
1114
1115
1116
1117
1118
1119
1120
1121
1122
1123
1124
1125
1126
1127
1128
1129
1130
1131
1132
1133</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='load identifier id'>load</span><span class='lparen token'>(</span><span class='io_or_str identifier id'>io_or_str</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='rparen token'>)</span>
  <span class='csv identifier id'>csv</span> <span class='assign token'>=</span> <span class='FasterCSV constant id'>FasterCSV</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='io_or_str identifier id'>io_or_str</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  
  <span class='comment val'># load meta information</span>
  <span class='meta identifier id'>meta</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='lbrack token'>[</span><span class='mult op'>*</span><span class='csv identifier id'>csv</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span><span class='rbrack token'>]</span>
  <span class='cls identifier id'>cls</span>  <span class='assign token'>=</span> <span class='meta identifier id'>meta</span><span class='lbrack token'>[</span><span class='string val'>&quot;class&quot;</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>&quot;::&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='Object constant id'>Object</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='c identifier id'>c</span><span class='comma token'>,</span> <span class='const identifier id'>const</span><span class='bitor op'>|</span>
    <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='const_get identifier id'>const_get</span><span class='lparen token'>(</span><span class='const identifier id'>const</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  
  <span class='comment val'># load headers</span>
  <span class='headers identifier id'>headers</span> <span class='assign token'>=</span> <span class='csv identifier id'>csv</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span>
  
  <span class='comment val'># unserialize each object stored in the file</span>
  <span class='results identifier id'>results</span> <span class='assign token'>=</span> <span class='csv identifier id'>csv</span><span class='dot token'>.</span><span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='all identifier id'>all</span><span class='comma token'>,</span> <span class='row identifier id'>row</span><span class='bitor op'>|</span>
    <span class='begin begin kw'>begin</span>
      <span class='obj identifier id'>obj</span> <span class='assign token'>=</span> <span class='cls identifier id'>cls</span><span class='dot token'>.</span><span class='csv_load identifier id'>csv_load</span><span class='lparen token'>(</span><span class='meta identifier id'>meta</span><span class='comma token'>,</span> <span class='headers identifier id'>headers</span><span class='comma token'>,</span> <span class='row identifier id'>row</span><span class='rparen token'>)</span>
    <span class='rescue rescue kw'>rescue</span> <span class='NoMethodError constant id'>NoMethodError</span>
      <span class='obj identifier id'>obj</span> <span class='assign token'>=</span> <span class='cls identifier id'>cls</span><span class='dot token'>.</span><span class='allocate identifier id'>allocate</span>
      <span class='headers identifier id'>headers</span><span class='dot token'>.</span><span class='zip identifier id'>zip</span><span class='lparen token'>(</span><span class='row identifier id'>row</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span>
        <span class='if if kw'>if</span> <span class='name identifier id'>name</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='integer val'>?@</span>
          <span class='obj identifier id'>obj</span><span class='dot token'>.</span><span class='instance_variable_set identifier id'>instance_variable_set</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
        <span class='else else kw'>else</span>
          <span class='obj identifier id'>obj</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='all identifier id'>all</span> <span class='lshft op'>&lt;&lt;</span> <span class='obj identifier id'>obj</span>
  <span class='end end kw'>end</span>
  
  <span class='csv identifier id'>csv</span><span class='dot token'>.</span><span class='close identifier id'>close</span> <span class='unless unless_mod kw'>unless</span> <span class='io_or_str identifier id'>io_or_str</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span> <span class='String constant id'>String</span>
  
  <span class='results identifier id'>results</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>open</h3>
</div><div id="open-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>open</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='open identifier id'>open</span><span class='lparen token'>(</span> <span class='filename identifier id'>filename</span><span class='comma token'>,</span> <span class='mode identifier id'>mode</span><span class='assign token'>=</span><span class='string val'>&quot;rb&quot;</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='faster_csv identifier id'>faster_csv</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
  <span class='open identifier id'>open</span><span class='lparen token'>(</span> <span class='filename identifier id'>filename</span><span class='comma token'>,</span> <span class='mode identifier id'>mode</span><span class='assign token'>=</span><span class='string val'>&quot;rb&quot;</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='rparen token'>)</span>
</pre>
<p>
This method opens an IO object, and wraps that with FasterCSV. This is
intended as the primary interface for writing a CSV file.
</p>
<p>
You may pass any <tt>args</tt> Ruby&#8217;s open() understands followed by
an optional Hash containing any <tt>options</tt> FasterCSV::new()
understands.
</p>
<p>
This method works like Ruby&#8217;s open() call, in that it will pass a
FasterCSV object to a provided block and close it when the block
termminates, or it will return the FasterCSV object when no block is
provided. (<b>Note</b>: This is different from the standard CSV library
which passes rows to the block. Use FasterCSV::foreach() for that
behavior.)
</p>
<p>
An opened FasterCSV object will delegate to many IO methods, for
convenience. You may call:
</p>
<ul>
<li>binmode()

</li>
<li>close()

</li>
<li>close_read()

</li>
<li>close_write()

</li>
<li>closed?()

</li>
<li>eof()

</li>
<li>eof?()

</li>
<li>fcntl()

</li>
<li>fileno()

</li>
<li>flush()

</li>
<li>fsync()

</li>
<li>ioctl()

</li>
<li>isatty()

</li>
<li>pid()

</li>
<li>pos()

</li>
<li>reopen()

</li>
<li>seek()

</li>
<li>stat()

</li>
<li>sync()

</li>
<li>sync=()

</li>
<li>tell()

</li>
<li>to_i()

</li>
<li>to_io()

</li>
<li>tty?()

</li>
</ul>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/faster_csv.rb', line 1180</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862/lib/faster_csv.rb#L1180">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1180
1181
1182
1183
1184
1185
1186
1187
1188
1189
1190
1191
1192
1193
1194
1195
1196
1197
1198</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='comment val'># find the +options+ Hash</span>
  <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='if if kw'>if</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='last identifier id'>last</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span> <span class='Hash constant id'>Hash</span> <span class='then then kw'>then</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span> <span class='else else kw'>else</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='end end kw'>end</span>
  <span class='comment val'># default to a binary open mode</span>
  <span class='args identifier id'>args</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;rb&quot;</span> <span class='if if_mod kw'>if</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='eq op'>==</span> <span class='integer val'>1</span>
  <span class='comment val'># wrap a File opened with the remaining +args+</span>
  <span class='csv identifier id'>csv</span>     <span class='assign token'>=</span> <span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  
  <span class='comment val'># handle blocks like Ruby's open(), not like the CSV library</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='begin begin kw'>begin</span>
      <span class='yield yield kw'>yield</span> <span class='csv identifier id'>csv</span>
    <span class='ensure ensure kw'>ensure</span>
      <span class='csv identifier id'>csv</span><span class='dot token'>.</span><span class='close identifier id'>close</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='csv identifier id'>csv</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>parse</h3>
</div><div id="parse-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>parse</span><span class='args'>(*args, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='parse identifier id'>parse</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='row identifier id'>row</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
  <span class='parse identifier id'>parse</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='rparen token'>)</span>
</pre>
<p>
This method can be used to easily parse CSV out of a String. You may either
provide a <tt>block</tt> which will be called with each row of the String
in turn, or just use the returned Array of Arrays (when no <tt>block</tt>
is given).
</p>
<p>
You pass your <tt>str</tt> to read from, and an optional <tt>options</tt>
Hash containing anything FasterCSV::new() understands.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/faster_csv.rb', line 1212</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862/lib/faster_csv.rb#L1212">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1212
1213
1214
1215
1216
1217
1218
1219
1220
1221
1222
1223</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='csv identifier id'>csv</span> <span class='assign token'>=</span> <span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='block identifier id'>block</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>  <span class='comment val'># slurp contents, if no block is given</span>
    <span class='begin begin kw'>begin</span>
      <span class='csv identifier id'>csv</span><span class='dot token'>.</span><span class='read identifier id'>read</span>
    <span class='ensure ensure kw'>ensure</span>
      <span class='csv identifier id'>csv</span><span class='dot token'>.</span><span class='close identifier id'>close</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>           <span class='comment val'># or pass each row to a provided block</span>
    <span class='csv identifier id'>csv</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>parse_line</h3>
</div><div id="parse_line-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>parse_line</span><span class='args'>(line, options = Hash.new)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This method is a shortcut for converting a single line of a CSV String into
a into an Array. Note that if <tt>line</tt> contains multiple rows,
anything beyond the first row is ignored.
</p>
<p>
The <tt>options</tt> parameter can be anthing FasterCSV::new() understands.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/faster_csv.rb', line 1232</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862/lib/faster_csv.rb#L1232">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1232
1233
1234</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='parse_line identifier id'>parse_line</span><span class='lparen token'>(</span><span class='line identifier id'>line</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='rparen token'>)</span>
  <span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='line identifier id'>line</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>read</h3>
</div><div id="read-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>read</span><span class='args'>(path, options = Hash.new)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Use to slurp a CSV file into an Array of Arrays. Pass the <tt>path</tt> to
the file and any <tt>options</tt> FasterCSV::new() understands.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/faster_csv.rb', line 1240</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862/lib/faster_csv.rb#L1240">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1240
1241
1242</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='read identifier id'>read</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='rparen token'>)</span>
  <span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='string val'>&quot;rb&quot;</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='csv identifier id'>csv</span><span class='bitor op'>|</span> <span class='csv identifier id'>csv</span><span class='dot token'>.</span><span class='read identifier id'>read</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>readlines</h3>
</div><div id="readlines-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>readlines</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Alias for FasterCSV::read().
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/faster_csv.rb', line 1245</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862/lib/faster_csv.rb#L1245">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1245
1246
1247</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='readlines identifier id'>readlines</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='read identifier id'>read</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>table</h3>
</div><div id="table-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>table</span><span class='args'>(path, options = Hash.new)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
A shortcut for:
</p>
<pre class="code">
  <span class='FasterCSV constant id'>FasterCSV</span><span class='dot token'>.</span><span class='read identifier id'>read</span><span class='lparen token'>(</span> <span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='lbrace token'>{</span> <span class='symbol val'>:headers</span>           <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span>
                          <span class='symbol val'>:converters</span>        <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:numeric</span><span class='comma token'>,</span>
                          <span class='symbol val'>:header_converters</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:symbol</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span> <span class='rparen token'>)</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/faster_csv.rb', line 1256</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862/lib/faster_csv.rb#L1256">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1256
1257
1258
1259
1260</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='table identifier id'>table</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='rparen token'>)</span>
  <span class='read identifier id'>read</span><span class='lparen token'>(</span> <span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='lbrace token'>{</span> <span class='symbol val'>:headers</span>           <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span>
                <span class='symbol val'>:converters</span>        <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:numeric</span><span class='comma token'>,</span>
                <span class='symbol val'>:header_converters</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:symbol</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span> <span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>&lt;&lt;</h3>
</div><div id="-3C-3C-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'><<</span><span class='args'>(row)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="add_row-instance_method">add_row</tt>
  
</p>
</div><div class="section docstring">
  <p>
End Delegation ###
</p>
<p>
The primary write method for wrapped Strings and IOs, <tt>row</tt> (an
Array or FasterCSV::Row) is converted to CSV and appended to the data
source. When a FasterCSV::Row is passed, only the row&#8217;s fields() are
appended to the output.
</p>
<p>
The data source must be open for writing.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/faster_csv.rb', line 1442</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862/lib/faster_csv.rb#L1442">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1442
1443
1444
1445
1446
1447
1448
1449
1450
1451
1452
1453
1454
1455
1456
1457
1458
1459
1460
1461
1462</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='lshft op'>&lt;&lt;</span><span class='lparen token'>(</span><span class='row identifier id'>row</span><span class='rparen token'>)</span>
  <span class='comment val'># make sure headers have been assigned</span>
  <span class='if if kw'>if</span> <span class='header_row? fid id'>header_row?</span> <span class='and and kw'>and</span> <span class='lbrack token'>[</span><span class='Array constant id'>Array</span><span class='comma token'>,</span> <span class='String constant id'>String</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='include? fid id'>include?</span> <span class='@use_headers ivar id'>@use_headers</span><span class='dot token'>.</span><span class='class identifier id'>class</span>
    <span class='parse_headers identifier id'>parse_headers</span>  <span class='comment val'># won't read data for Array or String</span>
    <span class='self self kw'>self</span> <span class='lshft op'>&lt;&lt;</span> <span class='@headers ivar id'>@headers</span> <span class='if if_mod kw'>if</span> <span class='@write_headers ivar id'>@write_headers</span>
  <span class='end end kw'>end</span>
  
  <span class='comment val'># Handle FasterCSV::Row objects and Hashes</span>
  <span class='row identifier id'>row</span> <span class='assign token'>=</span> <span class='case case kw'>case</span> <span class='row identifier id'>row</span>
        <span class='when when kw'>when</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='colon2 op'>::</span><span class='Row constant id'>Row</span> <span class='then then kw'>then</span> <span class='row identifier id'>row</span><span class='dot token'>.</span><span class='fields identifier id'>fields</span>
        <span class='when when kw'>when</span> <span class='Hash constant id'>Hash</span>            <span class='then then kw'>then</span> <span class='@headers ivar id'>@headers</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='header identifier id'>header</span><span class='bitor op'>|</span> <span class='row identifier id'>row</span><span class='lbrack token'>[</span><span class='header identifier id'>header</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
        <span class='else else kw'>else</span>                      <span class='row identifier id'>row</span>
        <span class='end end kw'>end</span>

  <span class='@headers ivar id'>@headers</span> <span class='assign token'>=</span>  <span class='row identifier id'>row</span> <span class='if if_mod kw'>if</span> <span class='header_row? fid id'>header_row?</span>
  <span class='@lineno ivar id'>@lineno</span>  <span class='opasgn op'>+=</span> <span class='integer val'>1</span>

  <span class='@io ivar id'>@io</span> <span class='lshft op'>&lt;&lt;</span> <span class='row identifier id'>row</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='@quote ivar id'>@quote</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='@col_sep ivar id'>@col_sep</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='@row_sep ivar id'>@row_sep</span>  <span class='comment val'># quote and separate</span>
  
  <span class='self self kw'>self</span>  <span class='comment val'># for chaining</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>each</h3>
</div><div id="each-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>each</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Yields each row of the data source in turn.
</p>
<p>
Support for Enumerable.
</p>
<p>
The data source must be open for reading.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/faster_csv.rb', line 1512</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862/lib/faster_csv.rb#L1512">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1512
1513
1514
1515
1516</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='each identifier id'>each</span>
  <span class='while while kw'>while</span> <span class='row identifier id'>row</span> <span class='assign token'>=</span> <span class='shift identifier id'>shift</span>
    <span class='yield yield kw'>yield</span> <span class='row identifier id'>row</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>header_convert</h3>
</div><div id="header_convert-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>header_convert</span><span class='args'>(name = nil, &amp;converter)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='header_convert identifier id'>header_convert</span><span class='lparen token'>(</span> <span class='name identifier id'>name</span> <span class='rparen token'>)</span>
  <span class='header_convert identifier id'>header_convert</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='field identifier id'>field</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
  <span class='header_convert identifier id'>header_convert</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='field identifier id'>field</span><span class='comma token'>,</span> <span class='field_info identifier id'>field_info</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
</pre>
<p>
Identical to FasterCSV.convert(), but for header rows.
</p>
<p>
Note that this method must be called before header rows are read to have
any effect.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/faster_csv.rb', line 1496</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862/lib/faster_csv.rb#L1496">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1496
1497
1498
1499
1500
1501</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='header_convert identifier id'>header_convert</span><span class='lparen token'>(</span><span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='converter identifier id'>converter</span><span class='rparen token'>)</span>
  <span class='add_converter identifier id'>add_converter</span><span class='lparen token'>(</span> <span class='symbol val'>:header_converters</span><span class='comma token'>,</span>
                 <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='colon2 op'>::</span><span class='HeaderConverters constant id'>HeaderConverters</span><span class='comma token'>,</span>
                 <span class='name identifier id'>name</span><span class='comma token'>,</span>
                 <span class='bitand op'>&amp;</span><span class='converter identifier id'>converter</span> <span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>header_row?</h3>
</div><div id="header_row-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>header_row?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns <tt>true</tt> if the next row read will be a header row.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/faster_csv.rb', line 1534</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862/lib/faster_csv.rb#L1534">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1534
1535
1536</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='header_row? fid id'>header_row?</span>
  <span class='@use_headers ivar id'>@use_headers</span> <span class='and and kw'>and</span> <span class='@headers ivar id'>@headers</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>inspect</h3>
</div><div id="inspect-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>inspect</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a simplified description of the key FasterCSV attributes.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/faster_csv.rb', line 1661</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862/lib/faster_csv.rb#L1661">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1661
1662
1663
1664
1665
1666
1667
1668
1669
1670
1671
1672
1673
1674
1675
1676
1677
1678
1679
1680
1681
1682
1683
1684</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='inspect identifier id'>inspect</span>
  <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;&lt;##{self.class} io_type:&quot;</span>
  <span class='comment val'># show type of wrapped IO</span>
  <span class='if if kw'>if</span>    <span class='@io ivar id'>@io</span> <span class='eq op'>==</span> <span class='$stdout gvar id'>$stdout</span> <span class='then then kw'>then</span> <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;$stdout&quot;</span>
  <span class='elsif elsif kw'>elsif</span> <span class='@io ivar id'>@io</span> <span class='eq op'>==</span> <span class='$stdin gvar id'>$stdin</span>  <span class='then then kw'>then</span> <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;$stdin&quot;</span>
  <span class='elsif elsif kw'>elsif</span> <span class='@io ivar id'>@io</span> <span class='eq op'>==</span> <span class='$stderr gvar id'>$stderr</span> <span class='then then kw'>then</span> <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;$stderr&quot;</span>
  <span class='else else kw'>else</span>                      <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='@io ivar id'>@io</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
  <span class='end end kw'>end</span>
  <span class='comment val'># show IO.path(), if available</span>
  <span class='if if kw'>if</span> <span class='@io ivar id'>@io</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:path</span><span class='rparen token'>)</span> <span class='and and kw'>and</span> <span class='lparen token'>(</span><span class='p identifier id'>p</span> <span class='assign token'>=</span> <span class='@io ivar id'>@io</span><span class='dot token'>.</span><span class='path identifier id'>path</span><span class='rparen token'>)</span>
    <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot; io_path:#{p.inspect}&quot;</span>
  <span class='end end kw'>end</span>
  <span class='comment val'># show other attributes</span>
  <span class='dstring node'>%w[ lineno     col_sep     row_sep
      quote_char skip_blanks encoding ]</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='attr_name identifier id'>attr_name</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='instance_variable_get identifier id'>instance_variable_get</span><span class='lparen token'>(</span><span class='dstring node'>&quot;@#{attr_name}&quot;</span><span class='rparen token'>)</span>
      <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot; #{attr_name}:#{a.inspect}&quot;</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='if if kw'>if</span> <span class='@use_headers ivar id'>@use_headers</span>
    <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot; headers:#{(@headers || true).inspect}&quot;</span>
  <span class='end end kw'>end</span>
  <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;&gt;&quot;</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>read</h3>
</div><div id="read-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>read</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="readlines-instance_method">readlines</tt>
  
</p>
</div><div class="section docstring">
  <p>
Slurps the remaining rows and returns an Array of Arrays.
</p>
<p>
The data source must be open for reading.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/faster_csv.rb', line 1523</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862/lib/faster_csv.rb#L1523">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1523
1524
1525
1526
1527
1528
1529
1530</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='read identifier id'>read</span>
  <span class='rows identifier id'>rows</span> <span class='assign token'>=</span> <span class='to_a identifier id'>to_a</span>
  <span class='if if kw'>if</span> <span class='@use_headers ivar id'>@use_headers</span>
    <span class='Table constant id'>Table</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='rows identifier id'>rows</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='rows identifier id'>rows</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>rewind</h3>
</div><div id="rewind-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>rewind</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Rewinds the underlying IO object and resets FasterCSV&#8217;s lineno()
counter.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/faster_csv.rb', line 1425</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862/lib/faster_csv.rb#L1425">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1425
1426
1427
1428
1429
1430</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='rewind identifier id'>rewind</span>
  <span class='@headers ivar id'>@headers</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@lineno ivar id'>@lineno</span>  <span class='assign token'>=</span> <span class='integer val'>0</span>
  
  <span class='@io ivar id'>@io</span><span class='dot token'>.</span><span class='rewind identifier id'>rewind</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>shift</h3>
</div><div id="shift-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>shift</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="readline-instance_method">readline</tt>
  
    <tt id="gets-instance_method">gets</tt>
  
</p>
</div><div class="section docstring">
  <p>
The primary read method for wrapped Strings and IOs, a single row is pulled
from the data source, parsed and returned as an Array of fields (if header
rows are not used) or a FasterCSV::Row (when header rows are used).
</p>
<p>
The data source must be open for reading.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/faster_csv.rb', line 1545</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/circle/fastercsv/blob/5abee814bec99aa17ac1c587c5cea0294895f862/lib/faster_csv.rb#L1545">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1545
1546
1547
1548
1549
1550
1551
1552
1553
1554
1555
1556
1557
1558
1559
1560
1561
1562
1563
1564
1565
1566
1567
1568
1569
1570
1571
1572
1573
1574
1575
1576
1577
1578
1579
1580
1581
1582
1583
1584
1585
1586
1587
1588
1589
1590
1591
1592
1593
1594
1595
1596
1597
1598
1599
1600
1601
1602
1603
1604
1605
1606
1607
1608
1609
1610
1611
1612
1613
1614
1615
1616
1617
1618
1619
1620
1621
1622
1623
1624
1625
1626
1627
1628
1629
1630
1631
1632
1633
1634
1635
1636
1637
1638
1639
1640
1641
1642
1643
1644
1645
1646
1647
1648
1649
1650
1651
1652
1653
1654
1655
1656</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='shift identifier id'>shift</span>
  <span class='comment val'>#########################################################################</span>
  <span class='comment val'>### This method is purposefully kept a bit long as simple conditional ###</span>
  <span class='comment val'>### checks are faster than numerous (expensive) method calls.         ###</span>
  <span class='comment val'>#########################################################################</span>
  
  <span class='comment val'># handle headers not based on document content</span>
  <span class='if if kw'>if</span> <span class='header_row? fid id'>header_row?</span> <span class='and and kw'>and</span> <span class='@return_headers ivar id'>@return_headers</span> <span class='and and kw'>and</span>
     <span class='lbrack token'>[</span><span class='Array constant id'>Array</span><span class='comma token'>,</span> <span class='String constant id'>String</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='include? fid id'>include?</span> <span class='@use_headers ivar id'>@use_headers</span><span class='dot token'>.</span><span class='class identifier id'>class</span>
    <span class='if if kw'>if</span> <span class='@unconverted_fields ivar id'>@unconverted_fields</span>
      <span class='return return kw'>return</span> <span class='add_unconverted_fields identifier id'>add_unconverted_fields</span><span class='lparen token'>(</span><span class='parse_headers identifier id'>parse_headers</span><span class='comma token'>,</span> <span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='return return kw'>return</span> <span class='parse_headers identifier id'>parse_headers</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  
  <span class='comment val'># begin with a blank line, so we can always add to it</span>
  <span class='line identifier id'>line</span> <span class='assign token'>=</span> <span class='string val'>&quot;&quot;</span>

  <span class='comment val'># </span>
  <span class='comment val'># it can take multiple calls to &lt;tt&gt;@io.gets()&lt;/tt&gt; to get a full line,</span>
  <span class='comment val'># because of \r and/or \n characters embedded in quoted fields</span>
  <span class='comment val'># </span>
  <span class='loop identifier id'>loop</span> <span class='do do kw'>do</span>
    <span class='comment val'># add another read to the line</span>
    <span class='line identifier id'>line</span>  <span class='opasgn op'>+=</span> <span class='@io ivar id'>@io</span><span class='dot token'>.</span><span class='gets identifier id'>gets</span><span class='lparen token'>(</span><span class='@row_sep ivar id'>@row_sep</span><span class='rparen token'>)</span> <span class='rescue rescue kw'>rescue</span> <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span>
    <span class='comment val'># copy the line so we can chop it up in parsing</span>
    <span class='parse identifier id'>parse</span> <span class='assign token'>=</span>  <span class='line identifier id'>line</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
    <span class='parse identifier id'>parse</span><span class='dot token'>.</span><span class='sub! fid id'>sub!</span><span class='lparen token'>(</span><span class='@parsers ivar id'>@parsers</span><span class='lbrack token'>[</span><span class='symbol val'>:line_end</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span>
    
    <span class='comment val'># </span>
    <span class='comment val'># I believe a blank line should be an &lt;tt&gt;Array.new&lt;/tt&gt;, not </span>
    <span class='comment val'># CSV's &lt;tt&gt;[nil]&lt;/tt&gt;</span>
    <span class='comment val'># </span>
    <span class='if if kw'>if</span> <span class='parse identifier id'>parse</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
      <span class='@lineno ivar id'>@lineno</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
      <span class='if if kw'>if</span> <span class='@skip_blanks ivar id'>@skip_blanks</span>
        <span class='line identifier id'>line</span> <span class='assign token'>=</span> <span class='string val'>&quot;&quot;</span>
        <span class='next next kw'>next</span>
      <span class='elsif elsif kw'>elsif</span> <span class='@unconverted_fields ivar id'>@unconverted_fields</span>
        <span class='return return kw'>return</span> <span class='add_unconverted_fields identifier id'>add_unconverted_fields</span><span class='lparen token'>(</span><span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='comma token'>,</span> <span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='rparen token'>)</span>
      <span class='elsif elsif kw'>elsif</span> <span class='@use_headers ivar id'>@use_headers</span>
        <span class='return return kw'>return</span> <span class='FasterCSV constant id'>FasterCSV</span><span class='colon2 op'>::</span><span class='Row constant id'>Row</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='comma token'>,</span> <span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='rparen token'>)</span>
      <span class='else else kw'>else</span>
        <span class='return return kw'>return</span> <span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># </span>
    <span class='comment val'># shave leading empty fields if needed, because the main parser chokes </span>
    <span class='comment val'># on these</span>
    <span class='comment val'># </span>
    <span class='csv identifier id'>csv</span> <span class='assign token'>=</span> <span class='if if kw'>if</span> <span class='parse identifier id'>parse</span><span class='dot token'>.</span><span class='sub! fid id'>sub!</span><span class='lparen token'>(</span><span class='@parsers ivar id'>@parsers</span><span class='lbrack token'>[</span><span class='symbol val'>:leading_fields</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span>
      <span class='lbrack token'>[</span><span class='nil nil kw'>nil</span><span class='rbrack token'>]</span> <span class='mult op'>*</span> <span class='lparen token'>(</span><span class='$&amp; back_ref id'>$&amp;</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='div op'>/</span> <span class='@col_sep ivar id'>@col_sep</span><span class='dot token'>.</span><span class='length identifier id'>length</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
    <span class='end end kw'>end</span>
    <span class='comment val'># </span>
    <span class='comment val'># then parse the main fields with a hyper-tuned Regexp from </span>
    <span class='comment val'># Mastering Regular Expressions, Second Edition</span>
    <span class='comment val'># </span>
    <span class='parse identifier id'>parse</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span><span class='@parsers ivar id'>@parsers</span><span class='lbrack token'>[</span><span class='symbol val'>:csv_row</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='do do kw'>do</span>
      <span class='csv identifier id'>csv</span> <span class='lshft op'>&lt;&lt;</span> <span class='if if kw'>if</span> <span class='$1 nth_ref id'>$1</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>     <span class='comment val'># we found an unquoted field</span>
        <span class='if if kw'>if</span> <span class='$2 nth_ref id'>$2</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>        <span class='comment val'># switch empty unquoted fields to +nil+...</span>
          <span class='nil nil kw'>nil</span>               <span class='comment val'># for CSV compatibility</span>
        <span class='else else kw'>else</span>
          <span class='comment val'># I decided to take a strict approach to CSV parsing...</span>
          <span class='if if kw'>if</span> <span class='$2 nth_ref id'>$2</span><span class='dot token'>.</span><span class='count identifier id'>count</span><span class='lparen token'>(</span><span class='string val'>&quot;\r\n&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='zero? fid id'>zero?</span>  <span class='comment val'># verify correctness of field...</span>
            <span class='$2 nth_ref id'>$2</span>
          <span class='else else kw'>else</span>
            <span class='comment val'># or throw an Exception</span>
            <span class='raise identifier id'>raise</span> <span class='MalformedCSVError constant id'>MalformedCSVError</span><span class='comma token'>,</span> <span class='string val'>&quot;Unquoted fields do not allow &quot;</span> <span class='plus op'>+</span>
                                     <span class='dstring node'>&quot;\\r or \\n (line #{lineno + 1}).&quot;</span>
          <span class='end end kw'>end</span>
        <span class='end end kw'>end</span>
      <span class='else else kw'>else</span>                  <span class='comment val'># we found a quoted field...</span>
        <span class='$1 nth_ref id'>$1</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='@quote_char ivar id'>@quote_char</span> <span class='mult op'>*</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='@quote_char ivar id'>@quote_char</span><span class='rparen token'>)</span>  <span class='comment val'># unescape contents</span>
      <span class='end end kw'>end</span>
      <span class='string val'>&quot;&quot;</span>  <span class='comment val'># gsub!'s replacement, clear the field</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># if parse is empty?(), we found all the fields on the line...</span>
    <span class='if if kw'>if</span> <span class='parse identifier id'>parse</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
      <span class='@lineno ivar id'>@lineno</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>

      <span class='comment val'># save fields unconverted fields, if needed...</span>
      <span class='unconverted identifier id'>unconverted</span> <span class='assign token'>=</span> <span class='csv identifier id'>csv</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span> <span class='if if_mod kw'>if</span> <span class='@unconverted_fields ivar id'>@unconverted_fields</span>

      <span class='comment val'># convert fields, if needed...</span>
      <span class='csv identifier id'>csv</span> <span class='assign token'>=</span> <span class='convert_fields identifier id'>convert_fields</span><span class='lparen token'>(</span><span class='csv identifier id'>csv</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='@use_headers ivar id'>@use_headers</span> <span class='or or kw'>or</span> <span class='@converters ivar id'>@converters</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
      <span class='comment val'># parse out header rows and handle FasterCSV::Row conversions...</span>
      <span class='csv identifier id'>csv</span> <span class='assign token'>=</span> <span class='parse_headers identifier id'>parse_headers</span><span class='lparen token'>(</span><span class='csv identifier id'>csv</span><span class='rparen token'>)</span>  <span class='if if_mod kw'>if</span>     <span class='@use_headers ivar id'>@use_headers</span>

      <span class='comment val'># inject unconverted fields and accessor, if requested...</span>
      <span class='if if kw'>if</span> <span class='@unconverted_fields ivar id'>@unconverted_fields</span> <span class='and and kw'>and</span> <span class='not not kw'>not</span> <span class='csv identifier id'>csv</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span> <span class='colon op'>:</span><span class='unconverted_fields identifier id'>unconverted_fields</span>
        <span class='add_unconverted_fields identifier id'>add_unconverted_fields</span><span class='lparen token'>(</span><span class='csv identifier id'>csv</span><span class='comma token'>,</span> <span class='unconverted identifier id'>unconverted</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>

      <span class='comment val'># return the results</span>
      <span class='break break kw'>break</span> <span class='csv identifier id'>csv</span>
    <span class='end end kw'>end</span>
    <span class='comment val'># if we're not empty?() but at eof?(), a quoted field wasn't closed...</span>
    <span class='if if kw'>if</span> <span class='@io ivar id'>@io</span><span class='dot token'>.</span><span class='eof? fid id'>eof?</span>
      <span class='raise identifier id'>raise</span> <span class='MalformedCSVError constant id'>MalformedCSVError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Unclosed quoted field on line #{lineno + 1}.&quot;</span>
    <span class='elsif elsif kw'>elsif</span> <span class='parse identifier id'>parse</span> <span class='match op'>=~</span> <span class='@parsers ivar id'>@parsers</span><span class='lbrack token'>[</span><span class='symbol val'>:bad_field</span><span class='rbrack token'>]</span>
      <span class='raise identifier id'>raise</span> <span class='MalformedCSVError constant id'>MalformedCSVError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Illegal quoting on line #{lineno + 1}.&quot;</span>
    <span class='elsif elsif kw'>elsif</span> <span class='@field_size_limit ivar id'>@field_size_limit</span> <span class='and and kw'>and</span> <span class='parse identifier id'>parse</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='geq op'>&gt;=</span> <span class='@field_size_limit ivar id'>@field_size_limit</span>
      <span class='raise identifier id'>raise</span> <span class='MalformedCSVError constant id'>MalformedCSVError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Field size exceeded on line #{lineno + 1}.&quot;</span>
    <span class='end end kw'>end</span>
    <span class='comment val'># otherwise, we need to loop and pull some more data to complete the row</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>