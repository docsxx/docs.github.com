<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>evanphx's rubinius - Class: IO - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/evanphx/commits/rubinius/master" rel="alternate" title="Recent Commits to rubinius:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("evanphx", "rubinius", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("evanphx", "rubinius", "a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/evanphx/rubinius/tree/">Source</a></li>
            <li class=""><a href="http://github.com/evanphx/rubinius/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/evanphx/rubinius/network">Network</a></li>            
            <li class=""><a href="http://github.com/evanphx/rubinius/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/evanphx/rubinius">Wiki</a></li>
            <li class=""><a href="http://github.com/evanphx/rubinius/graphs">Graphs</a></li>                    
            <li class="active"><a href="/evanphx/rubinius">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/evanphx">evanphx</a> / <b><a href="http://github.com/evanphx/rubinius/tree">rubinius</a></b>        
                <a id="namespaces_button" rel="evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class IO">
  <h1>Class: IO</h1>
  <div class="section constants">
  
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#bytes-instance_method">#bytes</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#chars-instance_method">#chars</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#each-instance_method">#each</span><span class='args'>(sep = $/)</span>
        <span class='block'></span>
        
          <span class='alias'>#each_line</span>
        
      </th>
      <td class="docstring">
        <p>
Executes the block for every line in ios, where lines are separated by
sep_string.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#each_byte-instance_method">#each_byte</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#each_char-instance_method">#each_char</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#getbyte-instance_method">#getbyte</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#lines-instance_method">#lines</span><span class='args'>(*args)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#readbyte-instance_method">#readbyte</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#scanf-instance_method">#scanf</span><span class='args'>(str, &amp;b)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
of input at a time.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>bytes</h3>
</div><div id="bytes-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>bytes</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/1.8.7/io.rb', line 2</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/1.8.7/io.rb#L2">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">2
3
4</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='bytes identifier id'>bytes</span>
  <span class='to_enum identifier id'>to_enum</span> <span class='symbol val'>:each_byte</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>chars</h3>
</div><div id="chars-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>chars</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/1.8.7/io.rb', line 6</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/1.8.7/io.rb#L6">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">6
7
8</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='chars identifier id'>chars</span>
  <span class='to_enum identifier id'>to_enum</span> <span class='symbol val'>:each_char</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>each</h3>
</div><div id="each-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>each</span><span class='args'>(sep = $/)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="each_line-instance_method">each_line</tt>
  
</p>
</div><div class="section docstring">
  <p>
Executes the block for every line in ios, where lines are separated by
sep_string. ios must be opened for reading or an IOError will be raised.
</p>
<pre class="code">
 <span class='f identifier id'>f</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>&quot;testfile&quot;</span><span class='rparen token'>)</span>
 <span class='f identifier id'>f</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='line identifier id'>line</span><span class='bitor op'>|</span> <span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;#{f.lineno}: #{line}&quot;</span> <span class='rbrace token'>}</span>
</pre>
<p>
produces:
</p>
<pre class="code">
 <span class='integer val'>1</span><span class='colon op'>:</span> <span class='This constant id'>This</span> <span class='is identifier id'>is</span> <span class='line identifier id'>line</span> <span class='one identifier id'>one</span>
 <span class='integer val'>2</span><span class='colon op'>:</span> <span class='This constant id'>This</span> <span class='is identifier id'>is</span> <span class='line identifier id'>line</span> <span class='two identifier id'>two</span>
 <span class='integer val'>3</span><span class='colon op'>:</span> <span class='This constant id'>This</span> <span class='is identifier id'>is</span> <span class='line identifier id'>line</span> <span class='three identifier id'>three</span>
 <span class='integer val'>4</span><span class='colon op'>:</span> <span class='And constant id'>And</span> <span class='so identifier id'>so</span> <span class='on identifier id'>on</span><span class='dot3 op'>...</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/1.8.7/io.rb', line 23</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/1.8.7/io.rb#L23">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">23
24
25
26
27
28
29
30
31
32
33</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='each identifier id'>each</span><span class='lparen token'>(</span><span class='sep identifier id'>sep</span><span class='assign token'>=</span><span class='$/ gvar id'>$/</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='to_enum identifier id'>to_enum</span> <span class='symbol val'>:each</span><span class='comma token'>,</span> <span class='sep identifier id'>sep</span> <span class='unless unless_mod kw'>unless</span> <span class='block_given? fid id'>block_given?</span>
  <span class='ensure_open_and_readable identifier id'>ensure_open_and_readable</span>

  <span class='sep identifier id'>sep</span> <span class='assign token'>=</span> <span class='sep identifier id'>sep</span><span class='dot token'>.</span><span class='to_str identifier id'>to_str</span> <span class='if if_mod kw'>if</span> <span class='sep identifier id'>sep</span>
  <span class='while while kw'>while</span> <span class='line identifier id'>line</span> <span class='assign token'>=</span> <span class='read_to_separator identifier id'>read_to_separator</span><span class='lparen token'>(</span><span class='sep identifier id'>sep</span><span class='rparen token'>)</span>
    <span class='yield yield kw'>yield</span> <span class='line identifier id'>line</span>
  <span class='end end kw'>end</span>

  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>each_byte</h3>
</div><div id="each_byte-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>each_byte</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/1.8.7/io.rb', line 37</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/1.8.7/io.rb#L37">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">37
38
39
40
41
42</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='each_byte identifier id'>each_byte</span>
  <span class='return return kw'>return</span> <span class='to_enum identifier id'>to_enum</span> <span class='symbol val'>:each_byte</span> <span class='unless unless_mod kw'>unless</span> <span class='block_given? fid id'>block_given?</span>
  <span class='yield yield kw'>yield</span> <span class='getbyte identifier id'>getbyte</span> <span class='until until_mod kw'>until</span> <span class='eof? fid id'>eof?</span>

  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>each_char</h3>
</div><div id="each_char-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>each_char</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/1.8.7/io.rb', line 44</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/1.8.7/io.rb#L44">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='each_char identifier id'>each_char</span>
    <span class='return return kw'>return</span> <span class='to_enum identifier id'>to_enum</span> <span class='symbol val'>:each_char</span> <span class='unless unless_mod kw'>unless</span> <span class='block_given? fid id'>block_given?</span>
    <span class='ensure_open_and_readable identifier id'>ensure_open_and_readable</span>
    <span class='if if kw'>if</span> <span class='$KCODE gvar id'>$KCODE</span> <span class='eq op'>==</span> <span class='string val'>&quot;UTF-8&quot;</span>
      <span class='lookup identifier id'>lookup</span> <span class='assign token'>=</span> <span class='float val'>7</span><span class='dot token'>.</span><span class='downto identifier id'>downto</span><span class='lparen token'>(</span><span class='integer val'>4</span><span class='rparen token'>)</span>
      <span class='while while kw'>while</span> <span class='c identifier id'>c</span> <span class='assign token'>=</span> <span class='read identifier id'>read</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span> <span class='do do kw'>do</span>
        <span class='n identifier id'>n</span> <span class='assign token'>=</span> <span class='c identifier id'>c</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
        <span class='leftmost_zero_bit identifier id'>leftmost_zero_bit</span> <span class='assign token'>=</span> <span class='lookup identifier id'>lookup</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='n identifier id'>n</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='zero? fid id'>zero?</span> <span class='rbrace token'>}</span>
        <span class='case case kw'>case</span> <span class='leftmost_zero_bit identifier id'>leftmost_zero_bit</span>
        <span class='when when kw'>when</span> <span class='integer val'>7</span> <span class='comment val'># ASCII</span>
          <span class='yield yield kw'>yield</span> <span class='c identifier id'>c</span>
        <span class='when when kw'>when</span> <span class='integer val'>6</span> <span class='comment val'># UTF 8 complementary characters</span>
          <span class='next next kw'>next</span> <span class='comment val'># Encoding error, ignore</span>
        <span class='else else kw'>else</span>
          <span class='more identifier id'>more</span> <span class='assign token'>=</span> <span class='read identifier id'>read</span><span class='lparen token'>(</span><span class='integer val'>6</span><span class='minus op'>-</span><span class='leftmost_zero_bit identifier id'>leftmost_zero_bit</span><span class='rparen token'>)</span>
          <span class='break break kw'>break</span> <span class='unless unless_mod kw'>unless</span> <span class='more identifier id'>more</span>
          <span class='yield yield kw'>yield</span> <span class='c identifier id'>c</span><span class='plus op'>+</span><span class='more identifier id'>more</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='else else kw'>else</span>
      <span class='while while kw'>while</span> <span class='s identifier id'>s</span> <span class='assign token'>=</span> <span class='read identifier id'>read</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span>
        <span class='yield yield kw'>yield</span> <span class='s identifier id'>s</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>

    <span class='self self kw'>self</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='getbyte identifier id'>getbyte</span>
    <span class='char identifier id'>char</span> <span class='assign token'>=</span> <span class='read identifier id'>read</span> <span class='integer val'>1</span>
    <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span> <span class='if if_mod kw'>if</span> <span class='char identifier id'>char</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
    <span class='char identifier id'>char</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='readbyte identifier id'>readbyte</span>
    <span class='byte identifier id'>byte</span> <span class='assign token'>=</span> <span class='getbyte identifier id'>getbyte</span>
    <span class='raise identifier id'>raise</span> <span class='EOFError constant id'>EOFError</span><span class='comma token'>,</span> <span class='string val'>&quot;end of file&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='bytes identifier id'>bytes</span>
    <span class='byte identifier id'>byte</span>
  <span class='end end kw'>end</span>
  
  <span class='def def kw'>def</span> <span class='lines identifier id'>lines</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
    <span class='to_enum identifier id'>to_enum</span> <span class='symbol val'>:each_line</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>getbyte</h3>
</div><div id="getbyte-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>getbyte</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/1.8.7/io.rb', line 72</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/1.8.7/io.rb#L72">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">72
73
74
75
76</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='getbyte identifier id'>getbyte</span>
  <span class='char identifier id'>char</span> <span class='assign token'>=</span> <span class='read identifier id'>read</span> <span class='integer val'>1</span>
  <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span> <span class='if if_mod kw'>if</span> <span class='char identifier id'>char</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
  <span class='char identifier id'>char</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>lines</h3>
</div><div id="lines-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>lines</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/1.8.7/io.rb', line 84</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/1.8.7/io.rb#L84">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">84
85
86</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='lines identifier id'>lines</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='to_enum identifier id'>to_enum</span> <span class='symbol val'>:each_line</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>readbyte</h3>
</div><div id="readbyte-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>readbyte</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>EOFError</tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/1.8.7/io.rb', line 78</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/1.8.7/io.rb#L78">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">78
79
80
81
82</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='readbyte identifier id'>readbyte</span>
  <span class='byte identifier id'>byte</span> <span class='assign token'>=</span> <span class='getbyte identifier id'>getbyte</span>
  <span class='raise identifier id'>raise</span> <span class='EOFError constant id'>EOFError</span><span class='comma token'>,</span> <span class='string val'>&quot;end of file&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='bytes identifier id'>bytes</span>
  <span class='byte identifier id'>byte</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>scanf</h3>
</div><div id="scanf-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>scanf</span><span class='args'>(str, &amp;b)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
of input at a time. The linebreak may or may not occur at the boundary
where the string matches a format specifier. And if it does, some rule
about whitespace may or may not be in effect&#8230;
</p>
<p>
That&#8217;s why this is much more elaborate than the string version.
</p>
<p>
For each line: Match succeeds (non-emptily) and the last attempted
spec/string sub-match succeeded:
</p>
<pre class="code">
  <span class='could identifier id'>could</span> <span class='the identifier id'>the</span> <span class='last identifier id'>last</span> <span class='spec identifier id'>spec</span> <span class='keep identifier id'>keep</span> <span class='matching? fid id'>matching?</span>
    <span class='yes identifier id'>yes</span><span class='colon op'>:</span> <span class='save identifier id'>save</span> <span class='interim identifier id'>interim</span> <span class='results identifier id'>results</span> <span class='and and kw'>and</span> <span class='continue identifier id'>continue</span> <span class='lparen token'>(</span><span class='next next kw'>next</span> <span class='line identifier id'>line</span><span class='rparen token'>)</span>
</pre>
<p>
The last attempted spec/string did not match:
</p>
<p>
are we on the next-to-last spec in the string?
</p>
<pre class="code">
  <span class='yes identifier id'>yes</span><span class='colon op'>:</span>
    <span class='is identifier id'>is</span> <span class='fmt_string identifier id'>fmt_string</span><span class='dot token'>.</span><span class='string_left identifier id'>string_left</span> <span class='all identifier id'>all</span> <span class='spaces? fid id'>spaces?</span>
      <span class='yes identifier id'>yes</span><span class='colon op'>:</span> <span class='does identifier id'>does</span> <span class='current identifier id'>current</span> <span class='spec identifier id'>spec</span> <span class='care identifier id'>care</span> <span class='about identifier id'>about</span> <span class='input identifier id'>input</span> <span class='space? fid id'>space?</span>
        <span class='yes identifier id'>yes</span><span class='colon op'>:</span> <span class='fatal identifier id'>fatal</span> <span class='failure identifier id'>failure</span>
        <span class='no identifier id'>no</span><span class='colon op'>:</span> <span class='save identifier id'>save</span> <span class='interim identifier id'>interim</span> <span class='results identifier id'>results</span> <span class='and and kw'>and</span> <span class='continue identifier id'>continue</span>
  <span class='no identifier id'>no</span><span class='colon op'>:</span> <span class='continue identifier id'>continue</span>  <span class='lbrack token'>[</span><span class='this identifier id'>this</span> <span class='state identifier id'>state</span> <span class='could identifier id'>could</span> <span class='be identifier id'>be</span> <span class='analyzed identifier id'>analyzed</span> <span class='further identifier id'>further</span><span class='rbrack token'>]</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/scanf.rb', line 590</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/scanf.rb#L590">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='scanf identifier id'>scanf</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='comma token'>,</span><span class='bitand op'>&amp;</span><span class='b identifier id'>b</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='block_scanf identifier id'>block_scanf</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='comma token'>,</span><span class='bitand op'>&amp;</span><span class='b identifier id'>b</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='b identifier id'>b</span>
  <span class='return return kw'>return</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span> <span class='unless unless_mod kw'>unless</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>

  <span class='start_position identifier id'>start_position</span> <span class='assign token'>=</span> <span class='pos identifier id'>pos</span> <span class='rescue rescue kw'>rescue</span> <span class='integer val'>0</span>
  <span class='matched_so_far identifier id'>matched_so_far</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='source_buffer identifier id'>source_buffer</span> <span class='assign token'>=</span> <span class='string val'>&quot;&quot;</span>
  <span class='result_buffer identifier id'>result_buffer</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='final_result identifier id'>final_result</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>

  <span class='fstr identifier id'>fstr</span> <span class='assign token'>=</span> <span class='Scanf constant id'>Scanf</span><span class='colon2 op'>::</span><span class='FormatString constant id'>FormatString</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>

  <span class='loop identifier id'>loop</span> <span class='do do kw'>do</span>
    <span class='if if kw'>if</span> <span class='eof identifier id'>eof</span> <span class='orop op'>||</span> <span class='lparen token'>(</span><span class='tty? fid id'>tty?</span> <span class='andop op'>&amp;&amp;</span><span class='notop op'>!</span> <span class='fstr identifier id'>fstr</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='source_buffer identifier id'>source_buffer</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
      <span class='final_result identifier id'>final_result</span><span class='dot token'>.</span><span class='concat identifier id'>concat</span><span class='lparen token'>(</span><span class='result_buffer identifier id'>result_buffer</span><span class='rparen token'>)</span>
      <span class='break break kw'>break</span>
    <span class='end end kw'>end</span>

    <span class='source_buffer identifier id'>source_buffer</span> <span class='lshft op'>&lt;&lt;</span> <span class='gets identifier id'>gets</span>

    <span class='current_match identifier id'>current_match</span> <span class='assign token'>=</span> <span class='fstr identifier id'>fstr</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='source_buffer identifier id'>source_buffer</span><span class='rparen token'>)</span>

    <span class='spec identifier id'>spec</span> <span class='assign token'>=</span> <span class='fstr identifier id'>fstr</span><span class='dot token'>.</span><span class='last_spec_tried identifier id'>last_spec_tried</span>

    <span class='if if kw'>if</span> <span class='spec identifier id'>spec</span><span class='dot token'>.</span><span class='matched identifier id'>matched</span>
      <span class='if if kw'>if</span> <span class='spec identifier id'>spec</span><span class='dot token'>.</span><span class='mid_match? fid id'>mid_match?</span>
        <span class='result_buffer identifier id'>result_buffer</span><span class='dot token'>.</span><span class='replace identifier id'>replace</span><span class='lparen token'>(</span><span class='current_match identifier id'>current_match</span><span class='rparen token'>)</span>
        <span class='next next kw'>next</span>
      <span class='end end kw'>end</span>

    <span class='elsif elsif kw'>elsif</span> <span class='lparen token'>(</span><span class='fstr identifier id'>fstr</span><span class='dot token'>.</span><span class='matched_count identifier id'>matched_count</span> <span class='eq op'>==</span> <span class='fstr identifier id'>fstr</span><span class='dot token'>.</span><span class='spec_count identifier id'>spec_count</span> <span class='minus op'>-</span> <span class='integer val'>1</span><span class='rparen token'>)</span>
      <span class='if if kw'>if</span> <span class='regexp val'>/\A\s*\z/</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='fstr identifier id'>fstr</span><span class='dot token'>.</span><span class='string_left identifier id'>string_left</span><span class='rparen token'>)</span>
        <span class='break break kw'>break</span> <span class='if if_mod kw'>if</span> <span class='spec identifier id'>spec</span><span class='dot token'>.</span><span class='count_space? fid id'>count_space?</span>
        <span class='result_buffer identifier id'>result_buffer</span><span class='dot token'>.</span><span class='replace identifier id'>replace</span><span class='lparen token'>(</span><span class='current_match identifier id'>current_match</span><span class='rparen token'>)</span>
        <span class='next next kw'>next</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>

    <span class='final_result identifier id'>final_result</span><span class='dot token'>.</span><span class='concat identifier id'>concat</span><span class='lparen token'>(</span><span class='current_match identifier id'>current_match</span><span class='rparen token'>)</span>

    <span class='matched_so_far identifier id'>matched_so_far</span> <span class='opasgn op'>+=</span> <span class='source_buffer identifier id'>source_buffer</span><span class='dot token'>.</span><span class='size identifier id'>size</span>
    <span class='source_buffer identifier id'>source_buffer</span><span class='dot token'>.</span><span class='replace identifier id'>replace</span><span class='lparen token'>(</span><span class='fstr identifier id'>fstr</span><span class='dot token'>.</span><span class='string_left identifier id'>string_left</span><span class='rparen token'>)</span>
    <span class='matched_so_far identifier id'>matched_so_far</span> <span class='opasgn op'>-=</span> <span class='source_buffer identifier id'>source_buffer</span><span class='dot token'>.</span><span class='size identifier id'>size</span>
    <span class='break break kw'>break</span> <span class='if if_mod kw'>if</span> <span class='fstr identifier id'>fstr</span><span class='dot token'>.</span><span class='last_spec identifier id'>last_spec</span>
    <span class='fstr identifier id'>fstr</span><span class='dot token'>.</span><span class='prune identifier id'>prune</span>
  <span class='end end kw'>end</span>
  <span class='seek identifier id'>seek</span><span class='lparen token'>(</span><span class='start_position identifier id'>start_position</span> <span class='plus op'>+</span> <span class='matched_so_far identifier id'>matched_so_far</span><span class='comma token'>,</span> <span class='IO constant id'>IO</span><span class='colon2 op'>::</span><span class='SEEK_SET constant id'>SEEK_SET</span><span class='rparen token'>)</span> <span class='rescue rescue kw'>rescue</span> <span class='Errno constant id'>Errno</span><span class='colon2 op'>::</span><span class='ESPIPE constant id'>ESPIPE</span>
  <span class='soak_up_spaces identifier id'>soak_up_spaces</span> <span class='if if_mod kw'>if</span> <span class='fstr identifier id'>fstr</span><span class='dot token'>.</span><span class='last_spec identifier id'>last_spec</span> <span class='andop op'>&amp;&amp;</span> <span class='fstr identifier id'>fstr</span><span class='dot token'>.</span><span class='space identifier id'>space</span>

  <span class='return return kw'>return</span> <span class='final_result identifier id'>final_result</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>