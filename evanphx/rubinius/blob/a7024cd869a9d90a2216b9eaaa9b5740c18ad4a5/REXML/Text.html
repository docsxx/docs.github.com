<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>evanphx's rubinius - Class: REXML::Text - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/evanphx/commits/rubinius/master" rel="alternate" title="Recent Commits to rubinius:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("evanphx", "rubinius", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("evanphx", "rubinius", "a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/evanphx/rubinius/tree/">Source</a></li>
            <li class=""><a href="http://github.com/evanphx/rubinius/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/evanphx/rubinius/network">Network</a></li>            
            <li class=""><a href="http://github.com/evanphx/rubinius/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/evanphx/rubinius">Wiki</a></li>
            <li class=""><a href="http://github.com/evanphx/rubinius/graphs">Graphs</a></li>                    
            <li class="active"><a href="/evanphx/rubinius">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/evanphx">evanphx</a> / <b><a href="http://github.com/evanphx/rubinius/tree">rubinius</a></b>        
                <a id="namespaces_button" rel="evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class REXML_Text">
  <h1>Class: REXML::Text</h1>
  <div class="section inheritance">
  <ul>
  <li><a href="Child.html" title="REXML::Child">REXML::Child</a></li><ul><li>REXML::Text</li>
  </ul></ul>
</div><div class="section mixins">
  <h2>Included Modules</h2>
  <p>Comparable</p>
</div><div class="section docstring">
  <p>
Represents text nodes in an XML document
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">raw</td>
          <td class="readwrite">
            [<span id='raw-instance_method'>R</span><span id='raw=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
If <tt>raw</tt> is true, then REXML leaves the value alone.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="EREFERENCE-constant">EREFERENCE</dt>
      <dd>/&amp;(?!#{Entity::NAME};)/</dd>
    
      <dt id="ILLEGAL-constant">ILLEGAL</dt>
      <dd>/(&lt;|&amp;(?!(#{Entity::NAME})|(#0*((?:\d+)|(?:x[a-fA-F0-9]+)));))/um</dd>
    
      <dt id="NUMERICENTITY-constant">NUMERICENTITY</dt>
      <dd>/&amp;#0*((?:\d+)|(?:x[a-fA-F0-9]+));/ </dd>
    
      <dt id="REFERENCE-constant">REFERENCE</dt>
      <dd>/#{Entity::REFERENCE}/</dd>
    
      <dt id="SETUTITSBUS-constant">SETUTITSBUS</dt>
      <dd>[ /&amp;lt;/u, /&amp;gt;/u, /&amp;quot;/u, /&amp;apos;/u, /&amp;amp;/u ]</dd>
    
      <dt id="SLAICEPS-constant">SLAICEPS</dt>
      <dd>[ '&lt;', '&gt;', '&quot;', &quot;'&quot;, '&amp;' ]</dd>
    
      <dt id="SPECIALS-constant">SPECIALS</dt>
      <dd>[ /&amp;(?!#?[\w-]+;)/u, /&lt;/u, /&gt;/u, /&quot;/u, /'/u, /\r/u ]</dd>
    
      <dt id="SUBSTITUTES-constant">SUBSTITUTES</dt>
      <dd>['&amp;amp;', '&amp;lt;', '&amp;gt;', '&amp;quot;', '&amp;apos;', '&amp;#13;']</dd>
    
  </dl>
</div>

</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(arg, respect_whitespace = false, parent = nil, raw = nil, entity_filter = nil, illegal = ILLEGAL)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Constructor <tt>arg</tt> if a String, the content is set to the String. If
a Text, the object is shallowly cloned.
</p>
<p>
<tt>respect_whitespace</tt> (boolean, false) if true, whitespace is
respected
</p>
<p>
<tt>parent</tt> (nil) if this is a Parent object, the parent will be set to
this.
</p>
<p>
<tt>raw</tt> (nil) This argument can be given three values. If true, then
the value of used to construct this object is expected to contain no
unescaped XML markup, and REXML will not change the text. If this value is
false, the string may contain any characters, and REXML will escape any and
all defined entities whose values are contained in the text. If this value
is nil (the default), then the raw value of the parent will be used as the
raw value for this node. If there is no raw value for the parent, and no
value is supplied, the default is false. Use this field if you have
entities defined for some text, and you don&#8217;t want REXML to escape
that text in output.
</p>
<pre class="code">
  <span class='Text constant id'>Text</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span> <span class='string val'>&quot;&lt;&amp;&quot;</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='false false kw'>false</span> <span class='rparen token'>)</span> <span class='comment val'>#-&gt; &quot;&amp;lt;&amp;amp;&quot;</span>
  <span class='Text constant id'>Text</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span> <span class='string val'>&quot;&amp;lt;&amp;amp;&quot;</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='false false kw'>false</span> <span class='rparen token'>)</span> <span class='comment val'>#-&gt; &quot;&amp;amp;lt;&amp;amp;amp;&quot;</span>
  <span class='Text constant id'>Text</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span> <span class='string val'>&quot;&lt;&amp;&quot;</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='true true kw'>true</span> <span class='rparen token'>)</span>  <span class='comment val'>#-&gt; Parse exception</span>
  <span class='Text constant id'>Text</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span> <span class='string val'>&quot;&amp;lt;&amp;amp;&quot;</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='true true kw'>true</span> <span class='rparen token'>)</span>  <span class='comment val'>#-&gt; &quot;&amp;lt;&amp;amp;&quot;</span>
  <span class='comment val'># Assume that the entity &quot;s&quot; is defined to be &quot;sean&quot;</span>
  <span class='comment val'># and that the entity    &quot;r&quot; is defined to be &quot;russell&quot;</span>
  <span class='Text constant id'>Text</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span> <span class='string val'>&quot;sean russell&quot;</span> <span class='rparen token'>)</span>          <span class='comment val'>#-&gt; &quot;&amp;s; &amp;r;&quot;</span>
  <span class='Text constant id'>Text</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span> <span class='string val'>&quot;sean russell&quot;</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='true true kw'>true</span> <span class='rparen token'>)</span> <span class='comment val'>#-&gt; &quot;sean russell&quot;</span>
</pre>
<p>
<tt>entity_filter</tt> (nil) This can be an array of entities to match in
the supplied text. This argument is only useful if <tt>raw</tt> is set to
false.
</p>
<pre class="code">
  <span class='Text constant id'>Text</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span> <span class='string val'>&quot;sean russell&quot;</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='string val'>&quot;s&quot;</span><span class='rbrack token'>]</span> <span class='rparen token'>)</span> <span class='comment val'>#-&gt; &quot;&amp;s; russell&quot;</span>
  <span class='Text constant id'>Text</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span> <span class='string val'>&quot;sean russell&quot;</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='string val'>&quot;s&quot;</span><span class='rbrack token'>]</span> <span class='rparen token'>)</span> <span class='comment val'>#-&gt; &quot;sean russell&quot;</span>
</pre>
<p>
In the last example, the <tt>entity_filter</tt> argument is ignored.
</p>
<p>
<tt>pattern</tt> INTERNAL USE ONLY
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rexml/text.rb', line 60</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/rexml/text.rb#L60">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='comma token'>,</span> <span class='respect_whitespace identifier id'>respect_whitespace</span><span class='assign token'>=</span><span class='false false kw'>false</span><span class='comma token'>,</span> <span class='parent identifier id'>parent</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='raw identifier id'>raw</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> 
  <span class='entity_filter identifier id'>entity_filter</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='illegal identifier id'>illegal</span><span class='assign token'>=</span><span class='ILLEGAL constant id'>ILLEGAL</span> <span class='rparen token'>)</span>

  <span class='@raw ivar id'>@raw</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>

  <span class='if if kw'>if</span> <span class='parent identifier id'>parent</span>
    <span class='super super kw'>super</span><span class='lparen token'>(</span> <span class='parent identifier id'>parent</span> <span class='rparen token'>)</span>
    <span class='@raw ivar id'>@raw</span> <span class='assign token'>=</span> <span class='parent identifier id'>parent</span><span class='dot token'>.</span><span class='raw identifier id'>raw</span> 
  <span class='else else kw'>else</span>
    <span class='@parent ivar id'>@parent</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='end end kw'>end</span>

  <span class='@raw ivar id'>@raw</span> <span class='assign token'>=</span> <span class='raw identifier id'>raw</span> <span class='unless unless_mod kw'>unless</span> <span class='raw identifier id'>raw</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
  <span class='@entity_filter ivar id'>@entity_filter</span> <span class='assign token'>=</span> <span class='entity_filter identifier id'>entity_filter</span>
  <span class='@normalized ivar id'>@normalized</span> <span class='assign token'>=</span> <span class='@unnormalized ivar id'>@unnormalized</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>

  <span class='if if kw'>if</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span> <span class='String constant id'>String</span>
    <span class='@string ivar id'>@string</span> <span class='assign token'>=</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='clone identifier id'>clone</span>
    <span class='@string ivar id'>@string</span><span class='dot token'>.</span><span class='squeeze! fid id'>squeeze!</span><span class='lparen token'>(</span><span class='string val'>&quot; \n\t&quot;</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='respect_whitespace identifier id'>respect_whitespace</span>
  <span class='elsif elsif kw'>elsif</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span> <span class='Text constant id'>Text</span>
    <span class='@string ivar id'>@string</span> <span class='assign token'>=</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
    <span class='@raw ivar id'>@raw</span> <span class='assign token'>=</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='raw identifier id'>raw</span>
  <span class='elsif elsif kw'>elsif</span>
    <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Illegal argument of type #{arg.type} for Text constructor (#{arg})&quot;</span>
  <span class='end end kw'>end</span>

  <span class='@string ivar id'>@string</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span> <span class='regexp val'>/\r\n?/</span><span class='comma token'>,</span> <span class='string val'>&quot;\n&quot;</span> <span class='rparen token'>)</span>

  <span class='comment val'># check for illegal characters</span>
  <span class='if if kw'>if</span> <span class='@raw ivar id'>@raw</span>
    <span class='if if kw'>if</span> <span class='@string ivar id'>@string</span> <span class='match op'>=~</span> <span class='illegal identifier id'>illegal</span>
      <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Illegal character '#{$1}' in raw string \&quot;#{@string}\&quot;&quot;</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#normalize-class_method">normalize</span><span class='args'>(input, doctype = nil, entity_filter = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Escapes all possible entities.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#read_with_substitution-class_method">read_with_substitution</span><span class='args'>(input, illegal = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Reads text, substituting entities.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#unnormalize-class_method">unnormalize</span><span class='args'>(string, doctype = nil, filter = nil, illegal = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Unescapes all possible entities.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-3C-3C-instance_method">#<<</span><span class='args'>(to_append)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Appends text to this text node.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-3C-3D-instance_method">#<=</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
<tt>other</tt> a String or a Text <tt>returns</tt> the result of (to_s
&lt;=&gt; arg.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#clone-instance_method">#clone</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#empty-3F-instance_method">#empty?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#indent_text-instance_method">#indent_text</span><span class='args'>(string, level = 1, style = &quot;\t&quot;, indentfirstline = true)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#inspect-instance_method">#inspect</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#node_type-instance_method">#node_type</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_s-instance_method">#to_s</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the string value of this text node.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#value-instance_method">#value</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the string value of this text.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#value-3D-instance_method">#value=</span><span class='args'>(val)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Sets the contents of this text node.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#wrap-instance_method">#wrap</span><span class='args'>(string, width, addnewline = false)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#write-instance_method">#write</span><span class='args'>(writer, indent = -1, transitive = false, ie_hack = false)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <h2>DEPRECATED</h2>
<p>
See REXML::Formatters.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#write_with_substitution-instance_method">#write_with_substitution</span><span class='args'>(out, input)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Writes out text, substituting special characters beforehand.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#xpath-instance_method">#xpath</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
FIXME This probably won&#8217;t work properly.
</p>

        
      </td>
    </tr>
  
</table><div class="inherited">
  
  <div>
    <h2>Public Instance Methods Inherited from <a href="Child.html" title="REXML::Child">REXML::Child</a></h2>
    <p><span class='name'><a href="Child.html#bytes-instance_method" title="bytes">bytes</a></span>, <span class='name'><a href="Child.html#document-instance_method" title="document">document</a></span>, <span class='name'><a href="Child.html#next_sibling%3D-instance_method" title="next_sibling=">next_sibling=</a></span>, <span class='name'><a href="Child.html#parent%3D-instance_method" title="parent=">parent=</a></span>, <span class='name'><a href="Child.html#previous_sibling%3D-instance_method" title="previous_sibling=">previous_sibling=</a></span>, <span class='name'><a href="Child.html#remove-instance_method" title="remove">remove</a></span>, <span class='name'><a href="Child.html#replace_with-instance_method" title="replace_with">replace_with</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>normalize</h3>
</div><div id="normalize-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>normalize</span><span class='args'>(input, doctype = nil, entity_filter = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Escapes all possible entities
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rexml/text.rb', line 288</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/rexml/text.rb#L288">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='Text constant id'>Text</span><span class='colon2 op'>::</span><span class='normalize identifier id'>normalize</span><span class='lparen token'>(</span> <span class='input identifier id'>input</span><span class='comma token'>,</span> <span class='doctype identifier id'>doctype</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='entity_filter identifier id'>entity_filter</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span> <span class='rparen token'>)</span>
  <span class='copy identifier id'>copy</span> <span class='assign token'>=</span> <span class='input identifier id'>input</span>
  <span class='comment val'># Doing it like this rather than in a loop improves the speed</span>
  <span class='comment val'>#copy = copy.gsub( EREFERENCE, '&amp;amp;' )</span>
  <span class='copy identifier id'>copy</span> <span class='assign token'>=</span> <span class='copy identifier id'>copy</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span> <span class='string val'>&quot;&amp;&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;&amp;amp;&quot;</span> <span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='doctype identifier id'>doctype</span>
    <span class='comment val'># Replace all ampersands that aren't part of an entity</span>
    <span class='doctype identifier id'>doctype</span><span class='dot token'>.</span><span class='entities identifier id'>entities</span><span class='dot token'>.</span><span class='each_value identifier id'>each_value</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='entity identifier id'>entity</span><span class='bitor op'>|</span>
      <span class='copy identifier id'>copy</span> <span class='assign token'>=</span> <span class='copy identifier id'>copy</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span> <span class='entity identifier id'>entity</span><span class='dot token'>.</span><span class='value identifier id'>value</span><span class='comma token'>,</span> 
        <span class='dstring node'>&quot;&amp;#{entity.name};&quot;</span> <span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='entity identifier id'>entity</span><span class='dot token'>.</span><span class='value identifier id'>value</span> <span class='and and kw'>and</span> 
          <span class='not not kw'>not</span><span class='lparen token'>(</span> <span class='entity_filter identifier id'>entity_filter</span> <span class='and and kw'>and</span> <span class='entity_filter identifier id'>entity_filter</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='entity identifier id'>entity</span><span class='rparen token'>)</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='comment val'># Replace all ampersands that aren't part of an entity</span>
    <span class='DocType constant id'>DocType</span><span class='colon2 op'>::</span><span class='DEFAULT_ENTITIES constant id'>DEFAULT_ENTITIES</span><span class='dot token'>.</span><span class='each_value identifier id'>each_value</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='entity identifier id'>entity</span><span class='bitor op'>|</span>
      <span class='copy identifier id'>copy</span> <span class='assign token'>=</span> <span class='copy identifier id'>copy</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='entity identifier id'>entity</span><span class='dot token'>.</span><span class='value identifier id'>value</span><span class='comma token'>,</span> <span class='dstring node'>&quot;&amp;#{entity.name};&quot;</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='copy identifier id'>copy</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>read_with_substitution</h3>
</div><div id="read_with_substitution-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>read_with_substitution</span><span class='args'>(input, illegal = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Reads text, substituting entities
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rexml/text.rb', line 262</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/rexml/text.rb#L262">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='Text constant id'>Text</span><span class='colon2 op'>::</span><span class='read_with_substitution identifier id'>read_with_substitution</span><span class='lparen token'>(</span> <span class='input identifier id'>input</span><span class='comma token'>,</span> <span class='illegal identifier id'>illegal</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span> <span class='rparen token'>)</span>
  <span class='copy identifier id'>copy</span> <span class='assign token'>=</span> <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='clone identifier id'>clone</span>

  <span class='if if kw'>if</span> <span class='copy identifier id'>copy</span> <span class='match op'>=~</span> <span class='illegal identifier id'>illegal</span>
    <span class='raise identifier id'>raise</span> <span class='ParseException constant id'>ParseException</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span> <span class='dstring node'>&quot;malformed text: Illegal character #$&amp; in \&quot;#{copy}\&quot;&quot;</span> <span class='rparen token'>)</span>
  <span class='end end kw'>end</span> <span class='if if_mod kw'>if</span> <span class='illegal identifier id'>illegal</span>
  
  <span class='copy identifier id'>copy</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span> <span class='regexp val'>/\r\n?/</span><span class='comma token'>,</span> <span class='string val'>&quot;\n&quot;</span> <span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='copy identifier id'>copy</span><span class='dot token'>.</span><span class='include? fid id'>include?</span> <span class='question op'>?</span><span class='bitand op'>&amp;</span>
    <span class='copy identifier id'>copy</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span> <span class='SETUTITSBUS constant id'>SETUTITSBUS</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='SLAICEPS constant id'>SLAICEPS</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='rparen token'>)</span>
    <span class='copy identifier id'>copy</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span> <span class='SETUTITSBUS constant id'>SETUTITSBUS</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='SLAICEPS constant id'>SLAICEPS</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='rparen token'>)</span>
    <span class='copy identifier id'>copy</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span> <span class='SETUTITSBUS constant id'>SETUTITSBUS</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='SLAICEPS constant id'>SLAICEPS</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span> <span class='rparen token'>)</span>
    <span class='copy identifier id'>copy</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span> <span class='SETUTITSBUS constant id'>SETUTITSBUS</span><span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='SLAICEPS constant id'>SLAICEPS</span><span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='rparen token'>)</span>
    <span class='copy identifier id'>copy</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span> <span class='SETUTITSBUS constant id'>SETUTITSBUS</span><span class='lbrack token'>[</span><span class='integer val'>4</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='SLAICEPS constant id'>SLAICEPS</span><span class='lbrack token'>[</span><span class='integer val'>4</span><span class='rbrack token'>]</span> <span class='rparen token'>)</span>
    <span class='copy identifier id'>copy</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span> <span class='regexp val'>/&amp;#0*((?:\d+)|(?:x[a-f0-9]+));/</span> <span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='m identifier id'>m</span><span class='bitor op'>|</span>
      <span class='m identifier id'>m</span><span class='assign token'>=</span><span class='$1 nth_ref id'>$1</span>
      <span class='comment val'>#m='0' if m==''</span>
      <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;0#{m}&quot;</span> <span class='if if_mod kw'>if</span> <span class='m identifier id'>m</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='integer val'>?x</span>
      <span class='lbrack token'>[</span><span class='Integer constant id'>Integer</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='rparen token'>)</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='pack identifier id'>pack</span><span class='lparen token'>(</span><span class='string val'>'U*'</span><span class='rparen token'>)</span>
    <span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
  <span class='copy identifier id'>copy</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>unnormalize</h3>
</div><div id="unnormalize-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>unnormalize</span><span class='args'>(string, doctype = nil, filter = nil, illegal = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Unescapes all possible entities
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rexml/text.rb', line 310</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/rexml/text.rb#L310">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='Text constant id'>Text</span><span class='colon2 op'>::</span><span class='unnormalize identifier id'>unnormalize</span><span class='lparen token'>(</span> <span class='string identifier id'>string</span><span class='comma token'>,</span> <span class='doctype identifier id'>doctype</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='filter identifier id'>filter</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='illegal identifier id'>illegal</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span> <span class='rparen token'>)</span>
  <span class='rv identifier id'>rv</span> <span class='assign token'>=</span> <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='clone identifier id'>clone</span>
  <span class='rv identifier id'>rv</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span> <span class='regexp val'>/\r\n?/</span><span class='comma token'>,</span> <span class='string val'>&quot;\n&quot;</span> <span class='rparen token'>)</span>
  <span class='matches identifier id'>matches</span> <span class='assign token'>=</span> <span class='rv identifier id'>rv</span><span class='dot token'>.</span><span class='scan identifier id'>scan</span><span class='lparen token'>(</span> <span class='REFERENCE constant id'>REFERENCE</span> <span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='rv identifier id'>rv</span> <span class='if if_mod kw'>if</span> <span class='matches identifier id'>matches</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='eq op'>==</span> <span class='integer val'>0</span>
  <span class='rv identifier id'>rv</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span> <span class='NUMERICENTITY constant id'>NUMERICENTITY</span> <span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='m identifier id'>m</span><span class='bitor op'>|</span>
    <span class='m identifier id'>m</span><span class='assign token'>=</span><span class='$1 nth_ref id'>$1</span>
    <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;0#{m}&quot;</span> <span class='if if_mod kw'>if</span> <span class='m identifier id'>m</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='integer val'>?x</span>
    <span class='lbrack token'>[</span><span class='Integer constant id'>Integer</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='rparen token'>)</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='pack identifier id'>pack</span><span class='lparen token'>(</span><span class='string val'>'U*'</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
  <span class='matches identifier id'>matches</span><span class='dot token'>.</span><span class='collect! fid id'>collect!</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='compact! fid id'>compact!</span>
  <span class='if if kw'>if</span> <span class='matches identifier id'>matches</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>
    <span class='if if kw'>if</span> <span class='doctype identifier id'>doctype</span>
      <span class='matches identifier id'>matches</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='entity_reference identifier id'>entity_reference</span><span class='bitor op'>|</span>
        <span class='unless unless kw'>unless</span> <span class='filter identifier id'>filter</span> <span class='and and kw'>and</span> <span class='filter identifier id'>filter</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='entity_reference identifier id'>entity_reference</span><span class='rparen token'>)</span>
          <span class='entity_value identifier id'>entity_value</span> <span class='assign token'>=</span> <span class='doctype identifier id'>doctype</span><span class='dot token'>.</span><span class='entity identifier id'>entity</span><span class='lparen token'>(</span> <span class='entity_reference identifier id'>entity_reference</span> <span class='rparen token'>)</span>
          <span class='re identifier id'>re</span> <span class='assign token'>=</span> <span class='dregexp node'>/&amp;#{entity_reference};/</span>
          <span class='rv identifier id'>rv</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span> <span class='re identifier id'>re</span><span class='comma token'>,</span> <span class='entity_value identifier id'>entity_value</span> <span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='entity_value identifier id'>entity_value</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='else else kw'>else</span>
      <span class='matches identifier id'>matches</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='entity_reference identifier id'>entity_reference</span><span class='bitor op'>|</span>
        <span class='unless unless kw'>unless</span> <span class='filter identifier id'>filter</span> <span class='and and kw'>and</span> <span class='filter identifier id'>filter</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='entity_reference identifier id'>entity_reference</span><span class='rparen token'>)</span>
          <span class='entity_value identifier id'>entity_value</span> <span class='assign token'>=</span> <span class='DocType constant id'>DocType</span><span class='colon2 op'>::</span><span class='DEFAULT_ENTITIES constant id'>DEFAULT_ENTITIES</span><span class='lbrack token'>[</span> <span class='entity_reference identifier id'>entity_reference</span> <span class='rbrack token'>]</span>
          <span class='re identifier id'>re</span> <span class='assign token'>=</span> <span class='dregexp node'>/&amp;#{entity_reference};/</span>
          <span class='rv identifier id'>rv</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span> <span class='re identifier id'>re</span><span class='comma token'>,</span> <span class='entity_value identifier id'>entity_value</span><span class='dot token'>.</span><span class='value identifier id'>value</span> <span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='entity_value identifier id'>entity_value</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='rv identifier id'>rv</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span> <span class='regexp val'>/&amp;amp;/</span><span class='comma token'>,</span> <span class='string val'>'&amp;'</span> <span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='rv identifier id'>rv</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>&lt;&lt;</h3>
</div><div id="-3C-3C-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'><<</span><span class='args'>(to_append)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Appends text to this text node. The text is appended in the <tt>raw</tt>
mode of this text node.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rexml/text.rb', line 112</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/rexml/text.rb#L112">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">112
113
114</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='lshft op'>&lt;&lt;</span><span class='lparen token'>(</span> <span class='to_append identifier id'>to_append</span> <span class='rparen token'>)</span>
  <span class='@string ivar id'>@string</span> <span class='lshft op'>&lt;&lt;</span> <span class='to_append identifier id'>to_append</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span> <span class='regexp val'>/\r\n?/</span><span class='comma token'>,</span> <span class='string val'>&quot;\n&quot;</span> <span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>&lt;=</h3>
</div><div id="-3C-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'><=</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
<tt>other</tt> a String or a Text <tt>returns</tt> the result of (to_s
&lt;=&gt; arg.to_s)
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rexml/text.rb', line 119</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/rexml/text.rb#L119">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">119
120
121</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='cmp op'>&lt;=&gt;</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
  <span class='to_s identifier id'>to_s</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='cmp op'>&lt;=&gt;</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>clone</h3>
</div><div id="clone-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>clone</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rexml/text.rb', line 105</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/rexml/text.rb#L105">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">105
106
107</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='clone identifier id'>clone</span>
  <span class='return return kw'>return</span> <span class='Text constant id'>Text</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>empty?</h3>
</div><div id="empty-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>empty?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rexml/text.rb', line 100</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/rexml/text.rb#L100">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">100
101
102</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='empty? fid id'>empty?</span>
  <span class='@string ivar id'>@string</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='eq op'>==</span><span class='integer val'>0</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>indent_text</h3>
</div><div id="indent_text-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>indent_text</span><span class='args'>(string, level = 1, style = &quot;\t&quot;, indentfirstline = true)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rexml/text.rb', line 202</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/rexml/text.rb#L202">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">202
203
204
205
206
207
208
209
210
211
212</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='indent_text identifier id'>indent_text</span><span class='lparen token'>(</span><span class='string identifier id'>string</span><span class='comma token'>,</span> <span class='level identifier id'>level</span><span class='assign token'>=</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='style identifier id'>style</span><span class='assign token'>=</span><span class='string val'>&quot;\t&quot;</span><span class='comma token'>,</span> <span class='indentfirstline identifier id'>indentfirstline</span><span class='assign token'>=</span><span class='true true kw'>true</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='string identifier id'>string</span> <span class='if if_mod kw'>if</span> <span class='level identifier id'>level</span> <span class='lt op'>&lt;</span> <span class='integer val'>0</span>
  <span class='new_string identifier id'>new_string</span> <span class='assign token'>=</span> <span class='string val'>''</span>
  <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='line identifier id'>line</span><span class='bitor op'>|</span>
    <span class='indent_string identifier id'>indent_string</span> <span class='assign token'>=</span> <span class='style identifier id'>style</span> <span class='mult op'>*</span> <span class='level identifier id'>level</span>
    <span class='new_line identifier id'>new_line</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='indent_string identifier id'>indent_string</span> <span class='plus op'>+</span> <span class='line identifier id'>line</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='sub identifier id'>sub</span><span class='lparen token'>(</span><span class='regexp val'>/[\s]+$/</span><span class='comma token'>,</span><span class='string val'>''</span><span class='rparen token'>)</span>
    <span class='new_string identifier id'>new_string</span> <span class='lshft op'>&lt;&lt;</span> <span class='new_line identifier id'>new_line</span>
  <span class='rbrace token'>}</span>
  <span class='new_string identifier id'>new_string</span><span class='dot token'>.</span><span class='strip! fid id'>strip!</span> <span class='unless unless_mod kw'>unless</span> <span class='indentfirstline identifier id'>indentfirstline</span>
  <span class='return return kw'>return</span> <span class='new_string identifier id'>new_string</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>inspect</h3>
</div><div id="inspect-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>inspect</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rexml/text.rb', line 150</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/rexml/text.rb#L150">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">150
151
152</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='inspect identifier id'>inspect</span>
  <span class='@string ivar id'>@string</span><span class='dot token'>.</span><span class='inspect identifier id'>inspect</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>node_type</h3>
</div><div id="node_type-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>node_type</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rexml/text.rb', line 96</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/rexml/text.rb#L96">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">96
97
98</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='node_type identifier id'>node_type</span>
  <span class='symbol val'>:text</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_s</h3>
</div><div id="to_s-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_s</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the string value of this text node. This string is always escaped,
meaning that it is a valid XML text node string, and all entities that can
be escaped, have been inserted. This method respects the entity filter set
in the constructor.
</p>
<pre class="code">
  <span class='comment val'># Assume that the entity &quot;s&quot; is defined to be &quot;sean&quot;, and that the</span>
  <span class='comment val'># entity &quot;r&quot; is defined to be &quot;russell&quot;</span>
  <span class='t identifier id'>t</span> <span class='assign token'>=</span> <span class='Text constant id'>Text</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span> <span class='string val'>&quot;&lt; &amp; sean russell&quot;</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='string val'>'s'</span><span class='rbrack token'>]</span> <span class='rparen token'>)</span>
  <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>   <span class='comment val'>#-&gt; &quot;&amp;lt; &amp;amp; &amp;s; russell&quot;</span>
  <span class='t identifier id'>t</span> <span class='assign token'>=</span> <span class='Text constant id'>Text</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span> <span class='string val'>&quot;&lt; &amp; &amp;s; russell&quot;</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='false false kw'>false</span> <span class='rparen token'>)</span>
  <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>   <span class='comment val'>#-&gt; &quot;&amp;lt; &amp;amp; &amp;s; russell&quot;</span>
  <span class='u identifier id'>u</span> <span class='assign token'>=</span> <span class='Text constant id'>Text</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span> <span class='string val'>&quot;sean russell&quot;</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='true true kw'>true</span> <span class='rparen token'>)</span>
  <span class='u identifier id'>u</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>   <span class='comment val'>#-&gt; &quot;sean russell&quot;</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rexml/text.rb', line 137</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/rexml/text.rb#L137">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">137
138
139
140
141
142
143
144
145
146
147
148</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_s identifier id'>to_s</span>
  <span class='return return kw'>return</span> <span class='@string ivar id'>@string</span> <span class='if if_mod kw'>if</span> <span class='@raw ivar id'>@raw</span>
  <span class='return return kw'>return</span> <span class='@normalized ivar id'>@normalized</span> <span class='if if_mod kw'>if</span> <span class='@normalized ivar id'>@normalized</span>

  <span class='doctype identifier id'>doctype</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='if if kw'>if</span> <span class='@parent ivar id'>@parent</span>
    <span class='doc identifier id'>doc</span> <span class='assign token'>=</span> <span class='@parent ivar id'>@parent</span><span class='dot token'>.</span><span class='document identifier id'>document</span>
    <span class='doctype identifier id'>doctype</span> <span class='assign token'>=</span> <span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='doctype identifier id'>doctype</span> <span class='if if_mod kw'>if</span> <span class='doc identifier id'>doc</span>
  <span class='end end kw'>end</span>

  <span class='@normalized ivar id'>@normalized</span> <span class='assign token'>=</span> <span class='Text constant id'>Text</span><span class='colon2 op'>::</span><span class='normalize identifier id'>normalize</span><span class='lparen token'>(</span> <span class='@string ivar id'>@string</span><span class='comma token'>,</span> <span class='doctype identifier id'>doctype</span><span class='comma token'>,</span> <span class='@entity_filter ivar id'>@entity_filter</span> <span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>value</h3>
</div><div id="value-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>value</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the string value of this text. This is the text without entities,
as it might be used programmatically, or printed to the console. This
ignores the &#8216;raw&#8217; attribute setting, and any entity_filter.
</p>
<pre class="code">
  <span class='comment val'># Assume that the entity &quot;s&quot; is defined to be &quot;sean&quot;, and that the</span>
  <span class='comment val'># entity &quot;r&quot; is defined to be &quot;russell&quot;</span>
  <span class='t identifier id'>t</span> <span class='assign token'>=</span> <span class='Text constant id'>Text</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span> <span class='string val'>&quot;&lt; &amp; sean russell&quot;</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='string val'>'s'</span><span class='rbrack token'>]</span> <span class='rparen token'>)</span>
  <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='value identifier id'>value</span>   <span class='comment val'>#-&gt; &quot;&lt; &amp; sean russell&quot;</span>
  <span class='t identifier id'>t</span> <span class='assign token'>=</span> <span class='Text constant id'>Text</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span> <span class='string val'>&quot;&lt; &amp; &amp;s; russell&quot;</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='false false kw'>false</span> <span class='rparen token'>)</span>
  <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='value identifier id'>value</span>   <span class='comment val'>#-&gt; &quot;&lt; &amp; sean russell&quot;</span>
  <span class='u identifier id'>u</span> <span class='assign token'>=</span> <span class='Text constant id'>Text</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span> <span class='string val'>&quot;sean russell&quot;</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='true true kw'>true</span> <span class='rparen token'>)</span>
  <span class='u identifier id'>u</span><span class='dot token'>.</span><span class='value identifier id'>value</span>   <span class='comment val'>#-&gt; &quot;sean russell&quot;</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rexml/text.rb', line 167</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/rexml/text.rb#L167">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">167
168
169
170
171
172
173
174
175</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='value identifier id'>value</span>
  <span class='@unnormalized ivar id'>@unnormalized</span> <span class='if if_mod kw'>if</span> <span class='@unnormalized ivar id'>@unnormalized</span>
  <span class='doctype identifier id'>doctype</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='if if kw'>if</span> <span class='@parent ivar id'>@parent</span>
    <span class='doc identifier id'>doc</span> <span class='assign token'>=</span> <span class='@parent ivar id'>@parent</span><span class='dot token'>.</span><span class='document identifier id'>document</span>
    <span class='doctype identifier id'>doctype</span> <span class='assign token'>=</span> <span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='doctype identifier id'>doctype</span> <span class='if if_mod kw'>if</span> <span class='doc identifier id'>doc</span>
  <span class='end end kw'>end</span>
  <span class='@unnormalized ivar id'>@unnormalized</span> <span class='assign token'>=</span> <span class='Text constant id'>Text</span><span class='colon2 op'>::</span><span class='unnormalize identifier id'>unnormalize</span><span class='lparen token'>(</span> <span class='@string ivar id'>@string</span><span class='comma token'>,</span> <span class='doctype identifier id'>doctype</span> <span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>value=</h3>
</div><div id="value-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>value=</span><span class='args'>(val)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Sets the contents of this text node. This expects the text to be
unnormalized. It returns self.
</p>
<pre class="code">
  <span class='e identifier id'>e</span> <span class='assign token'>=</span> <span class='Element constant id'>Element</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span> <span class='string val'>&quot;a&quot;</span> <span class='rparen token'>)</span>
  <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='add_text identifier id'>add_text</span><span class='lparen token'>(</span> <span class='string val'>&quot;foo&quot;</span> <span class='rparen token'>)</span>   <span class='comment val'># &lt;a&gt;foo&lt;/a&gt;</span>
  <span class='e identifier id'>e</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='string val'>&quot;bar&quot;</span>    <span class='comment val'># &lt;a&gt;bar&lt;/a&gt;</span>
  <span class='e identifier id'>e</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='string val'>&quot;&lt;a&gt;&quot;</span>    <span class='comment val'># &lt;a&gt;&amp;lt;a&amp;gt;&lt;/a&gt;</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rexml/text.rb', line 184</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/rexml/text.rb#L184">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">184
185
186
187
188
189</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='value= identifier id'>value=</span><span class='lparen token'>(</span> <span class='val identifier id'>val</span> <span class='rparen token'>)</span>
  <span class='@string ivar id'>@string</span> <span class='assign token'>=</span> <span class='val identifier id'>val</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span> <span class='regexp val'>/\r\n?/</span><span class='comma token'>,</span> <span class='string val'>&quot;\n&quot;</span> <span class='rparen token'>)</span>
  <span class='@unnormalized ivar id'>@unnormalized</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@normalized ivar id'>@normalized</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@raw ivar id'>@raw</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>wrap</h3>
</div><div id="wrap-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>wrap</span><span class='args'>(string, width, addnewline = false)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rexml/text.rb', line 191</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/rexml/text.rb#L191">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">191
192
193
194
195
196
197
198
199
200</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='wrap identifier id'>wrap</span><span class='lparen token'>(</span><span class='string identifier id'>string</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='comma token'>,</span> <span class='addnewline identifier id'>addnewline</span><span class='assign token'>=</span><span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='comment val'># Recursivly wrap string at width.</span>
  <span class='return return kw'>return</span> <span class='string identifier id'>string</span> <span class='if if_mod kw'>if</span> <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='leq op'>&lt;=</span> <span class='width identifier id'>width</span>
  <span class='place identifier id'>place</span> <span class='assign token'>=</span> <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='rindex identifier id'>rindex</span><span class='lparen token'>(</span><span class='string val'>' '</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='rparen token'>)</span> <span class='comment val'># Position in string with last ' ' before cutoff</span>
  <span class='if if kw'>if</span> <span class='addnewline identifier id'>addnewline</span> <span class='then then kw'>then</span>
    <span class='return return kw'>return</span> <span class='string val'>&quot;\n&quot;</span> <span class='plus op'>+</span> <span class='string identifier id'>string</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span><span class='place identifier id'>place</span><span class='rbrack token'>]</span> <span class='plus op'>+</span> <span class='string val'>&quot;\n&quot;</span> <span class='plus op'>+</span> <span class='wrap identifier id'>wrap</span><span class='lparen token'>(</span><span class='string identifier id'>string</span><span class='lbrack token'>[</span><span class='place identifier id'>place</span><span class='plus op'>+</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='return return kw'>return</span> <span class='string identifier id'>string</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span><span class='place identifier id'>place</span><span class='rbrack token'>]</span> <span class='plus op'>+</span> <span class='string val'>&quot;\n&quot;</span> <span class='plus op'>+</span> <span class='wrap identifier id'>wrap</span><span class='lparen token'>(</span><span class='string identifier id'>string</span><span class='lbrack token'>[</span><span class='place identifier id'>place</span><span class='plus op'>+</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>write</h3>
</div><div id="write-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>write</span><span class='args'>(writer, indent = -1, transitive = false, ie_hack = false)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <h2>DEPRECATED</h2>
<p>
See REXML::Formatters
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rexml/text.rb', line 217</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/rexml/text.rb#L217">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">217
218
219
220
221
222
223
224
225</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='write identifier id'>write</span><span class='lparen token'>(</span> <span class='writer identifier id'>writer</span><span class='comma token'>,</span> <span class='indent identifier id'>indent</span><span class='assign token'>=</span><span class='integer val'>-1</span><span class='comma token'>,</span> <span class='transitive identifier id'>transitive</span><span class='assign token'>=</span><span class='false false kw'>false</span><span class='comma token'>,</span> <span class='ie_hack identifier id'>ie_hack</span><span class='assign token'>=</span><span class='false false kw'>false</span> <span class='rparen token'>)</span> 
  <span class='Kernel constant id'>Kernel</span><span class='dot token'>.</span><span class='warn identifier id'>warn</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{self.class.name}.write is deprecated.  See REXML::Formatters&quot;</span><span class='rparen token'>)</span>
  <span class='formatter identifier id'>formatter</span> <span class='assign token'>=</span> <span class='if if kw'>if</span> <span class='indent identifier id'>indent</span> <span class='gt op'>&gt;</span> <span class='integer val'>-1</span>
      <span class='REXML constant id'>REXML</span><span class='colon2 op'>::</span><span class='Formatters constant id'>Formatters</span><span class='colon2 op'>::</span><span class='Pretty constant id'>Pretty</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span> <span class='indent identifier id'>indent</span> <span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='REXML constant id'>REXML</span><span class='colon2 op'>::</span><span class='Formatters constant id'>Formatters</span><span class='colon2 op'>::</span><span class='Default constant id'>Default</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
    <span class='end end kw'>end</span>
  <span class='formatter identifier id'>formatter</span><span class='dot token'>.</span><span class='write identifier id'>write</span><span class='lparen token'>(</span> <span class='self self kw'>self</span><span class='comma token'>,</span> <span class='writer identifier id'>writer</span> <span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>write_with_substitution</h3>
</div><div id="write_with_substitution-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>write_with_substitution</span><span class='args'>(out, input)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Writes out text, substituting special characters beforehand. <tt>out</tt> A
String, IO, or any other object supporting &lt;&lt;( String )
<tt>input</tt> the text to substitute and the write out
</p>
<pre class="code">
  <span class='z identifier id'>z</span><span class='assign token'>=</span><span class='utf8 identifier id'>utf8</span><span class='dot token'>.</span><span class='unpack identifier id'>unpack</span><span class='lparen token'>(</span><span class='string val'>&quot;U*&quot;</span><span class='rparen token'>)</span>
  <span class='ascOut identifier id'>ascOut</span><span class='assign token'>=</span><span class='string val'>&quot;&quot;</span>
  <span class='z identifier id'>z</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='r identifier id'>r</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='r identifier id'>r</span> <span class='lt op'>&lt;</span>  <span class='integer val'>0x100</span>
      <span class='ascOut identifier id'>ascOut</span><span class='dot token'>.</span><span class='concat identifier id'>concat</span><span class='lparen token'>(</span><span class='r identifier id'>r</span><span class='dot token'>.</span><span class='chr identifier id'>chr</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='ascOut identifier id'>ascOut</span><span class='dot token'>.</span><span class='concat identifier id'>concat</span><span class='lparen token'>(</span><span class='sprintf identifier id'>sprintf</span><span class='lparen token'>(</span><span class='string val'>&quot;&amp;#x%x;&quot;</span><span class='comma token'>,</span> <span class='r identifier id'>r</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='rbrace token'>}</span>
  <span class='puts identifier id'>puts</span> <span class='ascOut identifier id'>ascOut</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rexml/text.rb', line 249</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/rexml/text.rb#L249">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">249
250
251
252
253
254
255
256
257
258
259</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='write_with_substitution identifier id'>write_with_substitution</span> <span class='out identifier id'>out</span><span class='comma token'>,</span> <span class='input identifier id'>input</span>
  <span class='copy identifier id'>copy</span> <span class='assign token'>=</span> <span class='input identifier id'>input</span><span class='dot token'>.</span><span class='clone identifier id'>clone</span>
  <span class='comment val'># Doing it like this rather than in a loop improves the speed</span>
  <span class='copy identifier id'>copy</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span> <span class='SPECIALS constant id'>SPECIALS</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='SUBSTITUTES constant id'>SUBSTITUTES</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='rparen token'>)</span>
  <span class='copy identifier id'>copy</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span> <span class='SPECIALS constant id'>SPECIALS</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='SUBSTITUTES constant id'>SUBSTITUTES</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='rparen token'>)</span>
  <span class='copy identifier id'>copy</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span> <span class='SPECIALS constant id'>SPECIALS</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='SUBSTITUTES constant id'>SUBSTITUTES</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span> <span class='rparen token'>)</span>
  <span class='copy identifier id'>copy</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span> <span class='SPECIALS constant id'>SPECIALS</span><span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='SUBSTITUTES constant id'>SUBSTITUTES</span><span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span> <span class='rparen token'>)</span>
  <span class='copy identifier id'>copy</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span> <span class='SPECIALS constant id'>SPECIALS</span><span class='lbrack token'>[</span><span class='integer val'>4</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='SUBSTITUTES constant id'>SUBSTITUTES</span><span class='lbrack token'>[</span><span class='integer val'>4</span><span class='rbrack token'>]</span> <span class='rparen token'>)</span>
  <span class='copy identifier id'>copy</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span> <span class='SPECIALS constant id'>SPECIALS</span><span class='lbrack token'>[</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='SUBSTITUTES constant id'>SUBSTITUTES</span><span class='lbrack token'>[</span><span class='integer val'>5</span><span class='rbrack token'>]</span> <span class='rparen token'>)</span>
  <span class='out identifier id'>out</span> <span class='lshft op'>&lt;&lt;</span> <span class='copy identifier id'>copy</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>xpath</h3>
</div><div id="xpath-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>xpath</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
FIXME This probably won&#8217;t work properly
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rexml/text.rb', line 229</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/rexml/text.rb#L229">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">229
230
231
232
233</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='xpath identifier id'>xpath</span>
  <span class='path identifier id'>path</span> <span class='assign token'>=</span> <span class='@parent ivar id'>@parent</span><span class='dot token'>.</span><span class='xpath identifier id'>xpath</span>
  <span class='path identifier id'>path</span> <span class='opasgn op'>+=</span> <span class='string val'>&quot;/text()&quot;</span>
  <span class='return return kw'>return</span> <span class='path identifier id'>path</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>