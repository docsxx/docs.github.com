<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>evanphx's rubinius - Class: Net::SMTP - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/evanphx/commits/rubinius/master" rel="alternate" title="Recent Commits to rubinius:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("evanphx", "rubinius", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("evanphx", "rubinius", "a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/evanphx/rubinius/tree/">Source</a></li>
            <li class=""><a href="http://github.com/evanphx/rubinius/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/evanphx/rubinius/network">Network</a></li>            
            <li class=""><a href="http://github.com/evanphx/rubinius/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/evanphx/rubinius">Wiki</a></li>
            <li class=""><a href="http://github.com/evanphx/rubinius/graphs">Graphs</a></li>                    
            <li class="active"><a href="/evanphx/rubinius">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/evanphx">evanphx</a> / <b><a href="http://github.com/evanphx/rubinius/tree">rubinius</a></b>        
                <a id="namespaces_button" rel="evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Net_SMTP">
  <h1>Class: Net::SMTP</h1>
  <div class="section docstring">
  <h1>Net::SMTP</h1>
<h2>What is This Library?</h2>
<p>
This library provides functionality to send internet mail via SMTP, the
Simple Mail Transfer Protocol. For details of SMTP itself, see [RFC2821]
(http://www.ietf.org/rfc/rfc2821.txt).
</p>
<h2>What is This Library NOT?</h2>
<p>
This library does NOT provide functions to compose internet mails. You must
create them by yourself. If you want better mail support, try RubyMail or
TMail. You can get both libraries from RAA.
(http://www.ruby-lang.org/en/raa.html)
</p>
<p>
FYI: the official documentation on internet mail is: [RFC2822]
(http://www.ietf.org/rfc/rfc2822.txt).
</p>
<h2>Examples</h2>
<h3>Sending Messages</h3>
<p>
You must open a connection to an SMTP server before sending messages. The
first argument is the address of your SMTP server, and the second argument
is the port number. Using SMTP.start with a block is the simplest way to do
this. This way, the SMTP connection is closed automatically after the block
is executed.
</p>
<pre class="code">
    <span class='require identifier id'>require</span> <span class='string val'>'net/smtp'</span>
    <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='SMTP constant id'>SMTP</span><span class='dot token'>.</span><span class='start identifier id'>start</span><span class='lparen token'>(</span><span class='string val'>'your.smtp.server'</span><span class='comma token'>,</span> <span class='integer val'>25</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='smtp identifier id'>smtp</span><span class='bitor op'>|</span>
      <span class='comment val'># Use the SMTP object smtp only in this block.</span>
    <span class='end end kw'>end</span>
</pre>
<p>
Replace &#8216;your.smtp.server&#8217; with your SMTP server. Normally your
system manager or internet provider supplies a server for you.
</p>
<p>
Then you can send messages.
</p>
<pre class="code">
    <span class='msgstr identifier id'>msgstr</span> <span class='assign token'>=</span> <span class='string val'>&quot;    From: Your Name &lt;your@mail.address&gt;\n    To: Destination Address &lt;someone@example.com&gt;\n    Subject: test message\n    Date: Sat, 23 Jun 2001 16:26:43 +0900\n    Message-Id: &lt;unique.message.id.string@example.com&gt;\n\n    This is a test message.\n    END_OF_MESSAGE\n\n    require 'net/smtp'\n    Net::SMTP.start('your.smtp.server', 25) do |smtp|\n      smtp.send_message msgstr,\n                        'your@mail.address',\n                        'his_addess@example.com'\n    end\n&quot;</span>
</pre>
<h3>Closing the Session</h3>
<p>
You MUST close the SMTP session after sending messages, by calling the
#finish method:
</p>
<pre class="code">
    <span class='comment val'># using SMTP#finish</span>
    <span class='smtp identifier id'>smtp</span> <span class='assign token'>=</span> <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='SMTP constant id'>SMTP</span><span class='dot token'>.</span><span class='start identifier id'>start</span><span class='lparen token'>(</span><span class='string val'>'your.smtp.server'</span><span class='comma token'>,</span> <span class='integer val'>25</span><span class='rparen token'>)</span>
    <span class='smtp identifier id'>smtp</span><span class='dot token'>.</span><span class='send_message identifier id'>send_message</span> <span class='msgstr identifier id'>msgstr</span><span class='comma token'>,</span> <span class='string val'>'from@address'</span><span class='comma token'>,</span> <span class='string val'>'to@address'</span>
    <span class='smtp identifier id'>smtp</span><span class='dot token'>.</span><span class='finish identifier id'>finish</span>
</pre>
<p>
You can also use the block form of SMTP.start/SMTP#start. This closes the
SMTP session automatically:
</p>
<pre class="code">
    <span class='comment val'># using block form of SMTP.start</span>
    <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='SMTP constant id'>SMTP</span><span class='dot token'>.</span><span class='start identifier id'>start</span><span class='lparen token'>(</span><span class='string val'>'your.smtp.server'</span><span class='comma token'>,</span> <span class='integer val'>25</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='smtp identifier id'>smtp</span><span class='bitor op'>|</span>
      <span class='smtp identifier id'>smtp</span><span class='dot token'>.</span><span class='send_message identifier id'>send_message</span> <span class='msgstr identifier id'>msgstr</span><span class='comma token'>,</span> <span class='string val'>'from@address'</span><span class='comma token'>,</span> <span class='string val'>'to@address'</span>
    <span class='end end kw'>end</span>
</pre>
<p>
I strongly recommend this scheme. This form is simpler and more robust.
</p>
<h3>HELO domain</h3>
<p>
In almost all situations, you must provide a third argument to
SMTP.start/SMTP#start. This is the domain name which you are on (the host
to send mail from). It is called the &quot;HELO domain&quot;. The SMTP
server will judge whether it should send or reject the SMTP session by
inspecting the HELO domain.
</p>
<pre class="code">
    <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='SMTP constant id'>SMTP</span><span class='dot token'>.</span><span class='start identifier id'>start</span><span class='lparen token'>(</span><span class='string val'>'your.smtp.server'</span><span class='comma token'>,</span> <span class='integer val'>25</span><span class='comma token'>,</span>
                    <span class='string val'>'mail.from.domain'</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='smtp identifier id'>smtp</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
</pre>
<h3>SMTP Authentication</h3>
<p>
The Net::SMTP class supports three authentication schemes; PLAIN, LOGIN and
CRAM MD5. (SMTP Authentication: [RFC2554]) To use SMTP authentication, pass
extra arguments to SMTP.start/SMTP#start.
</p>
<pre class="code">
    <span class='comment val'># PLAIN</span>
    <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='SMTP constant id'>SMTP</span><span class='dot token'>.</span><span class='start identifier id'>start</span><span class='lparen token'>(</span><span class='string val'>'your.smtp.server'</span><span class='comma token'>,</span> <span class='integer val'>25</span><span class='comma token'>,</span> <span class='string val'>'mail.from.domain'</span><span class='comma token'>,</span>
                    <span class='string val'>'Your Account'</span><span class='comma token'>,</span> <span class='string val'>'Your Password'</span><span class='comma token'>,</span> <span class='symbol val'>:plain</span><span class='rparen token'>)</span>
    <span class='comment val'># LOGIN</span>
    <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='SMTP constant id'>SMTP</span><span class='dot token'>.</span><span class='start identifier id'>start</span><span class='lparen token'>(</span><span class='string val'>'your.smtp.server'</span><span class='comma token'>,</span> <span class='integer val'>25</span><span class='comma token'>,</span> <span class='string val'>'mail.from.domain'</span><span class='comma token'>,</span>
                    <span class='string val'>'Your Account'</span><span class='comma token'>,</span> <span class='string val'>'Your Password'</span><span class='comma token'>,</span> <span class='symbol val'>:login</span><span class='rparen token'>)</span>

    <span class='comment val'># CRAM MD5</span>
    <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='SMTP constant id'>SMTP</span><span class='dot token'>.</span><span class='start identifier id'>start</span><span class='lparen token'>(</span><span class='string val'>'your.smtp.server'</span><span class='comma token'>,</span> <span class='integer val'>25</span><span class='comma token'>,</span> <span class='string val'>'mail.from.domain'</span><span class='comma token'>,</span>
                    <span class='string val'>'Your Account'</span><span class='comma token'>,</span> <span class='string val'>'Your Password'</span><span class='comma token'>,</span> <span class='symbol val'>:cram_md5</span><span class='rparen token'>)</span>
</pre>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">address</td>
          <td class="readwrite">
            [<span id='address-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
The address of the SMTP server to connect to.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">open_timeout</td>
          <td class="readwrite">
            [<span id='open_timeout-instance_method'>R</span><span id='open_timeout=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Seconds to wait while attempting to open a connection.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">port</td>
          <td class="readwrite">
            [<span id='port-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
The port number of the SMTP server to connect to.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">read_timeout</td>
          <td class="readwrite">
            [<span id='read_timeout-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Seconds to wait while reading one block (by one read(2) call).
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="Revision-constant">Revision</dt>
      <dd>%q$Revision: 11708 $.split[1]</dd>
    
  </dl>
</div>

</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(address, port = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Creates a new Net::SMTP object.
</p>
<p>
<tt>address</tt> is the hostname or ip address of your SMTP server.
<tt>port</tt> is the port to connect to; it defaults to port 25.
</p>
<p>
This method does not open the TCP connection. You can use SMTP.start
instead of SMTP.new if you want to do everything at once. Otherwise, follow
SMTP.new with SMTP#start.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/net/smtp.rb', line 184</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/net/smtp.rb#L184">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">184
185
186
187
188
189
190
191
192
193
194</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span> <span class='address identifier id'>address</span><span class='comma token'>,</span> <span class='port identifier id'>port</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span> <span class='rparen token'>)</span>
  <span class='@address ivar id'>@address</span> <span class='assign token'>=</span> <span class='address identifier id'>address</span>
  <span class='@port ivar id'>@port</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='port identifier id'>port</span> <span class='orop op'>||</span> <span class='SMTP constant id'>SMTP</span><span class='dot token'>.</span><span class='default_port identifier id'>default_port</span><span class='rparen token'>)</span>
  <span class='@esmtp ivar id'>@esmtp</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
  <span class='@socket ivar id'>@socket</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@started ivar id'>@started</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
  <span class='@open_timeout ivar id'>@open_timeout</span> <span class='assign token'>=</span> <span class='integer val'>30</span>
  <span class='@read_timeout ivar id'>@read_timeout</span> <span class='assign token'>=</span> <span class='integer val'>60</span>
  <span class='@error_occured ivar id'>@error_occured</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
  <span class='@debug_output ivar id'>@debug_output</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#default_port-class_method">default_port</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
The default SMTP port, port 25.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#start-class_method">start</span><span class='args'>(address, port = nil, helo = 'localhost.localdomain', user = nil, secret = nil, authtype = nil, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
SMTP session control.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#esmtp-3D-instance_method">#esmtp=</span><span class='args'>(bool)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Set whether to use ESMTP or not.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#esmtp-3F-instance_method">#esmtp?</span><span class='args'></span>
        <span class='block'></span>
        
          <span class='alias'>#esmtp</span>
        
      </th>
      <td class="docstring">
        <p>
<tt>true</tt> if the SMTP object uses ESMTP (which it does by default).
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#finish-instance_method">#finish</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Finishes the SMTP session and closes TCP connection.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#inspect-instance_method">#inspect</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Provide human-readable stringification of class state.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#open_message_stream-instance_method">#open_message_stream</span><span class='args'>(from_addr, *to_addrs, &amp;block)</span>
        <span class='block'></span>
        
          <span class='alias'>#ready</span>
        
      </th>
      <td class="docstring">
        <p>
Opens a message writer stream and gives it to the block.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#read_timeout-3D-instance_method">#read_timeout=</span><span class='args'>(sec)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Set the number of seconds to wait until timing-out a read(2) call.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#send_message-instance_method">#send_message</span><span class='args'>(msgstr, from_addr, *to_addrs)</span>
        <span class='block'></span>
        
          <span class='alias'>#sendmail</span>
        
          <span class='alias'>#send_mail</span>
        
      </th>
      <td class="docstring">
        <p>
Sends <tt>msgstr</tt> as a message.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#set_debug_output-instance_method">#set_debug_output</span><span class='args'>(arg)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
WARNING: This method causes serious security holes.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#start-instance_method">#start</span><span class='args'>(helo = 'localhost.localdomain', user = nil, secret = nil, authtype = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Opens a TCP connection and starts the SMTP session.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#started-3F-instance_method">#started?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
<tt>true</tt> if the SMTP session has been started.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>default_port</h3>
</div><div id="default_port-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>default_port</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
The default SMTP port, port 25.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/net/smtp.rb', line 169</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/net/smtp.rb#L169">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">169
170
171</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='SMTP constant id'>SMTP</span><span class='dot token'>.</span><span class='default_port identifier id'>default_port</span>
  <span class='integer val'>25</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>start</h3>
</div><div id="start-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>start</span><span class='args'>(address, port = nil, helo = 'localhost.localdomain', user = nil, secret = nil, authtype = nil, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
SMTP session control
</p>
<p>
Creates a new Net::SMTP object and connects to the server.
</p>
<p>
This method is equivalent to:
</p>
<pre class="code">
  <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='SMTP constant id'>SMTP</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='address identifier id'>address</span><span class='comma token'>,</span> <span class='port identifier id'>port</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='start identifier id'>start</span><span class='lparen token'>(</span><span class='helo_domain identifier id'>helo_domain</span><span class='comma token'>,</span> <span class='account identifier id'>account</span><span class='comma token'>,</span> <span class='password identifier id'>password</span><span class='comma token'>,</span> <span class='authtype identifier id'>authtype</span><span class='rparen token'>)</span>
</pre>
<h3>Example</h3>
<pre class="code">
    <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='SMTP constant id'>SMTP</span><span class='dot token'>.</span><span class='start identifier id'>start</span><span class='lparen token'>(</span><span class='string val'>'your.smtp.server'</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='smtp identifier id'>smtp</span><span class='bitor op'>|</span>
      <span class='smtp identifier id'>smtp</span><span class='dot token'>.</span><span class='send_message identifier id'>send_message</span> <span class='msgstr identifier id'>msgstr</span><span class='comma token'>,</span> <span class='string val'>'from@example.com'</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='string val'>'dest@example.com'</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>
</pre>
<h3>Block Usage</h3>
<p>
If called with a block, the newly-opened Net::SMTP object is yielded to the
block, and automatically closed when the block finishes. If called without
a block, the newly-opened Net::SMTP object is returned to the caller, and
it is the caller&#8217;s responsibility to close it when finished.
</p>
<h3>Parameters</h3>
<p>
<tt>address</tt> is the hostname or ip address of your smtp server.
</p>
<p>
<tt>port</tt> is the port to connect to; it defaults to port 25.
</p>
<p>
<tt>helo</tt> is the <em>HELO</em> <em>domain</em> provided by the client
to the server (see overview comments); it defaults to
&#8216;localhost.localdomain&#8217;.
</p>
<p>
The remaining arguments are used for SMTP authentication, if required or
desired. <tt>user</tt> is the account name; <tt>secret</tt> is your
password or other authentication token; and <tt>authtype</tt> is the
authentication type, one of :plain, :login, or :cram_md5. See the
discussion of SMTP Authentication in the overview notes.
</p>
<h3>Errors</h3>
<p>
This method may raise:
</p>
<ul>
<li>Net::SMTPAuthenticationError

</li>
<li>Net::SMTPServerBusy

</li>
<li>Net::SMTPSyntaxError

</li>
<li>Net::SMTPFatalError

</li>
<li>Net::SMTPUnknownError

</li>
<li>IOError

</li>
<li>TimeoutError

</li>
</ul>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/net/smtp.rb', line 312</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/net/smtp.rb#L312">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">312
313
314
315
316
317</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='SMTP constant id'>SMTP</span><span class='dot token'>.</span><span class='start identifier id'>start</span><span class='lparen token'>(</span> <span class='address identifier id'>address</span><span class='comma token'>,</span> <span class='port identifier id'>port</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span>
                <span class='helo identifier id'>helo</span> <span class='assign token'>=</span> <span class='string val'>'localhost.localdomain'</span><span class='comma token'>,</span>
                <span class='user identifier id'>user</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='secret identifier id'>secret</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='authtype identifier id'>authtype</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span>
                <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span><span class='semicolon token'>;</span> <span class='comment val'># :yield: smtp</span>
  <span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='address identifier id'>address</span><span class='comma token'>,</span> <span class='port identifier id'>port</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='start identifier id'>start</span><span class='lparen token'>(</span><span class='helo identifier id'>helo</span><span class='comma token'>,</span> <span class='user identifier id'>user</span><span class='comma token'>,</span> <span class='secret identifier id'>secret</span><span class='comma token'>,</span> <span class='authtype identifier id'>authtype</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>esmtp=</h3>
</div><div id="esmtp-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>esmtp=</span><span class='args'>(bool)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Set whether to use ESMTP or not. This should be done before calling #start.
Note that if #start is called in ESMTP mode, and the connection fails due
to a ProtocolError, the SMTP object will automatically switch to plain SMTP
mode and retry (but not vice versa).
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/net/smtp.rb', line 213</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/net/smtp.rb#L213">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">213
214
215</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='esmtp= identifier id'>esmtp=</span><span class='lparen token'>(</span> <span class='bool identifier id'>bool</span> <span class='rparen token'>)</span>
  <span class='@esmtp ivar id'>@esmtp</span> <span class='assign token'>=</span> <span class='bool identifier id'>bool</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>esmtp?</h3>
</div><div id="esmtp-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>esmtp?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="esmtp-instance_method">esmtp</tt>
  
</p>
</div><div class="section docstring">
  <p>
<tt>true</tt> if the SMTP object uses ESMTP (which it does by default).
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/net/smtp.rb', line 202</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/net/smtp.rb#L202">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">202
203
204</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='esmtp? fid id'>esmtp?</span>
  <span class='@esmtp ivar id'>@esmtp</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>finish</h3>
</div><div id="finish-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>finish</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Finishes the SMTP session and closes TCP connection. Raises IOError if not
started.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>IOError</tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/net/smtp.rb', line 420</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/net/smtp.rb#L420">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">420
421
422
423</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='finish identifier id'>finish</span>
  <span class='raise identifier id'>raise</span> <span class='IOError constant id'>IOError</span><span class='comma token'>,</span> <span class='string val'>'not yet started'</span> <span class='unless unless_mod kw'>unless</span> <span class='started? fid id'>started?</span>
  <span class='do_finish identifier id'>do_finish</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>inspect</h3>
</div><div id="inspect-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>inspect</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Provide human-readable stringification of class state.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/net/smtp.rb', line 197</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/net/smtp.rb#L197">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">197
198
199</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='inspect identifier id'>inspect</span>
  <span class='dstring node'>&quot;#&lt;#{self.class} #{@address}:#{@port} started=#{@started}&gt;&quot;</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>open_message_stream</h3>
</div><div id="open_message_stream-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>open_message_stream</span><span class='args'>(from_addr, *to_addrs, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="ready-instance_method">ready</tt>
  
</p>
</div><div class="section docstring">
  <p>
Opens a message writer stream and gives it to the block. The stream is
valid only in the block, and has these methods:
</p>
<table>
<tr><td valign="top">puts(str = &#8217;&#8217;):</td><td>outputs STR and CR LF.

</td></tr>
<tr><td valign="top">print(str):</td><td>outputs STR.

</td></tr>
<tr><td valign="top">printf(fmt, *args):</td><td>outputs sprintf(fmt,*args).

</td></tr>
<tr><td valign="top">write(str):</td><td>outputs STR and returns the length of written bytes.

</td></tr>
<tr><td valign="top">&lt;&lt;(str):</td><td>outputs STR and returns self.

</td></tr>
</table>
<p>
If a single CR (&quot;\r&quot;) or LF (&quot;\n&quot;) is found in the
message, it is converted to the CR LF pair. You cannot send a binary
message with this method.
</p>
<h3>Parameters</h3>
<p>
<tt>from_addr</tt> is a String representing the source mail address.
</p>
<p>
<tt>to_addr</tt> is a String or Strings or Array of Strings, representing
the destination mail address or addresses.
</p>
<h3>Example</h3>
<pre class="code">
    <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='SMTP constant id'>SMTP</span><span class='dot token'>.</span><span class='start identifier id'>start</span><span class='lparen token'>(</span><span class='string val'>'smtp.example.com'</span><span class='comma token'>,</span> <span class='integer val'>25</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='smtp identifier id'>smtp</span><span class='bitor op'>|</span>
      <span class='smtp identifier id'>smtp</span><span class='dot token'>.</span><span class='open_message_stream identifier id'>open_message_stream</span><span class='lparen token'>(</span><span class='string val'>'from@example.com'</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='string val'>'dest@example.com'</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='f identifier id'>f</span><span class='bitor op'>|</span>
        <span class='f identifier id'>f</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span> <span class='string val'>'From: from@example.com'</span>
        <span class='f identifier id'>f</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span> <span class='string val'>'To: dest@example.com'</span>
        <span class='f identifier id'>f</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span> <span class='string val'>'Subject: test message'</span>
        <span class='f identifier id'>f</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span>
        <span class='f identifier id'>f</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span> <span class='string val'>'This is a test message.'</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
</pre>
<h3>Errors</h3>
<p>
This method may raise:
</p>
<ul>
<li>Net::SMTPServerBusy

</li>
<li>Net::SMTPSyntaxError

</li>
<li>Net::SMTPFatalError

</li>
<li>Net::SMTPUnknownError

</li>
<li>IOError

</li>
<li>TimeoutError

</li>
</ul>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/net/smtp.rb', line 524</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/net/smtp.rb#L524">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">524
525
526
527
528</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='open_message_stream identifier id'>open_message_stream</span><span class='lparen token'>(</span> <span class='from_addr identifier id'>from_addr</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='to_addrs identifier id'>to_addrs</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span> <span class='comment val'># :yield: stream</span>
  <span class='send0 identifier id'>send0</span><span class='lparen token'>(</span><span class='from_addr identifier id'>from_addr</span><span class='comma token'>,</span> <span class='to_addrs identifier id'>to_addrs</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span>
    <span class='@socket ivar id'>@socket</span><span class='dot token'>.</span><span class='write_message_by_block identifier id'>write_message_by_block</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>read_timeout=</h3>
</div><div id="read_timeout-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>read_timeout=</span><span class='args'>(sec)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Set the number of seconds to wait until timing-out a read(2) call.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/net/smtp.rb', line 237</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/net/smtp.rb#L237">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">237
238
239
240</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='read_timeout= identifier id'>read_timeout=</span><span class='lparen token'>(</span> <span class='sec identifier id'>sec</span> <span class='rparen token'>)</span>
  <span class='@socket ivar id'>@socket</span><span class='dot token'>.</span><span class='read_timeout identifier id'>read_timeout</span> <span class='assign token'>=</span> <span class='sec identifier id'>sec</span> <span class='if if_mod kw'>if</span> <span class='@socket ivar id'>@socket</span>
  <span class='@read_timeout ivar id'>@read_timeout</span> <span class='assign token'>=</span> <span class='sec identifier id'>sec</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>send_message</h3>
</div><div id="send_message-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>send_message</span><span class='args'>(msgstr, from_addr, *to_addrs)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="sendmail-instance_method">sendmail</tt>
  
    <tt id="send_mail-instance_method">send_mail</tt>
  
</p>
</div><div class="section docstring">
  <p>
Sends <tt>msgstr</tt> as a message. Single CR (&quot;\r&quot;) and LF
(&quot;\n&quot;) found in the <tt>msgstr</tt>, are converted into the CR LF
pair. You cannot send a binary message with this method. <tt>msgstr</tt>
should include both the message headers and body.
</p>
<p>
<tt>from_addr</tt> is a String representing the source mail address.
</p>
<p>
<tt>to_addr</tt> is a String or Strings or Array of Strings, representing
the destination mail address or addresses.
</p>
<h3>Example</h3>
<pre class="code">
    <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='SMTP constant id'>SMTP</span><span class='dot token'>.</span><span class='start identifier id'>start</span><span class='lparen token'>(</span><span class='string val'>'smtp.example.com'</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='smtp identifier id'>smtp</span><span class='bitor op'>|</span>
      <span class='smtp identifier id'>smtp</span><span class='dot token'>.</span><span class='send_message identifier id'>send_message</span> <span class='msgstr identifier id'>msgstr</span><span class='comma token'>,</span>
                        <span class='string val'>'from@example.com'</span><span class='comma token'>,</span>
                        <span class='lbrack token'>[</span><span class='string val'>'dest@example.com'</span><span class='comma token'>,</span> <span class='string val'>'dest2@example.com'</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>
</pre>
<h3>Errors</h3>
<p>
This method may raise:
</p>
<ul>
<li>Net::SMTPServerBusy

</li>
<li>Net::SMTPSyntaxError

</li>
<li>Net::SMTPFatalError

</li>
<li>Net::SMTPUnknownError

</li>
<li>IOError

</li>
<li>TimeoutError

</li>
</ul>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/net/smtp.rb', line 471</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/net/smtp.rb#L471">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">471
472
473
474
475</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='send_message identifier id'>send_message</span><span class='lparen token'>(</span> <span class='msgstr identifier id'>msgstr</span><span class='comma token'>,</span> <span class='from_addr identifier id'>from_addr</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='to_addrs identifier id'>to_addrs</span> <span class='rparen token'>)</span>
  <span class='send0 identifier id'>send0</span><span class='lparen token'>(</span><span class='from_addr identifier id'>from_addr</span><span class='comma token'>,</span> <span class='to_addrs identifier id'>to_addrs</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span>
    <span class='@socket ivar id'>@socket</span><span class='dot token'>.</span><span class='write_message identifier id'>write_message</span> <span class='msgstr identifier id'>msgstr</span>
  <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>set_debug_output</h3>
</div><div id="set_debug_output-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>set_debug_output</span><span class='args'>(arg)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
WARNING: This method causes serious security holes. Use this method for
only debugging.
</p>
<p>
Set an output stream for debug logging. You must call this before #start.
</p>
<pre class="code">
  <span class='comment val'># example</span>
  <span class='smtp identifier id'>smtp</span> <span class='assign token'>=</span> <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='SMTP constant id'>SMTP</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='addr identifier id'>addr</span><span class='comma token'>,</span> <span class='port identifier id'>port</span><span class='rparen token'>)</span>
  <span class='smtp identifier id'>smtp</span><span class='dot token'>.</span><span class='set_debug_output identifier id'>set_debug_output</span> <span class='$stderr gvar id'>$stderr</span>
  <span class='smtp identifier id'>smtp</span><span class='dot token'>.</span><span class='start identifier id'>start</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='smtp identifier id'>smtp</span><span class='bitor op'>|</span>
    <span class='dot3 op'>...</span><span class='dot token'>.</span>
  <span class='end identifier id'>end</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/net/smtp.rb', line 256</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/net/smtp.rb#L256">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">256
257
258</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='set_debug_output identifier id'>set_debug_output</span><span class='lparen token'>(</span> <span class='arg identifier id'>arg</span> <span class='rparen token'>)</span>
  <span class='@debug_output ivar id'>@debug_output</span> <span class='assign token'>=</span> <span class='arg identifier id'>arg</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>start</h3>
</div><div id="start-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>start</span><span class='args'>(helo = 'localhost.localdomain', user = nil, secret = nil, authtype = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Opens a TCP connection and starts the SMTP session.
</p>
<h3>Parameters</h3>
<p>
<tt>helo</tt> is the <em>HELO</em> <em>domain</em> that you&#8217;ll
dispatch mails from; see the discussion in the overview notes.
</p>
<p>
If both of <tt>user</tt> and <tt>secret</tt> are given, SMTP authentication
will be attempted using the AUTH command. <tt>authtype</tt> specifies the
type of authentication to attempt; it must be one of :login, :plain, and
:cram_md5. See the notes on SMTP Authentication in the overview.
</p>
<h3>Block Usage</h3>
<p>
When this methods is called with a block, the newly-started SMTP object is
yielded to the block, and automatically closed after the block call
finishes. Otherwise, it is the caller&#8217;s responsibility to close the
session when finished.
</p>
<h3>Example</h3>
<p>
This is very similar to the class method SMTP.start.
</p>
<pre class="code">
    <span class='require identifier id'>require</span> <span class='string val'>'net/smtp'</span>
    <span class='smtp identifier id'>smtp</span> <span class='assign token'>=</span> <span class='Net constant id'>Net</span><span class='colon2 op'>::</span><span class='SMTP constant id'>SMTP</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'smtp.mail.server'</span><span class='comma token'>,</span> <span class='integer val'>25</span><span class='rparen token'>)</span>
    <span class='smtp identifier id'>smtp</span><span class='dot token'>.</span><span class='start identifier id'>start</span><span class='lparen token'>(</span><span class='helo_domain identifier id'>helo_domain</span><span class='comma token'>,</span> <span class='account identifier id'>account</span><span class='comma token'>,</span> <span class='password identifier id'>password</span><span class='comma token'>,</span> <span class='authtype identifier id'>authtype</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='smtp identifier id'>smtp</span><span class='bitor op'>|</span>
      <span class='smtp identifier id'>smtp</span><span class='dot token'>.</span><span class='send_message identifier id'>send_message</span> <span class='msgstr identifier id'>msgstr</span><span class='comma token'>,</span> <span class='string val'>'from@example.com'</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='string val'>'dest@example.com'</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>
</pre>
<p>
The primary use of this method (as opposed to SMTP.start) is probably to
set debugging (#set_debug_output) or ESMTP (#esmtp=), which must be done
before the session is started.
</p>
<h3>Errors</h3>
<p>
If session has already been started, an IOError will be raised.
</p>
<p>
This method may raise:
</p>
<ul>
<li>Net::SMTPAuthenticationError

</li>
<li>Net::SMTPServerBusy

</li>
<li>Net::SMTPSyntaxError

</li>
<li>Net::SMTPFatalError

</li>
<li>Net::SMTPUnknownError

</li>
<li>IOError

</li>
<li>TimeoutError

</li>
</ul>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/net/smtp.rb', line 374</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/net/smtp.rb#L374">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">374
375
376
377
378
379
380
381
382
383
384
385
386
387</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='start identifier id'>start</span><span class='lparen token'>(</span> <span class='helo identifier id'>helo</span> <span class='assign token'>=</span> <span class='string val'>'localhost.localdomain'</span><span class='comma token'>,</span>
           <span class='user identifier id'>user</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='secret identifier id'>secret</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='authtype identifier id'>authtype</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span> <span class='rparen token'>)</span><span class='semicolon token'>;</span> <span class='comment val'># :yield: smtp</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='begin begin kw'>begin</span>
      <span class='do_start identifier id'>do_start</span><span class='lparen token'>(</span><span class='helo identifier id'>helo</span><span class='comma token'>,</span> <span class='user identifier id'>user</span><span class='comma token'>,</span> <span class='secret identifier id'>secret</span><span class='comma token'>,</span> <span class='authtype identifier id'>authtype</span><span class='rparen token'>)</span>
      <span class='return return kw'>return</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
    <span class='ensure ensure kw'>ensure</span>
      <span class='do_finish identifier id'>do_finish</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='do_start identifier id'>do_start</span><span class='lparen token'>(</span><span class='helo identifier id'>helo</span><span class='comma token'>,</span> <span class='user identifier id'>user</span><span class='comma token'>,</span> <span class='secret identifier id'>secret</span><span class='comma token'>,</span> <span class='authtype identifier id'>authtype</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='self self kw'>self</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>started?</h3>
</div><div id="started-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>started?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
<tt>true</tt> if the SMTP session has been started.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/net/smtp.rb', line 320</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/net/smtp.rb#L320">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">320
321
322</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='started? fid id'>started?</span>
  <span class='@started ivar id'>@started</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>