<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>evanphx's rubinius - Class: GetoptLong - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/evanphx/commits/rubinius/master" rel="alternate" title="Recent Commits to rubinius:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("evanphx", "rubinius", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("evanphx", "rubinius", "a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/evanphx/rubinius/tree/">Source</a></li>
            <li class=""><a href="http://github.com/evanphx/rubinius/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/evanphx/rubinius/network">Network</a></li>            
            <li class=""><a href="http://github.com/evanphx/rubinius/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/evanphx/rubinius">Wiki</a></li>
            <li class=""><a href="http://github.com/evanphx/rubinius/graphs">Graphs</a></li>                    
            <li class="active"><a href="/evanphx/rubinius">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/evanphx">evanphx</a> / <b><a href="http://github.com/evanphx/rubinius/tree">rubinius</a></b>        
                <a id="namespaces_button" rel="evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class GetoptLong">
  <h1>Class: GetoptLong</h1>
  <div class="section docstring">
  <p>
the GNU getopt_long() C library call. Note, however, that GetoptLong is a
pure Ruby implementation.
</p>
<p>
GetoptLong allows for POSIX-style options like <tt>--file</tt> as well
as single letter options like <tt>-f</tt>
</p>
<p>
The empty option <tt>--</tt> (two minus symbols) is used to end option
processing. This can be particularly important if options have optional
arguments.
</p>
<p>
Here is a simple example of usage:
</p>
<pre class="code">
    <span class='comment val'># == Synopsis</span>
    <span class='comment val'>#</span>
    <span class='comment val'># hello: greets user, demonstrates command line parsing</span>
    <span class='comment val'>#</span>
    <span class='comment val'># == Usage</span>
    <span class='comment val'>#</span>
    <span class='comment val'># hello [OPTION] ... DIR</span>
    <span class='comment val'>#</span>
    <span class='comment val'># -h, --help:</span>
    <span class='comment val'>#    show help</span>
    <span class='comment val'>#</span>
    <span class='comment val'># --repeat x, -n x:</span>
    <span class='comment val'>#    repeat x times</span>
    <span class='comment val'>#</span>
    <span class='comment val'># --name [name]:</span>
    <span class='comment val'>#    greet user by name, if name not supplied default is John</span>
    <span class='comment val'>#</span>
    <span class='comment val'># DIR: The directory in which to issue the greeting.</span>

    <span class='require identifier id'>require</span> <span class='string val'>'getoptlong'</span>
    <span class='require identifier id'>require</span> <span class='string val'>'rdoc/usage'</span>

    <span class='opts identifier id'>opts</span> <span class='assign token'>=</span> <span class='GetoptLong constant id'>GetoptLong</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span>
      <span class='lbrack token'>[</span> <span class='string val'>'--help'</span><span class='comma token'>,</span> <span class='string val'>'-h'</span><span class='comma token'>,</span> <span class='GetoptLong constant id'>GetoptLong</span><span class='colon2 op'>::</span><span class='NO_ARGUMENT constant id'>NO_ARGUMENT</span> <span class='rbrack token'>]</span><span class='comma token'>,</span>
      <span class='lbrack token'>[</span> <span class='string val'>'--repeat'</span><span class='comma token'>,</span> <span class='string val'>'-n'</span><span class='comma token'>,</span> <span class='GetoptLong constant id'>GetoptLong</span><span class='colon2 op'>::</span><span class='REQUIRED_ARGUMENT constant id'>REQUIRED_ARGUMENT</span> <span class='rbrack token'>]</span><span class='comma token'>,</span>
      <span class='lbrack token'>[</span> <span class='string val'>'--name'</span><span class='comma token'>,</span> <span class='GetoptLong constant id'>GetoptLong</span><span class='colon2 op'>::</span><span class='OPTIONAL_ARGUMENT constant id'>OPTIONAL_ARGUMENT</span> <span class='rbrack token'>]</span>
    <span class='rparen token'>)</span>

    <span class='dir identifier id'>dir</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='repetitions identifier id'>repetitions</span> <span class='assign token'>=</span> <span class='integer val'>1</span>
    <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='opt identifier id'>opt</span><span class='comma token'>,</span> <span class='arg identifier id'>arg</span><span class='bitor op'>|</span>
      <span class='case case kw'>case</span> <span class='opt identifier id'>opt</span>
        <span class='when when kw'>when</span> <span class='string val'>'--help'</span>
          <span class='RDoc constant id'>RDoc</span><span class='colon2 op'>::</span><span class='usage identifier id'>usage</span>
        <span class='when when kw'>when</span> <span class='string val'>'--repeat'</span>
          <span class='repetitions identifier id'>repetitions</span> <span class='assign token'>=</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
        <span class='when when kw'>when</span> <span class='string val'>'--name'</span>
          <span class='if if kw'>if</span> <span class='arg identifier id'>arg</span> <span class='eq op'>==</span> <span class='string val'>''</span>
            <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='string val'>'John'</span>
          <span class='else else kw'>else</span>
            <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='arg identifier id'>arg</span>
          <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>

    <span class='if if kw'>if</span> <span class='ARGV constant id'>ARGV</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='neq op'>!=</span> <span class='integer val'>1</span>
      <span class='puts identifier id'>puts</span> <span class='string val'>&quot;Missing dir argument (try --help)&quot;</span>
      <span class='exit identifier id'>exit</span> <span class='integer val'>0</span>
    <span class='end end kw'>end</span>

    <span class='dir identifier id'>dir</span> <span class='assign token'>=</span> <span class='ARGV constant id'>ARGV</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span>

    <span class='Dir constant id'>Dir</span><span class='dot token'>.</span><span class='chdir identifier id'>chdir</span><span class='lparen token'>(</span><span class='dir identifier id'>dir</span><span class='rparen token'>)</span>
    <span class='for for kw'>for</span> <span class='i identifier id'>i</span> <span class='in in kw'>in</span> <span class='lparen token'>(</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='repetitions identifier id'>repetitions</span><span class='rparen token'>)</span>
      <span class='print identifier id'>print</span> <span class='string val'>&quot;Hello&quot;</span>
      <span class='if if kw'>if</span> <span class='name identifier id'>name</span>
        <span class='print identifier id'>print</span> <span class='dstring node'>&quot;, #{name}&quot;</span>
      <span class='end end kw'>end</span>
      <span class='puts identifier id'>puts</span>
    <span class='end end kw'>end</span>
</pre>
<p>
Example command line:
</p>
<pre class="code">
    <span class='hello identifier id'>hello</span> <span class='minus op'>-</span><span class='n identifier id'>n</span> <span class='integer val'>6</span> <span class='minus op'>-</span><span class='minus op'>-</span><span class='name identifier id'>name</span> <span class='minus op'>-</span><span class='minus op'>-</span> <span class='regexp val'>/tmp
</span></pre>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">error</td>
          <td class="readwrite">
            [<span id='error-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Examine whether an option processing is failed.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">ordering</td>
          <td class="readwrite">
            [<span id='ordering-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Return ordering.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">quiet</td>
          <td class="readwrite">
            [<span id='quiet-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Return the flag of `quiet&#8217; mode.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="ARGUMENT_FLAGS-constant">ARGUMENT_FLAGS</dt>
      <dd>[NO_ARGUMENT = 0, REQUIRED_ARGUMENT = 1,
OPTIONAL_ARGUMENT = 2]</dd>
    
      <dt id="ORDERINGS-constant">ORDERINGS</dt>
      <dd>[REQUIRE_ORDER = 0, PERMUTE = 1, RETURN_IN_ORDER = 2]</dd>
    
  </dl>
</div>

</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(*arguments)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Set up option processing.
</p>
<p>
The options to support are passed to new() as an array of arrays. Each
sub-array contains any number of String option names which carry the same
meaning, and one of the following flags:
</p>
<table>
<tr><td valign="top">GetoptLong::NO_ARGUMENT :</td><td>Option does not take an argument.

</td></tr>
<tr><td valign="top">GetoptLong::REQUIRED_ARGUMENT :</td><td>Option always takes an argument.

</td></tr>
<tr><td valign="top">GetoptLong::OPTIONAL_ARGUMENT :</td><td>Option may or may not take an argument.

</td></tr>
</table>
<p>
The first option name is considered to be the preferred (canonical) name.
Other than that, the elements of each sub-array can be in any order.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/getoptlong.rb', line 135</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/getoptlong.rb#L135">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='arguments identifier id'>arguments</span><span class='rparen token'>)</span>
  <span class='comment val'>#</span>
  <span class='comment val'># Current ordering.</span>
  <span class='comment val'>#</span>
  <span class='if if kw'>if</span> <span class='ENV constant id'>ENV</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='string val'>'POSIXLY_CORRECT'</span><span class='rparen token'>)</span>
    <span class='@ordering ivar id'>@ordering</span> <span class='assign token'>=</span> <span class='REQUIRE_ORDER constant id'>REQUIRE_ORDER</span>
  <span class='else else kw'>else</span>
    <span class='@ordering ivar id'>@ordering</span> <span class='assign token'>=</span> <span class='PERMUTE constant id'>PERMUTE</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Hash table of option names.</span>
  <span class='comment val'># Keys of the table are option names, and their values are canonical</span>
  <span class='comment val'># names of the options.</span>
  <span class='comment val'>#</span>
  <span class='@canonical_names ivar id'>@canonical_names</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Hash table of argument flags.</span>
  <span class='comment val'># Keys of the table are option names, and their values are argument</span>
  <span class='comment val'># flags of the options.</span>
  <span class='comment val'>#</span>
  <span class='@argument_flags ivar id'>@argument_flags</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Whether error messages are output to $stderr.</span>
  <span class='comment val'>#</span>
  <span class='@quiet ivar id'>@quiet</span> <span class='assign token'>=</span> <span class='FALSE constant id'>FALSE</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Status code.</span>
  <span class='comment val'>#</span>
  <span class='@status ivar id'>@status</span> <span class='assign token'>=</span> <span class='STATUS_YET constant id'>STATUS_YET</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Error code.</span>
  <span class='comment val'>#</span>
  <span class='@error ivar id'>@error</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Error message.</span>
  <span class='comment val'>#</span>
  <span class='@error_message ivar id'>@error_message</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Rest of catenated short options.</span>
  <span class='comment val'>#</span>
  <span class='@rest_singles ivar id'>@rest_singles</span> <span class='assign token'>=</span> <span class='string val'>''</span>

  <span class='comment val'>#</span>
  <span class='comment val'># List of non-option-arguments.</span>
  <span class='comment val'># Append them to ARGV when option processing is terminated.</span>
  <span class='comment val'>#</span>
  <span class='@non_option_arguments ivar id'>@non_option_arguments</span> <span class='assign token'>=</span> <span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span>

  <span class='if if kw'>if</span> <span class='integer val'>0</span> <span class='lt op'>&lt;</span> <span class='arguments identifier id'>arguments</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
    <span class='set_options identifier id'>set_options</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='arguments identifier id'>arguments</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#each-instance_method">#each</span><span class='args'></span>
        <span class='block'></span>
        
          <span class='alias'>#each_option</span>
        
      </th>
      <td class="docstring">
        <p>
Iterator version of `get&#8217;.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#error_message-instance_method">#error_message</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Return the appropriate error message in POSIX-defined format.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get-instance_method">#get</span><span class='args'></span>
        <span class='block'></span>
        
          <span class='alias'>#get_option</span>
        
      </th>
      <td class="docstring">
        <p>
Get next option name and its argument, as an Array of two elements.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#ordering-3D-instance_method">#ordering=</span><span class='args'>(ordering)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Set the handling of the ordering of options and arguments.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#set_options-instance_method">#set_options</span><span class='args'>(*arguments)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Set options.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#terminate-instance_method">#terminate</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Explicitly terminate option processing.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#terminated-3F-instance_method">#terminated?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns true if option processing has terminated, false otherwise.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>each</h3>
</div><div id="each-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>each</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="each_option-instance_method">each_option</tt>
  
</p>
</div><div class="section docstring">
  <p>
Iterator version of `get&#8217;.
</p>
<p>
The block is called repeatedly with two arguments: The first is the option
name. The second is the argument which followed it (if any). Example:
(&#8217;--opt&#8217;, &#8216;value&#8217;)
</p>
<p>
The option name is always converted to the first (preferred) name given in
the original options to GetoptLong.new.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/getoptlong.rb', line 609</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/getoptlong.rb#L609">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">609
610
611
612
613
614
615</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='each identifier id'>each</span>
  <span class='loop identifier id'>loop</span> <span class='do do kw'>do</span>
    <span class='option_name identifier id'>option_name</span><span class='comma token'>,</span> <span class='option_argument identifier id'>option_argument</span> <span class='assign token'>=</span> <span class='get_option identifier id'>get_option</span>
    <span class='break break kw'>break</span> <span class='if if_mod kw'>if</span> <span class='option_name identifier id'>option_name</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span>
    <span class='yield yield kw'>yield</span> <span class='option_name identifier id'>option_name</span><span class='comma token'>,</span> <span class='option_argument identifier id'>option_argument</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>error_message</h3>
</div><div id="error_message-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>error_message</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Return the appropriate error message in POSIX-defined format. If no error
has occurred, returns nil.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/getoptlong.rb', line 420</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/getoptlong.rb#L420">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">420
421
422</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='error_message identifier id'>error_message</span>
  <span class='return return kw'>return</span> <span class='@error_message ivar id'>@error_message</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get</h3>
</div><div id="get-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="get_option-instance_method">get_option</tt>
  
</p>
</div><div class="section docstring">
  <p>
Get next option name and its argument, as an Array of two elements.
</p>
<p>
The option name is always converted to the first (preferred) name given in
the original options to GetoptLong.new.
</p>
<p>
Example: [&#8217;--option&#8217;, &#8216;value&#8217;]
</p>
<p>
Returns nil if the processing is complete (as determined by
STATUS_TERMINATED).
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/getoptlong.rb', line 435</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/getoptlong.rb#L435">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get identifier id'>get</span>
  <span class='option_name identifier id'>option_name</span><span class='comma token'>,</span> <span class='option_argument identifier id'>option_argument</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='string val'>''</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Check status.</span>
  <span class='comment val'>#</span>
  <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span> <span class='if if_mod kw'>if</span> <span class='@error ivar id'>@error</span> <span class='neq op'>!=</span> <span class='nil nil kw'>nil</span>
  <span class='case case kw'>case</span> <span class='@status ivar id'>@status</span>
  <span class='when when kw'>when</span> <span class='STATUS_YET constant id'>STATUS_YET</span>
    <span class='@status ivar id'>@status</span> <span class='assign token'>=</span> <span class='STATUS_STARTED constant id'>STATUS_STARTED</span>
  <span class='when when kw'>when</span> <span class='STATUS_TERMINATED constant id'>STATUS_TERMINATED</span>
    <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Get next option argument.</span>
  <span class='comment val'>#</span>
  <span class='if if kw'>if</span> <span class='integer val'>0</span> <span class='lt op'>&lt;</span> <span class='@rest_singles ivar id'>@rest_singles</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
    <span class='argument identifier id'>argument</span> <span class='assign token'>=</span> <span class='string val'>'-'</span> <span class='plus op'>+</span> <span class='@rest_singles ivar id'>@rest_singles</span>
  <span class='elsif elsif kw'>elsif</span> <span class='lparen token'>(</span><span class='ARGV constant id'>ARGV</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='eq op'>==</span> <span class='integer val'>0</span><span class='rparen token'>)</span>
    <span class='terminate identifier id'>terminate</span>
    <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span>
  <span class='elsif elsif kw'>elsif</span> <span class='@ordering ivar id'>@ordering</span> <span class='eq op'>==</span> <span class='PERMUTE constant id'>PERMUTE</span>
    <span class='while while kw'>while</span> <span class='integer val'>0</span> <span class='lt op'>&lt;</span> <span class='ARGV constant id'>ARGV</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='andop op'>&amp;&amp;</span> <span class='ARGV constant id'>ARGV</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='nmatch op'>!~</span> <span class='regexp val'>/^-./</span>
      <span class='@non_option_arguments ivar id'>@non_option_arguments</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='ARGV constant id'>ARGV</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='if if kw'>if</span> <span class='ARGV constant id'>ARGV</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='eq op'>==</span> <span class='integer val'>0</span>
      <span class='terminate identifier id'>terminate</span>
      <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span>
    <span class='end end kw'>end</span>
    <span class='argument identifier id'>argument</span> <span class='assign token'>=</span> <span class='ARGV constant id'>ARGV</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span>
  <span class='elsif elsif kw'>elsif</span> <span class='@ordering ivar id'>@ordering</span> <span class='eq op'>==</span> <span class='REQUIRE_ORDER constant id'>REQUIRE_ORDER</span> 
    <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='ARGV constant id'>ARGV</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='nmatch op'>!~</span> <span class='regexp val'>/^-./</span><span class='rparen token'>)</span>
      <span class='terminate identifier id'>terminate</span>
      <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span>
    <span class='end end kw'>end</span>
    <span class='argument identifier id'>argument</span> <span class='assign token'>=</span> <span class='ARGV constant id'>ARGV</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span>
  <span class='else else kw'>else</span>
    <span class='argument identifier id'>argument</span> <span class='assign token'>=</span> <span class='ARGV constant id'>ARGV</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Check the special argument `--'.</span>
  <span class='comment val'># `--' indicates the end of the option list.</span>
  <span class='comment val'>#</span>
  <span class='if if kw'>if</span> <span class='argument identifier id'>argument</span> <span class='eq op'>==</span> <span class='string val'>'--'</span> <span class='andop op'>&amp;&amp;</span> <span class='@rest_singles ivar id'>@rest_singles</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='eq op'>==</span> <span class='integer val'>0</span>
    <span class='terminate identifier id'>terminate</span>
    <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Check for long and short options.</span>
  <span class='comment val'>#</span>
  <span class='if if kw'>if</span> <span class='argument identifier id'>argument</span> <span class='match op'>=~</span> <span class='regexp val'>/^(--[^=]+)/</span> <span class='andop op'>&amp;&amp;</span> <span class='@rest_singles ivar id'>@rest_singles</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='eq op'>==</span> <span class='integer val'>0</span>
    <span class='comment val'>#</span>
    <span class='comment val'># This is a long style option, which start with `--'.</span>
    <span class='comment val'>#</span>
    <span class='pattern identifier id'>pattern</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span>
    <span class='if if kw'>if</span> <span class='@canonical_names ivar id'>@canonical_names</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='pattern identifier id'>pattern</span><span class='rparen token'>)</span>
      <span class='option_name identifier id'>option_name</span> <span class='assign token'>=</span> <span class='pattern identifier id'>pattern</span>
    <span class='else else kw'>else</span>
      <span class='comment val'>#</span>
      <span class='comment val'># The option `option_name' is not registered in `@canonical_names'.</span>
      <span class='comment val'># It may be an abbreviated.</span>
      <span class='comment val'>#</span>
      <span class='match_count identifier id'>match_count</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
      <span class='@canonical_names ivar id'>@canonical_names</span><span class='dot token'>.</span><span class='each_key identifier id'>each_key</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='bitor op'>|</span>
        <span class='if if kw'>if</span> <span class='key identifier id'>key</span><span class='dot token'>.</span><span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='pattern identifier id'>pattern</span><span class='rparen token'>)</span> <span class='eq op'>==</span> <span class='integer val'>0</span>
          <span class='option_name identifier id'>option_name</span> <span class='assign token'>=</span> <span class='key identifier id'>key</span>
          <span class='match_count identifier id'>match_count</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
      <span class='if if kw'>if</span> <span class='integer val'>2</span> <span class='leq op'>&lt;=</span> <span class='match_count identifier id'>match_count</span>
        <span class='set_error identifier id'>set_error</span><span class='lparen token'>(</span><span class='AmbigousOption constant id'>AmbigousOption</span><span class='comma token'>,</span> <span class='dstring node'>&quot;option `#{argument}' is ambiguous&quot;</span><span class='rparen token'>)</span>
      <span class='elsif elsif kw'>elsif</span> <span class='match_count identifier id'>match_count</span> <span class='eq op'>==</span> <span class='integer val'>0</span>
        <span class='set_error identifier id'>set_error</span><span class='lparen token'>(</span><span class='InvalidOption constant id'>InvalidOption</span><span class='comma token'>,</span> <span class='dstring node'>&quot;unrecognized option `#{argument}'&quot;</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Check an argument to the option.</span>
    <span class='comment val'>#</span>
    <span class='if if kw'>if</span> <span class='@argument_flags ivar id'>@argument_flags</span><span class='lbrack token'>[</span><span class='option_name identifier id'>option_name</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='REQUIRED_ARGUMENT constant id'>REQUIRED_ARGUMENT</span>
      <span class='if if kw'>if</span> <span class='argument identifier id'>argument</span> <span class='match op'>=~</span> <span class='regexp val'>/=(.*)$/</span>
        <span class='option_argument identifier id'>option_argument</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span>
      <span class='elsif elsif kw'>elsif</span> <span class='integer val'>0</span> <span class='lt op'>&lt;</span> <span class='ARGV constant id'>ARGV</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
        <span class='option_argument identifier id'>option_argument</span> <span class='assign token'>=</span> <span class='ARGV constant id'>ARGV</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span>
      <span class='else else kw'>else</span>
        <span class='set_error identifier id'>set_error</span><span class='lparen token'>(</span><span class='MissingArgument constant id'>MissingArgument</span><span class='comma token'>,</span>
                  <span class='dstring node'>&quot;option `#{argument}' requires an argument&quot;</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='elsif elsif kw'>elsif</span> <span class='@argument_flags ivar id'>@argument_flags</span><span class='lbrack token'>[</span><span class='option_name identifier id'>option_name</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='OPTIONAL_ARGUMENT constant id'>OPTIONAL_ARGUMENT</span>
      <span class='if if kw'>if</span> <span class='argument identifier id'>argument</span> <span class='match op'>=~</span> <span class='regexp val'>/=(.*)$/</span>
        <span class='option_argument identifier id'>option_argument</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span>
      <span class='elsif elsif kw'>elsif</span> <span class='integer val'>0</span> <span class='lt op'>&lt;</span> <span class='ARGV constant id'>ARGV</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='andop op'>&amp;&amp;</span> <span class='ARGV constant id'>ARGV</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='nmatch op'>!~</span> <span class='regexp val'>/^-./</span>
        <span class='option_argument identifier id'>option_argument</span> <span class='assign token'>=</span> <span class='ARGV constant id'>ARGV</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span>
      <span class='else else kw'>else</span>
        <span class='option_argument identifier id'>option_argument</span> <span class='assign token'>=</span> <span class='string val'>''</span>
      <span class='end end kw'>end</span>
    <span class='elsif elsif kw'>elsif</span> <span class='argument identifier id'>argument</span> <span class='match op'>=~</span> <span class='regexp val'>/=(.*)$/</span>
      <span class='set_error identifier id'>set_error</span><span class='lparen token'>(</span><span class='NeedlessArgument constant id'>NeedlessArgument</span><span class='comma token'>,</span>
                <span class='dstring node'>&quot;option `#{option_name}' doesn't allow an argument&quot;</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

  <span class='elsif elsif kw'>elsif</span> <span class='argument identifier id'>argument</span> <span class='match op'>=~</span> <span class='regexp val'>/^(-(.))(.*)/</span>
    <span class='comment val'>#</span>
    <span class='comment val'># This is a short style option, which start with `-' (not `--').</span>
    <span class='comment val'># Short options may be catenated (e.g. `-l -g' is equivalent to</span>
    <span class='comment val'># `-lg').</span>
    <span class='comment val'>#</span>
    <span class='option_name identifier id'>option_name</span><span class='comma token'>,</span> <span class='ch identifier id'>ch</span><span class='comma token'>,</span> <span class='@rest_singles ivar id'>@rest_singles</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span><span class='comma token'>,</span> <span class='$2 nth_ref id'>$2</span><span class='comma token'>,</span> <span class='$3 nth_ref id'>$3</span>

    <span class='if if kw'>if</span> <span class='@canonical_names ivar id'>@canonical_names</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='option_name identifier id'>option_name</span><span class='rparen token'>)</span>
      <span class='comment val'>#</span>
      <span class='comment val'># The option `option_name' is found in `@canonical_names'.</span>
      <span class='comment val'># Check its argument.</span>
      <span class='comment val'>#</span>
      <span class='if if kw'>if</span> <span class='@argument_flags ivar id'>@argument_flags</span><span class='lbrack token'>[</span><span class='option_name identifier id'>option_name</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='REQUIRED_ARGUMENT constant id'>REQUIRED_ARGUMENT</span>
        <span class='if if kw'>if</span> <span class='integer val'>0</span> <span class='lt op'>&lt;</span> <span class='@rest_singles ivar id'>@rest_singles</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
          <span class='option_argument identifier id'>option_argument</span> <span class='assign token'>=</span> <span class='@rest_singles ivar id'>@rest_singles</span>
          <span class='@rest_singles ivar id'>@rest_singles</span> <span class='assign token'>=</span> <span class='string val'>''</span>
        <span class='elsif elsif kw'>elsif</span> <span class='integer val'>0</span> <span class='lt op'>&lt;</span> <span class='ARGV constant id'>ARGV</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
          <span class='option_argument identifier id'>option_argument</span> <span class='assign token'>=</span> <span class='ARGV constant id'>ARGV</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span>
        <span class='else else kw'>else</span>
          <span class='comment val'># 1003.2 specifies the format of this message.</span>
          <span class='set_error identifier id'>set_error</span><span class='lparen token'>(</span><span class='MissingArgument constant id'>MissingArgument</span><span class='comma token'>,</span> <span class='dstring node'>&quot;option requires an argument -- #{ch}&quot;</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
      <span class='elsif elsif kw'>elsif</span> <span class='@argument_flags ivar id'>@argument_flags</span><span class='lbrack token'>[</span><span class='option_name identifier id'>option_name</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='OPTIONAL_ARGUMENT constant id'>OPTIONAL_ARGUMENT</span>
        <span class='if if kw'>if</span> <span class='integer val'>0</span> <span class='lt op'>&lt;</span> <span class='@rest_singles ivar id'>@rest_singles</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
          <span class='option_argument identifier id'>option_argument</span> <span class='assign token'>=</span> <span class='@rest_singles ivar id'>@rest_singles</span>
          <span class='@rest_singles ivar id'>@rest_singles</span> <span class='assign token'>=</span> <span class='string val'>''</span>
        <span class='elsif elsif kw'>elsif</span> <span class='integer val'>0</span> <span class='lt op'>&lt;</span> <span class='ARGV constant id'>ARGV</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='andop op'>&amp;&amp;</span> <span class='ARGV constant id'>ARGV</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='nmatch op'>!~</span> <span class='regexp val'>/^-./</span>
          <span class='option_argument identifier id'>option_argument</span> <span class='assign token'>=</span> <span class='ARGV constant id'>ARGV</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span>
        <span class='else else kw'>else</span>
          <span class='option_argument identifier id'>option_argument</span> <span class='assign token'>=</span> <span class='string val'>''</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='else else kw'>else</span>
      <span class='comment val'>#</span>
      <span class='comment val'># This is an invalid option.</span>
      <span class='comment val'># 1003.2 specifies the format of this message.</span>
      <span class='comment val'>#</span>
      <span class='if if kw'>if</span> <span class='ENV constant id'>ENV</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='string val'>'POSIXLY_CORRECT'</span><span class='rparen token'>)</span>
        <span class='set_error identifier id'>set_error</span><span class='lparen token'>(</span><span class='InvalidOption constant id'>InvalidOption</span><span class='comma token'>,</span> <span class='dstring node'>&quot;illegal option -- #{ch}&quot;</span><span class='rparen token'>)</span>
      <span class='else else kw'>else</span>
        <span class='set_error identifier id'>set_error</span><span class='lparen token'>(</span><span class='InvalidOption constant id'>InvalidOption</span><span class='comma token'>,</span> <span class='dstring node'>&quot;invalid option -- #{ch}&quot;</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='comment val'>#</span>
    <span class='comment val'># This is a non-option argument.</span>
    <span class='comment val'># Only RETURN_IN_ORDER falled into here.</span>
    <span class='comment val'>#</span>
    <span class='return return kw'>return</span> <span class='string val'>''</span><span class='comma token'>,</span> <span class='argument identifier id'>argument</span>
  <span class='end end kw'>end</span>

  <span class='return return kw'>return</span> <span class='@canonical_names ivar id'>@canonical_names</span><span class='lbrack token'>[</span><span class='option_name identifier id'>option_name</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='option_argument identifier id'>option_argument</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>ordering=</h3>
</div><div id="ordering-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>ordering=</span><span class='args'>(ordering)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Set the handling of the ordering of options and arguments. A RuntimeError
is raised if option processing has already started.
</p>
<p>
The supplied value must be a member of GetoptLong::ORDERINGS. It alters the
processing of options as follows:
</p>
<p>
<b>REQUIRE_ORDER</b> :
</p>
<p>
Options are required to occur before non-options.
</p>
<p>
Processing of options ends as soon as a word is encountered that has not
been preceded by an appropriate option flag.
</p>
<p>
For example, if -a and -b are options which do not take arguments, parsing
command line arguments of &#8217;-a one -b two&#8217; would result in
&#8216;one&#8217;, &#8217;-b&#8217;, &#8216;two&#8217; being left in ARGV,
and only (&#8217;-a&#8217;, &#8217;&#8217;) being processed as an
option/arg pair.
</p>
<p>
This is the default ordering, if the environment variable POSIXLY_CORRECT
is set. (This is for compatibility with GNU getopt_long.)
</p>
<p>
<b>PERMUTE</b> :
</p>
<p>
Options can occur anywhere in the command line parsed. This is the default
behavior.
</p>
<p>
Every sequence of words which can be interpreted as an option (with or
without argument) is treated as an option; non-option words are skipped.
</p>
<p>
For example, if -a does not require an argument and -b optionally takes an
argument, parsing &#8217;-a one -b two three&#8217; would result in
(&#8217;-a&#8217;,&#8217;&#8217;) and (&#8217;-b&#8217;, &#8216;two&#8217;)
being processed as option/arg pairs, and
&#8216;one&#8217;,&#8217;three&#8217; being left in ARGV.
</p>
<p>
If the ordering is set to PERMUTE but the environment variable
POSIXLY_CORRECT is set, REQUIRE_ORDER is used instead. This is for
compatibility with GNU getopt_long.
</p>
<p>
<b>RETURN_IN_ORDER</b> :
</p>
<p>
All words on the command line are processed as options. Words not preceded
by a short or long option flag are passed as arguments with an option of
&#8217;&#8217; (empty string).
</p>
<p>
For example, if -a requires an argument but -b does not, a command line of
&#8217;-a one -b two three&#8217; would result in option/arg pairs of
(&#8217;-a&#8217;, &#8216;one&#8217;) (&#8217;-b&#8217;, &#8217;&#8217;),
(&#8217;&#8217;, &#8216;two&#8217;), (&#8217;&#8217;, &#8216;three&#8217;)
being processed.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/getoptlong.rb', line 244</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/getoptlong.rb#L244">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='ordering= identifier id'>ordering=</span><span class='lparen token'>(</span><span class='ordering identifier id'>ordering</span><span class='rparen token'>)</span>
  <span class='comment val'>#</span>
  <span class='comment val'># The method is failed if option processing has already started.</span>
  <span class='comment val'>#</span>
  <span class='if if kw'>if</span> <span class='@status ivar id'>@status</span> <span class='neq op'>!=</span> <span class='STATUS_YET constant id'>STATUS_YET</span>
    <span class='set_error identifier id'>set_error</span><span class='lparen token'>(</span><span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;argument error&quot;</span><span class='rparen token'>)</span>
    <span class='raise identifier id'>raise</span> <span class='RuntimeError constant id'>RuntimeError</span><span class='comma token'>,</span>
      <span class='string val'>&quot;invoke ordering=, but option processing has already started&quot;</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Check ordering.</span>
  <span class='comment val'>#</span>
  <span class='if if kw'>if</span> <span class='notop op'>!</span><span class='ORDERINGS constant id'>ORDERINGS</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='ordering identifier id'>ordering</span><span class='rparen token'>)</span>
    <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;invalid ordering `#{ordering}'&quot;</span>
  <span class='end end kw'>end</span>
  <span class='if if kw'>if</span> <span class='ordering identifier id'>ordering</span> <span class='eq op'>==</span> <span class='PERMUTE constant id'>PERMUTE</span> <span class='andop op'>&amp;&amp;</span> <span class='ENV constant id'>ENV</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='string val'>'POSIXLY_CORRECT'</span><span class='rparen token'>)</span>
    <span class='@ordering ivar id'>@ordering</span> <span class='assign token'>=</span> <span class='REQUIRE_ORDER constant id'>REQUIRE_ORDER</span>
  <span class='else else kw'>else</span>
    <span class='@ordering ivar id'>@ordering</span> <span class='assign token'>=</span> <span class='ordering identifier id'>ordering</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>set_options</h3>
</div><div id="set_options-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>set_options</span><span class='args'>(*arguments)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Set options. Takes the same argument as GetoptLong.new.
</p>
<p>
Raises a RuntimeError if option processing has already started.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/getoptlong.rb', line 277</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/getoptlong.rb#L277">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='set_options identifier id'>set_options</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='arguments identifier id'>arguments</span><span class='rparen token'>)</span>
  <span class='comment val'>#</span>
  <span class='comment val'># The method is failed if option processing has already started.</span>
  <span class='comment val'>#</span>
  <span class='if if kw'>if</span> <span class='@status ivar id'>@status</span> <span class='neq op'>!=</span> <span class='STATUS_YET constant id'>STATUS_YET</span>
    <span class='raise identifier id'>raise</span> <span class='RuntimeError constant id'>RuntimeError</span><span class='comma token'>,</span> 
      <span class='string val'>&quot;invoke set_options, but option processing has already started&quot;</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Clear tables of option names and argument flags.</span>
  <span class='comment val'>#</span>
  <span class='@canonical_names ivar id'>@canonical_names</span><span class='dot token'>.</span><span class='clear identifier id'>clear</span>
  <span class='@argument_flags ivar id'>@argument_flags</span><span class='dot token'>.</span><span class='clear identifier id'>clear</span>

  <span class='arguments identifier id'>arguments</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='arg identifier id'>arg</span><span class='bitor op'>|</span>
    <span class='comment val'>#</span>
    <span class='comment val'># Each argument must be an Array.</span>
    <span class='comment val'>#</span>
    <span class='if if kw'>if</span> <span class='notop op'>!</span><span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Array constant id'>Array</span><span class='rparen token'>)</span>
      <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;the option list contains non-Array argument&quot;</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Find an argument flag and it set to `argument_flag'.</span>
    <span class='comment val'>#</span>
    <span class='argument_flag identifier id'>argument_flag</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
      <span class='if if kw'>if</span> <span class='ARGUMENT_FLAGS constant id'>ARGUMENT_FLAGS</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='rparen token'>)</span>
        <span class='if if kw'>if</span> <span class='argument_flag identifier id'>argument_flag</span> <span class='neq op'>!=</span> <span class='nil nil kw'>nil</span>
          <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;too many argument-flags&quot;</span>
        <span class='end end kw'>end</span>
        <span class='argument_flag identifier id'>argument_flag</span> <span class='assign token'>=</span> <span class='i identifier id'>i</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;no argument-flag&quot;</span> <span class='if if_mod kw'>if</span> <span class='argument_flag identifier id'>argument_flag</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span>

    <span class='canonical_name identifier id'>canonical_name</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
      <span class='comment val'>#</span>
      <span class='comment val'># Check an option name.</span>
      <span class='comment val'>#</span>
      <span class='next next kw'>next</span> <span class='if if_mod kw'>if</span> <span class='i identifier id'>i</span> <span class='eq op'>==</span> <span class='argument_flag identifier id'>argument_flag</span>
      <span class='begin begin kw'>begin</span>
        <span class='if if kw'>if</span> <span class='notop op'>!</span><span class='i identifier id'>i</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='String constant id'>String</span><span class='rparen token'>)</span> <span class='orop op'>||</span> <span class='i identifier id'>i</span> <span class='nmatch op'>!~</span> <span class='regexp val'>/^-([^-]|-.+)$/</span>
          <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;an invalid option `#{i}'&quot;</span>
        <span class='end end kw'>end</span>
        <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='@canonical_names ivar id'>@canonical_names</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
          <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;option redefined `#{i}'&quot;</span>
        <span class='end end kw'>end</span>
      <span class='rescue rescue kw'>rescue</span>
        <span class='@canonical_names ivar id'>@canonical_names</span><span class='dot token'>.</span><span class='clear identifier id'>clear</span>
        <span class='@argument_flags ivar id'>@argument_flags</span><span class='dot token'>.</span><span class='clear identifier id'>clear</span>
        <span class='raise identifier id'>raise</span>
      <span class='end end kw'>end</span>

      <span class='comment val'>#</span>
      <span class='comment val'># Register the option (`i') to the `@canonical_names' and </span>
      <span class='comment val'># `@canonical_names' Hashes.</span>
      <span class='comment val'>#</span>
      <span class='if if kw'>if</span> <span class='canonical_name identifier id'>canonical_name</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span>
        <span class='canonical_name identifier id'>canonical_name</span> <span class='assign token'>=</span> <span class='i identifier id'>i</span>
      <span class='end end kw'>end</span>
      <span class='@canonical_names ivar id'>@canonical_names</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='canonical_name identifier id'>canonical_name</span>
      <span class='@argument_flags ivar id'>@argument_flags</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='argument_flag identifier id'>argument_flag</span>
    <span class='end end kw'>end</span>
    <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;no option name&quot;</span> <span class='if if_mod kw'>if</span> <span class='canonical_name identifier id'>canonical_name</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span>
  <span class='end end kw'>end</span>
  <span class='return return kw'>return</span> <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>terminate</h3>
</div><div id="terminate-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>terminate</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Explicitly terminate option processing.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>RuntimeError</tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/getoptlong.rb', line 366</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/getoptlong.rb#L366">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='terminate identifier id'>terminate</span>
  <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span> <span class='if if_mod kw'>if</span> <span class='@status ivar id'>@status</span> <span class='eq op'>==</span> <span class='STATUS_TERMINATED constant id'>STATUS_TERMINATED</span>
  <span class='raise identifier id'>raise</span> <span class='RuntimeError constant id'>RuntimeError</span><span class='comma token'>,</span> <span class='string val'>&quot;an error has occured&quot;</span> <span class='if if_mod kw'>if</span> <span class='@error ivar id'>@error</span> <span class='neq op'>!=</span> <span class='nil nil kw'>nil</span>

  <span class='@status ivar id'>@status</span> <span class='assign token'>=</span> <span class='STATUS_TERMINATED constant id'>STATUS_TERMINATED</span>
  <span class='@non_option_arguments ivar id'>@non_option_arguments</span><span class='dot token'>.</span><span class='reverse_each identifier id'>reverse_each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='argument identifier id'>argument</span><span class='bitor op'>|</span>
    <span class='ARGV constant id'>ARGV</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span><span class='lparen token'>(</span><span class='argument identifier id'>argument</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='@canonical_names ivar id'>@canonical_names</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@argument_flags ivar id'>@argument_flags</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@rest_singles ivar id'>@rest_singles</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@non_option_arguments ivar id'>@non_option_arguments</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>

  <span class='return return kw'>return</span> <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>terminated?</h3>
</div><div id="terminated-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>terminated?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns true if option processing has terminated, false otherwise.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/getoptlong.rb', line 386</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/getoptlong.rb#L386">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">386
387
388</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='terminated? fid id'>terminated?</span>
  <span class='return return kw'>return</span> <span class='@status ivar id'>@status</span> <span class='eq op'>==</span> <span class='STATUS_TERMINATED constant id'>STATUS_TERMINATED</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>