<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>evanphx's rubinius - Class: Time - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/evanphx/commits/rubinius/master" rel="alternate" title="Recent Commits to rubinius:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("evanphx", "rubinius", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("evanphx", "rubinius", "a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/evanphx/rubinius/tree/">Source</a></li>
            <li class=""><a href="http://github.com/evanphx/rubinius/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/evanphx/rubinius/network">Network</a></li>            
            <li class=""><a href="http://github.com/evanphx/rubinius/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/evanphx/rubinius">Wiki</a></li>
            <li class=""><a href="http://github.com/evanphx/rubinius/graphs">Graphs</a></li>                    
            <li class="active"><a href="/evanphx/rubinius">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/evanphx">evanphx</a> / <b><a href="http://github.com/evanphx/rubinius/tree">rubinius</a></b>        
                <a id="namespaces_button" rel="evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Time">
  <h1>Class: Time</h1>
  <div class="section docstring">
  <p>
Implements the extensions to the Time class that are described in the
documentation for the time.rb library.
</p>

</div><div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="CommonYearMonthDays-constant">CommonYearMonthDays</dt>
      <dd>[31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]</dd>
    
      <dt id="LeapYearMonthDays-constant">LeapYearMonthDays</dt>
      <dd>[31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]</dd>
    
      <dt id="MonthValue-constant">MonthValue</dt>
      <dd>{
  'JAN' =&gt; 1, 'FEB' =&gt; 2, 'MAR' =&gt; 3, 'APR' =&gt; 4, 'MAY' =&gt; 5, 'JUN' =&gt; 6,
  'JUL' =&gt; 7, 'AUG' =&gt; 8, 'SEP' =&gt; 9, 'OCT' =&gt;10, 'NOV' =&gt;11, 'DEC' =&gt;12
}</dd>
    
      <dt id="ZoneOffset-constant">ZoneOffset</dt>
      <dd>{
  'UTC' =&gt; 0,
  # ISO 8601
  'Z' =&gt; 0,
  # RFC 822
  'UT' =&gt; 0, 'GMT' =&gt; 0,
  'EST' =&gt; -5, 'EDT' =&gt; -4,
  'CST' =&gt; -6, 'CDT' =&gt; -5,
  'MST' =&gt; -7, 'MDT' =&gt; -6,
  'PST' =&gt; -8, 'PDT' =&gt; -7,
  # Following definition of military zones is original one.
  # See RFC 1123 and RFC 2822 for the error in RFC 822.
  'A' =&gt; +1, 'B' =&gt; +2, 'C' =&gt; +3, 'D' =&gt; +4,  'E' =&gt; +5,  'F' =&gt; +6, 
  'G' =&gt; +7, 'H' =&gt; +8, 'I' =&gt; +9, 'K' =&gt; +10, 'L' =&gt; +11, 'M' =&gt; +12,
  'N' =&gt; -1, 'O' =&gt; -2, 'P' =&gt; -3, 'Q' =&gt; -4,  'R' =&gt; -5,  'S' =&gt; -6, 
  'T' =&gt; -7, 'U' =&gt; -8, 'V' =&gt; -9, 'W' =&gt; -10, 'X' =&gt; -11, 'Y' =&gt; -12,
}</dd>
    
  </dl>
</div>

</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#httpdate-class_method">httpdate</span><span class='args'>(date)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Parses <tt>date</tt> as HTTP-date defined by RFC 2616 and converts it to a
Time object.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#parse-class_method">parse</span><span class='args'>(date, now = self.now)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Parses <tt>date</tt> using Date.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#rfc2822-class_method">rfc2822</span><span class='args'>(date)</span>
        <span class='block'></span>
        
          <span class='alias'>rfc822</span>
        
      </th>
      <td class="docstring">
        <p>
Parses <tt>date</tt> as date-time defined by RFC 2822 and converts it to a
Time object.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#strptime-class_method">strptime</span><span class='args'>(date, format, now = self.now)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Parses <tt>date</tt> using Date.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#xmlschema-class_method">xmlschema</span><span class='args'>(date)</span>
        <span class='block'></span>
        
          <span class='alias'>iso8601</span>
        
      </th>
      <td class="docstring">
        <p>
Parses <tt>date</tt> as dateTime defined by XML Schema and converts it to a
Time object.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#yaml_new-class_method">yaml_new</span><span class='args'>(klass, tag, val)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#zone_offset-class_method">zone_offset</span><span class='args'>(zone, year = self.now.year)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#httpdate-instance_method">#httpdate</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a string which represents the time as rfc1123-date of HTTP-date
defined by RFC 2616: .
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#rfc2822-instance_method">#rfc2822</span><span class='args'></span>
        <span class='block'></span>
        
          <span class='alias'>#rfc822</span>
        
      </th>
      <td class="docstring">
        <p>
Returns a string which represents the time as date-time defined by RFC
2822:.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_yaml-instance_method">#to_yaml</span><span class='args'>(opts = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#xmlschema-instance_method">#xmlschema</span><span class='args'>(fraction_digits = 0)</span>
        <span class='block'></span>
        
          <span class='alias'>#iso8601</span>
        
      </th>
      <td class="docstring">
        <p>
Returns a string which represents the time as dateTime defined by XML
Schema:.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>httpdate</h3>
</div><div id="httpdate-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>httpdate</span><span class='args'>(date)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Parses <tt>date</tt> as HTTP-date defined by RFC 2616 and converts it to a
Time object.
</p>
<p>
ArgumentError is raised if <tt>date</tt> is not compliant with RFC 2616 or
Time class cannot represent specified date.
</p>
<p>
See #httpdate for more information on this format.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/time.rb', line 325</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/time.rb#L325">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='httpdate identifier id'>httpdate</span><span class='lparen token'>(</span><span class='date identifier id'>date</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='regexp val'>/\A\s*
      (?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),\x20
      (\d{2})\x20
      (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\x20
      (\d{4})\x20
      (\d{2}):(\d{2}):(\d{2})\x20
      GMT
      \s*\z/i</span><span class='x identifier id'>x</span> <span class='match op'>=~</span> <span class='date identifier id'>date</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='rfc2822 identifier id'>rfc2822</span><span class='lparen token'>(</span><span class='date identifier id'>date</span><span class='rparen token'>)</span>
  <span class='elsif elsif kw'>elsif</span> <span class='regexp val'>/\A\s*
         (?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday),\x20
         (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d)\x20
         (\d\d):(\d\d):(\d\d)\x20
         GMT
         \s*\z/i</span><span class='x identifier id'>x</span> <span class='match op'>=~</span> <span class='date identifier id'>date</span>
    <span class='year identifier id'>year</span> <span class='assign token'>=</span> <span class='$3 nth_ref id'>$3</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
    <span class='if if kw'>if</span> <span class='year identifier id'>year</span> <span class='lt op'>&lt;</span> <span class='integer val'>50</span>
      <span class='year identifier id'>year</span> <span class='opasgn op'>+=</span> <span class='integer val'>2000</span>
    <span class='else else kw'>else</span>
      <span class='year identifier id'>year</span> <span class='opasgn op'>+=</span> <span class='integer val'>1900</span>
    <span class='end end kw'>end</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='utc identifier id'>utc</span><span class='lparen token'>(</span><span class='year identifier id'>year</span><span class='comma token'>,</span> <span class='$2 nth_ref id'>$2</span><span class='comma token'>,</span> <span class='$1 nth_ref id'>$1</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span><span class='comma token'>,</span> <span class='$4 nth_ref id'>$4</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span><span class='comma token'>,</span> <span class='$5 nth_ref id'>$5</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span><span class='comma token'>,</span> <span class='$6 nth_ref id'>$6</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span><span class='rparen token'>)</span>
  <span class='elsif elsif kw'>elsif</span> <span class='regexp val'>/\A\s*
         (?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)\x20
         (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\x20
         (\d\d|\x20\d)\x20
         (\d\d):(\d\d):(\d\d)\x20
         (\d{4})
         \s*\z/i</span><span class='x identifier id'>x</span> <span class='match op'>=~</span> <span class='date identifier id'>date</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='utc identifier id'>utc</span><span class='lparen token'>(</span><span class='$6 nth_ref id'>$6</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span><span class='comma token'>,</span> <span class='MonthValue constant id'>MonthValue</span><span class='lbrack token'>[</span><span class='$1 nth_ref id'>$1</span><span class='dot token'>.</span><span class='upcase identifier id'>upcase</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='$2 nth_ref id'>$2</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span><span class='comma token'>,</span>
             <span class='$3 nth_ref id'>$3</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span><span class='comma token'>,</span> <span class='$4 nth_ref id'>$4</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span><span class='comma token'>,</span> <span class='$5 nth_ref id'>$5</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='dstring node'>&quot;not RFC 2616 compliant date: #{date.inspect}&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>parse</h3>
</div><div id="parse-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>parse</span><span class='args'>(date, now = self.now)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Parses <tt>date</tt> using Date._parse and converts it to a Time object.
</p>
<p>
If a block is given, the year described in <tt>date</tt> is converted by
the block. For example:
</p>
<pre class="code">
    <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='dot3 op'>...</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='y identifier id'>y</span><span class='bitor op'>|</span> <span class='y identifier id'>y</span> <span class='lt op'>&lt;</span> <span class='integer val'>100</span> <span class='question op'>?</span> <span class='lparen token'>(</span><span class='y identifier id'>y</span> <span class='geq op'>&gt;=</span> <span class='integer val'>69</span> <span class='question op'>?</span> <span class='y identifier id'>y</span> <span class='plus op'>+</span> <span class='integer val'>1900</span> <span class='colon op'>:</span> <span class='y identifier id'>y</span> <span class='plus op'>+</span> <span class='integer val'>2000</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='y identifier id'>y</span><span class='rbrace token'>}</span>
</pre>
<p>
If the upper components of the given time are broken or missing, they are
supplied with those of <tt>now</tt>. For the lower components, the minimum
values (1 or 0) are assumed if broken or missing. For example:
</p>
<pre class="code">
    <span class='comment val'># Suppose it is &quot;Thu Nov 29 14:33:20 GMT 2001&quot; now and</span>
    <span class='comment val'># your timezone is GMT:</span>
    <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='string val'>&quot;16:30&quot;</span><span class='rparen token'>)</span>     <span class='comment val'>#=&gt; Thu Nov 29 16:30:00 GMT 2001</span>
    <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='string val'>&quot;7/23&quot;</span><span class='rparen token'>)</span>      <span class='comment val'>#=&gt; Mon Jul 23 00:00:00 GMT 2001</span>
    <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='string val'>&quot;Aug 31&quot;</span><span class='rparen token'>)</span>    <span class='comment val'>#=&gt; Fri Aug 31 00:00:00 GMT 2001</span>
</pre>
<p>
Since there are numerous conflicts among locally defined timezone
abbreviations all over the world, this method is not made to understand all
of them. For example, the abbreviation &quot;CST&quot; is used variously
as:
</p>
<pre class="code">
    <span class='integer val'>-06</span><span class='symbol val'>:00</span> <span class='in in kw'>in</span> <span class='America constant id'>America</span><span class='div op'>/</span><span class='Chicago constant id'>Chicago</span><span class='comma token'>,</span>
    <span class='integer val'>-05</span><span class='symbol val'>:00</span> <span class='in in kw'>in</span> <span class='America constant id'>America</span><span class='div op'>/</span><span class='Havana constant id'>Havana</span><span class='comma token'>,</span>
    <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='integer val'>0</span><span class='integer val'>8</span><span class='symbol val'>:00</span> <span class='in in kw'>in</span> <span class='Asia constant id'>Asia</span><span class='div op'>/</span><span class='Harbin constant id'>Harbin</span><span class='comma token'>,</span>
    <span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;09:30 in Australia/</span><span class='Darwin constant id'>Darwin</span><span class='comma token'>,</span>
    <span class='integer val'>+10</span><span class='symbol val'>:30</span> <span class='in in kw'>in</span> <span class='Australia constant id'>Australia</span><span class='div op'>/</span><span class='Adelaide constant id'>Adelaide</span><span class='comma token'>,</span>
    <span class='etc identifier id'>etc</span><span class='dot token'>.</span>
</pre>
<p>
Based on the fact, this method only understands the timezone abbreviations
described in RFC 822 and the system timezone, in the order named. (i.e. a
definition in RFC 822 overrides the system timezone definition.) The system
timezone is taken from <tt>Time.local(year, 1, 1).zone</tt> and
<tt>Time.local(year, 7, 1).zone</tt>. If the extracted timezone
abbreviation does not match any of them, it is ignored and the given time
is regarded as a local time.
</p>
<p>
ArgumentError is raised if Date._parse cannot extract information from
<tt>date</tt> or Time class cannot represent specified date.
</p>
<p>
This method can be used as fail-safe for other parsing methods as:
</p>
<pre class="code">
  <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='rfc2822 identifier id'>rfc2822</span><span class='lparen token'>(</span><span class='date identifier id'>date</span><span class='rparen token'>)</span> <span class='rescue rescue kw'>rescue</span> <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='date identifier id'>date</span><span class='rparen token'>)</span>
  <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='httpdate identifier id'>httpdate</span><span class='lparen token'>(</span><span class='date identifier id'>date</span><span class='rparen token'>)</span> <span class='rescue rescue kw'>rescue</span> <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='date identifier id'>date</span><span class='rparen token'>)</span>
  <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='xmlschema identifier id'>xmlschema</span><span class='lparen token'>(</span><span class='date identifier id'>date</span><span class='rparen token'>)</span> <span class='rescue rescue kw'>rescue</span> <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='date identifier id'>date</span><span class='rparen token'>)</span>
</pre>
<p>
A failure for Time.parse should be checked, though.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/time.rb', line 239</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/time.rb#L239">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">239
240
241
242
243
244</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='date identifier id'>date</span><span class='comma token'>,</span> <span class='now identifier id'>now</span><span class='assign token'>=</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='now identifier id'>now</span><span class='rparen token'>)</span>
  <span class='d identifier id'>d</span> <span class='assign token'>=</span> <span class='Date constant id'>Date</span><span class='dot token'>.</span><span class='_parse identifier id'>_parse</span><span class='lparen token'>(</span><span class='date identifier id'>date</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='year identifier id'>year</span> <span class='assign token'>=</span> <span class='d identifier id'>d</span><span class='lbrack token'>[</span><span class='symbol val'>:year</span><span class='rbrack token'>]</span>
  <span class='year identifier id'>year</span> <span class='assign token'>=</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='year identifier id'>year</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='year identifier id'>year</span> <span class='andop op'>&amp;&amp;</span> <span class='block_given? fid id'>block_given?</span>
  <span class='make_time identifier id'>make_time</span><span class='lparen token'>(</span><span class='year identifier id'>year</span><span class='comma token'>,</span> <span class='d identifier id'>d</span><span class='lbrack token'>[</span><span class='symbol val'>:mon</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='d identifier id'>d</span><span class='lbrack token'>[</span><span class='symbol val'>:mday</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='d identifier id'>d</span><span class='lbrack token'>[</span><span class='symbol val'>:hour</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='d identifier id'>d</span><span class='lbrack token'>[</span><span class='symbol val'>:min</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='d identifier id'>d</span><span class='lbrack token'>[</span><span class='symbol val'>:sec</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='d identifier id'>d</span><span class='lbrack token'>[</span><span class='symbol val'>:sec_fraction</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='d identifier id'>d</span><span class='lbrack token'>[</span><span class='symbol val'>:zone</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='now identifier id'>now</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>rfc2822</h3>
</div><div id="rfc2822-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>rfc2822</span><span class='args'>(date)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="rfc822-class_method">rfc822</tt>
  
</p>
</div><div class="section docstring">
  <p>
Parses <tt>date</tt> as date-time defined by RFC 2822 and converts it to a
Time object. The format is identical to the date format defined by RFC 822
and updated by RFC 1123.
</p>
<p>
ArgumentError is raised if <tt>date</tt> is not compliant with RFC 2822 or
Time class cannot represent specified date.
</p>
<p>
See #rfc2822 for more information on this format.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/time.rb', line 276</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/time.rb#L276">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='rfc2822 identifier id'>rfc2822</span><span class='lparen token'>(</span><span class='date identifier id'>date</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='regexp val'>/\A\s*
      (?:(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)\s*,\s*)?
      (\d{1,2})\s+
      (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s+
      (\d{2,})\s+
      (\d{2})\s*
      :\s*(\d{2})\s*
      (?::\s*(\d{2}))?\s+
      ([+-]\d{4}|
       UT|GMT|EST|EDT|CST|CDT|MST|MDT|PST|PDT|[A-IK-Z])/i</span><span class='x identifier id'>x</span> <span class='match op'>=~</span> <span class='date identifier id'>date</span>
    <span class='comment val'># Since RFC 2822 permit comments, the regexp has no right anchor.</span>
    <span class='day identifier id'>day</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
    <span class='mon identifier id'>mon</span> <span class='assign token'>=</span> <span class='MonthValue constant id'>MonthValue</span><span class='lbrack token'>[</span><span class='$2 nth_ref id'>$2</span><span class='dot token'>.</span><span class='upcase identifier id'>upcase</span><span class='rbrack token'>]</span>
    <span class='year identifier id'>year</span> <span class='assign token'>=</span> <span class='$3 nth_ref id'>$3</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
    <span class='hour identifier id'>hour</span> <span class='assign token'>=</span> <span class='$4 nth_ref id'>$4</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
    <span class='min identifier id'>min</span> <span class='assign token'>=</span> <span class='$5 nth_ref id'>$5</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
    <span class='sec identifier id'>sec</span> <span class='assign token'>=</span> <span class='$6 nth_ref id'>$6</span> <span class='question op'>?</span> <span class='$6 nth_ref id'>$6</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span> <span class='colon op'>:</span> <span class='integer val'>0</span>
    <span class='zone identifier id'>zone</span> <span class='assign token'>=</span> <span class='$7 nth_ref id'>$7</span>

    <span class='comment val'># following year completion is compliant with RFC 2822.</span>
    <span class='year identifier id'>year</span> <span class='assign token'>=</span> <span class='if if kw'>if</span> <span class='year identifier id'>year</span> <span class='lt op'>&lt;</span> <span class='integer val'>50</span>
             <span class='integer val'>2000</span> <span class='plus op'>+</span> <span class='year identifier id'>year</span>
           <span class='elsif elsif kw'>elsif</span> <span class='year identifier id'>year</span> <span class='lt op'>&lt;</span> <span class='integer val'>1000</span>
             <span class='integer val'>1900</span> <span class='plus op'>+</span> <span class='year identifier id'>year</span>
           <span class='else else kw'>else</span>
             <span class='year identifier id'>year</span>
           <span class='end end kw'>end</span>

    <span class='year identifier id'>year</span><span class='comma token'>,</span> <span class='mon identifier id'>mon</span><span class='comma token'>,</span> <span class='day identifier id'>day</span><span class='comma token'>,</span> <span class='hour identifier id'>hour</span><span class='comma token'>,</span> <span class='min identifier id'>min</span><span class='comma token'>,</span> <span class='sec identifier id'>sec</span> <span class='assign token'>=</span>
      <span class='apply_offset identifier id'>apply_offset</span><span class='lparen token'>(</span><span class='year identifier id'>year</span><span class='comma token'>,</span> <span class='mon identifier id'>mon</span><span class='comma token'>,</span> <span class='day identifier id'>day</span><span class='comma token'>,</span> <span class='hour identifier id'>hour</span><span class='comma token'>,</span> <span class='min identifier id'>min</span><span class='comma token'>,</span> <span class='sec identifier id'>sec</span><span class='comma token'>,</span> <span class='zone_offset identifier id'>zone_offset</span><span class='lparen token'>(</span><span class='zone identifier id'>zone</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='t identifier id'>t</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='utc identifier id'>utc</span><span class='lparen token'>(</span><span class='year identifier id'>year</span><span class='comma token'>,</span> <span class='mon identifier id'>mon</span><span class='comma token'>,</span> <span class='day identifier id'>day</span><span class='comma token'>,</span> <span class='hour identifier id'>hour</span><span class='comma token'>,</span> <span class='min identifier id'>min</span><span class='comma token'>,</span> <span class='sec identifier id'>sec</span><span class='rparen token'>)</span>
    <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='localtime identifier id'>localtime</span> <span class='if if_mod kw'>if</span> <span class='notop op'>!</span><span class='zone_utc? fid id'>zone_utc?</span><span class='lparen token'>(</span><span class='zone identifier id'>zone</span><span class='rparen token'>)</span>
    <span class='t identifier id'>t</span>
  <span class='else else kw'>else</span>
    <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='dstring node'>&quot;not RFC 2822 compliant date: #{date.inspect}&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>strptime</h3>
</div><div id="strptime-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>strptime</span><span class='args'>(date, format, now = self.now)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Parses <tt>date</tt> using Date._strptime and converts it to a Time object.
</p>
<p>
If a block is given, the year described in <tt>date</tt> is converted by
the block. For example:
</p>
<pre class="code">
    <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='strptime identifier id'>strptime</span><span class='lparen token'>(</span><span class='dot3 op'>...</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='y identifier id'>y</span><span class='bitor op'>|</span> <span class='y identifier id'>y</span> <span class='lt op'>&lt;</span> <span class='integer val'>100</span> <span class='question op'>?</span> <span class='lparen token'>(</span><span class='y identifier id'>y</span> <span class='geq op'>&gt;=</span> <span class='integer val'>69</span> <span class='question op'>?</span> <span class='y identifier id'>y</span> <span class='plus op'>+</span> <span class='integer val'>1900</span> <span class='colon op'>:</span> <span class='y identifier id'>y</span> <span class='plus op'>+</span> <span class='integer val'>2000</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='y identifier id'>y</span><span class='rbrace token'>}</span>
</pre>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>ArgumentError</tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/time.rb', line 253</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/time.rb#L253">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">253
254
255
256
257
258
259</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='strptime identifier id'>strptime</span><span class='lparen token'>(</span><span class='date identifier id'>date</span><span class='comma token'>,</span> <span class='format identifier id'>format</span><span class='comma token'>,</span> <span class='now identifier id'>now</span><span class='assign token'>=</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='now identifier id'>now</span><span class='rparen token'>)</span>
  <span class='d identifier id'>d</span> <span class='assign token'>=</span> <span class='Date constant id'>Date</span><span class='dot token'>.</span><span class='_strptime identifier id'>_strptime</span><span class='lparen token'>(</span><span class='date identifier id'>date</span><span class='comma token'>,</span> <span class='format identifier id'>format</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;invalid strptime format - `#{format}'&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='d identifier id'>d</span>
  <span class='year identifier id'>year</span> <span class='assign token'>=</span> <span class='d identifier id'>d</span><span class='lbrack token'>[</span><span class='symbol val'>:year</span><span class='rbrack token'>]</span>
  <span class='year identifier id'>year</span> <span class='assign token'>=</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='year identifier id'>year</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='year identifier id'>year</span> <span class='andop op'>&amp;&amp;</span> <span class='block_given? fid id'>block_given?</span>
  <span class='make_time identifier id'>make_time</span><span class='lparen token'>(</span><span class='year identifier id'>year</span><span class='comma token'>,</span> <span class='d identifier id'>d</span><span class='lbrack token'>[</span><span class='symbol val'>:mon</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='d identifier id'>d</span><span class='lbrack token'>[</span><span class='symbol val'>:mday</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='d identifier id'>d</span><span class='lbrack token'>[</span><span class='symbol val'>:hour</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='d identifier id'>d</span><span class='lbrack token'>[</span><span class='symbol val'>:min</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='d identifier id'>d</span><span class='lbrack token'>[</span><span class='symbol val'>:sec</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='d identifier id'>d</span><span class='lbrack token'>[</span><span class='symbol val'>:sec_fraction</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='d identifier id'>d</span><span class='lbrack token'>[</span><span class='symbol val'>:zone</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='now identifier id'>now</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>xmlschema</h3>
</div><div id="xmlschema-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>xmlschema</span><span class='args'>(date)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="iso8601-class_method">iso8601</tt>
  
</p>
</div><div class="section docstring">
  <p>
Parses <tt>date</tt> as dateTime defined by XML Schema and converts it to a
Time object. The format is restricted version of the format defined by ISO
8601.
</p>
<p>
ArgumentError is raised if <tt>date</tt> is not compliant with the format
or Time class cannot represent specified date.
</p>
<p>
See #xmlschema for more information on this format.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/time.rb', line 372</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/time.rb#L372">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='xmlschema identifier id'>xmlschema</span><span class='lparen token'>(</span><span class='date identifier id'>date</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='regexp val'>/\A\s*
      (-?\d+)-(\d\d)-(\d\d)
      T
      (\d\d):(\d\d):(\d\d)
      (\.\d*)?
      (Z|[+-]\d\d:\d\d)?
      \s*\z/i</span><span class='x identifier id'>x</span> <span class='match op'>=~</span> <span class='date identifier id'>date</span>
    <span class='year identifier id'>year</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
    <span class='mon identifier id'>mon</span> <span class='assign token'>=</span> <span class='$2 nth_ref id'>$2</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
    <span class='day identifier id'>day</span> <span class='assign token'>=</span> <span class='$3 nth_ref id'>$3</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
    <span class='hour identifier id'>hour</span> <span class='assign token'>=</span> <span class='$4 nth_ref id'>$4</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
    <span class='min identifier id'>min</span> <span class='assign token'>=</span> <span class='$5 nth_ref id'>$5</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
    <span class='sec identifier id'>sec</span> <span class='assign token'>=</span> <span class='$6 nth_ref id'>$6</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
    <span class='usec identifier id'>usec</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
    <span class='usec identifier id'>usec</span> <span class='assign token'>=</span> <span class='$7 nth_ref id'>$7</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span> <span class='mult op'>*</span> <span class='integer val'>1000000</span> <span class='if if_mod kw'>if</span> <span class='$7 nth_ref id'>$7</span>
    <span class='if if kw'>if</span> <span class='$8 nth_ref id'>$8</span>
      <span class='zone identifier id'>zone</span> <span class='assign token'>=</span> <span class='$8 nth_ref id'>$8</span>
      <span class='year identifier id'>year</span><span class='comma token'>,</span> <span class='mon identifier id'>mon</span><span class='comma token'>,</span> <span class='day identifier id'>day</span><span class='comma token'>,</span> <span class='hour identifier id'>hour</span><span class='comma token'>,</span> <span class='min identifier id'>min</span><span class='comma token'>,</span> <span class='sec identifier id'>sec</span> <span class='assign token'>=</span>
        <span class='apply_offset identifier id'>apply_offset</span><span class='lparen token'>(</span><span class='year identifier id'>year</span><span class='comma token'>,</span> <span class='mon identifier id'>mon</span><span class='comma token'>,</span> <span class='day identifier id'>day</span><span class='comma token'>,</span> <span class='hour identifier id'>hour</span><span class='comma token'>,</span> <span class='min identifier id'>min</span><span class='comma token'>,</span> <span class='sec identifier id'>sec</span><span class='comma token'>,</span> <span class='zone_offset identifier id'>zone_offset</span><span class='lparen token'>(</span><span class='zone identifier id'>zone</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='utc identifier id'>utc</span><span class='lparen token'>(</span><span class='year identifier id'>year</span><span class='comma token'>,</span> <span class='mon identifier id'>mon</span><span class='comma token'>,</span> <span class='day identifier id'>day</span><span class='comma token'>,</span> <span class='hour identifier id'>hour</span><span class='comma token'>,</span> <span class='min identifier id'>min</span><span class='comma token'>,</span> <span class='sec identifier id'>sec</span><span class='comma token'>,</span> <span class='usec identifier id'>usec</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='local identifier id'>local</span><span class='lparen token'>(</span><span class='year identifier id'>year</span><span class='comma token'>,</span> <span class='mon identifier id'>mon</span><span class='comma token'>,</span> <span class='day identifier id'>day</span><span class='comma token'>,</span> <span class='hour identifier id'>hour</span><span class='comma token'>,</span> <span class='min identifier id'>min</span><span class='comma token'>,</span> <span class='sec identifier id'>sec</span><span class='comma token'>,</span> <span class='usec identifier id'>usec</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='dstring node'>&quot;invalid date: #{date.inspect}&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>yaml_new</h3>
</div><div id="yaml_new-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>yaml_new</span><span class='args'>(klass, tag, val)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/yaml/rubytypes.rb', line 303</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/yaml/rubytypes.rb#L303">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">303
304
305
306
307
308
309
310
311</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='yaml_new identifier id'>yaml_new</span><span class='lparen token'>(</span> <span class='klass identifier id'>klass</span><span class='comma token'>,</span> <span class='tag identifier id'>tag</span><span class='comma token'>,</span> <span class='val identifier id'>val</span> <span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='Hash constant id'>Hash</span> <span class='eqq op'>===</span> <span class='val identifier id'>val</span>
        <span class='t identifier id'>t</span> <span class='assign token'>=</span> <span class='val identifier id'>val</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span> <span class='string val'>'at'</span> <span class='rparen token'>)</span>
        <span class='val identifier id'>val</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='instance_variable_set identifier id'>instance_variable_set</span><span class='lparen token'>(</span> <span class='k identifier id'>k</span><span class='comma token'>,</span> <span class='v identifier id'>v</span> <span class='rparen token'>)</span> <span class='rbrace token'>}</span>
        <span class='t identifier id'>t</span>
    <span class='else else kw'>else</span>
        <span class='raise identifier id'>raise</span> <span class='YAML constant id'>YAML</span><span class='colon2 op'>::</span><span class='TypeError constant id'>TypeError</span><span class='comma token'>,</span> <span class='string val'>&quot;Invalid Time: &quot;</span> <span class='plus op'>+</span> <span class='val identifier id'>val</span><span class='dot token'>.</span><span class='inspect identifier id'>inspect</span>
    <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>zone_offset</h3>
</div><div id="zone_offset-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>zone_offset</span><span class='args'>(zone, year = self.now.year)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/time.rb', line 69</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/time.rb#L69">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='zone_offset identifier id'>zone_offset</span><span class='lparen token'>(</span><span class='zone identifier id'>zone</span><span class='comma token'>,</span> <span class='year identifier id'>year</span><span class='assign token'>=</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='now identifier id'>now</span><span class='dot token'>.</span><span class='year identifier id'>year</span><span class='rparen token'>)</span>
  <span class='off identifier id'>off</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='zone identifier id'>zone</span> <span class='assign token'>=</span> <span class='zone identifier id'>zone</span><span class='dot token'>.</span><span class='upcase identifier id'>upcase</span>
  <span class='if if kw'>if</span> <span class='regexp val'>/\A([+-])(\d\d):?(\d\d)\z/</span> <span class='match op'>=~</span> <span class='zone identifier id'>zone</span>
    <span class='off identifier id'>off</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='$1 nth_ref id'>$1</span> <span class='eq op'>==</span> <span class='string val'>'-'</span> <span class='question op'>?</span> <span class='integer val'>-1</span> <span class='colon op'>:</span> <span class='integer val'>1</span><span class='rparen token'>)</span> <span class='mult op'>*</span> <span class='lparen token'>(</span><span class='$2 nth_ref id'>$2</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span> <span class='mult op'>*</span> <span class='integer val'>60</span> <span class='plus op'>+</span> <span class='$3 nth_ref id'>$3</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span><span class='rparen token'>)</span> <span class='mult op'>*</span> <span class='integer val'>60</span>
  <span class='elsif elsif kw'>elsif</span> <span class='regexp val'>/\A[+-]\d\d\z/</span> <span class='match op'>=~</span> <span class='zone identifier id'>zone</span>
    <span class='off identifier id'>off</span> <span class='assign token'>=</span> <span class='zone identifier id'>zone</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span> <span class='mult op'>*</span> <span class='integer val'>3600</span>
  <span class='elsif elsif kw'>elsif</span> <span class='ZoneOffset constant id'>ZoneOffset</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='zone identifier id'>zone</span><span class='rparen token'>)</span>
    <span class='off identifier id'>off</span> <span class='assign token'>=</span> <span class='ZoneOffset constant id'>ZoneOffset</span><span class='lbrack token'>[</span><span class='zone identifier id'>zone</span><span class='rbrack token'>]</span> <span class='mult op'>*</span> <span class='integer val'>3600</span>
  <span class='elsif elsif kw'>elsif</span> <span class='lparen token'>(</span><span class='lparen token'>(</span><span class='t identifier id'>t</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='local identifier id'>local</span><span class='lparen token'>(</span><span class='year identifier id'>year</span><span class='comma token'>,</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='integer val'>1</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='zone identifier id'>zone</span><span class='dot token'>.</span><span class='upcase identifier id'>upcase</span> <span class='eq op'>==</span> <span class='zone identifier id'>zone</span> <span class='rescue rescue kw'>rescue</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>
    <span class='off identifier id'>off</span> <span class='assign token'>=</span> <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='utc_offset identifier id'>utc_offset</span>
  <span class='elsif elsif kw'>elsif</span> <span class='lparen token'>(</span><span class='lparen token'>(</span><span class='t identifier id'>t</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='local identifier id'>local</span><span class='lparen token'>(</span><span class='year identifier id'>year</span><span class='comma token'>,</span> <span class='integer val'>7</span><span class='comma token'>,</span> <span class='integer val'>1</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='zone identifier id'>zone</span><span class='dot token'>.</span><span class='upcase identifier id'>upcase</span> <span class='eq op'>==</span> <span class='zone identifier id'>zone</span> <span class='rescue rescue kw'>rescue</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>
    <span class='off identifier id'>off</span> <span class='assign token'>=</span> <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='utc_offset identifier id'>utc_offset</span>
  <span class='end end kw'>end</span>
  <span class='off identifier id'>off</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>httpdate</h3>
</div><div id="httpdate-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>httpdate</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a string which represents the time as rfc1123-date of HTTP-date
defined by RFC 2616:
</p>
<pre class="code">
  <span class='day identifier id'>day</span><span class='minus op'>-</span><span class='of identifier id'>of</span><span class='minus op'>-</span><span class='week identifier id'>week</span><span class='comma token'>,</span> <span class='DD constant id'>DD</span> <span class='month identifier id'>month</span><span class='minus op'>-</span><span class='name identifier id'>name</span> <span class='CCYY constant id'>CCYY</span> <span class='hh identifier id'>hh</span><span class='symbol val'>:mm</span><span class='symbol val'>:ss</span> <span class='GMT constant id'>GMT</span>
</pre>
<p>
Note that the result is always UTC (GMT).
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/time.rb', line 447</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/time.rb#L447">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">447
448
449
450
451
452
453</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='httpdate identifier id'>httpdate</span>
  <span class='t identifier id'>t</span> <span class='assign token'>=</span> <span class='dup identifier id'>dup</span><span class='dot token'>.</span><span class='utc identifier id'>utc</span>
  <span class='sprintf identifier id'>sprintf</span><span class='lparen token'>(</span><span class='string val'>'%s, %02d %s %d %02d:%02d:%02d GMT'</span><span class='comma token'>,</span>
    <span class='RFC2822_DAY_NAME constant id'>RFC2822_DAY_NAME</span><span class='lbrack token'>[</span><span class='t identifier id'>t</span><span class='dot token'>.</span><span class='wday identifier id'>wday</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
    <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='day identifier id'>day</span><span class='comma token'>,</span> <span class='RFC2822_MONTH_NAME constant id'>RFC2822_MONTH_NAME</span><span class='lbrack token'>[</span><span class='t identifier id'>t</span><span class='dot token'>.</span><span class='mon identifier id'>mon</span><span class='minus op'>-</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='year identifier id'>year</span><span class='comma token'>,</span>
    <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='hour identifier id'>hour</span><span class='comma token'>,</span> <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='min identifier id'>min</span><span class='comma token'>,</span> <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='sec identifier id'>sec</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>rfc2822</h3>
</div><div id="rfc2822-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>rfc2822</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="rfc822-instance_method">rfc822</tt>
  
</p>
</div><div class="section docstring">
  <p>
Returns a string which represents the time as date-time defined by RFC
2822:
</p>
<pre class="code">
  <span class='day identifier id'>day</span><span class='minus op'>-</span><span class='of identifier id'>of</span><span class='minus op'>-</span><span class='week identifier id'>week</span><span class='comma token'>,</span> <span class='DD constant id'>DD</span> <span class='month identifier id'>month</span><span class='minus op'>-</span><span class='name identifier id'>name</span> <span class='CCYY constant id'>CCYY</span> <span class='hh identifier id'>hh</span><span class='symbol val'>:mm</span><span class='symbol val'>:ss</span> <span class='zone identifier id'>zone</span>
</pre>
<p>
where zone is [+-]hhmm.
</p>
<p>
If <tt>self</tt> is a UTC time, -0000 is used as zone.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/time.rb', line 412</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/time.rb#L412">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">412
413
414
415
416
417
418
419
420
421
422
423
424</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='rfc2822 identifier id'>rfc2822</span>
  <span class='sprintf identifier id'>sprintf</span><span class='lparen token'>(</span><span class='string val'>'%s, %02d %s %d %02d:%02d:%02d '</span><span class='comma token'>,</span>
    <span class='RFC2822_DAY_NAME constant id'>RFC2822_DAY_NAME</span><span class='lbrack token'>[</span><span class='wday identifier id'>wday</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
    <span class='day identifier id'>day</span><span class='comma token'>,</span> <span class='RFC2822_MONTH_NAME constant id'>RFC2822_MONTH_NAME</span><span class='lbrack token'>[</span><span class='mon identifier id'>mon</span><span class='minus op'>-</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='year identifier id'>year</span><span class='comma token'>,</span>
    <span class='hour identifier id'>hour</span><span class='comma token'>,</span> <span class='min identifier id'>min</span><span class='comma token'>,</span> <span class='sec identifier id'>sec</span><span class='rparen token'>)</span> <span class='plus op'>+</span>
  <span class='if if kw'>if</span> <span class='utc? fid id'>utc?</span>
    <span class='string val'>'-0000'</span>
  <span class='else else kw'>else</span>
    <span class='off identifier id'>off</span> <span class='assign token'>=</span> <span class='utc_offset identifier id'>utc_offset</span>
    <span class='sign identifier id'>sign</span> <span class='assign token'>=</span> <span class='off identifier id'>off</span> <span class='lt op'>&lt;</span> <span class='integer val'>0</span> <span class='question op'>?</span> <span class='string val'>'-'</span> <span class='colon op'>:</span> <span class='string val'>'+'</span>
    <span class='sprintf identifier id'>sprintf</span><span class='lparen token'>(</span><span class='string val'>'%s%02d%02d'</span><span class='comma token'>,</span> <span class='sign identifier id'>sign</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='lparen token'>(</span><span class='off identifier id'>off</span><span class='dot token'>.</span><span class='abs identifier id'>abs</span> <span class='div op'>/</span> <span class='integer val'>60</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='divmod identifier id'>divmod</span><span class='lparen token'>(</span><span class='integer val'>60</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_yaml</h3>
</div><div id="to_yaml-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_yaml</span><span class='args'>(opts = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/yaml/rubytypes.rb', line 312</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/yaml/rubytypes.rb#L312">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_yaml identifier id'>to_yaml</span><span class='lparen token'>(</span> <span class='opts identifier id'>opts</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span> <span class='rparen token'>)</span>
  <span class='YAML constant id'>YAML</span><span class='colon2 op'>::</span><span class='quick_emit identifier id'>quick_emit</span><span class='lparen token'>(</span> <span class='self self kw'>self</span><span class='comma token'>,</span> <span class='opts identifier id'>opts</span> <span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='out identifier id'>out</span><span class='bitor op'>|</span>
          <span class='tz identifier id'>tz</span> <span class='assign token'>=</span> <span class='string val'>&quot;Z&quot;</span>
          <span class='comment val'># from the tidy Tobias Peters &lt;t-peters@gmx.de&gt; Thanks!</span>
          <span class='unless unless kw'>unless</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='utc? fid id'>utc?</span>
              <span class='utc_same_instant identifier id'>utc_same_instant</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span><span class='dot token'>.</span><span class='utc identifier id'>utc</span>
              <span class='utc_same_writing identifier id'>utc_same_writing</span> <span class='assign token'>=</span> <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='utc identifier id'>utc</span><span class='lparen token'>(</span><span class='year identifier id'>year</span><span class='comma token'>,</span><span class='month identifier id'>month</span><span class='comma token'>,</span><span class='day identifier id'>day</span><span class='comma token'>,</span><span class='hour identifier id'>hour</span><span class='comma token'>,</span><span class='min identifier id'>min</span><span class='comma token'>,</span><span class='sec identifier id'>sec</span><span class='comma token'>,</span><span class='usec identifier id'>usec</span><span class='rparen token'>)</span>
              <span class='difference_to_utc identifier id'>difference_to_utc</span> <span class='assign token'>=</span> <span class='utc_same_writing identifier id'>utc_same_writing</span> <span class='minus op'>-</span> <span class='utc_same_instant identifier id'>utc_same_instant</span>
              <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='difference_to_utc identifier id'>difference_to_utc</span> <span class='lt op'>&lt;</span> <span class='integer val'>0</span><span class='rparen token'>)</span> 
                  <span class='difference_sign identifier id'>difference_sign</span> <span class='assign token'>=</span> <span class='string val'>'-'</span>
                  <span class='absolute_difference identifier id'>absolute_difference</span> <span class='assign token'>=</span> <span class='minus op'>-</span><span class='difference_to_utc identifier id'>difference_to_utc</span>
              <span class='else else kw'>else</span>
                  <span class='difference_sign identifier id'>difference_sign</span> <span class='assign token'>=</span> <span class='string val'>'+'</span>
                  <span class='absolute_difference identifier id'>absolute_difference</span> <span class='assign token'>=</span> <span class='difference_to_utc identifier id'>difference_to_utc</span>
              <span class='end end kw'>end</span>
              <span class='difference_minutes identifier id'>difference_minutes</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='absolute_difference identifier id'>absolute_difference</span><span class='div op'>/</span><span class='integer val'>60</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='round identifier id'>round</span>
              <span class='tz identifier id'>tz</span> <span class='assign token'>=</span> <span class='string val'>&quot;%s%02d:%02d&quot;</span> <span class='mod op'>%</span> <span class='lbrack token'>[</span> <span class='difference_sign identifier id'>difference_sign</span><span class='comma token'>,</span> <span class='difference_minutes identifier id'>difference_minutes</span> <span class='div op'>/</span> <span class='integer val'>60</span><span class='comma token'>,</span> <span class='difference_minutes identifier id'>difference_minutes</span> <span class='mod op'>%</span> <span class='integer val'>60</span><span class='rbrack token'>]</span>
          <span class='end end kw'>end</span>
          <span class='standard identifier id'>standard</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='strftime identifier id'>strftime</span><span class='lparen token'>(</span> <span class='string val'>&quot;%Y-%m-%d %H:%M:%S&quot;</span> <span class='rparen token'>)</span>
          <span class='standard identifier id'>standard</span> <span class='opasgn op'>+=</span> <span class='string val'>&quot;.%06d&quot;</span> <span class='mod op'>%</span> <span class='lbrack token'>[</span><span class='usec identifier id'>usec</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='usec identifier id'>usec</span><span class='dot token'>.</span><span class='nonzero? fid id'>nonzero?</span>
          <span class='standard identifier id'>standard</span> <span class='opasgn op'>+=</span> <span class='string val'>&quot; %s&quot;</span> <span class='mod op'>%</span> <span class='lbrack token'>[</span><span class='tz identifier id'>tz</span><span class='rbrack token'>]</span>
          <span class='if if kw'>if</span> <span class='to_yaml_properties identifier id'>to_yaml_properties</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
              <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='scalar identifier id'>scalar</span><span class='lparen token'>(</span> <span class='taguri identifier id'>taguri</span><span class='comma token'>,</span> <span class='standard identifier id'>standard</span><span class='comma token'>,</span> <span class='symbol val'>:plain</span> <span class='rparen token'>)</span>
          <span class='else else kw'>else</span>
              <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lparen token'>(</span> <span class='taguri identifier id'>taguri</span><span class='comma token'>,</span> <span class='to_yaml_style identifier id'>to_yaml_style</span> <span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='map identifier id'>map</span><span class='bitor op'>|</span>
                  <span class='map identifier id'>map</span><span class='dot token'>.</span><span class='add identifier id'>add</span><span class='lparen token'>(</span> <span class='string val'>'at'</span><span class='comma token'>,</span> <span class='standard identifier id'>standard</span> <span class='rparen token'>)</span>
                  <span class='to_yaml_properties identifier id'>to_yaml_properties</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='m identifier id'>m</span><span class='bitor op'>|</span>
                      <span class='map identifier id'>map</span><span class='dot token'>.</span><span class='add identifier id'>add</span><span class='lparen token'>(</span> <span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='instance_variable_get identifier id'>instance_variable_get</span><span class='lparen token'>(</span> <span class='m identifier id'>m</span> <span class='rparen token'>)</span> <span class='rparen token'>)</span>
                  <span class='end end kw'>end</span>
              <span class='end end kw'>end</span>
          <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>xmlschema</h3>
</div><div id="xmlschema-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>xmlschema</span><span class='args'>(fraction_digits = 0)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="iso8601-instance_method">iso8601</tt>
  
</p>
</div><div class="section docstring">
  <p>
Returns a string which represents the time as dateTime defined by XML
Schema:
</p>
<pre class="code">
  <span class='CCYY constant id'>CCYY</span><span class='minus op'>-</span><span class='MM constant id'>MM</span><span class='minus op'>-</span><span class='DDThh constant id'>DDThh</span><span class='symbol val'>:mm</span><span class='symbol val'>:ssTZD</span>
  <span class='CCYY constant id'>CCYY</span><span class='minus op'>-</span><span class='MM constant id'>MM</span><span class='minus op'>-</span><span class='DDThh constant id'>DDThh</span><span class='symbol val'>:mm</span><span class='symbol val'>:ss</span><span class='dot token'>.</span><span class='sssTZD identifier id'>sssTZD</span>
</pre>
<p>
where TZD is Z or [<tt>-]hh:mm.
</p>
<p>
If self is a UTC time, Z is used as TZD. [</tt>-]hh:mm is used otherwise.
</p>
<p>
<tt>fractional_seconds</tt> specifies a number of digits of fractional
seconds. Its default value is 0.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/time.rb', line 469</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/time.rb#L469">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='xmlschema identifier id'>xmlschema</span><span class='lparen token'>(</span><span class='fraction_digits identifier id'>fraction_digits</span><span class='assign token'>=</span><span class='integer val'>0</span><span class='rparen token'>)</span>
  <span class='sprintf identifier id'>sprintf</span><span class='lparen token'>(</span><span class='string val'>'%d-%02d-%02dT%02d:%02d:%02d'</span><span class='comma token'>,</span>
    <span class='year identifier id'>year</span><span class='comma token'>,</span> <span class='mon identifier id'>mon</span><span class='comma token'>,</span> <span class='day identifier id'>day</span><span class='comma token'>,</span> <span class='hour identifier id'>hour</span><span class='comma token'>,</span> <span class='min identifier id'>min</span><span class='comma token'>,</span> <span class='sec identifier id'>sec</span><span class='rparen token'>)</span> <span class='plus op'>+</span>
  <span class='if if kw'>if</span> <span class='fraction_digits identifier id'>fraction_digits</span> <span class='eq op'>==</span> <span class='integer val'>0</span>
    <span class='string val'>''</span>
  <span class='elsif elsif kw'>elsif</span> <span class='fraction_digits identifier id'>fraction_digits</span> <span class='leq op'>&lt;=</span> <span class='integer val'>9</span>
    <span class='string val'>'.'</span> <span class='plus op'>+</span> <span class='sprintf identifier id'>sprintf</span><span class='lparen token'>(</span><span class='string val'>'%09d'</span><span class='comma token'>,</span> <span class='nsec identifier id'>nsec</span><span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='fraction_digits identifier id'>fraction_digits</span><span class='rbrack token'>]</span>
  <span class='else else kw'>else</span>
    <span class='string val'>'.'</span> <span class='plus op'>+</span> <span class='sprintf identifier id'>sprintf</span><span class='lparen token'>(</span><span class='string val'>'%09d'</span><span class='comma token'>,</span> <span class='nsec identifier id'>nsec</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='string val'>'0'</span> <span class='mult op'>*</span> <span class='lparen token'>(</span><span class='fraction_digits identifier id'>fraction_digits</span> <span class='minus op'>-</span> <span class='integer val'>9</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span> <span class='plus op'>+</span>
  <span class='if if kw'>if</span> <span class='utc? fid id'>utc?</span>
    <span class='string val'>'Z'</span>
  <span class='else else kw'>else</span>
    <span class='off identifier id'>off</span> <span class='assign token'>=</span> <span class='utc_offset identifier id'>utc_offset</span>
    <span class='sign identifier id'>sign</span> <span class='assign token'>=</span> <span class='off identifier id'>off</span> <span class='lt op'>&lt;</span> <span class='integer val'>0</span> <span class='question op'>?</span> <span class='string val'>'-'</span> <span class='colon op'>:</span> <span class='string val'>'+'</span>
    <span class='sprintf identifier id'>sprintf</span><span class='lparen token'>(</span><span class='string val'>'%s%02d:%02d'</span><span class='comma token'>,</span> <span class='sign identifier id'>sign</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='lparen token'>(</span><span class='off identifier id'>off</span><span class='dot token'>.</span><span class='abs identifier id'>abs</span> <span class='div op'>/</span> <span class='integer val'>60</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='divmod identifier id'>divmod</span><span class='lparen token'>(</span><span class='integer val'>60</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>