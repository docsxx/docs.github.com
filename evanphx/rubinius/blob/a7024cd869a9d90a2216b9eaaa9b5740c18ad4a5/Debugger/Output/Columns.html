<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>evanphx's rubinius - Class: Debugger::Output::Columns - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/evanphx/commits/rubinius/master" rel="alternate" title="Recent Commits to rubinius:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("evanphx", "rubinius", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("evanphx", "rubinius", "a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/evanphx/rubinius/tree/">Source</a></li>
            <li class=""><a href="http://github.com/evanphx/rubinius/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/evanphx/rubinius/network">Network</a></li>            
            <li class=""><a href="http://github.com/evanphx/rubinius/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/evanphx/rubinius">Wiki</a></li>
            <li class=""><a href="http://github.com/evanphx/rubinius/graphs">Graphs</a></li>                    
            <li class="active"><a href="/evanphx/rubinius">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/evanphx">evanphx</a> / <b><a href="http://github.com/evanphx/rubinius/tree">rubinius</a></b>        
                <a id="namespaces_button" rel="evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Debugger_Output_Columns">
  <h1>Class: Debugger::Output::Columns</h1>
  <div class="section docstring">
  <p>
Class for defining columns of output.
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">current_color</td>
          <td class="readwrite">
            [<span id='current_color-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>current_color</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">current_cols</td>
          <td class="readwrite">
            [<span id='current_cols-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>current_cols</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">fixed_widths</td>
          <td class="readwrite">
            [<span id='fixed_widths-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>fixed_widths</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">output</td>
          <td class="readwrite">
            [<span id='output-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>output</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">widths</td>
          <td class="readwrite">
            [<span id='widths-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>widths</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="FORMAT_RE-constant">FORMAT_RE</dt>
      <dd>/%([|-])?(0)?(\d*|\*)([sd])/</dd>
    
  </dl>
</div>

</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(output_type = :info)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Initializes a new output instance. Output may be of different types, with
the default being :info. The output type is not used by the Output class,
but may be significant to the interface that displays the output. Commonly
used output types include:
</p>
<ul>
<li>:info, the default for informational output

</li>
<li>:none, to indicate there is no output of the requested type

</li>
<li>:error, to indicate a command error

</li>
</ul>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/debugger/output.rb', line 29</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/debugger/output.rb#L29">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">29
30
31
32</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='output_type identifier id'>output_type</span><span class='assign token'>=</span><span class='symbol val'>:info</span><span class='rparen token'>)</span>
  <span class='@output_type ivar id'>@output_type</span> <span class='assign token'>=</span> <span class='output_type identifier id'>output_type</span>
  <span class='clear identifier id'>clear</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#error-class_method">error</span><span class='args'>(msg, color = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Convenience method for creating an Output of type :error.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#info-class_method">info</span><span class='args'>(msg, color = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Convenience method for creating an Output of type :info.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#none-class_method">none</span><span class='args'>(msg, color = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Convenience method for creating an Output of type :none.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-3C-3C-instance_method">#<<</span><span class='args'>(item)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Adds a new row of data to the output The item to be added may be an object
of several different types:
</p>
<ul>
<li>An array is regarded as a series of cells that make up a row in a table.

</li>
</ul>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#align-instance_method">#align</span><span class='args'>(line, width, align, pad = ' ')</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Aligns.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#clear-instance_method">#clear</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Clears all output settings.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#count-instance_method">#count</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a count of the number of columns defined.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#format_header_str-instance_method">#format_header_str</span><span class='args'>(indent = 0)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a formatted string containing the column headers.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#format_str-instance_method">#format_str</span><span class='args'>(row, indent = 0, formats = @formats)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Format an array of cells into a string.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#has_headers-3F-instance_method">#has_headers?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns true if the column specification has headers.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#lines-instance_method">#lines</span><span class='args'>(page_width = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Return the output as an array of strings, one per line.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#output_marker-instance_method">#output_marker</span><span class='args'>(marker)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#redistribute_widths-instance_method">#redistribute_widths</span><span class='args'>(page_width, indent = 0)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Redistributes the calculated widths, ensuring the overall line width is no
greater than the specified page width.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#set_color-instance_method">#set_color</span><span class='args'>(color)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Convenience method to set a new row color.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#set_columns-instance_method">#set_columns</span><span class='args'>(formats, col_sep = ' ')</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Convenience method to set a new column structure.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#set_line_marker-instance_method">#set_line_marker</span><span class='args'>(marker = '=&gt; ')</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Sets a marker to be displayed next to the next line.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_s-instance_method">#to_s</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Convert this output stream to a string.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#update_widths-instance_method">#update_widths</span><span class='args'>(cells)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Update the column widths required based on the row content.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#wrap-instance_method">#wrap</span><span class='args'>(str, width, align = :none, pad = ' ')</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Splits the supplied string at logical breaks to ensure that no line is
longer than the spcecified width.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>error</h3>
</div><div id="error-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>error</span><span class='args'>(msg, color = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Convenience method for creating an Output of type :error
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/debugger/output.rb', line 346</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/debugger/output.rb#L346">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">346
347
348
349
350
351
352</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='error identifier id'>error</span><span class='lparen token'>(</span><span class='msg identifier id'>msg</span><span class='comma token'>,</span> <span class='color identifier id'>color</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='out identifier id'>out</span> <span class='assign token'>=</span> <span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:error</span><span class='rparen token'>)</span>
  <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='set_color identifier id'>set_color</span> <span class='color identifier id'>color</span> <span class='if if_mod kw'>if</span> <span class='color identifier id'>color</span>
  <span class='out identifier id'>out</span> <span class='lshft op'>&lt;&lt;</span> <span class='msg identifier id'>msg</span>
  <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='set_color identifier id'>set_color</span> <span class='symbol val'>:clear</span> <span class='if if_mod kw'>if</span> <span class='color identifier id'>color</span>
  <span class='out identifier id'>out</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>info</h3>
</div><div id="info-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>info</span><span class='args'>(msg, color = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Convenience method for creating an Output of type :info
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/debugger/output.rb', line 328</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/debugger/output.rb#L328">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">328
329
330
331
332
333
334</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='info identifier id'>info</span><span class='lparen token'>(</span><span class='msg identifier id'>msg</span><span class='comma token'>,</span> <span class='color identifier id'>color</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='out identifier id'>out</span> <span class='assign token'>=</span> <span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:info</span><span class='rparen token'>)</span>
  <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='set_color identifier id'>set_color</span> <span class='color identifier id'>color</span> <span class='if if_mod kw'>if</span> <span class='color identifier id'>color</span>
  <span class='out identifier id'>out</span> <span class='lshft op'>&lt;&lt;</span> <span class='msg identifier id'>msg</span>
  <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='set_color identifier id'>set_color</span> <span class='symbol val'>:clear</span> <span class='if if_mod kw'>if</span> <span class='color identifier id'>color</span>
  <span class='out identifier id'>out</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>none</h3>
</div><div id="none-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>none</span><span class='args'>(msg, color = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Convenience method for creating an Output of type :none
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/debugger/output.rb', line 337</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/debugger/output.rb#L337">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">337
338
339
340
341
342
343</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='none identifier id'>none</span><span class='lparen token'>(</span><span class='msg identifier id'>msg</span><span class='comma token'>,</span> <span class='color identifier id'>color</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='out identifier id'>out</span> <span class='assign token'>=</span> <span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:none</span><span class='rparen token'>)</span>
  <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='set_color identifier id'>set_color</span> <span class='color identifier id'>color</span> <span class='if if_mod kw'>if</span> <span class='color identifier id'>color</span>
  <span class='out identifier id'>out</span> <span class='lshft op'>&lt;&lt;</span> <span class='msg identifier id'>msg</span>
  <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='set_color identifier id'>set_color</span> <span class='symbol val'>:clear</span> <span class='if if_mod kw'>if</span> <span class='color identifier id'>color</span>
  <span class='out identifier id'>out</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>&lt;&lt;</h3>
</div><div id="-3C-3C-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'><<</span><span class='args'>(item)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Adds a new row of data to the output The item to be added may be an object
of several different types:
</p>
<ul>
<li>An array is regarded as a series of cells that make up a row in a table.

</li>
<li>A string is regarded as a complete row of data.

</li>
<li>A Columns object defines the columnar aspects of subsequent rows of data,
which are typically arrays.

</li>
<li>A Color object defines a color change that remains in force until it is
cleared.

</li>
<li>LineMarker object specifies a marker to appear to the left of the next row.

</li>
</ul>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/debugger/output.rb', line 386</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/debugger/output.rb#L386">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='lshft op'>&lt;&lt;</span><span class='lparen token'>(</span><span class='item identifier id'>item</span><span class='rparen token'>)</span>
  <span class='case case kw'>case</span> <span class='item identifier id'>item</span>
  <span class='when when kw'>when</span> <span class='Array constant id'>Array</span>
    <span class='comment val'># Line contains multiple columns of text</span>
    <span class='unless unless kw'>unless</span> <span class='@current_cols ivar id'>@current_cols</span> <span class='and and kw'>and</span> <span class='item identifier id'>item</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='eq op'>==</span> <span class='@current_cols ivar id'>@current_cols</span><span class='dot token'>.</span><span class='count identifier id'>count</span>
      <span class='comment val'># Normally, a command will explicitly specify column formats via a</span>
      <span class='comment val'># call to set_columns; however, if the output stream receives an array</span>
      <span class='comment val'># of objects with a different column count to previous lines, a new</span>
      <span class='comment val'># Columns instance is auto-created.</span>
      <span class='@current_cols ivar id'>@current_cols</span> <span class='assign token'>=</span> <span class='Columns constant id'>Columns</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='item identifier id'>item</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='rparen token'>)</span>
      <span class='@output ivar id'>@output</span> <span class='lshft op'>&lt;&lt;</span> <span class='@current_cols ivar id'>@current_cols</span>
    <span class='end end kw'>end</span>
    <span class='@current_cols ivar id'>@current_cols</span><span class='dot token'>.</span><span class='update_widths identifier id'>update_widths</span><span class='lparen token'>(</span><span class='item identifier id'>item</span><span class='rparen token'>)</span>
  <span class='when when kw'>when</span> <span class='Columns constant id'>Columns</span>
    <span class='@current_cols ivar id'>@current_cols</span> <span class='assign token'>=</span> <span class='item identifier id'>item</span>
  <span class='when when kw'>when</span> <span class='Color constant id'>Color</span>
    <span class='@current_color ivar id'>@current_color</span> <span class='assign token'>=</span> <span class='item identifier id'>item</span>
  <span class='when when kw'>when</span> <span class='LineMarker constant id'>LineMarker</span>
    <span class='@marker_width ivar id'>@marker_width</span> <span class='assign token'>=</span> <span class='item identifier id'>item</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='if if_mod kw'>if</span> <span class='@marker_width ivar id'>@marker_width</span> <span class='lt op'>&lt;</span> <span class='item identifier id'>item</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
  <span class='end end kw'>end</span>
  <span class='@output ivar id'>@output</span> <span class='lshft op'>&lt;&lt;</span> <span class='item identifier id'>item</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>align</h3>
</div><div id="align-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>align</span><span class='args'>(line, width, align, pad = ' ')</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Aligns
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/debugger/output.rb', line 251</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/debugger/output.rb#L251">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">251
252
253
254
255
256
257
258
259
260
261
262</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='align identifier id'>align</span><span class='lparen token'>(</span><span class='line identifier id'>line</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='comma token'>,</span> <span class='align identifier id'>align</span><span class='comma token'>,</span> <span class='pad identifier id'>pad</span><span class='assign token'>=</span><span class='string val'>' '</span><span class='rparen token'>)</span>
  <span class='case case kw'>case</span> <span class='align identifier id'>align</span>
  <span class='when when kw'>when</span> <span class='symbol val'>:left</span>
    <span class='line identifier id'>line</span> <span class='assign token'>=</span> <span class='line identifier id'>line</span> <span class='plus op'>+</span> <span class='pad identifier id'>pad</span> <span class='mult op'>*</span> <span class='lparen token'>(</span><span class='width identifier id'>width</span> <span class='minus op'>-</span> <span class='line identifier id'>line</span><span class='dot token'>.</span><span class='length identifier id'>length</span><span class='rparen token'>)</span>
  <span class='when when kw'>when</span> <span class='symbol val'>:right</span>
    <span class='line identifier id'>line</span> <span class='assign token'>=</span> <span class='pad identifier id'>pad</span> <span class='mult op'>*</span> <span class='lparen token'>(</span><span class='width identifier id'>width</span> <span class='minus op'>-</span> <span class='line identifier id'>line</span><span class='dot token'>.</span><span class='length identifier id'>length</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='line identifier id'>line</span>
  <span class='when when kw'>when</span> <span class='symbol val'>:center</span>
    <span class='line identifier id'>line</span> <span class='assign token'>=</span> <span class='line identifier id'>line</span><span class='dot token'>.</span><span class='center identifier id'>center</span><span class='lparen token'>(</span><span class='width identifier id'>width</span><span class='comma token'>,</span> <span class='pad identifier id'>pad</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='line identifier id'>line</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>clear</h3>
</div><div id="clear-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>clear</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Clears all output settings
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/debugger/output.rb', line 368</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/debugger/output.rb#L368">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">368
369
370
371
372
373</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='clear identifier id'>clear</span>
  <span class='@output ivar id'>@output</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@current_cols ivar id'>@current_cols</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@current_color ivar id'>@current_color</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@marker_width ivar id'>@marker_width</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>count</h3>
</div><div id="count-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>count</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a count of the number of columns defined
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/debugger/output.rb', line 159</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/debugger/output.rb#L159">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">159
160
161</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='count identifier id'>count</span>
  <span class='@formats ivar id'>@formats</span><span class='dot token'>.</span><span class='size identifier id'>size</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>format_header_str</h3>
</div><div id="format_header_str-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>format_header_str</span><span class='args'>(indent = 0)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a formatted string containing the column headers. Takes two
optional parameters:
</p>
<ul>
<li>indent: specifies the number of characters to indent the line by (default
is 0).

</li>
<li>page_width: specifies a page width to which the output should be made to
fit. If nil (the default), output is not forced to fit any width.

</li>
</ul>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/debugger/output.rb', line 169</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/debugger/output.rb#L169">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">169
170
171
172
173
174
175
176
177
178
179
180</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='format_header_str identifier id'>format_header_str</span><span class='lparen token'>(</span><span class='indent identifier id'>indent</span><span class='assign token'>=</span><span class='integer val'>0</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='@headers ivar id'>@headers</span>
    <span class='hdr identifier id'>hdr</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='nil nil kw'>nil</span><span class='rbrack token'>]</span>
    <span class='hdr identifier id'>hdr</span><span class='dot token'>.</span><span class='concat identifier id'>concat</span> <span class='format_str identifier id'>format_str</span><span class='lparen token'>(</span><span class='@headers ivar id'>@headers</span><span class='comma token'>,</span> <span class='indent identifier id'>indent</span><span class='minus op'>-</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@formats ivar id'>@formats</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='comma token'>,</span> <span class='string val'>'%|s'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='string val'>' '</span> <span class='mult op'>*</span> <span class='lparen token'>(</span><span class='indent identifier id'>indent</span><span class='minus op'>-</span><span class='integer val'>1</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='string val'>'+'</span> <span class='if if_mod kw'>if</span> <span class='indent identifier id'>indent</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>
    <span class='@widths ivar id'>@widths</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='width identifier id'>width</span><span class='bitor op'>|</span>
      <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>'-'</span> <span class='mult op'>*</span> <span class='width identifier id'>width</span> <span class='plus op'>+</span> <span class='string val'>'+'</span>
    <span class='end end kw'>end</span>
    <span class='hdr identifier id'>hdr</span> <span class='lshft op'>&lt;&lt;</span> <span class='str identifier id'>str</span>
    <span class='hdr identifier id'>hdr</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>format_str</h3>
</div><div id="format_str-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>format_str</span><span class='args'>(row, indent = 0, formats = @formats)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Format an array of cells into a string
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/debugger/output.rb', line 183</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/debugger/output.rb#L183">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='format_str identifier id'>format_str</span><span class='lparen token'>(</span><span class='row identifier id'>row</span><span class='comma token'>,</span> <span class='indent identifier id'>indent</span><span class='assign token'>=</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='formats identifier id'>formats</span><span class='assign token'>=</span><span class='@formats ivar id'>@formats</span><span class='rparen token'>)</span>
      <span class='cells identifier id'>cells</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
      <span class='formats identifier id'>formats</span><span class='dot token'>.</span><span class='each_with_index identifier id'>each_with_index</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='fmt identifier id'>fmt</span><span class='comma token'>,</span> <span class='i identifier id'>i</span><span class='bitor op'>|</span>
        <span class='if if kw'>if</span> <span class='row identifier id'>row</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span>
          <span class='comment val'># Format cell ignoring width and alignment, wrapping if necessary</span>
          <span class='fmt identifier id'>fmt</span> <span class='match op'>=~</span> <span class='FORMAT_RE constant id'>FORMAT_RE</span>
          <span class='cell identifier id'>cell</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{$`}%#{$4}#{$'}&quot;</span> <span class='mod op'>%</span> <span class='row identifier id'>row</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span>
          <span class='align identifier id'>align</span> <span class='assign token'>=</span> <span class='case case kw'>case</span> <span class='$1 nth_ref id'>$1</span>
          <span class='when when kw'>when</span> <span class='string val'>'-'</span> <span class='then then kw'>then</span> <span class='symbol val'>:left</span>
          <span class='when when kw'>when</span> <span class='string val'>'|'</span> <span class='then then kw'>then</span> <span class='symbol val'>:center</span>
          <span class='else else kw'>else</span> <span class='symbol val'>:right</span>
          <span class='end end kw'>end</span>
          <span class='pad identifier id'>pad</span> <span class='assign token'>=</span> <span class='$2 nth_ref id'>$2</span> <span class='orop op'>||</span> <span class='string val'>' '</span>
          <span class='lines identifier id'>lines</span> <span class='assign token'>=</span> <span class='wrap identifier id'>wrap</span><span class='lparen token'>(</span><span class='cell identifier id'>cell</span><span class='comma token'>,</span> <span class='@widths ivar id'>@widths</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='align identifier id'>align</span><span class='comma token'>,</span> <span class='pad identifier id'>pad</span><span class='rparen token'>)</span>
          <span class='cells identifier id'>cells</span> <span class='lshft op'>&lt;&lt;</span> <span class='lines identifier id'>lines</span>
        <span class='else else kw'>else</span>
          <span class='cells identifier id'>cells</span> <span class='lshft op'>&lt;&lt;</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>

      <span class='line identifier id'>line</span><span class='comma token'>,</span> <span class='last_line identifier id'>last_line</span> <span class='assign token'>=</span> <span class='integer val'>0</span><span class='comma token'>,</span> <span class='integer val'>1</span>
      <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
      <span class='while while kw'>while</span> <span class='line identifier id'>line</span> <span class='lt op'>&lt;</span> <span class='last_line identifier id'>last_line</span> <span class='do do kw'>do</span>
        <span class='line_cells identifier id'>line_cells</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
        <span class='cells identifier id'>cells</span><span class='dot token'>.</span><span class='each_with_index identifier id'>each_with_index</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='cell identifier id'>cell</span><span class='comma token'>,</span> <span class='i identifier id'>i</span><span class='bitor op'>|</span>
          <span class='last_line identifier id'>last_line</span> <span class='assign token'>=</span> <span class='cell identifier id'>cell</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='if if_mod kw'>if</span> <span class='line identifier id'>line</span> <span class='eq op'>==</span> <span class='integer val'>0</span> <span class='and and kw'>and</span> <span class='cell identifier id'>cell</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='gt op'>&gt;</span> <span class='last_line identifier id'>last_line</span>
          <span class='if if kw'>if</span> <span class='line identifier id'>line</span> <span class='lt op'>&lt;</span> <span class='cell identifier id'>cell</span><span class='dot token'>.</span><span class='size identifier id'>size</span>
            <span class='line_cells identifier id'>line_cells</span> <span class='lshft op'>&lt;&lt;</span> <span class='cell identifier id'>cell</span><span class='lbrack token'>[</span><span class='line identifier id'>line</span><span class='rbrack token'>]</span>
          <span class='else else kw'>else</span>
            <span class='comment val'># Cell does not wrap onto current line, so just output spaces</span>
            <span class='line_cells identifier id'>line_cells</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>' '</span> <span class='mult op'>*</span> <span class='@widths ivar id'>@widths</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span>
          <span class='end end kw'>end</span>
        <span class='end end kw'>end</span>
        <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>' '</span> <span class='mult op'>*</span> <span class='indent identifier id'>indent</span> <span class='plus op'>+</span> <span class='line_cells identifier id'>line_cells</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='@col_separator ivar id'>@col_separator</span><span class='rparen token'>)</span>
        <span class='line identifier id'>line</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
      <span class='end end kw'>end</span>
      <span class='str identifier id'>str</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Splits the supplied string at logical breaks to ensure that no line is</span>
    <span class='comment val'># longer than the spcecified width. Returns an array of lines.</span>
    <span class='def def kw'>def</span> <span class='wrap identifier id'>wrap</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='comma token'>,</span> <span class='align identifier id'>align</span><span class='assign token'>=</span><span class='symbol val'>:none</span><span class='comma token'>,</span> <span class='pad identifier id'>pad</span><span class='assign token'>=</span><span class='string val'>' '</span><span class='rparen token'>)</span>
      <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Invalid wrap length specified (#{width})&quot;</span> <span class='if if_mod kw'>if</span> <span class='width identifier id'>width</span> <span class='lt op'>&lt;</span> <span class='integer val'>0</span>

      <span class='return return kw'>return</span> <span class='lbrack token'>[</span><span class='nil nil kw'>nil</span><span class='rbrack token'>]</span> <span class='unless unless_mod kw'>unless</span> <span class='str identifier id'>str</span> <span class='and and kw'>and</span> <span class='width identifier id'>width</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>

      <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='rstrip! fid id'>rstrip!</span>
      <span class='lines identifier id'>lines</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
      <span class='until until kw'>until</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='leq op'>&lt;=</span> <span class='width identifier id'>width</span> <span class='do do kw'>do</span>
        <span class='if if kw'>if</span> <span class='pos identifier id'>pos</span> <span class='assign token'>=</span> <span class='str identifier id'>str</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rindex identifier id'>rindex</span><span class='lparen token'>(</span><span class='regexp val'>/[\s\-,\/_]/</span><span class='rparen token'>)</span>
          <span class='comment val'># Found a break on whitespace or dash</span>
          <span class='line identifier id'>line</span><span class='comma token'>,</span> <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='str identifier id'>str</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='pos identifier id'>pos</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rstrip identifier id'>rstrip</span><span class='comma token'>,</span> <span class='str identifier id'>str</span><span class='lbrack token'>[</span><span class='pos identifier id'>pos</span><span class='plus op'>+</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span>
        <span class='elsif elsif kw'>elsif</span> <span class='pos identifier id'>pos</span> <span class='assign token'>=</span> <span class='str identifier id'>str</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='minus op'>-</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rindex identifier id'>rindex</span><span class='lparen token'>(</span><span class='regexp val'>/[^\w]/</span><span class='rparen token'>)</span> <span class='and and kw'>and</span> <span class='pos identifier id'>pos</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>
          <span class='comment val'># Found a non-word character to break on</span>
          <span class='line identifier id'>line</span><span class='comma token'>,</span> <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='str identifier id'>str</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot3 op'>...</span><span class='pos identifier id'>pos</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rstrip identifier id'>rstrip</span><span class='comma token'>,</span> <span class='str identifier id'>str</span><span class='lbrack token'>[</span><span class='pos identifier id'>pos</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span>
        <span class='else else kw'>else</span>
          <span class='comment val'># Force break at width</span>
          <span class='line identifier id'>line</span><span class='comma token'>,</span> <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='str identifier id'>str</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot3 op'>...</span><span class='width identifier id'>width</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rstrip identifier id'>rstrip</span><span class='comma token'>,</span> <span class='str identifier id'>str</span><span class='lbrack token'>[</span><span class='width identifier id'>width</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span>
        <span class='end end kw'>end</span>

        <span class='comment val'># Pad with spaces to requested width if an alignment is specified</span>
        <span class='lines identifier id'>lines</span> <span class='lshft op'>&lt;&lt;</span> <span class='align identifier id'>align</span><span class='lparen token'>(</span><span class='line identifier id'>line</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='comma token'>,</span> <span class='align identifier id'>align</span><span class='comma token'>,</span> <span class='pad identifier id'>pad</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
      <span class='lines identifier id'>lines</span> <span class='lshft op'>&lt;&lt;</span> <span class='align identifier id'>align</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='comma token'>,</span> <span class='align identifier id'>align</span><span class='comma token'>,</span> <span class='pad identifier id'>pad</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='str identifier id'>str</span>
      <span class='lines identifier id'>lines</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Aligns </span>
    <span class='def def kw'>def</span> <span class='align identifier id'>align</span><span class='lparen token'>(</span><span class='line identifier id'>line</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='comma token'>,</span> <span class='align identifier id'>align</span><span class='comma token'>,</span> <span class='pad identifier id'>pad</span><span class='assign token'>=</span><span class='string val'>' '</span><span class='rparen token'>)</span>
      <span class='case case kw'>case</span> <span class='align identifier id'>align</span>
      <span class='when when kw'>when</span> <span class='symbol val'>:left</span>
        <span class='line identifier id'>line</span> <span class='assign token'>=</span> <span class='line identifier id'>line</span> <span class='plus op'>+</span> <span class='pad identifier id'>pad</span> <span class='mult op'>*</span> <span class='lparen token'>(</span><span class='width identifier id'>width</span> <span class='minus op'>-</span> <span class='line identifier id'>line</span><span class='dot token'>.</span><span class='length identifier id'>length</span><span class='rparen token'>)</span>
      <span class='when when kw'>when</span> <span class='symbol val'>:right</span>
        <span class='line identifier id'>line</span> <span class='assign token'>=</span> <span class='pad identifier id'>pad</span> <span class='mult op'>*</span> <span class='lparen token'>(</span><span class='width identifier id'>width</span> <span class='minus op'>-</span> <span class='line identifier id'>line</span><span class='dot token'>.</span><span class='length identifier id'>length</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='line identifier id'>line</span>
      <span class='when when kw'>when</span> <span class='symbol val'>:center</span>
        <span class='line identifier id'>line</span> <span class='assign token'>=</span> <span class='line identifier id'>line</span><span class='dot token'>.</span><span class='center identifier id'>center</span><span class='lparen token'>(</span><span class='width identifier id'>width</span><span class='comma token'>,</span> <span class='pad identifier id'>pad</span><span class='rparen token'>)</span>
      <span class='else else kw'>else</span>
        <span class='line identifier id'>line</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>##</span>
  <span class='comment val'># Class for colorizing output lines</span>

  <span class='class class kw'>class</span> <span class='Color constant id'>Color</span>
    <span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='color identifier id'>color</span><span class='assign token'>=</span><span class='symbol val'>:clear</span><span class='rparen token'>)</span>
      <span class='@color ivar id'>@color</span> <span class='assign token'>=</span> <span class='color identifier id'>color</span>
    <span class='end end kw'>end</span>
    <span class='attr_accessor identifier id'>attr_accessor</span> <span class='symbol val'>:color</span>

    <span class='comment val'># Set the color</span>
    <span class='def def kw'>def</span> <span class='escape identifier id'>escape</span>
      <span class='case case kw'>case</span> <span class='@color ivar id'>@color</span>
      <span class='when when kw'>when</span> <span class='symbol val'>:blue</span>
        <span class='string val'>&quot;\033[0;34m&quot;</span>
      <span class='when when kw'>when</span> <span class='symbol val'>:red</span>
        <span class='string val'>&quot;\033[0;31m&quot;</span>
      <span class='when when kw'>when</span> <span class='symbol val'>:green</span>
        <span class='string val'>&quot;\033[0;32m&quot;</span>
      <span class='when when kw'>when</span> <span class='symbol val'>:yellow</span>
        <span class='string val'>&quot;\033[0;33m&quot;</span>
      <span class='when when kw'>when</span> <span class='symbol val'>:blue</span>
        <span class='string val'>&quot;\033[0;34m&quot;</span>
      <span class='when when kw'>when</span> <span class='symbol val'>:magenta</span>
        <span class='string val'>&quot;\033[0;35m&quot;</span>
      <span class='when when kw'>when</span> <span class='symbol val'>:cyan</span>
        <span class='string val'>&quot;\033[0;36m&quot;</span>
      <span class='when when kw'>when</span> <span class='symbol val'>:white</span>
        <span class='string val'>&quot;\033[0;37m&quot;</span>
      <span class='when when kw'>when</span> <span class='symbol val'>:clear</span>
        <span class='string val'>&quot;\033[0m&quot;</span>
      <span class='else else kw'>else</span>
        <span class='@color ivar id'>@color</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># Clear the color</span>
    <span class='def def kw'>def</span> <span class='clear identifier id'>clear</span>
      <span class='string val'>&quot;\033[0m&quot;</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='to_s identifier id'>to_s</span>
      <span class='@color ivar id'>@color</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>##</span>
  <span class='comment val'># Class for marking a line in some way</span>
  
  <span class='class class kw'>class</span> <span class='LineMarker constant id'>LineMarker</span>
    <span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='marker identifier id'>marker</span><span class='assign token'>=</span><span class='string val'>'=&gt; '</span><span class='rparen token'>)</span>
      <span class='@marker ivar id'>@marker</span> <span class='assign token'>=</span> <span class='marker identifier id'>marker</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='length identifier id'>length</span>
      <span class='@marker ivar id'>@marker</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='to_s identifier id'>to_s</span>
      <span class='@marker ivar id'>@marker</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># Convenience method for creating an Output of type :info</span>
  <span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='info identifier id'>info</span><span class='lparen token'>(</span><span class='msg identifier id'>msg</span><span class='comma token'>,</span> <span class='color identifier id'>color</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='out identifier id'>out</span> <span class='assign token'>=</span> <span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:info</span><span class='rparen token'>)</span>
    <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='set_color identifier id'>set_color</span> <span class='color identifier id'>color</span> <span class='if if_mod kw'>if</span> <span class='color identifier id'>color</span>
    <span class='out identifier id'>out</span> <span class='lshft op'>&lt;&lt;</span> <span class='msg identifier id'>msg</span>
    <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='set_color identifier id'>set_color</span> <span class='symbol val'>:clear</span> <span class='if if_mod kw'>if</span> <span class='color identifier id'>color</span>
    <span class='out identifier id'>out</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># Convenience method for creating an Output of type :none</span>
  <span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='none identifier id'>none</span><span class='lparen token'>(</span><span class='msg identifier id'>msg</span><span class='comma token'>,</span> <span class='color identifier id'>color</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='out identifier id'>out</span> <span class='assign token'>=</span> <span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:none</span><span class='rparen token'>)</span>
    <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='set_color identifier id'>set_color</span> <span class='color identifier id'>color</span> <span class='if if_mod kw'>if</span> <span class='color identifier id'>color</span>
    <span class='out identifier id'>out</span> <span class='lshft op'>&lt;&lt;</span> <span class='msg identifier id'>msg</span>
    <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='set_color identifier id'>set_color</span> <span class='symbol val'>:clear</span> <span class='if if_mod kw'>if</span> <span class='color identifier id'>color</span>
    <span class='out identifier id'>out</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># Convenience method for creating an Output of type :error</span>
  <span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='error identifier id'>error</span><span class='lparen token'>(</span><span class='msg identifier id'>msg</span><span class='comma token'>,</span> <span class='color identifier id'>color</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='out identifier id'>out</span> <span class='assign token'>=</span> <span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:error</span><span class='rparen token'>)</span>
    <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='set_color identifier id'>set_color</span> <span class='color identifier id'>color</span> <span class='if if_mod kw'>if</span> <span class='color identifier id'>color</span>
    <span class='out identifier id'>out</span> <span class='lshft op'>&lt;&lt;</span> <span class='msg identifier id'>msg</span>
    <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='set_color identifier id'>set_color</span> <span class='symbol val'>:clear</span> <span class='if if_mod kw'>if</span> <span class='color identifier id'>color</span>
    <span class='out identifier id'>out</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># Initializes a new output instance.</span>
  <span class='comment val'># Output may be of different types, with the default being :info.</span>
  <span class='comment val'># The output type is not used by the Output class, but may be significant</span>
  <span class='comment val'># to the interface that displays the output. Commonly used output types</span>
  <span class='comment val'># include:</span>
  <span class='comment val'># - :info, the default for informational output</span>
  <span class='comment val'># - :none, to indicate there is no output of the requested type</span>
  <span class='comment val'># - :error, to indicate a command error</span>
  <span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='output_type identifier id'>output_type</span><span class='assign token'>=</span><span class='symbol val'>:info</span><span class='rparen token'>)</span>
    <span class='@output_type ivar id'>@output_type</span> <span class='assign token'>=</span> <span class='output_type identifier id'>output_type</span>
    <span class='clear identifier id'>clear</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># Clears all output settings</span>
  <span class='def def kw'>def</span> <span class='clear identifier id'>clear</span>
    <span class='@output ivar id'>@output</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='@current_cols ivar id'>@current_cols</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='@current_color ivar id'>@current_color</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='@marker_width ivar id'>@marker_width</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='end end kw'>end</span>
  <span class='attr_reader identifier id'>attr_reader</span> <span class='symbol val'>:output</span><span class='comma token'>,</span> <span class='symbol val'>:current_cols</span><span class='comma token'>,</span> <span class='symbol val'>:current_color</span>

  <span class='comment val'># Adds a new row of data to the output</span>
  <span class='comment val'># The item to be added may be an object of several different types:</span>
  <span class='comment val'># - An array is regarded as a series of cells that make up a row in a table.</span>
  <span class='comment val'># - A string is regarded as a complete row of data.</span>
  <span class='comment val'># - A Columns object defines the columnar aspects of subsequent rows of </span>
  <span class='comment val'>#   data, which are typically arrays.</span>
  <span class='comment val'># - A Color object defines a color change that remains in force until it is</span>
  <span class='comment val'>#   cleared.</span>
  <span class='comment val'># - LineMarker object specifies a marker to appear to the left of the next</span>
  <span class='comment val'>#   row.</span>
  <span class='def def kw'>def</span> <span class='lshft op'>&lt;&lt;</span><span class='lparen token'>(</span><span class='item identifier id'>item</span><span class='rparen token'>)</span>
    <span class='case case kw'>case</span> <span class='item identifier id'>item</span>
    <span class='when when kw'>when</span> <span class='Array constant id'>Array</span>
      <span class='comment val'># Line contains multiple columns of text</span>
      <span class='unless unless kw'>unless</span> <span class='@current_cols ivar id'>@current_cols</span> <span class='and and kw'>and</span> <span class='item identifier id'>item</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='eq op'>==</span> <span class='@current_cols ivar id'>@current_cols</span><span class='dot token'>.</span><span class='count identifier id'>count</span>
        <span class='comment val'># Normally, a command will explicitly specify column formats via a</span>
        <span class='comment val'># call to set_columns; however, if the output stream receives an array</span>
        <span class='comment val'># of objects with a different column count to previous lines, a new</span>
        <span class='comment val'># Columns instance is auto-created.</span>
        <span class='@current_cols ivar id'>@current_cols</span> <span class='assign token'>=</span> <span class='Columns constant id'>Columns</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='item identifier id'>item</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='rparen token'>)</span>
        <span class='@output ivar id'>@output</span> <span class='lshft op'>&lt;&lt;</span> <span class='@current_cols ivar id'>@current_cols</span>
      <span class='end end kw'>end</span>
      <span class='@current_cols ivar id'>@current_cols</span><span class='dot token'>.</span><span class='update_widths identifier id'>update_widths</span><span class='lparen token'>(</span><span class='item identifier id'>item</span><span class='rparen token'>)</span>
    <span class='when when kw'>when</span> <span class='Columns constant id'>Columns</span>
      <span class='@current_cols ivar id'>@current_cols</span> <span class='assign token'>=</span> <span class='item identifier id'>item</span>
    <span class='when when kw'>when</span> <span class='Color constant id'>Color</span>
      <span class='@current_color ivar id'>@current_color</span> <span class='assign token'>=</span> <span class='item identifier id'>item</span>
    <span class='when when kw'>when</span> <span class='LineMarker constant id'>LineMarker</span>
      <span class='@marker_width ivar id'>@marker_width</span> <span class='assign token'>=</span> <span class='item identifier id'>item</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='if if_mod kw'>if</span> <span class='@marker_width ivar id'>@marker_width</span> <span class='lt op'>&lt;</span> <span class='item identifier id'>item</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
    <span class='end end kw'>end</span>
    <span class='@output ivar id'>@output</span> <span class='lshft op'>&lt;&lt;</span> <span class='item identifier id'>item</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># Convenience method to set a new column structure</span>
  <span class='def def kw'>def</span> <span class='set_columns identifier id'>set_columns</span><span class='lparen token'>(</span><span class='formats identifier id'>formats</span><span class='comma token'>,</span> <span class='col_sep identifier id'>col_sep</span><span class='assign token'>=</span><span class='string val'>' '</span><span class='rparen token'>)</span>
    <span class='self self kw'>self</span> <span class='lshft op'>&lt;&lt;</span> <span class='Columns constant id'>Columns</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='formats identifier id'>formats</span><span class='comma token'>,</span> <span class='col_sep identifier id'>col_sep</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># Convenience method to set a new row color</span>
  <span class='def def kw'>def</span> <span class='set_color identifier id'>set_color</span><span class='lparen token'>(</span><span class='color identifier id'>color</span><span class='rparen token'>)</span>
    <span class='self self kw'>self</span> <span class='lshft op'>&lt;&lt;</span> <span class='Color constant id'>Color</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='color identifier id'>color</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='@current_color ivar id'>@current_color</span> <span class='and and kw'>and</span> <span class='@current_color ivar id'>@current_color</span><span class='dot token'>.</span><span class='color identifier id'>color</span> <span class='eq op'>==</span> <span class='color identifier id'>color</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># Sets a marker to be displayed next to the next line</span>
  <span class='def def kw'>def</span> <span class='set_line_marker identifier id'>set_line_marker</span><span class='lparen token'>(</span><span class='marker identifier id'>marker</span><span class='assign token'>=</span><span class='string val'>'=&gt; '</span><span class='rparen token'>)</span>
    <span class='self self kw'>self</span> <span class='lshft op'>&lt;&lt;</span> <span class='LineMarker constant id'>LineMarker</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='marker identifier id'>marker</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># Convert this output stream to a string</span>
  <span class='def def kw'>def</span> <span class='to_s identifier id'>to_s</span>
    <span class='lines identifier id'>lines</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;\n&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  
  <span class='comment val'># Return the output as an array of strings, one per line. If an output item</span>
  <span class='comment val'># wraps to more than one line, each line will be a seperate entry in the</span>
  <span class='comment val'># returned array.</span>
  <span class='comment val'># Takes an optional parameter +page_width+ that specifies the width of the </span>
  <span class='comment val'># page on which the output will be displayed.</span>
  <span class='def def kw'>def</span> <span class='lines identifier id'>lines</span><span class='lparen token'>(</span><span class='page_width identifier id'>page_width</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='column identifier id'>column</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='color identifier id'>color</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='marker identifier id'>marker</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='lines identifier id'>lines</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='@output ivar id'>@output</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='item identifier id'>item</span><span class='bitor op'>|</span>
      <span class='case case kw'>case</span> <span class='item identifier id'>item</span>
      <span class='when when kw'>when</span> <span class='String constant id'>String</span>
        <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='string val'>&quot;&quot;</span>
        <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='color identifier id'>color</span><span class='dot token'>.</span><span class='escape identifier id'>escape</span> <span class='if if_mod kw'>if</span> <span class='color identifier id'>color</span>
        <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='item identifier id'>item</span><span class='dot token'>.</span><span class='rstrip identifier id'>rstrip</span>
        <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='color identifier id'>color</span><span class='dot token'>.</span><span class='clear identifier id'>clear</span> <span class='if if_mod kw'>if</span> <span class='color identifier id'>color</span>
        <span class='lines identifier id'>lines</span> <span class='lshft op'>&lt;&lt;</span> <span class='str identifier id'>str</span>
      <span class='when when kw'>when</span> <span class='Columns constant id'>Columns</span>
        <span class='column identifier id'>column</span> <span class='assign token'>=</span> <span class='item identifier id'>item</span>
        <span class='if if kw'>if</span> <span class='page_width identifier id'>page_width</span>
          <span class='comment val'># Check page_width is sufficient for marker and column headers</span>
          <span class='width identifier id'>width</span> <span class='assign token'>=</span> <span class='page_width identifier id'>page_width</span><span class='minus op'>-</span><span class='integer val'>1</span> <span class='minus op'>-</span> <span class='lparen token'>(</span><span class='@marker_width ivar id'>@marker_width</span> <span class='plus op'>+</span> <span class='integer val'>2</span><span class='rparen token'>)</span>
          <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='redistribute_widths identifier id'>redistribute_widths</span><span class='lparen token'>(</span><span class='page_width identifier id'>page_width</span><span class='minus op'>-</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='@marker_width ivar id'>@marker_width</span> <span class='plus op'>+</span> <span class='integer val'>2</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='width identifier id'>width</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>
        <span class='end end kw'>end</span>
        <span class='if if kw'>if</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='has_headers? fid id'>has_headers?</span>
          <span class='lines identifier id'>lines</span><span class='dot token'>.</span><span class='concat identifier id'>concat</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='format_header_str identifier id'>format_header_str</span><span class='lparen token'>(</span><span class='@marker_width ivar id'>@marker_width</span><span class='plus op'>+</span><span class='integer val'>2</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
      <span class='when when kw'>when</span> <span class='Array constant id'>Array</span>
        <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='string val'>&quot;&quot;</span>
        <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='color identifier id'>color</span><span class='dot token'>.</span><span class='escape identifier id'>escape</span> <span class='if if_mod kw'>if</span> <span class='color identifier id'>color</span>
        <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='output_marker identifier id'>output_marker</span><span class='lparen token'>(</span><span class='marker identifier id'>marker</span><span class='rparen token'>)</span>
        <span class='marker identifier id'>marker</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
        <span class='l identifier id'>l</span> <span class='assign token'>=</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='format_str identifier id'>format_str</span><span class='lparen token'>(</span><span class='item identifier id'>item</span><span class='comma token'>,</span> <span class='@marker_width ivar id'>@marker_width</span><span class='plus op'>+</span><span class='integer val'>2</span><span class='rparen token'>)</span>
        <span class='l identifier id'>l</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='@marker_width ivar id'>@marker_width</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='string val'>''</span>
        <span class='l identifier id'>l</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span> <span class='integer val'>0</span><span class='comma token'>,</span> <span class='str identifier id'>str</span>
        <span class='l identifier id'>l</span><span class='dot token'>.</span><span class='last identifier id'>last</span> <span class='lshft op'>&lt;&lt;</span> <span class='color identifier id'>color</span><span class='dot token'>.</span><span class='clear identifier id'>clear</span> <span class='if if_mod kw'>if</span> <span class='color identifier id'>color</span>
        <span class='lines identifier id'>lines</span><span class='dot token'>.</span><span class='concat identifier id'>concat</span> <span class='l identifier id'>l</span>
      <span class='when when kw'>when</span> <span class='Color constant id'>Color</span>
        <span class='if if kw'>if</span> <span class='item identifier id'>item</span><span class='dot token'>.</span><span class='color identifier id'>color</span> <span class='eq op'>==</span> <span class='symbol val'>:clear</span>
          <span class='color identifier id'>color</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
        <span class='else else kw'>else</span>
          <span class='color identifier id'>color</span> <span class='assign token'>=</span> <span class='item identifier id'>item</span>
        <span class='end end kw'>end</span>
      <span class='when when kw'>when</span> <span class='LineMarker constant id'>LineMarker</span>
        <span class='marker identifier id'>marker</span> <span class='assign token'>=</span> <span class='item identifier id'>item</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='lines identifier id'>lines</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='output_marker identifier id'>output_marker</span><span class='lparen token'>(</span><span class='marker identifier id'>marker</span><span class='rparen token'>)</span>
    <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='string val'>''</span>
    <span class='if if kw'>if</span> <span class='@marker_width ivar id'>@marker_width</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>
      <span class='if if kw'>if</span> <span class='marker identifier id'>marker</span>
        <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='marker identifier id'>marker</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
      <span class='else else kw'>else</span>
        <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='string val'>' '</span> <span class='mult op'>*</span> <span class='@marker_width ivar id'>@marker_width</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='str identifier id'>str</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>has_headers?</h3>
</div><div id="has_headers-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>has_headers?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns true if the column specification has headers
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/debugger/output.rb', line 154</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/debugger/output.rb#L154">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">154
155
156</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='has_headers? fid id'>has_headers?</span>
  <span class='notop op'>!</span><span class='@headers ivar id'>@headers</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>lines</h3>
</div><div id="lines-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>lines</span><span class='args'>(page_width = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Return the output as an array of strings, one per line. If an output item
wraps to more than one line, each line will be a seperate entry in the
returned array. Takes an optional parameter <tt>page_width</tt> that
specifies the width of the page on which the output will be displayed.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/debugger/output.rb', line 434</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/debugger/output.rb#L434">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='lines identifier id'>lines</span><span class='lparen token'>(</span><span class='page_width identifier id'>page_width</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='column identifier id'>column</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='color identifier id'>color</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='marker identifier id'>marker</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='lines identifier id'>lines</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@output ivar id'>@output</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='item identifier id'>item</span><span class='bitor op'>|</span>
    <span class='case case kw'>case</span> <span class='item identifier id'>item</span>
    <span class='when when kw'>when</span> <span class='String constant id'>String</span>
      <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='string val'>&quot;&quot;</span>
      <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='color identifier id'>color</span><span class='dot token'>.</span><span class='escape identifier id'>escape</span> <span class='if if_mod kw'>if</span> <span class='color identifier id'>color</span>
      <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='item identifier id'>item</span><span class='dot token'>.</span><span class='rstrip identifier id'>rstrip</span>
      <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='color identifier id'>color</span><span class='dot token'>.</span><span class='clear identifier id'>clear</span> <span class='if if_mod kw'>if</span> <span class='color identifier id'>color</span>
      <span class='lines identifier id'>lines</span> <span class='lshft op'>&lt;&lt;</span> <span class='str identifier id'>str</span>
    <span class='when when kw'>when</span> <span class='Columns constant id'>Columns</span>
      <span class='column identifier id'>column</span> <span class='assign token'>=</span> <span class='item identifier id'>item</span>
      <span class='if if kw'>if</span> <span class='page_width identifier id'>page_width</span>
        <span class='comment val'># Check page_width is sufficient for marker and column headers</span>
        <span class='width identifier id'>width</span> <span class='assign token'>=</span> <span class='page_width identifier id'>page_width</span><span class='minus op'>-</span><span class='integer val'>1</span> <span class='minus op'>-</span> <span class='lparen token'>(</span><span class='@marker_width ivar id'>@marker_width</span> <span class='plus op'>+</span> <span class='integer val'>2</span><span class='rparen token'>)</span>
        <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='redistribute_widths identifier id'>redistribute_widths</span><span class='lparen token'>(</span><span class='page_width identifier id'>page_width</span><span class='minus op'>-</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='@marker_width ivar id'>@marker_width</span> <span class='plus op'>+</span> <span class='integer val'>2</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='width identifier id'>width</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>
      <span class='end end kw'>end</span>
      <span class='if if kw'>if</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='has_headers? fid id'>has_headers?</span>
        <span class='lines identifier id'>lines</span><span class='dot token'>.</span><span class='concat identifier id'>concat</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='format_header_str identifier id'>format_header_str</span><span class='lparen token'>(</span><span class='@marker_width ivar id'>@marker_width</span><span class='plus op'>+</span><span class='integer val'>2</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='when when kw'>when</span> <span class='Array constant id'>Array</span>
      <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='string val'>&quot;&quot;</span>
      <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='color identifier id'>color</span><span class='dot token'>.</span><span class='escape identifier id'>escape</span> <span class='if if_mod kw'>if</span> <span class='color identifier id'>color</span>
      <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='output_marker identifier id'>output_marker</span><span class='lparen token'>(</span><span class='marker identifier id'>marker</span><span class='rparen token'>)</span>
      <span class='marker identifier id'>marker</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
      <span class='l identifier id'>l</span> <span class='assign token'>=</span> <span class='column identifier id'>column</span><span class='dot token'>.</span><span class='format_str identifier id'>format_str</span><span class='lparen token'>(</span><span class='item identifier id'>item</span><span class='comma token'>,</span> <span class='@marker_width ivar id'>@marker_width</span><span class='plus op'>+</span><span class='integer val'>2</span><span class='rparen token'>)</span>
      <span class='l identifier id'>l</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='@marker_width ivar id'>@marker_width</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='string val'>''</span>
      <span class='l identifier id'>l</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='dot token'>.</span><span class='insert identifier id'>insert</span> <span class='integer val'>0</span><span class='comma token'>,</span> <span class='str identifier id'>str</span>
      <span class='l identifier id'>l</span><span class='dot token'>.</span><span class='last identifier id'>last</span> <span class='lshft op'>&lt;&lt;</span> <span class='color identifier id'>color</span><span class='dot token'>.</span><span class='clear identifier id'>clear</span> <span class='if if_mod kw'>if</span> <span class='color identifier id'>color</span>
      <span class='lines identifier id'>lines</span><span class='dot token'>.</span><span class='concat identifier id'>concat</span> <span class='l identifier id'>l</span>
    <span class='when when kw'>when</span> <span class='Color constant id'>Color</span>
      <span class='if if kw'>if</span> <span class='item identifier id'>item</span><span class='dot token'>.</span><span class='color identifier id'>color</span> <span class='eq op'>==</span> <span class='symbol val'>:clear</span>
        <span class='color identifier id'>color</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
      <span class='else else kw'>else</span>
        <span class='color identifier id'>color</span> <span class='assign token'>=</span> <span class='item identifier id'>item</span>
      <span class='end end kw'>end</span>
    <span class='when when kw'>when</span> <span class='LineMarker constant id'>LineMarker</span>
      <span class='marker identifier id'>marker</span> <span class='assign token'>=</span> <span class='item identifier id'>item</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='lines identifier id'>lines</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>output_marker</h3>
</div><div id="output_marker-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>output_marker</span><span class='args'>(marker)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/debugger/output.rb', line 480</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/debugger/output.rb#L480">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">480
481
482
483
484
485
486
487
488
489
490</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='output_marker identifier id'>output_marker</span><span class='lparen token'>(</span><span class='marker identifier id'>marker</span><span class='rparen token'>)</span>
  <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='string val'>''</span>
  <span class='if if kw'>if</span> <span class='@marker_width ivar id'>@marker_width</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>
    <span class='if if kw'>if</span> <span class='marker identifier id'>marker</span>
      <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='marker identifier id'>marker</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
    <span class='else else kw'>else</span>
      <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='string val'>' '</span> <span class='mult op'>*</span> <span class='@marker_width ivar id'>@marker_width</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='str identifier id'>str</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>redistribute_widths</h3>
</div><div id="redistribute_widths-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>redistribute_widths</span><span class='args'>(page_width, indent = 0)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Redistributes the calculated widths, ensuring the overall line width is no
greater than the specified page width. Reductions are made in the following
order:
</p>
<ul>
<li>first, all columns that have a width specification are reduced to that
width (if they exceed it)

</li>
<li>next, any columns with a variable width specification are reduced (from
largest to smallest) proportionately based on the needed reduction

</li>
</ul>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/debugger/output.rb', line 95</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/debugger/output.rb#L95">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='redistribute_widths identifier id'>redistribute_widths</span><span class='lparen token'>(</span><span class='page_width identifier id'>page_width</span><span class='comma token'>,</span> <span class='indent identifier id'>indent</span><span class='assign token'>=</span><span class='integer val'>0</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='page_width identifier id'>page_width</span>
    <span class='comment val'># Reduce page_wdith by any requirements for indentation and column separators</span>
    <span class='page_width identifier id'>page_width</span> <span class='opasgn op'>-=</span> <span class='indent identifier id'>indent</span> <span class='plus op'>+</span> <span class='lparen token'>(</span><span class='@widths ivar id'>@widths</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='minus op'>-</span><span class='integer val'>1</span><span class='rparen token'>)</span> <span class='mult op'>*</span> <span class='@col_separator ivar id'>@col_separator</span><span class='dot token'>.</span><span class='length identifier id'>length</span>
    <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;Page width is insufficient to display any content&quot;</span> <span class='if if_mod kw'>if</span> <span class='page_width identifier id'>page_width</span> <span class='lt op'>&lt;</span> <span class='integer val'>1</span>

    <span class='comment val'># Determine the fixed and variable width columns</span>
    <span class='fixed_width identifier id'>fixed_width</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
    <span class='var_width identifier id'>var_width</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
    <span class='cum_width identifier id'>cum_width</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
    <span class='variable_widths identifier id'>variable_widths</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='@widths ivar id'>@widths</span><span class='dot token'>.</span><span class='each_with_index identifier id'>each_with_index</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='width identifier id'>width</span><span class='comma token'>,</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
      <span class='cum_width identifier id'>cum_width</span> <span class='opasgn op'>+=</span> <span class='@widths ivar id'>@widths</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span>
      <span class='if if kw'>if</span> <span class='@fixed_widths ivar id'>@fixed_widths</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span>
        <span class='if if kw'>if</span> <span class='fixed_widths identifier id'>fixed_widths</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='string val'>'*'</span>
          <span class='variable_widths identifier id'>variable_widths</span> <span class='lshft op'>&lt;&lt;</span> <span class='i identifier id'>i</span>
          <span class='var_width identifier id'>var_width</span> <span class='opasgn op'>+=</span> <span class='@widths ivar id'>@widths</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span>
        <span class='else else kw'>else</span>
          <span class='fixed_width identifier id'>fixed_width</span> <span class='opasgn op'>+=</span> <span class='@fixed_widths ivar id'>@fixed_widths</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='cum_width identifier id'>cum_width</span> <span class='leq op'>&lt;=</span> <span class='page_width identifier id'>page_width</span>

    <span class='comment val'># Need to squeeze - first up, ensure fixed width columns don't exceed</span>
    <span class='comment val'># specified size</span>
    <span class='@fixed_widths ivar id'>@fixed_widths</span><span class='dot token'>.</span><span class='each_with_index identifier id'>each_with_index</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='fw identifier id'>fw</span><span class='comma token'>,</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
      <span class='if if kw'>if</span> <span class='fw identifier id'>fw</span> <span class='and and kw'>and</span> <span class='fw identifier id'>fw</span> <span class='neq op'>!=</span> <span class='string val'>'*'</span>
        <span class='if if kw'>if</span> <span class='fw identifier id'>fw</span> <span class='lt op'>&lt;</span> <span class='@widths ivar id'>@widths</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span>
          <span class='cum_width identifier id'>cum_width</span> <span class='opasgn op'>-=</span> <span class='@widths ivar id'>@widths</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='minus op'>-</span> <span class='fw identifier id'>fw</span>
          <span class='@widths ivar id'>@widths</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='fw identifier id'>fw</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='cum_width identifier id'>cum_width</span> <span class='leq op'>&lt;=</span> <span class='page_width identifier id'>page_width</span>

    <span class='if if kw'>if</span> <span class='variable_widths identifier id'>variable_widths</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span> <span class='and and kw'>and</span> <span class='lparen token'>(</span><span class='fixed_width identifier id'>fixed_width</span> <span class='plus op'>+</span> <span class='variable_widths identifier id'>variable_widths</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='rparen token'>)</span> <span class='lt op'>&lt;</span> <span class='page_width identifier id'>page_width</span>
      <span class='comment val'># Next, reduce variable widths proportionately to needs      </span>
      <span class='cum_adj identifier id'>cum_adj</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
      <span class='variable_widths identifier id'>variable_widths</span><span class='dot token'>.</span><span class='sort identifier id'>sort</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
        <span class='adj identifier id'>adj</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='@widths ivar id'>@widths</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span> <span class='div op'>/</span> <span class='var_width identifier id'>var_width</span> <span class='mult op'>*</span> <span class='lparen token'>(</span><span class='cum_width identifier id'>cum_width</span> <span class='minus op'>-</span> <span class='page_width identifier id'>page_width</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='ceil identifier id'>ceil</span>
        <span class='@widths ivar id'>@widths</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='opasgn op'>-=</span> <span class='adj identifier id'>adj</span>
        <span class='cum_adj identifier id'>cum_adj</span> <span class='opasgn op'>+=</span> <span class='adj identifier id'>adj</span>
        <span class='break break kw'>break</span> <span class='if if_mod kw'>if</span> <span class='cum_width identifier id'>cum_width</span> <span class='minus op'>-</span> <span class='cum_adj identifier id'>cum_adj</span> <span class='leq op'>&lt;=</span> <span class='page_width identifier id'>page_width</span>
      <span class='end end kw'>end</span>
      <span class='cum_width identifier id'>cum_width</span> <span class='opasgn op'>-=</span> <span class='cum_adj identifier id'>cum_adj</span>
    <span class='end end kw'>end</span>
    <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='cum_width identifier id'>cum_width</span> <span class='leq op'>&lt;=</span> <span class='page_width identifier id'>page_width</span>

    <span class='if if kw'>if</span> <span class='cum_width identifier id'>cum_width</span> <span class='gt op'>&gt;</span> <span class='page_width identifier id'>page_width</span>
      <span class='comment val'># TODO: Full squeeze - squeeze all columns to fit</span>
    <span class='end end kw'>end</span>

    <span class='return return kw'>return</span> <span class='false false kw'>false</span>
  <span class='end end kw'>end</span>
  <span class='true true kw'>true</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>set_color</h3>
</div><div id="set_color-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>set_color</span><span class='args'>(color)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Convenience method to set a new row color
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/debugger/output.rb', line 415</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/debugger/output.rb#L415">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">415
416
417</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='set_color identifier id'>set_color</span><span class='lparen token'>(</span><span class='color identifier id'>color</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span> <span class='lshft op'>&lt;&lt;</span> <span class='Color constant id'>Color</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='color identifier id'>color</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='@current_color ivar id'>@current_color</span> <span class='and and kw'>and</span> <span class='@current_color ivar id'>@current_color</span><span class='dot token'>.</span><span class='color identifier id'>color</span> <span class='eq op'>==</span> <span class='color identifier id'>color</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>set_columns</h3>
</div><div id="set_columns-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>set_columns</span><span class='args'>(formats, col_sep = ' ')</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Convenience method to set a new column structure
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/debugger/output.rb', line 410</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/debugger/output.rb#L410">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">410
411
412</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='set_columns identifier id'>set_columns</span><span class='lparen token'>(</span><span class='formats identifier id'>formats</span><span class='comma token'>,</span> <span class='col_sep identifier id'>col_sep</span><span class='assign token'>=</span><span class='string val'>' '</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span> <span class='lshft op'>&lt;&lt;</span> <span class='Columns constant id'>Columns</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='formats identifier id'>formats</span><span class='comma token'>,</span> <span class='col_sep identifier id'>col_sep</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>set_line_marker</h3>
</div><div id="set_line_marker-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>set_line_marker</span><span class='args'>(marker = '=&gt; ')</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Sets a marker to be displayed next to the next line
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/debugger/output.rb', line 420</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/debugger/output.rb#L420">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">420
421
422</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='set_line_marker identifier id'>set_line_marker</span><span class='lparen token'>(</span><span class='marker identifier id'>marker</span><span class='assign token'>=</span><span class='string val'>'=&gt; '</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span> <span class='lshft op'>&lt;&lt;</span> <span class='LineMarker constant id'>LineMarker</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='marker identifier id'>marker</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_s</h3>
</div><div id="to_s-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_s</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Convert this output stream to a string
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/debugger/output.rb', line 425</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/debugger/output.rb#L425">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">425
426
427</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_s identifier id'>to_s</span>
  <span class='lines identifier id'>lines</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;\n&quot;</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>update_widths</h3>
</div><div id="update_widths-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>update_widths</span><span class='args'>(cells)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Update the column widths required based on the row content
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/debugger/output.rb', line 78</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/debugger/output.rb#L78">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">78
79
80
81
82
83
84
85
86</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='update_widths identifier id'>update_widths</span><span class='lparen token'>(</span><span class='cells identifier id'>cells</span><span class='rparen token'>)</span>
  <span class='cells identifier id'>cells</span><span class='dot token'>.</span><span class='each_with_index identifier id'>each_with_index</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='cell identifier id'>cell</span><span class='comma token'>,</span><span class='col identifier id'>col</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='cell identifier id'>cell</span>
      <span class='@formats ivar id'>@formats</span><span class='lbrack token'>[</span><span class='col identifier id'>col</span><span class='rbrack token'>]</span> <span class='match op'>=~</span> <span class='FORMAT_RE constant id'>FORMAT_RE</span>
      <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{$`}%#{$2}#{$3 unless $3 == '*'}#{$4}#{$'}&quot;</span> <span class='mod op'>%</span> <span class='cell identifier id'>cell</span>
      <span class='@widths ivar id'>@widths</span><span class='lbrack token'>[</span><span class='col identifier id'>col</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='if if_mod kw'>if</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='gt op'>&gt;</span> <span class='@widths ivar id'>@widths</span><span class='lbrack token'>[</span><span class='col identifier id'>col</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>wrap</h3>
</div><div id="wrap-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>wrap</span><span class='args'>(str, width, align = :none, pad = ' ')</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Splits the supplied string at logical breaks to ensure that no line is
longer than the spcecified width. Returns an array of lines.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>ArgumentError</tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/debugger/output.rb', line 224</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/debugger/output.rb#L224">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='wrap identifier id'>wrap</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='comma token'>,</span> <span class='align identifier id'>align</span><span class='assign token'>=</span><span class='symbol val'>:none</span><span class='comma token'>,</span> <span class='pad identifier id'>pad</span><span class='assign token'>=</span><span class='string val'>' '</span><span class='rparen token'>)</span>
    <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Invalid wrap length specified (#{width})&quot;</span> <span class='if if_mod kw'>if</span> <span class='width identifier id'>width</span> <span class='lt op'>&lt;</span> <span class='integer val'>0</span>

    <span class='return return kw'>return</span> <span class='lbrack token'>[</span><span class='nil nil kw'>nil</span><span class='rbrack token'>]</span> <span class='unless unless_mod kw'>unless</span> <span class='str identifier id'>str</span> <span class='and and kw'>and</span> <span class='width identifier id'>width</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>

    <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='rstrip! fid id'>rstrip!</span>
    <span class='lines identifier id'>lines</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='until until kw'>until</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='leq op'>&lt;=</span> <span class='width identifier id'>width</span> <span class='do do kw'>do</span>
      <span class='if if kw'>if</span> <span class='pos identifier id'>pos</span> <span class='assign token'>=</span> <span class='str identifier id'>str</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rindex identifier id'>rindex</span><span class='lparen token'>(</span><span class='regexp val'>/[\s\-,\/_]/</span><span class='rparen token'>)</span>
        <span class='comment val'># Found a break on whitespace or dash</span>
        <span class='line identifier id'>line</span><span class='comma token'>,</span> <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='str identifier id'>str</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='pos identifier id'>pos</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rstrip identifier id'>rstrip</span><span class='comma token'>,</span> <span class='str identifier id'>str</span><span class='lbrack token'>[</span><span class='pos identifier id'>pos</span><span class='plus op'>+</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span>
      <span class='elsif elsif kw'>elsif</span> <span class='pos identifier id'>pos</span> <span class='assign token'>=</span> <span class='str identifier id'>str</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='minus op'>-</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rindex identifier id'>rindex</span><span class='lparen token'>(</span><span class='regexp val'>/[^\w]/</span><span class='rparen token'>)</span> <span class='and and kw'>and</span> <span class='pos identifier id'>pos</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>
        <span class='comment val'># Found a non-word character to break on</span>
        <span class='line identifier id'>line</span><span class='comma token'>,</span> <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='str identifier id'>str</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot3 op'>...</span><span class='pos identifier id'>pos</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rstrip identifier id'>rstrip</span><span class='comma token'>,</span> <span class='str identifier id'>str</span><span class='lbrack token'>[</span><span class='pos identifier id'>pos</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span>
      <span class='else else kw'>else</span>
        <span class='comment val'># Force break at width</span>
        <span class='line identifier id'>line</span><span class='comma token'>,</span> <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='str identifier id'>str</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot3 op'>...</span><span class='width identifier id'>width</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rstrip identifier id'>rstrip</span><span class='comma token'>,</span> <span class='str identifier id'>str</span><span class='lbrack token'>[</span><span class='width identifier id'>width</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span>
      <span class='end end kw'>end</span>

      <span class='comment val'># Pad with spaces to requested width if an alignment is specified</span>
      <span class='lines identifier id'>lines</span> <span class='lshft op'>&lt;&lt;</span> <span class='align identifier id'>align</span><span class='lparen token'>(</span><span class='line identifier id'>line</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='comma token'>,</span> <span class='align identifier id'>align</span><span class='comma token'>,</span> <span class='pad identifier id'>pad</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='lines identifier id'>lines</span> <span class='lshft op'>&lt;&lt;</span> <span class='align identifier id'>align</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='comma token'>,</span> <span class='align identifier id'>align</span><span class='comma token'>,</span> <span class='pad identifier id'>pad</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='str identifier id'>str</span>
    <span class='lines identifier id'>lines</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># Aligns </span>
  <span class='def def kw'>def</span> <span class='align identifier id'>align</span><span class='lparen token'>(</span><span class='line identifier id'>line</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='comma token'>,</span> <span class='align identifier id'>align</span><span class='comma token'>,</span> <span class='pad identifier id'>pad</span><span class='assign token'>=</span><span class='string val'>' '</span><span class='rparen token'>)</span>
    <span class='case case kw'>case</span> <span class='align identifier id'>align</span>
    <span class='when when kw'>when</span> <span class='symbol val'>:left</span>
      <span class='line identifier id'>line</span> <span class='assign token'>=</span> <span class='line identifier id'>line</span> <span class='plus op'>+</span> <span class='pad identifier id'>pad</span> <span class='mult op'>*</span> <span class='lparen token'>(</span><span class='width identifier id'>width</span> <span class='minus op'>-</span> <span class='line identifier id'>line</span><span class='dot token'>.</span><span class='length identifier id'>length</span><span class='rparen token'>)</span>
    <span class='when when kw'>when</span> <span class='symbol val'>:right</span>
      <span class='line identifier id'>line</span> <span class='assign token'>=</span> <span class='pad identifier id'>pad</span> <span class='mult op'>*</span> <span class='lparen token'>(</span><span class='width identifier id'>width</span> <span class='minus op'>-</span> <span class='line identifier id'>line</span><span class='dot token'>.</span><span class='length identifier id'>length</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='line identifier id'>line</span>
    <span class='when when kw'>when</span> <span class='symbol val'>:center</span>
      <span class='line identifier id'>line</span> <span class='assign token'>=</span> <span class='line identifier id'>line</span><span class='dot token'>.</span><span class='center identifier id'>center</span><span class='lparen token'>(</span><span class='width identifier id'>width</span><span class='comma token'>,</span> <span class='pad identifier id'>pad</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='line identifier id'>line</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>