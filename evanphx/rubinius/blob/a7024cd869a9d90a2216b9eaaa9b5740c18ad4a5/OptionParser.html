<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>evanphx's rubinius - Class: OptionParser - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/evanphx/commits/rubinius/master" rel="alternate" title="Recent Commits to rubinius:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("evanphx", "rubinius", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("evanphx", "rubinius", "a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/evanphx/rubinius/tree/">Source</a></li>
            <li class=""><a href="http://github.com/evanphx/rubinius/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/evanphx/rubinius/network">Network</a></li>            
            <li class=""><a href="http://github.com/evanphx/rubinius/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/evanphx/rubinius">Wiki</a></li>
            <li class=""><a href="http://github.com/evanphx/rubinius/graphs">Graphs</a></li>                    
            <li class="active"><a href="/evanphx/rubinius">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/evanphx">evanphx</a> / <b><a href="http://github.com/evanphx/rubinius/tree">rubinius</a></b>        
                <a id="namespaces_button" rel="evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class OptionParser">
  <h1>Class: OptionParser</h1>
  <div class="section docstring">
  <h3>Class tree</h3>
<ul>
<li>OptionParser:: front end

</li>
<li>OptionParser::Switch:: each switches

</li>
<li>OptionParser::List:: options list

</li>
<li>OptionParser::ParseError:: errors on parsing

<ul>
<li>OptionParser::AmbiguousOption

</li>
<li>OptionParser::NeedlessArgument

</li>
<li>OptionParser::MissingArgument

</li>
<li>OptionParser::InvalidOption

</li>
<li>OptionParser::InvalidArgument

<ul>
<li>OptionParser::AmbiguousArgument

</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Object relationship diagram</h3>
<pre class="code">
  <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;
  | OptionParser |&lt;&gt;-----&lt;tt&gt;
  &lt;/</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='plus op'>+</span>       <span class='bitor op'>|</span>                      <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;
                         |                    ,-| Switch |
       on_head --------&gt;&lt;tt&gt;---------------&lt;/</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span>    <span class='regexp val'>/  &lt;tt&gt;--------&lt;/</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span>
       <span class='accept identifier id'>accept</span><span class='div op'>/</span><span class='reject identifier id'>reject</span> <span class='minus op'>-</span><span class='minus op'>-</span><span class='gt op'>&gt;</span><span class='bitor op'>|</span> <span class='List constant id'>List</span>          <span class='bitor op'>|</span><span class='lt op'>&lt;</span><span class='bitor op'>|</span><span class='gt op'>&gt;</span><span class='minus op'>-</span>
                        <span class='bitor op'>|</span>               <span class='bitor op'>|</span><span class='lt op'>&lt;</span><span class='bitor op'>|</span><span class='gt op'>&gt;</span><span class='minus op'>-</span>  <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='minus op'>-</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;
       on -------------&gt;&lt;tt&gt;---------------&lt;/</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span>    <span class='xstring val'>`-| argument |
                          :           :        |  class   |
                        &lt;tt&gt;---------------&lt;/tt&gt;      |==========|
       on_tail --------&gt;|               |      |pattern   |
                        &lt;tt&gt;---------------&lt;/tt&gt;      |----------|
  OptionParser.accept -&gt;| DefaultList   |      |converter |
               reject   |(shared between|      &lt;tt&gt;----------&lt;/tt&gt;
                        | all instances)|
                        &lt;tt&gt;---------------&lt;/tt&gt;
</span></pre>
<h2>OptionParser</h2>
<h3>Introduction</h3>
<p>
OptionParser is a class for command-line option analysis. It is much more
advanced, yet also easier to use, than GetoptLong, and is a more
Ruby-oriented solution.
</p>
<h3>Features</h3>
<ol>
<li>The argument specification and the code to handle it are written in the
same place.

</li>
<li>It can output an option summary; you don&#8217;t need to maintain this
string separately.

</li>
<li>Optional and mandatory arguments are specified very gracefully.

</li>
<li>Arguments can be automatically converted to a specified class.

</li>
<li>Arguments can be restricted to a certain set.

</li>
</ol>
<p>
All of these features are demonstrated in the examples below.
</p>
<h3>Minimal example</h3>
<pre class="code">
  <span class='require identifier id'>require</span> <span class='string val'>'optparse'</span>

  <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='OptionParser constant id'>OptionParser</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='opts identifier id'>opts</span><span class='bitor op'>|</span>
    <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='banner identifier id'>banner</span> <span class='assign token'>=</span> <span class='string val'>&quot;Usage: example.rb [options]&quot;</span>

    <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='on identifier id'>on</span><span class='lparen token'>(</span><span class='string val'>&quot;-v&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;--[no-]verbose&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;Run verbosely&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='v identifier id'>v</span><span class='bitor op'>|</span>
      <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:verbose</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span><span class='dot token'>.</span><span class='parse! fid id'>parse!</span>

  <span class='p identifier id'>p</span> <span class='options identifier id'>options</span>
  <span class='p identifier id'>p</span> <span class='ARGV constant id'>ARGV</span>
</pre>
<h3>Complete example</h3>
<p>
The following example is a complete Ruby program. You can run it and see
the effect of specifying various options. This is probably the best way to
learn the features of <tt>optparse</tt>.
</p>
<pre class="code">
  <span class='require identifier id'>require</span> <span class='string val'>'optparse'</span>
  <span class='require identifier id'>require</span> <span class='string val'>'optparse/time'</span>
  <span class='require identifier id'>require</span> <span class='string val'>'ostruct'</span>
  <span class='require identifier id'>require</span> <span class='string val'>'pp'</span>

  <span class='class class kw'>class</span> <span class='OptparseExample constant id'>OptparseExample</span>

    <span class='CODES constant id'>CODES</span> <span class='assign token'>=</span> <span class='dstring node'>%w[iso-2022-jp shift_jis euc-jp utf8 binary]</span>
    <span class='CODE_ALIASES constant id'>CODE_ALIASES</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='string val'>&quot;jis&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;iso-2022-jp&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;sjis&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;shift_jis&quot;</span> <span class='rbrace token'>}</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Return a structure describing the options.</span>
    <span class='comment val'>#</span>
    <span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
      <span class='comment val'># The options specified on the command line will be collected in *options*.</span>
      <span class='comment val'># We set default values here.</span>
      <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='OpenStruct constant id'>OpenStruct</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
      <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='library identifier id'>library</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
      <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='inplace identifier id'>inplace</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
      <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='encoding identifier id'>encoding</span> <span class='assign token'>=</span> <span class='string val'>&quot;utf8&quot;</span>
      <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='transfer_type identifier id'>transfer_type</span> <span class='assign token'>=</span> <span class='symbol val'>:auto</span>
      <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='verbose identifier id'>verbose</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>

      <span class='opts identifier id'>opts</span> <span class='assign token'>=</span> <span class='OptionParser constant id'>OptionParser</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='opts identifier id'>opts</span><span class='bitor op'>|</span>
        <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='banner identifier id'>banner</span> <span class='assign token'>=</span> <span class='string val'>&quot;Usage: example.rb [options]&quot;</span>

        <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='separator identifier id'>separator</span> <span class='string val'>&quot;&quot;</span>
        <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='separator identifier id'>separator</span> <span class='string val'>&quot;Specific options:&quot;</span>

        <span class='comment val'># Mandatory argument.</span>
        <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='on identifier id'>on</span><span class='lparen token'>(</span><span class='string val'>&quot;-r&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;--require LIBRARY&quot;</span><span class='comma token'>,</span>
                <span class='string val'>&quot;Require the LIBRARY before executing your script&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='lib identifier id'>lib</span><span class='bitor op'>|</span>
          <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='library identifier id'>library</span> <span class='lshft op'>&lt;&lt;</span> <span class='lib identifier id'>lib</span>
        <span class='end end kw'>end</span>

        <span class='comment val'># Optional argument; multi-line description.</span>
        <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='on identifier id'>on</span><span class='lparen token'>(</span><span class='string val'>&quot;-i&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;--inplace [EXTENSION]&quot;</span><span class='comma token'>,</span>
                <span class='string val'>&quot;Edit ARGV files in place&quot;</span><span class='comma token'>,</span>
                <span class='string val'>&quot;  (make backup if EXTENSION supplied)&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='ext identifier id'>ext</span><span class='bitor op'>|</span>
          <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='inplace identifier id'>inplace</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
          <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='extension identifier id'>extension</span> <span class='assign token'>=</span> <span class='ext identifier id'>ext</span> <span class='orop op'>||</span> <span class='string val'>''</span>
          <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='extension identifier id'>extension</span><span class='dot token'>.</span><span class='sub! fid id'>sub!</span><span class='lparen token'>(</span><span class='regexp val'>/\A\.?(?=.)/</span><span class='comma token'>,</span> <span class='string val'>&quot;.&quot;</span><span class='rparen token'>)</span>  <span class='comment val'># Ensure extension begins with dot.</span>
        <span class='end end kw'>end</span>

        <span class='comment val'># Cast 'delay' argument to a Float.</span>
        <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='on identifier id'>on</span><span class='lparen token'>(</span><span class='string val'>&quot;--delay N&quot;</span><span class='comma token'>,</span> <span class='Float constant id'>Float</span><span class='comma token'>,</span> <span class='string val'>&quot;Delay N seconds before executing&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='n identifier id'>n</span><span class='bitor op'>|</span>
          <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='delay identifier id'>delay</span> <span class='assign token'>=</span> <span class='n identifier id'>n</span>
        <span class='end end kw'>end</span>

        <span class='comment val'># Cast 'time' argument to a Time object.</span>
        <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='on identifier id'>on</span><span class='lparen token'>(</span><span class='string val'>&quot;-t&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;--time [TIME]&quot;</span><span class='comma token'>,</span> <span class='Time constant id'>Time</span><span class='comma token'>,</span> <span class='string val'>&quot;Begin execution at given time&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='time identifier id'>time</span><span class='bitor op'>|</span>
          <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='time identifier id'>time</span> <span class='assign token'>=</span> <span class='time identifier id'>time</span>
        <span class='end end kw'>end</span>

        <span class='comment val'># Cast to octal integer.</span>
        <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='on identifier id'>on</span><span class='lparen token'>(</span><span class='string val'>&quot;-F&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;--irs [OCTAL]&quot;</span><span class='comma token'>,</span> <span class='OptionParser constant id'>OptionParser</span><span class='colon2 op'>::</span><span class='OctalInteger constant id'>OctalInteger</span><span class='comma token'>,</span>
                <span class='string val'>&quot;Specify record separator (default \\0)&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='rs identifier id'>rs</span><span class='bitor op'>|</span>
          <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='record_separator identifier id'>record_separator</span> <span class='assign token'>=</span> <span class='rs identifier id'>rs</span>
        <span class='end end kw'>end</span>

        <span class='comment val'># List of arguments.</span>
        <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='on identifier id'>on</span><span class='lparen token'>(</span><span class='string val'>&quot;--list x,y,z&quot;</span><span class='comma token'>,</span> <span class='Array constant id'>Array</span><span class='comma token'>,</span> <span class='string val'>&quot;Example 'list' of arguments&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='list identifier id'>list</span><span class='bitor op'>|</span>
          <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='list identifier id'>list</span> <span class='assign token'>=</span> <span class='list identifier id'>list</span>
        <span class='end end kw'>end</span>

        <span class='comment val'># Keyword completion.  We are specifying a specific set of arguments (CODES</span>
        <span class='comment val'># and CODE_ALIASES - notice the latter is a Hash), and the user may provide</span>
        <span class='comment val'># the shortest unambiguous text.</span>
        <span class='code_list identifier id'>code_list</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='CODE_ALIASES constant id'>CODE_ALIASES</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span> <span class='plus op'>+</span> <span class='CODES constant id'>CODES</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>','</span><span class='rparen token'>)</span>
        <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='on identifier id'>on</span><span class='lparen token'>(</span><span class='string val'>&quot;--code CODE&quot;</span><span class='comma token'>,</span> <span class='CODES constant id'>CODES</span><span class='comma token'>,</span> <span class='CODE_ALIASES constant id'>CODE_ALIASES</span><span class='comma token'>,</span> <span class='string val'>&quot;Select encoding&quot;</span><span class='comma token'>,</span>
                <span class='dstring node'>&quot;  (#{code_list})&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='encoding identifier id'>encoding</span><span class='bitor op'>|</span>
          <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='encoding identifier id'>encoding</span> <span class='assign token'>=</span> <span class='encoding identifier id'>encoding</span>
        <span class='end end kw'>end</span>

        <span class='comment val'># Optional argument with keyword completion.</span>
        <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='on identifier id'>on</span><span class='lparen token'>(</span><span class='string val'>&quot;--type [TYPE]&quot;</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:text</span><span class='comma token'>,</span> <span class='symbol val'>:binary</span><span class='comma token'>,</span> <span class='symbol val'>:auto</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
                <span class='string val'>&quot;Select transfer type (text, binary, auto)&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='t identifier id'>t</span><span class='bitor op'>|</span>
          <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='transfer_type identifier id'>transfer_type</span> <span class='assign token'>=</span> <span class='t identifier id'>t</span>
        <span class='end end kw'>end</span>

        <span class='comment val'># Boolean switch.</span>
        <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='on identifier id'>on</span><span class='lparen token'>(</span><span class='string val'>&quot;-v&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;--[no-]verbose&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;Run verbosely&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='v identifier id'>v</span><span class='bitor op'>|</span>
          <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='verbose identifier id'>verbose</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span>
        <span class='end end kw'>end</span>

        <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='separator identifier id'>separator</span> <span class='string val'>&quot;&quot;</span>
        <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='separator identifier id'>separator</span> <span class='string val'>&quot;Common options:&quot;</span>

        <span class='comment val'># No argument, shows at tail.  This will print an options summary.</span>
        <span class='comment val'># Try it and see!</span>
        <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='on_tail identifier id'>on_tail</span><span class='lparen token'>(</span><span class='string val'>&quot;-h&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;--help&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;Show this message&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span>
          <span class='puts identifier id'>puts</span> <span class='opts identifier id'>opts</span>
          <span class='exit identifier id'>exit</span>
        <span class='end end kw'>end</span>

        <span class='comment val'># Another typical switch to print the version.</span>
        <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='on_tail identifier id'>on_tail</span><span class='lparen token'>(</span><span class='string val'>&quot;--version&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;Show version&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span>
          <span class='puts identifier id'>puts</span> <span class='OptionParser constant id'>OptionParser</span><span class='colon2 op'>::</span><span class='Version constant id'>Version</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'.'</span><span class='rparen token'>)</span>
          <span class='exit identifier id'>exit</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>

      <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='parse! fid id'>parse!</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
      <span class='options identifier id'>options</span>
    <span class='end end kw'>end</span>  <span class='comment val'># parse()</span>

  <span class='end end kw'>end</span>  <span class='comment val'># class OptparseExample</span>

  <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='OptparseExample constant id'>OptparseExample</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='ARGV constant id'>ARGV</span><span class='rparen token'>)</span>
  <span class='pp identifier id'>pp</span> <span class='options identifier id'>options</span>
</pre>
<h3>Further documentation</h3>
<p>
The above examples should be enough to learn how to use this class. If you
have any questions, email me (gsinclair@soyabean.com.au) and I will update
this document.
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">banner</td>
          <td class="readwrite">
            [R<span id='banner=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Instance methods.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">default_argv</td>
          <td class="readwrite">
            [<span id='default_argv-instance_method'>R</span><span id='default_argv=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Strings to be parsed in default.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">program_name</td>
          <td class="readwrite">
            [R<span id='program_name=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Program name to be emitted in error message and default banner, defaults to
$0.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">release</td>
          <td class="readwrite">
            [R<span id='release=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Release code.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">summary_indent</td>
          <td class="readwrite">
            [<span id='summary_indent-instance_method'>R</span><span id='summary_indent=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Indentation for summary.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">summary_width</td>
          <td class="readwrite">
            [<span id='summary_width-instance_method'>R</span><span id='summary_width=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Width for option list portion of summary.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="ArgumentStyle-constant">ArgumentStyle</dt>
      <dd>{}</dd>
    
      <dt id="DefaultList-constant">DefaultList</dt>
      <dd>List.new</dd>
    
      <dt id="LastModified-constant">LastModified</dt>
      <dd>(Time.gm(*RCSID[2, 2].join('-').scan(/\d+/).collect {|s| s.to_i}) if RCSID[2])</dd>
    
      <dt id="NoArgument-constant">NoArgument</dt>
      <dd>[NO_ARGUMENT = :NONE, nil].freeze</dd>
    
      <dt id="Officious-constant">Officious</dt>
      <dd>{}</dd>
    
      <dt id="OptionalArgument-constant">OptionalArgument</dt>
      <dd>[OPTIONAL_ARGUMENT = :OPTIONAL, false].freeze</dd>
    
      <dt id="RCSID-constant">RCSID</dt>
      <dd>%w$Id: optparse.rb 11798 2007-02-20 06:53:16Z knu $[1..-1].each {|s| s.freeze}.freeze</dd>
    
      <dt id="Release-constant">Release</dt>
      <dd>RCSID[2]</dd>
    
      <dt id="RequiredArgument-constant">RequiredArgument</dt>
      <dd>[REQUIRED_ARGUMENT = :REQUIRED, true].freeze</dd>
    
      <dt id="Version-constant">Version</dt>
      <dd>(RCSID[1].split('.').collect {|s| s.to_i}.extend(Comparable).freeze if RCSID[1])</dd>
    
  </dl>
</div>

</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(banner = nil, width = 32, indent = ' '*4)</span>
    <span class='block'>{|_self| ... }</span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Initializes the instance and yields itself if called with a block.
</p>
<table>
<tr><td valign="top"><tt>banner</tt>:</td><td>Banner message.

</td></tr>
<tr><td valign="top"><tt>width</tt>:</td><td>Summary width.

</td></tr>
<tr><td valign="top"><tt>indent</tt>:</td><td>Summary indent.

</td></tr>
</table>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="yieldparam">
  <h3>Yield Parameters:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="" title="OptionParser">OptionParser</a></tt>]</span>
      
      
        <span class='name'>_self</span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
the object that the method was called on
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 778</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L778">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">778
779
780
781
782
783
784
785
786
787</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='banner identifier id'>banner</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='width identifier id'>width</span> <span class='assign token'>=</span> <span class='integer val'>32</span><span class='comma token'>,</span> <span class='indent identifier id'>indent</span> <span class='assign token'>=</span> <span class='string val'>' '</span> <span class='mult op'>*</span> <span class='integer val'>4</span><span class='rparen token'>)</span>
  <span class='@stack ivar id'>@stack</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='DefaultList constant id'>DefaultList</span><span class='comma token'>,</span> <span class='List constant id'>List</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='comma token'>,</span> <span class='List constant id'>List</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='rbrack token'>]</span>
  <span class='@program_name ivar id'>@program_name</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@banner ivar id'>@banner</span> <span class='assign token'>=</span> <span class='banner identifier id'>banner</span>
  <span class='@summary_width ivar id'>@summary_width</span> <span class='assign token'>=</span> <span class='width identifier id'>width</span>
  <span class='@summary_indent ivar id'>@summary_indent</span> <span class='assign token'>=</span> <span class='indent identifier id'>indent</span>
  <span class='@default_argv ivar id'>@default_argv</span> <span class='assign token'>=</span> <span class='ARGV constant id'>ARGV</span>
  <span class='add_officious identifier id'>add_officious</span>
  <span class='yield yield kw'>yield</span> <span class='self self kw'>self</span> <span class='if if_mod kw'>if</span> <span class='block_given? fid id'>block_given?</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#accept-class_method">accept</span><span class='args'>(*args, &amp;blk)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
See #accept.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#each_const-class_method">each_const</span><span class='args'>(path, klass = ::Object)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#getopts-class_method">getopts</span><span class='args'>(*args)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
See #getopts.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#inc-class_method">inc</span><span class='args'>(arg, default = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns an incremented value of <tt>default</tt> according to <tt>arg</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#reject-class_method">reject</span><span class='args'>(*args, &amp;blk)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
See #reject.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#search_const-class_method">search_const</span><span class='args'>(klass, name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#show_version-class_method">show_version</span><span class='args'>(*pkg)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#terminate-class_method">terminate</span><span class='args'>(arg = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#top-class_method">top</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#with-class_method">with</span><span class='args'>(*args, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:startdoc:.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#abort-instance_method">#abort</span><span class='args'>(mesg = $!)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#accept-instance_method">#accept</span><span class='args'>(*args, &amp;blk)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Directs to accept specified class <tt>t</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#add_officious-instance_method">#add_officious</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#banner-instance_method">#banner</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Heading banner preceding summary.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#base-instance_method">#base</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Subject of #on_tail.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#define-instance_method">#define</span><span class='args'>(*opts, &amp;block)</span>
        <span class='block'></span>
        
          <span class='alias'>#def_option</span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#define_head-instance_method">#define_head</span><span class='args'>(*opts, &amp;block)</span>
        <span class='block'></span>
        
          <span class='alias'>#def_head_option</span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#define_tail-instance_method">#define_tail</span><span class='args'>(*opts, &amp;block)</span>
        <span class='block'></span>
        
          <span class='alias'>#def_tail_option</span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#environment-instance_method">#environment</span><span class='args'>(env = File.basename($0, '.*'))</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Parses environment variable <tt>env</tt> or its uppercase with splitting
like a shell.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#getopts-instance_method">#getopts</span><span class='args'>(*args)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Wrapper method for getopts.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#help-instance_method">#help</span><span class='args'></span>
        <span class='block'></span>
        
          <span class='alias'>#to_s</span>
        
      </th>
      <td class="docstring">
        <p>
Returns option summary string.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#inc-instance_method">#inc</span><span class='args'>(*args)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#load-instance_method">#load</span><span class='args'>(filename = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Loads options from file names as <tt>filename</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#make_switch-instance_method">#make_switch</span><span class='args'>(opts, block = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Creates an OptionParser::Switch from the parameters.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#new-instance_method">#new</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Pushes a new List.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#on-instance_method">#on</span><span class='args'>(*opts, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Add option switch and handler.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#on_head-instance_method">#on_head</span><span class='args'>(*opts, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Add option switch like with #on, but at head of summary.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#on_tail-instance_method">#on_tail</span><span class='args'>(*opts, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Add option switch like with #on, but at tail of summary.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#order-instance_method">#order</span><span class='args'>(*argv, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Parses command line arguments <tt>argv</tt> in order.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#order-21-instance_method">#order!</span><span class='args'>(argv = default_argv, &amp;nonopt)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Same as #order, but removes switches destructively.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#parse-instance_method">#parse</span><span class='args'>(*argv)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Parses command line arguments <tt>argv</tt> in order when environment
variable POSIXLY_CORRECT is set, and in permutation mode otherwise.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#parse-21-instance_method">#parse!</span><span class='args'>(argv = default_argv)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Same as #parse, but removes switches destructively.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#permute-instance_method">#permute</span><span class='args'>(*argv)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Parses command line arguments <tt>argv</tt> in permutation mode and returns
list of non-option arguments.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#permute-21-instance_method">#permute!</span><span class='args'>(argv = default_argv)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Same as #permute, but removes switches destructively.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#program_name-instance_method">#program_name</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Program name to be emitted in error message and default banner, defaults to
$0.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#reject-instance_method">#reject</span><span class='args'>(*args, &amp;blk)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Directs to reject specified class argument.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#release-instance_method">#release</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Release code.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#remove-instance_method">#remove</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Removes the last List.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#separator-instance_method">#separator</span><span class='args'>(string)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Add separator in summary.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#summarize-instance_method">#summarize</span><span class='args'>(to = [], width = @summary_width, max = width-1, indent = @summary_indent, &amp;blk)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Puts option summary into <tt>to</tt> and returns <tt>to</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#terminate-instance_method">#terminate</span><span class='args'>(arg = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Terminates option parsing.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_a-instance_method">#to_a</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns option summary list.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#top-instance_method">#top</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Subject of #on / #on_head, #accept / #reject.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#ver-instance_method">#ver</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns version string from program_name, version and release.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#version-instance_method">#version</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Version.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#warn-instance_method">#warn</span><span class='args'>(mesg = $!)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>accept</h3>
</div><div id="accept-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>accept</span><span class='args'>(*args, &amp;blk)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
See #accept.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 823</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L823">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">823</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='accept identifier id'>accept</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span> <span class='top identifier id'>top</span><span class='dot token'>.</span><span class='accept identifier id'>accept</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>each_const</h3>
</div><div id="each_const-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>each_const</span><span class='args'>(path, klass = ::Object)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse/version.rb', line 49</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse/version.rb#L49">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">49
50
51
52
53
54
55
56
57</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='each_const identifier id'>each_const</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='klass identifier id'>klass</span> <span class='assign token'>=</span> <span class='colon3 op'>::</span><span class='Object constant id'>Object</span><span class='rparen token'>)</span>
  <span class='path identifier id'>path</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>/::|\//</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='klass identifier id'>klass</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='klass identifier id'>klass</span><span class='comma token'>,</span> <span class='name identifier id'>name</span><span class='bitor op'>|</span>
    <span class='raise identifier id'>raise</span> <span class='NameError constant id'>NameError</span><span class='comma token'>,</span> <span class='path identifier id'>path</span> <span class='unless unless_mod kw'>unless</span> <span class='Module constant id'>Module</span> <span class='eqq op'>===</span> <span class='klass identifier id'>klass</span>
    <span class='klass identifier id'>klass</span><span class='dot token'>.</span><span class='constants identifier id'>constants</span><span class='dot token'>.</span><span class='grep identifier id'>grep</span><span class='lparen token'>(</span><span class='dregexp node'>/#{name}/i</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='c identifier id'>c</span><span class='bitor op'>|</span>
      <span class='klass identifier id'>klass</span><span class='dot token'>.</span><span class='const_defined? fid id'>const_defined?</span><span class='lparen token'>(</span><span class='c identifier id'>c</span><span class='rparen token'>)</span> <span class='or or kw'>or</span> <span class='next next kw'>next</span>
      <span class='c identifier id'>c</span> <span class='assign token'>=</span> <span class='klass identifier id'>klass</span><span class='dot token'>.</span><span class='const_get identifier id'>const_get</span><span class='lparen token'>(</span><span class='c identifier id'>c</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>getopts</h3>
</div><div id="getopts-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>getopts</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
See #getopts.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 1401</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L1401">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1401
1402
1403</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='getopts identifier id'>getopts</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='new identifier id'>new</span><span class='dot token'>.</span><span class='getopts identifier id'>getopts</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>inc</h3>
</div><div id="inc-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>inc</span><span class='args'>(arg, default = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns an incremented value of <tt>default</tt> according to <tt>arg</tt>.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 759</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L759">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">759
760
761
762
763
764
765
766</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='inc identifier id'>inc</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='comma token'>,</span> <span class='default identifier id'>default</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='case case kw'>case</span> <span class='arg identifier id'>arg</span>
  <span class='when when kw'>when</span> <span class='Integer constant id'>Integer</span>
    <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='nonzero? fid id'>nonzero?</span>
  <span class='when when kw'>when</span> <span class='nil nil kw'>nil</span>
    <span class='default identifier id'>default</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span> <span class='plus op'>+</span> <span class='integer val'>1</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>reject</h3>
</div><div id="reject-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>reject</span><span class='args'>(*args, &amp;blk)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
See #reject.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 836</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L836">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">836</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='reject identifier id'>reject</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span> <span class='top identifier id'>top</span><span class='dot token'>.</span><span class='reject identifier id'>reject</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>search_const</h3>
</div><div id="search_const-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>search_const</span><span class='args'>(klass, name)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse/version.rb', line 59</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse/version.rb#L59">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">59
60
61
62
63
64
65
66
67
68
69</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='search_const identifier id'>search_const</span><span class='lparen token'>(</span><span class='klass identifier id'>klass</span><span class='comma token'>,</span> <span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='klasses identifier id'>klasses</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='klass identifier id'>klass</span><span class='rbrack token'>]</span>
  <span class='while while kw'>while</span> <span class='klass identifier id'>klass</span> <span class='assign token'>=</span> <span class='klasses identifier id'>klasses</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span>
    <span class='klass identifier id'>klass</span><span class='dot token'>.</span><span class='constants identifier id'>constants</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='cname identifier id'>cname</span><span class='bitor op'>|</span>
      <span class='klass identifier id'>klass</span><span class='dot token'>.</span><span class='const_defined? fid id'>const_defined?</span><span class='lparen token'>(</span><span class='cname identifier id'>cname</span><span class='rparen token'>)</span> <span class='or or kw'>or</span> <span class='next next kw'>next</span>
      <span class='const identifier id'>const</span> <span class='assign token'>=</span> <span class='klass identifier id'>klass</span><span class='dot token'>.</span><span class='const_get identifier id'>const_get</span><span class='lparen token'>(</span><span class='cname identifier id'>cname</span><span class='rparen token'>)</span>
      <span class='yield yield kw'>yield</span> <span class='klass identifier id'>klass</span><span class='comma token'>,</span> <span class='cname identifier id'>cname</span><span class='comma token'>,</span> <span class='const identifier id'>const</span> <span class='if if_mod kw'>if</span> <span class='name identifier id'>name</span> <span class='eqq op'>===</span> <span class='cname identifier id'>cname</span>
      <span class='klasses identifier id'>klasses</span> <span class='lshft op'>&lt;&lt;</span> <span class='const identifier id'>const</span> <span class='if if_mod kw'>if</span> <span class='Module constant id'>Module</span> <span class='eqq op'>===</span> <span class='const identifier id'>const</span> <span class='and and kw'>and</span> <span class='const identifier id'>const</span> <span class='neq op'>!=</span> <span class='colon3 op'>::</span><span class='Object constant id'>Object</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>show_version</h3>
</div><div id="show_version-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>show_version</span><span class='args'>(*pkg)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse/version.rb', line 4</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse/version.rb#L4">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='show_version identifier id'>show_version</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='pkg identifier id'>pkg</span><span class='rparen token'>)</span>
  <span class='progname identifier id'>progname</span> <span class='assign token'>=</span> <span class='ARGV constant id'>ARGV</span><span class='dot token'>.</span><span class='options identifier id'>options</span><span class='dot token'>.</span><span class='program_name identifier id'>program_name</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
  <span class='show identifier id'>show</span> <span class='assign token'>=</span> <span class='proc identifier id'>proc</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='klass identifier id'>klass</span><span class='comma token'>,</span> <span class='cname identifier id'>cname</span><span class='comma token'>,</span> <span class='version identifier id'>version</span><span class='bitor op'>|</span>
    <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{progname}&quot;</span>
    <span class='unless unless kw'>unless</span> <span class='klass identifier id'>klass</span> <span class='eq op'>==</span> <span class='colon3 op'>::</span><span class='Object constant id'>Object</span> <span class='and and kw'>and</span> <span class='cname identifier id'>cname</span> <span class='eq op'>==</span> <span class='symbol val'>:VERSION</span>
      <span class='version identifier id'>version</span> <span class='assign token'>=</span> <span class='version identifier id'>version</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;.&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='Array constant id'>Array</span> <span class='eqq op'>===</span> <span class='version identifier id'>version</span>
      <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;: #{klass}&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='klass identifier id'>klass</span> <span class='eq op'>==</span> <span class='Object constant id'>Object</span>
      <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot; version #{version}&quot;</span>
    <span class='end end kw'>end</span>
    <span class='lbrack token'>[</span><span class='symbol val'>:Release</span><span class='comma token'>,</span> <span class='symbol val'>:RELEASE</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='find identifier id'>find</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='rel identifier id'>rel</span><span class='bitor op'>|</span>
      <span class='if if kw'>if</span> <span class='klass identifier id'>klass</span><span class='dot token'>.</span><span class='const_defined? fid id'>const_defined?</span><span class='lparen token'>(</span><span class='rel identifier id'>rel</span><span class='rparen token'>)</span>
        <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot; (#{klass.const_get(rel)})&quot;</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='puts identifier id'>puts</span> <span class='str identifier id'>str</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
  <span class='end end kw'>end</span>
  <span class='if if kw'>if</span> <span class='pkg identifier id'>pkg</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='eq op'>==</span> <span class='integer val'>1</span> <span class='and and kw'>and</span> <span class='pkg identifier id'>pkg</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='string val'>&quot;all&quot;</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='search_const identifier id'>search_const</span><span class='lparen token'>(</span><span class='colon3 op'>::</span><span class='Object constant id'>Object</span><span class='comma token'>,</span> <span class='regexp val'>/\AV(?:ERSION|ersion)\z/</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='klass identifier id'>klass</span><span class='comma token'>,</span> <span class='cname identifier id'>cname</span><span class='comma token'>,</span> <span class='version identifier id'>version</span><span class='bitor op'>|</span>
      <span class='unless unless kw'>unless</span> <span class='cname identifier id'>cname</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='integer val'>?e</span> <span class='and and kw'>and</span> <span class='klass identifier id'>klass</span><span class='dot token'>.</span><span class='const_defined? fid id'>const_defined?</span><span class='lparen token'>(</span><span class='symbol val'>:Version</span><span class='rparen token'>)</span>
        <span class='show identifier id'>show</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='klass identifier id'>klass</span><span class='comma token'>,</span> <span class='cname identifier id'>cname</span><span class='dot token'>.</span><span class='intern identifier id'>intern</span><span class='comma token'>,</span> <span class='version identifier id'>version</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='pkg identifier id'>pkg</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='pkg identifier id'>pkg</span><span class='bitor op'>|</span>
      <span class='begin begin kw'>begin</span>
        <span class='pkg identifier id'>pkg</span> <span class='assign token'>=</span> <span class='pkg identifier id'>pkg</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>/::|\//</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='colon3 op'>::</span><span class='Object constant id'>Object</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='c identifier id'>c</span><span class='bitor op'>|</span> <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='const_get identifier id'>const_get</span><span class='lparen token'>(</span><span class='c identifier id'>c</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
        <span class='v identifier id'>v</span> <span class='assign token'>=</span> <span class='case case kw'>case</span>
            <span class='when when kw'>when</span> <span class='pkg identifier id'>pkg</span><span class='dot token'>.</span><span class='const_defined? fid id'>const_defined?</span><span class='lparen token'>(</span><span class='symbol val'>:Version</span><span class='rparen token'>)</span>
              <span class='pkg identifier id'>pkg</span><span class='dot token'>.</span><span class='const_get identifier id'>const_get</span><span class='lparen token'>(</span><span class='n identifier id'>n</span> <span class='assign token'>=</span> <span class='symbol val'>:Version</span><span class='rparen token'>)</span>
            <span class='when when kw'>when</span> <span class='pkg identifier id'>pkg</span><span class='dot token'>.</span><span class='const_defined? fid id'>const_defined?</span><span class='lparen token'>(</span><span class='symbol val'>:VERSION</span><span class='rparen token'>)</span>
              <span class='pkg identifier id'>pkg</span><span class='dot token'>.</span><span class='const_get identifier id'>const_get</span><span class='lparen token'>(</span><span class='n identifier id'>n</span> <span class='assign token'>=</span> <span class='symbol val'>:VERSION</span><span class='rparen token'>)</span>
            <span class='else else kw'>else</span>
              <span class='n identifier id'>n</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
              <span class='string val'>&quot;unknown&quot;</span>
            <span class='end end kw'>end</span>
        <span class='show identifier id'>show</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='pkg identifier id'>pkg</span><span class='comma token'>,</span> <span class='n identifier id'>n</span><span class='comma token'>,</span> <span class='v identifier id'>v</span><span class='rparen token'>)</span>
      <span class='rescue rescue kw'>rescue</span> <span class='NameError constant id'>NameError</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='result identifier id'>result</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>terminate</h3>
</div><div id="terminate-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>terminate</span><span class='args'>(arg = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 803</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L803">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">803
804
805</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='terminate identifier id'>terminate</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='throw identifier id'>throw</span> <span class='symbol val'>:terminate</span><span class='comma token'>,</span> <span class='arg identifier id'>arg</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>top</h3>
</div><div id="top-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>top</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 808</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L808">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">808
809
810
811
812
813
814
815
816
817
818
819
820
821
822
823
824
825
826
827
828
829
830
831
832
833
834
835
836
837
838
839
840
841
842
843
844
845
846
847
848
849
850
851
852
853
854
855
856
857
858
859
860
861
862
863
864
865
866
867
868
869
870
871
872
873
874
875
876
877
878
879
880
881
882
883
884
885
886
887
888
889
890
891
892
893
894
895
896
897
898
899
900
901
902
903
904
905
906
907
908
909
910
911
912
913
914
915
916
917
918
919
920
921
922
923
924
925
926
927
928
929
930
931
932
933
934
935
936
937
938
939
940
941
942
943
944
945
946
947
948
949
950
951
952
953
954
955
956
957
958
959
960
961
962
963
964
965
966
967
968
969
970
971
972
973
974
975
976
977
978
979
980
981
982
983
984
985
986
987
988
989
990
991
992
993
994
995
996
997
998
999
1000
1001
1002
1003
1004
1005
1006
1007
1008
1009
1010
1011
1012
1013
1014
1015
1016
1017
1018
1019
1020
1021
1022
1023
1024
1025
1026
1027
1028
1029
1030
1031
1032
1033
1034
1035
1036
1037
1038
1039
1040
1041
1042
1043
1044
1045
1046
1047
1048
1049
1050
1051
1052
1053
1054
1055
1056
1057
1058
1059
1060
1061
1062
1063
1064
1065
1066
1067
1068
1069
1070
1071
1072
1073
1074
1075
1076
1077
1078
1079
1080
1081
1082
1083
1084
1085
1086
1087
1088
1089
1090
1091
1092
1093
1094
1095
1096
1097
1098
1099
1100
1101
1102
1103
1104
1105
1106
1107
1108
1109
1110
1111
1112
1113
1114
1115
1116
1117
1118
1119
1120
1121
1122
1123
1124
1125
1126
1127
1128
1129
1130
1131
1132
1133
1134
1135
1136
1137
1138
1139
1140
1141
1142
1143
1144
1145
1146
1147
1148
1149
1150
1151
1152
1153
1154
1155
1156
1157
1158
1159
1160
1161
1162
1163
1164
1165
1166
1167
1168
1169
1170
1171
1172
1173
1174
1175
1176
1177
1178
1179
1180
1181
1182
1183
1184
1185
1186
1187
1188
1189
1190
1191
1192
1193
1194
1195
1196
1197
1198
1199
1200
1201
1202
1203
1204
1205
1206
1207
1208
1209
1210
1211
1212
1213
1214
1215
1216
1217
1218
1219
1220
1221
1222
1223
1224
1225
1226
1227
1228
1229
1230
1231
1232
1233
1234
1235
1236
1237
1238
1239
1240
1241
1242
1243
1244
1245
1246
1247
1248
1249
1250
1251
1252
1253
1254
1255
1256
1257
1258
1259
1260
1261
1262
1263
1264
1265
1266
1267
1268
1269
1270
1271
1272
1273
1274
1275
1276
1277
1278
1279
1280
1281
1282
1283
1284
1285
1286
1287
1288
1289
1290
1291
1292
1293
1294
1295
1296
1297
1298
1299
1300
1301
1302
1303
1304
1305
1306
1307
1308
1309
1310
1311
1312
1313
1314
1315
1316
1317
1318
1319
1320
1321
1322
1323
1324
1325
1326
1327
1328
1329
1330
1331
1332
1333
1334
1335
1336
1337
1338
1339
1340
1341
1342
1343
1344
1345
1346
1347
1348
1349
1350
1351
1352
1353
1354
1355
1356
1357
1358
1359
1360
1361
1362
1363
1364
1365
1366
1367
1368
1369
1370
1371
1372
1373
1374
1375
1376
1377
1378
1379
1380
1381
1382
1383
1384
1385
1386
1387
1388
1389
1390
1391
1392
1393
1394
1395
1396
1397
1398
1399
1400
1401
1402
1403
1404
1405
1406
1407
1408
1409
1410
1411
1412
1413
1414
1415
1416
1417
1418
1419
1420
1421
1422
1423
1424
1425
1426
1427
1428
1429
1430
1431
1432
1433
1434
1435
1436
1437
1438
1439
1440
1441
1442
1443
1444
1445
1446
1447
1448
1449
1450
1451
1452
1453
1454
1455
1456
1457
1458
1459
1460
1461
1462
1463
1464
1465
1466
1467
1468
1469
1470
1471
1472
1473
1474
1475
1476
1477
1478
1479
1480
1481
1482
1483
1484
1485
1486
1487
1488
1489
1490
1491
1492
1493
1494
1495
1496
1497
1498
1499
1500
1501
1502
1503
1504
1505
1506
1507
1508
1509
1510
1511
1512
1513
1514
1515
1516
1517
1518
1519
1520
1521
1522
1523
1524
1525
1526
1527
1528
1529
1530
1531
1532
1533
1534
1535
1536
1537
1538
1539
1540
1541
1542
1543
1544
1545
1546
1547
1548
1549
1550
1551
1552
1553
1554
1555
1556
1557
1558
1559
1560
1561
1562
1563
1564
1565
1566
1567
1568
1569
1570
1571
1572
1573
1574
1575
1576
1577
1578
1579
1580
1581
1582
1583
1584
1585
1586
1587
1588
1589
1590
1591
1592
1593
1594
1595
1596
1597
1598
1599
1600
1601
1602
1603
1604
1605
1606
1607
1608
1609
1610
1611
1612
1613
1614
1615
1616
1617
1618
1619
1620
1621
1622
1623
1624
1625
1626
1627
1628
1629
1630
1631
1632
1633
1634
1635
1636
1637
1638
1639
1640
1641
1642
1643
1644
1645
1646
1647
1648
1649
1650
1651
1652
1653
1654
1655
1656
1657
1658
1659
1660
1661
1662
1663
1664
1665
1666
1667
1668
1669
1670
1671
1672
1673
1674
1675
1676
1677
1678
1679
1680
1681
1682
1683
1684
1685
1686
1687
1688
1689
1690
1691
1692
1693
1694
1695
1696
1697
1698
1699
1700
1701
1702
1703
1704
1705
1706
1707
1708
1709
1710
1711
1712
1713
1714
1715
1716
1717
1718
1719
1720
1721
1722
1723
1724
1725
1726
1727
1728
1729
1730
1731
1732
1733
1734
1735
1736
1737
1738
1739
1740
1741
1742
1743
1744
1745
1746
1747
1748
1749
1750
1751
1752
1753
1754
1755
1756
1757
1758
1759
1760
1761
1762
1763
1764
1765
1766
1767
1768
1769
1770
1771
1772
1773
1774
1775
1776
1777
1778
1779</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='top identifier id'>top</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='DefaultList constant id'>DefaultList</span> <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Directs to accept specified class +t+. The argument string is passed to</span>
  <span class='comment val'># the block in which it should be converted to the desired class.</span>
  <span class='comment val'>#</span>
  <span class='comment val'># +t+::   Argument class specifier, any object including Class.</span>
  <span class='comment val'># +pat+:: Pattern for argument, defaults to +t+ if it responds to match.</span>
  <span class='comment val'>#</span>
  <span class='comment val'>#   accept(t, pat, &amp;block)</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='accept identifier id'>accept</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span> <span class='top identifier id'>top</span><span class='dot token'>.</span><span class='accept identifier id'>accept</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
  <span class='comment val'>#</span>
  <span class='comment val'># See #accept.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='accept identifier id'>accept</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span> <span class='top identifier id'>top</span><span class='dot token'>.</span><span class='accept identifier id'>accept</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Directs to reject specified class argument.</span>
  <span class='comment val'>#</span>
  <span class='comment val'># +t+:: Argument class speficier, any object including Class.</span>
  <span class='comment val'>#</span>
  <span class='comment val'>#   reject(t)</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='reject identifier id'>reject</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span> <span class='top identifier id'>top</span><span class='dot token'>.</span><span class='reject identifier id'>reject</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
  <span class='comment val'>#</span>
  <span class='comment val'># See #reject.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='reject identifier id'>reject</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span> <span class='top identifier id'>top</span><span class='dot token'>.</span><span class='reject identifier id'>reject</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Instance methods</span>
  <span class='comment val'>#</span>

  <span class='comment val'># Heading banner preceding summary.</span>
  <span class='attr_writer identifier id'>attr_writer</span> <span class='symbol val'>:banner</span>

  <span class='comment val'># Program name to be emitted in error message and default banner,</span>
  <span class='comment val'># defaults to $0.</span>
  <span class='attr_writer identifier id'>attr_writer</span> <span class='symbol val'>:program_name</span>

  <span class='comment val'># Width for option list portion of summary. Must be Numeric.</span>
  <span class='attr_accessor identifier id'>attr_accessor</span> <span class='symbol val'>:summary_width</span>

  <span class='comment val'># Indentation for summary. Must be String (or have + String method).</span>
  <span class='attr_accessor identifier id'>attr_accessor</span> <span class='symbol val'>:summary_indent</span>

  <span class='comment val'># Strings to be parsed in default.</span>
  <span class='attr_accessor identifier id'>attr_accessor</span> <span class='symbol val'>:default_argv</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Heading banner preceding summary.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='banner identifier id'>banner</span>
    <span class='unless unless kw'>unless</span> <span class='@banner ivar id'>@banner</span>
      <span class='@banner ivar id'>@banner</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;Usage: #{program_name} [options]&quot;</span>
      <span class='visit identifier id'>visit</span><span class='lparen token'>(</span><span class='symbol val'>:add_banner</span><span class='comma token'>,</span> <span class='@banner ivar id'>@banner</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='@banner ivar id'>@banner</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Program name to be emitted in error message and default banner, defaults</span>
  <span class='comment val'># to $0.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='program_name identifier id'>program_name</span>
    <span class='@program_name ivar id'>@program_name</span> <span class='orop op'>||</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='basename identifier id'>basename</span><span class='lparen token'>(</span><span class='$0 gvar id'>$0</span><span class='comma token'>,</span> <span class='string val'>'.*'</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># for experimental cascading :-)</span>
  <span class='alias alias kw'>alias</span> <span class='set_banner identifier id'>set_banner</span> <span class='banner identifier id'>banner</span><span class='assign token'>=</span>
  <span class='alias alias kw'>alias</span> <span class='set_program_name identifier id'>set_program_name</span> <span class='program_name identifier id'>program_name</span><span class='assign token'>=</span>
  <span class='alias alias kw'>alias</span> <span class='set_summary_width identifier id'>set_summary_width</span> <span class='summary_width identifier id'>summary_width</span><span class='assign token'>=</span>
  <span class='alias alias kw'>alias</span> <span class='set_summary_indent identifier id'>set_summary_indent</span> <span class='summary_indent identifier id'>summary_indent</span><span class='assign token'>=</span>

  <span class='comment val'># Version</span>
  <span class='attr_writer identifier id'>attr_writer</span> <span class='symbol val'>:version</span>
  <span class='comment val'># Release code</span>
  <span class='attr_writer identifier id'>attr_writer</span> <span class='symbol val'>:release</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Version</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='version identifier id'>version</span>
    <span class='@version ivar id'>@version</span> <span class='orop op'>||</span> <span class='lparen token'>(</span><span class='defined? defined kw'>defined?</span><span class='lparen token'>(</span><span class='colon3 op'>::</span><span class='Version constant id'>Version</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='colon3 op'>::</span><span class='Version constant id'>Version</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Release code</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='release identifier id'>release</span>
    <span class='@release ivar id'>@release</span> <span class='orop op'>||</span> <span class='lparen token'>(</span><span class='defined? defined kw'>defined?</span><span class='lparen token'>(</span><span class='colon3 op'>::</span><span class='Release constant id'>Release</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='colon3 op'>::</span><span class='Release constant id'>Release</span><span class='rparen token'>)</span> <span class='orop op'>||</span> <span class='lparen token'>(</span><span class='defined? defined kw'>defined?</span><span class='lparen token'>(</span><span class='colon3 op'>::</span><span class='RELEASE constant id'>RELEASE</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='colon3 op'>::</span><span class='RELEASE constant id'>RELEASE</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Returns version string from program_name, version and release.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='ver identifier id'>ver</span>
    <span class='if if kw'>if</span> <span class='v identifier id'>v</span> <span class='assign token'>=</span> <span class='version identifier id'>version</span>
      <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{program_name} #{[v].join('.')}&quot;</span>
      <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot; (#{v})&quot;</span> <span class='if if_mod kw'>if</span> <span class='v identifier id'>v</span> <span class='assign token'>=</span> <span class='release identifier id'>release</span>
      <span class='str identifier id'>str</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='warn identifier id'>warn</span><span class='lparen token'>(</span><span class='mesg identifier id'>mesg</span> <span class='assign token'>=</span> <span class='$! gvar id'>$!</span><span class='rparen token'>)</span>
    <span class='super super kw'>super</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{program_name}: #{mesg}&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='abort identifier id'>abort</span><span class='lparen token'>(</span><span class='mesg identifier id'>mesg</span> <span class='assign token'>=</span> <span class='$! gvar id'>$!</span><span class='rparen token'>)</span>
    <span class='super super kw'>super</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{program_name}: #{mesg}&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Subject of #on / #on_head, #accept / #reject</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='top identifier id'>top</span>
    <span class='@stack ivar id'>@stack</span><span class='lbrack token'>[</span><span class='integer val'>-1</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Subject of #on_tail.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='base identifier id'>base</span>
    <span class='@stack ivar id'>@stack</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Pushes a new List.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='new identifier id'>new</span>
    <span class='@stack ivar id'>@stack</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='List constant id'>List</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
      <span class='yield yield kw'>yield</span> <span class='self self kw'>self</span>
    <span class='else else kw'>else</span>
      <span class='self self kw'>self</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Removes the last List.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='remove identifier id'>remove</span>
    <span class='@stack ivar id'>@stack</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Puts option summary into +to+ and returns +to+. Yields each line if</span>
  <span class='comment val'># a block is given.</span>
  <span class='comment val'>#</span>
  <span class='comment val'># +to+:: Output destination, which must have method &lt;&lt;. Defaults to [].</span>
  <span class='comment val'># +width+:: Width of left side, defaults to @summary_width.</span>
  <span class='comment val'># +max+:: Maximum length allowed for left side, defaults to +width+ - 1.</span>
  <span class='comment val'># +indent+:: Indentation, defaults to @summary_indent.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='summarize identifier id'>summarize</span><span class='lparen token'>(</span><span class='to identifier id'>to</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='width identifier id'>width</span> <span class='assign token'>=</span> <span class='@summary_width ivar id'>@summary_width</span><span class='comma token'>,</span> <span class='max identifier id'>max</span> <span class='assign token'>=</span> <span class='width identifier id'>width</span> <span class='minus op'>-</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='indent identifier id'>indent</span> <span class='assign token'>=</span> <span class='@summary_indent ivar id'>@summary_indent</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span>
    <span class='visit identifier id'>visit</span><span class='lparen token'>(</span><span class='symbol val'>:summarize</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='comma token'>,</span> <span class='max identifier id'>max</span><span class='comma token'>,</span> <span class='indent identifier id'>indent</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='lparen token'>(</span><span class='blk identifier id'>blk</span> <span class='orop op'>||</span> <span class='proc identifier id'>proc</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='l identifier id'>l</span><span class='bitor op'>|</span> <span class='to identifier id'>to</span> <span class='lshft op'>&lt;&lt;</span> <span class='l identifier id'>l</span> <span class='plus op'>+</span> <span class='$/ gvar id'>$/</span><span class='rbrace token'>}</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='to identifier id'>to</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Returns option summary string.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='help identifier id'>help</span><span class='semicolon token'>;</span> <span class='summarize identifier id'>summarize</span><span class='lparen token'>(</span><span class='banner identifier id'>banner</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='sub identifier id'>sub</span><span class='lparen token'>(</span><span class='regexp val'>/\n?\z/</span><span class='comma token'>,</span> <span class='string val'>&quot;\n&quot;</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
  <span class='alias alias kw'>alias</span> <span class='to_s identifier id'>to_s</span> <span class='help identifier id'>help</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Returns option summary list.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='to_a identifier id'>to_a</span><span class='semicolon token'>;</span> <span class='summarize identifier id'>summarize</span><span class='lparen token'>(</span><span class='banner identifier id'>banner</span><span class='dot token'>.</span><span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Checks if an argument is given twice, in which case an ArgumentError is</span>
  <span class='comment val'># raised. Called from OptionParser#switch only.</span>
  <span class='comment val'>#</span>
  <span class='comment val'># +obj+:: New argument.</span>
  <span class='comment val'># +prv+:: Previously specified argument.</span>
  <span class='comment val'># +msg+:: Exception message.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='notwice identifier id'>notwice</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='comma token'>,</span> <span class='prv identifier id'>prv</span><span class='comma token'>,</span> <span class='msg identifier id'>msg</span><span class='rparen token'>)</span>
    <span class='unless unless kw'>unless</span> <span class='notop op'>!</span><span class='prv identifier id'>prv</span> <span class='or or kw'>or</span> <span class='prv identifier id'>prv</span> <span class='eq op'>==</span> <span class='obj identifier id'>obj</span>
      <span class='begin begin kw'>begin</span>
        <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;argument #{msg} given twice: #{obj}&quot;</span>
      <span class='rescue rescue kw'>rescue</span>
        <span class='$@ gvar id'>$@</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='integer val'>2</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
        <span class='raise identifier id'>raise</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='obj identifier id'>obj</span>
  <span class='end end kw'>end</span>
  <span class='private identifier id'>private</span> <span class='symbol val'>:notwice</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Creates an OptionParser::Switch from the parameters. The parsed argument</span>
  <span class='comment val'># value is passed to the given block, where it can be processed.</span>
  <span class='comment val'>#</span>
  <span class='comment val'># See at the beginning of OptionParser for some full examples.</span>
  <span class='comment val'>#</span>
  <span class='comment val'># +opts+ can include the following elements:</span>
  <span class='comment val'>#</span>
  <span class='comment val'># [Argument style:]</span>
  <span class='comment val'>#   One of the following:</span>
  <span class='comment val'>#     :NONE, :REQUIRED, :OPTIONAL</span>
  <span class='comment val'>#</span>
  <span class='comment val'># [Argument pattern:]</span>
  <span class='comment val'>#   Acceptable option argument format, must be pre-defined with</span>
  <span class='comment val'>#   OptionParser.accept or OptionParser#accept, or Regexp. This can appear</span>
  <span class='comment val'>#   once or assigned as String if not present, otherwise causes an</span>
  <span class='comment val'>#   ArgumentError. Examples:</span>
  <span class='comment val'>#     Float, Time, Array</span>
  <span class='comment val'>#</span>
  <span class='comment val'># [Possible argument values:]</span>
  <span class='comment val'>#   Hash or Array.</span>
  <span class='comment val'>#     [:text, :binary, :auto]</span>
  <span class='comment val'>#     %w[iso-2022-jp shift_jis euc-jp utf8 binary]</span>
  <span class='comment val'>#     { &quot;jis&quot; =&gt; &quot;iso-2022-jp&quot;, &quot;sjis&quot; =&gt; &quot;shift_jis&quot; }</span>
  <span class='comment val'>#</span>
  <span class='comment val'># [Long style switch:]</span>
  <span class='comment val'>#   Specifies a long style switch which takes a mandatory, optional or no</span>
  <span class='comment val'>#   argument. It's a string of the following form:</span>
  <span class='comment val'>#     &quot;--switch=MANDATORY&quot; or &quot;--switch MANDATORY&quot;</span>
  <span class='comment val'>#     &quot;--switch[=OPTIONAL]&quot;</span>
  <span class='comment val'>#     &quot;--switch&quot;</span>
  <span class='comment val'>#</span>
  <span class='comment val'># [Short style switch:]</span>
  <span class='comment val'>#   Specifies short style switch which takes a mandatory, optional or no</span>
  <span class='comment val'>#   argument. It's a string of the following form:</span>
  <span class='comment val'>#     &quot;-xMANDATORY&quot;</span>
  <span class='comment val'>#     &quot;-x[OPTIONAL]&quot;</span>
  <span class='comment val'>#     &quot;-x&quot;</span>
  <span class='comment val'>#   There is also a special form which matches character range (not full</span>
  <span class='comment val'>#   set of regural expression):</span>
  <span class='comment val'>#     &quot;-[a-z]MANDATORY&quot;</span>
  <span class='comment val'>#     &quot;-[a-z][OPTIONAL]&quot; </span>
  <span class='comment val'>#     &quot;-[a-z]&quot;</span>
  <span class='comment val'>#</span>
  <span class='comment val'># [Argument style and description:]</span>
  <span class='comment val'>#   Instead of specifying mandatory or optional orguments directly in the</span>
  <span class='comment val'>#   switch parameter, this separate parameter can be used.</span>
  <span class='comment val'>#     &quot;=MANDATORY&quot;</span>
  <span class='comment val'>#     &quot;=[OPTIONAL]&quot;</span>
  <span class='comment val'>#</span>
  <span class='comment val'># [Description:]</span>
  <span class='comment val'>#   Description string for the option.</span>
  <span class='comment val'>#     &quot;Run verbosely&quot;</span>
  <span class='comment val'># </span>
  <span class='comment val'># [Handler:]</span>
  <span class='comment val'>#   Handler for the parsed argument value. Either give a block or pass a</span>
  <span class='comment val'>#   Proc or Method as an argument.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='make_switch identifier id'>make_switch</span><span class='lparen token'>(</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='block identifier id'>block</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='short identifier id'>short</span><span class='comma token'>,</span> <span class='long identifier id'>long</span><span class='comma token'>,</span> <span class='nolong identifier id'>nolong</span><span class='comma token'>,</span> <span class='style identifier id'>style</span><span class='comma token'>,</span> <span class='pattern identifier id'>pattern</span><span class='comma token'>,</span> <span class='conv identifier id'>conv</span><span class='comma token'>,</span> <span class='not_pattern identifier id'>not_pattern</span><span class='comma token'>,</span> <span class='not_conv identifier id'>not_conv</span><span class='comma token'>,</span> <span class='not_style identifier id'>not_style</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='ldesc identifier id'>ldesc</span><span class='comma token'>,</span> <span class='sdesc identifier id'>sdesc</span><span class='comma token'>,</span> <span class='desc identifier id'>desc</span><span class='comma token'>,</span> <span class='arg identifier id'>arg</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='default_style identifier id'>default_style</span> <span class='assign token'>=</span> <span class='Switch constant id'>Switch</span><span class='colon2 op'>::</span><span class='NoArgument constant id'>NoArgument</span>
    <span class='default_pattern identifier id'>default_pattern</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='klass identifier id'>klass</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='o identifier id'>o</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='n identifier id'>n</span><span class='comma token'>,</span> <span class='q identifier id'>q</span><span class='comma token'>,</span> <span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>

    <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='o identifier id'>o</span><span class='bitor op'>|</span>
      <span class='comment val'># argument class</span>
      <span class='next next kw'>next</span> <span class='if if_mod kw'>if</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='symbol val'>:atype</span><span class='comma token'>,</span> <span class='o identifier id'>o</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='pat identifier id'>pat</span><span class='comma token'>,</span> <span class='c identifier id'>c</span><span class='bitor op'>|</span>
        <span class='klass identifier id'>klass</span> <span class='assign token'>=</span> <span class='notwice identifier id'>notwice</span><span class='lparen token'>(</span><span class='o identifier id'>o</span><span class='comma token'>,</span> <span class='klass identifier id'>klass</span><span class='comma token'>,</span> <span class='string val'>'type'</span><span class='rparen token'>)</span>
        <span class='if if kw'>if</span> <span class='not_style identifier id'>not_style</span> <span class='and and kw'>and</span> <span class='not_style identifier id'>not_style</span> <span class='neq op'>!=</span> <span class='Switch constant id'>Switch</span><span class='colon2 op'>::</span><span class='NoArgument constant id'>NoArgument</span>
          <span class='not_pattern identifier id'>not_pattern</span><span class='comma token'>,</span> <span class='not_conv identifier id'>not_conv</span> <span class='assign token'>=</span> <span class='pat identifier id'>pat</span><span class='comma token'>,</span> <span class='c identifier id'>c</span>
        <span class='else else kw'>else</span>
          <span class='default_pattern identifier id'>default_pattern</span><span class='comma token'>,</span> <span class='conv identifier id'>conv</span> <span class='assign token'>=</span> <span class='pat identifier id'>pat</span><span class='comma token'>,</span> <span class='c identifier id'>c</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>

      <span class='comment val'># directly specified pattern(any object possible to match)</span>
      <span class='if if kw'>if</span> <span class='notop op'>!</span><span class='lparen token'>(</span><span class='String constant id'>String</span> <span class='eqq op'>===</span> <span class='o identifier id'>o</span><span class='rparen token'>)</span> <span class='and and kw'>and</span> <span class='o identifier id'>o</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:match</span><span class='rparen token'>)</span>
        <span class='pattern identifier id'>pattern</span> <span class='assign token'>=</span> <span class='notwice identifier id'>notwice</span><span class='lparen token'>(</span><span class='o identifier id'>o</span><span class='comma token'>,</span> <span class='pattern identifier id'>pattern</span><span class='comma token'>,</span> <span class='string val'>'pattern'</span><span class='rparen token'>)</span>
        <span class='conv identifier id'>conv</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='pattern identifier id'>pattern</span><span class='dot token'>.</span><span class='method identifier id'>method</span><span class='lparen token'>(</span><span class='symbol val'>:convert</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_proc identifier id'>to_proc</span> <span class='if if_mod kw'>if</span> <span class='pattern identifier id'>pattern</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:convert</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
        <span class='next next kw'>next</span>
      <span class='end end kw'>end</span>

      <span class='comment val'># anything others</span>
      <span class='case case kw'>case</span> <span class='o identifier id'>o</span>
      <span class='when when kw'>when</span> <span class='Proc constant id'>Proc</span><span class='comma token'>,</span> <span class='Method constant id'>Method</span>
        <span class='block identifier id'>block</span> <span class='assign token'>=</span> <span class='notwice identifier id'>notwice</span><span class='lparen token'>(</span><span class='o identifier id'>o</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='comma token'>,</span> <span class='string val'>'block'</span><span class='rparen token'>)</span>
      <span class='when when kw'>when</span> <span class='Array constant id'>Array</span><span class='comma token'>,</span> <span class='Hash constant id'>Hash</span>
        <span class='case case kw'>case</span> <span class='pattern identifier id'>pattern</span>
        <span class='when when kw'>when</span> <span class='CompletingHash constant id'>CompletingHash</span>
        <span class='when when kw'>when</span> <span class='nil nil kw'>nil</span>
          <span class='pattern identifier id'>pattern</span> <span class='assign token'>=</span> <span class='CompletingHash constant id'>CompletingHash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
          <span class='conv identifier id'>conv</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='pattern identifier id'>pattern</span><span class='dot token'>.</span><span class='method identifier id'>method</span><span class='lparen token'>(</span><span class='symbol val'>:convert</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_proc identifier id'>to_proc</span> <span class='if if_mod kw'>if</span> <span class='pattern identifier id'>pattern</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:convert</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
        <span class='else else kw'>else</span>
          <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;argument pattern given twice&quot;</span>
        <span class='end end kw'>end</span>
        <span class='o identifier id'>o</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='lparen token'>(</span><span class='o identifier id'>o</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='v identifier id'>v</span><span class='rparen token'>)</span><span class='bitor op'>|</span> <span class='pattern identifier id'>pattern</span><span class='lbrack token'>[</span><span class='o identifier id'>o</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='o identifier id'>o</span><span class='rbrace token'>}</span><span class='rbrace token'>}</span>
      <span class='when when kw'>when</span> <span class='Module constant id'>Module</span>
        <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;unsupported argument type: #{o}&quot;</span>
      <span class='when when kw'>when</span> <span class='mult op'>*</span><span class='ArgumentStyle constant id'>ArgumentStyle</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span>
        <span class='style identifier id'>style</span> <span class='assign token'>=</span> <span class='notwice identifier id'>notwice</span><span class='lparen token'>(</span><span class='ArgumentStyle constant id'>ArgumentStyle</span><span class='lbrack token'>[</span><span class='o identifier id'>o</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='style identifier id'>style</span><span class='comma token'>,</span> <span class='string val'>'style'</span><span class='rparen token'>)</span>
      <span class='when when kw'>when</span> <span class='regexp val'>/^--no-([^\[\]=\s]*)(.+)?/</span>
        <span class='q identifier id'>q</span><span class='comma token'>,</span> <span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span><span class='comma token'>,</span> <span class='$2 nth_ref id'>$2</span>
        <span class='o identifier id'>o</span> <span class='assign token'>=</span> <span class='notwice identifier id'>notwice</span><span class='lparen token'>(</span><span class='a identifier id'>a</span> <span class='integer val'>? </span><span class='Object constant id'>Object</span> <span class='colon op'>:</span> <span class='TrueClass constant id'>TrueClass</span><span class='comma token'>,</span> <span class='klass identifier id'>klass</span><span class='comma token'>,</span> <span class='string val'>'type'</span><span class='rparen token'>)</span>
        <span class='not_pattern identifier id'>not_pattern</span><span class='comma token'>,</span> <span class='not_conv identifier id'>not_conv</span> <span class='assign token'>=</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='symbol val'>:atype</span><span class='comma token'>,</span> <span class='o identifier id'>o</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='not_style identifier id'>not_style</span>
        <span class='not_style identifier id'>not_style</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='not_style identifier id'>not_style</span> <span class='orop op'>||</span> <span class='default_style identifier id'>default_style</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='guess identifier id'>guess</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span> <span class='assign token'>=</span> <span class='a identifier id'>a</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='a identifier id'>a</span>
        <span class='default_style identifier id'>default_style</span> <span class='assign token'>=</span> <span class='Switch constant id'>Switch</span><span class='colon2 op'>::</span><span class='NoArgument constant id'>NoArgument</span>
        <span class='default_pattern identifier id'>default_pattern</span><span class='comma token'>,</span> <span class='conv identifier id'>conv</span> <span class='assign token'>=</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='symbol val'>:atype</span><span class='comma token'>,</span> <span class='FalseClass constant id'>FalseClass</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='default_pattern identifier id'>default_pattern</span>
        <span class='ldesc identifier id'>ldesc</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;--no-#{q}&quot;</span>
        <span class='long identifier id'>long</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>'no-'</span> <span class='plus op'>+</span> <span class='lparen token'>(</span><span class='q identifier id'>q</span> <span class='assign token'>=</span> <span class='q identifier id'>q</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span><span class='rparen token'>)</span>
        <span class='nolong identifier id'>nolong</span> <span class='lshft op'>&lt;&lt;</span> <span class='q identifier id'>q</span>
      <span class='when when kw'>when</span> <span class='regexp val'>/^--\[no-\]([^\[\]=\s]*)(.+)?/</span>
        <span class='q identifier id'>q</span><span class='comma token'>,</span> <span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span><span class='comma token'>,</span> <span class='$2 nth_ref id'>$2</span>
        <span class='o identifier id'>o</span> <span class='assign token'>=</span> <span class='notwice identifier id'>notwice</span><span class='lparen token'>(</span><span class='a identifier id'>a</span> <span class='integer val'>? </span><span class='Object constant id'>Object</span> <span class='colon op'>:</span> <span class='TrueClass constant id'>TrueClass</span><span class='comma token'>,</span> <span class='klass identifier id'>klass</span><span class='comma token'>,</span> <span class='string val'>'type'</span><span class='rparen token'>)</span>
        <span class='if if kw'>if</span> <span class='a identifier id'>a</span>
          <span class='default_style identifier id'>default_style</span> <span class='assign token'>=</span> <span class='default_style identifier id'>default_style</span><span class='dot token'>.</span><span class='guess identifier id'>guess</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span> <span class='assign token'>=</span> <span class='a identifier id'>a</span><span class='rparen token'>)</span>
          <span class='default_pattern identifier id'>default_pattern</span><span class='comma token'>,</span> <span class='conv identifier id'>conv</span> <span class='assign token'>=</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='symbol val'>:atype</span><span class='comma token'>,</span> <span class='o identifier id'>o</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='default_pattern identifier id'>default_pattern</span>
        <span class='end end kw'>end</span>
        <span class='ldesc identifier id'>ldesc</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;--[no-]#{q}&quot;</span>
        <span class='long identifier id'>long</span> <span class='lshft op'>&lt;&lt;</span> <span class='lparen token'>(</span><span class='o identifier id'>o</span> <span class='assign token'>=</span> <span class='q identifier id'>q</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span><span class='rparen token'>)</span>
        <span class='not_pattern identifier id'>not_pattern</span><span class='comma token'>,</span> <span class='not_conv identifier id'>not_conv</span> <span class='assign token'>=</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='symbol val'>:atype</span><span class='comma token'>,</span> <span class='FalseClass constant id'>FalseClass</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='not_style identifier id'>not_style</span>
        <span class='not_style identifier id'>not_style</span> <span class='assign token'>=</span> <span class='Switch constant id'>Switch</span><span class='colon2 op'>::</span><span class='NoArgument constant id'>NoArgument</span>
        <span class='nolong identifier id'>nolong</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>'no-'</span> <span class='plus op'>+</span> <span class='o identifier id'>o</span>
      <span class='when when kw'>when</span> <span class='regexp val'>/^--([^\[\]=\s]*)(.+)?/</span>
        <span class='q identifier id'>q</span><span class='comma token'>,</span> <span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span><span class='comma token'>,</span> <span class='$2 nth_ref id'>$2</span>
        <span class='if if kw'>if</span> <span class='a identifier id'>a</span>
          <span class='o identifier id'>o</span> <span class='assign token'>=</span> <span class='notwice identifier id'>notwice</span><span class='lparen token'>(</span><span class='NilClass constant id'>NilClass</span><span class='comma token'>,</span> <span class='klass identifier id'>klass</span><span class='comma token'>,</span> <span class='string val'>'type'</span><span class='rparen token'>)</span>
          <span class='default_style identifier id'>default_style</span> <span class='assign token'>=</span> <span class='default_style identifier id'>default_style</span><span class='dot token'>.</span><span class='guess identifier id'>guess</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span> <span class='assign token'>=</span> <span class='a identifier id'>a</span><span class='rparen token'>)</span>
          <span class='default_pattern identifier id'>default_pattern</span><span class='comma token'>,</span> <span class='conv identifier id'>conv</span> <span class='assign token'>=</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='symbol val'>:atype</span><span class='comma token'>,</span> <span class='o identifier id'>o</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='default_pattern identifier id'>default_pattern</span>
        <span class='end end kw'>end</span>
        <span class='ldesc identifier id'>ldesc</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;--#{q}&quot;</span>
        <span class='long identifier id'>long</span> <span class='lshft op'>&lt;&lt;</span> <span class='lparen token'>(</span><span class='o identifier id'>o</span> <span class='assign token'>=</span> <span class='q identifier id'>q</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span><span class='rparen token'>)</span>
      <span class='when when kw'>when</span> <span class='regexp val'>/^-(\[\^?\]?(?:[^\\\]]|\\.)*\])(.+)?/</span>
        <span class='q identifier id'>q</span><span class='comma token'>,</span> <span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span><span class='comma token'>,</span> <span class='$2 nth_ref id'>$2</span>
        <span class='o identifier id'>o</span> <span class='assign token'>=</span> <span class='notwice identifier id'>notwice</span><span class='lparen token'>(</span><span class='Object constant id'>Object</span><span class='comma token'>,</span> <span class='klass identifier id'>klass</span><span class='comma token'>,</span> <span class='string val'>'type'</span><span class='rparen token'>)</span>
        <span class='if if kw'>if</span> <span class='a identifier id'>a</span>
          <span class='default_style identifier id'>default_style</span> <span class='assign token'>=</span> <span class='default_style identifier id'>default_style</span><span class='dot token'>.</span><span class='guess identifier id'>guess</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span> <span class='assign token'>=</span> <span class='a identifier id'>a</span><span class='rparen token'>)</span>
          <span class='default_pattern identifier id'>default_pattern</span><span class='comma token'>,</span> <span class='conv identifier id'>conv</span> <span class='assign token'>=</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='symbol val'>:atype</span><span class='comma token'>,</span> <span class='o identifier id'>o</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='default_pattern identifier id'>default_pattern</span>
        <span class='end end kw'>end</span>
        <span class='sdesc identifier id'>sdesc</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;-#{q}&quot;</span>
        <span class='short identifier id'>short</span> <span class='lshft op'>&lt;&lt;</span> <span class='Regexp constant id'>Regexp</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='q identifier id'>q</span><span class='rparen token'>)</span>
      <span class='when when kw'>when</span> <span class='regexp val'>/^-(.)(.+)?/</span>
        <span class='q identifier id'>q</span><span class='comma token'>,</span> <span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span><span class='comma token'>,</span> <span class='$2 nth_ref id'>$2</span>
        <span class='if if kw'>if</span> <span class='a identifier id'>a</span>
          <span class='o identifier id'>o</span> <span class='assign token'>=</span> <span class='notwice identifier id'>notwice</span><span class='lparen token'>(</span><span class='NilClass constant id'>NilClass</span><span class='comma token'>,</span> <span class='klass identifier id'>klass</span><span class='comma token'>,</span> <span class='string val'>'type'</span><span class='rparen token'>)</span>
          <span class='default_style identifier id'>default_style</span> <span class='assign token'>=</span> <span class='default_style identifier id'>default_style</span><span class='dot token'>.</span><span class='guess identifier id'>guess</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span> <span class='assign token'>=</span> <span class='a identifier id'>a</span><span class='rparen token'>)</span>
          <span class='default_pattern identifier id'>default_pattern</span><span class='comma token'>,</span> <span class='conv identifier id'>conv</span> <span class='assign token'>=</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='symbol val'>:atype</span><span class='comma token'>,</span> <span class='o identifier id'>o</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='default_pattern identifier id'>default_pattern</span>
        <span class='end end kw'>end</span>
        <span class='sdesc identifier id'>sdesc</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;-#{q}&quot;</span>
        <span class='short identifier id'>short</span> <span class='lshft op'>&lt;&lt;</span> <span class='q identifier id'>q</span>
      <span class='when when kw'>when</span> <span class='regexp val'>/^=/</span>
        <span class='style identifier id'>style</span> <span class='assign token'>=</span> <span class='notwice identifier id'>notwice</span><span class='lparen token'>(</span><span class='default_style identifier id'>default_style</span><span class='dot token'>.</span><span class='guess identifier id'>guess</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span> <span class='assign token'>=</span> <span class='o identifier id'>o</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='style identifier id'>style</span><span class='comma token'>,</span> <span class='string val'>'style'</span><span class='rparen token'>)</span>
        <span class='default_pattern identifier id'>default_pattern</span><span class='comma token'>,</span> <span class='conv identifier id'>conv</span> <span class='assign token'>=</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='symbol val'>:atype</span><span class='comma token'>,</span> <span class='Object constant id'>Object</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='default_pattern identifier id'>default_pattern</span>
      <span class='else else kw'>else</span>
        <span class='desc identifier id'>desc</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='o identifier id'>o</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>

    <span class='default_pattern identifier id'>default_pattern</span><span class='comma token'>,</span> <span class='conv identifier id'>conv</span> <span class='assign token'>=</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='symbol val'>:atype</span><span class='comma token'>,</span> <span class='default_style identifier id'>default_style</span><span class='dot token'>.</span><span class='pattern identifier id'>pattern</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='default_pattern identifier id'>default_pattern</span>
    <span class='if if kw'>if</span> <span class='notop op'>!</span><span class='lparen token'>(</span><span class='short identifier id'>short</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span> <span class='and and kw'>and</span> <span class='long identifier id'>long</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span><span class='rparen token'>)</span>
      <span class='s identifier id'>s</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='style identifier id'>style</span> <span class='orop op'>||</span> <span class='default_style identifier id'>default_style</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='pattern identifier id'>pattern</span> <span class='orop op'>||</span> <span class='default_pattern identifier id'>default_pattern</span><span class='comma token'>,</span>
                                       <span class='conv identifier id'>conv</span><span class='comma token'>,</span> <span class='sdesc identifier id'>sdesc</span><span class='comma token'>,</span> <span class='ldesc identifier id'>ldesc</span><span class='comma token'>,</span> <span class='arg identifier id'>arg</span><span class='comma token'>,</span> <span class='desc identifier id'>desc</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='elsif elsif kw'>elsif</span> <span class='notop op'>!</span><span class='block identifier id'>block</span>
      <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;no switch given&quot;</span> <span class='if if_mod kw'>if</span> <span class='style identifier id'>style</span> <span class='or or kw'>or</span> <span class='pattern identifier id'>pattern</span>
      <span class='s identifier id'>s</span> <span class='assign token'>=</span> <span class='desc identifier id'>desc</span>
    <span class='else else kw'>else</span>
      <span class='short identifier id'>short</span> <span class='lshft op'>&lt;&lt;</span> <span class='pattern identifier id'>pattern</span>
      <span class='s identifier id'>s</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='style identifier id'>style</span> <span class='orop op'>||</span> <span class='default_style identifier id'>default_style</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='pattern identifier id'>pattern</span><span class='comma token'>,</span>
                                       <span class='conv identifier id'>conv</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='arg identifier id'>arg</span><span class='comma token'>,</span> <span class='desc identifier id'>desc</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='return return kw'>return</span> <span class='s identifier id'>s</span><span class='comma token'>,</span> <span class='short identifier id'>short</span><span class='comma token'>,</span> <span class='long identifier id'>long</span><span class='comma token'>,</span>
      <span class='lparen token'>(</span><span class='not_style identifier id'>not_style</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='not_pattern identifier id'>not_pattern</span><span class='comma token'>,</span> <span class='not_conv identifier id'>not_conv</span><span class='comma token'>,</span> <span class='sdesc identifier id'>sdesc</span><span class='comma token'>,</span> <span class='ldesc identifier id'>ldesc</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='desc identifier id'>desc</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='not_style identifier id'>not_style</span><span class='rparen token'>)</span><span class='comma token'>,</span>
      <span class='nolong identifier id'>nolong</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='define identifier id'>define</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='top identifier id'>top</span><span class='dot token'>.</span><span class='append identifier id'>append</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='lparen token'>(</span><span class='sw identifier id'>sw</span> <span class='assign token'>=</span> <span class='make_switch identifier id'>make_switch</span><span class='lparen token'>(</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='sw identifier id'>sw</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Add option switch and handler. See #make_switch for an explanation of</span>
  <span class='comment val'># parameters.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='on identifier id'>on</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='define identifier id'>define</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='self self kw'>self</span>
  <span class='end end kw'>end</span>
  <span class='alias alias kw'>alias</span> <span class='def_option identifier id'>def_option</span> <span class='define identifier id'>define</span>

  <span class='def def kw'>def</span> <span class='define_head identifier id'>define_head</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='top identifier id'>top</span><span class='dot token'>.</span><span class='prepend identifier id'>prepend</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='lparen token'>(</span><span class='sw identifier id'>sw</span> <span class='assign token'>=</span> <span class='make_switch identifier id'>make_switch</span><span class='lparen token'>(</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='sw identifier id'>sw</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Add option switch like with #on, but at head of summary.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='on_head identifier id'>on_head</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='define_head identifier id'>define_head</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='self self kw'>self</span>
  <span class='end end kw'>end</span>
  <span class='alias alias kw'>alias</span> <span class='def_head_option identifier id'>def_head_option</span> <span class='define_head identifier id'>define_head</span>

  <span class='def def kw'>def</span> <span class='define_tail identifier id'>define_tail</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='base identifier id'>base</span><span class='dot token'>.</span><span class='append identifier id'>append</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='lparen token'>(</span><span class='sw identifier id'>sw</span> <span class='assign token'>=</span> <span class='make_switch identifier id'>make_switch</span><span class='lparen token'>(</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='sw identifier id'>sw</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Add option switch like with #on, but at tail of summary.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='on_tail identifier id'>on_tail</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='define_tail identifier id'>define_tail</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='self self kw'>self</span>
  <span class='end end kw'>end</span>
  <span class='alias alias kw'>alias</span> <span class='def_tail_option identifier id'>def_tail_option</span> <span class='define_tail identifier id'>define_tail</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Add separator in summary.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='separator identifier id'>separator</span><span class='lparen token'>(</span><span class='string identifier id'>string</span><span class='rparen token'>)</span>
    <span class='top identifier id'>top</span><span class='dot token'>.</span><span class='append identifier id'>append</span><span class='lparen token'>(</span><span class='string identifier id'>string</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Parses command line arguments +argv+ in order. When a block is given,</span>
  <span class='comment val'># each non-option argument is yielded.</span>
  <span class='comment val'>#</span>
  <span class='comment val'># Returns the rest of +argv+ left unparsed.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='order identifier id'>order</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='argv identifier id'>argv</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='argv identifier id'>argv</span> <span class='assign token'>=</span> <span class='argv identifier id'>argv</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span> <span class='if if_mod kw'>if</span> <span class='argv identifier id'>argv</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='eq op'>==</span> <span class='integer val'>1</span> <span class='and and kw'>and</span> <span class='Array constant id'>Array</span> <span class='eqq op'>===</span> <span class='argv identifier id'>argv</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
    <span class='order! fid id'>order!</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Same as #order, but removes switches destructively.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='order! fid id'>order!</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span> <span class='assign token'>=</span> <span class='default_argv identifier id'>default_argv</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='nonopt identifier id'>nonopt</span><span class='rparen token'>)</span>
    <span class='parse_in_order identifier id'>parse_in_order</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='nonopt identifier id'>nonopt</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='parse_in_order identifier id'>parse_in_order</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span> <span class='assign token'>=</span> <span class='default_argv identifier id'>default_argv</span><span class='comma token'>,</span> <span class='setter identifier id'>setter</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='nonopt identifier id'>nonopt</span><span class='rparen token'>)</span>  <span class='comment val'># :nodoc:</span>
    <span class='opt identifier id'>opt</span><span class='comma token'>,</span> <span class='arg identifier id'>arg</span><span class='comma token'>,</span> <span class='sw identifier id'>sw</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='comma token'>,</span> <span class='rest identifier id'>rest</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='nonopt identifier id'>nonopt</span> <span class='opasgn op'>||=</span> <span class='proc identifier id'>proc</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='arg identifier id'>arg</span><span class='bitor op'>|</span> <span class='throw identifier id'>throw</span> <span class='symbol val'>:terminate</span><span class='comma token'>,</span> <span class='arg identifier id'>arg</span><span class='rbrace token'>}</span>
    <span class='argv identifier id'>argv</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='arg identifier id'>arg</span> <span class='assign token'>=</span> <span class='catch identifier id'>catch</span><span class='lparen token'>(</span><span class='symbol val'>:terminate</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span>
      <span class='while while kw'>while</span> <span class='arg identifier id'>arg</span> <span class='assign token'>=</span> <span class='argv identifier id'>argv</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span>
        <span class='case case kw'>case</span> <span class='arg identifier id'>arg</span>
        <span class='comment val'># long option</span>
        <span class='when when kw'>when</span> <span class='regexp val'>/\A--([^=]*)(?:=(.*))?/n</span><span class='m identifier id'>m</span>
          <span class='opt identifier id'>opt</span><span class='comma token'>,</span> <span class='rest identifier id'>rest</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span><span class='comma token'>,</span> <span class='$2 nth_ref id'>$2</span>
          <span class='begin begin kw'>begin</span>
            <span class='sw identifier id'>sw</span><span class='comma token'>,</span> <span class='assign token'>=</span> <span class='complete identifier id'>complete</span><span class='lparen token'>(</span><span class='symbol val'>:long</span><span class='comma token'>,</span> <span class='opt identifier id'>opt</span><span class='comma token'>,</span> <span class='true true kw'>true</span><span class='rparen token'>)</span>
          <span class='rescue rescue kw'>rescue</span> <span class='ParseError constant id'>ParseError</span>
            <span class='raise identifier id'>raise</span> <span class='$! gvar id'>$!</span><span class='dot token'>.</span><span class='set_option identifier id'>set_option</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='comma token'>,</span> <span class='true true kw'>true</span><span class='rparen token'>)</span>
          <span class='end end kw'>end</span>
          <span class='begin begin kw'>begin</span>
            <span class='opt identifier id'>opt</span><span class='comma token'>,</span> <span class='cb identifier id'>cb</span><span class='comma token'>,</span> <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='sw identifier id'>sw</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='rest identifier id'>rest</span><span class='comma token'>,</span> <span class='argv identifier id'>argv</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='mult op'>*</span><span class='exc identifier id'>exc</span><span class='bitor op'>|</span> <span class='raise identifier id'>raise</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='exc identifier id'>exc</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
            <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cb identifier id'>cb</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='cb identifier id'>cb</span>
            <span class='setter identifier id'>setter</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='sw identifier id'>sw</span><span class='dot token'>.</span><span class='switch_name identifier id'>switch_name</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='setter identifier id'>setter</span>
          <span class='rescue rescue kw'>rescue</span> <span class='ParseError constant id'>ParseError</span>
            <span class='raise identifier id'>raise</span> <span class='$! gvar id'>$!</span><span class='dot token'>.</span><span class='set_option identifier id'>set_option</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='comma token'>,</span> <span class='rest identifier id'>rest</span><span class='rparen token'>)</span>
          <span class='end end kw'>end</span>

        <span class='comment val'># short option</span>
        <span class='when when kw'>when</span> <span class='regexp val'>/\A-(.)((=).*|.+)?/n</span><span class='m identifier id'>m</span>
          <span class='opt identifier id'>opt</span><span class='comma token'>,</span> <span class='has_arg identifier id'>has_arg</span><span class='comma token'>,</span> <span class='eq identifier id'>eq</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='comma token'>,</span> <span class='rest identifier id'>rest</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span><span class='comma token'>,</span> <span class='$3 nth_ref id'>$3</span><span class='comma token'>,</span> <span class='$3 nth_ref id'>$3</span><span class='comma token'>,</span> <span class='$2 nth_ref id'>$2</span><span class='comma token'>,</span> <span class='$2 nth_ref id'>$2</span>
          <span class='begin begin kw'>begin</span>
            <span class='sw identifier id'>sw</span><span class='comma token'>,</span> <span class='assign token'>=</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='symbol val'>:short</span><span class='comma token'>,</span> <span class='opt identifier id'>opt</span><span class='rparen token'>)</span>
            <span class='unless unless kw'>unless</span> <span class='sw identifier id'>sw</span>
              <span class='begin begin kw'>begin</span>
                <span class='sw identifier id'>sw</span><span class='comma token'>,</span> <span class='assign token'>=</span> <span class='complete identifier id'>complete</span><span class='lparen token'>(</span><span class='symbol val'>:short</span><span class='comma token'>,</span> <span class='opt identifier id'>opt</span><span class='rparen token'>)</span>
                <span class='comment val'># short option matched.</span>
                <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='sub identifier id'>sub</span><span class='lparen token'>(</span><span class='regexp val'>/\A-/</span><span class='comma token'>,</span> <span class='string val'>''</span><span class='rparen token'>)</span>
                <span class='has_arg identifier id'>has_arg</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
              <span class='rescue rescue kw'>rescue</span> <span class='InvalidOption constant id'>InvalidOption</span>
                <span class='comment val'># if no short options match, try completion with long</span>
                <span class='comment val'># options.</span>
                <span class='sw identifier id'>sw</span><span class='comma token'>,</span> <span class='assign token'>=</span> <span class='complete identifier id'>complete</span><span class='lparen token'>(</span><span class='symbol val'>:long</span><span class='comma token'>,</span> <span class='opt identifier id'>opt</span><span class='rparen token'>)</span>
                <span class='eq identifier id'>eq</span> <span class='opasgn op'>||=</span> <span class='notop op'>!</span><span class='rest identifier id'>rest</span>
              <span class='end end kw'>end</span>
            <span class='end end kw'>end</span>
          <span class='rescue rescue kw'>rescue</span> <span class='ParseError constant id'>ParseError</span>
            <span class='raise identifier id'>raise</span> <span class='$! gvar id'>$!</span><span class='dot token'>.</span><span class='set_option identifier id'>set_option</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='comma token'>,</span> <span class='true true kw'>true</span><span class='rparen token'>)</span>
          <span class='end end kw'>end</span>
          <span class='begin begin kw'>begin</span>
            <span class='opt identifier id'>opt</span><span class='comma token'>,</span> <span class='cb identifier id'>cb</span><span class='comma token'>,</span> <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='sw identifier id'>sw</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='val identifier id'>val</span><span class='comma token'>,</span> <span class='argv identifier id'>argv</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='mult op'>*</span><span class='exc identifier id'>exc</span><span class='bitor op'>|</span> <span class='raise identifier id'>raise</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='exc identifier id'>exc</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='eq identifier id'>eq</span><span class='rbrace token'>}</span>
            <span class='raise identifier id'>raise</span> <span class='InvalidOption constant id'>InvalidOption</span><span class='comma token'>,</span> <span class='arg identifier id'>arg</span> <span class='if if_mod kw'>if</span> <span class='has_arg identifier id'>has_arg</span> <span class='and and kw'>and</span> <span class='notop op'>!</span><span class='eq identifier id'>eq</span> <span class='and and kw'>and</span> <span class='arg identifier id'>arg</span> <span class='eq op'>==</span> <span class='dstring node'>&quot;-#{opt}&quot;</span>
            <span class='argv identifier id'>argv</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span><span class='lparen token'>(</span><span class='opt identifier id'>opt</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='opt identifier id'>opt</span> <span class='and and kw'>and</span> <span class='lparen token'>(</span><span class='opt identifier id'>opt</span> <span class='assign token'>=</span> <span class='opt identifier id'>opt</span><span class='dot token'>.</span><span class='sub identifier id'>sub</span><span class='lparen token'>(</span><span class='regexp val'>/\A-*/</span><span class='comma token'>,</span> <span class='string val'>'-'</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='neq op'>!=</span> <span class='string val'>'-'</span>
            <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='cb identifier id'>cb</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='cb identifier id'>cb</span>
            <span class='setter identifier id'>setter</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='sw identifier id'>sw</span><span class='dot token'>.</span><span class='switch_name identifier id'>switch_name</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='setter identifier id'>setter</span>
          <span class='rescue rescue kw'>rescue</span> <span class='ParseError constant id'>ParseError</span>
            <span class='raise identifier id'>raise</span> <span class='$! gvar id'>$!</span><span class='dot token'>.</span><span class='set_option identifier id'>set_option</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='comma token'>,</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='gt op'>&gt;</span> <span class='integer val'>2</span><span class='rparen token'>)</span>
          <span class='end end kw'>end</span>

        <span class='comment val'># non-option argument</span>
        <span class='else else kw'>else</span>
          <span class='catch identifier id'>catch</span><span class='lparen token'>(</span><span class='symbol val'>:prune</span><span class='rparen token'>)</span> <span class='do do kw'>do</span>
            <span class='visit identifier id'>visit</span><span class='lparen token'>(</span><span class='symbol val'>:each_option</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='sw identifier id'>sw</span><span class='bitor op'>|</span>
              <span class='sw identifier id'>sw</span><span class='dot token'>.</span><span class='block identifier id'>block</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='Switch constant id'>Switch</span> <span class='eqq op'>===</span> <span class='sw identifier id'>sw</span> <span class='and and kw'>and</span> <span class='sw identifier id'>sw</span><span class='dot token'>.</span><span class='match_nonswitch? fid id'>match_nonswitch?</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='rparen token'>)</span>
            <span class='end end kw'>end</span>
            <span class='nonopt identifier id'>nonopt</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='rparen token'>)</span>
          <span class='end end kw'>end</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>

      <span class='nil nil kw'>nil</span>
    <span class='rbrace token'>}</span>

    <span class='visit identifier id'>visit</span><span class='lparen token'>(</span><span class='symbol val'>:search</span><span class='comma token'>,</span> <span class='symbol val'>:short</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='sw identifier id'>sw</span><span class='bitor op'>|</span> <span class='sw identifier id'>sw</span><span class='dot token'>.</span><span class='block identifier id'>block</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='argv identifier id'>argv</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='notop op'>!</span><span class='sw identifier id'>sw</span><span class='dot token'>.</span><span class='pattern identifier id'>pattern</span><span class='rbrace token'>}</span>

    <span class='argv identifier id'>argv</span>
  <span class='end end kw'>end</span>
  <span class='private identifier id'>private</span> <span class='symbol val'>:parse_in_order</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Parses command line arguments +argv+ in permutation mode and returns</span>
  <span class='comment val'># list of non-option arguments.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='permute identifier id'>permute</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='argv identifier id'>argv</span><span class='rparen token'>)</span>
    <span class='argv identifier id'>argv</span> <span class='assign token'>=</span> <span class='argv identifier id'>argv</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span> <span class='if if_mod kw'>if</span> <span class='argv identifier id'>argv</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='eq op'>==</span> <span class='integer val'>1</span> <span class='and and kw'>and</span> <span class='Array constant id'>Array</span> <span class='eqq op'>===</span> <span class='argv identifier id'>argv</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
    <span class='permute! fid id'>permute!</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Same as #permute, but removes switches destructively.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='permute! fid id'>permute!</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span> <span class='assign token'>=</span> <span class='default_argv identifier id'>default_argv</span><span class='rparen token'>)</span>
    <span class='nonopts identifier id'>nonopts</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='arg identifier id'>arg</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='order! fid id'>order!</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='arg identifier id'>arg</span><span class='bitor op'>|</span> <span class='nonopts identifier id'>nonopts</span> <span class='lshft op'>&lt;&lt;</span> <span class='arg identifier id'>arg</span><span class='rbrace token'>}</span>
    <span class='argv identifier id'>argv</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='nonopts identifier id'>nonopts</span>
    <span class='argv identifier id'>argv</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Parses command line arguments +argv+ in order when environment variable</span>
  <span class='comment val'># POSIXLY_CORRECT is set, and in permutation mode otherwise.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='argv identifier id'>argv</span><span class='rparen token'>)</span>
    <span class='argv identifier id'>argv</span> <span class='assign token'>=</span> <span class='argv identifier id'>argv</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span> <span class='if if_mod kw'>if</span> <span class='argv identifier id'>argv</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='eq op'>==</span> <span class='integer val'>1</span> <span class='and and kw'>and</span> <span class='Array constant id'>Array</span> <span class='eqq op'>===</span> <span class='argv identifier id'>argv</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
    <span class='parse! fid id'>parse!</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Same as #parse, but removes switches destructively.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='parse! fid id'>parse!</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span> <span class='assign token'>=</span> <span class='default_argv identifier id'>default_argv</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='ENV constant id'>ENV</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='string val'>'POSIXLY_CORRECT'</span><span class='rparen token'>)</span>
      <span class='order! fid id'>order!</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='permute! fid id'>permute!</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Wrapper method for getopts.rb.</span>
  <span class='comment val'>#</span>
  <span class='comment val'>#   params = ARGV.getopts(&quot;ab:&quot;, &quot;foo&quot;, &quot;bar:&quot;)</span>
  <span class='comment val'>#   # params[:a] = true   # -a</span>
  <span class='comment val'>#   # params[:b] = &quot;1&quot;    # -b1</span>
  <span class='comment val'>#   # params[:foo] = &quot;1&quot;  # --foo</span>
  <span class='comment val'>#   # params[:bar] = &quot;x&quot;  # --bar x</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='getopts identifier id'>getopts</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
    <span class='argv identifier id'>argv</span> <span class='assign token'>=</span> <span class='Array constant id'>Array</span> <span class='eqq op'>===</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='integer val'>? </span><span class='args identifier id'>args</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span> <span class='colon op'>:</span> <span class='default_argv identifier id'>default_argv</span>
    <span class='single_options identifier id'>single_options</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='long_options identifier id'>long_options</span> <span class='assign token'>=</span> <span class='mult op'>*</span><span class='args identifier id'>args</span>

    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>

    <span class='single_options identifier id'>single_options</span><span class='dot token'>.</span><span class='scan identifier id'>scan</span><span class='lparen token'>(</span><span class='regexp val'>/(.)(:)?/</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='opt identifier id'>opt</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='bitor op'>|</span>
      <span class='if if kw'>if</span> <span class='val identifier id'>val</span>
        <span class='result identifier id'>result</span><span class='lbrack token'>[</span><span class='opt identifier id'>opt</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
        <span class='define identifier id'>define</span><span class='lparen token'>(</span><span class='dstring node'>&quot;-#{opt} VAL&quot;</span><span class='rparen token'>)</span>
      <span class='else else kw'>else</span>
        <span class='result identifier id'>result</span><span class='lbrack token'>[</span><span class='opt identifier id'>opt</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
        <span class='define identifier id'>define</span><span class='lparen token'>(</span><span class='dstring node'>&quot;-#{opt}&quot;</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span> <span class='if if_mod kw'>if</span> <span class='single_options identifier id'>single_options</span>

    <span class='long_options identifier id'>long_options</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='arg identifier id'>arg</span><span class='bitor op'>|</span>
      <span class='opt identifier id'>opt</span><span class='comma token'>,</span> <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>':'</span><span class='comma token'>,</span> <span class='integer val'>2</span><span class='rparen token'>)</span>
      <span class='if if kw'>if</span> <span class='val identifier id'>val</span>
        <span class='result identifier id'>result</span><span class='lbrack token'>[</span><span class='opt identifier id'>opt</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='val identifier id'>val</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span> <span class='integer val'>? </span><span class='nil nil kw'>nil</span> <span class='colon op'>:</span> <span class='val identifier id'>val</span>
        <span class='define identifier id'>define</span><span class='lparen token'>(</span><span class='dstring node'>&quot;--#{opt} VAL&quot;</span><span class='rparen token'>)</span>
      <span class='else else kw'>else</span>
        <span class='result identifier id'>result</span><span class='lbrack token'>[</span><span class='opt identifier id'>opt</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
        <span class='define identifier id'>define</span><span class='lparen token'>(</span><span class='dstring node'>&quot;--#{opt}&quot;</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>

    <span class='parse_in_order identifier id'>parse_in_order</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span><span class='comma token'>,</span> <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='method identifier id'>method</span><span class='lparen token'>(</span><span class='symbol val'>:[]=</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='result identifier id'>result</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># See #getopts.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='getopts identifier id'>getopts</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
    <span class='new identifier id'>new</span><span class='dot token'>.</span><span class='getopts identifier id'>getopts</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Traverses @stack, sending each element method +id+ with +args+ and</span>
  <span class='comment val'># +block+.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='visit identifier id'>visit</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='el identifier id'>el</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='@stack ivar id'>@stack</span><span class='dot token'>.</span><span class='reverse_each identifier id'>reverse_each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='el identifier id'>el</span><span class='bitor op'>|</span>
      <span class='el identifier id'>el</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='nil nil kw'>nil</span>
  <span class='end end kw'>end</span>
  <span class='private identifier id'>private</span> <span class='symbol val'>:visit</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Searches +key+ in @stack for +id+ hash and returns or yields the result.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='key identifier id'>key</span><span class='rparen token'>)</span>
    <span class='block_given identifier id'>block_given</span> <span class='assign token'>=</span> <span class='block_given? fid id'>block_given?</span>
    <span class='visit identifier id'>visit</span><span class='lparen token'>(</span><span class='symbol val'>:search</span><span class='comma token'>,</span> <span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='key identifier id'>key</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='bitor op'>|</span>
      <span class='return return kw'>return</span> <span class='block_given identifier id'>block_given</span> <span class='question op'>?</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='k identifier id'>k</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='private identifier id'>private</span> <span class='symbol val'>:search</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Completes shortened long style option switch and returns pair of</span>
  <span class='comment val'># canonical switch and switch descriptor OptionParser::Switch.</span>
  <span class='comment val'>#</span>
  <span class='comment val'># +id+::    Searching table.</span>
  <span class='comment val'># +opt+::   Searching key.</span>
  <span class='comment val'># +icase+:: Search case insensitive if true.</span>
  <span class='comment val'># +pat+::   Optional pattern for completion.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='complete identifier id'>complete</span><span class='lparen token'>(</span><span class='typ identifier id'>typ</span><span class='comma token'>,</span> <span class='opt identifier id'>opt</span><span class='comma token'>,</span> <span class='icase identifier id'>icase</span> <span class='assign token'>=</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='pat identifier id'>pat</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='pat identifier id'>pat</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
      <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='typ identifier id'>typ</span><span class='comma token'>,</span> <span class='opt identifier id'>opt</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='sw identifier id'>sw</span><span class='bitor op'>|</span> <span class='return return kw'>return</span> <span class='lbrack token'>[</span><span class='sw identifier id'>sw</span><span class='comma token'>,</span> <span class='opt identifier id'>opt</span><span class='rbrack token'>]</span><span class='rbrace token'>}</span> <span class='comment val'># exact match or...</span>
    <span class='end end kw'>end</span>
    <span class='raise identifier id'>raise</span> <span class='AmbiguousOption constant id'>AmbiguousOption</span><span class='comma token'>,</span> <span class='catch identifier id'>catch</span><span class='lparen token'>(</span><span class='symbol val'>:ambiguous</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span>
      <span class='visit identifier id'>visit</span><span class='lparen token'>(</span><span class='symbol val'>:complete</span><span class='comma token'>,</span> <span class='typ identifier id'>typ</span><span class='comma token'>,</span> <span class='opt identifier id'>opt</span><span class='comma token'>,</span> <span class='icase identifier id'>icase</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='pat identifier id'>pat</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='opt identifier id'>opt</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='sw identifier id'>sw</span><span class='bitor op'>|</span> <span class='return return kw'>return</span> <span class='sw identifier id'>sw</span><span class='rbrace token'>}</span>
      <span class='raise identifier id'>raise</span> <span class='InvalidOption constant id'>InvalidOption</span><span class='comma token'>,</span> <span class='opt identifier id'>opt</span>
    <span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
  <span class='private identifier id'>private</span> <span class='symbol val'>:complete</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Loads options from file names as +filename+. Does nothing when the file</span>
  <span class='comment val'># is not present. Returns whether successfully loaded.</span>
  <span class='comment val'>#</span>
  <span class='comment val'># +filename+ defaults to basename of the program without suffix in a</span>
  <span class='comment val'># directory ~/.options.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='load identifier id'>load</span><span class='lparen token'>(</span><span class='filename identifier id'>filename</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
    <span class='begin begin kw'>begin</span>
      <span class='filename identifier id'>filename</span> <span class='opasgn op'>||=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='expand_path identifier id'>expand_path</span><span class='lparen token'>(</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='basename identifier id'>basename</span><span class='lparen token'>(</span><span class='$0 gvar id'>$0</span><span class='comma token'>,</span> <span class='string val'>'.*'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>'~/.options'</span><span class='rparen token'>)</span>
    <span class='rescue rescue kw'>rescue</span>
      <span class='return return kw'>return</span> <span class='false false kw'>false</span>
    <span class='end end kw'>end</span>
    <span class='begin begin kw'>begin</span>
      <span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='IO constant id'>IO</span><span class='dot token'>.</span><span class='readlines identifier id'>readlines</span><span class='lparen token'>(</span><span class='filename identifier id'>filename</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='s identifier id'>s</span><span class='bitor op'>|</span> <span class='s identifier id'>s</span><span class='dot token'>.</span><span class='chomp! fid id'>chomp!</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
      <span class='true true kw'>true</span>
    <span class='rescue rescue kw'>rescue</span> <span class='Errno constant id'>Errno</span><span class='colon2 op'>::</span><span class='ENOENT constant id'>ENOENT</span><span class='comma token'>,</span> <span class='Errno constant id'>Errno</span><span class='colon2 op'>::</span><span class='ENOTDIR constant id'>ENOTDIR</span>
      <span class='false false kw'>false</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Parses environment variable +env+ or its uppercase with splitting like a</span>
  <span class='comment val'># shell.</span>
  <span class='comment val'>#</span>
  <span class='comment val'># +env+ defaults to the basename of the program.</span>
  <span class='comment val'>#</span>
  <span class='def def kw'>def</span> <span class='environment identifier id'>environment</span><span class='lparen token'>(</span><span class='env identifier id'>env</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='basename identifier id'>basename</span><span class='lparen token'>(</span><span class='$0 gvar id'>$0</span><span class='comma token'>,</span> <span class='string val'>'.*'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='env identifier id'>env</span> <span class='assign token'>=</span> <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='env identifier id'>env</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='env identifier id'>env</span><span class='dot token'>.</span><span class='upcase identifier id'>upcase</span><span class='rbrack token'>]</span> <span class='or or kw'>or</span> <span class='return return kw'>return</span>
    <span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='Shellwords constant id'>Shellwords</span><span class='dot token'>.</span><span class='shellwords identifier id'>shellwords</span><span class='lparen token'>(</span><span class='env identifier id'>env</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Acceptable argument classes</span>
  <span class='comment val'>#</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Any string and no conversion. This is fall-back.</span>
  <span class='comment val'>#</span>
  <span class='accept identifier id'>accept</span><span class='lparen token'>(</span><span class='Object constant id'>Object</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='s identifier id'>s</span><span class='comma token'>,</span><span class='bitor op'>|</span><span class='s identifier id'>s</span> <span class='or or kw'>or</span> <span class='s identifier id'>s</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span><span class='rbrace token'>}</span>

  <span class='accept identifier id'>accept</span><span class='lparen token'>(</span><span class='NilClass constant id'>NilClass</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='s identifier id'>s</span><span class='comma token'>,</span><span class='bitor op'>|</span><span class='s identifier id'>s</span><span class='rbrace token'>}</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Any non-empty string, and no conversion.</span>
  <span class='comment val'>#</span>
  <span class='accept identifier id'>accept</span><span class='lparen token'>(</span><span class='String constant id'>String</span><span class='comma token'>,</span> <span class='regexp val'>/.+/n</span><span class='m identifier id'>m</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='s identifier id'>s</span><span class='comma token'>,</span><span class='mult op'>*</span><span class='bitor op'>|</span><span class='s identifier id'>s</span><span class='rbrace token'>}</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Ruby/C-like integer, octal for 0-7 sequence, binary for 0b, hexadecimal</span>
  <span class='comment val'># for 0x, and decimal for others; with optional sign prefix. Converts to</span>
  <span class='comment val'># Integer.</span>
  <span class='comment val'>#</span>
  <span class='decimal identifier id'>decimal</span> <span class='assign token'>=</span> <span class='string val'>'\d+(?:_\d+)*'</span>
  <span class='binary identifier id'>binary</span> <span class='assign token'>=</span> <span class='string val'>'b[01]+(?:_[01]+)*'</span>
  <span class='hex identifier id'>hex</span> <span class='assign token'>=</span> <span class='string val'>'x[\da-f]+(?:_[\da-f]+)*'</span>
  <span class='octal identifier id'>octal</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;0(?:[0-7]*(?:_[0-7]+)*|#{binary}|#{hex})&quot;</span>
  <span class='integer identifier id'>integer</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{octal}|#{decimal}&quot;</span>
  <span class='accept identifier id'>accept</span><span class='lparen token'>(</span><span class='Integer constant id'>Integer</span><span class='comma token'>,</span> <span class='dregexp node'>%r&quot;\A[-+]?(?:#{integer})&quot;i</span><span class='o identifier id'>o</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='s identifier id'>s</span><span class='comma token'>,</span><span class='bitor op'>|</span> <span class='Integer constant id'>Integer</span><span class='lparen token'>(</span><span class='s identifier id'>s</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='s identifier id'>s</span><span class='rbrace token'>}</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Float number format, and converts to Float.</span>
  <span class='comment val'>#</span>
  <span class='float identifier id'>float</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;(?:#{decimal}(?:\\.(?:#{decimal})?)?|\\.#{decimal})(?:E[-+]?#{decimal})?&quot;</span>
  <span class='floatpat identifier id'>floatpat</span> <span class='assign token'>=</span> <span class='dregexp node'>%r&quot;\A[-+]?#{float}&quot;i</span><span class='o identifier id'>o</span>
  <span class='accept identifier id'>accept</span><span class='lparen token'>(</span><span class='Float constant id'>Float</span><span class='comma token'>,</span> <span class='floatpat identifier id'>floatpat</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='s identifier id'>s</span><span class='comma token'>,</span><span class='bitor op'>|</span> <span class='s identifier id'>s</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span> <span class='if if_mod kw'>if</span> <span class='s identifier id'>s</span><span class='rbrace token'>}</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Generic numeric format, converts to Integer for integer format, Float</span>
  <span class='comment val'># for float format.</span>
  <span class='comment val'>#</span>
  <span class='accept identifier id'>accept</span><span class='lparen token'>(</span><span class='Numeric constant id'>Numeric</span><span class='comma token'>,</span> <span class='dregexp node'>%r&quot;\A[-+]?(?:#{octal}|#{float})&quot;i</span><span class='o identifier id'>o</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='s identifier id'>s</span><span class='comma token'>,</span><span class='bitor op'>|</span> <span class='eval identifier id'>eval</span><span class='lparen token'>(</span><span class='s identifier id'>s</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='s identifier id'>s</span><span class='rbrace token'>}</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Decimal integer format, to be converted to Integer.</span>
  <span class='comment val'>#</span>
  <span class='DecimalInteger constant id'>DecimalInteger</span> <span class='assign token'>=</span> <span class='dregexp node'>/\A[-+]?#{decimal}/i</span><span class='o identifier id'>o</span>
  <span class='accept identifier id'>accept</span><span class='lparen token'>(</span><span class='DecimalInteger constant id'>DecimalInteger</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='s identifier id'>s</span><span class='comma token'>,</span><span class='bitor op'>|</span> <span class='s identifier id'>s</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span> <span class='if if_mod kw'>if</span> <span class='s identifier id'>s</span><span class='rbrace token'>}</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Ruby/C like octal/hexadecimal/binary integer format, to be converted to</span>
  <span class='comment val'># Integer.</span>
  <span class='comment val'>#</span>
  <span class='OctalInteger constant id'>OctalInteger</span> <span class='assign token'>=</span> <span class='dregexp node'>/\A[-+]?(?:[0-7]+(?:_[0-7]+)*|0(?:#{binary}|#{hex}))/i</span><span class='o identifier id'>o</span>
  <span class='accept identifier id'>accept</span><span class='lparen token'>(</span><span class='OctalInteger constant id'>OctalInteger</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='s identifier id'>s</span><span class='comma token'>,</span><span class='bitor op'>|</span> <span class='s identifier id'>s</span><span class='dot token'>.</span><span class='oct identifier id'>oct</span> <span class='if if_mod kw'>if</span> <span class='s identifier id'>s</span><span class='rbrace token'>}</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Decimal integer/float number format, to be converted to Integer for</span>
  <span class='comment val'># integer format, Float for float format.</span>
  <span class='comment val'>#</span>
  <span class='DecimalNumeric constant id'>DecimalNumeric</span> <span class='assign token'>=</span> <span class='floatpat identifier id'>floatpat</span>     <span class='comment val'># decimal integer is allowed as float also.</span>
  <span class='accept identifier id'>accept</span><span class='lparen token'>(</span><span class='DecimalNumeric constant id'>DecimalNumeric</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='s identifier id'>s</span><span class='comma token'>,</span><span class='bitor op'>|</span> <span class='eval identifier id'>eval</span><span class='lparen token'>(</span><span class='s identifier id'>s</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='s identifier id'>s</span><span class='rbrace token'>}</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Boolean switch, which means whether it is present or not, whether it is</span>
  <span class='comment val'># absent or not with prefix no-, or it takes an argument</span>
  <span class='comment val'># yes/no/true/false/+/-.</span>
  <span class='comment val'>#</span>
  <span class='yesno identifier id'>yesno</span> <span class='assign token'>=</span> <span class='CompletingHash constant id'>CompletingHash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='dstring node'>%w[- no false]</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='el identifier id'>el</span><span class='bitor op'>|</span> <span class='yesno identifier id'>yesno</span><span class='lbrack token'>[</span><span class='el identifier id'>el</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='false false kw'>false</span><span class='rbrace token'>}</span>
  <span class='dstring node'>%w[+ yes true]</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='el identifier id'>el</span><span class='bitor op'>|</span> <span class='yesno identifier id'>yesno</span><span class='lbrack token'>[</span><span class='el identifier id'>el</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='true true kw'>true</span><span class='rbrace token'>}</span>
  <span class='yesno identifier id'>yesno</span><span class='lbrack token'>[</span><span class='string val'>'nil'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>          <span class='comment val'># shoud be nil?</span>
  <span class='accept identifier id'>accept</span><span class='lparen token'>(</span><span class='TrueClass constant id'>TrueClass</span><span class='comma token'>,</span> <span class='yesno identifier id'>yesno</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='arg identifier id'>arg</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='bitor op'>|</span> <span class='val identifier id'>val</span> <span class='eq op'>==</span> <span class='nil nil kw'>nil</span> <span class='or or kw'>or</span> <span class='val identifier id'>val</span><span class='rbrace token'>}</span>
  <span class='comment val'>#</span>
  <span class='comment val'># Similar to TrueClass, but defaults to false.</span>
  <span class='comment val'>#</span>
  <span class='accept identifier id'>accept</span><span class='lparen token'>(</span><span class='FalseClass constant id'>FalseClass</span><span class='comma token'>,</span> <span class='yesno identifier id'>yesno</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='arg identifier id'>arg</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='bitor op'>|</span> <span class='val identifier id'>val</span> <span class='neq op'>!=</span> <span class='nil nil kw'>nil</span> <span class='and and kw'>and</span> <span class='val identifier id'>val</span><span class='rbrace token'>}</span>

  <span class='comment val'>#</span>
  <span class='comment val'># List of strings separated by &quot;,&quot;.</span>
  <span class='comment val'>#</span>
  <span class='accept identifier id'>accept</span><span class='lparen token'>(</span><span class='Array constant id'>Array</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='s identifier id'>s</span><span class='comma token'>,</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='s identifier id'>s</span>
      <span class='s identifier id'>s</span> <span class='assign token'>=</span> <span class='s identifier id'>s</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>','</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='s identifier id'>s</span><span class='bitor op'>|</span> <span class='s identifier id'>s</span> <span class='unless unless_mod kw'>unless</span> <span class='s identifier id'>s</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span><span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>
    <span class='s identifier id'>s</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Regular expression with options.</span>
  <span class='comment val'>#</span>
  <span class='accept identifier id'>accept</span><span class='lparen token'>(</span><span class='Regexp constant id'>Regexp</span><span class='comma token'>,</span> <span class='regexp val'>%r&quot;\A/((?:\\.|[^\\])*)/([[:alpha:]]+)?\z|.*&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='all identifier id'>all</span><span class='comma token'>,</span> <span class='s identifier id'>s</span><span class='comma token'>,</span> <span class='o identifier id'>o</span><span class='bitor op'>|</span>
    <span class='f identifier id'>f</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
    <span class='if if kw'>if</span> <span class='o identifier id'>o</span>
      <span class='f identifier id'>f</span> <span class='opasgn op'>|=</span> <span class='Regexp constant id'>Regexp</span><span class='colon2 op'>::</span><span class='IGNORECASE constant id'>IGNORECASE</span> <span class='if if_mod kw'>if</span> <span class='regexp val'>/i/</span> <span class='match op'>=~</span> <span class='o identifier id'>o</span>
      <span class='f identifier id'>f</span> <span class='opasgn op'>|=</span> <span class='Regexp constant id'>Regexp</span><span class='colon2 op'>::</span><span class='MULTILINE constant id'>MULTILINE</span> <span class='if if_mod kw'>if</span> <span class='regexp val'>/m/</span> <span class='match op'>=~</span> <span class='o identifier id'>o</span>
      <span class='f identifier id'>f</span> <span class='opasgn op'>|=</span> <span class='Regexp constant id'>Regexp</span><span class='colon2 op'>::</span><span class='EXTENDED constant id'>EXTENDED</span> <span class='if if_mod kw'>if</span> <span class='regexp val'>/x/</span> <span class='match op'>=~</span> <span class='o identifier id'>o</span>
      <span class='k identifier id'>k</span> <span class='assign token'>=</span> <span class='o identifier id'>o</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='string val'>&quot;^imx&quot;</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='Regexp constant id'>Regexp</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='s identifier id'>s</span> <span class='orop op'>||</span> <span class='all identifier id'>all</span><span class='comma token'>,</span> <span class='f identifier id'>f</span><span class='comma token'>,</span> <span class='k identifier id'>k</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Exceptions</span>
  <span class='comment val'>#</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Base class of exceptions from OptionParser.</span>
  <span class='comment val'>#</span>
  <span class='class class kw'>class</span> <span class='ParseError constant id'>ParseError</span> <span class='lt op'>&lt;</span> <span class='RuntimeError constant id'>RuntimeError</span>
    <span class='comment val'># Reason which caused the error.</span>
    <span class='Reason constant id'>Reason</span> <span class='assign token'>=</span> <span class='string val'>'parse error'</span><span class='dot token'>.</span><span class='freeze identifier id'>freeze</span>

    <span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
      <span class='@args ivar id'>@args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span>
      <span class='@reason ivar id'>@reason</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='end end kw'>end</span>

    <span class='attr_reader identifier id'>attr_reader</span> <span class='symbol val'>:args</span>
    <span class='attr_writer identifier id'>attr_writer</span> <span class='symbol val'>:reason</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Pushes back erred argument(s) to +argv+.</span>
    <span class='comment val'>#</span>
    <span class='def def kw'>def</span> <span class='recover identifier id'>recover</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span><span class='rparen token'>)</span>
      <span class='argv identifier id'>argv</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='@args ivar id'>@args</span>
      <span class='argv identifier id'>argv</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='set_option identifier id'>set_option</span><span class='lparen token'>(</span><span class='opt identifier id'>opt</span><span class='comma token'>,</span> <span class='eq identifier id'>eq</span><span class='rparen token'>)</span>
      <span class='if if kw'>if</span> <span class='eq identifier id'>eq</span>
        <span class='@args ivar id'>@args</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='opt identifier id'>opt</span>
      <span class='else else kw'>else</span>
        <span class='@args ivar id'>@args</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span><span class='lparen token'>(</span><span class='opt identifier id'>opt</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
      <span class='self self kw'>self</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Returns error reason. Override this for I18N.</span>
    <span class='comment val'>#</span>
    <span class='def def kw'>def</span> <span class='reason identifier id'>reason</span>
      <span class='@reason ivar id'>@reason</span> <span class='orop op'>||</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='colon2 op'>::</span><span class='Reason constant id'>Reason</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='inspect identifier id'>inspect</span>
      <span class='dstring node'>&quot;#&lt;#{self.class.to_s}: #{args.join(' ')}&gt;&quot;</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Default stringizing method to emit standard error message.</span>
    <span class='comment val'>#</span>
    <span class='def def kw'>def</span> <span class='message identifier id'>message</span>
      <span class='reason identifier id'>reason</span> <span class='plus op'>+</span> <span class='string val'>': '</span> <span class='plus op'>+</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>' '</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='alias alias kw'>alias</span> <span class='to_s identifier id'>to_s</span> <span class='message identifier id'>message</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Raises when ambiguously completable string is encountered.</span>
  <span class='comment val'>#</span>
  <span class='class class kw'>class</span> <span class='AmbiguousOption constant id'>AmbiguousOption</span> <span class='lt op'>&lt;</span> <span class='ParseError constant id'>ParseError</span>
    <span class='const_set identifier id'>const_set</span><span class='lparen token'>(</span><span class='symbol val'>:Reason</span><span class='comma token'>,</span> <span class='string val'>'ambiguous option'</span><span class='dot token'>.</span><span class='freeze identifier id'>freeze</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Raises when there is an argument for a switch which takes no argument.</span>
  <span class='comment val'>#</span>
  <span class='class class kw'>class</span> <span class='NeedlessArgument constant id'>NeedlessArgument</span> <span class='lt op'>&lt;</span> <span class='ParseError constant id'>ParseError</span>
    <span class='const_set identifier id'>const_set</span><span class='lparen token'>(</span><span class='symbol val'>:Reason</span><span class='comma token'>,</span> <span class='string val'>'needless argument'</span><span class='dot token'>.</span><span class='freeze identifier id'>freeze</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Raises when a switch with mandatory argument has no argument.</span>
  <span class='comment val'>#</span>
  <span class='class class kw'>class</span> <span class='MissingArgument constant id'>MissingArgument</span> <span class='lt op'>&lt;</span> <span class='ParseError constant id'>ParseError</span>
    <span class='const_set identifier id'>const_set</span><span class='lparen token'>(</span><span class='symbol val'>:Reason</span><span class='comma token'>,</span> <span class='string val'>'missing argument'</span><span class='dot token'>.</span><span class='freeze identifier id'>freeze</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Raises when switch is undefined.</span>
  <span class='comment val'>#</span>
  <span class='class class kw'>class</span> <span class='InvalidOption constant id'>InvalidOption</span> <span class='lt op'>&lt;</span> <span class='ParseError constant id'>ParseError</span>
    <span class='const_set identifier id'>const_set</span><span class='lparen token'>(</span><span class='symbol val'>:Reason</span><span class='comma token'>,</span> <span class='string val'>'invalid option'</span><span class='dot token'>.</span><span class='freeze identifier id'>freeze</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Raises when the given argument does not match required format.</span>
  <span class='comment val'>#</span>
  <span class='class class kw'>class</span> <span class='InvalidArgument constant id'>InvalidArgument</span> <span class='lt op'>&lt;</span> <span class='ParseError constant id'>ParseError</span>
    <span class='const_set identifier id'>const_set</span><span class='lparen token'>(</span><span class='symbol val'>:Reason</span><span class='comma token'>,</span> <span class='string val'>'invalid argument'</span><span class='dot token'>.</span><span class='freeze identifier id'>freeze</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Raises when the given argument word can't be completed uniquely.</span>
  <span class='comment val'>#</span>
  <span class='class class kw'>class</span> <span class='AmbiguousArgument constant id'>AmbiguousArgument</span> <span class='lt op'>&lt;</span> <span class='InvalidArgument constant id'>InvalidArgument</span>
    <span class='const_set identifier id'>const_set</span><span class='lparen token'>(</span><span class='symbol val'>:Reason</span><span class='comma token'>,</span> <span class='string val'>'ambiguous argument'</span><span class='dot token'>.</span><span class='freeze identifier id'>freeze</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Miscellaneous</span>
  <span class='comment val'>#</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Extends command line arguments array (ARGV) to parse itself.</span>
  <span class='comment val'>#</span>
  <span class='module module kw'>module</span> <span class='Arguable constant id'>Arguable</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Sets OptionParser object, when +opt+ is +false+ or +nil+, methods</span>
    <span class='comment val'># OptionParser::Arguable#options and OptionParser::Arguable#options= are</span>
    <span class='comment val'># undefined. Thus, there is no ways to access the OptionParser object</span>
    <span class='comment val'># via the receiver object.</span>
    <span class='comment val'>#</span>
    <span class='def def kw'>def</span> <span class='options= identifier id'>options=</span><span class='lparen token'>(</span><span class='opt identifier id'>opt</span><span class='rparen token'>)</span>
      <span class='unless unless kw'>unless</span> <span class='@optparse ivar id'>@optparse</span> <span class='assign token'>=</span> <span class='opt identifier id'>opt</span>
        <span class='class class kw'>class</span> <span class='lshft op'>&lt;&lt;</span> <span class='self self kw'>self</span>
          <span class='undef_method identifier id'>undef_method</span><span class='lparen token'>(</span><span class='symbol val'>:options</span><span class='rparen token'>)</span>
          <span class='undef_method identifier id'>undef_method</span><span class='lparen token'>(</span><span class='symbol val'>:options=</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Actual OptionParser object, automatically created if nonexistent.</span>
    <span class='comment val'>#</span>
    <span class='comment val'># If called with a block, yields the OptionParser object and returns the</span>
    <span class='comment val'># result of the block. If an OptionParser::ParseError exception occurs</span>
    <span class='comment val'># in the block, it is rescued, a error message printed to STDERR and</span>
    <span class='comment val'># +nil+ returned.</span>
    <span class='comment val'>#</span>
    <span class='def def kw'>def</span> <span class='options identifier id'>options</span>
      <span class='@optparse ivar id'>@optparse</span> <span class='opasgn op'>||=</span> <span class='OptionParser constant id'>OptionParser</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
      <span class='@optparse ivar id'>@optparse</span><span class='dot token'>.</span><span class='default_argv identifier id'>default_argv</span> <span class='assign token'>=</span> <span class='self self kw'>self</span>
      <span class='block_given? fid id'>block_given?</span> <span class='or or kw'>or</span> <span class='return return kw'>return</span> <span class='@optparse ivar id'>@optparse</span>
      <span class='begin begin kw'>begin</span>
        <span class='yield yield kw'>yield</span> <span class='@optparse ivar id'>@optparse</span>
      <span class='rescue rescue kw'>rescue</span> <span class='ParseError constant id'>ParseError</span>
        <span class='@optparse ivar id'>@optparse</span><span class='dot token'>.</span><span class='warn identifier id'>warn</span> <span class='$! gvar id'>$!</span>
        <span class='nil nil kw'>nil</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Parses +self+ destructively in order and returns +self+ containing the</span>
    <span class='comment val'># rest arguments left unparsed.</span>
    <span class='comment val'>#</span>
    <span class='def def kw'>def</span> <span class='order! fid id'>order!</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='order! fid id'>order!</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Parses +self+ destructively in permutation mode and returns +self+</span>
    <span class='comment val'># containing the rest arguments left unparsed.</span>
    <span class='comment val'>#</span>
    <span class='def def kw'>def</span> <span class='permute! fid id'>permute!</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='permute! fid id'>permute!</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Parses +self+ destructively and returns +self+ containing the</span>
    <span class='comment val'># rest arguments left unparsed.</span>
    <span class='comment val'>#</span>
    <span class='def def kw'>def</span> <span class='parse! fid id'>parse!</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='parse! fid id'>parse!</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Substitution of getopts is possible as follows. Also see</span>
    <span class='comment val'># OptionParser#getopts.</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   def getopts(*args)</span>
    <span class='comment val'>#     ($OPT = ARGV.getopts(*args)).each do |opt, val|</span>
    <span class='comment val'>#       eval &quot;$OPT_#{opt.gsub(/[^A-Za-z0-9_]/, '_')} = val&quot;</span>
    <span class='comment val'>#     end</span>
    <span class='comment val'>#   rescue OptionParser::ParseError</span>
    <span class='comment val'>#   end</span>
    <span class='comment val'>#</span>
    <span class='def def kw'>def</span> <span class='getopts identifier id'>getopts</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
      <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='getopts identifier id'>getopts</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='comment val'>#</span>
    <span class='comment val'># Initializes instance variable.</span>
    <span class='comment val'>#</span>
    <span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='extend_object identifier id'>extend_object</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='rparen token'>)</span>
      <span class='super super kw'>super</span>
      <span class='obj identifier id'>obj</span><span class='dot token'>.</span><span class='instance_eval identifier id'>instance_eval</span> <span class='lbrace token'>{</span><span class='@optparse ivar id'>@optparse</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>
    <span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
      <span class='super super kw'>super</span>
      <span class='@optparse ivar id'>@optparse</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>#</span>
  <span class='comment val'># Acceptable argument classes. Now contains DecimalInteger, OctalInteger</span>
  <span class='comment val'># and DecimalNumeric. See Acceptable argument classes (in source code).</span>
  <span class='comment val'>#</span>
  <span class='module module kw'>module</span> <span class='Acceptables constant id'>Acceptables</span>
    <span class='const_set identifier id'>const_set</span><span class='lparen token'>(</span><span class='symbol val'>:DecimalInteger</span><span class='comma token'>,</span> <span class='OptionParser constant id'>OptionParser</span><span class='colon2 op'>::</span><span class='DecimalInteger constant id'>DecimalInteger</span><span class='rparen token'>)</span>
    <span class='const_set identifier id'>const_set</span><span class='lparen token'>(</span><span class='symbol val'>:OctalInteger</span><span class='comma token'>,</span> <span class='OptionParser constant id'>OptionParser</span><span class='colon2 op'>::</span><span class='OctalInteger constant id'>OctalInteger</span><span class='rparen token'>)</span>
    <span class='const_set identifier id'>const_set</span><span class='lparen token'>(</span><span class='symbol val'>:DecimalNumeric</span><span class='comma token'>,</span> <span class='OptionParser constant id'>OptionParser</span><span class='colon2 op'>::</span><span class='DecimalNumeric constant id'>DecimalNumeric</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>with</h3>
</div><div id="with-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>with</span><span class='args'>(*args, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:startdoc:
</p>
<p>
Class methods
</p>
<p>
Initializes a new instance and evaluates the optional block in context of
the instance. Arguments <tt>args</tt> are passed to #new, see there for
description of parameters.
</p>
<p>
This method is <b>deprecated</b>, its behavior corresponds to the older
#new method.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 750</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L750">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">750
751
752
753
754</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='opts identifier id'>opts</span> <span class='assign token'>=</span> <span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='instance_eval identifier id'>instance_eval</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='opts identifier id'>opts</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>abort</h3>
</div><div id="abort-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>abort</span><span class='args'>(mesg = $!)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 917</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L917">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">917
918
919</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='abort identifier id'>abort</span><span class='lparen token'>(</span><span class='mesg identifier id'>mesg</span> <span class='assign token'>=</span> <span class='$! gvar id'>$!</span><span class='rparen token'>)</span>
  <span class='super super kw'>super</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{program_name}: #{mesg}&quot;</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>accept</h3>
</div><div id="accept-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>accept</span><span class='args'>(*args, &amp;blk)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Directs to accept specified class <tt>t</tt>. The argument string is passed
to the block in which it should be converted to the desired class.
</p>
<table>
<tr><td valign="top"><tt>t</tt>:</td><td>Argument class specifier, any object including Class.

</td></tr>
<tr><td valign="top"><tt>pat</tt>:</td><td>Pattern for argument, defaults to <tt>t</tt> if it responds to match.

</td></tr>
</table>
<pre class="code">
  <span class='accept identifier id'>accept</span><span class='lparen token'>(</span><span class='t identifier id'>t</span><span class='comma token'>,</span> <span class='pat identifier id'>pat</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 819</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L819">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">819</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='accept identifier id'>accept</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span> <span class='top identifier id'>top</span><span class='dot token'>.</span><span class='accept identifier id'>accept</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>add_officious</h3>
</div><div id="add_officious-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>add_officious</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 789</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L789">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">789
790
791
792
793
794</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='add_officious identifier id'>add_officious</span>  
  <span class='list identifier id'>list</span> <span class='assign token'>=</span> <span class='base identifier id'>base</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='Officious constant id'>Officious</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='opt identifier id'>opt</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='bitor op'>|</span>
    <span class='list identifier id'>list</span><span class='dot token'>.</span><span class='long identifier id'>long</span><span class='lbrack token'>[</span><span class='opt identifier id'>opt</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='block identifier id'>block</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>banner</h3>
</div><div id="banner-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>banner</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Heading banner preceding summary.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 861</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L861">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">861
862
863
864
865
866
867</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='banner identifier id'>banner</span>
  <span class='unless unless kw'>unless</span> <span class='@banner ivar id'>@banner</span>
    <span class='@banner ivar id'>@banner</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;Usage: #{program_name} [options]&quot;</span>
    <span class='visit identifier id'>visit</span><span class='lparen token'>(</span><span class='symbol val'>:add_banner</span><span class='comma token'>,</span> <span class='@banner ivar id'>@banner</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='@banner ivar id'>@banner</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>base</h3>
</div><div id="base-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>base</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Subject of #on_tail.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 931</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L931">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">931
932
933</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='base identifier id'>base</span>
  <span class='@stack ivar id'>@stack</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>define</h3>
</div><div id="define-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>define</span><span class='args'>(*opts, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="def_option-instance_method">def_option</tt>
  
</p>
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 1177</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L1177">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1177
1178
1179
1180</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='define identifier id'>define</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='top identifier id'>top</span><span class='dot token'>.</span><span class='append identifier id'>append</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='lparen token'>(</span><span class='sw identifier id'>sw</span> <span class='assign token'>=</span> <span class='make_switch identifier id'>make_switch</span><span class='lparen token'>(</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='sw identifier id'>sw</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>define_head</h3>
</div><div id="define_head-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>define_head</span><span class='args'>(*opts, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="def_head_option-instance_method">def_head_option</tt>
  
</p>
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 1192</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L1192">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1192
1193
1194
1195</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='define_head identifier id'>define_head</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='top identifier id'>top</span><span class='dot token'>.</span><span class='prepend identifier id'>prepend</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='lparen token'>(</span><span class='sw identifier id'>sw</span> <span class='assign token'>=</span> <span class='make_switch identifier id'>make_switch</span><span class='lparen token'>(</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='sw identifier id'>sw</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>define_tail</h3>
</div><div id="define_tail-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>define_tail</span><span class='args'>(*opts, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="def_tail_option-instance_method">def_tail_option</tt>
  
</p>
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 1206</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L1206">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1206
1207
1208
1209</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='define_tail identifier id'>define_tail</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='base identifier id'>base</span><span class='dot token'>.</span><span class='append identifier id'>append</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='lparen token'>(</span><span class='sw identifier id'>sw</span> <span class='assign token'>=</span> <span class='make_switch identifier id'>make_switch</span><span class='lparen token'>(</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='sw identifier id'>sw</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>environment</h3>
</div><div id="environment-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>environment</span><span class='args'>(env = File.basename($0, '.*'))</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Parses environment variable <tt>env</tt> or its uppercase with splitting
like a shell.
</p>
<p>
<tt>env</tt> defaults to the basename of the program.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 1476</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L1476">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1476
1477
1478
1479</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='environment identifier id'>environment</span><span class='lparen token'>(</span><span class='env identifier id'>env</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='basename identifier id'>basename</span><span class='lparen token'>(</span><span class='$0 gvar id'>$0</span><span class='comma token'>,</span> <span class='string val'>'.*'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='env identifier id'>env</span> <span class='assign token'>=</span> <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='env identifier id'>env</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='ENV constant id'>ENV</span><span class='lbrack token'>[</span><span class='env identifier id'>env</span><span class='dot token'>.</span><span class='upcase identifier id'>upcase</span><span class='rbrack token'>]</span> <span class='or or kw'>or</span> <span class='return return kw'>return</span>
  <span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='Shellwords constant id'>Shellwords</span><span class='dot token'>.</span><span class='shellwords identifier id'>shellwords</span><span class='lparen token'>(</span><span class='env identifier id'>env</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>getopts</h3>
</div><div id="getopts-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>getopts</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Wrapper method for getopts.rb.
</p>
<pre class="code">
  <span class='params identifier id'>params</span> <span class='assign token'>=</span> <span class='ARGV constant id'>ARGV</span><span class='dot token'>.</span><span class='getopts identifier id'>getopts</span><span class='lparen token'>(</span><span class='string val'>&quot;ab:&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;foo&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;bar:&quot;</span><span class='rparen token'>)</span>
  <span class='comment val'># params[:a] = true   # -a</span>
  <span class='comment val'># params[:b] = &quot;1&quot;    # -b1</span>
  <span class='comment val'># params[:foo] = &quot;1&quot;  # --foo</span>
  <span class='comment val'># params[:bar] = &quot;x&quot;  # --bar x</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 1367</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L1367">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1367
1368
1369
1370
1371
1372
1373
1374
1375
1376
1377
1378
1379
1380
1381
1382
1383
1384
1385
1386
1387
1388
1389
1390
1391
1392
1393
1394
1395
1396</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='getopts identifier id'>getopts</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='argv identifier id'>argv</span> <span class='assign token'>=</span> <span class='Array constant id'>Array</span> <span class='eqq op'>===</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='first identifier id'>first</span> <span class='integer val'>? </span><span class='args identifier id'>args</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span> <span class='colon op'>:</span> <span class='default_argv identifier id'>default_argv</span>
  <span class='single_options identifier id'>single_options</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='long_options identifier id'>long_options</span> <span class='assign token'>=</span> <span class='mult op'>*</span><span class='args identifier id'>args</span>

  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>

  <span class='single_options identifier id'>single_options</span><span class='dot token'>.</span><span class='scan identifier id'>scan</span><span class='lparen token'>(</span><span class='regexp val'>/(.)(:)?/</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='opt identifier id'>opt</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='val identifier id'>val</span>
      <span class='result identifier id'>result</span><span class='lbrack token'>[</span><span class='opt identifier id'>opt</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
      <span class='define identifier id'>define</span><span class='lparen token'>(</span><span class='dstring node'>&quot;-#{opt} VAL&quot;</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='result identifier id'>result</span><span class='lbrack token'>[</span><span class='opt identifier id'>opt</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
      <span class='define identifier id'>define</span><span class='lparen token'>(</span><span class='dstring node'>&quot;-#{opt}&quot;</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span> <span class='if if_mod kw'>if</span> <span class='single_options identifier id'>single_options</span>

  <span class='long_options identifier id'>long_options</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='arg identifier id'>arg</span><span class='bitor op'>|</span>
    <span class='opt identifier id'>opt</span><span class='comma token'>,</span> <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>':'</span><span class='comma token'>,</span> <span class='integer val'>2</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='val identifier id'>val</span>
      <span class='result identifier id'>result</span><span class='lbrack token'>[</span><span class='opt identifier id'>opt</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='val identifier id'>val</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span> <span class='integer val'>? </span><span class='nil nil kw'>nil</span> <span class='colon op'>:</span> <span class='val identifier id'>val</span>
      <span class='define identifier id'>define</span><span class='lparen token'>(</span><span class='dstring node'>&quot;--#{opt} VAL&quot;</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='result identifier id'>result</span><span class='lbrack token'>[</span><span class='opt identifier id'>opt</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
      <span class='define identifier id'>define</span><span class='lparen token'>(</span><span class='dstring node'>&quot;--#{opt}&quot;</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='parse_in_order identifier id'>parse_in_order</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span><span class='comma token'>,</span> <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='method identifier id'>method</span><span class='lparen token'>(</span><span class='symbol val'>:[]=</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>help</h3>
</div><div id="help-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>help</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="to_s-instance_method">to_s</tt>
  
</p>
</div><div class="section docstring">
  <p>
Returns option summary string.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 971</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L971">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">971</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='help identifier id'>help</span><span class='semicolon token'>;</span> <span class='summarize identifier id'>summarize</span><span class='lparen token'>(</span><span class='banner identifier id'>banner</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='sub identifier id'>sub</span><span class='lparen token'>(</span><span class='regexp val'>/\n?\z/</span><span class='comma token'>,</span> <span class='string val'>&quot;\n&quot;</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>inc</h3>
</div><div id="inc-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>inc</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 767</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L767">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">767
768
769</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='inc identifier id'>inc</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='inc identifier id'>inc</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>load</h3>
</div><div id="load-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>load</span><span class='args'>(filename = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Loads options from file names as <tt>filename</tt>. Does nothing when the
file is not present. Returns whether successfully loaded.
</p>
<p>
<tt>filename</tt> defaults to basename of the program without suffix in a
directory ~/.options.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 1456</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L1456">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1456
1457
1458
1459
1460
1461
1462
1463
1464
1465
1466
1467
1468</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='load identifier id'>load</span><span class='lparen token'>(</span><span class='filename identifier id'>filename</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='begin begin kw'>begin</span>
    <span class='filename identifier id'>filename</span> <span class='opasgn op'>||=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='expand_path identifier id'>expand_path</span><span class='lparen token'>(</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='basename identifier id'>basename</span><span class='lparen token'>(</span><span class='$0 gvar id'>$0</span><span class='comma token'>,</span> <span class='string val'>'.*'</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='string val'>'~/.options'</span><span class='rparen token'>)</span>
  <span class='rescue rescue kw'>rescue</span>
    <span class='return return kw'>return</span> <span class='false false kw'>false</span>
  <span class='end end kw'>end</span>
  <span class='begin begin kw'>begin</span>
    <span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='IO constant id'>IO</span><span class='dot token'>.</span><span class='readlines identifier id'>readlines</span><span class='lparen token'>(</span><span class='filename identifier id'>filename</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='s identifier id'>s</span><span class='bitor op'>|</span> <span class='s identifier id'>s</span><span class='dot token'>.</span><span class='chomp! fid id'>chomp!</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
    <span class='true true kw'>true</span>
  <span class='rescue rescue kw'>rescue</span> <span class='Errno constant id'>Errno</span><span class='colon2 op'>::</span><span class='ENOENT constant id'>ENOENT</span><span class='comma token'>,</span> <span class='Errno constant id'>Errno</span><span class='colon2 op'>::</span><span class='ENOTDIR constant id'>ENOTDIR</span>
    <span class='false false kw'>false</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>make_switch</h3>
</div><div id="make_switch-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>make_switch</span><span class='args'>(opts, block = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Creates an OptionParser::Switch from the parameters. The parsed argument
value is passed to the given block, where it can be processed.
</p>
<p>
See at the beginning of OptionParser for some full examples.
</p>
<p>
<tt>opts</tt> can include the following elements:
</p>
<dl>
<dt>Argument style:</dt><dd>One of the following:

<pre class="code">
  <span class='symbol val'>:NONE</span><span class='comma token'>,</span> <span class='symbol val'>:REQUIRED</span><span class='comma token'>,</span> <span class='symbol val'>:OPTIONAL</span>
</pre>
</dd>
<dt>Argument pattern:</dt><dd>Acceptable option argument format, must be pre-defined with
OptionParser.accept or OptionParser#accept, or Regexp. This can appear once
or assigned as String if not present, otherwise causes an ArgumentError.
Examples:

<pre class="code">
  <span class='Float constant id'>Float</span><span class='comma token'>,</span> <span class='Time constant id'>Time</span><span class='comma token'>,</span> <span class='Array constant id'>Array</span>
</pre>
</dd>
<dt>Possible argument values:</dt><dd>Hash or Array.

<pre class="code">
  <span class='lbrack token'>[</span><span class='symbol val'>:text</span><span class='comma token'>,</span> <span class='symbol val'>:binary</span><span class='comma token'>,</span> <span class='symbol val'>:auto</span><span class='rbrack token'>]</span>
  <span class='dstring node'>%w[iso-2022-jp shift_jis euc-jp utf8 binary]</span>
  <span class='lbrace token'>{</span> <span class='string val'>&quot;jis&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;iso-2022-jp&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;sjis&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;shift_jis&quot;</span> <span class='rbrace token'>}</span>
</pre>
</dd>
<dt>Long style switch:</dt><dd>Specifies a long style switch which takes a mandatory, optional or no
argument. It&#8217;s a string of the following form:

<pre class="code">
  <span class='string val'>&quot;--switch=MANDATORY&quot;</span> <span class='or or kw'>or</span> <span class='string val'>&quot;--switch MANDATORY&quot;</span>
  <span class='string val'>&quot;--switch[=OPTIONAL]&quot;</span>
  <span class='string val'>&quot;--switch&quot;</span>
</pre>
</dd>
<dt>Short style switch:</dt><dd>Specifies short style switch which takes a mandatory, optional or no
argument. It&#8217;s a string of the following form:

<pre class="code">
  <span class='string val'>&quot;-xMANDATORY&quot;</span>
  <span class='string val'>&quot;-x[OPTIONAL]&quot;</span>
  <span class='string val'>&quot;-x&quot;</span>
</pre>
<p>
There is also a special form which matches character range (not full set of
regural expression):
</p>
<pre class="code">
  <span class='string val'>&quot;-[a-z]MANDATORY&quot;</span>
  <span class='string val'>&quot;-[a-z][OPTIONAL]&quot;</span>
  <span class='string val'>&quot;-[a-z]&quot;</span>
</pre>
</dd>
<dt>Argument style and description:</dt><dd>Instead of specifying mandatory or optional orguments directly in the
switch parameter, this separate parameter can be used.

<pre class="code">
  <span class='string val'>&quot;=MANDATORY&quot;</span>
  <span class='string val'>&quot;=[OPTIONAL]&quot;</span>
</pre>
</dd>
<dt>Description:</dt><dd>Description string for the option.

<pre class="code">
  <span class='string val'>&quot;Run verbosely&quot;</span>
</pre>
</dd>
<dt>Handler:</dt><dd>Handler for the parsed argument value. Either give a block or pass a Proc
or Method as an argument.

</dd>
</dl>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 1058</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L1058">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1058
1059
1060
1061
1062
1063
1064
1065
1066
1067
1068
1069
1070
1071
1072
1073
1074
1075
1076
1077
1078
1079
1080
1081
1082
1083
1084
1085
1086
1087
1088
1089
1090
1091
1092
1093
1094
1095
1096
1097
1098
1099
1100
1101
1102
1103
1104
1105
1106
1107
1108
1109
1110
1111
1112
1113
1114
1115
1116
1117
1118
1119
1120
1121
1122
1123
1124
1125
1126
1127
1128
1129
1130
1131
1132
1133
1134
1135
1136
1137
1138
1139
1140
1141
1142
1143
1144
1145
1146
1147
1148
1149
1150
1151
1152
1153
1154
1155
1156
1157
1158
1159
1160
1161
1162
1163
1164
1165
1166
1167
1168
1169
1170
1171
1172
1173
1174
1175</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='make_switch identifier id'>make_switch</span><span class='lparen token'>(</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='block identifier id'>block</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='short identifier id'>short</span><span class='comma token'>,</span> <span class='long identifier id'>long</span><span class='comma token'>,</span> <span class='nolong identifier id'>nolong</span><span class='comma token'>,</span> <span class='style identifier id'>style</span><span class='comma token'>,</span> <span class='pattern identifier id'>pattern</span><span class='comma token'>,</span> <span class='conv identifier id'>conv</span><span class='comma token'>,</span> <span class='not_pattern identifier id'>not_pattern</span><span class='comma token'>,</span> <span class='not_conv identifier id'>not_conv</span><span class='comma token'>,</span> <span class='not_style identifier id'>not_style</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='ldesc identifier id'>ldesc</span><span class='comma token'>,</span> <span class='sdesc identifier id'>sdesc</span><span class='comma token'>,</span> <span class='desc identifier id'>desc</span><span class='comma token'>,</span> <span class='arg identifier id'>arg</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='default_style identifier id'>default_style</span> <span class='assign token'>=</span> <span class='Switch constant id'>Switch</span><span class='colon2 op'>::</span><span class='NoArgument constant id'>NoArgument</span>
  <span class='default_pattern identifier id'>default_pattern</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='klass identifier id'>klass</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='o identifier id'>o</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='n identifier id'>n</span><span class='comma token'>,</span> <span class='q identifier id'>q</span><span class='comma token'>,</span> <span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>

  <span class='opts identifier id'>opts</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='o identifier id'>o</span><span class='bitor op'>|</span>
    <span class='comment val'># argument class</span>
    <span class='next next kw'>next</span> <span class='if if_mod kw'>if</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='symbol val'>:atype</span><span class='comma token'>,</span> <span class='o identifier id'>o</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='pat identifier id'>pat</span><span class='comma token'>,</span> <span class='c identifier id'>c</span><span class='bitor op'>|</span>
      <span class='klass identifier id'>klass</span> <span class='assign token'>=</span> <span class='notwice identifier id'>notwice</span><span class='lparen token'>(</span><span class='o identifier id'>o</span><span class='comma token'>,</span> <span class='klass identifier id'>klass</span><span class='comma token'>,</span> <span class='string val'>'type'</span><span class='rparen token'>)</span>
      <span class='if if kw'>if</span> <span class='not_style identifier id'>not_style</span> <span class='and and kw'>and</span> <span class='not_style identifier id'>not_style</span> <span class='neq op'>!=</span> <span class='Switch constant id'>Switch</span><span class='colon2 op'>::</span><span class='NoArgument constant id'>NoArgument</span>
        <span class='not_pattern identifier id'>not_pattern</span><span class='comma token'>,</span> <span class='not_conv identifier id'>not_conv</span> <span class='assign token'>=</span> <span class='pat identifier id'>pat</span><span class='comma token'>,</span> <span class='c identifier id'>c</span>
      <span class='else else kw'>else</span>
        <span class='default_pattern identifier id'>default_pattern</span><span class='comma token'>,</span> <span class='conv identifier id'>conv</span> <span class='assign token'>=</span> <span class='pat identifier id'>pat</span><span class='comma token'>,</span> <span class='c identifier id'>c</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># directly specified pattern(any object possible to match)</span>
    <span class='if if kw'>if</span> <span class='notop op'>!</span><span class='lparen token'>(</span><span class='String constant id'>String</span> <span class='eqq op'>===</span> <span class='o identifier id'>o</span><span class='rparen token'>)</span> <span class='and and kw'>and</span> <span class='o identifier id'>o</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:match</span><span class='rparen token'>)</span>
      <span class='pattern identifier id'>pattern</span> <span class='assign token'>=</span> <span class='notwice identifier id'>notwice</span><span class='lparen token'>(</span><span class='o identifier id'>o</span><span class='comma token'>,</span> <span class='pattern identifier id'>pattern</span><span class='comma token'>,</span> <span class='string val'>'pattern'</span><span class='rparen token'>)</span>
      <span class='conv identifier id'>conv</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='pattern identifier id'>pattern</span><span class='dot token'>.</span><span class='method identifier id'>method</span><span class='lparen token'>(</span><span class='symbol val'>:convert</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_proc identifier id'>to_proc</span> <span class='if if_mod kw'>if</span> <span class='pattern identifier id'>pattern</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:convert</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
      <span class='next next kw'>next</span>
    <span class='end end kw'>end</span>

    <span class='comment val'># anything others</span>
    <span class='case case kw'>case</span> <span class='o identifier id'>o</span>
    <span class='when when kw'>when</span> <span class='Proc constant id'>Proc</span><span class='comma token'>,</span> <span class='Method constant id'>Method</span>
      <span class='block identifier id'>block</span> <span class='assign token'>=</span> <span class='notwice identifier id'>notwice</span><span class='lparen token'>(</span><span class='o identifier id'>o</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='comma token'>,</span> <span class='string val'>'block'</span><span class='rparen token'>)</span>
    <span class='when when kw'>when</span> <span class='Array constant id'>Array</span><span class='comma token'>,</span> <span class='Hash constant id'>Hash</span>
      <span class='case case kw'>case</span> <span class='pattern identifier id'>pattern</span>
      <span class='when when kw'>when</span> <span class='CompletingHash constant id'>CompletingHash</span>
      <span class='when when kw'>when</span> <span class='nil nil kw'>nil</span>
        <span class='pattern identifier id'>pattern</span> <span class='assign token'>=</span> <span class='CompletingHash constant id'>CompletingHash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
        <span class='conv identifier id'>conv</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='pattern identifier id'>pattern</span><span class='dot token'>.</span><span class='method identifier id'>method</span><span class='lparen token'>(</span><span class='symbol val'>:convert</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_proc identifier id'>to_proc</span> <span class='if if_mod kw'>if</span> <span class='pattern identifier id'>pattern</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:convert</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
      <span class='else else kw'>else</span>
        <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;argument pattern given twice&quot;</span>
      <span class='end end kw'>end</span>
      <span class='o identifier id'>o</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='lparen token'>(</span><span class='o identifier id'>o</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='v identifier id'>v</span><span class='rparen token'>)</span><span class='bitor op'>|</span> <span class='pattern identifier id'>pattern</span><span class='lbrack token'>[</span><span class='o identifier id'>o</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='o identifier id'>o</span><span class='rbrace token'>}</span><span class='rbrace token'>}</span>
    <span class='when when kw'>when</span> <span class='Module constant id'>Module</span>
      <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;unsupported argument type: #{o}&quot;</span>
    <span class='when when kw'>when</span> <span class='mult op'>*</span><span class='ArgumentStyle constant id'>ArgumentStyle</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span>
      <span class='style identifier id'>style</span> <span class='assign token'>=</span> <span class='notwice identifier id'>notwice</span><span class='lparen token'>(</span><span class='ArgumentStyle constant id'>ArgumentStyle</span><span class='lbrack token'>[</span><span class='o identifier id'>o</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='style identifier id'>style</span><span class='comma token'>,</span> <span class='string val'>'style'</span><span class='rparen token'>)</span>
    <span class='when when kw'>when</span> <span class='regexp val'>/^--no-([^\[\]=\s]*)(.+)?/</span>
      <span class='q identifier id'>q</span><span class='comma token'>,</span> <span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span><span class='comma token'>,</span> <span class='$2 nth_ref id'>$2</span>
      <span class='o identifier id'>o</span> <span class='assign token'>=</span> <span class='notwice identifier id'>notwice</span><span class='lparen token'>(</span><span class='a identifier id'>a</span> <span class='integer val'>? </span><span class='Object constant id'>Object</span> <span class='colon op'>:</span> <span class='TrueClass constant id'>TrueClass</span><span class='comma token'>,</span> <span class='klass identifier id'>klass</span><span class='comma token'>,</span> <span class='string val'>'type'</span><span class='rparen token'>)</span>
      <span class='not_pattern identifier id'>not_pattern</span><span class='comma token'>,</span> <span class='not_conv identifier id'>not_conv</span> <span class='assign token'>=</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='symbol val'>:atype</span><span class='comma token'>,</span> <span class='o identifier id'>o</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='not_style identifier id'>not_style</span>
      <span class='not_style identifier id'>not_style</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='not_style identifier id'>not_style</span> <span class='orop op'>||</span> <span class='default_style identifier id'>default_style</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='guess identifier id'>guess</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span> <span class='assign token'>=</span> <span class='a identifier id'>a</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='a identifier id'>a</span>
      <span class='default_style identifier id'>default_style</span> <span class='assign token'>=</span> <span class='Switch constant id'>Switch</span><span class='colon2 op'>::</span><span class='NoArgument constant id'>NoArgument</span>
      <span class='default_pattern identifier id'>default_pattern</span><span class='comma token'>,</span> <span class='conv identifier id'>conv</span> <span class='assign token'>=</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='symbol val'>:atype</span><span class='comma token'>,</span> <span class='FalseClass constant id'>FalseClass</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='default_pattern identifier id'>default_pattern</span>
      <span class='ldesc identifier id'>ldesc</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;--no-#{q}&quot;</span>
      <span class='long identifier id'>long</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>'no-'</span> <span class='plus op'>+</span> <span class='lparen token'>(</span><span class='q identifier id'>q</span> <span class='assign token'>=</span> <span class='q identifier id'>q</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span><span class='rparen token'>)</span>
      <span class='nolong identifier id'>nolong</span> <span class='lshft op'>&lt;&lt;</span> <span class='q identifier id'>q</span>
    <span class='when when kw'>when</span> <span class='regexp val'>/^--\[no-\]([^\[\]=\s]*)(.+)?/</span>
      <span class='q identifier id'>q</span><span class='comma token'>,</span> <span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span><span class='comma token'>,</span> <span class='$2 nth_ref id'>$2</span>
      <span class='o identifier id'>o</span> <span class='assign token'>=</span> <span class='notwice identifier id'>notwice</span><span class='lparen token'>(</span><span class='a identifier id'>a</span> <span class='integer val'>? </span><span class='Object constant id'>Object</span> <span class='colon op'>:</span> <span class='TrueClass constant id'>TrueClass</span><span class='comma token'>,</span> <span class='klass identifier id'>klass</span><span class='comma token'>,</span> <span class='string val'>'type'</span><span class='rparen token'>)</span>
      <span class='if if kw'>if</span> <span class='a identifier id'>a</span>
        <span class='default_style identifier id'>default_style</span> <span class='assign token'>=</span> <span class='default_style identifier id'>default_style</span><span class='dot token'>.</span><span class='guess identifier id'>guess</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span> <span class='assign token'>=</span> <span class='a identifier id'>a</span><span class='rparen token'>)</span>
        <span class='default_pattern identifier id'>default_pattern</span><span class='comma token'>,</span> <span class='conv identifier id'>conv</span> <span class='assign token'>=</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='symbol val'>:atype</span><span class='comma token'>,</span> <span class='o identifier id'>o</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='default_pattern identifier id'>default_pattern</span>
      <span class='end end kw'>end</span>
      <span class='ldesc identifier id'>ldesc</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;--[no-]#{q}&quot;</span>
      <span class='long identifier id'>long</span> <span class='lshft op'>&lt;&lt;</span> <span class='lparen token'>(</span><span class='o identifier id'>o</span> <span class='assign token'>=</span> <span class='q identifier id'>q</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span><span class='rparen token'>)</span>
      <span class='not_pattern identifier id'>not_pattern</span><span class='comma token'>,</span> <span class='not_conv identifier id'>not_conv</span> <span class='assign token'>=</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='symbol val'>:atype</span><span class='comma token'>,</span> <span class='FalseClass constant id'>FalseClass</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='not_style identifier id'>not_style</span>
      <span class='not_style identifier id'>not_style</span> <span class='assign token'>=</span> <span class='Switch constant id'>Switch</span><span class='colon2 op'>::</span><span class='NoArgument constant id'>NoArgument</span>
      <span class='nolong identifier id'>nolong</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>'no-'</span> <span class='plus op'>+</span> <span class='o identifier id'>o</span>
    <span class='when when kw'>when</span> <span class='regexp val'>/^--([^\[\]=\s]*)(.+)?/</span>
      <span class='q identifier id'>q</span><span class='comma token'>,</span> <span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span><span class='comma token'>,</span> <span class='$2 nth_ref id'>$2</span>
      <span class='if if kw'>if</span> <span class='a identifier id'>a</span>
        <span class='o identifier id'>o</span> <span class='assign token'>=</span> <span class='notwice identifier id'>notwice</span><span class='lparen token'>(</span><span class='NilClass constant id'>NilClass</span><span class='comma token'>,</span> <span class='klass identifier id'>klass</span><span class='comma token'>,</span> <span class='string val'>'type'</span><span class='rparen token'>)</span>
        <span class='default_style identifier id'>default_style</span> <span class='assign token'>=</span> <span class='default_style identifier id'>default_style</span><span class='dot token'>.</span><span class='guess identifier id'>guess</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span> <span class='assign token'>=</span> <span class='a identifier id'>a</span><span class='rparen token'>)</span>
        <span class='default_pattern identifier id'>default_pattern</span><span class='comma token'>,</span> <span class='conv identifier id'>conv</span> <span class='assign token'>=</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='symbol val'>:atype</span><span class='comma token'>,</span> <span class='o identifier id'>o</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='default_pattern identifier id'>default_pattern</span>
      <span class='end end kw'>end</span>
      <span class='ldesc identifier id'>ldesc</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;--#{q}&quot;</span>
      <span class='long identifier id'>long</span> <span class='lshft op'>&lt;&lt;</span> <span class='lparen token'>(</span><span class='o identifier id'>o</span> <span class='assign token'>=</span> <span class='q identifier id'>q</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span><span class='rparen token'>)</span>
    <span class='when when kw'>when</span> <span class='regexp val'>/^-(\[\^?\]?(?:[^\\\]]|\\.)*\])(.+)?/</span>
      <span class='q identifier id'>q</span><span class='comma token'>,</span> <span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span><span class='comma token'>,</span> <span class='$2 nth_ref id'>$2</span>
      <span class='o identifier id'>o</span> <span class='assign token'>=</span> <span class='notwice identifier id'>notwice</span><span class='lparen token'>(</span><span class='Object constant id'>Object</span><span class='comma token'>,</span> <span class='klass identifier id'>klass</span><span class='comma token'>,</span> <span class='string val'>'type'</span><span class='rparen token'>)</span>
      <span class='if if kw'>if</span> <span class='a identifier id'>a</span>
        <span class='default_style identifier id'>default_style</span> <span class='assign token'>=</span> <span class='default_style identifier id'>default_style</span><span class='dot token'>.</span><span class='guess identifier id'>guess</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span> <span class='assign token'>=</span> <span class='a identifier id'>a</span><span class='rparen token'>)</span>
        <span class='default_pattern identifier id'>default_pattern</span><span class='comma token'>,</span> <span class='conv identifier id'>conv</span> <span class='assign token'>=</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='symbol val'>:atype</span><span class='comma token'>,</span> <span class='o identifier id'>o</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='default_pattern identifier id'>default_pattern</span>
      <span class='end end kw'>end</span>
      <span class='sdesc identifier id'>sdesc</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;-#{q}&quot;</span>
      <span class='short identifier id'>short</span> <span class='lshft op'>&lt;&lt;</span> <span class='Regexp constant id'>Regexp</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='q identifier id'>q</span><span class='rparen token'>)</span>
    <span class='when when kw'>when</span> <span class='regexp val'>/^-(.)(.+)?/</span>
      <span class='q identifier id'>q</span><span class='comma token'>,</span> <span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span><span class='comma token'>,</span> <span class='$2 nth_ref id'>$2</span>
      <span class='if if kw'>if</span> <span class='a identifier id'>a</span>
        <span class='o identifier id'>o</span> <span class='assign token'>=</span> <span class='notwice identifier id'>notwice</span><span class='lparen token'>(</span><span class='NilClass constant id'>NilClass</span><span class='comma token'>,</span> <span class='klass identifier id'>klass</span><span class='comma token'>,</span> <span class='string val'>'type'</span><span class='rparen token'>)</span>
        <span class='default_style identifier id'>default_style</span> <span class='assign token'>=</span> <span class='default_style identifier id'>default_style</span><span class='dot token'>.</span><span class='guess identifier id'>guess</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span> <span class='assign token'>=</span> <span class='a identifier id'>a</span><span class='rparen token'>)</span>
        <span class='default_pattern identifier id'>default_pattern</span><span class='comma token'>,</span> <span class='conv identifier id'>conv</span> <span class='assign token'>=</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='symbol val'>:atype</span><span class='comma token'>,</span> <span class='o identifier id'>o</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='default_pattern identifier id'>default_pattern</span>
      <span class='end end kw'>end</span>
      <span class='sdesc identifier id'>sdesc</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;-#{q}&quot;</span>
      <span class='short identifier id'>short</span> <span class='lshft op'>&lt;&lt;</span> <span class='q identifier id'>q</span>
    <span class='when when kw'>when</span> <span class='regexp val'>/^=/</span>
      <span class='style identifier id'>style</span> <span class='assign token'>=</span> <span class='notwice identifier id'>notwice</span><span class='lparen token'>(</span><span class='default_style identifier id'>default_style</span><span class='dot token'>.</span><span class='guess identifier id'>guess</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span> <span class='assign token'>=</span> <span class='o identifier id'>o</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='style identifier id'>style</span><span class='comma token'>,</span> <span class='string val'>'style'</span><span class='rparen token'>)</span>
      <span class='default_pattern identifier id'>default_pattern</span><span class='comma token'>,</span> <span class='conv identifier id'>conv</span> <span class='assign token'>=</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='symbol val'>:atype</span><span class='comma token'>,</span> <span class='Object constant id'>Object</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='default_pattern identifier id'>default_pattern</span>
    <span class='else else kw'>else</span>
      <span class='desc identifier id'>desc</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='o identifier id'>o</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='default_pattern identifier id'>default_pattern</span><span class='comma token'>,</span> <span class='conv identifier id'>conv</span> <span class='assign token'>=</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='symbol val'>:atype</span><span class='comma token'>,</span> <span class='default_style identifier id'>default_style</span><span class='dot token'>.</span><span class='pattern identifier id'>pattern</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='default_pattern identifier id'>default_pattern</span>
  <span class='if if kw'>if</span> <span class='notop op'>!</span><span class='lparen token'>(</span><span class='short identifier id'>short</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span> <span class='and and kw'>and</span> <span class='long identifier id'>long</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span><span class='rparen token'>)</span>
    <span class='s identifier id'>s</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='style identifier id'>style</span> <span class='orop op'>||</span> <span class='default_style identifier id'>default_style</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='pattern identifier id'>pattern</span> <span class='orop op'>||</span> <span class='default_pattern identifier id'>default_pattern</span><span class='comma token'>,</span>
                                     <span class='conv identifier id'>conv</span><span class='comma token'>,</span> <span class='sdesc identifier id'>sdesc</span><span class='comma token'>,</span> <span class='ldesc identifier id'>ldesc</span><span class='comma token'>,</span> <span class='arg identifier id'>arg</span><span class='comma token'>,</span> <span class='desc identifier id'>desc</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='elsif elsif kw'>elsif</span> <span class='notop op'>!</span><span class='block identifier id'>block</span>
    <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;no switch given&quot;</span> <span class='if if_mod kw'>if</span> <span class='style identifier id'>style</span> <span class='or or kw'>or</span> <span class='pattern identifier id'>pattern</span>
    <span class='s identifier id'>s</span> <span class='assign token'>=</span> <span class='desc identifier id'>desc</span>
  <span class='else else kw'>else</span>
    <span class='short identifier id'>short</span> <span class='lshft op'>&lt;&lt;</span> <span class='pattern identifier id'>pattern</span>
    <span class='s identifier id'>s</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='style identifier id'>style</span> <span class='orop op'>||</span> <span class='default_style identifier id'>default_style</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='pattern identifier id'>pattern</span><span class='comma token'>,</span>
                                     <span class='conv identifier id'>conv</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='arg identifier id'>arg</span><span class='comma token'>,</span> <span class='desc identifier id'>desc</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='return return kw'>return</span> <span class='s identifier id'>s</span><span class='comma token'>,</span> <span class='short identifier id'>short</span><span class='comma token'>,</span> <span class='long identifier id'>long</span><span class='comma token'>,</span>
    <span class='lparen token'>(</span><span class='not_style identifier id'>not_style</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='not_pattern identifier id'>not_pattern</span><span class='comma token'>,</span> <span class='not_conv identifier id'>not_conv</span><span class='comma token'>,</span> <span class='sdesc identifier id'>sdesc</span><span class='comma token'>,</span> <span class='ldesc identifier id'>ldesc</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='desc identifier id'>desc</span><span class='comma token'>,</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='not_style identifier id'>not_style</span><span class='rparen token'>)</span><span class='comma token'>,</span>
    <span class='nolong identifier id'>nolong</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>new</h3>
</div><div id="new-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>new</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Pushes a new List.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 938</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L938">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">938
939
940
941
942
943
944
945</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='new identifier id'>new</span>
  <span class='@stack ivar id'>@stack</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='List constant id'>List</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='yield yield kw'>yield</span> <span class='self self kw'>self</span>
  <span class='else else kw'>else</span>
    <span class='self self kw'>self</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>on</h3>
</div><div id="on-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>on</span><span class='args'>(*opts, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Add option switch and handler. See #make_switch for an explanation of
parameters.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 1186</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L1186">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1186
1187
1188
1189</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='on identifier id'>on</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='define identifier id'>define</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>on_head</h3>
</div><div id="on_head-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>on_head</span><span class='args'>(*opts, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Add option switch like with #on, but at head of summary.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 1200</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L1200">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1200
1201
1202
1203</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='on_head identifier id'>on_head</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='define_head identifier id'>define_head</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>on_tail</h3>
</div><div id="on_tail-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>on_tail</span><span class='args'>(*opts, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Add option switch like with #on, but at tail of summary.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 1214</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L1214">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1214
1215
1216
1217</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='on_tail identifier id'>on_tail</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='define_tail identifier id'>define_tail</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>order</h3>
</div><div id="order-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>order</span><span class='args'>(*argv, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Parses command line arguments <tt>argv</tt> in order. When a block is
given, each non-option argument is yielded.
</p>
<p>
Returns the rest of <tt>argv</tt> left unparsed.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 1233</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L1233">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1233
1234
1235
1236</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='order identifier id'>order</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='argv identifier id'>argv</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='argv identifier id'>argv</span> <span class='assign token'>=</span> <span class='argv identifier id'>argv</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span> <span class='if if_mod kw'>if</span> <span class='argv identifier id'>argv</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='eq op'>==</span> <span class='integer val'>1</span> <span class='and and kw'>and</span> <span class='Array constant id'>Array</span> <span class='eqq op'>===</span> <span class='argv identifier id'>argv</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
  <span class='order! fid id'>order!</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>order!</h3>
</div><div id="order-21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>order!</span><span class='args'>(argv = default_argv, &amp;nonopt)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Same as #order, but removes switches destructively.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 1241</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L1241">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1241
1242
1243</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='order! fid id'>order!</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span> <span class='assign token'>=</span> <span class='default_argv identifier id'>default_argv</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='nonopt identifier id'>nonopt</span><span class='rparen token'>)</span>
  <span class='parse_in_order identifier id'>parse_in_order</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='nonopt identifier id'>nonopt</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>parse</h3>
</div><div id="parse-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>parse</span><span class='args'>(*argv)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Parses command line arguments <tt>argv</tt> in order when environment
variable POSIXLY_CORRECT is set, and in permutation mode otherwise.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 1342</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L1342">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1342
1343
1344
1345</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='argv identifier id'>argv</span><span class='rparen token'>)</span>
  <span class='argv identifier id'>argv</span> <span class='assign token'>=</span> <span class='argv identifier id'>argv</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span> <span class='if if_mod kw'>if</span> <span class='argv identifier id'>argv</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='eq op'>==</span> <span class='integer val'>1</span> <span class='and and kw'>and</span> <span class='Array constant id'>Array</span> <span class='eqq op'>===</span> <span class='argv identifier id'>argv</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
  <span class='parse! fid id'>parse!</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>parse!</h3>
</div><div id="parse-21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>parse!</span><span class='args'>(argv = default_argv)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Same as #parse, but removes switches destructively.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 1350</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L1350">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1350
1351
1352
1353
1354
1355
1356</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='parse! fid id'>parse!</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span> <span class='assign token'>=</span> <span class='default_argv identifier id'>default_argv</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='ENV constant id'>ENV</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='string val'>'POSIXLY_CORRECT'</span><span class='rparen token'>)</span>
    <span class='order! fid id'>order!</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='permute! fid id'>permute!</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>permute</h3>
</div><div id="permute-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>permute</span><span class='args'>(*argv)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Parses command line arguments <tt>argv</tt> in permutation mode and returns
list of non-option arguments.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 1322</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L1322">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1322
1323
1324
1325</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='permute identifier id'>permute</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='argv identifier id'>argv</span><span class='rparen token'>)</span>
  <span class='argv identifier id'>argv</span> <span class='assign token'>=</span> <span class='argv identifier id'>argv</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span> <span class='if if_mod kw'>if</span> <span class='argv identifier id'>argv</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='eq op'>==</span> <span class='integer val'>1</span> <span class='and and kw'>and</span> <span class='Array constant id'>Array</span> <span class='eqq op'>===</span> <span class='argv identifier id'>argv</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
  <span class='permute! fid id'>permute!</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>permute!</h3>
</div><div id="permute-21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>permute!</span><span class='args'>(argv = default_argv)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Same as #permute, but removes switches destructively.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 1330</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L1330">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1330
1331
1332
1333
1334
1335
1336</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='permute! fid id'>permute!</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span> <span class='assign token'>=</span> <span class='default_argv identifier id'>default_argv</span><span class='rparen token'>)</span>
  <span class='nonopts identifier id'>nonopts</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='arg identifier id'>arg</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='order! fid id'>order!</span><span class='lparen token'>(</span><span class='argv identifier id'>argv</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='arg identifier id'>arg</span><span class='bitor op'>|</span> <span class='nonopts identifier id'>nonopts</span> <span class='lshft op'>&lt;&lt;</span> <span class='arg identifier id'>arg</span><span class='rbrace token'>}</span>
  <span class='argv identifier id'>argv</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='nonopts identifier id'>nonopts</span>
  <span class='argv identifier id'>argv</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>program_name</h3>
</div><div id="program_name-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>program_name</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Program name to be emitted in error message and default banner, defaults to
$0.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 873</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L873">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">873
874
875</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='program_name identifier id'>program_name</span>
  <span class='@program_name ivar id'>@program_name</span> <span class='orop op'>||</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='basename identifier id'>basename</span><span class='lparen token'>(</span><span class='$0 gvar id'>$0</span><span class='comma token'>,</span> <span class='string val'>'.*'</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>reject</h3>
</div><div id="reject-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>reject</span><span class='args'>(*args, &amp;blk)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Directs to reject specified class argument.
</p>
<table>
<tr><td valign="top"><tt>t</tt>:</td><td>Argument class speficier, any object including Class.

</td></tr>
</table>
<pre class="code">
  <span class='reject identifier id'>reject</span><span class='lparen token'>(</span><span class='t identifier id'>t</span><span class='rparen token'>)</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 832</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L832">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">832</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='reject identifier id'>reject</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span> <span class='top identifier id'>top</span><span class='dot token'>.</span><span class='reject identifier id'>reject</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>release</h3>
</div><div id="release-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>release</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Release code
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 898</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L898">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">898
899
900</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='release identifier id'>release</span>
  <span class='@release ivar id'>@release</span> <span class='orop op'>||</span> <span class='lparen token'>(</span><span class='defined? defined kw'>defined?</span><span class='lparen token'>(</span><span class='colon3 op'>::</span><span class='Release constant id'>Release</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='colon3 op'>::</span><span class='Release constant id'>Release</span><span class='rparen token'>)</span> <span class='orop op'>||</span> <span class='lparen token'>(</span><span class='defined? defined kw'>defined?</span><span class='lparen token'>(</span><span class='colon3 op'>::</span><span class='RELEASE constant id'>RELEASE</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='colon3 op'>::</span><span class='RELEASE constant id'>RELEASE</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>remove</h3>
</div><div id="remove-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>remove</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Removes the last List.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 950</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L950">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">950
951
952</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='remove identifier id'>remove</span>
  <span class='@stack ivar id'>@stack</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>separator</h3>
</div><div id="separator-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>separator</span><span class='args'>(string)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Add separator in summary.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 1223</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L1223">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1223
1224
1225</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='separator identifier id'>separator</span><span class='lparen token'>(</span><span class='string identifier id'>string</span><span class='rparen token'>)</span>
  <span class='top identifier id'>top</span><span class='dot token'>.</span><span class='append identifier id'>append</span><span class='lparen token'>(</span><span class='string identifier id'>string</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>summarize</h3>
</div><div id="summarize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>summarize</span><span class='args'>(to = [], width = @summary_width, max = width-1, indent = @summary_indent, &amp;blk)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Puts option summary into <tt>to</tt> and returns <tt>to</tt>. Yields each
line if a block is given.
</p>
<table>
<tr><td valign="top"><tt>to</tt>:</td><td>Output destination, which must have method &lt;&lt;. Defaults to [].

</td></tr>
<tr><td valign="top"><tt>width</tt>:</td><td>Width of left side, defaults to @summary_width.

</td></tr>
<tr><td valign="top"><tt>max</tt>:</td><td>Maximum length allowed for left side, defaults to <tt>width</tt> - 1.

</td></tr>
<tr><td valign="top"><tt>indent</tt>:</td><td>Indentation, defaults to @summary_indent.

</td></tr>
</table>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 963</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L963">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">963
964
965
966</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='summarize identifier id'>summarize</span><span class='lparen token'>(</span><span class='to identifier id'>to</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='width identifier id'>width</span> <span class='assign token'>=</span> <span class='@summary_width ivar id'>@summary_width</span><span class='comma token'>,</span> <span class='max identifier id'>max</span> <span class='assign token'>=</span> <span class='width identifier id'>width</span> <span class='minus op'>-</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='indent identifier id'>indent</span> <span class='assign token'>=</span> <span class='@summary_indent ivar id'>@summary_indent</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span>
  <span class='visit identifier id'>visit</span><span class='lparen token'>(</span><span class='symbol val'>:summarize</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='comma token'>,</span> <span class='max identifier id'>max</span><span class='comma token'>,</span> <span class='indent identifier id'>indent</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='lparen token'>(</span><span class='blk identifier id'>blk</span> <span class='orop op'>||</span> <span class='proc identifier id'>proc</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='l identifier id'>l</span><span class='bitor op'>|</span> <span class='to identifier id'>to</span> <span class='lshft op'>&lt;&lt;</span> <span class='l identifier id'>l</span> <span class='plus op'>+</span> <span class='$/ gvar id'>$/</span><span class='rbrace token'>}</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='to identifier id'>to</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>terminate</h3>
</div><div id="terminate-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>terminate</span><span class='args'>(arg = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Terminates option parsing. Optional parameter <tt>arg</tt> is a string
pushed back to be the first non-option argument.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 800</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L800">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">800
801
802</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='terminate identifier id'>terminate</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='terminate identifier id'>terminate</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_a</h3>
</div><div id="to_a-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_a</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns option summary list.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 977</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L977">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">977</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_a identifier id'>to_a</span><span class='semicolon token'>;</span> <span class='summarize identifier id'>summarize</span><span class='lparen token'>(</span><span class='banner identifier id'>banner</span><span class='dot token'>.</span><span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span><span class='rparen token'>)</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>top</h3>
</div><div id="top-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>top</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Subject of #on / #on_head, #accept / #reject
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 924</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L924">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">924
925
926</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='top identifier id'>top</span>
  <span class='@stack ivar id'>@stack</span><span class='lbrack token'>[</span><span class='integer val'>-1</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>ver</h3>
</div><div id="ver-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>ver</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns version string from program_name, version and release.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 905</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L905">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">905
906
907
908
909
910
911</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='ver identifier id'>ver</span>
  <span class='if if kw'>if</span> <span class='v identifier id'>v</span> <span class='assign token'>=</span> <span class='version identifier id'>version</span>
    <span class='str identifier id'>str</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{program_name} #{[v].join('.')}&quot;</span>
    <span class='str identifier id'>str</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot; (#{v})&quot;</span> <span class='if if_mod kw'>if</span> <span class='v identifier id'>v</span> <span class='assign token'>=</span> <span class='release identifier id'>release</span>
    <span class='str identifier id'>str</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>version</h3>
</div><div id="version-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>version</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Version
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 891</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L891">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">891
892
893</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='version identifier id'>version</span>
  <span class='@version ivar id'>@version</span> <span class='orop op'>||</span> <span class='lparen token'>(</span><span class='defined? defined kw'>defined?</span><span class='lparen token'>(</span><span class='colon3 op'>::</span><span class='Version constant id'>Version</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='colon3 op'>::</span><span class='Version constant id'>Version</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>warn</h3>
</div><div id="warn-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>warn</span><span class='args'>(mesg = $!)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/optparse.rb', line 913</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/optparse.rb#L913">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">913
914
915</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='warn identifier id'>warn</span><span class='lparen token'>(</span><span class='mesg identifier id'>mesg</span> <span class='assign token'>=</span> <span class='$! gvar id'>$!</span><span class='rparen token'>)</span>
  <span class='super super kw'>super</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{program_name}: #{mesg}&quot;</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>