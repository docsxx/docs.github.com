<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>evanphx's rubinius - Module: WEBrick::HTTPUtils - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/evanphx/commits/rubinius/master" rel="alternate" title="Recent Commits to rubinius:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("evanphx", "rubinius", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("evanphx", "rubinius", "a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/evanphx/rubinius/tree/">Source</a></li>
            <li class=""><a href="http://github.com/evanphx/rubinius/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/evanphx/rubinius/network">Network</a></li>            
            <li class=""><a href="http://github.com/evanphx/rubinius/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/evanphx/rubinius">Wiki</a></li>
            <li class=""><a href="http://github.com/evanphx/rubinius/graphs">Graphs</a></li>                    
            <li class="active"><a href="/evanphx/rubinius">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/evanphx">evanphx</a> / <b><a href="http://github.com/evanphx/rubinius/tree">rubinius</a></b>        
                <a id="namespaces_button" rel="evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section module WEBrick_HTTPUtils">
  <h1>Module: WEBrick::HTTPUtils</h1>
  <div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="DefaultMimeTypes-constant">DefaultMimeTypes</dt>
      <dd>{
  &quot;ai&quot;    =&gt; &quot;application/postscript&quot;,
  &quot;asc&quot;   =&gt; &quot;text/plain&quot;,
  &quot;avi&quot;   =&gt; &quot;video/x-msvideo&quot;,
  &quot;bin&quot;   =&gt; &quot;application/octet-stream&quot;,
  &quot;bmp&quot;   =&gt; &quot;image/bmp&quot;,
  &quot;class&quot; =&gt; &quot;application/octet-stream&quot;,
  &quot;cer&quot;   =&gt; &quot;application/pkix-cert&quot;,
  &quot;crl&quot;   =&gt; &quot;application/pkix-crl&quot;,
  &quot;crt&quot;   =&gt; &quot;application/x-x509-ca-cert&quot;,
 #&quot;crl&quot;   =&gt; &quot;application/x-pkcs7-crl&quot;,
  &quot;css&quot;   =&gt; &quot;text/css&quot;,
  &quot;dms&quot;   =&gt; &quot;application/octet-stream&quot;,
  &quot;doc&quot;   =&gt; &quot;application/msword&quot;,
  &quot;dvi&quot;   =&gt; &quot;application/x-dvi&quot;,
  &quot;eps&quot;   =&gt; &quot;application/postscript&quot;,
  &quot;etx&quot;   =&gt; &quot;text/x-setext&quot;,
  &quot;exe&quot;   =&gt; &quot;application/octet-stream&quot;,
  &quot;gif&quot;   =&gt; &quot;image/gif&quot;,
  &quot;htm&quot;   =&gt; &quot;text/html&quot;,
  &quot;html&quot;  =&gt; &quot;text/html&quot;,
  &quot;jpe&quot;   =&gt; &quot;image/jpeg&quot;,
  &quot;jpeg&quot;  =&gt; &quot;image/jpeg&quot;,
  &quot;jpg&quot;   =&gt; &quot;image/jpeg&quot;,
  &quot;lha&quot;   =&gt; &quot;application/octet-stream&quot;,
  &quot;lzh&quot;   =&gt; &quot;application/octet-stream&quot;,
  &quot;mov&quot;   =&gt; &quot;video/quicktime&quot;,
  &quot;mpe&quot;   =&gt; &quot;video/mpeg&quot;,
  &quot;mpeg&quot;  =&gt; &quot;video/mpeg&quot;,
  &quot;mpg&quot;   =&gt; &quot;video/mpeg&quot;,
  &quot;pbm&quot;   =&gt; &quot;image/x-portable-bitmap&quot;,
  &quot;pdf&quot;   =&gt; &quot;application/pdf&quot;,
  &quot;pgm&quot;   =&gt; &quot;image/x-portable-graymap&quot;,
  &quot;png&quot;   =&gt; &quot;image/png&quot;,
  &quot;pnm&quot;   =&gt; &quot;image/x-portable-anymap&quot;,
  &quot;ppm&quot;   =&gt; &quot;image/x-portable-pixmap&quot;,
  &quot;ppt&quot;   =&gt; &quot;application/vnd.ms-powerpoint&quot;,
  &quot;ps&quot;    =&gt; &quot;application/postscript&quot;,
  &quot;qt&quot;    =&gt; &quot;video/quicktime&quot;,
  &quot;ras&quot;   =&gt; &quot;image/x-cmu-raster&quot;,
  &quot;rb&quot;    =&gt; &quot;text/plain&quot;,
  &quot;rd&quot;    =&gt; &quot;text/plain&quot;,
  &quot;rtf&quot;   =&gt; &quot;application/rtf&quot;,
  &quot;sgm&quot;   =&gt; &quot;text/sgml&quot;,
  &quot;sgml&quot;  =&gt; &quot;text/sgml&quot;,
  &quot;tif&quot;   =&gt; &quot;image/tiff&quot;,
  &quot;tiff&quot;  =&gt; &quot;image/tiff&quot;,
  &quot;txt&quot;   =&gt; &quot;text/plain&quot;,
  &quot;xbm&quot;   =&gt; &quot;image/x-xbitmap&quot;,
  &quot;xls&quot;   =&gt; &quot;application/vnd.ms-excel&quot;,
  &quot;xml&quot;   =&gt; &quot;text/xml&quot;,
  &quot;xpm&quot;   =&gt; &quot;image/x-xpixmap&quot;,
  &quot;xwd&quot;   =&gt; &quot;image/x-xwindowdump&quot;,
  &quot;zip&quot;   =&gt; &quot;application/zip&quot;,
}</dd>
    
  </dl>
</div>

</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#_make_regex-instance_method">#_make_regex</span><span class='args'>(str)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#dequote-instance_method">#dequote</span><span class='args'>(str)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#load_mime_types-instance_method">#load_mime_types</span><span class='args'>(file)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Load Apache compatible mime.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#mime_type-instance_method">#mime_type</span><span class='args'>(filename, mime_tab)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#normalize_path-instance_method">#normalize_path</span><span class='args'>(path)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#parse_form_data-instance_method">#parse_form_data</span><span class='args'>(io, boundary)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#parse_header-instance_method">#parse_header</span><span class='args'>(raw)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#parse_query-instance_method">#parse_query</span><span class='args'>(str)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#parse_qvalues-instance_method">#parse_qvalues</span><span class='args'>(value)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#parse_range_header-instance_method">#parse_range_header</span><span class='args'>(ranges_specifier)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#quote-instance_method">#quote</span><span class='args'>(str)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#split_header_value-instance_method">#split_header_value</span><span class='args'>(str)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>_make_regex</h3>
</div><div id="_make_regex-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>_make_regex</span><span class='args'>(str)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/webrick/httputils.rb', line 358</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/webrick/httputils.rb#L358">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='_make_regex identifier id'>_make_regex</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span> <span class='div op'>/</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='comment val'>#{Regexp.escape(str)}])/n end</span>
    <span class='def def kw'>def</span> <span class='_make_regex! fid id'>_make_regex!</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span> <span class='div op'>/</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='bitxor op'>^</span><span class='comment val'>#{Regexp.escape(str)}])/n end</span>
    <span class='def def kw'>def</span> <span class='_escape identifier id'>_escape</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='regex identifier id'>regex</span><span class='rparen token'>)</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regex identifier id'>regex</span><span class='rparen token'>)</span><span class='lbrace token'>{</span> <span class='string val'>&quot;%%%02X&quot;</span> <span class='mod op'>%</span> <span class='$1 nth_ref id'>$1</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span> <span class='end end kw'>end</span>
    <span class='def def kw'>def</span> <span class='_unescape identifier id'>_unescape</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='regex identifier id'>regex</span><span class='rparen token'>)</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regex identifier id'>regex</span><span class='rparen token'>)</span><span class='lbrace token'>{</span> <span class='$1 nth_ref id'>$1</span><span class='dot token'>.</span><span class='hex identifier id'>hex</span><span class='dot token'>.</span><span class='chr identifier id'>chr</span> <span class='rbrace token'>}</span> <span class='end end kw'>end</span>

    <span class='UNESCAPED constant id'>UNESCAPED</span> <span class='assign token'>=</span> <span class='_make_regex identifier id'>_make_regex</span><span class='lparen token'>(</span><span class='control identifier id'>control</span><span class='plus op'>+</span><span class='space identifier id'>space</span><span class='plus op'>+</span><span class='delims identifier id'>delims</span><span class='plus op'>+</span><span class='unwise identifier id'>unwise</span><span class='plus op'>+</span><span class='nonascii identifier id'>nonascii</span><span class='rparen token'>)</span>
    <span class='UNESCAPED_FORM constant id'>UNESCAPED_FORM</span> <span class='assign token'>=</span> <span class='_make_regex identifier id'>_make_regex</span><span class='lparen token'>(</span><span class='reserved identifier id'>reserved</span><span class='plus op'>+</span><span class='control identifier id'>control</span><span class='plus op'>+</span><span class='delims identifier id'>delims</span><span class='plus op'>+</span><span class='unwise identifier id'>unwise</span><span class='plus op'>+</span><span class='nonascii identifier id'>nonascii</span><span class='rparen token'>)</span>
    <span class='NONASCII constant id'>NONASCII</span>  <span class='assign token'>=</span> <span class='_make_regex identifier id'>_make_regex</span><span class='lparen token'>(</span><span class='nonascii identifier id'>nonascii</span><span class='rparen token'>)</span>
    <span class='ESCAPED constant id'>ESCAPED</span>   <span class='assign token'>=</span> <span class='regexp val'>/%([0-9a-fA-F]{2})/</span>
    <span class='UNESCAPED_PCHAR constant id'>UNESCAPED_PCHAR</span> <span class='assign token'>=</span> <span class='_make_regex! fid id'>_make_regex!</span><span class='lparen token'>(</span><span class='unreserved identifier id'>unreserved</span><span class='plus op'>+</span><span class='string val'>&quot;:@&amp;=+$,&quot;</span><span class='rparen token'>)</span>

    <span class='def def kw'>def</span> <span class='escape identifier id'>escape</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>
      <span class='_escape identifier id'>_escape</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='UNESCAPED constant id'>UNESCAPED</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='unescape identifier id'>unescape</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>
      <span class='_unescape identifier id'>_unescape</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='ESCAPED constant id'>ESCAPED</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='escape_form identifier id'>escape_form</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>
      <span class='ret identifier id'>ret</span> <span class='assign token'>=</span> <span class='_escape identifier id'>_escape</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='UNESCAPED_FORM constant id'>UNESCAPED_FORM</span><span class='rparen token'>)</span>
      <span class='ret identifier id'>ret</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span><span class='regexp val'>/ /</span><span class='comma token'>,</span> <span class='string val'>&quot;+&quot;</span><span class='rparen token'>)</span>
      <span class='ret identifier id'>ret</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='unescape_form identifier id'>unescape_form</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>
      <span class='_unescape identifier id'>_unescape</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/\+/</span><span class='comma token'>,</span> <span class='string val'>&quot; &quot;</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='ESCAPED constant id'>ESCAPED</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='escape_path identifier id'>escape_path</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>
      <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='string val'>&quot;&quot;</span>
      <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='scan identifier id'>scan</span><span class='lparen token'>(</span><span class='regexp val'>%r{/([^/]*)}</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
        <span class='result identifier id'>result</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;/&quot;</span> <span class='lshft op'>&lt;&lt;</span> <span class='_escape identifier id'>_escape</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='UNESCAPED_PCHAR constant id'>UNESCAPED_PCHAR</span><span class='rparen token'>)</span>
      <span class='rbrace token'>}</span>
      <span class='return return kw'>return</span> <span class='result identifier id'>result</span>
    <span class='end end kw'>end</span>

    <span class='def def kw'>def</span> <span class='escape8bit identifier id'>escape8bit</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>
      <span class='_escape identifier id'>_escape</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='comma token'>,</span> <span class='NONASCII constant id'>NONASCII</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>dequote</h3>
</div><div id="dequote-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>dequote</span><span class='args'>(str)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/webrick/httputils.rb', line 197</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/webrick/httputils.rb#L197">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">197
198
199
200
201</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='dequote identifier id'>dequote</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>
  <span class='ret identifier id'>ret</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='regexp val'>/\A&quot;(.*)&quot;\Z/</span> <span class='match op'>=~</span> <span class='str identifier id'>str</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='$1 nth_ref id'>$1</span> <span class='colon op'>:</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
  <span class='ret identifier id'>ret</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span><span class='regexp val'>/\\(.)/</span><span class='comma token'>,</span> <span class='string val'>&quot;\\1&quot;</span><span class='rparen token'>)</span>
  <span class='ret identifier id'>ret</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>load_mime_types</h3>
</div><div id="load_mime_types-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>load_mime_types</span><span class='args'>(file)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Load Apache compatible mime.types file.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/webrick/httputils.rb', line 101</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/webrick/httputils.rb#L101">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">101
102
103
104
105
106
107
108
109
110
111
112
113
114</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='load_mime_types identifier id'>load_mime_types</span><span class='lparen token'>(</span><span class='file identifier id'>file</span><span class='rparen token'>)</span>
  <span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='file identifier id'>file</span><span class='rparen token'>)</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='io identifier id'>io</span><span class='bitor op'>|</span>
    <span class='hash identifier id'>hash</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
    <span class='io identifier id'>io</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='line identifier id'>line</span><span class='bitor op'>|</span>
      <span class='next next kw'>next</span> <span class='if if_mod kw'>if</span> <span class='regexp val'>/^#/</span> <span class='match op'>=~</span> <span class='line identifier id'>line</span>
      <span class='line identifier id'>line</span><span class='dot token'>.</span><span class='chomp! fid id'>chomp!</span>
      <span class='mimetype identifier id'>mimetype</span><span class='comma token'>,</span> <span class='ext0 identifier id'>ext0</span> <span class='assign token'>=</span> <span class='line identifier id'>line</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>/\s+/</span><span class='comma token'>,</span> <span class='integer val'>2</span><span class='rparen token'>)</span>
      <span class='next next kw'>next</span> <span class='unless unless_mod kw'>unless</span> <span class='ext0 identifier id'>ext0</span>   
      <span class='next next kw'>next</span> <span class='if if_mod kw'>if</span> <span class='ext0 identifier id'>ext0</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
      <span class='ext0 identifier id'>ext0</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>/\s+/</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='ext identifier id'>ext</span><span class='bitor op'>|</span> <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='ext identifier id'>ext</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='mimetype identifier id'>mimetype</span> <span class='rbrace token'>}</span>
    <span class='rbrace token'>}</span>
    <span class='hash identifier id'>hash</span>
  <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>mime_type</h3>
</div><div id="mime_type-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>mime_type</span><span class='args'>(filename, mime_tab)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/webrick/httputils.rb', line 117</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/webrick/httputils.rb#L117">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">117
118
119
120
121</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='mime_type identifier id'>mime_type</span><span class='lparen token'>(</span><span class='filename identifier id'>filename</span><span class='comma token'>,</span> <span class='mime_tab identifier id'>mime_tab</span><span class='rparen token'>)</span>
  <span class='suffix1 identifier id'>suffix1</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='regexp val'>/\.(\w+)$/</span> <span class='match op'>=~</span> <span class='filename identifier id'>filename</span> <span class='andop op'>&amp;&amp;</span> <span class='$1 nth_ref id'>$1</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span><span class='rparen token'>)</span>
  <span class='suffix2 identifier id'>suffix2</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='regexp val'>/\.(\w+)\.[\w\-]+$/</span> <span class='match op'>=~</span> <span class='filename identifier id'>filename</span> <span class='andop op'>&amp;&amp;</span> <span class='$1 nth_ref id'>$1</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span><span class='rparen token'>)</span>
  <span class='mime_tab identifier id'>mime_tab</span><span class='lbrack token'>[</span><span class='suffix1 identifier id'>suffix1</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='mime_tab identifier id'>mime_tab</span><span class='lbrack token'>[</span><span class='suffix2 identifier id'>suffix2</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='string val'>&quot;application/octet-stream&quot;</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>normalize_path</h3>
</div><div id="normalize_path-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>normalize_path</span><span class='args'>(path)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/webrick/httputils.rb', line 21</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/webrick/httputils.rb#L21">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='normalize_path identifier id'>normalize_path</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;abnormal path `#{path}'&quot;</span> <span class='if if_mod kw'>if</span> <span class='path identifier id'>path</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='neq op'>!=</span> <span class='integer val'>?/</span>
  <span class='ret identifier id'>ret</span> <span class='assign token'>=</span> <span class='path identifier id'>path</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>

  <span class='ret identifier id'>ret</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span><span class='regexp val'>%r{/+}o</span><span class='comma token'>,</span> <span class='string val'>'/'</span><span class='rparen token'>)</span>                    <span class='comment val'># //      =&gt; /</span>
  <span class='while while kw'>while</span> <span class='ret identifier id'>ret</span><span class='dot token'>.</span><span class='sub! fid id'>sub!</span><span class='lparen token'>(</span><span class='regexp val'>%r{/\.(/|\Z)}o</span><span class='comma token'>,</span> <span class='string val'>'/'</span><span class='rparen token'>)</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>   <span class='comment val'># /.      =&gt; /</span>
  <span class='begin begin kw'>begin</span>                                      <span class='comment val'># /foo/.. =&gt; /foo</span>
    <span class='match identifier id'>match</span> <span class='assign token'>=</span> <span class='ret identifier id'>ret</span><span class='dot token'>.</span><span class='sub! fid id'>sub!</span><span class='lparen token'>(</span><span class='regexp val'>%r{/([^/]+)/\.\.(/|\Z)}o</span><span class='rparen token'>)</span><span class='lbrace token'>{</span>
      <span class='if if kw'>if</span> <span class='$1 nth_ref id'>$1</span> <span class='eq op'>==</span> <span class='string val'>&quot;..&quot;</span>
        <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;abnormal path `#{path}'&quot;</span>
      <span class='else else kw'>else</span>
        <span class='string val'>&quot;/&quot;</span>
      <span class='end end kw'>end</span>
    <span class='rbrace token'>}</span>
  <span class='end end kw'>end</span> <span class='while while_mod kw'>while</span> <span class='match identifier id'>match</span>

  <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;abnormal path `#{path}'&quot;</span> <span class='if if_mod kw'>if</span> <span class='regexp val'>%r{/\.\.(/|\Z)}</span> <span class='match op'>=~</span> <span class='ret identifier id'>ret</span>
  <span class='ret identifier id'>ret</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>parse_form_data</h3>
</div><div id="parse_form_data-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>parse_form_data</span><span class='args'>(io, boundary)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/webrick/httputils.rb', line 314</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/webrick/httputils.rb#L314">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='parse_form_data identifier id'>parse_form_data</span><span class='lparen token'>(</span><span class='io identifier id'>io</span><span class='comma token'>,</span> <span class='boundary identifier id'>boundary</span><span class='rparen token'>)</span>
  <span class='boundary_regexp identifier id'>boundary_regexp</span> <span class='assign token'>=</span> <span class='dregexp node'>/\A--#{boundary}(--)?#{CRLF}\z/</span>
  <span class='form_data identifier id'>form_data</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='return return kw'>return</span> <span class='form_data identifier id'>form_data</span> <span class='unless unless_mod kw'>unless</span> <span class='io identifier id'>io</span>
  <span class='data identifier id'>data</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='io identifier id'>io</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='line identifier id'>line</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='boundary_regexp identifier id'>boundary_regexp</span> <span class='match op'>=~</span> <span class='line identifier id'>line</span>
      <span class='if if kw'>if</span> <span class='data identifier id'>data</span>
        <span class='data identifier id'>data</span><span class='dot token'>.</span><span class='chop! fid id'>chop!</span>
        <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='data identifier id'>data</span><span class='dot token'>.</span><span class='name identifier id'>name</span>
        <span class='if if kw'>if</span> <span class='form_data identifier id'>form_data</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span>
          <span class='form_data identifier id'>form_data</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='append_data identifier id'>append_data</span><span class='lparen token'>(</span><span class='data identifier id'>data</span><span class='rparen token'>)</span>
        <span class='else else kw'>else</span>
          <span class='form_data identifier id'>form_data</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='data identifier id'>data</span> 
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
      <span class='data identifier id'>data</span> <span class='assign token'>=</span> <span class='FormData constant id'>FormData</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
      <span class='next next kw'>next</span>
    <span class='else else kw'>else</span>
      <span class='if if kw'>if</span> <span class='data identifier id'>data</span>
        <span class='data identifier id'>data</span> <span class='lshft op'>&lt;&lt;</span> <span class='line identifier id'>line</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='rbrace token'>}</span>
  <span class='return return kw'>return</span> <span class='form_data identifier id'>form_data</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>parse_header</h3>
</div><div id="parse_header-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>parse_header</span><span class='args'>(raw)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/webrick/httputils.rb', line 126</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/webrick/httputils.rb#L126">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='parse_header identifier id'>parse_header</span><span class='lparen token'>(</span><span class='raw identifier id'>raw</span><span class='rparen token'>)</span>
  <span class='header identifier id'>header</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='freeze identifier id'>freeze</span><span class='rparen token'>)</span>
  <span class='field identifier id'>field</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='raw identifier id'>raw</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='line identifier id'>line</span><span class='bitor op'>|</span>
    <span class='case case kw'>case</span> <span class='line identifier id'>line</span>
    <span class='when when kw'>when</span> <span class='regexp val'>/^([A-Za-z0-9!\#$%&amp;'*+\-.^_`|~]+):\s*(.*?)\s*\z/o</span><span class='m identifier id'>m</span>
      <span class='field identifier id'>field</span><span class='comma token'>,</span> <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span><span class='comma token'>,</span> <span class='$2 nth_ref id'>$2</span>
      <span class='field identifier id'>field</span><span class='dot token'>.</span><span class='downcase! fid id'>downcase!</span>
      <span class='header identifier id'>header</span><span class='lbrack token'>[</span><span class='field identifier id'>field</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span> <span class='unless unless_mod kw'>unless</span> <span class='header identifier id'>header</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='field identifier id'>field</span><span class='rparen token'>)</span>
      <span class='header identifier id'>header</span><span class='lbrack token'>[</span><span class='field identifier id'>field</span><span class='rbrack token'>]</span> <span class='lshft op'>&lt;&lt;</span> <span class='value identifier id'>value</span>
    <span class='when when kw'>when</span> <span class='regexp val'>/^\s+(.*?)\s*\z/o</span><span class='m identifier id'>m</span>
      <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span>
      <span class='unless unless kw'>unless</span> <span class='field identifier id'>field</span>
        <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;bad header '#{line.inspect}'.&quot;</span>
      <span class='end end kw'>end</span>
      <span class='header identifier id'>header</span><span class='lbrack token'>[</span><span class='field identifier id'>field</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='integer val'>-1</span><span class='rbrack token'>]</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot; &quot;</span> <span class='lshft op'>&lt;&lt;</span> <span class='value identifier id'>value</span>
    <span class='else else kw'>else</span>
      <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;bad header '#{line.inspect}'.&quot;</span>
    <span class='end end kw'>end</span>
  <span class='rbrace token'>}</span>
  <span class='header identifier id'>header</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='values identifier id'>values</span><span class='bitor op'>|</span>
    <span class='values identifier id'>values</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='value identifier id'>value</span><span class='bitor op'>|</span>
      <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='strip! fid id'>strip!</span>
      <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span><span class='regexp val'>/\s+/</span><span class='comma token'>,</span> <span class='string val'>&quot; &quot;</span><span class='rparen token'>)</span>
    <span class='rbrace token'>}</span>
  <span class='rbrace token'>}</span>
  <span class='header identifier id'>header</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>parse_query</h3>
</div><div id="parse_query-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>parse_query</span><span class='args'>(str)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/webrick/httputils.rb', line 293</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/webrick/httputils.rb#L293">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='parse_query identifier id'>parse_query</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>
  <span class='query identifier id'>query</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='if if kw'>if</span> <span class='str identifier id'>str</span>
    <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>/[&amp;;]/</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span>
      <span class='next next kw'>next</span> <span class='if if_mod kw'>if</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span> 
      <span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>/=/</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rparen token'>)</span>
      <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='unescape_form identifier id'>unescape_form</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span>
      <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='unescape_form identifier id'>unescape_form</span><span class='lparen token'>(</span><span class='val identifier id'>val</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
      <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='FormData constant id'>FormData</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='val identifier id'>val</span><span class='rparen token'>)</span>
      <span class='val identifier id'>val</span><span class='dot token'>.</span><span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='key identifier id'>key</span>
      <span class='if if kw'>if</span> <span class='query identifier id'>query</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span>
        <span class='query identifier id'>query</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='append_data identifier id'>append_data</span><span class='lparen token'>(</span><span class='val identifier id'>val</span><span class='rparen token'>)</span>
        <span class='next next kw'>next</span>
      <span class='end end kw'>end</span>
      <span class='query identifier id'>query</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='val identifier id'>val</span>
    <span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
  <span class='query identifier id'>query</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>parse_qvalues</h3>
</div><div id="parse_qvalues-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>parse_qvalues</span><span class='args'>(value)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/webrick/httputils.rb', line 177</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/webrick/httputils.rb#L177">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='parse_qvalues identifier id'>parse_qvalues</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='tmp identifier id'>tmp</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='if if kw'>if</span> <span class='value identifier id'>value</span>
    <span class='parts identifier id'>parts</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>/,\s*/</span><span class='rparen token'>)</span>
    <span class='parts identifier id'>parts</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='part identifier id'>part</span><span class='bitor op'>|</span>
      <span class='if if kw'>if</span> <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='regexp val'>%r{^([^\s,]+?)(?:;\s*q=(\d+(?:\.\d+)?))?$}</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='part identifier id'>part</span><span class='rparen token'>)</span>
        <span class='val identifier id'>val</span> <span class='assign token'>=</span> <span class='m identifier id'>m</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
        <span class='q identifier id'>q</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span> <span class='or or kw'>or</span> <span class='integer val'>1</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span>
        <span class='tmp identifier id'>tmp</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='val identifier id'>val</span><span class='comma token'>,</span> <span class='q identifier id'>q</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='rbrace token'>}</span>
    <span class='tmp identifier id'>tmp</span> <span class='assign token'>=</span> <span class='tmp identifier id'>tmp</span><span class='dot token'>.</span><span class='sort_by identifier id'>sort_by</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='val identifier id'>val</span><span class='comma token'>,</span> <span class='q identifier id'>q</span><span class='bitor op'>|</span> <span class='minus op'>-</span><span class='q identifier id'>q</span><span class='rbrace token'>}</span>
    <span class='tmp identifier id'>tmp</span><span class='dot token'>.</span><span class='collect! fid id'>collect!</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='val identifier id'>val</span><span class='comma token'>,</span> <span class='q identifier id'>q</span><span class='bitor op'>|</span> <span class='val identifier id'>val</span><span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
  <span class='return return kw'>return</span> <span class='tmp identifier id'>tmp</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>parse_range_header</h3>
</div><div id="parse_range_header-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>parse_range_header</span><span class='args'>(ranges_specifier)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/webrick/httputils.rb', line 162</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/webrick/httputils.rb#L162">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">162
163
164
165
166
167
168
169
170
171
172
173
174</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='parse_range_header identifier id'>parse_range_header</span><span class='lparen token'>(</span><span class='ranges_specifier identifier id'>ranges_specifier</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='regexp val'>/^bytes=(.*)/</span> <span class='match op'>=~</span> <span class='ranges_specifier identifier id'>ranges_specifier</span>
    <span class='byte_range_set identifier id'>byte_range_set</span> <span class='assign token'>=</span> <span class='split_header_value identifier id'>split_header_value</span><span class='lparen token'>(</span><span class='$1 nth_ref id'>$1</span><span class='rparen token'>)</span>
    <span class='byte_range_set identifier id'>byte_range_set</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='range_spec identifier id'>range_spec</span><span class='bitor op'>|</span>
      <span class='case case kw'>case</span> <span class='range_spec identifier id'>range_spec</span>
      <span class='when when kw'>when</span> <span class='regexp val'>/^(\d+)-(\d+)/</span> <span class='then then kw'>then</span> <span class='$1 nth_ref id'>$1</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span> <span class='dot2 op'>..</span> <span class='$2 nth_ref id'>$2</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
      <span class='when when kw'>when</span> <span class='regexp val'>/^(\d+)-/</span>      <span class='then then kw'>then</span> <span class='$1 nth_ref id'>$1</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span> <span class='dot2 op'>..</span> <span class='integer val'>-1</span>
      <span class='when when kw'>when</span> <span class='regexp val'>/^-(\d+)/</span>      <span class='then then kw'>then</span> <span class='minus op'>-</span><span class='lparen token'>(</span><span class='$1 nth_ref id'>$1</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span><span class='rparen token'>)</span> <span class='dot2 op'>..</span> <span class='integer val'>-1</span>
      <span class='else else kw'>else</span> <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span>
      <span class='end end kw'>end</span>
    <span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>quote</h3>
</div><div id="quote-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>quote</span><span class='args'>(str)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/webrick/httputils.rb', line 204</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/webrick/httputils.rb#L204">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">204
205
206</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='quote identifier id'>quote</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>
  <span class='string val'>'&quot;'</span> <span class='lshft op'>&lt;&lt;</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/[\\\&quot;]/o</span><span class='comma token'>,</span> <span class='string val'>&quot;\\\1&quot;</span><span class='rparen token'>)</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>'&quot;'</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>split_header_value</h3>
</div><div id="split_header_value-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>split_header_value</span><span class='args'>(str)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/webrick/httputils.rb', line 156</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/webrick/httputils.rb#L156">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">156
157
158
159</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='split_header_value identifier id'>split_header_value</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>
  <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='scan identifier id'>scan</span><span class='lparen token'>(</span><span class='regexp val'>/((?:&quot;(?:\\.|[^&quot;])+?&quot;|[^&quot;,]+)+)
            (?:,\s*|\Z)/</span><span class='xn identifier id'>xn</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='v identifier id'>v</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>