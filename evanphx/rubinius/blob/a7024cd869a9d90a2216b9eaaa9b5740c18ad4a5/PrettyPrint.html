<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>evanphx's rubinius - Class: PrettyPrint - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/evanphx/commits/rubinius/master" rel="alternate" title="Recent Commits to rubinius:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("evanphx", "rubinius", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("evanphx", "rubinius", "a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/evanphx/rubinius/tree/">Source</a></li>
            <li class=""><a href="http://github.com/evanphx/rubinius/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/evanphx/rubinius/network">Network</a></li>            
            <li class=""><a href="http://github.com/evanphx/rubinius/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/evanphx/rubinius">Wiki</a></li>
            <li class=""><a href="http://github.com/evanphx/rubinius/graphs">Graphs</a></li>                    
            <li class="active"><a href="/evanphx/rubinius">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/evanphx">evanphx</a> / <b><a href="http://github.com/evanphx/rubinius/tree">rubinius</a></b>        
                <a id="namespaces_button" rel="evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class PrettyPrint">
  <h1>Class: PrettyPrint</h1>
  <div class="section docstring">
  <p>
nice indentations for grouped structure.
</p>
<p>
By default, the class assumes that primitive elements are strings and each
byte in the strings have single column in width. But it can be used for
other situations by giving suitable arguments for some methods:
</p>
<ul>
<li>newline object and space generation block for PrettyPrint.new

</li>
<li>optional width argument for PrettyPrint#text

</li>
<li>PrettyPrint#breakable

</li>
</ul>
<p>
There are several candidate uses:
</p>
<ul>
<li>text formatting using proportional fonts

</li>
<li>multibyte characters which has columns different to number of bytes

</li>
<li>non-string formatting

</li>
</ul>
<h2>Bugs</h2>
<ul>
<li>Box based formatting?

</li>
<li>Other (better) model/algorithm?

</li>
</ul>
<h2>References</h2>
<p>
Christian Lindig, Strictly Pretty, March 2000,
http://www.st.cs.uni-sb.de/~lindig/papers/#pretty
</p>
<p>
Philip Wadler, A prettier printer, March 1998,
http://homepages.inf.ed.ac.uk/wadler/topics/language-design.html#prettier
</p>
<h2>Author</h2>
<p>
Tanaka Akira &lt;akr@m17n.org&gt;
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">genspace</td>
          <td class="readwrite">
            [<span id='genspace-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>genspace</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">group_queue</td>
          <td class="readwrite">
            [<span id='group_queue-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>group_queue</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">indent</td>
          <td class="readwrite">
            [<span id='indent-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>indent</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">maxwidth</td>
          <td class="readwrite">
            [<span id='maxwidth-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>maxwidth</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">newline</td>
          <td class="readwrite">
            [<span id='newline-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>newline</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">output</td>
          <td class="readwrite">
            [<span id='output-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>output</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(output = '', maxwidth = 79, newline = &quot;\n&quot;, &amp;genspace)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Creates a buffer for pretty printing.
</p>
<p>
<tt>output</tt> is an output target. If it is not specified, &#8217;&#8217;
is assumed. It should have a &lt;&lt; method which accepts the first
argument <tt>obj</tt> of PrettyPrint#text, the first argument <tt>sep</tt>
of PrettyPrint#breakable, the first argument <tt>newline</tt> of
PrettyPrint.new, and the result of a given block for PrettyPrint.new.
</p>
<p>
<tt>maxwidth</tt> specifies maximum line length. If it is not specified, 79
is assumed. However actual outputs may overflow <tt>maxwidth</tt> if long
non-breakable texts are provided.
</p>
<p>
<tt>newline</tt> is used for line breaks. &quot;\n&quot; is used if it is
not specified.
</p>
<p>
The block is used to generate spaces. <tt>&amp;#8217; &amp;#8217; * width</tt> is
used if it is not given.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/prettyprint.rb', line 80</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/prettyprint.rb#L80">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">80
81
82
83
84
85
86
87
88
89
90
91
92
93
94</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='output identifier id'>output</span><span class='assign token'>=</span><span class='string val'>''</span><span class='comma token'>,</span> <span class='maxwidth identifier id'>maxwidth</span><span class='assign token'>=</span><span class='integer val'>79</span><span class='comma token'>,</span> <span class='newline identifier id'>newline</span><span class='assign token'>=</span><span class='string val'>&quot;\n&quot;</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='genspace identifier id'>genspace</span><span class='rparen token'>)</span>
  <span class='@output ivar id'>@output</span> <span class='assign token'>=</span> <span class='output identifier id'>output</span>
  <span class='@maxwidth ivar id'>@maxwidth</span> <span class='assign token'>=</span> <span class='maxwidth identifier id'>maxwidth</span>
  <span class='@newline ivar id'>@newline</span> <span class='assign token'>=</span> <span class='newline identifier id'>newline</span>
  <span class='@genspace ivar id'>@genspace</span> <span class='assign token'>=</span> <span class='genspace identifier id'>genspace</span> <span class='orop op'>||</span> <span class='lambda identifier id'>lambda</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='n identifier id'>n</span><span class='bitor op'>|</span> <span class='string val'>' '</span> <span class='mult op'>*</span> <span class='n identifier id'>n</span><span class='rbrace token'>}</span>

  <span class='@output_width ivar id'>@output_width</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='@buffer_width ivar id'>@buffer_width</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='@buffer ivar id'>@buffer</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>

  <span class='root_group identifier id'>root_group</span> <span class='assign token'>=</span> <span class='Group constant id'>Group</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span>
  <span class='@group_stack ivar id'>@group_stack</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='root_group identifier id'>root_group</span><span class='rbrack token'>]</span>
  <span class='@group_queue ivar id'>@group_queue</span> <span class='assign token'>=</span> <span class='GroupQueue constant id'>GroupQueue</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='root_group identifier id'>root_group</span><span class='rparen token'>)</span>
  <span class='@indent ivar id'>@indent</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#format-class_method">format</span><span class='args'>(output = '', maxwidth = 79, newline = &quot;\n&quot;, genspace = lambda{|n| ' ' * n})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
This is a convenience method which is same as follows:.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#singleline_format-class_method">singleline_format</span><span class='args'>(output = '', maxwidth = nil, newline = nil, genspace = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
This is similar to PrettyPrint::format but the result has no breaks.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#break_outmost_groups-instance_method">#break_outmost_groups</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#breakable-instance_method">#breakable</span><span class='args'>(sep = ' ', width = sep.length)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
This tells &quot;you can break a line here if necessary&quot;, and a
<tt>width</tt>\-column text <tt>sep</tt> is inserted if a line is not
broken at the point.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#current_group-instance_method">#current_group</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#fill_breakable-instance_method">#fill_breakable</span><span class='args'>(sep = ' ', width = sep.length)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#first-3F-instance_method">#first?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
first? is a predicate to test the call is a first call to first? with
current group.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#flush-instance_method">#flush</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
outputs buffered data.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#group-instance_method">#group</span><span class='args'>(indent = 0, open_obj = '', close_obj = '', open_width = open_obj.length, close_width = close_obj.length)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Groups line break hints added in the block.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#group_sub-instance_method">#group_sub</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#nest-instance_method">#nest</span><span class='args'>(indent)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Increases left margin after newline with <tt>indent</tt> for line breaks
added in the block.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#text-instance_method">#text</span><span class='args'>(obj, width = obj.length)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
This adds <tt>obj</tt> as a text of <tt>width</tt> columns in width.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>format</h3>
</div><div id="format-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>format</span><span class='args'>(output = '', maxwidth = 79, newline = &quot;\n&quot;, genspace = lambda{|n| ' ' * n})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This is a convenience method which is same as follows:
</p>
<pre class="code">
  <span class='begin begin kw'>begin</span>
    <span class='q identifier id'>q</span> <span class='assign token'>=</span> <span class='PrettyPrint constant id'>PrettyPrint</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='output identifier id'>output</span><span class='comma token'>,</span> <span class='maxwidth identifier id'>maxwidth</span><span class='comma token'>,</span> <span class='newline identifier id'>newline</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='genspace identifier id'>genspace</span><span class='rparen token'>)</span>
    <span class='dot3 op'>...</span>
    <span class='q identifier id'>q</span><span class='dot token'>.</span><span class='flush identifier id'>flush</span>
    <span class='output identifier id'>output</span>
  <span class='end end kw'>end</span>
</pre>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/prettyprint.rb', line 43</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/prettyprint.rb#L43">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">43
44
45
46
47
48</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='PrettyPrint constant id'>PrettyPrint</span><span class='dot token'>.</span><span class='format identifier id'>format</span><span class='lparen token'>(</span><span class='output identifier id'>output</span><span class='assign token'>=</span><span class='string val'>''</span><span class='comma token'>,</span> <span class='maxwidth identifier id'>maxwidth</span><span class='assign token'>=</span><span class='integer val'>79</span><span class='comma token'>,</span> <span class='newline identifier id'>newline</span><span class='assign token'>=</span><span class='string val'>&quot;\n&quot;</span><span class='comma token'>,</span> <span class='genspace identifier id'>genspace</span><span class='assign token'>=</span><span class='lambda identifier id'>lambda</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='n identifier id'>n</span><span class='bitor op'>|</span> <span class='string val'>' '</span> <span class='mult op'>*</span> <span class='n identifier id'>n</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='q identifier id'>q</span> <span class='assign token'>=</span> <span class='PrettyPrint constant id'>PrettyPrint</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='output identifier id'>output</span><span class='comma token'>,</span> <span class='maxwidth identifier id'>maxwidth</span><span class='comma token'>,</span> <span class='newline identifier id'>newline</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='genspace identifier id'>genspace</span><span class='rparen token'>)</span>
  <span class='yield yield kw'>yield</span> <span class='q identifier id'>q</span>
  <span class='q identifier id'>q</span><span class='dot token'>.</span><span class='flush identifier id'>flush</span>
  <span class='output identifier id'>output</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>singleline_format</h3>
</div><div id="singleline_format-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>singleline_format</span><span class='args'>(output = '', maxwidth = nil, newline = nil, genspace = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This is similar to PrettyPrint::format but the result has no breaks.
</p>
<p>
<tt>maxwidth</tt>, <tt>newline</tt> and <tt>genspace</tt> are ignored.
</p>
<p>
The invocation of <tt>breakable</tt> in the block doesn&#8217;t break a
line and is treated as just an invocation of <tt>text</tt>.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/prettyprint.rb', line 57</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/prettyprint.rb#L57">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">57
58
59
60
61</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='PrettyPrint constant id'>PrettyPrint</span><span class='dot token'>.</span><span class='singleline_format identifier id'>singleline_format</span><span class='lparen token'>(</span><span class='output identifier id'>output</span><span class='assign token'>=</span><span class='string val'>''</span><span class='comma token'>,</span> <span class='maxwidth identifier id'>maxwidth</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='newline identifier id'>newline</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='genspace identifier id'>genspace</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='q identifier id'>q</span> <span class='assign token'>=</span> <span class='SingleLine constant id'>SingleLine</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='output identifier id'>output</span><span class='rparen token'>)</span>
  <span class='yield yield kw'>yield</span> <span class='q identifier id'>q</span>
  <span class='output identifier id'>output</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>break_outmost_groups</h3>
</div><div id="break_outmost_groups-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>break_outmost_groups</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/prettyprint.rb', line 124</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/prettyprint.rb#L124">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">124
125
126
127
128
129
130
131
132
133
134
135
136
137
138</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='break_outmost_groups identifier id'>break_outmost_groups</span>
  <span class='while while kw'>while</span> <span class='@maxwidth ivar id'>@maxwidth</span> <span class='lt op'>&lt;</span> <span class='@output_width ivar id'>@output_width</span> <span class='plus op'>+</span> <span class='@buffer_width ivar id'>@buffer_width</span>
    <span class='return return kw'>return</span> <span class='unless unless_mod kw'>unless</span> <span class='group identifier id'>group</span> <span class='assign token'>=</span> <span class='@group_queue ivar id'>@group_queue</span><span class='dot token'>.</span><span class='deq identifier id'>deq</span>
    <span class='until until kw'>until</span> <span class='group identifier id'>group</span><span class='dot token'>.</span><span class='breakables identifier id'>breakables</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
      <span class='data identifier id'>data</span> <span class='assign token'>=</span> <span class='@buffer ivar id'>@buffer</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span>
      <span class='@output_width ivar id'>@output_width</span> <span class='assign token'>=</span> <span class='data identifier id'>data</span><span class='dot token'>.</span><span class='output identifier id'>output</span><span class='lparen token'>(</span><span class='@output ivar id'>@output</span><span class='comma token'>,</span> <span class='@output_width ivar id'>@output_width</span><span class='rparen token'>)</span>
      <span class='@buffer_width ivar id'>@buffer_width</span> <span class='opasgn op'>-=</span> <span class='data identifier id'>data</span><span class='dot token'>.</span><span class='width identifier id'>width</span>
    <span class='end end kw'>end</span>
    <span class='while while kw'>while</span> <span class='notop op'>!</span><span class='@buffer ivar id'>@buffer</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span> <span class='andop op'>&amp;&amp;</span> <span class='Text constant id'>Text</span> <span class='eqq op'>===</span> <span class='@buffer ivar id'>@buffer</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
      <span class='text identifier id'>text</span> <span class='assign token'>=</span> <span class='@buffer ivar id'>@buffer</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span>
      <span class='@output_width ivar id'>@output_width</span> <span class='assign token'>=</span> <span class='text identifier id'>text</span><span class='dot token'>.</span><span class='output identifier id'>output</span><span class='lparen token'>(</span><span class='@output ivar id'>@output</span><span class='comma token'>,</span> <span class='@output_width ivar id'>@output_width</span><span class='rparen token'>)</span>
      <span class='@buffer_width ivar id'>@buffer_width</span> <span class='opasgn op'>-=</span> <span class='text identifier id'>text</span><span class='dot token'>.</span><span class='width identifier id'>width</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>breakable</h3>
</div><div id="breakable-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>breakable</span><span class='args'>(sep = ' ', width = sep.length)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This tells &quot;you can break a line here if necessary&quot;, and a
<tt>width</tt>\-column text <tt>sep</tt> is inserted if a line is not
broken at the point.
</p>
<p>
If <tt>sep</tt> is not specified, &quot; &quot; is used.
</p>
<p>
If <tt>width</tt> is not specified, <tt>sep.length</tt> is used. You will have to
specify this when <tt>sep</tt> is a multibyte character, for example.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/prettyprint.rb', line 172</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/prettyprint.rb#L172">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">172
173
174
175
176
177
178
179
180
181
182
183
184
185</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='breakable identifier id'>breakable</span><span class='lparen token'>(</span><span class='sep identifier id'>sep</span><span class='assign token'>=</span><span class='string val'>' '</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='assign token'>=</span><span class='sep identifier id'>sep</span><span class='dot token'>.</span><span class='length identifier id'>length</span><span class='rparen token'>)</span>
  <span class='group identifier id'>group</span> <span class='assign token'>=</span> <span class='@group_stack ivar id'>@group_stack</span><span class='dot token'>.</span><span class='last identifier id'>last</span>
  <span class='if if kw'>if</span> <span class='group identifier id'>group</span><span class='dot token'>.</span><span class='break? fid id'>break?</span>
    <span class='flush identifier id'>flush</span>
    <span class='@output ivar id'>@output</span> <span class='lshft op'>&lt;&lt;</span> <span class='@newline ivar id'>@newline</span>
    <span class='@output ivar id'>@output</span> <span class='lshft op'>&lt;&lt;</span> <span class='@genspace ivar id'>@genspace</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='@indent ivar id'>@indent</span><span class='rparen token'>)</span>
    <span class='@output_width ivar id'>@output_width</span> <span class='assign token'>=</span> <span class='@indent ivar id'>@indent</span>
    <span class='@buffer_width ivar id'>@buffer_width</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='else else kw'>else</span>
    <span class='@buffer ivar id'>@buffer</span> <span class='lshft op'>&lt;&lt;</span> <span class='Breakable constant id'>Breakable</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='sep identifier id'>sep</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='rparen token'>)</span>
    <span class='@buffer_width ivar id'>@buffer_width</span> <span class='opasgn op'>+=</span> <span class='width identifier id'>width</span>
    <span class='break_outmost_groups identifier id'>break_outmost_groups</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>current_group</h3>
</div><div id="current_group-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>current_group</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/prettyprint.rb', line 98</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/prettyprint.rb#L98">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">98
99
100</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='current_group identifier id'>current_group</span>
  <span class='@group_stack ivar id'>@group_stack</span><span class='dot token'>.</span><span class='last identifier id'>last</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>fill_breakable</h3>
</div><div id="fill_breakable-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>fill_breakable</span><span class='args'>(sep = ' ', width = sep.length)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/prettyprint.rb', line 160</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/prettyprint.rb#L160">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">160
161
162</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='fill_breakable identifier id'>fill_breakable</span><span class='lparen token'>(</span><span class='sep identifier id'>sep</span><span class='assign token'>=</span><span class='string val'>' '</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='assign token'>=</span><span class='sep identifier id'>sep</span><span class='dot token'>.</span><span class='length identifier id'>length</span><span class='rparen token'>)</span>
  <span class='group identifier id'>group</span> <span class='lbrace token'>{</span> <span class='breakable identifier id'>breakable</span> <span class='sep identifier id'>sep</span><span class='comma token'>,</span> <span class='width identifier id'>width</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>first?</h3>
</div><div id="first-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>first?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
first? is a predicate to test the call is a first call to first? with
current group.
</p>
<p>
It is useful to format comma separated values as:
</p>
<pre class="code">
  <span class='q identifier id'>q</span><span class='dot token'>.</span><span class='group identifier id'>group</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='string val'>'['</span><span class='comma token'>,</span> <span class='string val'>']'</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span>
    <span class='xxx identifier id'>xxx</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='yyy identifier id'>yyy</span><span class='bitor op'>|</span>
      <span class='unless unless kw'>unless</span> <span class='q identifier id'>q</span><span class='dot token'>.</span><span class='first? fid id'>first?</span>
        <span class='q identifier id'>q</span><span class='dot token'>.</span><span class='text identifier id'>text</span> <span class='string val'>','</span>
        <span class='q identifier id'>q</span><span class='dot token'>.</span><span class='breakable identifier id'>breakable</span>
      <span class='end end kw'>end</span>
      <span class='dot3 op'>...</span> <span class='pretty identifier id'>pretty</span> <span class='printing identifier id'>printing</span> <span class='yyy identifier id'>yyy</span> <span class='dot3 op'>...</span>
    <span class='rbrace token'>}</span>
  <span class='rbrace token'>}</span>
</pre>
<p>
first? is obsoleted in 1.8.2.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/prettyprint.rb', line 119</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/prettyprint.rb#L119">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">119
120
121
122</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='first? fid id'>first?</span>
  <span class='warn identifier id'>warn</span> <span class='string val'>&quot;PrettyPrint#first? is obsoleted at 1.8.2.&quot;</span>
  <span class='current_group identifier id'>current_group</span><span class='dot token'>.</span><span class='first? fid id'>first?</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>flush</h3>
</div><div id="flush-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>flush</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
outputs buffered data.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/prettyprint.rb', line 235</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/prettyprint.rb#L235">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">235
236
237
238
239
240
241</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='flush identifier id'>flush</span>
  <span class='@buffer ivar id'>@buffer</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='data identifier id'>data</span><span class='bitor op'>|</span>
    <span class='@output_width ivar id'>@output_width</span> <span class='assign token'>=</span> <span class='data identifier id'>data</span><span class='dot token'>.</span><span class='output identifier id'>output</span><span class='lparen token'>(</span><span class='@output ivar id'>@output</span><span class='comma token'>,</span> <span class='@output_width ivar id'>@output_width</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
  <span class='@buffer ivar id'>@buffer</span><span class='dot token'>.</span><span class='clear identifier id'>clear</span>
  <span class='@buffer_width ivar id'>@buffer_width</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>group</h3>
</div><div id="group-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>group</span><span class='args'>(indent = 0, open_obj = '', close_obj = '', open_width = open_obj.length, close_width = close_obj.length)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Groups line break hints added in the block. The line break hints are all to
be used or not.
</p>
<p>
If <tt>indent</tt> is specified, the method call is regarded as nested by
nest(indent) { &#8230; }.
</p>
<p>
If <tt>open_obj</tt> is specified, <tt>text open_obj, open_width</tt> is
called before grouping. If <tt>close_obj</tt> is specified, <tt>text
close_obj, close_width</tt> is called after grouping.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/prettyprint.rb', line 197</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/prettyprint.rb#L197">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">197
198
199
200
201
202
203
204
205</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='group identifier id'>group</span><span class='lparen token'>(</span><span class='indent identifier id'>indent</span><span class='assign token'>=</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='open_obj identifier id'>open_obj</span><span class='assign token'>=</span><span class='string val'>''</span><span class='comma token'>,</span> <span class='close_obj identifier id'>close_obj</span><span class='assign token'>=</span><span class='string val'>''</span><span class='comma token'>,</span> <span class='open_width identifier id'>open_width</span><span class='assign token'>=</span><span class='open_obj identifier id'>open_obj</span><span class='dot token'>.</span><span class='length identifier id'>length</span><span class='comma token'>,</span> <span class='close_width identifier id'>close_width</span><span class='assign token'>=</span><span class='close_obj identifier id'>close_obj</span><span class='dot token'>.</span><span class='length identifier id'>length</span><span class='rparen token'>)</span>
  <span class='text identifier id'>text</span> <span class='open_obj identifier id'>open_obj</span><span class='comma token'>,</span> <span class='open_width identifier id'>open_width</span>
  <span class='group_sub identifier id'>group_sub</span> <span class='lbrace token'>{</span>
    <span class='nest identifier id'>nest</span><span class='lparen token'>(</span><span class='indent identifier id'>indent</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span>
      <span class='yield yield kw'>yield</span>
    <span class='rbrace token'>}</span>
  <span class='rbrace token'>}</span>
  <span class='text identifier id'>text</span> <span class='close_obj identifier id'>close_obj</span><span class='comma token'>,</span> <span class='close_width identifier id'>close_width</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>group_sub</h3>
</div><div id="group_sub-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>group_sub</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/prettyprint.rb', line 207</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/prettyprint.rb#L207">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">207
208
209
210
211
212
213
214
215
216
217
218
219</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='group_sub identifier id'>group_sub</span>
  <span class='group identifier id'>group</span> <span class='assign token'>=</span> <span class='Group constant id'>Group</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@group_stack ivar id'>@group_stack</span><span class='dot token'>.</span><span class='last identifier id'>last</span><span class='dot token'>.</span><span class='depth identifier id'>depth</span> <span class='plus op'>+</span> <span class='integer val'>1</span><span class='rparen token'>)</span>
  <span class='@group_stack ivar id'>@group_stack</span><span class='dot token'>.</span><span class='push identifier id'>push</span> <span class='group identifier id'>group</span>
  <span class='@group_queue ivar id'>@group_queue</span><span class='dot token'>.</span><span class='enq identifier id'>enq</span> <span class='group identifier id'>group</span>
  <span class='begin begin kw'>begin</span>
    <span class='yield yield kw'>yield</span>
  <span class='ensure ensure kw'>ensure</span>
    <span class='@group_stack ivar id'>@group_stack</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span>
    <span class='if if kw'>if</span> <span class='group identifier id'>group</span><span class='dot token'>.</span><span class='breakables identifier id'>breakables</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
      <span class='@group_queue ivar id'>@group_queue</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span> <span class='group identifier id'>group</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>nest</h3>
</div><div id="nest-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>nest</span><span class='args'>(indent)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Increases left margin after newline with <tt>indent</tt> for line breaks
added in the block.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/prettyprint.rb', line 224</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/prettyprint.rb#L224">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">224
225
226
227
228
229
230
231</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='nest identifier id'>nest</span><span class='lparen token'>(</span><span class='indent identifier id'>indent</span><span class='rparen token'>)</span>
  <span class='@indent ivar id'>@indent</span> <span class='opasgn op'>+=</span> <span class='indent identifier id'>indent</span>
  <span class='begin begin kw'>begin</span>
    <span class='yield yield kw'>yield</span>
  <span class='ensure ensure kw'>ensure</span>
    <span class='@indent ivar id'>@indent</span> <span class='opasgn op'>-=</span> <span class='indent identifier id'>indent</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>text</h3>
</div><div id="text-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>text</span><span class='args'>(obj, width = obj.length)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
This adds <tt>obj</tt> as a text of <tt>width</tt> columns in width.
</p>
<p>
If <tt>width</tt> is not specified, obj.length is used.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/prettyprint.rb', line 144</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/prettyprint.rb#L144">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">144
145
146
147
148
149
150
151
152
153
154
155
156
157
158</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='text identifier id'>text</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='assign token'>=</span><span class='obj identifier id'>obj</span><span class='dot token'>.</span><span class='length identifier id'>length</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='@buffer ivar id'>@buffer</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
    <span class='@output ivar id'>@output</span> <span class='lshft op'>&lt;&lt;</span> <span class='obj identifier id'>obj</span>
    <span class='@output_width ivar id'>@output_width</span> <span class='opasgn op'>+=</span> <span class='width identifier id'>width</span>
  <span class='else else kw'>else</span>
    <span class='text identifier id'>text</span> <span class='assign token'>=</span> <span class='@buffer ivar id'>@buffer</span><span class='dot token'>.</span><span class='last identifier id'>last</span>
    <span class='unless unless kw'>unless</span> <span class='Text constant id'>Text</span> <span class='eqq op'>===</span> <span class='text identifier id'>text</span>
      <span class='text identifier id'>text</span> <span class='assign token'>=</span> <span class='Text constant id'>Text</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
      <span class='@buffer ivar id'>@buffer</span> <span class='lshft op'>&lt;&lt;</span> <span class='text identifier id'>text</span>
    <span class='end end kw'>end</span>
    <span class='text identifier id'>text</span><span class='dot token'>.</span><span class='add identifier id'>add</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='comma token'>,</span> <span class='width identifier id'>width</span><span class='rparen token'>)</span>
    <span class='@buffer_width ivar id'>@buffer_width</span> <span class='opasgn op'>+=</span> <span class='width identifier id'>width</span>
    <span class='break_outmost_groups identifier id'>break_outmost_groups</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>