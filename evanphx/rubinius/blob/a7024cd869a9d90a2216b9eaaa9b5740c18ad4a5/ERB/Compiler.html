<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>evanphx's rubinius - Class: ERB::Compiler - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/evanphx/commits/rubinius/master" rel="alternate" title="Recent Commits to rubinius:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("evanphx", "rubinius", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("evanphx", "rubinius", "a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/evanphx/rubinius/tree/">Source</a></li>
            <li class=""><a href="http://github.com/evanphx/rubinius/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/evanphx/rubinius/network">Network</a></li>            
            <li class=""><a href="http://github.com/evanphx/rubinius/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/evanphx/rubinius">Wiki</a></li>
            <li class=""><a href="http://github.com/evanphx/rubinius/graphs">Graphs</a></li>                    
            <li class="active"><a href="/evanphx/rubinius">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/evanphx">evanphx</a> / <b><a href="http://github.com/evanphx/rubinius/tree">rubinius</a></b>        
                <a id="namespaces_button" rel="evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class ERB_Compiler">
  <h1>Class: ERB::Compiler</h1>
  <div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">insert_cmd</td>
          <td class="readwrite">
            [<span id='insert_cmd-instance_method'>R</span><span id='insert_cmd=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>insert_cmd</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">percent</td>
          <td class="readwrite">
            [<span id='percent-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>percent</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">post_cmd</td>
          <td class="readwrite">
            [<span id='post_cmd-instance_method'>R</span><span id='post_cmd=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>post_cmd</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">pre_cmd</td>
          <td class="readwrite">
            [<span id='pre_cmd-instance_method'>R</span><span id='pre_cmd=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>pre_cmd</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">put_cmd</td>
          <td class="readwrite">
            [<span id='put_cmd-instance_method'>R</span><span id='put_cmd=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>put_cmd</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">trim_mode</td>
          <td class="readwrite">
            [<span id='trim_mode-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>trim_mode</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(trim_mode)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/erb.rb', line 607</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/erb.rb#L607">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">607
608
609
610
611
612
613</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='trim_mode identifier id'>trim_mode</span><span class='rparen token'>)</span>
  <span class='@percent ivar id'>@percent</span><span class='comma token'>,</span> <span class='@trim_mode ivar id'>@trim_mode</span> <span class='assign token'>=</span> <span class='prepare_trim_mode identifier id'>prepare_trim_mode</span><span class='lparen token'>(</span><span class='trim_mode identifier id'>trim_mode</span><span class='rparen token'>)</span>
  <span class='@put_cmd ivar id'>@put_cmd</span> <span class='assign token'>=</span> <span class='string val'>'print'</span>
  <span class='@insert_cmd ivar id'>@insert_cmd</span> <span class='assign token'>=</span> <span class='@put_cmd ivar id'>@put_cmd</span>
  <span class='@pre_cmd ivar id'>@pre_cmd</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@post_cmd ivar id'>@post_cmd</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#compile-instance_method">#compile</span><span class='args'>(s)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#make_scanner-instance_method">#make_scanner</span><span class='args'>(src)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#prepare_trim_mode-instance_method">#prepare_trim_mode</span><span class='args'>(mode)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>compile</h3>
</div><div id="compile-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>compile</span><span class='args'>(s)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/erb.rb', line 519</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/erb.rb#L519">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='compile identifier id'>compile</span><span class='lparen token'>(</span><span class='s identifier id'>s</span><span class='rparen token'>)</span>
  <span class='out identifier id'>out</span> <span class='assign token'>=</span> <span class='Buffer constant id'>Buffer</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>

  <span class='content identifier id'>content</span> <span class='assign token'>=</span> <span class='string val'>''</span>
  <span class='scanner identifier id'>scanner</span> <span class='assign token'>=</span> <span class='make_scanner identifier id'>make_scanner</span><span class='lparen token'>(</span><span class='s identifier id'>s</span><span class='rparen token'>)</span>
  <span class='scanner identifier id'>scanner</span><span class='dot token'>.</span><span class='scan identifier id'>scan</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='token identifier id'>token</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='scanner identifier id'>scanner</span><span class='dot token'>.</span><span class='stag identifier id'>stag</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
      <span class='case case kw'>case</span> <span class='token identifier id'>token</span>
      <span class='when when kw'>when</span> <span class='PercentLine constant id'>PercentLine</span>
        <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{@put_cmd} #{content.dump}&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='content identifier id'>content</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>
        <span class='content identifier id'>content</span> <span class='assign token'>=</span> <span class='string val'>''</span>
        <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='token identifier id'>token</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
        <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='cr identifier id'>cr</span>
      <span class='when when kw'>when</span> <span class='symbol val'>:cr</span>
        <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='cr identifier id'>cr</span>
      <span class='when when kw'>when</span> <span class='string val'>'&lt;%'</span><span class='comma token'>,</span> <span class='string val'>'&lt;%='</span><span class='comma token'>,</span> <span class='string val'>'&lt;%#'</span>
        <span class='scanner identifier id'>scanner</span><span class='dot token'>.</span><span class='stag identifier id'>stag</span> <span class='assign token'>=</span> <span class='token identifier id'>token</span>
        <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{@put_cmd} #{content.dump}&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='content identifier id'>content</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>
        <span class='content identifier id'>content</span> <span class='assign token'>=</span> <span class='string val'>''</span>
      <span class='when when kw'>when</span> <span class='string val'>&quot;\n&quot;</span>
        <span class='content identifier id'>content</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;\n&quot;</span>
        <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{@put_cmd} #{content.dump}&quot;</span><span class='rparen token'>)</span>
        <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='cr identifier id'>cr</span>
        <span class='content identifier id'>content</span> <span class='assign token'>=</span> <span class='string val'>''</span>
      <span class='when when kw'>when</span> <span class='string val'>'&lt;%%'</span>
        <span class='content identifier id'>content</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>'&lt;%'</span>
      <span class='else else kw'>else</span>
        <span class='content identifier id'>content</span> <span class='lshft op'>&lt;&lt;</span> <span class='token identifier id'>token</span>
      <span class='end end kw'>end</span>
    <span class='else else kw'>else</span>
      <span class='case case kw'>case</span> <span class='token identifier id'>token</span>
      <span class='when when kw'>when</span> <span class='string val'>'%&gt;'</span>
        <span class='case case kw'>case</span> <span class='scanner identifier id'>scanner</span><span class='dot token'>.</span><span class='stag identifier id'>stag</span>
        <span class='when when kw'>when</span> <span class='string val'>'&lt;%'</span>
          <span class='if if kw'>if</span> <span class='content identifier id'>content</span><span class='lbrack token'>[</span><span class='integer val'>-1</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='integer val'>?\n</span>
            <span class='content identifier id'>content</span><span class='dot token'>.</span><span class='chop! fid id'>chop!</span>
            <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='content identifier id'>content</span><span class='rparen token'>)</span>
            <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='cr identifier id'>cr</span>
          <span class='else else kw'>else</span>
            <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='content identifier id'>content</span><span class='rparen token'>)</span>
          <span class='end end kw'>end</span>
        <span class='when when kw'>when</span> <span class='string val'>'&lt;%='</span>
          <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{@insert_cmd}((#{content}).to_s)&quot;</span><span class='rparen token'>)</span>
        <span class='when when kw'>when</span> <span class='string val'>'&lt;%#'</span>
          <span class='comment val'># out.push(&quot;# #{content.dump}&quot;)</span>
        <span class='end end kw'>end</span>
        <span class='scanner identifier id'>scanner</span><span class='dot token'>.</span><span class='stag identifier id'>stag</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
        <span class='content identifier id'>content</span> <span class='assign token'>=</span> <span class='string val'>''</span>
      <span class='when when kw'>when</span> <span class='string val'>'%%&gt;'</span>
        <span class='content identifier id'>content</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>'%&gt;'</span>
      <span class='else else kw'>else</span>
        <span class='content identifier id'>content</span> <span class='lshft op'>&lt;&lt;</span> <span class='token identifier id'>token</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{@put_cmd} #{content.dump}&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='content identifier id'>content</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>
  <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='close identifier id'>close</span>
  <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='script identifier id'>script</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>make_scanner</h3>
</div><div id="make_scanner-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>make_scanner</span><span class='args'>(src)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/erb.rb', line 603</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/erb.rb#L603">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">603
604
605</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='make_scanner identifier id'>make_scanner</span><span class='lparen token'>(</span><span class='src identifier id'>src</span><span class='rparen token'>)</span>
  <span class='Scanner constant id'>Scanner</span><span class='dot token'>.</span><span class='make_scanner identifier id'>make_scanner</span><span class='lparen token'>(</span><span class='src identifier id'>src</span><span class='comma token'>,</span> <span class='@trim_mode ivar id'>@trim_mode</span><span class='comma token'>,</span> <span class='@percent ivar id'>@percent</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>prepare_trim_mode</h3>
</div><div id="prepare_trim_mode-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>prepare_trim_mode</span><span class='args'>(mode)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/erb.rb', line 579</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/evanphx/rubinius/blob/a7024cd869a9d90a2216b9eaaa9b5740c18ad4a5/lib/erb.rb#L579">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='prepare_trim_mode identifier id'>prepare_trim_mode</span><span class='lparen token'>(</span><span class='mode identifier id'>mode</span><span class='rparen token'>)</span>
  <span class='case case kw'>case</span> <span class='mode identifier id'>mode</span>
  <span class='when when kw'>when</span> <span class='integer val'>1</span>
    <span class='return return kw'>return</span> <span class='lbrack token'>[</span><span class='false false kw'>false</span><span class='comma token'>,</span> <span class='string val'>'&gt;'</span><span class='rbrack token'>]</span>
  <span class='when when kw'>when</span> <span class='integer val'>2</span>
    <span class='return return kw'>return</span> <span class='lbrack token'>[</span><span class='false false kw'>false</span><span class='comma token'>,</span> <span class='string val'>'&lt;&gt;'</span><span class='rbrack token'>]</span>
  <span class='when when kw'>when</span> <span class='integer val'>0</span>
    <span class='return return kw'>return</span> <span class='lbrack token'>[</span><span class='false false kw'>false</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='rbrack token'>]</span>
  <span class='when when kw'>when</span> <span class='String constant id'>String</span>
    <span class='perc identifier id'>perc</span> <span class='assign token'>=</span> <span class='mode identifier id'>mode</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='string val'>'%'</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='mode identifier id'>mode</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='string val'>'-'</span><span class='rparen token'>)</span>
      <span class='return return kw'>return</span> <span class='lbrack token'>[</span><span class='perc identifier id'>perc</span><span class='comma token'>,</span> <span class='string val'>'-'</span><span class='rbrack token'>]</span>
    <span class='elsif elsif kw'>elsif</span> <span class='mode identifier id'>mode</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='string val'>'&lt;&gt;'</span><span class='rparen token'>)</span>
      <span class='return return kw'>return</span> <span class='lbrack token'>[</span><span class='perc identifier id'>perc</span><span class='comma token'>,</span> <span class='string val'>'&lt;&gt;'</span><span class='rbrack token'>]</span>
    <span class='elsif elsif kw'>elsif</span> <span class='mode identifier id'>mode</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='string val'>'&gt;'</span><span class='rparen token'>)</span>
      <span class='return return kw'>return</span> <span class='lbrack token'>[</span><span class='perc identifier id'>perc</span><span class='comma token'>,</span> <span class='string val'>'&gt;'</span><span class='rbrack token'>]</span>
    <span class='else else kw'>else</span>
      <span class='lbrack token'>[</span><span class='perc identifier id'>perc</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='return return kw'>return</span> <span class='lbrack token'>[</span><span class='false false kw'>false</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> Â©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>