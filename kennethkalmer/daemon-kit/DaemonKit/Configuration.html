<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="../syntax_highlight.css" type="text/css" charset="utf-8" />

    <script src="../jquery.js" type="text/javascript" charset="utf-8"></script>
    <script src="../app.js" type="text/javascript" charset="utf-8"></script>
    <title>Class: DaemonKit::Configuration</title>
  </head>
  <body>
    <div id="content">
      <div class="section class DaemonKit_Configuration">
  <h1 class="title">Class: DaemonKit::Configuration</h1>
  <div class="section docstring">
  <p>
Holds our various configuration values
</p>

</div><div class="section attributes">
  <h1>Attributes</h1>

  
    <div class="instance">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">daemon_name</td>
          <td class="readwrite">
            [<span id='daemon_name-instance_method'>R</span><span id='daemon_name%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
The application name.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">dir_mode</td>
          <td class="readwrite">
            [<span id='dir_mode-instance_method'>R</span><span id='dir_mode%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
:system,.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">dir</td>
          <td class="readwrite">
            [<span id='dir-instance_method'>R</span><span id='dir%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Path to the log file, defaults to &#8216;log/&lt;environment&gt;.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">force_kill_wait</td>
          <td class="readwrite">
            [<span id='force_kill_wait-instance_method'>R</span><span id='force_kill_wait%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Use the force kill patch? Give the number of seconds.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">load_paths</td>
          <td class="readwrite">
            [<span id='load_paths-instance_method'>R</span><span id='load_paths%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
List of load paths.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">log_level</td>
          <td class="readwrite">
            [<span id='log_level-instance_method'>R</span><span id='log_level%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
The log level to use, defaults to DEBUG.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">log_path</td>
          <td class="readwrite">
            [<span id='log_path-instance_method'>R</span><span id='log_path%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Path to the log file, defaults to &#8216;log/&lt;environment&gt;.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">logger</td>
          <td class="readwrite">
            [<span id='logger-instance_method'>R</span><span id='logger%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Provide a custom logger to use.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">multiple</td>
          <td class="readwrite">
            [<span id='multiple-instance_method'>R</span><span id='multiple%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Allow multiple copies to run?.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">root_path</td>
          <td class="readwrite">
            [<span id='root_path-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Root to the daemon.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">signal_traps</td>
          <td class="readwrite">
            [<span id='signal_traps-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Collection of signal traps.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h1>Constructor Summary</h1>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


169
170
171
172
173
174
175
176
177
178
179
180</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/daemon_kit/initializer.rb', line 169</span>

<span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span>
  <span class='set_root_path! fid id'>set_root_path!</span>
  
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='load_paths identifier id'>load_paths</span> <span class='assign token'>=</span> <span class='default_load_paths identifier id'>default_load_paths</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='log_level identifier id'>log_level</span>  <span class='assign token'>=</span> <span class='default_log_level identifier id'>default_log_level</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='log_path identifier id'>log_path</span>   <span class='assign token'>=</span> <span class='default_log_path identifier id'>default_log_path</span>

  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='multiple identifier id'>multiple</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='force_kill_wait identifier id'>force_kill_wait</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>

  <span class='@signal_traps ivar id'>@signal_traps</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
</div>  <div class="section visibilitygroup public">
    <h1>Public Visibility</h1>
      <div class="section methodsummary instance public">
    <h1>Public Instance Method Summary</h1>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#daemon_initializer-instance_method' title='#daemon_initializer'>#daemon_initializer</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#environment-instance_method' title='#environment'>#environment</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#environment_path-instance_method' title='#environment_path'>#environment_path</a></span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
The path to the current environment&#8217;s file (&lt;tt&gt;development.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#trap-instance_method' title='#trap'>#trap</a></span><span class='args'>( signal, proc = nil, &amp;block )</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Add a trap for the specified signal, can be code block or a proc.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails instance public">
  <h1>Public Instance Method Details</h1>
  
    <div class="method">
      <div class="method_header">
  <h3>daemon_initializer</h3>
</div><div id="daemon_initializer-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>daemon_initializer</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


192
193
194</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/daemon_kit/initializer.rb', line 192</span>

<span class='def def kw'>def</span> <span class='daemon_initializer identifier id'>daemon_initializer</span>
  <span class='dstring node'>&quot;#{root_path}/config/initializers/#{self.daemon_name}.rb&quot;</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>environment</h3>
</div><div id="environment-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>environment</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


182
183
184</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/daemon_kit/initializer.rb', line 182</span>

<span class='def def kw'>def</span> <span class='environment identifier id'>environment</span>
  <span class='colon3 op'>::</span><span class='DAEMON_ENV constant id'>DAEMON_ENV</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>environment_path</h3>
</div><div id="environment_path-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>environment_path</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
The path to the current environment&#8217;s file (<tt>development.rb</tt>,
etc.). By default the file is at
<tt>config/environments/#{environment}.rb</tt>.
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


188
189
190</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/daemon_kit/initializer.rb', line 188</span>

<span class='def def kw'>def</span> <span class='environment_path identifier id'>environment_path</span>
  <span class='dstring node'>&quot;#{root_path}/config/environments/#{environment}.rb&quot;</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>trap</h3>
</div><div id="trap-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>trap</span><span class='args'>( signal, proc = nil, &amp;block )</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Add a trap for the specified signal, can be code block or a proc
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


197
198
199
200
201
202
203
204
205</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/daemon_kit/initializer.rb', line 197</span>

<span class='def def kw'>def</span> <span class='trap identifier id'>trap</span><span class='lparen token'>(</span> <span class='signal identifier id'>signal</span><span class='comma token'>,</span> <span class='proc identifier id'>proc</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span> <span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='if if_mod kw'>if</span> <span class='proc identifier id'>proc</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span> <span class='andop op'>&amp;&amp;</span> <span class='notop op'>!</span><span class='block_given? fid id'>block_given?</span>
  
  <span class='unless unless kw'>unless</span> <span class='@signal_traps ivar id'>@signal_traps</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span> <span class='signal identifier id'>signal</span> <span class='rparen token'>)</span>
    <span class='set_trap identifier id'>set_trap</span><span class='lparen token'>(</span> <span class='signal identifier id'>signal</span> <span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  
  <span class='@signal_traps ivar id'>@signal_traps</span><span class='lbrack token'>[</span><span class='signal identifier id'>signal</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span><span class='lparen token'>(</span> <span class='proc identifier id'>proc</span> <span class='orop op'>||</span> <span class='block identifier id'>block</span> <span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
</div>
  </div>

</div>
    </div>
  </body>
</html>