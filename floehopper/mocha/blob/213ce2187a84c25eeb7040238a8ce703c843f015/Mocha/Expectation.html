<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>floehopper's mocha - Class: Mocha::Expectation - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/floehopper/commits/mocha/master" rel="alternate" title="Recent Commits to mocha:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("floehopper", "mocha", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("floehopper", "mocha", "213ce2187a84c25eeb7040238a8ce703c843f015", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/floehopper/mocha/tree/">Source</a></li>
            <li class=""><a href="http://github.com/floehopper/mocha/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/floehopper/mocha/network">Network</a></li>            
            <li class=""><a href="http://github.com/floehopper/mocha/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/floehopper/mocha">Wiki</a></li>
            <li class=""><a href="http://github.com/floehopper/mocha/graphs">Graphs</a></li>                    
            <li class="active"><a href="/floehopper/mocha">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/floehopper">floehopper</a> / <b><a href="http://github.com/floehopper/mocha/tree">mocha</a></b>        
                <a id="namespaces_button" rel="floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Mocha_Expectation">
  <h1>Class: Mocha::Expectation</h1>
  <div class="section docstring">
  <p>
Methods on expectations returned from Mock#expects, Mock#stubs,
Object#expects and Object#stubs.
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">backtrace</td>
          <td class="readwrite">
            [<span id='backtrace-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
:stopdoc:.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(mock, expected_method_name, backtrace = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 386</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L386">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">386
387
388
389
390
391
392
393
394
395
396</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='mock identifier id'>mock</span><span class='comma token'>,</span> <span class='expected_method_name identifier id'>expected_method_name</span><span class='comma token'>,</span> <span class='backtrace identifier id'>backtrace</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='@mock ivar id'>@mock</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span>
  <span class='@method_matcher ivar id'>@method_matcher</span> <span class='assign token'>=</span> <span class='MethodMatcher constant id'>MethodMatcher</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='expected_method_name identifier id'>expected_method_name</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rparen token'>)</span>
  <span class='@parameters_matcher ivar id'>@parameters_matcher</span> <span class='assign token'>=</span> <span class='ParametersMatcher constant id'>ParametersMatcher</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='@ordering_constraints ivar id'>@ordering_constraints</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@side_effects ivar id'>@side_effects</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@cardinality ivar id'>@cardinality</span><span class='comma token'>,</span> <span class='@invocation_count ivar id'>@invocation_count</span> <span class='assign token'>=</span> <span class='Cardinality constant id'>Cardinality</span><span class='dot token'>.</span><span class='exactly identifier id'>exactly</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='integer val'>0</span>
  <span class='@return_values ivar id'>@return_values</span> <span class='assign token'>=</span> <span class='ReturnValues constant id'>ReturnValues</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='@yield_parameters ivar id'>@yield_parameters</span> <span class='assign token'>=</span> <span class='YieldParameters constant id'>YieldParameters</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='@backtrace ivar id'>@backtrace</span> <span class='assign token'>=</span> <span class='backtrace identifier id'>backtrace</span> <span class='orop op'>||</span> <span class='caller identifier id'>caller</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#add_in_sequence_ordering_constraint-instance_method">#add_in_sequence_ordering_constraint</span><span class='args'>(sequence)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#add_ordering_constraint-instance_method">#add_ordering_constraint</span><span class='args'>(ordering_constraint)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#add_side_effect-instance_method">#add_side_effect</span><span class='args'>(side_effect)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#at_least-instance_method">#at_least</span><span class='args'>(minimum_number_of_times)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq: at_least(minimum_number_of_times) -&gt; expectation.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#at_least_once-instance_method">#at_least_once</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq: at_least_once() -&gt; expectation.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#at_most-instance_method">#at_most</span><span class='args'>(maximum_number_of_times)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq: at_most(maximum_number_of_times) -&gt; expectation.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#at_most_once-instance_method">#at_most_once</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq: at_most_once() -&gt; expectation.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#in_correct_order-3F-instance_method">#in_correct_order?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#in_sequence-instance_method">#in_sequence</span><span class='args'>(*sequences)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq: in_sequence(*sequences) -&gt; expectation.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#invocations_allowed-3F-instance_method">#invocations_allowed?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#invoke-instance_method">#invoke</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#match-3F-instance_method">#match?</span><span class='args'>(actual_method_name, *actual_parameters)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#matches_method-3F-instance_method">#matches_method?</span><span class='args'>(method_name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#method_signature-instance_method">#method_signature</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#mocha_inspect-instance_method">#mocha_inspect</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#multiple_yields-instance_method">#multiple_yields</span><span class='args'>(*parameter_groups)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq: multiple_yields(*parameter_groups) -&gt; expectation.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#never-instance_method">#never</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq: never() -&gt; expectation.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#once-instance_method">#once</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq: once() -&gt; expectation.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#perform_side_effects-instance_method">#perform_side_effects</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#raises-instance_method">#raises</span><span class='args'>(exception = RuntimeError, message = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq: raises(exception = RuntimeError, message = nil) -&gt;
expectation.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#returns-instance_method">#returns</span><span class='args'>(*values)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq: returns(value) -&gt; expectation
</p>
<pre class="code">
           <span class='returns identifier id'>returns</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='values identifier id'>values</span><span class='rparen token'>)</span> <span class='minus op'>-</span><span class='gt op'>&gt;</span> <span class='expectation identifier id'>expectation</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#satisfied-3F-instance_method">#satisfied?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#then-instance_method">#then</span><span class='args'>(*parameters)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq: then() -&gt; expectation
</p>
<pre class="code">
           <span class='then then kw'>then</span><span class='lparen token'>(</span><span class='state_machine identifier id'>state_machine</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#times-instance_method">#times</span><span class='args'>(range)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq: times(range) -&gt; expectation.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#twice-instance_method">#twice</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq: twice() -&gt; expectation.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#used-3F-instance_method">#used?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#verified-3F-instance_method">#verified?</span><span class='args'>(assertion_counter = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#when-instance_method">#when</span><span class='args'>(state_predicate)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq: when(state_machine.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#with-instance_method">#with</span><span class='args'>(*expected_parameters, &amp;matching_block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq: with(*expected_parameters, &amp;matching_block) -&gt;
expectation.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#yields-instance_method">#yields</span><span class='args'>(*parameters)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq: yields(*parameters) -&gt; expectation.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>add_in_sequence_ordering_constraint</h3>
</div><div id="add_in_sequence_ordering_constraint-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>add_in_sequence_ordering_constraint</span><span class='args'>(sequence)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 402</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L402">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">402
403
404</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='add_in_sequence_ordering_constraint identifier id'>add_in_sequence_ordering_constraint</span><span class='lparen token'>(</span><span class='sequence identifier id'>sequence</span><span class='rparen token'>)</span>
  <span class='sequence identifier id'>sequence</span><span class='dot token'>.</span><span class='constrain_as_next_in_sequence identifier id'>constrain_as_next_in_sequence</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>add_ordering_constraint</h3>
</div><div id="add_ordering_constraint-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>add_ordering_constraint</span><span class='args'>(ordering_constraint)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 398</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L398">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">398
399
400</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='add_ordering_constraint identifier id'>add_ordering_constraint</span><span class='lparen token'>(</span><span class='ordering_constraint identifier id'>ordering_constraint</span><span class='rparen token'>)</span>
  <span class='@ordering_constraints ivar id'>@ordering_constraints</span> <span class='lshft op'>&lt;&lt;</span> <span class='ordering_constraint identifier id'>ordering_constraint</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>add_side_effect</h3>
</div><div id="add_side_effect-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>add_side_effect</span><span class='args'>(side_effect)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 406</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L406">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">406
407
408</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='add_side_effect identifier id'>add_side_effect</span><span class='lparen token'>(</span><span class='side_effect identifier id'>side_effect</span><span class='rparen token'>)</span>
  <span class='@side_effects ivar id'>@side_effects</span> <span class='lshft op'>&lt;&lt;</span> <span class='side_effect identifier id'>side_effect</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>at_least</h3>
</div><div id="at_least-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>at_least</span><span class='args'>(minimum_number_of_times)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq: at_least(minimum_number_of_times) -&gt; expectation
</p>
<p>
Modifies expectation so that the expected method must be called at least a
<tt>minimum_number_of_times</tt>.
</p>
<pre class="code">
  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='at_least identifier id'>at_least</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span>
  <span class='float val'>3</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='lbrace token'>{</span> <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='rbrace token'>}</span>
  <span class='comment val'># =&gt; verify succeeds</span>

  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='at_least identifier id'>at_least</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span>
  <span class='comment val'># =&gt; verify fails</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 123</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L123">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">123
124
125
126</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='at_least identifier id'>at_least</span><span class='lparen token'>(</span><span class='minimum_number_of_times identifier id'>minimum_number_of_times</span><span class='rparen token'>)</span>
  <span class='@cardinality ivar id'>@cardinality</span> <span class='assign token'>=</span> <span class='Cardinality constant id'>Cardinality</span><span class='dot token'>.</span><span class='at_least identifier id'>at_least</span><span class='lparen token'>(</span><span class='minimum_number_of_times identifier id'>minimum_number_of_times</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>at_least_once</h3>
</div><div id="at_least_once-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>at_least_once</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq: at_least_once() -&gt; expectation
</p>
<p>
Modifies expectation so that the expected method must be called at least
once.
</p>
<pre class="code">
  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='at_least_once identifier id'>at_least_once</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span>
  <span class='comment val'># =&gt; verify succeeds</span>

  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='at_least_once identifier id'>at_least_once</span>
  <span class='comment val'># =&gt; verify fails</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 139</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L139">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">139
140
141
142</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='at_least_once identifier id'>at_least_once</span>
  <span class='at_least identifier id'>at_least</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>at_most</h3>
</div><div id="at_most-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>at_most</span><span class='args'>(maximum_number_of_times)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq: at_most(maximum_number_of_times) -&gt; expectation
</p>
<p>
Modifies expectation so that the expected method must be called at most a
<tt>maximum_number_of_times</tt>.
</p>
<pre class="code">
  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='at_most identifier id'>at_most</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span>
  <span class='float val'>2</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='lbrace token'>{</span> <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='rbrace token'>}</span>
  <span class='comment val'># =&gt; verify succeeds</span>

  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='at_most identifier id'>at_most</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span>
  <span class='float val'>3</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='lbrace token'>{</span> <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='rbrace token'>}</span>
  <span class='comment val'># =&gt; verify fails</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 156</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L156">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">156
157
158
159</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='at_most identifier id'>at_most</span><span class='lparen token'>(</span><span class='maximum_number_of_times identifier id'>maximum_number_of_times</span><span class='rparen token'>)</span>
  <span class='@cardinality ivar id'>@cardinality</span> <span class='assign token'>=</span> <span class='Cardinality constant id'>Cardinality</span><span class='dot token'>.</span><span class='at_most identifier id'>at_most</span><span class='lparen token'>(</span><span class='maximum_number_of_times identifier id'>maximum_number_of_times</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>at_most_once</h3>
</div><div id="at_most_once-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>at_most_once</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq: at_most_once() -&gt; expectation
</p>
<p>
Modifies expectation so that the expected method must be called at most
once.
</p>
<pre class="code">
  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='at_most_once identifier id'>at_most_once</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span>
  <span class='comment val'># =&gt; verify succeeds</span>

  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='at_most_once identifier id'>at_most_once</span>
  <span class='float val'>2</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='lbrace token'>{</span> <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='rbrace token'>}</span>
  <span class='comment val'># =&gt; verify fails</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 173</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L173">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">173
174
175
176</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='at_most_once identifier id'>at_most_once</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='at_most identifier id'>at_most</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>in_correct_order?</h3>
</div><div id="in_correct_order-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>in_correct_order?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 414</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L414">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">414
415
416</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='in_correct_order? fid id'>in_correct_order?</span>
  <span class='@ordering_constraints ivar id'>@ordering_constraints</span><span class='dot token'>.</span><span class='all? fid id'>all?</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='ordering_constraint identifier id'>ordering_constraint</span><span class='bitor op'>|</span> <span class='ordering_constraint identifier id'>ordering_constraint</span><span class='dot token'>.</span><span class='allows_invocation_now? fid id'>allows_invocation_now?</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>in_sequence</h3>
</div><div id="in_sequence-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>in_sequence</span><span class='args'>(*sequences)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq: in_sequence(*sequences) -&gt; expectation
</p>
<p>
Constrains this expectation so that it must be invoked at the current point
in the sequence.
</p>
<p>
To expect a sequence of invocations, write the expectations in order and
add the in_sequence(sequence) clause to each one.
</p>
<p>
Expectations in a sequence can have any invocation count.
</p>
<p>
If an expectation in a sequence is stubbed, rather than expected, it can be
skipped in the sequence.
</p>
<p>
See also API#sequence.
</p>
<pre class="code">
  <span class='breakfast identifier id'>breakfast</span> <span class='assign token'>=</span> <span class='sequence identifier id'>sequence</span><span class='lparen token'>(</span><span class='string val'>'breakfast'</span><span class='rparen token'>)</span>

  <span class='egg identifier id'>egg</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='string val'>'egg'</span><span class='rparen token'>)</span>
  <span class='egg identifier id'>egg</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:crack</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='in_sequence identifier id'>in_sequence</span><span class='lparen token'>(</span><span class='breakfast identifier id'>breakfast</span><span class='rparen token'>)</span>
  <span class='egg identifier id'>egg</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:fry</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='in_sequence identifier id'>in_sequence</span><span class='lparen token'>(</span><span class='breakfast identifier id'>breakfast</span><span class='rparen token'>)</span>
  <span class='egg identifier id'>egg</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:eat</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='in_sequence identifier id'>in_sequence</span><span class='lparen token'>(</span><span class='breakfast identifier id'>breakfast</span><span class='rparen token'>)</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 377</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L377">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">377
378
379
380</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='in_sequence identifier id'>in_sequence</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='sequences identifier id'>sequences</span><span class='rparen token'>)</span>
  <span class='sequences identifier id'>sequences</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='sequence identifier id'>sequence</span><span class='bitor op'>|</span> <span class='add_in_sequence_ordering_constraint identifier id'>add_in_sequence_ordering_constraint</span><span class='lparen token'>(</span><span class='sequence identifier id'>sequence</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>invocations_allowed?</h3>
</div><div id="invocations_allowed-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>invocations_allowed?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 426</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L426">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">426
427
428</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='invocations_allowed? fid id'>invocations_allowed?</span>
  <span class='@cardinality ivar id'>@cardinality</span><span class='dot token'>.</span><span class='invocations_allowed? fid id'>invocations_allowed?</span><span class='lparen token'>(</span><span class='@invocation_count ivar id'>@invocation_count</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>invoke</h3>
</div><div id="invoke-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>invoke</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 434</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L434">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">434
435
436
437
438
439
440
441
442
443</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='invoke identifier id'>invoke</span>
  <span class='@invocation_count ivar id'>@invocation_count</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
  <span class='perform_side_effects identifier id'>perform_side_effects</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span> <span class='then then kw'>then</span>
    <span class='@yield_parameters ivar id'>@yield_parameters</span><span class='dot token'>.</span><span class='next_invocation identifier id'>next_invocation</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='yield_parameters identifier id'>yield_parameters</span><span class='bitor op'>|</span>
      <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='yield_parameters identifier id'>yield_parameters</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='@return_values ivar id'>@return_values</span><span class='dot token'>.</span><span class='next identifier id'>next</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>match?</h3>
</div><div id="match-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>match?</span><span class='args'>(actual_method_name, *actual_parameters)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 422</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L422">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">422
423
424</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='match? fid id'>match?</span><span class='lparen token'>(</span><span class='actual_method_name identifier id'>actual_method_name</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='actual_parameters identifier id'>actual_parameters</span><span class='rparen token'>)</span>
  <span class='@method_matcher ivar id'>@method_matcher</span><span class='dot token'>.</span><span class='match? fid id'>match?</span><span class='lparen token'>(</span><span class='actual_method_name identifier id'>actual_method_name</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='@parameters_matcher ivar id'>@parameters_matcher</span><span class='dot token'>.</span><span class='match? fid id'>match?</span><span class='lparen token'>(</span><span class='actual_parameters identifier id'>actual_parameters</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='in_correct_order? fid id'>in_correct_order?</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>matches_method?</h3>
</div><div id="matches_method-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>matches_method?</span><span class='args'>(method_name)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 418</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L418">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">418
419
420</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='matches_method? fid id'>matches_method?</span><span class='lparen token'>(</span><span class='method_name identifier id'>method_name</span><span class='rparen token'>)</span>
  <span class='@method_matcher ivar id'>@method_matcher</span><span class='dot token'>.</span><span class='match? fid id'>match?</span><span class='lparen token'>(</span><span class='method_name identifier id'>method_name</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>method_signature</h3>
</div><div id="method_signature-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>method_signature</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 468</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L468">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">468
469
470</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='method_signature identifier id'>method_signature</span>
  <span class='dstring node'>&quot;#{@mock.mocha_inspect}.#{@method_matcher.mocha_inspect}#{@parameters_matcher.mocha_inspect}&quot;</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>mocha_inspect</h3>
</div><div id="mocha_inspect-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>mocha_inspect</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 454</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L454">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">454
455
456
457
458
459
460
461
462
463
464
465
466</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='mocha_inspect identifier id'>mocha_inspect</span>
  <span class='message identifier id'>message</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{@cardinality.mocha_inspect}, &quot;</span>
  <span class='message identifier id'>message</span> <span class='lshft op'>&lt;&lt;</span> <span class='case case kw'>case</span> <span class='@invocation_count ivar id'>@invocation_count</span>
    <span class='when when kw'>when</span> <span class='integer val'>0</span> <span class='then then kw'>then</span> <span class='string val'>&quot;not yet invoked&quot;</span>
    <span class='when when kw'>when</span> <span class='integer val'>1</span> <span class='then then kw'>then</span> <span class='string val'>&quot;already invoked once&quot;</span>
    <span class='when when kw'>when</span> <span class='integer val'>2</span> <span class='then then kw'>then</span> <span class='string val'>&quot;already invoked twice&quot;</span>
    <span class='else else kw'>else</span> <span class='dstring node'>&quot;already invoked #{@invocation_count} times&quot;</span>
  <span class='end end kw'>end</span>
  <span class='message identifier id'>message</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;: &quot;</span>
  <span class='message identifier id'>message</span> <span class='lshft op'>&lt;&lt;</span> <span class='method_signature identifier id'>method_signature</span>
  <span class='message identifier id'>message</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;; #{@ordering_constraints.map { |oc| oc.mocha_inspect }.join(&quot;; &quot;)}&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='@ordering_constraints ivar id'>@ordering_constraints</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
  <span class='message identifier id'>message</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>multiple_yields</h3>
</div><div id="multiple_yields-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>multiple_yields</span><span class='args'>(*parameter_groups)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq: multiple_yields(*parameter_groups) -&gt; expectation
</p>
<p>
Modifies expectation so that when the expected method is called, it yields
multiple times per invocation with the specified <tt>parameter_groups</tt>.
</p>
<pre class="code">
  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='multiple_yields identifier id'>multiple_yields</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='string val'>'result_1'</span><span class='comma token'>,</span> <span class='string val'>'result_2'</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='string val'>'result_3'</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='yielded_values identifier id'>yielded_values</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='mult op'>*</span><span class='values identifier id'>values</span><span class='bitor op'>|</span> <span class='yielded_values identifier id'>yielded_values</span> <span class='lshft op'>&lt;&lt;</span> <span class='values identifier id'>values</span> <span class='rbrace token'>}</span>
  <span class='yielded_values identifier id'>yielded_values</span> <span class='comment val'># =&gt; [['result_1', 'result_2'], ['result_3]]</span>
</pre>
<p>
May be called multiple times on the same expectation for consecutive
invocations. Also see Expectation#then.
</p>
<pre class="code">
  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='stubs identifier id'>stubs</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='multiple_yields identifier id'>multiple_yields</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='then identifier id'>then</span><span class='dot token'>.</span><span class='multiple_yields identifier id'>multiple_yields</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='integer val'>4</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='integer val'>5</span><span class='comma token'>,</span> <span class='integer val'>6</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='yielded_values_from_first_invocation identifier id'>yielded_values_from_first_invocation</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='yielded_values_from_second_invocation identifier id'>yielded_values_from_second_invocation</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='mult op'>*</span><span class='values identifier id'>values</span><span class='bitor op'>|</span> <span class='yielded_values_from_first_invocation identifier id'>yielded_values_from_first_invocation</span> <span class='lshft op'>&lt;&lt;</span> <span class='values identifier id'>values</span> <span class='rbrace token'>}</span> <span class='comment val'># first invocation</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='mult op'>*</span><span class='values identifier id'>values</span><span class='bitor op'>|</span> <span class='yielded_values_from_second_invocation identifier id'>yielded_values_from_second_invocation</span> <span class='lshft op'>&lt;&lt;</span> <span class='values identifier id'>values</span> <span class='rbrace token'>}</span> <span class='comment val'># second invocation</span>
  <span class='yielded_values_from_first_invocation identifier id'>yielded_values_from_first_invocation</span> <span class='comment val'># =&gt; [[1, 2], [3]]</span>
  <span class='yielded_values_from_second_invocation identifier id'>yielded_values_from_second_invocation</span> <span class='comment val'># =&gt; [[4], [5, 6]]</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 247</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L247">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">247
248
249
250</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='multiple_yields identifier id'>multiple_yields</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='parameter_groups identifier id'>parameter_groups</span><span class='rparen token'>)</span>
  <span class='@yield_parameters ivar id'>@yield_parameters</span><span class='dot token'>.</span><span class='multiple_add identifier id'>multiple_add</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='parameter_groups identifier id'>parameter_groups</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>never</h3>
</div><div id="never-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>never</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq: never() -&gt; expectation
</p>
<p>
Modifies expectation so that the expected method must never be called.
</p>
<pre class="code">
  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='never identifier id'>never</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span>
  <span class='comment val'># =&gt; verify fails</span>

  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='never identifier id'>never</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span>
  <span class='comment val'># =&gt; verify succeeds</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 106</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L106">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">106
107
108
109</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='never identifier id'>never</span>
  <span class='@cardinality ivar id'>@cardinality</span> <span class='assign token'>=</span> <span class='Cardinality constant id'>Cardinality</span><span class='dot token'>.</span><span class='exactly identifier id'>exactly</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>once</h3>
</div><div id="once-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>once</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq: once() -&gt; expectation
</p>
<p>
Modifies expectation so that the expected method must be called exactly
once. Note that this is the default behaviour for an expectation, but you
may wish to use it for clarity/emphasis.
</p>
<pre class="code">
  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='once identifier id'>once</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span>
  <span class='comment val'># =&gt; verify succeeds</span>

  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='once identifier id'>once</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span>
  <span class='comment val'># =&gt; verify fails</span>

  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='once identifier id'>once</span>
  <span class='comment val'># =&gt; verify fails</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 89</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L89">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">89
90
91
92</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='once identifier id'>once</span>
  <span class='@cardinality ivar id'>@cardinality</span> <span class='assign token'>=</span> <span class='Cardinality constant id'>Cardinality</span><span class='dot token'>.</span><span class='exactly identifier id'>exactly</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>perform_side_effects</h3>
</div><div id="perform_side_effects-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>perform_side_effects</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 410</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L410">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">410
411
412</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='perform_side_effects identifier id'>perform_side_effects</span>
  <span class='@side_effects ivar id'>@side_effects</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='side_effect identifier id'>side_effect</span><span class='bitor op'>|</span> <span class='side_effect identifier id'>side_effect</span><span class='dot token'>.</span><span class='perform identifier id'>perform</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>raises</h3>
</div><div id="raises-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>raises</span><span class='args'>(exception = RuntimeError, message = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq: raises(exception = RuntimeError, message = nil) -&gt;
expectation
</p>
<p>
Modifies expectation so that when the expected method is called, it raises
the specified <tt>exception</tt> with the specified <tt>message</tt>.
</p>
<pre class="code">
  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='raises identifier id'>raises</span><span class='lparen token'>(</span><span class='Exception constant id'>Exception</span><span class='comma token'>,</span> <span class='string val'>'message'</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='comment val'># =&gt; raises exception of class Exception and with message 'message'</span>
</pre>
<p>
May be called multiple times on the same expectation. Also see
Expectation#then.
</p>
<pre class="code">
  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='stubs identifier id'>stubs</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='raises identifier id'>raises</span><span class='lparen token'>(</span><span class='Exception1 constant id'>Exception1</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='then identifier id'>then</span><span class='dot token'>.</span><span class='raises identifier id'>raises</span><span class='lparen token'>(</span><span class='Exception2 constant id'>Exception2</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='comment val'># =&gt; raises exception of class Exception1</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='comment val'># =&gt; raises exception of class Exception2</span>
</pre>
<p>
May be called in conjunction with Expectation#returns on the same
expectation.
</p>
<pre class="code">
  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='stubs identifier id'>stubs</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='raises identifier id'>raises</span><span class='lparen token'>(</span><span class='Exception constant id'>Exception</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='then identifier id'>then</span><span class='dot token'>.</span><span class='returns identifier id'>returns</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='comma token'>,</span> <span class='integer val'>3</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='comment val'># =&gt; raises exception of class Exception1</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='comment val'># =&gt; 2</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='comment val'># =&gt; 3</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 305</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L305">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">305
306
307
308</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='raises identifier id'>raises</span><span class='lparen token'>(</span><span class='exception identifier id'>exception</span> <span class='assign token'>=</span> <span class='RuntimeError constant id'>RuntimeError</span><span class='comma token'>,</span> <span class='message identifier id'>message</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='@return_values ivar id'>@return_values</span> <span class='opasgn op'>+=</span> <span class='ReturnValues constant id'>ReturnValues</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='ExceptionRaiser constant id'>ExceptionRaiser</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='exception identifier id'>exception</span><span class='comma token'>,</span> <span class='message identifier id'>message</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>returns</h3>
</div><div id="returns-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>returns</span><span class='args'>(*values)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq: returns(value) -&gt; expectation
</p>
<pre class="code">
           <span class='returns identifier id'>returns</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='values identifier id'>values</span><span class='rparen token'>)</span> <span class='minus op'>-</span><span class='gt op'>&gt;</span> <span class='expectation identifier id'>expectation</span>
</pre>
<p>
Modifies expectation so that when the expected method is called, it returns
the specified <tt>value</tt>.
</p>
<pre class="code">
  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='stubs identifier id'>stubs</span><span class='lparen token'>(</span><span class='symbol val'>:stubbed_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='returns identifier id'>returns</span><span class='lparen token'>(</span><span class='string val'>'result'</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='stubbed_method identifier id'>stubbed_method</span> <span class='comment val'># =&gt; 'result'</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='stubbed_method identifier id'>stubbed_method</span> <span class='comment val'># =&gt; 'result'</span>
</pre>
<p>
If multiple <tt>values</tt> are given, these are returned in turn on
consecutive calls to the method.
</p>
<pre class="code">
  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='stubs identifier id'>stubs</span><span class='lparen token'>(</span><span class='symbol val'>:stubbed_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='returns identifier id'>returns</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='integer val'>2</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='stubbed_method identifier id'>stubbed_method</span> <span class='comment val'># =&gt; 1</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='stubbed_method identifier id'>stubbed_method</span> <span class='comment val'># =&gt; 2</span>
</pre>
<p>
May be called multiple times on the same expectation. Also see
Expectation#then.
</p>
<pre class="code">
  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='stubs identifier id'>stubs</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='returns identifier id'>returns</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='integer val'>2</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='then identifier id'>then</span><span class='dot token'>.</span><span class='returns identifier id'>returns</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='comment val'># =&gt; 1</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='comment val'># =&gt; 2</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='comment val'># =&gt; 3</span>
</pre>
<p>
May be called in conjunction with Expectation#raises on the same
expectation.
</p>
<pre class="code">
  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='stubs identifier id'>stubs</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='returns identifier id'>returns</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='integer val'>2</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='then identifier id'>then</span><span class='dot token'>.</span><span class='raises identifier id'>raises</span><span class='lparen token'>(</span><span class='Exception constant id'>Exception</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='comment val'># =&gt; 1</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='comment val'># =&gt; 2</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='comment val'># =&gt; raises exception of class Exception1</span>
</pre>
<p>
Note that in Ruby a method returning multiple values is exactly equivalent
to a method returning an Array of those values.
</p>
<pre class="code">
  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='stubs identifier id'>stubs</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='returns identifier id'>returns</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='integer val'>2</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='x identifier id'>x</span><span class='comma token'>,</span> <span class='y identifier id'>y</span> <span class='assign token'>=</span> <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span>
  <span class='x identifier id'>x</span> <span class='comment val'># =&gt; 1</span>
  <span class='y identifier id'>y</span> <span class='comment val'># =&gt; 2</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 283</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L283">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">283
284
285
286</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='returns identifier id'>returns</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='values identifier id'>values</span><span class='rparen token'>)</span>
  <span class='@return_values ivar id'>@return_values</span> <span class='opasgn op'>+=</span> <span class='ReturnValues constant id'>ReturnValues</span><span class='dot token'>.</span><span class='build identifier id'>build</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='values identifier id'>values</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>satisfied?</h3>
</div><div id="satisfied-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>satisfied?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 430</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L430">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">430
431
432</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='satisfied? fid id'>satisfied?</span>
  <span class='@cardinality ivar id'>@cardinality</span><span class='dot token'>.</span><span class='satisfied? fid id'>satisfied?</span><span class='lparen token'>(</span><span class='@invocation_count ivar id'>@invocation_count</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>then</h3>
</div><div id="then-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>then</span><span class='args'>(*parameters)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq: then() -&gt; expectation
</p>
<pre class="code">
           <span class='then then kw'>then</span><span class='lparen token'>(</span><span class='state_machine identifier id'>state_machine</span><span class='dot token'>.</span><span class='is identifier id'>is</span><span class='lparen token'>(</span><span class='state identifier id'>state</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='minus op'>-</span><span class='gt op'>&gt;</span> <span class='expectation identifier id'>expectation</span>
</pre>
<p>
<tt>then()</tt> is used as syntactic sugar to improve readability. It has
no effect on state of the expectation.
</p>
<pre class="code">
  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='stubs identifier id'>stubs</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='returns identifier id'>returns</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='integer val'>2</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='then identifier id'>then</span><span class='dot token'>.</span><span class='raises identifier id'>raises</span><span class='lparen token'>(</span><span class='Exception constant id'>Exception</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='then identifier id'>then</span><span class='dot token'>.</span><span class='returns identifier id'>returns</span><span class='lparen token'>(</span><span class='integer val'>4</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='comment val'># =&gt; 1</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='comment val'># =&gt; 2</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='comment val'># =&gt; raises exception of class Exception</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='comment val'># =&gt; 4</span>
</pre>
<p>
<tt>then(state_machine.is(state))</tt> is used to change the
<tt>state_machine</tt> to the specified <tt>state</tt> when the invocation
occurs.
</p>
<p>
See also API#states, StateMachine and Expectation#when.
</p>
<pre class="code">
  <span class='power identifier id'>power</span> <span class='assign token'>=</span> <span class='states identifier id'>states</span><span class='lparen token'>(</span><span class='string val'>'power'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='starts_as identifier id'>starts_as</span><span class='lparen token'>(</span><span class='string val'>'off'</span><span class='rparen token'>)</span>

  <span class='radio identifier id'>radio</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='string val'>'radio'</span><span class='rparen token'>)</span>
  <span class='radio identifier id'>radio</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:switch_on</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='then identifier id'>then</span><span class='lparen token'>(</span><span class='power identifier id'>power</span><span class='dot token'>.</span><span class='is identifier id'>is</span><span class='lparen token'>(</span><span class='string val'>'on'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='radio identifier id'>radio</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:select_channel</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='string val'>'BBC Radio 4'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='when identifier id'>when</span><span class='lparen token'>(</span><span class='power identifier id'>power</span><span class='dot token'>.</span><span class='is identifier id'>is</span><span class='lparen token'>(</span><span class='string val'>'on'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='radio identifier id'>radio</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:adjust_volume</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='integer val'>+5</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='when identifier id'>when</span><span class='lparen token'>(</span><span class='power identifier id'>power</span><span class='dot token'>.</span><span class='is identifier id'>is</span><span class='lparen token'>(</span><span class='string val'>'on'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='radio identifier id'>radio</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:select_channel</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='string val'>'BBC World Service'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='when identifier id'>when</span><span class='lparen token'>(</span><span class='power identifier id'>power</span><span class='dot token'>.</span><span class='is identifier id'>is</span><span class='lparen token'>(</span><span class='string val'>'on'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='radio identifier id'>radio</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:adjust_volume</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='integer val'>-5</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='when identifier id'>when</span><span class='lparen token'>(</span><span class='power identifier id'>power</span><span class='dot token'>.</span><span class='is identifier id'>is</span><span class='lparen token'>(</span><span class='string val'>'on'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='radio identifier id'>radio</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:switch_off</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='then identifier id'>then</span><span class='lparen token'>(</span><span class='power identifier id'>power</span><span class='dot token'>.</span><span class='is identifier id'>is</span><span class='lparen token'>(</span><span class='string val'>'off'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 333</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L333">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">333
334
335
336
337
338
339</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='then then kw'>then</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='parameters identifier id'>parameters</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='parameters identifier id'>parameters</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='eq op'>==</span> <span class='integer val'>1</span>
    <span class='state identifier id'>state</span> <span class='assign token'>=</span> <span class='parameters identifier id'>parameters</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
    <span class='add_side_effect identifier id'>add_side_effect</span><span class='lparen token'>(</span><span class='ChangeStateSideEffect constant id'>ChangeStateSideEffect</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='state identifier id'>state</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>times</h3>
</div><div id="times-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>times</span><span class='args'>(range)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq: times(range) -&gt; expectation
</p>
<p>
Modifies expectation so that the number of calls to the expected method
must be within a specific <tt>range</tt>.
</p>
<p>
<tt>range</tt> can be specified as an exact integer or as a range of
integers
</p>
<pre class="code">
  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='times identifier id'>times</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='rparen token'>)</span>
  <span class='float val'>3</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='lbrace token'>{</span> <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='rbrace token'>}</span>
  <span class='comment val'># =&gt; verify succeeds</span>

  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='times identifier id'>times</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='rparen token'>)</span>
  <span class='float val'>2</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='lbrace token'>{</span> <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='rbrace token'>}</span>
  <span class='comment val'># =&gt; verify fails</span>

  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='times identifier id'>times</span><span class='lparen token'>(</span><span class='float val'>2</span><span class='dot2 op'>..</span><span class='integer val'>4</span><span class='rparen token'>)</span>
  <span class='float val'>3</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='lbrace token'>{</span> <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='rbrace token'>}</span>
  <span class='comment val'># =&gt; verify succeeds</span>

  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='times identifier id'>times</span><span class='lparen token'>(</span><span class='float val'>2</span><span class='dot2 op'>..</span><span class='integer val'>4</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span>
  <span class='comment val'># =&gt; verify fails</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 41</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L41">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">41
42
43
44</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='times identifier id'>times</span><span class='lparen token'>(</span><span class='range identifier id'>range</span><span class='rparen token'>)</span>
  <span class='@cardinality ivar id'>@cardinality</span> <span class='assign token'>=</span> <span class='Cardinality constant id'>Cardinality</span><span class='dot token'>.</span><span class='times identifier id'>times</span><span class='lparen token'>(</span><span class='range identifier id'>range</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>twice</h3>
</div><div id="twice-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>twice</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq: twice() -&gt; expectation
</p>
<p>
Modifies expectation so that the expected method must be called exactly
twice.
</p>
<pre class="code">
  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='twice identifier id'>twice</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span>
  <span class='comment val'># =&gt; verify succeeds</span>

  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='twice identifier id'>twice</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span>
  <span class='comment val'># =&gt; verify fails</span>

  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='twice identifier id'>twice</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span>
  <span class='comment val'># =&gt; verify fails</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 66</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L66">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">66
67
68
69</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='twice identifier id'>twice</span>
  <span class='@cardinality ivar id'>@cardinality</span> <span class='assign token'>=</span> <span class='Cardinality constant id'>Cardinality</span><span class='dot token'>.</span><span class='exactly identifier id'>exactly</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>used?</h3>
</div><div id="used-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>used?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 450</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L450">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">450
451
452</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='used? fid id'>used?</span>
  <span class='@cardinality ivar id'>@cardinality</span><span class='dot token'>.</span><span class='used? fid id'>used?</span><span class='lparen token'>(</span><span class='@invocation_count ivar id'>@invocation_count</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>verified?</h3>
</div><div id="verified-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>verified?</span><span class='args'>(assertion_counter = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 445</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L445">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">445
446
447
448</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='verified? fid id'>verified?</span><span class='lparen token'>(</span><span class='assertion_counter identifier id'>assertion_counter</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='assertion_counter identifier id'>assertion_counter</span><span class='dot token'>.</span><span class='increment identifier id'>increment</span> <span class='if if_mod kw'>if</span> <span class='assertion_counter identifier id'>assertion_counter</span> <span class='andop op'>&amp;&amp;</span> <span class='@cardinality ivar id'>@cardinality</span><span class='dot token'>.</span><span class='needs_verifying? fid id'>needs_verifying?</span>
  <span class='@cardinality ivar id'>@cardinality</span><span class='dot token'>.</span><span class='verified? fid id'>verified?</span><span class='lparen token'>(</span><span class='@invocation_count ivar id'>@invocation_count</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>when</h3>
</div><div id="when-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>when</span><span class='args'>(state_predicate)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq: when(state_machine.is(state)) -&gt; exception
</p>
<p>
Constrains the expectation to occur only when the <tt>state_machine</tt> is
in the named <tt>state</tt>.
</p>
<p>
See also API#states, StateMachine#starts_as and Expectation#then.
</p>
<pre class="code">
  <span class='power identifier id'>power</span> <span class='assign token'>=</span> <span class='states identifier id'>states</span><span class='lparen token'>(</span><span class='string val'>'power'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='starts_as identifier id'>starts_as</span><span class='lparen token'>(</span><span class='string val'>'off'</span><span class='rparen token'>)</span>

  <span class='radio identifier id'>radio</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='string val'>'radio'</span><span class='rparen token'>)</span>
  <span class='radio identifier id'>radio</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:switch_on</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='then identifier id'>then</span><span class='lparen token'>(</span><span class='power identifier id'>power</span><span class='dot token'>.</span><span class='is identifier id'>is</span><span class='lparen token'>(</span><span class='string val'>'on'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='radio identifier id'>radio</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:select_channel</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='string val'>'BBC Radio 4'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='when identifier id'>when</span><span class='lparen token'>(</span><span class='power identifier id'>power</span><span class='dot token'>.</span><span class='is identifier id'>is</span><span class='lparen token'>(</span><span class='string val'>'on'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='radio identifier id'>radio</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:adjust_volume</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='integer val'>+5</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='when identifier id'>when</span><span class='lparen token'>(</span><span class='power identifier id'>power</span><span class='dot token'>.</span><span class='is identifier id'>is</span><span class='lparen token'>(</span><span class='string val'>'on'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='radio identifier id'>radio</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:select_channel</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='string val'>'BBC World Service'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='when identifier id'>when</span><span class='lparen token'>(</span><span class='power identifier id'>power</span><span class='dot token'>.</span><span class='is identifier id'>is</span><span class='lparen token'>(</span><span class='string val'>'on'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='radio identifier id'>radio</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:adjust_volume</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='integer val'>-5</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='when identifier id'>when</span><span class='lparen token'>(</span><span class='power identifier id'>power</span><span class='dot token'>.</span><span class='is identifier id'>is</span><span class='lparen token'>(</span><span class='string val'>'on'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='radio identifier id'>radio</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:switch_off</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='then identifier id'>then</span><span class='lparen token'>(</span><span class='power identifier id'>power</span><span class='dot token'>.</span><span class='is identifier id'>is</span><span class='lparen token'>(</span><span class='string val'>'off'</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 355</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L355">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">355
356
357
358</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='when when kw'>when</span><span class='lparen token'>(</span><span class='state_predicate identifier id'>state_predicate</span><span class='rparen token'>)</span>
  <span class='add_ordering_constraint identifier id'>add_ordering_constraint</span><span class='lparen token'>(</span><span class='InStateOrderingConstraint constant id'>InStateOrderingConstraint</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='state_predicate identifier id'>state_predicate</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>with</h3>
</div><div id="with-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>with</span><span class='args'>(*expected_parameters, &amp;matching_block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq: with(*expected_parameters, &amp;matching_block) -&gt;
expectation
</p>
<p>
Modifies expectation so that the expected method must be called with
<tt>expected_parameters</tt>.
</p>
<pre class="code">
  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='symbol val'>:param1</span><span class='comma token'>,</span> <span class='symbol val'>:param2</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span><span class='lparen token'>(</span><span class='symbol val'>:param1</span><span class='comma token'>,</span> <span class='symbol val'>:param2</span><span class='rparen token'>)</span>
  <span class='comment val'># =&gt; verify succeeds</span>

  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='symbol val'>:param1</span><span class='comma token'>,</span> <span class='symbol val'>:param2</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span><span class='lparen token'>(</span><span class='symbol val'>:param3</span><span class='rparen token'>)</span>
  <span class='comment val'># =&gt; verify fails</span>
</pre>
<p>
May be used with parameter matchers in Mocha::ParameterMatchers.
</p>
<p>
If a <tt>matching_block</tt> is given, the block is called with the
parameters passed to the expected method. The expectation is matched if the
block evaluates to <tt>true</tt>.
</p>
<pre class="code">
  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='value identifier id'>value</span><span class='bitor op'>|</span> <span class='value identifier id'>value</span> <span class='mod op'>%</span> <span class='integer val'>4</span> <span class='eq op'>==</span> <span class='integer val'>0</span> <span class='rbrace token'>}</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span><span class='lparen token'>(</span><span class='integer val'>16</span><span class='rparen token'>)</span>
  <span class='comment val'># =&gt; verify succeeds</span>

  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='value identifier id'>value</span><span class='bitor op'>|</span> <span class='value identifier id'>value</span> <span class='mod op'>%</span> <span class='integer val'>4</span> <span class='eq op'>==</span> <span class='integer val'>0</span> <span class='rbrace token'>}</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span><span class='lparen token'>(</span><span class='integer val'>17</span><span class='rparen token'>)</span>
  <span class='comment val'># =&gt; verify fails</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 203</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L203">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">203
204
205
206</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='expected_parameters identifier id'>expected_parameters</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='matching_block identifier id'>matching_block</span><span class='rparen token'>)</span>
  <span class='@parameters_matcher ivar id'>@parameters_matcher</span> <span class='assign token'>=</span> <span class='ParametersMatcher constant id'>ParametersMatcher</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='expected_parameters identifier id'>expected_parameters</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='matching_block identifier id'>matching_block</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>yields</h3>
</div><div id="yields-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>yields</span><span class='args'>(*parameters)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq: yields(*parameters) -&gt; expectation
</p>
<p>
Modifies expectation so that when the expected method is called, it yields
with the specified <tt>parameters</tt>.
</p>
<pre class="code">
  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expects identifier id'>expects</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='yields identifier id'>yields</span><span class='lparen token'>(</span><span class='string val'>'result'</span><span class='rparen token'>)</span>
  <span class='yielded_value identifier id'>yielded_value</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='value identifier id'>value</span><span class='bitor op'>|</span> <span class='yielded_value identifier id'>yielded_value</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span> <span class='rbrace token'>}</span>
  <span class='yielded_value identifier id'>yielded_value</span> <span class='comment val'># =&gt; 'result'</span>
</pre>
<p>
May be called multiple times on the same expectation for consecutive
invocations. Also see Expectation#then.
</p>
<pre class="code">
  <span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='stubs identifier id'>stubs</span><span class='lparen token'>(</span><span class='symbol val'>:expected_method</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='yields identifier id'>yields</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='then identifier id'>then</span><span class='dot token'>.</span><span class='yields identifier id'>yields</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span>
  <span class='yielded_values_from_first_invocation identifier id'>yielded_values_from_first_invocation</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='yielded_values_from_second_invocation identifier id'>yielded_values_from_second_invocation</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='value identifier id'>value</span><span class='bitor op'>|</span> <span class='yielded_values_from_first_invocation identifier id'>yielded_values_from_first_invocation</span> <span class='lshft op'>&lt;&lt;</span> <span class='value identifier id'>value</span> <span class='rbrace token'>}</span> <span class='comment val'># first invocation</span>
  <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='expected_method identifier id'>expected_method</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='value identifier id'>value</span><span class='bitor op'>|</span> <span class='yielded_values_from_second_invocation identifier id'>yielded_values_from_second_invocation</span> <span class='lshft op'>&lt;&lt;</span> <span class='value identifier id'>value</span> <span class='rbrace token'>}</span> <span class='comment val'># second invocation</span>
  <span class='yielded_values_from_first_invocation identifier id'>yielded_values_from_first_invocation</span> <span class='comment val'># =&gt; [1]</span>
  <span class='yielded_values_from_second_invocation identifier id'>yielded_values_from_second_invocation</span> <span class='comment val'># =&gt; [2]</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/mocha/expectation.rb', line 225</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/floehopper/mocha/blob/213ce2187a84c25eeb7040238a8ce703c843f015/lib/mocha/expectation.rb#L225">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">225
226
227
228</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='yields identifier id'>yields</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='parameters identifier id'>parameters</span><span class='rparen token'>)</span>
  <span class='@yield_parameters ivar id'>@yield_parameters</span><span class='dot token'>.</span><span class='add identifier id'>add</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='parameters identifier id'>parameters</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>