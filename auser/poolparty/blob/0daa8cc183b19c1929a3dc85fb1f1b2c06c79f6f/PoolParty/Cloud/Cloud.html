<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>auser's poolparty - Class: PoolParty::Cloud::Cloud - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/auser/commits/poolparty/master" rel="alternate" title="Recent Commits to poolparty:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("auser", "poolparty", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='auser/poolparty/blob/0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='auser/poolparty/blob/0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("auser", "poolparty", "0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/auser/poolparty/tree/">Source</a></li>
            <li class=""><a href="http://github.com/auser/poolparty/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/auser/poolparty/network">Network</a></li>            
            <li class=""><a href="http://github.com/auser/poolparty/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/auser/poolparty">Wiki</a></li>
            <li class=""><a href="http://github.com/auser/poolparty/graphs">Graphs</a></li>                    
            <li class="active"><a href="/auser/poolparty">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/auser">auser</a> / <b><a href="http://github.com/auser/poolparty/tree">poolparty</a></b>        
                <a id="namespaces_button" rel="auser/poolparty/blob/0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="auser/poolparty/blob/0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class PoolParty_Cloud_Cloud">
  <h1>Class: PoolParty::Cloud::Cloud</h1>
  <div class="section inheritance">
  <ul>
  <li><a title="Object" href="../../Object.html">Object</a></li><ul><li><a title="PoolParty::PoolPartyBaseClass" href="../PoolPartyBaseClass.html">PoolParty::PoolPartyBaseClass</a></li><ul><li>PoolParty::Cloud::Cloud</li>
  </ul></ul></ul>
</div><div class="section mixins">
  <h2>Included Modules</h2>
  <p><a title="PoolParty::CloudResourcer" href="Cloud/CloudResourcer.html">PoolParty::CloudResourcer</a>, <a title="PoolParty::PluginModel" href="../PoolParty/PluginModel.html">PoolParty::PluginModel</a>, <a title="PoolParty::Resources" href="../PoolParty/Resources.html">PoolParty::Resources</a>, <a title="PoolParty::Callbacks" href="../PoolParty/Callbacks.html">PoolParty::Callbacks</a>, <a title="PoolParty::DependencyResolverCloudExtensions" href="../PoolParty/DependencyResolverCloudExtensions.html">PoolParty::DependencyResolverCloudExtensions</a>, <a title="PoolParty::PrettyPrinter" href="Cloud/PrettyPrinter.html">PoolParty::PrettyPrinter</a>, <a title="PoolParty::Remote" href="../Remote.html">PoolParty::Remote</a>, <a title="PoolParty::CloudDsl" href="../PoolParty/CloudDsl.html">PoolParty::CloudDsl</a>, <a title="PoolParty::Verification" href="../PoolParty/Verification.html">PoolParty::Verification</a></p>
</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">cloud_name</td>
          <td class="readwrite">
            [<span id='cloud_name-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>cloud_name</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">remote_base</td>
          <td class="readwrite">
            [<span id='remote_base-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>remote_base</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">started_instance</td>
          <td class="readwrite">
            [<span id='started_instance-instance_method'>R</span><span id='started_instance%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>started_instance</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">templates</td>
          <td class="readwrite">
            [<span id='templates-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>templates</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(name, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Freeze the cloud_name so we can&#8217;t modify it at all, set the
plugin_directory call and run instance_eval on the block and then call the
after_create callback
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 89</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/auser/poolparty/blob/0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f/lib/poolparty/poolparty/cloud.rb#L89">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">89
90
91
92
93
94
95
96
97
98
99</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='@cloud_name ivar id'>@cloud_name</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span>
  <span class='@cloud_name ivar id'>@cloud_name</span><span class='dot token'>.</span><span class='freeze identifier id'>freeze</span>
  
  <span class='setup_callbacks identifier id'>setup_callbacks</span>
  
  <span class='plugin_directory identifier id'>plugin_directory</span> <span class='dstring node'>&quot;#{pool_specfile ? ::File.dirname(pool_specfile) : Dir.pwd}/plugins&quot;</span>        
  <span class='before_create identifier id'>before_create</span>
  <span class='super super kw'>super</span>
  <span class='after_create identifier id'>after_create</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div><div class="section methodmissing">
  <h2>Dynamic Method Handling</h2>

  <p class="note">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
  </p>

  <div id="method_missing-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>method_missing</span><span class='args'>(m, *args, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Call the remoter commands on the remoter_base if they don&#8217;t exist on
the cloud itself. This gives the cloud access to the remote_base&#8217;s
methods.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 53</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/auser/poolparty/blob/0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f/lib/poolparty/poolparty/cloud.rb#L53">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">53
54
55
56
57
58
59
60
61
62
63
64
65
66
67</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='method_missing identifier id'>method_missing</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='remote_base identifier id'>remote_base</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='rparen token'>)</span>
    <span class='remoter_opts identifier id'>remoter_opts</span> <span class='assign token'>=</span> <span class='dsl_options identifier id'>dsl_options</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='remote_base identifier id'>remote_base</span><span class='dot token'>.</span><span class='dsl_options identifier id'>dsl_options</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='choose identifier id'>choose</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span>
       <span class='remote_base identifier id'>remote_base</span><span class='dot token'>.</span><span class='dsl_options identifier id'>dsl_options</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='if if kw'>if</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='eq op'>==</span><span class='integer val'>1</span> <span class='andop op'>&amp;&amp;</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='colon op'>:</span><span class='merge identifier id'>merge</span><span class='rparen token'>)</span>
      <span class='new_args identifier id'>new_args</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='remoter_opts identifier id'>remoter_opts</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='rparen token'>)</span><span class='rbrack token'>]</span>
    <span class='else else kw'>else</span>
      <span class='new_args identifier id'>new_args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='remoter_opts identifier id'>remoter_opts</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='remote_base identifier id'>remote_base</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='lparen token'>(</span><span class='new_args identifier id'>new_args</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='super super kw'>super</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#immutable_methods-class_method">immutable_methods</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
include PoolParty::Monitors.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#method_added-class_method">method_added</span><span class='args'>(sym)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Redefining methods are not allowed.
</p>

        
      </td>
    </tr>
  
</table><div class="inherited">
  
  <div>
    <h2>Public Class Methods Inherited from <a title="PoolParty::PoolPartyBaseClass" href="../PoolPartyBaseClass.html">PoolParty::PoolPartyBaseClass</a></h2>
    <p><span class='name'><a title="add_has_and_does_not_have_methods_for" href="../PoolPartyBaseClass.html#add_has_and_does_not_have_methods_for-class_method">add_has_and_does_not_have_methods_for</a></span>, <span class='name'><a title="add_resource_lookup_method" href="../PoolPartyBaseClass.html#add_resource_lookup_method-class_method">add_resource_lookup_method</a></span></p>
  </div>
  
</div>
<div class="clear"></div><div class="included">
  
  <div>
    <h2>Public Class Methods Included from <a title="PoolParty::Verification" href="../PoolParty/Verification.html">PoolParty::Verification</a></h2>
    <p><span class='name'><a title="included" href="../Verification.html#included-class_method">included</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#add_poolparty_base_requirements-instance_method">#add_poolparty_base_requirements</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Add all the poolparty requirements here NOTE: These are written as plugins
in the lib/poolparty/base_packages directory for examples.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#after_create-instance_method">#after_create</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Callback called after the cloud has been created, everything has run and is
set at this point here the base requirements are added as well as an empty
chef recipe is called Also, the after_create hook on the plugins used by
the cloud are called here.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#after_launch_instance-instance_method">#after_launch_instance</span><span class='args'>(inst = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#before_create-instance_method">#before_create</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#build_and_store_new_config_file-instance_method">#build_and_store_new_config_file</span><span class='args'>(filepath = nil, force = false)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Build the new poolparty manifest Wrapping all of these requirements into
the one poolparty class.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#build_from_existing_file-instance_method">#build_from_existing_file</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
If the pp already exists, then let&#8217;s not recreate it TODO: Abstract.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#build_manifest-instance_method">#build_manifest</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
FIXME MOVE TO DEPENDECY RESOL Configuration files.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#copy_custom_monitors-instance_method">#copy_custom_monitors</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
If there is a directory named monitors in the same directory as the pool
specification file is in, then create a monitors directory in the storage
directory and mirror the two.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#ip-instance_method">#ip</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
TODO: make this be a random ip, since we should not rely on it being the
same each time.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#ips-instance_method">#ips</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
provide list of public ips to get into the cloud.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#rebuild_manifest-instance_method">#rebuild_manifest</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Force rebuilding of the manifest.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#reset-21-instance_method">#reset!</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Reset the entire cloud.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#setup_defaults-instance_method">#setup_defaults</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
setup defaults for the cloud.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_json-instance_method">#to_json</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#write_properties_hash-instance_method">#write_properties_hash</span><span class='args'>(filename = ::File.join(Default.tmp_path, Default.properties_hash_filename))</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table><div class="inherited">
  
  <div>
    <h2>Public Instance Methods Inherited from <a title="PoolParty::PoolPartyBaseClass" href="../PoolPartyBaseClass.html">PoolParty::PoolPartyBaseClass</a></h2>
    <p><span class='name'><a title="add_resource" href="../PoolPartyBaseClass.html#add_resource-instance_method">add_resource</a></span>, <span class='name'><a title="add_service" href="../PoolPartyBaseClass.html#add_service-instance_method">add_service</a></span>, <span class='name'><a title="add_to_parent_if_parent_exists_and_is_a_service" href="../PoolPartyBaseClass.html#add_to_parent_if_parent_exists_and_is_a_service-instance_method">add_to_parent_if_parent_exists_and_is_a_service</a></span>, <span class='name'><a title="get_local_resource" href="../PoolPartyBaseClass.html#get_local_resource-instance_method">get_local_resource</a></span>, <span class='name'><a title="get_name_from_options_and_extra_options" href="../PoolPartyBaseClass.html#get_name_from_options_and_extra_options-instance_method">get_name_from_options_and_extra_options</a></span>, <span class='name'><a title="get_resource" href="../PoolPartyBaseClass.html#get_resource-instance_method">get_resource</a></span>, <span class='name'><a title="handle_option_values" href="../PoolPartyBaseClass.html#handle_option_values-instance_method">handle_option_values</a></span>, <span class='name'><a title="in_local_resources?" href="../PoolPartyBaseClass.html#in_local_resources%3F-instance_method">in_local_resources?</a></span>, <span class='name'><a title="is_a_resource?" href="../PoolPartyBaseClass.html#is_a_resource%3F-instance_method">is_a_resource?</a></span>, <span class='name'><a title="is_plugin?" href="../PoolPartyBaseClass.html#is_plugin%3F-instance_method">is_plugin?</a></span>, <span class='name'><a title="ordered_resources" href="../PoolPartyBaseClass.html#ordered_resources-instance_method">ordered_resources</a></span>, <span class='name'><a title="plugin_store" href="../PoolPartyBaseClass.html#plugin_store-instance_method">plugin_store</a></span>, <span class='name'><a title="resource" href="../PoolPartyBaseClass.html#resource-instance_method">resource</a></span>, <span class='name'><a title="resources" href="../PoolPartyBaseClass.html#resources-instance_method">resources</a></span>, <span class='name'><a title="run_in_context" href="../PoolPartyBaseClass.html#run_in_context-instance_method">run_in_context</a></span>, <span class='name'><a title="run_with_callbacks" href="../PoolPartyBaseClass.html#run_with_callbacks-instance_method">run_with_callbacks</a></span>, <span class='name'><a title="store_in_local_resources" href="../PoolPartyBaseClass.html#store_in_local_resources-instance_method">store_in_local_resources</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Inherited from <a title="Object" href="../../Object.html">Object</a></h2>
    <p><span class='name'><a title="alias_method" href="../../Object.html#alias_method-instance_method">alias_method</a></span>, <span class='name'><a title="block_instance_eval" href="../../Object.html#block_instance_eval-instance_method">block_instance_eval</a></span>, <span class='name'><a title="class_def" href="../../Object.html#class_def-instance_method">class_def</a></span>, <span class='name'><a title="debugging" href="../../Object.html#debugging-instance_method">debugging</a></span>, <span class='name'><a title="debugging?" href="../../Object.html#debugging%3F-instance_method">debugging?</a></span>, <span class='name'><a title="dprint" href="../../Object.html#dprint-instance_method">dprint</a></span>, <span class='name'><a title="dputs" href="../../Object.html#dputs-instance_method">dputs</a></span>, <span class='name'><a title="extended" href="../../Object.html#extended-instance_method">extended</a></span>, <span class='name'><a title="meta_def" href="../../Object.html#meta_def-instance_method">meta_def</a></span>, <span class='name'><a title="meta_eval" href="../../Object.html#meta_eval-instance_method">meta_eval</a></span>, <span class='name'><a title="meta_undef" href="../../Object.html#meta_undef-instance_method">meta_undef</a></span>, <span class='name'><a title="metaclass" href="../../Object.html#metaclass-instance_method">metaclass</a></span>, <span class='name'><a title="my_methods" href="../../Object.html#my_methods-instance_method">my_methods</a></span>, <span class='name'><a title="register_remote_base" href="../../Object.html#register_remote_base-instance_method">register_remote_base</a></span>, <span class='name'><a title="remote_bases" href="../../Object.html#remote_bases-instance_method">remote_bases</a></span>, <span class='name'><a title="respec_string" href="../../Object.html#respec_string-instance_method">respec_string</a></span>, <span class='name'><a title="returning" href="../../Object.html#returning-instance_method">returning</a></span>, <span class='name'><a title="testing" href="../../Object.html#testing-instance_method">testing</a></span>, <span class='name'><a title="this" href="../../Object.html#this-instance_method">this</a></span>, <span class='name'><a title="to_os" href="../../Object.html#to_os-instance_method">to_os</a></span>, <span class='name'><a title="unix_hide_string" href="../../Object.html#unix_hide_string-instance_method">unix_hide_string</a></span>, <span class='name'><a title="verbose?" href="../../Object.html#verbose%3F-instance_method">verbose?</a></span>, <span class='name'><a title="vprint" href="../../Object.html#vprint-instance_method">vprint</a></span>, <span class='name'><a title="vputs" href="../../Object.html#vputs-instance_method">vputs</a></span></p>
  </div>
  
</div>
<div class="clear"></div><div class="included">
  
  <div>
    <h2>Public Instance Methods Included from <a title="PoolParty::CloudResourcer" href="Cloud/CloudResourcer.html">PoolParty::CloudResourcer</a></h2>
    <p><span class='name'><a title="_keypair_filepaths" href="../CloudResourcer.html#_keypair_filepaths-instance_method">_keypair_filepaths</a></span>, <span class='name'><a title="_keypairs" href="../CloudResourcer.html#_keypairs-instance_method">_keypairs</a></span>, <span class='name'><a title="full_keypair_path" href="../CloudResourcer.html#full_keypair_path-instance_method">full_keypair_path</a></span>, <span class='name'><a title="instances" href="../CloudResourcer.html#instances-instance_method">instances</a></span>, <span class='name'><a title="keypair" href="../CloudResourcer.html#keypair-instance_method">keypair</a></span>, <span class='name'><a title="keypairs" href="../CloudResourcer.html#keypairs-instance_method">keypairs</a></span>, <span class='name'><a title="plugin_directory" href="../CloudResourcer.html#plugin_directory-instance_method">plugin_directory</a></span>, <span class='name'><a title="run_stored_block" href="../CloudResourcer.html#run_stored_block-instance_method">run_stored_block</a></span>, <span class='name'><a title="store_block" href="../CloudResourcer.html#store_block-instance_method">store_block</a></span>, <span class='name'><a title="stored_block" href="../CloudResourcer.html#stored_block-instance_method">stored_block</a></span>, <span class='name'><a title="update_from_schema" href="../CloudResourcer.html#update_from_schema-instance_method">update_from_schema</a></span>, <span class='name'><a title="using" href="../CloudResourcer.html#using-instance_method">using</a></span>, <span class='name'><a title="using_remoter?" href="../CloudResourcer.html#using_remoter%3F-instance_method">using_remoter?</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a title="PoolParty::PluginModel" href="../PoolParty/PluginModel.html">PoolParty::PluginModel</a></h2>
    <p><span class='name'><a title="plugin" href="../PluginModel.html#plugin-instance_method">plugin</a></span>, <span class='name'><a title="plugins" href="../PluginModel.html#plugins-instance_method">plugins</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a title="PoolParty::Resources" href="../PoolParty/Resources.html">PoolParty::Resources</a></h2>
    <p><span class='name'><a title="custom_file" href="../Resources.html#custom_file-instance_method">custom_file</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a title="PoolParty::DependencyResolverCloudExtensions" href="../PoolParty/DependencyResolverCloudExtensions.html">PoolParty::DependencyResolverCloudExtensions</a></h2>
    <p><span class='name'><a title="to_properties_hash" href="../DependencyResolverCloudExtensions.html#to_properties_hash-instance_method">to_properties_hash</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a title="PoolParty::PrettyPrinter" href="Cloud/PrettyPrinter.html">PoolParty::PrettyPrinter</a></h2>
    <p><span class='name'><a title="pretty_name" href="../PrettyPrinter.html#pretty_name-instance_method">pretty_name</a></span>, <span class='name'><a title="pretty_options" href="../PrettyPrinter.html#pretty_options-instance_method">pretty_options</a></span>, <span class='name'><a title="pretty_print" href="../PrettyPrinter.html#pretty_print-instance_method">pretty_print</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a title="PoolParty::Remote" href="../Remote.html">PoolParty::Remote</a></h2>
    <p><span class='name'><a title="are_any_nodes_exceeding_minimum_runtime?" href="../Remote.html#are_any_nodes_exceeding_minimum_runtime%3F-instance_method">are_any_nodes_exceeding_minimum_runtime?</a></span>, <span class='name'><a title="are_too_few_instances_running?" href="../Remote.html#are_too_few_instances_running%3F-instance_method">are_too_few_instances_running?</a></span>, <span class='name'><a title="are_too_many_instances_running?" href="../Remote.html#are_too_many_instances_running%3F-instance_method">are_too_many_instances_running?</a></span>, <span class='name'><a title="commands" href="../Remote.html#commands-instance_method">commands</a></span>, <span class='name'><a title="execute!" href="../Remote.html#execute%21-instance_method">execute!</a></span>, <span class='name'><a title="list_of_instances" href="../Remote.html#list_of_instances-instance_method">list_of_instances</a></span>, <span class='name'><a title="list_of_nodes_exceeding_minimum_runtime" href="../Remote.html#list_of_nodes_exceeding_minimum_runtime-instance_method">list_of_nodes_exceeding_minimum_runtime</a></span>, <span class='name'><a title="netssh" href="../Remote.html#netssh-instance_method">netssh</a></span>, <span class='name'><a title="nodes" href="../Remote.html#nodes-instance_method">nodes</a></span>, <span class='name'><a title="remote_rsync_command" href="../Remote.html#remote_rsync_command-instance_method">remote_rsync_command</a></span>, <span class='name'><a title="remote_ssh_array" href="../Remote.html#remote_ssh_array-instance_method">remote_ssh_array</a></span>, <span class='name'><a title="remote_ssh_string" href="../Remote.html#remote_ssh_string-instance_method">remote_ssh_string</a></span>, <span class='name'><a title="rsync" href="../Remote.html#rsync-instance_method">rsync</a></span>, <span class='name'><a title="rsync_command" href="../Remote.html#rsync_command-instance_method">rsync_command</a></span>, <span class='name'><a title="rsync_storage_files_to" href="../Remote.html#rsync_storage_files_to-instance_method">rsync_storage_files_to</a></span>, <span class='name'><a title="rsync_storage_files_to_command" href="../Remote.html#rsync_storage_files_to_command-instance_method">rsync_storage_files_to_command</a></span>, <span class='name'><a title="rsync_to" href="../Remote.html#rsync_to-instance_method">rsync_to</a></span>, <span class='name'><a title="rsync_to_command" href="../Remote.html#rsync_to_command-instance_method">rsync_to_command</a></span>, <span class='name'><a title="run_command_on" href="../Remote.html#run_command_on-instance_method">run_command_on</a></span>, <span class='name'><a title="run_command_on_command" href="../Remote.html#run_command_on_command-instance_method">run_command_on_command</a></span>, <span class='name'><a title="run_command_on_instance_number" href="../Remote.html#run_command_on_instance_number-instance_method">run_command_on_instance_number</a></span>, <span class='name'><a title="run_local" href="../Remote.html#run_local-instance_method">run_local</a></span>, <span class='name'><a title="run_remote" href="../Remote.html#run_remote-instance_method">run_remote</a></span>, <span class='name'><a title="scp_array" href="../Remote.html#scp_array-instance_method">scp_array</a></span>, <span class='name'><a title="scp_to_command" href="../Remote.html#scp_to_command-instance_method">scp_to_command</a></span>, <span class='name'><a title="simplest_run_remote" href="../Remote.html#simplest_run_remote-instance_method">simplest_run_remote</a></span>, <span class='name'><a title="ssh_array" href="../Remote.html#ssh_array-instance_method">ssh_array</a></span>, <span class='name'><a title="ssh_command" href="../Remote.html#ssh_command-instance_method">ssh_command</a></span>, <span class='name'><a title="ssh_into" href="../Remote.html#ssh_into-instance_method">ssh_into</a></span>, <span class='name'><a title="ssh_into_instance_number" href="../Remote.html#ssh_into_instance_number-instance_method">ssh_into_instance_number</a></span>, <span class='name'><a title="ssh_options" href="../Remote.html#ssh_options-instance_method">ssh_options</a></span>, <span class='name'><a title="ssh_string" href="../Remote.html#ssh_string-instance_method">ssh_string</a></span>, <span class='name'><a title="target_host" href="../Remote.html#target_host-instance_method">target_host</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a title="PoolParty::CloudDsl" href="../PoolParty/CloudDsl.html">PoolParty::CloudDsl</a></h2>
    <p><span class='name'><a title="add_optional_enabled_services" href="../CloudDsl.html#add_optional_enabled_services-instance_method">add_optional_enabled_services</a></span>, <span class='name'><a title="disable" href="../CloudDsl.html#disable-instance_method">disable</a></span>, <span class='name'><a title="enable" href="../CloudDsl.html#enable-instance_method">enable</a></span>, <span class='name'><a title="enabled?" href="../CloudDsl.html#enabled%3F-instance_method">enabled?</a></span>, <span class='name'><a title="set_dependency_resolver" href="../CloudDsl.html#set_dependency_resolver-instance_method">set_dependency_resolver</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>immutable_methods</h3>
</div><div id="immutable_methods-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>immutable_methods</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
include PoolParty::Monitors
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 40</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/auser/poolparty/blob/0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f/lib/poolparty/poolparty/cloud.rb#L40">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">40
41
42</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='immutable_methods identifier id'>immutable_methods</span>
  <span class='lbrack token'>[</span><span class='symbol val'>:name</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>method_added</h3>
</div><div id="method_added-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>method_added</span><span class='args'>(sym)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Redefining methods are not allowed
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 45</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/auser/poolparty/blob/0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f/lib/poolparty/poolparty/cloud.rb#L45">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">45
46
47</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='method_added identifier id'>method_added</span> <span class='sym identifier id'>sym</span>        
  <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Exception: #{sym.to_s.capitalize} method has been redefined&quot;</span> <span class='if if_mod kw'>if</span> <span class='immutable_methods identifier id'>immutable_methods</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='sym identifier id'>sym</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='notop op'>!</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='sym identifier id'>sym</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>add_poolparty_base_requirements</h3>
</div><div id="add_poolparty_base_requirements-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>add_poolparty_base_requirements</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Add all the poolparty requirements here NOTE: These are written as plugins
in the lib/poolparty/base_packages directory for examples. Also note that
there is no block associated. This is because we have written all that is
necessary in a method called enable which is called when there is no block
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 230</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/auser/poolparty/blob/0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f/lib/poolparty/poolparty/cloud.rb#L230">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">230
231
232
233
234</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='add_poolparty_base_requirements identifier id'>add_poolparty_base_requirements</span>
  <span class='comment val'># poolparty_base_heartbeat</span>
  <span class='poolparty_base_ruby identifier id'>poolparty_base_ruby</span>
  <span class='poolparty_base_packages identifier id'>poolparty_base_packages</span>        
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>after_create</h3>
</div><div id="after_create-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>after_create</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Callback called after the cloud has been created, everything has run and is
set at this point here the base requirements are added as well as an empty
chef recipe is called Also, the after_create hook on the plugins used by
the cloud are called here
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 120</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/auser/poolparty/blob/0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f/lib/poolparty/poolparty/cloud.rb#L120">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">120
121
122
123
124
125
126
127
128
129
130
131</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='after_create identifier id'>after_create</span>
  <span class='colon3 op'>::</span><span class='FileUtils constant id'>FileUtils</span><span class='dot token'>.</span><span class='mkdir_p identifier id'>mkdir_p</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{Default.tmp_path}/dr_configure&quot;</span><span class='rparen token'>)</span>
  
  <span class='run_in_context identifier id'>run_in_context</span> <span class='do do kw'>do</span>
    <span class='add_optional_enabled_services identifier id'>add_optional_enabled_services</span>
    <span class='chef identifier id'>chef</span> <span class='do do kw'>do</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  
  <span class='plugin_store identifier id'>plugin_store</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='call_after_create_callbacks identifier id'>call_after_create_callbacks</span> <span class='rbrace token'>}</span>
  <span class='setup_defaults identifier id'>setup_defaults</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>after_launch_instance</h3>
</div><div id="after_launch_instance-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>after_launch_instance</span><span class='args'>(inst = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 141</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/auser/poolparty/blob/0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f/lib/poolparty/poolparty/cloud.rb#L141">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">141
142
143</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='after_launch_instance identifier id'>after_launch_instance</span><span class='lparen token'>(</span><span class='inst identifier id'>inst</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='remote_base identifier id'>remote_base</span><span class='dot token'>.</span><span class='send identifier id'>send</span> <span class='symbol val'>:after_launch_instance</span><span class='comma token'>,</span> <span class='inst identifier id'>inst</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>before_create</h3>
</div><div id="before_create-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>before_create</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 106</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/auser/poolparty/blob/0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f/lib/poolparty/poolparty/cloud.rb#L106">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">106
107
108
109
110
111
112
113
114</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='before_create identifier id'>before_create</span>
  <span class='using identifier id'>using</span> <span class='Default constant id'>Default</span><span class='dot token'>.</span><span class='remoter_base identifier id'>remoter_base</span>
  <span class='comment val'># context_stack.push self</span>
  <span class='comment val'># TODO: PUT BACK IN</span>
  <span class='comment val'># (parent ? parent : self).</span>
  <span class='add_poolparty_base_requirements identifier id'>add_poolparty_base_requirements</span>
  <span class='comment val'># this can be overridden in the spec, but ec2 is the default        </span>
  <span class='comment val'># context_stack.pop</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>build_and_store_new_config_file</h3>
</div><div id="build_and_store_new_config_file-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>build_and_store_new_config_file</span><span class='args'>(filepath = nil, force = false)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Build the new poolparty manifest Wrapping all of these requirements into
the one poolparty class.
</p>
<p>
TODO: Consider the benefits of moving all the manifest classes to separate
files and keeping the containing references in the include
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 162</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/auser/poolparty/blob/0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f/lib/poolparty/poolparty/cloud.rb#L162">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">162
163
164
165
166
167
168
169
170</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='build_and_store_new_config_file identifier id'>build_and_store_new_config_file</span><span class='lparen token'>(</span><span class='filepath identifier id'>filepath</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='force identifier id'>force</span><span class='assign token'>=</span><span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='filepath identifier id'>filepath</span> <span class='opasgn op'>||=</span> <span class='colon3 op'>::</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='Default constant id'>Default</span><span class='dot token'>.</span><span class='storage_directory identifier id'>storage_directory</span><span class='comma token'>,</span> <span class='string val'>&quot;poolparty.pp&quot;</span><span class='rparen token'>)</span>
  <span class='comment val'># write_properties_hash if debugging</span>
  <span class='vputs identifier id'>vputs</span> <span class='dstring node'>&quot;Building new manifest configuration file (forced: #{force})&quot;</span>
  <span class='manifest identifier id'>manifest</span> <span class='assign token'>=</span> <span class='force identifier id'>force</span> <span class='integer val'>? </span><span class='rebuild_manifest identifier id'>rebuild_manifest</span> <span class='colon op'>:</span> <span class='build_manifest identifier id'>build_manifest</span>
  <span class='colon3 op'>::</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='filepath identifier id'>filepath</span><span class='comma token'>,</span> <span class='string val'>&quot;w&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='file identifier id'>file</span><span class='bitor op'>|</span>
    <span class='file identifier id'>file</span> <span class='lshft op'>&lt;&lt;</span> <span class='manifest identifier id'>manifest</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>build_from_existing_file</h3>
</div><div id="build_from_existing_file-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>build_from_existing_file</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
If the pp already exists, then let&#8217;s not recreate it TODO: Abstract
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 208</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/auser/poolparty/blob/0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f/lib/poolparty/poolparty/cloud.rb#L208">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">208
209
210</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='build_from_existing_file identifier id'>build_from_existing_file</span>
  <span class='colon3 op'>::</span><span class='FileTest constant id'>FileTest</span><span class='dot token'>.</span><span class='file? fid id'>file?</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{Default.base_config_directory}/poolparty.pp&quot;</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{Default.base_config_directory}/poolparty.pp&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='read identifier id'>read</span> <span class='colon op'>:</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>build_manifest</h3>
</div><div id="build_manifest-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>build_manifest</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
FIXME MOVE TO DEPENDECY RESOL Configuration files
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 188</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/auser/poolparty/blob/0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f/lib/poolparty/poolparty/cloud.rb#L188">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">188
189
190
191
192
193
194
195
196
197
198</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='build_manifest identifier id'>build_manifest</span>
  <span class='vputs identifier id'>vputs</span> <span class='string val'>&quot;Building manifest&quot;</span>
  <span class='@build_manifest ivar id'>@build_manifest</span> <span class='opasgn op'>||=</span> <span class='build_from_existing_file identifier id'>build_from_existing_file</span>
  <span class='unless unless kw'>unless</span> <span class='@build_manifest ivar id'>@build_manifest</span>
    <span class='props identifier id'>props</span> <span class='assign token'>=</span> <span class='to_properties_hash identifier id'>to_properties_hash</span>
    
    <span class='@build_manifest ivar id'>@build_manifest</span> <span class='assign token'>=</span> <span class='dependency_resolver identifier id'>dependency_resolver</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='symbol val'>:compile</span><span class='comma token'>,</span> <span class='props identifier id'>props</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='dputs identifier id'>dputs</span> <span class='string val'>&quot;Finished creating manifest&quot;</span>
  <span class='@build_manifest ivar id'>@build_manifest</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>copy_custom_monitors</h3>
</div><div id="copy_custom_monitors-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>copy_custom_monitors</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
If there is a directory named monitors in the same directory as the pool
specification file is in, then create a monitors directory in the storage
directory and mirror the two. When PoolParty &quot;boots&quot; up, it scans
the monitors directory for any custom monitors that are in known locations,
these are included
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 178</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/auser/poolparty/blob/0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f/lib/poolparty/poolparty/cloud.rb#L178">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">178
179
180
181
182
183
184</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='copy_custom_monitors identifier id'>copy_custom_monitors</span>
  <span class='unless unless kw'>unless</span> <span class='Default constant id'>Default</span><span class='dot token'>.</span><span class='custom_monitor_directories identifier id'>custom_monitor_directories</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
    <span class='Default constant id'>Default</span><span class='dot token'>.</span><span class='custom_monitor_directories identifier id'>custom_monitor_directories</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='dir identifier id'>dir</span><span class='bitor op'>|</span>
      <span class='Dir constant id'>Dir</span><span class='lbrack token'>[</span><span class='dstring node'>&quot;#{dir}/*.rb&quot;</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='f identifier id'>f</span><span class='bitor op'>|</span> <span class='colon3 op'>::</span><span class='Suitcase constant id'>Suitcase</span><span class='colon2 op'>::</span><span class='Zipper constant id'>Zipper</span><span class='dot token'>.</span><span class='add identifier id'>add</span><span class='lparen token'>(</span><span class='f identifier id'>f</span><span class='comma token'>,</span> <span class='string val'>&quot;monitors&quot;</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>ip</h3>
</div><div id="ip-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>ip</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
TODO: make this be a random ip, since we should not rely on it being the
same each time
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 151</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/auser/poolparty/blob/0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f/lib/poolparty/poolparty/cloud.rb#L151">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">151
152
153</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='ip identifier id'>ip</span>
  <span class='ips identifier id'>ips</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>ips</h3>
</div><div id="ips-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>ips</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
provide list of public ips to get into the cloud
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 146</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/auser/poolparty/blob/0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f/lib/poolparty/poolparty/cloud.rb#L146">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">146
147
148</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='ips identifier id'>ips</span>
  <span class='nodes identifier id'>nodes</span><span class='lparen token'>(</span><span class='symbol val'>:status</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;running&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='ri identifier id'>ri</span><span class='bitor op'>|</span> <span class='ri identifier id'>ri</span><span class='dot token'>.</span><span class='ip identifier id'>ip</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>rebuild_manifest</h3>
</div><div id="rebuild_manifest-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>rebuild_manifest</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Force rebuilding of the manifest
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 201</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/auser/poolparty/blob/0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f/lib/poolparty/poolparty/cloud.rb#L201">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">201
202
203
204</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='rebuild_manifest identifier id'>rebuild_manifest</span>
  <span class='@build_manifest ivar id'>@build_manifest</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='build_manifest identifier id'>build_manifest</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>reset!</h3>
</div><div id="reset-21-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>reset!</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Reset the entire cloud
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 237</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/auser/poolparty/blob/0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f/lib/poolparty/poolparty/cloud.rb#L237">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">237
238
239
240</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='reset! fid id'>reset!</span>
  <span class='reset_remoter_base! fid id'>reset_remoter_base!</span>
  <span class='@build_manifest ivar id'>@build_manifest</span> <span class='assign token'>=</span> <span class='@describe_instances ivar id'>@describe_instances</span> <span class='assign token'>=</span> <span class='@remote_instances_list ivar id'>@remote_instances_list</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>            
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>setup_defaults</h3>
</div><div id="setup_defaults-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>setup_defaults</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
setup defaults for the cloud
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 134</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/auser/poolparty/blob/0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f/lib/poolparty/poolparty/cloud.rb#L134">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">134
135
136
137
138
139</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='setup_defaults identifier id'>setup_defaults</span>
  <span class='set_vars_from_options identifier id'>set_vars_from_options</span><span class='lparen token'>(</span><span class='symbol val'>:keypair_name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='key identifier id'>key</span><span class='dot token'>.</span><span class='basename identifier id'>basename</span><span class='comma token'>,</span> <span class='symbol val'>:keypair_path</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='key identifier id'>key</span><span class='dot token'>.</span><span class='full_filepath identifier id'>full_filepath</span><span class='rparen token'>)</span>        
  <span class='dsl_options identifier id'>dsl_options</span><span class='lbrack token'>[</span><span class='symbol val'>:rules</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:expand</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='dsl_options identifier id'>dsl_options</span><span class='lbrack token'>[</span><span class='symbol val'>:expand_when</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:contract</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='dsl_options identifier id'>dsl_options</span><span class='lbrack token'>[</span><span class='symbol val'>:contract_when</span><span class='rbrack token'>]</span><span class='rbrace token'>}</span>        
  
  <span class='set_dependency_resolver identifier id'>set_dependency_resolver</span> <span class='string val'>'chef'</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_json</h3>
</div><div id="to_json-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_json</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 220</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/auser/poolparty/blob/0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f/lib/poolparty/poolparty/cloud.rb#L220">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">220
221
222</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_json identifier id'>to_json</span>
  <span class='to_properties_hash identifier id'>to_properties_hash</span><span class='dot token'>.</span><span class='to_json identifier id'>to_json</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>write_properties_hash</h3>
</div><div id="write_properties_hash-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>write_properties_hash</span><span class='args'>(filename = ::File.join(Default.tmp_path, Default.properties_hash_filename))</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/poolparty/poolparty/cloud.rb', line 212</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/auser/poolparty/blob/0daa8cc183b19c1929a3dc85fb1f1b2c06c79f6f/lib/poolparty/poolparty/cloud.rb#L212">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">212
213
214
215
216
217
218</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='write_properties_hash identifier id'>write_properties_hash</span><span class='lparen token'>(</span><span class='filename identifier id'>filename</span><span class='assign token'>=</span><span class='colon3 op'>::</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='Default constant id'>Default</span><span class='dot token'>.</span><span class='tmp_path identifier id'>tmp_path</span><span class='comma token'>,</span> <span class='Default constant id'>Default</span><span class='dot token'>.</span><span class='properties_hash_filename identifier id'>properties_hash_filename</span><span class='rparen token'>)</span> <span class='rparen token'>)</span>
  <span class='file_path identifier id'>file_path</span> <span class='assign token'>=</span> <span class='colon3 op'>::</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='dirname identifier id'>dirname</span><span class='lparen token'>(</span><span class='filename identifier id'>filename</span><span class='rparen token'>)</span>
  <span class='file_name identifier id'>file_name</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{::File.basename(filename, ::File.extname(filename))}_#{name}#{::File.extname(filename)}&quot;</span>
  <span class='output identifier id'>output</span> <span class='assign token'>=</span> <span class='to_properties_hash identifier id'>to_properties_hash</span><span class='dot token'>.</span><span class='to_json identifier id'>to_json</span>
  <span class='colon3 op'>::</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{file_path}/#{file_name}&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;w&quot;</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='f identifier id'>f</span><span class='bitor op'>|</span> <span class='f identifier id'>f</span><span class='dot token'>.</span><span class='write identifier id'>write</span> <span class='output identifier id'>output</span> <span class='rbrace token'>}</span>
  <span class='true true kw'>true</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>