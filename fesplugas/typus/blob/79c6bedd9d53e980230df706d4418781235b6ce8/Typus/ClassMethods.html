<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>fesplugas's typus - Module: Typus::ClassMethods - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/fesplugas/commits/typus/master" rel="alternate" title="Recent Commits to typus:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("fesplugas", "typus", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='fesplugas/typus/blob/79c6bedd9d53e980230df706d4418781235b6ce8' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='fesplugas/typus/blob/79c6bedd9d53e980230df706d4418781235b6ce8' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("fesplugas", "typus", "79c6bedd9d53e980230df706d4418781235b6ce8", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/fesplugas/typus/tree/">Source</a></li>
            <li class=""><a href="http://github.com/fesplugas/typus/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/fesplugas/typus/network">Network</a></li>            
            <li class=""><a href="http://github.com/fesplugas/typus/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/fesplugas/typus">Wiki</a></li>
            <li class=""><a href="http://github.com/fesplugas/typus/graphs">Graphs</a></li>                    
            <li class="active"><a href="/fesplugas/typus">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/fesplugas">fesplugas</a> / <b><a href="http://github.com/fesplugas/typus/tree">typus</a></b>        
                <a id="namespaces_button" rel="fesplugas/typus/blob/79c6bedd9d53e980230df706d4418781235b6ce8" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="fesplugas/typus/blob/79c6bedd9d53e980230df706d4418781235b6ce8" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section module Typus_ClassMethods">
  <h1>Module: Typus::ClassMethods</h1>
  <div class="section constants">
  
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#build_conditions-instance_method">#build_conditions</span><span class='args'>(params)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Build conditions.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#model_fields-instance_method">#model_fields</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Return model fields as a OrderedHash.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#model_relationships-instance_method">#model_relationships</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#typus_actions_for-instance_method">#typus_actions_for</span><span class='args'>(filter)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Extended actions for this model on Typus.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#typus_boolean-instance_method">#typus_boolean</span><span class='args'>(attribute = :default)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
We are able to define our own booleans.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#typus_date_format-instance_method">#typus_date_format</span><span class='args'>(attribute = :default)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
We are able to define how to display dates on Typus.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#typus_defaults_for-instance_method">#typus_defaults_for</span><span class='args'>(filter)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Used for <tt>search</tt>, <tt>relationships</tt>.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#typus_export_formats-instance_method">#typus_export_formats</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#typus_field_options_for-instance_method">#typus_field_options_for</span><span class='args'>(filter)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#typus_fields_for-instance_method">#typus_fields_for</span><span class='args'>(filter)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Form and list fields.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#typus_filters-instance_method">#typus_filters</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Typus sidebar filters.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#typus_options_for-instance_method">#typus_options_for</span><span class='args'>(filter)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
We should be able to overwrite options by model.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#typus_order_by-instance_method">#typus_order_by</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Used for order_by.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#typus_template-instance_method">#typus_template</span><span class='args'>(attribute)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
We are able to define which template to use to render the attribute within
the form.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>build_conditions</h3>
</div><div id="build_conditions-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>build_conditions</span><span class='args'>(params)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Build conditions
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/typus/active_record.rb', line 206</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fesplugas/typus/blob/79c6bedd9d53e980230df706d4418781235b6ce8/lib/typus/active_record.rb#L206">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='build_conditions identifier id'>build_conditions</span><span class='lparen token'>(</span><span class='params identifier id'>params</span><span class='rparen token'>)</span>

  <span class='conditions identifier id'>conditions</span><span class='comma token'>,</span> <span class='joins identifier id'>joins</span> <span class='assign token'>=</span> <span class='merge_conditions identifier id'>merge_conditions</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>

  <span class='query_params identifier id'>query_params</span> <span class='assign token'>=</span> <span class='params identifier id'>params</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
  <span class='dstring node'>%w( action controller )</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='param identifier id'>param</span><span class='bitor op'>|</span> <span class='query_params identifier id'>query_params</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='param identifier id'>param</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>

  <span class='comment val'># If a search is performed.</span>
  <span class='if if kw'>if</span> <span class='query_params identifier id'>query_params</span><span class='lbrack token'>[</span><span class='colon op'>:</span><span class='search identifier id'>search</span><span class='rbrack token'>]</span>
    <span class='search identifier id'>search</span> <span class='assign token'>=</span> <span class='typus_defaults_for identifier id'>typus_defaults_for</span><span class='lparen token'>(</span><span class='symbol val'>:search</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='s identifier id'>s</span><span class='bitor op'>|</span>
               <span class='lbrack token'>[</span><span class='dstring node'>&quot;LOWER(#{s}) LIKE '%#{query_params[:search].downcase}%'&quot;</span><span class='rbrack token'>]</span>
             <span class='end end kw'>end</span>
    <span class='conditions identifier id'>conditions</span> <span class='assign token'>=</span> <span class='merge_conditions identifier id'>merge_conditions</span><span class='lparen token'>(</span><span class='conditions identifier id'>conditions</span><span class='comma token'>,</span> <span class='search identifier id'>search</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>' OR '</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='query_params identifier id'>query_params</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span>

    <span class='filter_type identifier id'>filter_type</span> <span class='assign token'>=</span> <span class='model_fields identifier id'>model_fields</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='model_relationships identifier id'>model_relationships</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span>

    <span class='comment val'>##</span>
    <span class='comment val'># Sidebar filters:</span>
    <span class='comment val'>#</span>
    <span class='comment val'>#   - Booleans: true, false</span>
    <span class='comment val'>#   - Datetime: today, past_7_days, this_month, this_year</span>
    <span class='comment val'>#   - Integer &amp; String: *_id and &quot;selectors&quot; (P.ej. category_id)</span>
    <span class='comment val'>#</span>
    <span class='case case kw'>case</span> <span class='filter_type identifier id'>filter_type</span>
    <span class='when when kw'>when</span> <span class='symbol val'>:boolean</span>
      <span class='condition identifier id'>condition</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='key identifier id'>key</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lparen token'>(</span><span class='value identifier id'>value</span> <span class='eq op'>==</span> <span class='string val'>'true'</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='true true kw'>true</span> <span class='colon op'>:</span> <span class='false false kw'>false</span> <span class='rbrace token'>}</span>
      <span class='conditions identifier id'>conditions</span> <span class='assign token'>=</span> <span class='merge_conditions identifier id'>merge_conditions</span><span class='lparen token'>(</span><span class='conditions identifier id'>conditions</span><span class='comma token'>,</span> <span class='condition identifier id'>condition</span><span class='rparen token'>)</span>
    <span class='when when kw'>when</span> <span class='symbol val'>:datetime</span>
      <span class='interval identifier id'>interval</span> <span class='assign token'>=</span> <span class='case case kw'>case</span> <span class='value identifier id'>value</span>
                 <span class='when when kw'>when</span> <span class='string val'>'today'</span><span class='colon op'>:</span>         <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='today identifier id'>today</span><span class='dot2 op'>..</span><span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='today identifier id'>today</span><span class='dot token'>.</span><span class='tomorrow identifier id'>tomorrow</span>
                 <span class='when when kw'>when</span> <span class='string val'>'past_7_days'</span><span class='colon op'>:</span>   <span class='float val'>6</span><span class='dot token'>.</span><span class='days identifier id'>days</span><span class='dot token'>.</span><span class='ago identifier id'>ago</span><span class='dot token'>.</span><span class='midnight identifier id'>midnight</span><span class='dot2 op'>..</span><span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='today identifier id'>today</span><span class='dot token'>.</span><span class='tomorrow identifier id'>tomorrow</span>
                 <span class='when when kw'>when</span> <span class='string val'>'this_month'</span><span class='colon op'>:</span>    <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='today identifier id'>today</span><span class='dot token'>.</span><span class='last_month identifier id'>last_month</span><span class='dot2 op'>..</span><span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='today identifier id'>today</span><span class='dot token'>.</span><span class='tomorrow identifier id'>tomorrow</span>
                 <span class='when when kw'>when</span> <span class='string val'>'this_year'</span><span class='colon op'>:</span>     <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='today identifier id'>today</span><span class='dot token'>.</span><span class='last_year identifier id'>last_year</span><span class='dot2 op'>..</span><span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='today identifier id'>today</span><span class='dot token'>.</span><span class='tomorrow identifier id'>tomorrow</span>
                 <span class='end end kw'>end</span>
      <span class='condition identifier id'>condition</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='dstring node'>&quot;#{key} BETWEEN ? AND ?&quot;</span><span class='comma token'>,</span> <span class='interval identifier id'>interval</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='lparen token'>(</span><span class='symbol val'>:db</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='interval identifier id'>interval</span><span class='dot token'>.</span><span class='last identifier id'>last</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='lparen token'>(</span><span class='symbol val'>:db</span><span class='rparen token'>)</span><span class='rbrack token'>]</span>
      <span class='conditions identifier id'>conditions</span> <span class='assign token'>=</span> <span class='merge_conditions identifier id'>merge_conditions</span><span class='lparen token'>(</span><span class='conditions identifier id'>conditions</span><span class='comma token'>,</span> <span class='condition identifier id'>condition</span><span class='rparen token'>)</span>
    <span class='when when kw'>when</span> <span class='symbol val'>:integer</span><span class='comma token'>,</span> <span class='symbol val'>:string</span>
      <span class='condition identifier id'>condition</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='key identifier id'>key</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='value identifier id'>value</span> <span class='rbrace token'>}</span>
      <span class='conditions identifier id'>conditions</span> <span class='assign token'>=</span> <span class='merge_conditions identifier id'>merge_conditions</span><span class='lparen token'>(</span><span class='conditions identifier id'>conditions</span><span class='comma token'>,</span> <span class='condition identifier id'>condition</span><span class='rparen token'>)</span>
    <span class='when when kw'>when</span> <span class='symbol val'>:has_and_belongs_to_many</span>
      <span class='condition identifier id'>condition</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span>  <span class='key identifier id'>key</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span> <span class='symbol val'>:id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='value identifier id'>value</span> <span class='rbrace token'>}</span> <span class='rbrace token'>}</span>
      <span class='conditions identifier id'>conditions</span> <span class='assign token'>=</span> <span class='merge_conditions identifier id'>merge_conditions</span><span class='lparen token'>(</span><span class='conditions identifier id'>conditions</span><span class='comma token'>,</span> <span class='condition identifier id'>condition</span><span class='rparen token'>)</span>
      <span class='joins identifier id'>joins</span> <span class='lshft op'>&lt;&lt;</span> <span class='key identifier id'>key</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span>
    <span class='end end kw'>end</span>

  <span class='end end kw'>end</span>

  <span class='return return kw'>return</span> <span class='conditions identifier id'>conditions</span><span class='comma token'>,</span> <span class='joins identifier id'>joins</span>

<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>model_fields</h3>
</div><div id="model_fields-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>model_fields</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Return model fields as a OrderedHash
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/typus/active_record.rb', line 12</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fesplugas/typus/blob/79c6bedd9d53e980230df706d4418781235b6ce8/lib/typus/active_record.rb#L12">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">12
13
14
15
16</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='model_fields identifier id'>model_fields</span>
  <span class='hash identifier id'>hash</span> <span class='assign token'>=</span> <span class='ActiveSupport constant id'>ActiveSupport</span><span class='colon2 op'>::</span><span class='OrderedHash constant id'>OrderedHash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='columns identifier id'>columns</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='u identifier id'>u</span><span class='bitor op'>|</span> <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='u identifier id'>u</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='u identifier id'>u</span><span class='dot token'>.</span><span class='type identifier id'>type</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span> <span class='rbrace token'>}</span>
  <span class='return return kw'>return</span> <span class='hash identifier id'>hash</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>model_relationships</h3>
</div><div id="model_relationships-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>model_relationships</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/typus/active_record.rb', line 18</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fesplugas/typus/blob/79c6bedd9d53e980230df706d4418781235b6ce8/lib/typus/active_record.rb#L18">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">18
19
20
21
22</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='model_relationships identifier id'>model_relationships</span>
  <span class='hash identifier id'>hash</span> <span class='assign token'>=</span> <span class='ActiveSupport constant id'>ActiveSupport</span><span class='colon2 op'>::</span><span class='OrderedHash constant id'>OrderedHash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='reflect_on_all_associations identifier id'>reflect_on_all_associations</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='dot token'>.</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='i identifier id'>i</span><span class='dot token'>.</span><span class='macro identifier id'>macro</span> <span class='rbrace token'>}</span>
  <span class='return return kw'>return</span> <span class='hash identifier id'>hash</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>typus_actions_for</h3>
</div><div id="typus_actions_for-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>typus_actions_for</span><span class='args'>(filter)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Extended actions for this model on Typus.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/typus/active_record.rb', line 104</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fesplugas/typus/blob/79c6bedd9d53e980230df706d4418781235b6ce8/lib/typus/active_record.rb#L104">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">104
105
106
107
108</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='typus_actions_for identifier id'>typus_actions_for</span><span class='lparen token'>(</span><span class='filter identifier id'>filter</span><span class='rparen token'>)</span>
  <span class='Typus constant id'>Typus</span><span class='colon2 op'>::</span><span class='Configuration constant id'>Configuration</span><span class='dot token'>.</span><span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'actions'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='filter identifier id'>filter</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>', '</span><span class='rparen token'>)</span>
<span class='rescue rescue kw'>rescue</span>
  <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>typus_boolean</h3>
</div><div id="typus_boolean-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>typus_boolean</span><span class='args'>(attribute = :default)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
We are able to define our own booleans.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/typus/active_record.rb', line 165</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fesplugas/typus/blob/79c6bedd9d53e980230df706d4418781235b6ce8/lib/typus/active_record.rb#L165">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='typus_boolean identifier id'>typus_boolean</span><span class='lparen token'>(</span><span class='attribute identifier id'>attribute</span> <span class='assign token'>=</span> <span class='symbol val'>:default</span><span class='rparen token'>)</span>

  <span class='boolean identifier id'>boolean</span> <span class='assign token'>=</span> <span class='Typus constant id'>Typus</span><span class='colon2 op'>::</span><span class='Configuration constant id'>Configuration</span><span class='dot token'>.</span><span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'fields'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'options'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'booleans'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='attribute identifier id'>attribute</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span> <span class='rescue rescue kw'>rescue</span> <span class='nil nil kw'>nil</span>
  <span class='boolean identifier id'>boolean</span> <span class='assign token'>=</span> <span class='string val'>'true, false'</span> <span class='if if_mod kw'>if</span> <span class='boolean identifier id'>boolean</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>

  <span class='hash identifier id'>hash</span> <span class='assign token'>=</span> <span class='ActiveSupport constant id'>ActiveSupport</span><span class='colon2 op'>::</span><span class='OrderedHash constant id'>OrderedHash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>

  <span class='if if kw'>if</span> <span class='boolean identifier id'>boolean</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span><span class='lparen token'>(</span><span class='Array constant id'>Array</span><span class='rparen token'>)</span>
    <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='symbol val'>:true</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='boolean identifier id'>boolean</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='dot token'>.</span><span class='humanize identifier id'>humanize</span>
    <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='symbol val'>:false</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='boolean identifier id'>boolean</span><span class='dot token'>.</span><span class='last identifier id'>last</span><span class='dot token'>.</span><span class='humanize identifier id'>humanize</span>
  <span class='else else kw'>else</span>
    <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='symbol val'>:true</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='boolean identifier id'>boolean</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>', '</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='dot token'>.</span><span class='humanize identifier id'>humanize</span>
    <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='symbol val'>:false</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='boolean identifier id'>boolean</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>', '</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='last identifier id'>last</span><span class='dot token'>.</span><span class='humanize identifier id'>humanize</span>
  <span class='end end kw'>end</span>

  <span class='return return kw'>return</span> <span class='hash identifier id'>hash</span>

<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>typus_date_format</h3>
</div><div id="typus_date_format-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>typus_date_format</span><span class='args'>(attribute = :default)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
We are able to define how to display dates on Typus
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/typus/active_record.rb', line 187</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fesplugas/typus/blob/79c6bedd9d53e980230df706d4418781235b6ce8/lib/typus/active_record.rb#L187">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">187
188
189
190
191</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='typus_date_format identifier id'>typus_date_format</span><span class='lparen token'>(</span><span class='attribute identifier id'>attribute</span> <span class='assign token'>=</span> <span class='symbol val'>:default</span><span class='rparen token'>)</span>
  <span class='date_format identifier id'>date_format</span> <span class='assign token'>=</span> <span class='Typus constant id'>Typus</span><span class='colon2 op'>::</span><span class='Configuration constant id'>Configuration</span><span class='dot token'>.</span><span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'fields'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'options'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'date_formats'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='attribute identifier id'>attribute</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span> <span class='rescue rescue kw'>rescue</span> <span class='nil nil kw'>nil</span>
  <span class='date_format identifier id'>date_format</span> <span class='assign token'>=</span> <span class='symbol val'>:db</span> <span class='if if_mod kw'>if</span> <span class='date_format identifier id'>date_format</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
  <span class='return return kw'>return</span> <span class='date_format identifier id'>date_format</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>typus_defaults_for</h3>
</div><div id="typus_defaults_for-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>typus_defaults_for</span><span class='args'>(filter)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Used for <tt>search</tt>, <tt>relationships</tt>
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/typus/active_record.rb', line 113</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fesplugas/typus/blob/79c6bedd9d53e980230df706d4418781235b6ce8/lib/typus/active_record.rb#L113">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">113
114
115
116</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='typus_defaults_for identifier id'>typus_defaults_for</span><span class='lparen token'>(</span><span class='filter identifier id'>filter</span><span class='rparen token'>)</span>
  <span class='data identifier id'>data</span> <span class='assign token'>=</span> <span class='Typus constant id'>Typus</span><span class='colon2 op'>::</span><span class='Configuration constant id'>Configuration</span><span class='dot token'>.</span><span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='filter identifier id'>filter</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span>
  <span class='return return kw'>return</span> <span class='lparen token'>(</span><span class='notop op'>!</span><span class='data identifier id'>data</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='data identifier id'>data</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>', '</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>typus_export_formats</h3>
</div><div id="typus_export_formats-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>typus_export_formats</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/typus/active_record.rb', line 141</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fesplugas/typus/blob/79c6bedd9d53e980230df706d4418781235b6ce8/lib/typus/active_record.rb#L141">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">141
142
143
144</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='typus_export_formats identifier id'>typus_export_formats</span>
  <span class='data identifier id'>data</span> <span class='assign token'>=</span> <span class='Typus constant id'>Typus</span><span class='colon2 op'>::</span><span class='Configuration constant id'>Configuration</span><span class='dot token'>.</span><span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span>
  <span class='notop op'>!</span><span class='data identifier id'>data</span><span class='lbrack token'>[</span><span class='string val'>'export'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span> <span class='integer val'>? </span><span class='data identifier id'>data</span><span class='lbrack token'>[</span><span class='string val'>'export'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>', '</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>typus_field_options_for</h3>
</div><div id="typus_field_options_for-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>typus_field_options_for</span><span class='args'>(filter)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/typus/active_record.rb', line 121</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fesplugas/typus/blob/79c6bedd9d53e980230df706d4418781235b6ce8/lib/typus/active_record.rb#L121">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">121
122
123
124
125</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='typus_field_options_for identifier id'>typus_field_options_for</span><span class='lparen token'>(</span><span class='filter identifier id'>filter</span><span class='rparen token'>)</span>
  <span class='Typus constant id'>Typus</span><span class='colon2 op'>::</span><span class='Configuration constant id'>Configuration</span><span class='dot token'>.</span><span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'fields'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'options'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='filter identifier id'>filter</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>', '</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='i identifier id'>i</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span> <span class='rbrace token'>}</span>
<span class='rescue rescue kw'>rescue</span>
  <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>typus_fields_for</h3>
</div><div id="typus_fields_for-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>typus_fields_for</span><span class='args'>(filter)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Form and list fields
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/typus/active_record.rb', line 27</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fesplugas/typus/blob/79c6bedd9d53e980230df706d4418781235b6ce8/lib/typus/active_record.rb#L27">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='typus_fields_for identifier id'>typus_fields_for</span><span class='lparen token'>(</span><span class='filter identifier id'>filter</span><span class='rparen token'>)</span>

  <span class='fields_with_type identifier id'>fields_with_type</span> <span class='assign token'>=</span> <span class='ActiveSupport constant id'>ActiveSupport</span><span class='colon2 op'>::</span><span class='OrderedHash constant id'>OrderedHash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>

  <span class='begin begin kw'>begin</span>
    <span class='fields identifier id'>fields</span> <span class='assign token'>=</span> <span class='Typus constant id'>Typus</span><span class='colon2 op'>::</span><span class='Configuration constant id'>Configuration</span><span class='dot token'>.</span><span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'fields'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='filter identifier id'>filter</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span>
    <span class='fields identifier id'>fields</span> <span class='assign token'>=</span> <span class='fields identifier id'>fields</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>', '</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='f identifier id'>f</span><span class='bitor op'>|</span> <span class='f identifier id'>f</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span> <span class='rbrace token'>}</span>
  <span class='rescue rescue kw'>rescue</span>
    <span class='return return kw'>return</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='filter identifier id'>filter</span> <span class='eq op'>==</span> <span class='string val'>'list'</span>
    <span class='filter identifier id'>filter</span> <span class='assign token'>=</span> <span class='string val'>'list'</span>
    <span class='retry retry kw'>retry</span>
  <span class='end end kw'>end</span>

  <span class='begin begin kw'>begin</span>

    <span class='fields identifier id'>fields</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='field identifier id'>field</span><span class='bitor op'>|</span>

      <span class='attribute_type identifier id'>attribute_type</span> <span class='assign token'>=</span> <span class='model_fields identifier id'>model_fields</span><span class='lbrack token'>[</span><span class='field identifier id'>field</span><span class='rbrack token'>]</span>

      <span class='comment val'># Custom field_type depending on the attribute name.</span>
      <span class='case case kw'>case</span> <span class='field identifier id'>field</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
        <span class='when when kw'>when</span> <span class='string val'>'parent_id'</span><span class='colon op'>:</span>       <span class='attribute_type identifier id'>attribute_type</span> <span class='assign token'>=</span> <span class='symbol val'>:tree</span>
        <span class='when when kw'>when</span> <span class='regexp val'>/file_name/</span><span class='colon op'>:</span>       <span class='attribute_type identifier id'>attribute_type</span> <span class='assign token'>=</span> <span class='symbol val'>:file</span>
        <span class='when when kw'>when</span> <span class='regexp val'>/password/</span><span class='colon op'>:</span>        <span class='attribute_type identifier id'>attribute_type</span> <span class='assign token'>=</span> <span class='symbol val'>:password</span>
        <span class='when when kw'>when</span> <span class='string val'>'position'</span><span class='colon op'>:</span>        <span class='attribute_type identifier id'>attribute_type</span> <span class='assign token'>=</span> <span class='symbol val'>:position</span>
        <span class='when when kw'>when</span> <span class='regexp val'>/\?/</span><span class='colon op'>:</span>              <span class='attribute_type identifier id'>attribute_type</span> <span class='assign token'>=</span> <span class='symbol val'>:boolean</span>
      <span class='end end kw'>end</span>

      <span class='if if kw'>if</span> <span class='reflect_on_association identifier id'>reflect_on_association</span><span class='lparen token'>(</span><span class='field identifier id'>field</span><span class='rparen token'>)</span>
        <span class='attribute_type identifier id'>attribute_type</span> <span class='assign token'>=</span> <span class='reflect_on_association identifier id'>reflect_on_association</span><span class='lparen token'>(</span><span class='field identifier id'>field</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='macro identifier id'>macro</span>
      <span class='end end kw'>end</span>

      <span class='if if kw'>if</span> <span class='typus_field_options_for identifier id'>typus_field_options_for</span><span class='lparen token'>(</span><span class='colon op'>:</span><span class='selectors identifier id'>selectors</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='field identifier id'>field</span><span class='rparen token'>)</span>
        <span class='attribute_type identifier id'>attribute_type</span> <span class='assign token'>=</span> <span class='symbol val'>:selector</span>
      <span class='end end kw'>end</span>

      <span class='comment val'># And finally insert the field and the attribute_type </span>
      <span class='comment val'># into the fields_with_type ordered hash.</span>
      <span class='fields_with_type identifier id'>fields_with_type</span><span class='lbrack token'>[</span><span class='field identifier id'>field</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='attribute_type identifier id'>attribute_type</span>

    <span class='end end kw'>end</span>

  <span class='rescue rescue kw'>rescue</span>
    <span class='fields identifier id'>fields</span> <span class='assign token'>=</span> <span class='Typus constant id'>Typus</span><span class='colon2 op'>::</span><span class='Configuration constant id'>Configuration</span><span class='dot token'>.</span><span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'fields'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'list'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>', '</span><span class='rparen token'>)</span>
    <span class='retry retry kw'>retry</span>
  <span class='end end kw'>end</span>

  <span class='return return kw'>return</span> <span class='fields_with_type identifier id'>fields_with_type</span>

<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>typus_filters</h3>
</div><div id="typus_filters-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>typus_filters</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Typus sidebar filters.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/typus/active_record.rb', line 81</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fesplugas/typus/blob/79c6bedd9d53e980230df706d4418781235b6ce8/lib/typus/active_record.rb#L81">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='typus_filters identifier id'>typus_filters</span>

  <span class='fields_with_type identifier id'>fields_with_type</span> <span class='assign token'>=</span> <span class='ActiveSupport constant id'>ActiveSupport</span><span class='colon2 op'>::</span><span class='OrderedHash constant id'>OrderedHash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>

  <span class='data identifier id'>data</span> <span class='assign token'>=</span> <span class='Typus constant id'>Typus</span><span class='colon2 op'>::</span><span class='Configuration constant id'>Configuration</span><span class='dot token'>.</span><span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'filters'</span><span class='rbrack token'>]</span>
  <span class='return return kw'>return</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span> <span class='unless unless_mod kw'>unless</span> <span class='data identifier id'>data</span>
  <span class='fields identifier id'>fields</span> <span class='assign token'>=</span> <span class='data identifier id'>data</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>', '</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='i identifier id'>i</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span> <span class='rbrace token'>}</span>

  <span class='fields identifier id'>fields</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='field identifier id'>field</span><span class='bitor op'>|</span>
    <span class='attribute_type identifier id'>attribute_type</span> <span class='assign token'>=</span> <span class='model_fields identifier id'>model_fields</span><span class='lbrack token'>[</span><span class='field identifier id'>field</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span>
    <span class='if if kw'>if</span> <span class='reflect_on_association identifier id'>reflect_on_association</span><span class='lparen token'>(</span><span class='field identifier id'>field</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rparen token'>)</span>
      <span class='attribute_type identifier id'>attribute_type</span> <span class='assign token'>=</span> <span class='reflect_on_association identifier id'>reflect_on_association</span><span class='lparen token'>(</span><span class='field identifier id'>field</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='macro identifier id'>macro</span>
    <span class='end end kw'>end</span>
    <span class='fields_with_type identifier id'>fields_with_type</span><span class='lbrack token'>[</span><span class='field identifier id'>field</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='attribute_type identifier id'>attribute_type</span>
  <span class='end end kw'>end</span>

  <span class='return return kw'>return</span> <span class='fields_with_type identifier id'>fields_with_type</span>

<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>typus_options_for</h3>
</div><div id="typus_options_for-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>typus_options_for</span><span class='args'>(filter)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
We should be able to overwrite options by model.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/typus/active_record.rb', line 130</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fesplugas/typus/blob/79c6bedd9d53e980230df706d4418781235b6ce8/lib/typus/active_record.rb#L130">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">130
131
132
133
134
135
136
137
138
139</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='typus_options_for identifier id'>typus_options_for</span><span class='lparen token'>(</span><span class='filter identifier id'>filter</span><span class='rparen token'>)</span>

  <span class='data identifier id'>data</span> <span class='assign token'>=</span> <span class='Typus constant id'>Typus</span><span class='colon2 op'>::</span><span class='Configuration constant id'>Configuration</span><span class='dot token'>.</span><span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span>
  <span class='unless unless kw'>unless</span> <span class='data identifier id'>data</span><span class='lbrack token'>[</span><span class='string val'>'options'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
    <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='data identifier id'>data</span><span class='lbrack token'>[</span><span class='string val'>'options'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='filter identifier id'>filter</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span> <span class='unless unless_mod kw'>unless</span> <span class='data identifier id'>data</span><span class='lbrack token'>[</span><span class='string val'>'options'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='filter identifier id'>filter</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
  <span class='end end kw'>end</span>

  <span class='return return kw'>return</span> <span class='lparen token'>(</span><span class='notop op'>!</span><span class='value identifier id'>value</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='value identifier id'>value</span> <span class='colon op'>:</span> <span class='Typus constant id'>Typus</span><span class='colon2 op'>::</span><span class='Configuration constant id'>Configuration</span><span class='dot token'>.</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='filter identifier id'>filter</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span>

<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>typus_order_by</h3>
</div><div id="typus_order_by-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>typus_order_by</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Used for order_by
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/typus/active_record.rb', line 149</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fesplugas/typus/blob/79c6bedd9d53e980230df706d4418781235b6ce8/lib/typus/active_record.rb#L149">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">149
150
151
152
153
154
155
156
157
158
159
160</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='typus_order_by identifier id'>typus_order_by</span>

  <span class='fields identifier id'>fields</span> <span class='assign token'>=</span> <span class='typus_defaults_for identifier id'>typus_defaults_for</span><span class='lparen token'>(</span><span class='symbol val'>:order_by</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='dstring node'>&quot;#{table_name}.id ASC&quot;</span> <span class='if if_mod kw'>if</span> <span class='fields identifier id'>fields</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>

  <span class='order identifier id'>order</span> <span class='assign token'>=</span> <span class='fields identifier id'>fields</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='field identifier id'>field</span><span class='bitor op'>|</span>
            <span class='lparen token'>(</span><span class='field identifier id'>field</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='string val'>'-'</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='dstring node'>&quot;#{table_name}.#{field.delete('-')} DESC&quot;</span> <span class='colon op'>:</span> <span class='dstring node'>&quot;#{table_name}.#{field} ASC&quot;</span>
          <span class='end end kw'>end</span>

  <span class='return return kw'>return</span> <span class='order identifier id'>order</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>', '</span><span class='rparen token'>)</span>

<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>typus_template</h3>
</div><div id="typus_template-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>typus_template</span><span class='args'>(attribute)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
We are able to define which template to use to render the attribute within
the form
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/typus/active_record.rb', line 197</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/fesplugas/typus/blob/79c6bedd9d53e980230df706d4418781235b6ce8/lib/typus/active_record.rb#L197">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">197
198
199
200
201</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='typus_template identifier id'>typus_template</span><span class='lparen token'>(</span><span class='attribute identifier id'>attribute</span><span class='rparen token'>)</span>
  <span class='Typus constant id'>Typus</span><span class='colon2 op'>::</span><span class='Configuration constant id'>Configuration</span><span class='dot token'>.</span><span class='config identifier id'>config</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'fields'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'options'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'templates'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='attribute identifier id'>attribute</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span>
<span class='rescue rescue kw'>rescue</span>
  <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>