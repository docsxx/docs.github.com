<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="syntax_highlight.css" type="text/css" charset="utf-8" />

    <title>README</title>
  </head>
  <body>
    <div id="content">
      <div class="section docstring readme">
        <h1>Resource Controller</h1>
<p>
resource_controller makes RESTful controllers easier, more maintainable,
and super readable. With the RESTful controller pattern hidden away, you
can focus on what makes your controller special.
</p>
<h2>Get It</h2>
<p>
Install it as a plugin:
</p>
<pre class="code">
  <span class='script identifier id'>script</span><span class='div op'>/</span><span class='plugin identifier id'>plugin</span> <span class='install identifier id'>install</span> <span class='git identifier id'>git</span><span class='symbol val'>:/</span><span class='regexp val'>/github.com/</span><span class='giraffesoft identifier id'>giraffesoft</span><span class='div op'>/</span><span class='resource_controller identifier id'>resource_controller</span><span class='dot token'>.</span><span class='git identifier id'>git</span>
</pre>
<p>
Or grab the source
</p>
<pre class="code">
  <span class='git identifier id'>git</span> <span class='clone identifier id'>clone</span> <span class='git identifier id'>git</span><span class='symbol val'>:/</span><span class='regexp val'>/github.com/</span><span class='giraffesoft identifier id'>giraffesoft</span><span class='div op'>/</span><span class='resource_controller identifier id'>resource_controller</span><span class='dot token'>.</span><span class='git identifier id'>git</span>
</pre>
<h1>Usage</h1>
<p>
Creating a basic RESTful controller is as easy as&#8230;
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='PostsController constant id'>PostsController</span> <span class='lt op'>&lt;</span> <span class='ResourceController constant id'>ResourceController</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
  <span class='end end kw'>end</span>
</pre>
<p>
&#8230;or if you prefer, you can use the method-call syntax. If you need to
inherit from some other class, this syntax is definitely for you:
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='PostsController constant id'>PostsController</span> <span class='lt op'>&lt;</span> <span class='ApplicationController constant id'>ApplicationController</span>
    <span class='resource_controller identifier id'>resource_controller</span>
  <span class='end end kw'>end</span>
</pre>
<p>
Both syntaxes are identical in their behavior. Just make sure you call
resource_controller before you use any other r_c functionality in your
controller.
</p>
<p>
Nobody just uses the default RESTful controller, though.
resource_controller provides a simple API for customizations.
</p>
<h2>Action Lifecycle</h2>
<p>
It&#8217;s really easy to make changes to the lifecycle of your actions.
</p>
<pre class="code">
  <span class='Note constant id'>Note</span><span class='colon op'>:</span> <span class='We constant id'>We</span> <span class='had identifier id'>had</span> <span class='to identifier id'>to</span> <span class='call identifier id'>call</span> <span class='the identifier id'>the</span> <span class='new identifier id'>new</span> <span class='accessor identifier id'>accessor</span> <span class='string val'>&quot;new_action&quot;</span><span class='comma token'>,</span> <span class='since identifier id'>since</span> <span class='new identifier id'>new</span> <span class='is identifier id'>is</span> <span class='somewhat identifier id'>somewhat</span> <span class='reserved identifier id'>reserved</span> <span class='in in kw'>in</span> <span class='ruby identifier id'>ruby</span><span class='dot token'>.</span>
</pre>
<h3>Before and After</h3>
<pre class="code">
  <span class='class class kw'>class</span> <span class='ProjectsController constant id'>ProjectsController</span> <span class='lt op'>&lt;</span> <span class='ResourceController constant id'>ResourceController</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>

    <span class='new_action identifier id'>new_action</span><span class='dot token'>.</span><span class='before identifier id'>before</span> <span class='do do kw'>do</span>
      <span class='float val'>3</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='lbrace token'>{</span> <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='tasks identifier id'>tasks</span><span class='dot token'>.</span><span class='build identifier id'>build</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>

    <span class='create identifier id'>create</span><span class='dot token'>.</span><span class='after identifier id'>after</span> <span class='do do kw'>do</span>
      <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='creator identifier id'>creator</span> <span class='assign token'>=</span> <span class='current_user identifier id'>current_user</span>
    <span class='end end kw'>end</span>

  <span class='end end kw'>end</span>
</pre>
<h3>Flash</h3>
<pre class="code">
  <span class='class class kw'>class</span> <span class='ProjectsController constant id'>ProjectsController</span> <span class='lt op'>&lt;</span> <span class='ResourceController constant id'>ResourceController</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='create identifier id'>create</span><span class='dot token'>.</span><span class='flash identifier id'>flash</span> <span class='string val'>&quot;Can you believe how easy it is to use resource_controller?  Neither could I!&quot;</span>
  <span class='end end kw'>end</span>
</pre>
<h3>respond_to</h3>
<p>
You can add to what&#8217;s already there&#8230;
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='ProjectsController constant id'>ProjectsController</span> <span class='lt op'>&lt;</span> <span class='ResourceController constant id'>ResourceController</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='create identifier id'>create</span><span class='dot token'>.</span><span class='wants identifier id'>wants</span><span class='dot token'>.</span><span class='js identifier id'>js</span> <span class='lbrace token'>{</span> <span class='render identifier id'>render</span> <span class='symbol val'>:template</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;show.rjs&quot;</span> <span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
</pre>
<p>
Or you can create a whole new block. This syntax destroys everything
that&#8217;s there, and starts again&#8230;
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='ProjectsController constant id'>ProjectsController</span> <span class='lt op'>&lt;</span> <span class='ResourceController constant id'>ResourceController</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='create identifier id'>create</span><span class='dot token'>.</span><span class='response identifier id'>response</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='wants identifier id'>wants</span><span class='bitor op'>|</span>
      <span class='wants identifier id'>wants</span><span class='dot token'>.</span><span class='html identifier id'>html</span>
      <span class='wants identifier id'>wants</span><span class='dot token'>.</span><span class='js identifier id'>js</span> <span class='lbrace token'>{</span> <span class='render identifier id'>render</span> <span class='symbol val'>:template</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;show.rjs&quot;</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
<p>
If you have a nested resource and want to redirect to the parent after
create/update and destroy you can do this in the object controller
</p>
<pre class="code">
 <span class='class class kw'>class</span> <span class='CommentsController constant id'>CommentsController</span> <span class='lt op'>&lt;</span> <span class='ResourceController constant id'>ResourceController</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='belongs_to identifier id'>belongs_to</span> <span class='symbol val'>:post</span>

    <span class='create identifier id'>create</span><span class='dot token'>.</span><span class='wants identifier id'>wants</span><span class='dot token'>.</span><span class='html identifier id'>html</span> <span class='lbrace token'>{</span> <span class='redirect_to identifier id'>redirect_to</span> <span class='smart_url identifier id'>smart_url</span><span class='lparen token'>(</span><span class='parent_url_options identifier id'>parent_url_options</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='update identifier id'>update</span><span class='dot token'>.</span><span class='wants identifier id'>wants</span><span class='dot token'>.</span><span class='html identifier id'>html</span> <span class='lbrace token'>{</span> <span class='redirect_to identifier id'>redirect_to</span> <span class='smart_url identifier id'>smart_url</span><span class='lparen token'>(</span><span class='parent_url_options identifier id'>parent_url_options</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='destroy identifier id'>destroy</span><span class='dot token'>.</span><span class='wants identifier id'>wants</span><span class='dot token'>.</span><span class='html identifier id'>html</span> <span class='lbrace token'>{</span> <span class='redirect_to identifier id'>redirect_to</span> <span class='smart_url identifier id'>smart_url</span><span class='lparen token'>(</span><span class='parent_url_options identifier id'>parent_url_options</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
</pre>
<h3>Scoping</h3>
<p>
Because sometimes you want to make a bunch of customizations at once, most
of the helpers accept blocks that make grouping calls really easy. Is it a
DSL? Maybe; maybe not. But, it&#8217;s definitely awesome.
</p>
<p>
With actions that can fail, the scoping defaults to success. That means
that create.flash == create.success.flash.
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='ProjectsController constant id'>ProjectsController</span> <span class='lt op'>&lt;</span> <span class='ResourceController constant id'>ResourceController</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>

    <span class='create identifier id'>create</span> <span class='do do kw'>do</span>
      <span class='flash identifier id'>flash</span> <span class='string val'>&quot;Object successfully created!&quot;</span>
      <span class='wants identifier id'>wants</span><span class='dot token'>.</span><span class='js identifier id'>js</span> <span class='lbrace token'>{</span> <span class='render identifier id'>render</span> <span class='symbol val'>:template</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;show.rjs&quot;</span> <span class='rbrace token'>}</span>

      <span class='failure identifier id'>failure</span><span class='dot token'>.</span><span class='wants identifier id'>wants</span><span class='dot token'>.</span><span class='js identifier id'>js</span> <span class='lbrace token'>{</span> <span class='render identifier id'>render</span> <span class='symbol val'>:template</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;display_errors.rjs&quot;</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>

    <span class='destroy identifier id'>destroy</span> <span class='do do kw'>do</span>
      <span class='flash identifier id'>flash</span> <span class='string val'>&quot;You destroyed your project.  Good work.&quot;</span>

      <span class='failure identifier id'>failure</span> <span class='do do kw'>do</span>
        <span class='flash identifier id'>flash</span> <span class='string val'>&quot;You cannot destroy that project.  Stop trying!&quot;</span>
        <span class='wants identifier id'>wants</span><span class='dot token'>.</span><span class='js identifier id'>js</span> <span class='lbrace token'>{</span> <span class='render identifier id'>render</span> <span class='symbol val'>:template</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;display_errors.rjs&quot;</span> <span class='rbrace token'>}</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>

  <span class='end end kw'>end</span>
</pre>
<h2>Singleton Resource</h2>
<p>
If you want to create a singleton RESTful controller inherit from
ResourceController::Singleton.
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='AccountsController constant id'>AccountsController</span> <span class='lt op'>&lt;</span> <span class='ResourceController constant id'>ResourceController</span><span class='colon2 op'>::</span><span class='Singleton constant id'>Singleton</span>
  <span class='end end kw'>end</span>
</pre>
<p>
&#8230;or if need to inherit from some other class:
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='AccountsController constant id'>AccountsController</span> <span class='lt op'>&lt;</span> <span class='ApplicationController constant id'>ApplicationController</span>
    <span class='resource_controller identifier id'>resource_controller</span> <span class='symbol val'>:singleton</span>
  <span class='end end kw'>end</span>
</pre>
<p>
*Note:* This type of controllers handle a single resource only so the index
action and all the collection helpers (collection_url,
collection_path&#8230;) are not available for them.
</p>
<p>
Loading objects in singletons is similar to plural controllers with one
exception. For non-nested singleton controllers you should override the
object method as it defaults to nil for them.
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='AccountsController constant id'>AccountsController</span> <span class='lt op'>&lt;</span> <span class='ResourceController constant id'>ResourceController</span><span class='colon2 op'>::</span><span class='Singleton constant id'>Singleton</span>
    <span class='private identifier id'>private</span>
      <span class='def def kw'>def</span> <span class='object identifier id'>object</span>
        <span class='@object ivar id'>@object</span> <span class='opasgn op'>||=</span> <span class='Account constant id'>Account</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='session identifier id'>session</span><span class='lbrack token'>[</span><span class='symbol val'>:account_id</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
   <span class='end end kw'>end</span>
</pre>
<p>
In other cases you can use the default logic and override it only if you
use permalinks or anything special.
</p>
<p>
Singleton nesting with both :has_many and :has_one associations is
provided&#8230;
</p>
<pre class="code">
  <span class='map identifier id'>map</span><span class='dot token'>.</span><span class='resource identifier id'>resource</span> <span class='symbol val'>:account</span><span class='comma token'>,</span> <span class='symbol val'>:has_many</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:options</span>  <span class='comment val'># /account/options, account is a singleton parent</span>
  <span class='map identifier id'>map</span><span class='dot token'>.</span><span class='resources identifier id'>resources</span> <span class='symbol val'>:users</span><span class='comma token'>,</span> <span class='symbol val'>:has_one</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:image</span>  <span class='comment val'># /users/1/image, image is a singleton child</span>
</pre>
<p>
If you have the :has_many association with a singleton parent remember to
override parent_object for your :has_many controller as it returns nil by
default in this case.
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='OptionsController constant id'>OptionsController</span> <span class='lt op'>&lt;</span> <span class='ResourceController constant id'>ResourceController</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='belongs_to identifier id'>belongs_to</span> <span class='symbol val'>:account</span>

    <span class='protected identifier id'>protected</span>
    <span class='def def kw'>def</span> <span class='parent_object identifier id'>parent_object</span>
      <span class='Account constant id'>Account</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='session identifier id'>session</span><span class='lbrack token'>[</span><span class='symbol val'>:account_id</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
<h2>Helpers (ResourceController::Helpers)</h2>
<h3>Loading objects</h3>
<p>
You want to add something like pagination to your controller&#8230;
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='PostsController constant id'>PostsController</span> <span class='lt op'>&lt;</span> <span class='ResourceController constant id'>ResourceController</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='private identifier id'>private</span>
      <span class='def def kw'>def</span> <span class='collection identifier id'>collection</span>
        <span class='@collection ivar id'>@collection</span> <span class='opasgn op'>||=</span> <span class='end_of_association_chain identifier id'>end_of_association_chain</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='symbol val'>:all</span><span class='comma token'>,</span> <span class='symbol val'>:page</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='symbol val'>:size</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>10</span><span class='comma token'>,</span> <span class='symbol val'>:current</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:page</span><span class='rbrack token'>]</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
<p>
Or maybe you used a permalink&#8230;
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='PostsController constant id'>PostsController</span> <span class='lt op'>&lt;</span> <span class='ResourceController constant id'>ResourceController</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='private identifier id'>private</span>
      <span class='def def kw'>def</span> <span class='object identifier id'>object</span>
        <span class='@object ivar id'>@object</span> <span class='opasgn op'>||=</span> <span class='end_of_association_chain identifier id'>end_of_association_chain</span><span class='dot token'>.</span><span class='find_by_permalink identifier id'>find_by_permalink</span><span class='lparen token'>(</span><span class='param identifier id'>param</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
<h3>Building objects</h3>
<p>
Maybe you have some alternative way of building objects&#8230;
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='PostsController constant id'>PostsController</span> <span class='lt op'>&lt;</span> <span class='ResourceController constant id'>ResourceController</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='private identifier id'>private</span>
      <span class='def def kw'>def</span> <span class='build_object identifier id'>build_object</span>
        <span class='@object ivar id'>@object</span> <span class='opasgn op'>||=</span> <span class='end_of_association_chain identifier id'>end_of_association_chain</span><span class='dot token'>.</span><span class='build_my_object_some_funky_way identifier id'>build_my_object_some_funky_way</span> <span class='object_params identifier id'>object_params</span>
      <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
<p>
&#8230;and there are tons more helpers in the ResourceController::Helpers
</p>
<h2>Nested Resources</h2>
<p>
Nested controllers can be a pain, especially if routing is such that you
may or may not have a parent. Not so with Resource Controller.
</p>
<pre class="code">
  <span class='class class kw'>class</span> <span class='CommentsController constant id'>CommentsController</span> <span class='lt op'>&lt;</span> <span class='ResourceController constant id'>ResourceController</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='belongs_to identifier id'>belongs_to</span> <span class='symbol val'>:post</span>
  <span class='end end kw'>end</span>
</pre>
<p>
All of the finding, and creation, and everything will be done at the scope
of the post automatically.
</p>
<h2>Namespaced Resources</h2>
<p>
&#8230;are handled automatically, and any namespaces are always available,
symbolized, in array form @ ResourceController::Helpers#namespaces
</p>
<h2>Polymorphic Resources</h2>
<p>
Everything, including url generation is handled completely automatically.
Take this example&#8230;
</p>
<pre class="code">
  <span class='comment val'>## comment.rb</span>
  <span class='class class kw'>class</span> <span class='Comment constant id'>Comment</span>
    <span class='belongs_to identifier id'>belongs_to</span> <span class='symbol val'>:commentable</span><span class='comma token'>,</span> <span class='symbol val'>:polymorphic</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span>
  <span class='end end kw'>end</span>

  <span class='comment val'>## comments_controller.rb</span>
  <span class='class class kw'>class</span> <span class='CommentsController constant id'>CommentsController</span> <span class='lt op'>&lt;</span> <span class='ResourceController constant id'>ResourceController</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='belongs_to identifier id'>belongs_to</span> <span class='symbol val'>:post</span><span class='comma token'>,</span> <span class='symbol val'>:product</span><span class='comma token'>,</span> <span class='symbol val'>:user</span>
  <span class='end end kw'>end</span>
  <span class='mult op'>*</span><span class='Note constant id'>Note</span><span class='symbol val'>:*</span> <span class='Your constant id'>Your</span> <span class='model identifier id'>model</span> <span class='doesn identifier id'>doesn</span><span class='string val'>'t have to be polymorphic in the ActiveRecord sense.  It can be associated in whichever way you want.

  ## routes.rb
  map.resources :posts, :has_many =&gt; :comments
  map.resources :products, :has_many =&gt; :comments
  map.resources :users, :has_many =&gt; :comments
</span></pre>
<p>
All you have to do is that, and r_c will infer whichever relationship is
present, and perform all the actions at the scope of the parent object.
</p>
<h3>Parent Helpers</h3>
<p>
You also get some helpers for reflecting on your parent.
</p>
<pre class="code">
  <span class='parent? fid id'>parent?</span>       <span class='comment val'># =&gt; true/false is there a parent present?</span>
  <span class='parent_type identifier id'>parent_type</span>   <span class='comment val'># =&gt; :post</span>
  <span class='parent_model identifier id'>parent_model</span>  <span class='comment val'># =&gt; Post</span>
  <span class='parent_object identifier id'>parent_object</span> <span class='comment val'># =&gt; @post</span>
</pre>
<h3>Non-standard resource names</h3>
<p>
resource_controller supports overrides for every non-standard configuration
of resources.
</p>
<p>
The most common example is where the resource has a different name than the
associated model. Simply overriding the model_name helper will get
resource_controller working with your model.
</p>
<pre class="code">
  <span class='map identifier id'>map</span><span class='dot token'>.</span><span class='resources identifier id'>resources</span> <span class='symbol val'>:tags</span>
  <span class='dot3 op'>...</span>
  <span class='class class kw'>class</span> <span class='PhotoTag constant id'>PhotoTag</span> <span class='lt op'>&lt;</span> <span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
  <span class='dot3 op'>...</span>
  <span class='class class kw'>class</span> <span class='TagsController constant id'>TagsController</span> <span class='lt op'>&lt;</span> <span class='ResourceController constant id'>ResourceController</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='private identifier id'>private</span>
      <span class='def def kw'>def</span> <span class='model_name identifier id'>model_name</span>
        <span class='string val'>'photo_tag'</span>
      <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
<p>
In the above example, the variable, and params will be set to @tag, @tags,
and params[:tag]. If you&#8217;d like to change that, override object_name.
</p>
<pre class="code">
  <span class='def def kw'>def</span> <span class='object_name identifier id'>object_name</span>
    <span class='string val'>'photo_tag'</span>
  <span class='end end kw'>end</span>
</pre>
<p>
If you&#8217;re using a non-standard controller name, but everything else
is standard, overriding resource_name will propagate through all of the
other helpers.
</p>
<pre class="code">
  <span class='map identifier id'>map</span><span class='dot token'>.</span><span class='resources identifier id'>resources</span> <span class='symbol val'>:tags</span><span class='comma token'>,</span> <span class='symbol val'>:controller</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;somethings&quot;</span>
  <span class='dot3 op'>...</span>
  <span class='class class kw'>class</span> <span class='Tag constant id'>Tag</span> <span class='lt op'>&lt;</span> <span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
  <span class='dot3 op'>...</span>
  <span class='class class kw'>class</span> <span class='SomethingsController constant id'>SomethingsController</span> <span class='lt op'>&lt;</span> <span class='ResourceController constant id'>ResourceController</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='private identifier id'>private</span>
      <span class='def def kw'>def</span> <span class='resource_name identifier id'>resource_name</span>
        <span class='string val'>'tag'</span>
      <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
<p>
Finally, the route_name helper is used by Urligence to determine which url
helper to call, so if you have non-standard route names, override it.
</p>
<pre class="code">
  <span class='map identifier id'>map</span><span class='dot token'>.</span><span class='resources identifier id'>resources</span> <span class='symbol val'>:tags</span><span class='comma token'>,</span> <span class='symbol val'>:controller</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;taggings&quot;</span>
  <span class='dot3 op'>...</span>
  <span class='class class kw'>class</span> <span class='Taggings constant id'>Taggings</span> <span class='lt op'>&lt;</span> <span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
  <span class='dot3 op'>...</span>
  <span class='class class kw'>class</span> <span class='TaggingsController constant id'>TaggingsController</span> <span class='lt op'>&lt;</span> <span class='ResourceController constant id'>ResourceController</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='private identifier id'>private</span>
      <span class='def def kw'>def</span> <span class='route_name identifier id'>route_name</span>
        <span class='string val'>'tag'</span>
      <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
<h2>Url Helpers</h2>
<p>
Thanks to Urligence, you also get some free url helpers.
</p>
<p>
No matter what your controller looks like&#8230;
</p>
<pre class="code">
  <span class='lbrack token'>[</span><span class='edit_ identifier id'>edit_</span><span class='bitor op'>|</span><span class='new_ identifier id'>new_</span><span class='rbrack token'>]</span><span class='object_url identifier id'>object_url</span> <span class='comment val'># is the equivalent of saying [edit_|new_]post_url(@post)</span>
  <span class='lbrack token'>[</span><span class='edit_ identifier id'>edit_</span><span class='bitor op'>|</span><span class='new_ identifier id'>new_</span><span class='rbrack token'>]</span><span class='object_url identifier id'>object_url</span><span class='lparen token'>(</span><span class='some_other_object identifier id'>some_other_object</span><span class='rparen token'>)</span> <span class='comment val'># allows you to specify an object, but still maintain any paths or namespaces that are present</span>

  <span class='collection_url identifier id'>collection_url</span> <span class='comment val'># is like saying posts_url</span>
</pre>
<p>
Url helpers are especially useful when working with polymorphic
controllers.
</p>
<pre class="code">
  <span class='comment val'># /posts/1/comments</span>
  <span class='object_url identifier id'>object_url</span>          <span class='comment val'># =&gt; /posts/1/comments/#{@comment.to_param}</span>
  <span class='object_url identifier id'>object_url</span><span class='lparen token'>(</span><span class='comment identifier id'>comment</span><span class='rparen token'>)</span> <span class='comment val'># =&gt; /posts/1/comments/#{comment.to_param}</span>
  <span class='edit_object_url identifier id'>edit_object_url</span>     <span class='comment val'># =&gt; /posts/1/comments/#{@comment.to_param}/edit</span>
  <span class='collection_url identifier id'>collection_url</span>      <span class='comment val'># =&gt; /posts/1/comments</span>

  <span class='comment val'># /products/1/comments</span>
  <span class='object_url identifier id'>object_url</span>          <span class='comment val'># =&gt; /products/1/comments/#{@comment.to_param}</span>
  <span class='object_url identifier id'>object_url</span><span class='lparen token'>(</span><span class='comment identifier id'>comment</span><span class='rparen token'>)</span> <span class='comment val'># =&gt; /products/1/comments/#{comment.to_param}</span>
  <span class='edit_object_url identifier id'>edit_object_url</span>     <span class='comment val'># =&gt; /products/1/comments/#{@comment.to_param}/edit</span>
  <span class='collection_url identifier id'>collection_url</span>      <span class='comment val'># =&gt; /products/1/comments</span>

  <span class='comment val'># /comments</span>
  <span class='object_url identifier id'>object_url</span>          <span class='comment val'># =&gt; /comments/#{@comment.to_param}</span>
  <span class='object_url identifier id'>object_url</span><span class='lparen token'>(</span><span class='comment identifier id'>comment</span><span class='rparen token'>)</span> <span class='comment val'># =&gt; /comments/#{comment.to_param}</span>
  <span class='edit_object_url identifier id'>edit_object_url</span>     <span class='comment val'># =&gt; /comments/#{@comment.to_param}/edit</span>
  <span class='collection_url identifier id'>collection_url</span>      <span class='comment val'># =&gt; /comments</span>
</pre>
<p>
Or with namespaced, nested controllers&#8230;
</p>
<pre class="code">
  <span class='comment val'># /admin/products/1/options</span>
  <span class='object_url identifier id'>object_url</span>          <span class='comment val'># =&gt; /admin/products/1/options/#{@option.to_param}</span>
  <span class='object_url identifier id'>object_url</span><span class='lparen token'>(</span><span class='option identifier id'>option</span><span class='rparen token'>)</span>  <span class='comment val'># =&gt; /admin/products/1/options/#{option.to_param}</span>
  <span class='edit_object_url identifier id'>edit_object_url</span>     <span class='comment val'># =&gt; /admin/products/1/options/#{@option.to_param}/edit</span>
  <span class='collection_url identifier id'>collection_url</span>      <span class='comment val'># =&gt; /admin/products/1/options</span>
</pre>
<p>
You get the idea. Everything is automagical! All parameters are inferred.
</p>
<h2>Credits</h2>
<p>
resource_controller was created, and is maintained by {James
Golick}[http://jamesgolick.com].
</p>
<h2>License</h2>
<p>
resource_controller is available under the {MIT
License}[http://en.wikipedia.org/wiki/MIT_License]
</p>

      </div>
    </div>
  </body>
</html>