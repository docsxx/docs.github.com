<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>GitHub Documentation - giraffesoft/context</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/giraffesoft/commits/context/master" rel="alternate" title="Recent Commits to context:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<style type="text/css">
  #repo_menu { border-bottom: 5px solid #ccc; margin-bottom: 1.5em; }
  #repo_sub_menu { display: none; }
</style>
    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
        <div id="main">
      <div id="header" class="">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/giraffesoft/context/tree/">Source</a></li>
            <li class=""><a href="http://github.com/giraffesoft/context/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/giraffesoft/context/network">Network</a></li>            
            <li class=""><a href="http://github.com/giraffesoft/context/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/giraffesoft/context">Wiki</a></li>
            <li class=""><a href="http://github.com/giraffesoft/context/graphs">Graphs</a></li>                    
            <li class="active"><a href="http://docs.github.com/giraffesoft/context">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/giraffesoft">giraffesoft</a> / <b><a href="http://github.com/giraffesoft/context/tree">context</a></b>        
                <a id="namespaces_button" rel="giraffesoft/context" href="#">
                  <img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/>
                </a>
                <a id="methods_button" rel="giraffesoft/context" href="#">
                  <img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/>
                </a>

                <script type="text/javascript">          
                $('#namespaces_button').click(function(){
                  var url="/"+$(this).attr('rel')+"/namespaces/";
                  $.gitbox(url);
                  return false;
                });

                $('#methods_button').click(function(){
                  var url="/"+$(this).attr('rel')+"/methods/";
                  $.gitbox(url);
                  return false;
                });
                </script>
                
              </div>
            </div>

            <div class="meta">
              <table>
                <tbody>
                  <tr>
                    <td class="label">Description:</td>
                    <td><span id="repository_description" rel="http://github.com/giraffesoft/context/edit/update" class="">No description available</span></td>
                  </tr>              
                </tbody>
              </table>
            </div>
          </div>
                                        
          <div id="content">
            <div class="section docstring readme wikistyle">
  <h1>context – The testing library you&#8217;ve been looking for</h1>
<p>
http://github.com/jeremymcanally/context
</p>
<h2>DESCRIPTION:</h2>
<p>
If you&#8217;ve ever wanted contexts in your Test::Unit tests, then context
is for you. Your tests will be easier to read and write without all the
magic and extra code smell!
</p>
<h2>FEATURES/PROBLEMS:</h2>
<ul>
<li>Add contexts to Test::Unit tests

</li>
<li>Small DSL for specifying tests that are pretty

</li>
<li>Ability to chain context lifecycle methods (coming soon)

</li>
</ul>
<h2>SYNOPSIS:</h2>
<ul>
<li>Add contexts using familiar syntax:

<pre class="code">
    <span class='class class kw'>class</span> <span class='UserTest constant id'>UserTest</span> <span class='lt op'>&lt;</span> <span class='Test constant id'>Test</span><span class='colon2 op'>::</span><span class='Unit constant id'>Unit</span><span class='colon2 op'>::</span><span class='TestCase constant id'>TestCase</span>
      <span class='context identifier id'>context</span> <span class='string val'>&quot;A new User&quot;</span> <span class='do do kw'>do</span>
        <span class='comment val'># Before/after lifecycle blocks</span>
        <span class='before identifier id'>before</span> <span class='do do kw'>do</span>
          <span class='@user ivar id'>@user</span> <span class='assign token'>=</span> <span class='User constant id'>User</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
        <span class='end end kw'>end</span>

        <span class='comment val'># Specify tests using DSL</span>
        <span class='test identifier id'>test</span> <span class='string val'>&quot;should have the right full_name&quot;</span> <span class='do do kw'>do</span>
          <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;Dude Man&quot;</span><span class='comma token'>,</span> <span class='@user ivar id'>@user</span><span class='dot token'>.</span><span class='full_name identifier id'>full_name</span>
        <span class='end end kw'>end</span>

        <span class='test identifier id'>test</span> <span class='string val'>&quot;should be able to set parts of the name&quot;</span> <span class='do do kw'>do</span>
          <span class='@user ivar id'>@user</span><span class='dot token'>.</span><span class='first_name identifier id'>first_name</span> <span class='assign token'>=</span> <span class='string val'>&quot;Mad&quot;</span>
          <span class='@user ivar id'>@user</span><span class='dot token'>.</span><span class='last_name identifier id'>last_name</span> <span class='assign token'>=</span> <span class='string val'>&quot;Max&quot;</span>
          <span class='@user ivar id'>@user</span><span class='dot token'>.</span><span class='save identifier id'>save</span>
          <span class='assert_equal identifier id'>assert_equal</span> <span class='string val'>&quot;Mad Max&quot;</span><span class='comma token'>,</span> <span class='@user ivar id'>@user</span><span class='dot token'>.</span><span class='full_name identifier id'>full_name</span>
        <span class='end end kw'>end</span>

        <span class='after identifier id'>after</span> <span class='do do kw'>do</span>
          <span class='@user ivar id'>@user</span><span class='dot token'>.</span><span class='first_name identifier id'>first_name</span> <span class='assign token'>=</span> <span class='string val'>&quot;Dude&quot;</span>
          <span class='@user ivar id'>@user</span><span class='dot token'>.</span><span class='last_name identifier id'>last_name</span> <span class='assign token'>=</span> <span class='string val'>&quot;Man&quot;</span>
          <span class='@user ivar id'>@user</span><span class='dot token'>.</span><span class='save! fid id'>save!</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
</pre>
</li>
<li>It also has aliases that match other library&#8217;s syntaxes (all of which
can be mixed and matched):

<pre class="code">
    <span class='class class kw'>class</span> <span class='UserTest constant id'>UserTest</span> <span class='lt op'>&lt;</span> <span class='Test constant id'>Test</span><span class='colon2 op'>::</span><span class='Unit constant id'>Unit</span><span class='colon2 op'>::</span><span class='TestCase constant id'>TestCase</span>
      <span class='context identifier id'>context</span> <span class='string val'>&quot;A new Account&quot;</span> <span class='do do kw'>do</span>
        <span class='test identifier id'>test</span> <span class='string val'>&quot;should be new&quot;</span> <span class='do do kw'>do</span>
          <span class='Account constant id'>Account</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='dot token'>.</span><span class='new_record? fid id'>new_record?</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>

      <span class='comment val'># RSpec-esque</span>
      <span class='describe identifier id'>describe</span> <span class='string val'>&quot;A new User&quot;</span> <span class='do do kw'>do</span>
        <span class='it identifier id'>it</span> <span class='string val'>&quot;should do things&quot;</span> <span class='do do kw'>do</span>
          <span class='User constant id'>User</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='dot token'>.</span><span class='do_things! fid id'>do_things!</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>

      <span class='comment val'># Shoulda-esque</span>
      <span class='context identifier id'>context</span> <span class='string val'>&quot;Another User&quot;</span> <span class='do do kw'>do</span>
        <span class='should identifier id'>should</span> <span class='string val'>&quot;do things that are fun&quot;</span> <span class='do do kw'>do</span>
          <span class='User constant id'>User</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='dot token'>.</span><span class='do_things! fid id'>do_things!</span><span class='lparen token'>(</span><span class='symbol val'>:fun</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
</pre>
</li>
<li>Contexts can also be nested:

<pre class="code">
  <span class='class class kw'>class</span> <span class='UserTest constant id'>UserTest</span> <span class='lt op'>&lt;</span> <span class='Test constant id'>Test</span><span class='colon2 op'>::</span><span class='Unit constant id'>Unit</span><span class='colon2 op'>::</span><span class='TestCase constant id'>TestCase</span>
    <span class='context identifier id'>context</span> <span class='string val'>&quot;A new User&quot;</span> <span class='do do kw'>do</span>
      <span class='context identifier id'>context</span> <span class='string val'>&quot;with clown shoes&quot;</span> <span class='do do kw'>do</span>
        <span class='test identifier id'>test</span> <span class='string val'>&quot;should squeak&quot;</span> <span class='do do kw'>do</span>
          <span class='assert_true identifier id'>assert_true</span> <span class='User constant id'>User</span><span class='dot token'>.</span><span class='find_by_shoes identifier id'>find_by_shoes</span><span class='lparen token'>(</span><span class='string val'>&quot;clown&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='squeak? fid id'>squeak?</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>

      <span class='context identifier id'>context</span> <span class='string val'>&quot;without clown shoes&quot;</span> <span class='do do kw'>do</span>
        <span class='test identifier id'>test</span> <span class='string val'>&quot;should not squeak&quot;</span> <span class='do do kw'>do</span>
          <span class='assert_false identifier id'>assert_false</span> <span class='User constant id'>User</span><span class='dot token'>.</span><span class='find_by_shoes identifier id'>find_by_shoes</span><span class='lparen token'>(</span><span class='string val'>&quot;dressy&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='squeak? fid id'>squeak?</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
</li>
<li>You can also share behavior among contexts:

<pre class="code">
  <span class='class class kw'>class</span> <span class='UserTest constant id'>UserTest</span> <span class='lt op'>&lt;</span> <span class='Test constant id'>Test</span><span class='colon2 op'>::</span><span class='Unit constant id'>Unit</span><span class='colon2 op'>::</span><span class='TestCase constant id'>TestCase</span>
    <span class='shared identifier id'>shared</span> <span class='string val'>&quot;shared things&quot;</span> <span class='do do kw'>do</span>
      <span class='test identifier id'>test</span> <span class='string val'>&quot;things are shared&quot;</span> <span class='do do kw'>do</span>
        <span class='comment val'># test logic here...</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>

    <span class='context identifier id'>context</span> <span class='string val'>&quot;the first thing&quot;</span> <span class='do do kw'>do</span>
      <span class='uses identifier id'>uses</span> <span class='string val'>&quot;shared things&quot;</span>

      <span class='test identifier id'>test</span> <span class='string val'>&quot;other things...&quot;</span> <span class='do do kw'>do</span>
        <span class='comment val'># More testing...</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
</li>
<li>Shared behaviors can also use RSpec syntax

<pre class="code">
  <span class='class class kw'>class</span> <span class='UserTest constant id'>UserTest</span> <span class='lt op'>&lt;</span> <span class='Test constant id'>Test</span><span class='colon2 op'>::</span><span class='Unit constant id'>Unit</span><span class='colon2 op'>::</span><span class='TestCase constant id'>TestCase</span>
    <span class='share_examples_for identifier id'>share_examples_for</span> <span class='string val'>&quot;shared things&quot;</span> <span class='do do kw'>do</span>
      <span class='it identifier id'>it</span> <span class='string val'>&quot;things are shared&quot;</span> <span class='do do kw'>do</span>
        <span class='comment val'># test logic here...</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>

    <span class='describe identifier id'>describe</span> <span class='string val'>&quot;the first thing&quot;</span> <span class='do do kw'>do</span>
      <span class='it_should_behave_like identifier id'>it_should_behave_like</span> <span class='string val'>&quot;shared things&quot;</span>

      <span class='it identifier id'>it</span> <span class='string val'>&quot;other things...&quot;</span> <span class='do do kw'>do</span>
        <span class='comment val'># More testing...</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
</li>
</ul>
<h2>REQUIREMENTS:</h2>
<ul>
<li>Test::Unit (you have it; trust me)

</li>
</ul>
<h2>INSTALL:</h2>
<pre class="code">
    $ <span class='gem identifier id'>gem</span> <span class='sources identifier id'>sources</span> <span class='minus op'>-</span><span class='a identifier id'>a</span> <span class='http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/gems.github.com
    $ sudo gem install jeremymcanally-context
</span></pre>
<h2>LICENSE:</h2>
<p>
Copyright &#169; 2008 Jeremy McAnally
</p>
<p>
Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the
&#8216;Software&#8217;), to deal in the Software without restriction,
including without limitation the rights to use, copy, modify, merge,
publish, distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to the
following conditions:
</p>
<p>
The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.
</p>
<p>
THE SOFTWARE IS PROVIDED &#8216;AS IS&#8217;, WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
USE OR OTHER DEALINGS IN THE SOFTWARE.
</p>
<h2>ACKNOWLEDGEMENTS:</h2>
<p>
Original implementation by myself, but heavily tweaked and borrowed from
Rails Core and Pratik Naik.
</p>

</div>
          </div>
        </div>
      </div>  
                  
      <div id="footer">
        <div class="site">
          <div class="info">
            <div class="links">
              <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
              <a href="http://github.com/blog">Blog</a> |
              <a href="http://support.github.com/">Support</a> |
              <a href="http://github.com/training">Training</a> |
              <a href="http://github.com/contact">Contact</a> |
              <a href="http://groups.google.com/group/github/">Google Group</a> |
              <a href="http://develop.github.com/">API</a> |
              <a href="http://twitter.com/github">Status</a>
            </div>
            <div class="company">
              <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
              is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
            </div>
          </div>
          <div class="sponsor">
            <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
            <div>
              Hosting provided by our<br> partners at Engine Yard
            </div>
          </div>
        </div>
      </div>
      
      <div id="coming_soon" style="display: none;">
        This feature is coming soon.  Sit tight!
      </div>

      <div id="facebox" style="display: none;">       
        <div class="popup">         
          <table>           
            <tbody>             
              <tr>               
                <td class="tl"></td>
                <td class="b"></td>
                <td class="tr"></td>             
              </tr>             
            <tr>               
              <td class="b"></td>               
              <td class="body">                 
                <div class="content"></div>                 
                <div class="footer">                   
                  <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
                </div>               
              </td>               
              <td class="b"></td>             
            </tr>             
            <tr>               
              <td class="bl"></td>
              <td class="b"></td>
              <td class="br"></td>             
            </tr>           
          </tbody>         
        </table>       
      </div>     
    </div>

  </body>
</html>