<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>Shopify's active_merchant - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/Shopify/commits/active_merchant/master" rel="alternate" title="Recent Commits to active_merchant:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    GitHubRepo.init("Shopify", "active_merchant", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='Shopify/active_merchant/blob/52a79b89994800ea3daf91194313a19d4ba94ce7' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='Shopify/active_merchant/blob/52a79b89994800ea3daf91194313a19d4ba94ce7' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("Shopify", "active_merchant", "52a79b89994800ea3daf91194313a19d4ba94ce7", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/Shopify/active_merchant/tree/">Source</a></li>
            <li class=""><a href="http://github.com/Shopify/active_merchant/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/Shopify/active_merchant/network">Network</a></li>            
            <li class=""><a href="http://github.com/Shopify/active_merchant/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/Shopify/active_merchant">Wiki</a></li>
            <li class=""><a href="http://github.com/Shopify/active_merchant/graphs">Graphs</a></li>                    
            <li class="active"><a href="/Shopify/active_merchant">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/Shopify">Shopify</a> / <b><a href="http://github.com/Shopify/active_merchant/tree">active_merchant</a></b>        
                <a id="namespaces_button" rel="Shopify/active_merchant/blob/52a79b89994800ea3daf91194313a19d4ba94ce7" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="Shopify/active_merchant/blob/52a79b89994800ea3daf91194313a19d4ba94ce7" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="section docstring readme wikistyle">
  <h1>Active Merchant</h1>
<p>
This library is supposed to aid in creating e-commerce software in Ruby. In
the future we want to support all &quot;good&quot; payment gateways.
</p>
<p>
This library is the foundation of commerce for http://www.shopify.com.
</p>
<p>
Please visit the <tt><a title="homepage" href="ActiveMerchant.html">homepage</a></tt>[http://activemerchant.org] for
more resources, tutorials and other information about this project.
</p>
<h2>Supported Direct Payment Gateways</h2>
<p>
The <tt><a title="Wiki" href="ActiveMerchant.html">Wiki</a></tt>[http://github.com/Shopify/active_merchant/wikis]
contains a {table of features supported by each
gateway}[http://github.com/Shopify/active_merchant/wikis/gatewayfeaturematrix].
</p>
<ul>
<li><tt>CIM</tt>[http://www.authorize.net/] - US

</li>
<li><tt>Authorize.Net</tt>[http://www.authorize.net/] - US

</li>
<li><tt>Beanstream.com</tt>[http://www.beanstream.com/] - CA

</li>
<li><tt>Braintree</tt>[http://www.braintreepaymentsolutions.com] - US

</li>
<li><tt>CardStream</tt>[http://www.cardstream.com/] - GB

</li>
<li><tt>CyberSource</tt>[http://www.cybersource.com] - US

</li>
<li><tt>DataCash</tt>[http://www.datacash.com/] - GB

</li>
<li><tt>Efsnet</tt>[http://www.concordefsnet.com/] - US

</li>
<li><tt>eWAY</tt>[http://www.eway.com.au/] - AU

</li>
<li><tt>E-xact</tt>[http://www.e-xact.com] - CA, US

</li>
<li><tt>LinkPoint</tt>[http://www.linkpoint.com/] - US

</li>
<li><tt>e-Solutions</tt>[http://merchante-solutions.com/] - US

</li>
<li><tt>Payments</tt>[http://www.modpay.com] - US

</li>
<li><tt>Moneris</tt>[http://www.moneris.com/] - CA

</li>
<li><tt>NetRegistry</tt>[http://www.netregistry.com.au] - AU

</li>
<li><tt>NETbilling</tt>[http://www.netbilling.com] - US

</li>
<li><tt>PayJunction</tt>[http://www.payjunction.com/] - US

</li>
<li><tt>PaySecure</tt>[http://www.commsecure.com.au/paysecure.shtml] - AU

</li>
<li>{PayPal Express
Checkout}[https://www.paypal.com/cgi-bin/webscr?cmd=xpt/merchant/ExpressCheckoutIntro-outside]
- US, CA, SG, AU

</li>
<li>{PayPal Payflow
Pro}[https://www.paypal.com/cgi-bin/webscr?cmd=_payflow-pro-overview-outside]
- US, CA, SG, AU

</li>
<li>{PayPal Website Payments Pro
(UK)}[https://www.paypal.com/uk/cgi-bin/webscr?cmd=_wp-pro-overview-outside]
- GB

</li>
<li><tt>PaymentExpress</tt>[http://www.paymentexpress.com/] - AU, MY, NZ, SG, ZA, GB,
US

</li>
<li>{PayPal Website Payments Pro
(CA)}[https://www.paypal.com/cgi-bin/webscr?cmd=_wp-pro-overview-outside] -
CA

</li>
<li>{PayPal Express
Checkout}[https://www.paypal.com/cgi-bin/webscr?cmd=xpt/merchant/ExpressCheckoutIntro-outside]
- US

</li>
<li>{PayPal Website Payments Pro
(US)}[https://www.paypal.com/cgi-bin/webscr?cmd=_wp-pro-overview-outside] -
US

</li>
<li><tt>Pay</tt>[http://www.plugnpay.com/] - US

</li>
<li><tt>Protx</tt>[http://www.protx.com] - GB

</li>
<li><tt>Psigate</tt>[http://www.psigate.com/] - CA

</li>
<li><tt>Payment Solutions</tt>[http://www.paymentsolutionsltd.com/] - GB

</li>
<li><tt>Quickpay</tt>[http://quickpay.dk/] - DK

</li>
<li><tt>Realex</tt>[http://www.realexpayments.com/] - IE, GB

</li>
<li><tt>Payment Solutions</tt>[http://www.sagepayments.com] - US, CA

</li>
<li><tt>SecurePay</tt>[http://securepay.com.au] - AU

</li>
<li><tt>SecurePay</tt>[http://www.securepay.com/] - US

</li>
<li><tt>SecurePayTech</tt>[http://www.securepaytech.com/] - NZ

</li>
<li><tt>SkipJack</tt>[http://www.skipjack.com/] - US, CA

</li>
<li><tt>TransFirst</tt>[http://www.transfirst.com/] - US

</li>
<li><tt>TrustCommerce</tt>[http://www.trustcommerce.com/] - US

</li>
<li><tt>ePay</tt>[http://www.usaepay.com/] - US

</li>
<li><tt>Verifi</tt>[http://www.verifi.com/] - US

</li>
<li><tt>ViaKLIX</tt>[http://viaklix.com] - US

</li>
<li><tt>Wirecard</tt>[http://www.wirecard.com] - DE

</li>
</ul>
<h2>Supported Offsite Payment Gateways</h2>
<ul>
<li>{PayPal Website Payments
Standard}[https://www.paypal.com/cgi-bin/webscr?cmd=_wp-standard-overview-outside]

</li>
<li>Chronopay[http://www.chronopay.com]

</li>
<li>Nochex[http://www.nochex.com]

</li>
<li>{Banca Sella
GestPay}[https://www.sella.it/banca/ecommerce/gestpay/gestpay.jsp]

</li>
<li><tt>Checkout</tt>[http://www.2checkout.com]

</li>
<li><tt>HiTRUST</tt>[http://www.hitrust.com.hk/]

</li>
</ul>
<h2>Download</h2>
<p>
Currently this library is available with git from:
</p>
<pre class="code">
  <span class='git identifier id'>git</span><span class='symbol val'>:/</span><span class='regexp val'>/github.com/</span><span class='Shopify constant id'>Shopify</span><span class='div op'>/</span><span class='active_merchant identifier id'>active_merchant</span><span class='dot token'>.</span><span class='git identifier id'>git</span>
</pre>
<h2>Installation</h2>
<h3>From Git</h3>
<p>
You can check out the latest source from git:
</p>
<pre class="code">
  <span class='gt op'>&gt;</span> <span class='git identifier id'>git</span> <span class='pull identifier id'>pull</span> <span class='git identifier id'>git</span><span class='symbol val'>:/</span><span class='regexp val'>/github.com/</span><span class='Shopify constant id'>Shopify</span><span class='div op'>/</span><span class='active_merchant identifier id'>active_merchant</span><span class='dot token'>.</span><span class='git identifier id'>git</span>
</pre>
<h3>As a Rails plugin</h3>
<p>
ActiveMerchant includes an init.rb file. This means that Rails will
automatically load ActiveMerchant on startup. Run the following command
from the root directory of your Rails project to install ActiveMerchant as
a Rails plugin:
</p>
<pre class="code">
  <span class='gt op'>&gt;</span> <span class='dot token'>.</span><span class='div op'>/</span><span class='script identifier id'>script</span><span class='div op'>/</span><span class='plugin identifier id'>plugin</span> <span class='install identifier id'>install</span> <span class='git identifier id'>git</span><span class='symbol val'>:/</span><span class='regexp val'>/github.com/</span><span class='Shopify constant id'>Shopify</span><span class='div op'>/</span><span class='active_merchant identifier id'>active_merchant</span><span class='dot token'>.</span><span class='git identifier id'>git</span>
</pre>
<h3>From Ruby Gems</h3>
<p>
Installation from RubyGems
</p>
<pre class="code">
  <span class='gt op'>&gt;</span> <span class='gem identifier id'>gem</span> <span class='install identifier id'>install</span> <span class='activemerchant identifier id'>activemerchant</span>
</pre>
<h2>Sample Usage</h2>
<pre class="code">
  <span class='require identifier id'>require</span> <span class='string val'>'rubygems'</span>
  <span class='require identifier id'>require</span> <span class='string val'>'active_merchant'</span>

  <span class='comment val'># Use the TrustCommerce test servers</span>
  <span class='ActiveMerchant constant id'>ActiveMerchant</span><span class='colon2 op'>::</span><span class='Billing constant id'>Billing</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span><span class='dot token'>.</span><span class='mode identifier id'>mode</span> <span class='assign token'>=</span> <span class='symbol val'>:test</span>

  <span class='comment val'># ActiveMerchant accepts all amounts as Integer values in cents</span>
  <span class='comment val'># $10.00</span>
  <span class='amount identifier id'>amount</span> <span class='assign token'>=</span> <span class='integer val'>1000</span>

  <span class='comment val'># The card verification value is also known as CVV2, CVC2, or CID</span>
  <span class='credit_card identifier id'>credit_card</span> <span class='assign token'>=</span> <span class='ActiveMerchant constant id'>ActiveMerchant</span><span class='colon2 op'>::</span><span class='Billing constant id'>Billing</span><span class='colon2 op'>::</span><span class='CreditCard constant id'>CreditCard</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span>
                  <span class='symbol val'>:first_name</span>         <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'Bob'</span><span class='comma token'>,</span>
                  <span class='symbol val'>:last_name</span>          <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'Bobsen'</span><span class='comma token'>,</span>
                  <span class='symbol val'>:number</span>             <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'4242424242424242'</span><span class='comma token'>,</span>
                  <span class='symbol val'>:month</span>              <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'8'</span><span class='comma token'>,</span>
                  <span class='symbol val'>:year</span>               <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'2012'</span><span class='comma token'>,</span>
                  <span class='symbol val'>:verification_value</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'123'</span>
                <span class='rparen token'>)</span>

  <span class='comment val'># Validating the card automatically detects the card type</span>
  <span class='if if kw'>if</span> <span class='credit_card identifier id'>credit_card</span><span class='dot token'>.</span><span class='valid? fid id'>valid?</span>

    <span class='comment val'># Create a gateway object for the TrustCommerce service</span>
    <span class='gateway identifier id'>gateway</span> <span class='assign token'>=</span> <span class='ActiveMerchant constant id'>ActiveMerchant</span><span class='colon2 op'>::</span><span class='Billing constant id'>Billing</span><span class='colon2 op'>::</span><span class='TrustCommerceGateway constant id'>TrustCommerceGateway</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span>
                <span class='symbol val'>:login</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'TestMerchant'</span><span class='comma token'>,</span>
                <span class='symbol val'>:password</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'password'</span>
              <span class='rparen token'>)</span>

    <span class='comment val'># Authorize for the amount</span>
    <span class='response identifier id'>response</span> <span class='assign token'>=</span> <span class='gateway identifier id'>gateway</span><span class='dot token'>.</span><span class='purchase identifier id'>purchase</span><span class='lparen token'>(</span><span class='amount identifier id'>amount</span><span class='comma token'>,</span> <span class='credit_card identifier id'>credit_card</span><span class='rparen token'>)</span>

    <span class='if if kw'>if</span> <span class='response identifier id'>response</span><span class='dot token'>.</span><span class='success? fid id'>success?</span>
      <span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;Successfully charged $#{sprintf(&quot;%.2f&quot;, amount / 100)} to the credit card #{credit_card.display_number}&quot;</span>
    <span class='else else kw'>else</span>
      <span class='raise identifier id'>raise</span> <span class='StandardError constant id'>StandardError</span><span class='comma token'>,</span> <span class='response identifier id'>response</span><span class='dot token'>.</span><span class='message identifier id'>message</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
<h2>Contributing</h2>
<p>
Please see the {ActiveMerchant Guide to
Contributing}[http://github.com/Shopify/active_merchant/wikis/contributing]
for information on adding a new gateway to ActiveMerchant.
</p>

</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>