<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>buildr's buildr - Class: Buildr::ArchiveTask - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/buildr/commits/buildr/master" rel="alternate" title="Recent Commits to buildr:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("buildr", "buildr", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='buildr/buildr/blob/32766dc792461b51bf40e09fb9f07bf44a50f943' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='buildr/buildr/blob/32766dc792461b51bf40e09fb9f07bf44a50f943' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("buildr", "buildr", "32766dc792461b51bf40e09fb9f07bf44a50f943", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/buildr/buildr/tree/">Source</a></li>
            <li class=""><a href="http://github.com/buildr/buildr/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/buildr/buildr/network">Network</a></li>            
            <li class=""><a href="http://github.com/buildr/buildr/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/buildr/buildr">Wiki</a></li>
            <li class=""><a href="http://github.com/buildr/buildr/graphs">Graphs</a></li>                    
            <li class="active"><a href="/buildr/buildr">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/buildr">buildr</a> / <b><a href="http://github.com/buildr/buildr/tree">buildr</a></b>        
                <a id="namespaces_button" rel="buildr/buildr/blob/32766dc792461b51bf40e09fb9f07bf44a50f943" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="buildr/buildr/blob/32766dc792461b51bf40e09fb9f07bf44a50f943" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Buildr_ArchiveTask">
  <h1>Class: Buildr::ArchiveTask</h1>
  <div class="section inheritance">
  <ul>
  <li><a href="../Object.html" title="Object">Object</a></li><ul><li><a href="../Rake/FileTask.html" title="Rake::FileTask">Rake::FileTask</a></li><ul><li>Buildr::ArchiveTask</li>
  </ul></ul></ul>
</div><div class="section docstring">
  <p>
Base class for ZipTask, TarTask and other archives.
</p>

</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/packaging/archive.rb', line 272</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/buildr/buildr/blob/32766dc792461b51bf40e09fb9f07bf44a50f943/lib/buildr/packaging/archive.rb#L272">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='super super kw'>super</span>
  <span class='clean identifier id'>clean</span>

  <span class='comment val'># Make sure we're the last enhancements, so other enhancements can add content.</span>
  <span class='enhance identifier id'>enhance</span> <span class='do do kw'>do</span>
    <span class='@file_map ivar id'>@file_map</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
    <span class='enhance identifier id'>enhance</span> <span class='do do kw'>do</span>
      <span class='send identifier id'>send</span> <span class='string val'>'create'</span> <span class='if if_mod kw'>if</span> <span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:create</span><span class='rparen token'>)</span>
      <span class='comment val'># We're here because the archive file does not exist, or one of the files is newer than the archive contents;</span>
      <span class='comment val'># we need to make sure the archive doesn't exist (e.g. opening an existing Zip will add instead of create).</span>
      <span class='comment val'># We also want to protect against partial updates.</span>
      <span class='rm identifier id'>rm</span> <span class='name identifier id'>name</span> <span class='rescue rescue kw'>rescue</span> <span class='nil nil kw'>nil</span>
      <span class='mkpath identifier id'>mkpath</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='dirname identifier id'>dirname</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
      <span class='begin begin kw'>begin</span>
        <span class='@paths ivar id'>@paths</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='object identifier id'>object</span><span class='bitor op'>|</span>
          <span class='@file_map ivar id'>@file_map</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span> <span class='unless unless_mod kw'>unless</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
          <span class='object identifier id'>object</span><span class='dot token'>.</span><span class='add_files identifier id'>add_files</span><span class='lparen token'>(</span><span class='@file_map ivar id'>@file_map</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
        <span class='create_from identifier id'>create_from</span> <span class='@file_map ivar id'>@file_map</span>
      <span class='rescue rescue kw'>rescue</span>
        <span class='rm identifier id'>rm</span> <span class='name identifier id'>name</span> <span class='rescue rescue kw'>rescue</span> <span class='nil nil kw'>nil</span>
        <span class='raise identifier id'>raise</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#clean-instance_method">#clean</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='clean identifier id'>clean</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#contain-3F-instance_method">#contain?</span><span class='args'>(*files)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='contain identifier id'>contain</span><span class='lparen token'>(</span><span class='file identifier id'>file</span><span class='mult op'>*</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='boolean identifier id'>boolean</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#empty-3F-instance_method">#empty?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='empty? fid id'>empty?</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='boolean identifier id'>boolean</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#exclude-instance_method">#exclude</span><span class='args'>(*files)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='exclude identifier id'>exclude</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='files identifier id'>files</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#include-instance_method">#include</span><span class='args'>(*files)</span>
        <span class='block'></span>
        
          <span class='alias'>#add</span>
        
          <span class='alias'>#&lt;&lt;</span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='files identifier id'>files</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span>
  <span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='files identifier id'>files</span><span class='comma token'>,</span> <span class='symbol val'>:path=</span><span class='gt op'>&gt;</span><span class='path identifier id'>path</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span>
  <span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='file identifier id'>file</span><span class='comma token'>,</span> <span class='symbol val'>:as=</span><span class='gt op'>&gt;</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span>
  <span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='symbol val'>:from=</span><span class='gt op'>&gt;</span><span class='path identifier id'>path</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span>
  <span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='files identifier id'>files</span><span class='comma token'>,</span> <span class='symbol val'>:merge=</span><span class='gt op'>&gt;</span><span class='true true kw'>true</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#invoke_prerequisites-instance_method">#invoke_prerequisites</span><span class='args'>(args, chain)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#merge-instance_method">#merge</span><span class='args'>(*files)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='files identifier id'>files</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Merge constant id'>Merge</span>
  <span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='files identifier id'>files</span><span class='comma token'>,</span> <span class='symbol val'>:path=</span><span class='gt op'>&gt;</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Merge constant id'>Merge</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#needed-3F-instance_method">#needed?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#path-instance_method">#path</span><span class='args'>(name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='path identifier id'>path</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Path constant id'>Path</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#root-instance_method">#root</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='root identifier id'>root</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='ArchiveTask constant id'>ArchiveTask</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#with-instance_method">#with</span><span class='args'>(options)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span><span class='dot token'>.</span>
</pre>

        
      </td>
    </tr>
  
</table><div class="inherited">
  
  <div>
    <h2>Public Instance Methods Inherited from <a href="../Rake/FileTask.html" title="Rake::FileTask">Rake::FileTask</a></h2>
    <p><span class='name'><a href="../Rake/FileTask.html#exist%3F-instance_method" title="exist?">exist?</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>clean</h3>
</div><div id="clean-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>clean</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='clean identifier id'>clean</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span>
</pre>
<p>
Removes all previously added content from this archive. Use this method if
you want to remove default content from a package. For example,
package(:jar) by default includes compiled classes and resources, using
this method, you can create an empty jar and afterwards add the desired
content to it.
</p>
<pre class="code">
   <span class='package identifier id'>package</span><span class='lparen token'>(</span><span class='symbol val'>:jar</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='clean identifier id'>clean</span><span class='dot token'>.</span><span class='include identifier id'>include</span> <span class='path_to identifier id'>path_to</span><span class='lparen token'>(</span><span class='string val'>'desired/content'</span><span class='rparen token'>)</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/packaging/archive.rb', line 310</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/buildr/buildr/blob/32766dc792461b51bf40e09fb9f07bf44a50f943/lib/buildr/packaging/archive.rb#L310">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">310
311
312
313
314</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='clean identifier id'>clean</span>
  <span class='@paths ivar id'>@paths</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='string val'>''</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Path constant id'>Path</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='string val'>''</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='@prepares ivar id'>@prepares</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>contain?</h3>
</div><div id="contain-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>contain?</span><span class='args'>(*files)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='contain identifier id'>contain</span><span class='lparen token'>(</span><span class='file identifier id'>file</span><span class='mult op'>*</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='boolean identifier id'>boolean</span>
</pre>
<p>
Returns true if this ZIP file contains all the specified files. You can use
absolute file names and glob patterns (using *, **, etc).
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/packaging/archive.rb', line 467</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/buildr/buildr/blob/32766dc792461b51bf40e09fb9f07bf44a50f943/lib/buildr/packaging/archive.rb#L467">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">467
468
469</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='contain? fid id'>contain?</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='files identifier id'>files</span><span class='rparen token'>)</span>
  <span class='path identifier id'>path</span><span class='lparen token'>(</span><span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='contain? fid id'>contain?</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='files identifier id'>files</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>empty?</h3>
</div><div id="empty-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>empty?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='empty? fid id'>empty?</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='boolean identifier id'>boolean</span>
</pre>
<p>
Returns true if this ZIP file is empty (has no other entries inside).
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/packaging/archive.rb', line 458</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/buildr/buildr/blob/32766dc792461b51bf40e09fb9f07bf44a50f943/lib/buildr/packaging/archive.rb#L458">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">458
459
460</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='empty? fid id'>empty?</span>
  <span class='path identifier id'>path</span><span class='lparen token'>(</span><span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='empty identifier id'>empty</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>exclude</h3>
</div><div id="exclude-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>exclude</span><span class='args'>(*files)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='exclude identifier id'>exclude</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='files identifier id'>files</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span>
</pre>
<p>
Excludes files and returns self. Can be used in combination with include to
prevent some files from being included.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/packaging/archive.rb', line 359</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/buildr/buildr/blob/32766dc792461b51bf40e09fb9f07bf44a50f943/lib/buildr/packaging/archive.rb#L359">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">359
360
361
362</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='exclude identifier id'>exclude</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='files identifier id'>files</span><span class='rparen token'>)</span>
  <span class='@paths ivar id'>@paths</span><span class='lbrack token'>[</span><span class='string val'>''</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='exclude identifier id'>exclude</span> <span class='mult op'>*</span><span class='files identifier id'>files</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span> 
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>include</h3>
</div><div id="include-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>include</span><span class='args'>(*files)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="add-instance_method">add</tt>
  
    <tt id="%3C%3C-instance_method">&lt;&lt;</tt>
  
</p>
</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='files identifier id'>files</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span>
  <span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='files identifier id'>files</span><span class='comma token'>,</span> <span class='symbol val'>:path=</span><span class='gt op'>&gt;</span><span class='path identifier id'>path</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span>
  <span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='file identifier id'>file</span><span class='comma token'>,</span> <span class='symbol val'>:as=</span><span class='gt op'>&gt;</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span>
  <span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='symbol val'>:from=</span><span class='gt op'>&gt;</span><span class='path identifier id'>path</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span>
  <span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='files identifier id'>files</span><span class='comma token'>,</span> <span class='symbol val'>:merge=</span><span class='gt op'>&gt;</span><span class='true true kw'>true</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span>
</pre>
<p>
Include files in this archive, or when called on a path, within that path.
Returns self.
</p>
<p>
The first form accepts a list of files, directories and glob patterns and
adds them to the archive. For example, to include the file foo, directory
bar (including all files in there) and all files under baz:
</p>
<pre class="code">
  <span class='zip identifier id'>zip</span><span class='lparen token'>(</span><span class='dot2 op'>..</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='string val'>'foo'</span><span class='comma token'>,</span> <span class='string val'>'bar'</span><span class='comma token'>,</span> <span class='string val'>'baz/*'</span><span class='rparen token'>)</span>
</pre>
<p>
The second form is similar but adds files/directories under the specified
path. For example, to add foo as bar/foo:
</p>
<pre class="code">
  <span class='zip identifier id'>zip</span><span class='lparen token'>(</span><span class='dot2 op'>..</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='string val'>'foo'</span><span class='comma token'>,</span> <span class='symbol val'>:path=</span><span class='gt op'>&gt;</span><span class='string val'>'bar'</span><span class='rparen token'>)</span>
</pre>
<p>
The :path option is the same as using the path method:
</p>
<pre class="code">
  <span class='zip identifier id'>zip</span><span class='lparen token'>(</span><span class='dot2 op'>..</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='path identifier id'>path</span><span class='lparen token'>(</span><span class='string val'>'bar'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='string val'>'foo'</span><span class='rparen token'>)</span>
</pre>
<p>
All other options can be used in combination with the :path option.
</p>
<p>
The third form adds a file or directory under a different name. For
example, to add the file foo under the name bar:
</p>
<pre class="code">
  <span class='zip identifier id'>zip</span><span class='lparen token'>(</span><span class='dot2 op'>..</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='string val'>'foo'</span><span class='comma token'>,</span> <span class='symbol val'>:as=</span><span class='gt op'>&gt;</span><span class='string val'>'bar'</span><span class='rparen token'>)</span>
</pre>
<p>
The fourth form adds the contents of a directory using the directory as a
prerequisite:
</p>
<pre class="code">
  <span class='zip identifier id'>zip</span><span class='lparen token'>(</span><span class='dot2 op'>..</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='symbol val'>:from=</span><span class='gt op'>&gt;</span><span class='string val'>'foo'</span><span class='rparen token'>)</span>
</pre>
<p>
Unlike <tt>include(&#8216;foo&#8217;)</tt> it includes the contents of the
directory, not the directory itself. Unlike
<tt>include(&#8216;foo/*&#8217;)</tt>, it uses the directory timestamp for
dependency management.
</p>
<p>
The fifth form includes the contents of another archive by expanding it
into this archive. For example:
</p>
<pre class="code">
  <span class='zip identifier id'>zip</span><span class='lparen token'>(</span><span class='dot2 op'>..</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='string val'>'foo.zip'</span><span class='comma token'>,</span> <span class='symbol val'>:merge=</span><span class='gt op'>&gt;</span><span class='true true kw'>true</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='string val'>'bar.zip'</span><span class='rparen token'>)</span>
</pre>
<p>
You can also use the method #merge.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/packaging/archive.rb', line 348</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/buildr/buildr/blob/32766dc792461b51bf40e09fb9f07bf44a50f943/lib/buildr/packaging/archive.rb#L348">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">348
349
350
351</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='files identifier id'>files</span><span class='rparen token'>)</span>
  <span class='@paths ivar id'>@paths</span><span class='lbrack token'>[</span><span class='string val'>''</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='include identifier id'>include</span> <span class='mult op'>*</span><span class='files identifier id'>files</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span> 
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>invoke_prerequisites</h3>
</div><div id="invoke_prerequisites-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>invoke_prerequisites</span><span class='args'>(args, chain)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/packaging/archive.rb', line 430</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/buildr/buildr/blob/32766dc792461b51bf40e09fb9f07bf44a50f943/lib/buildr/packaging/archive.rb#L430">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">430
431
432
433
434
435</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='invoke_prerequisites identifier id'>invoke_prerequisites</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='chain identifier id'>chain</span><span class='rparen token'>)</span> <span class='comment val'>#:nodoc:</span>
  <span class='@prepares ivar id'>@prepares</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='prepare identifier id'>prepare</span><span class='bitor op'>|</span> <span class='prepare identifier id'>prepare</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='@prepares ivar id'>@prepares</span><span class='dot token'>.</span><span class='clear identifier id'>clear</span>
  <span class='@prerequisites ivar id'>@prerequisites</span> <span class='opasgn op'>|=</span> <span class='@paths ivar id'>@paths</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='path identifier id'>path</span><span class='bitor op'>|</span> <span class='path identifier id'>path</span><span class='dot token'>.</span><span class='sources identifier id'>sources</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span>
  <span class='super super kw'>super</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>merge</h3>
</div><div id="merge-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>merge</span><span class='args'>(*files)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='files identifier id'>files</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Merge constant id'>Merge</span>
  <span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='files identifier id'>files</span><span class='comma token'>,</span> <span class='symbol val'>:path=</span><span class='gt op'>&gt;</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Merge constant id'>Merge</span>
</pre>
<p>
Merges another archive into this one by including the individual files from
the merged archive.
</p>
<p>
Returns an object that supports two methods: include and exclude. You can
use these methods to merge only specific files. For example:
</p>
<pre class="code">
  <span class='zip identifier id'>zip</span><span class='lparen token'>(</span><span class='dot2 op'>..</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='string val'>'src.zip'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='string val'>'module1/*'</span><span class='rparen token'>)</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/packaging/archive.rb', line 373</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/buildr/buildr/blob/32766dc792461b51bf40e09fb9f07bf44a50f943/lib/buildr/packaging/archive.rb#L373">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">373
374
375</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='files identifier id'>files</span><span class='rparen token'>)</span>
  <span class='@paths ivar id'>@paths</span><span class='lbrack token'>[</span><span class='string val'>''</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span> <span class='mult op'>*</span><span class='files identifier id'>files</span>
<span class='end end kw'>end</span> 
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>needed?</h3>
</div><div id="needed-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>needed?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/packaging/archive.rb', line 437</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/buildr/buildr/blob/32766dc792461b51bf40e09fb9f07bf44a50f943/lib/buildr/packaging/archive.rb#L437">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='needed? fid id'>needed?</span> 
  <span class='return return kw'>return</span> <span class='true true kw'>true</span> <span class='unless unless_mod kw'>unless</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='exist? fid id'>exist?</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='comment val'># You can do something like:</span>
  <span class='comment val'>#   include('foo', :path=&gt;'foo').exclude('foo/bar', path=&gt;'foo').</span>
  <span class='comment val'>#     include('foo/bar', :path=&gt;'foo/bar')</span>
  <span class='comment val'># This will play havoc if we handled all the prerequisites together</span>
  <span class='comment val'># under the task, so instead we handle them individually for each path.</span>
  <span class='comment val'>#</span>
  <span class='comment val'># We need to check that any file we include is not newer than the</span>
  <span class='comment val'># contents of the Zip. The file itself but also the directory it's</span>
  <span class='comment val'># coming from, since some tasks touch the directory, e.g. when the</span>
  <span class='comment val'># content of target/classes is included into a WAR.</span>
  <span class='most_recent identifier id'>most_recent</span> <span class='assign token'>=</span> <span class='@paths ivar id'>@paths</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='path identifier id'>path</span><span class='bitor op'>|</span> <span class='path identifier id'>path</span><span class='dot token'>.</span><span class='sources identifier id'>sources</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='dot token'>.</span>
    <span class='select identifier id'>select</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='file identifier id'>file</span><span class='bitor op'>|</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='exist? fid id'>exist?</span><span class='lparen token'>(</span><span class='file identifier id'>file</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='file identifier id'>file</span><span class='bitor op'>|</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='stat identifier id'>stat</span><span class='lparen token'>(</span><span class='file identifier id'>file</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='mtime identifier id'>mtime</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='max identifier id'>max</span>
  <span class='File constant id'>File</span><span class='dot token'>.</span><span class='stat identifier id'>stat</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='mtime identifier id'>mtime</span> <span class='lt op'>&lt;</span> <span class='lparen token'>(</span><span class='most_recent identifier id'>most_recent</span> <span class='orop op'>||</span> <span class='Rake constant id'>Rake</span><span class='colon2 op'>::</span><span class='EARLY constant id'>EARLY</span><span class='rparen token'>)</span> <span class='orop op'>||</span> <span class='super super kw'>super</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>path</h3>
</div><div id="path-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>path</span><span class='args'>(name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='path identifier id'>path</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Path constant id'>Path</span>
</pre>
<p>
Returns a path object. Use the path object to include files under a path,
for example, to include the file &#8216;foo&#8217; as
&#8216;bar/foo&#8217;:
</p>
<pre class="code">
  <span class='zip identifier id'>zip</span><span class='lparen token'>(</span><span class='dot2 op'>..</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='path identifier id'>path</span><span class='lparen token'>(</span><span class='string val'>'bar'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='string val'>'foo'</span><span class='rparen token'>)</span>
</pre>
<p>
Returns a Path object. The Path object implements all the same methods,
like include, exclude, merge and so forth. It also implements path and
root, so that:
</p>
<pre class="code">
  <span class='path identifier id'>path</span><span class='lparen token'>(</span><span class='string val'>'foo'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='path identifier id'>path</span><span class='lparen token'>(</span><span class='string val'>'bar'</span><span class='rparen token'>)</span> <span class='eq op'>==</span> <span class='path identifier id'>path</span><span class='lparen token'>(</span><span class='string val'>'foo/bar'</span><span class='rparen token'>)</span>
  <span class='path identifier id'>path</span><span class='lparen token'>(</span><span class='string val'>'foo'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='root identifier id'>root</span> <span class='eq op'>==</span> <span class='root identifier id'>root</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/packaging/archive.rb', line 388</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/buildr/buildr/blob/32766dc792461b51bf40e09fb9f07bf44a50f943/lib/buildr/packaging/archive.rb#L388">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">388
389
390
391
392
393
394
395
396
397
398
399
400
401</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='path identifier id'>path</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='@paths ivar id'>@paths</span><span class='lbrack token'>[</span><span class='string val'>''</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
  <span class='normalized identifier id'>normalized</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>'/'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='part identifier id'>part</span><span class='bitor op'>|</span>
    <span class='case case kw'>case</span> <span class='part identifier id'>part</span>
    <span class='when when kw'>when</span> <span class='string val'>'.'</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='string val'>''</span>
      <span class='path identifier id'>path</span>
    <span class='when when kw'>when</span> <span class='string val'>'..'</span>
      <span class='path identifier id'>path</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot3 op'>...</span><span class='integer val'>-1</span><span class='rbrack token'>]</span>
    <span class='else else kw'>else</span>
      <span class='path identifier id'>path</span> <span class='lshft op'>&lt;&lt;</span> <span class='part identifier id'>part</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'/'</span><span class='rparen token'>)</span>
  <span class='@paths ivar id'>@paths</span><span class='lbrack token'>[</span><span class='normalized identifier id'>normalized</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='Path constant id'>Path</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='normalized identifier id'>normalized</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>root</h3>
</div><div id="root-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>root</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='root identifier id'>root</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='ArchiveTask constant id'>ArchiveTask</span>
</pre>
<p>
Call this on an archive to return itself, and on a path to return the
archive.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/packaging/archive.rb', line 407</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/buildr/buildr/blob/32766dc792461b51bf40e09fb9f07bf44a50f943/lib/buildr/packaging/archive.rb#L407">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">407
408
409</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='root identifier id'>root</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>with</h3>
</div><div id="with-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>with</span><span class='args'>(options)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='self self kw'>self</span>
</pre>
<p>
Passes options to the task and returns self. Some tasks support additional
options, for example, the WarTask supports options like :manifest, :libs
and :classes.
</p>
<p>
For example:
</p>
<pre class="code">
  <span class='package identifier id'>package</span><span class='lparen token'>(</span><span class='symbol val'>:jar</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='symbol val'>:manifest=</span><span class='gt op'>&gt;</span><span class='string val'>'MANIFEST_MF'</span><span class='rparen token'>)</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/buildr/packaging/archive.rb', line 419</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/buildr/buildr/blob/32766dc792461b51bf40e09fb9f07bf44a50f943/lib/buildr/packaging/archive.rb#L419">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">419
420
421
422
423
424
425
426
427
428</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='with identifier id'>with</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span>
    <span class='begin begin kw'>begin</span>
      <span class='send identifier id'>send</span> <span class='dstring node'>&quot;#{key}=&quot;</span><span class='comma token'>,</span> <span class='value identifier id'>value</span>
    <span class='rescue rescue kw'>rescue</span> <span class='NoMethodError constant id'>NoMethodError</span>
      <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;#{self.class.name} does not support the option #{key}&quot;</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>