<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>heycarsten's email-veracity - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/heycarsten/commits/email-veracity/master" rel="alternate" title="Recent Commits to email-veracity:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("heycarsten", "email-veracity", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='heycarsten/email-veracity/blob/bc3c134e334cf949c08f433272a2aa17a6274f2b' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='heycarsten/email-veracity/blob/bc3c134e334cf949c08f433272a2aa17a6274f2b' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("heycarsten", "email-veracity", "bc3c134e334cf949c08f433272a2aa17a6274f2b", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/heycarsten/email-veracity/tree/">Source</a></li>
            <li class=""><a href="http://github.com/heycarsten/email-veracity/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/heycarsten/email-veracity/network">Network</a></li>            
            <li class=""><a href="http://github.com/heycarsten/email-veracity/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/heycarsten/email-veracity">Wiki</a></li>
            <li class=""><a href="http://github.com/heycarsten/email-veracity/graphs">Graphs</a></li>                    
            <li class="active"><a href="/heycarsten/email-veracity">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/heycarsten">heycarsten</a> / <b><a href="http://github.com/heycarsten/email-veracity/tree">email-veracity</a></b>        
                <a id="namespaces_button" rel="heycarsten/email-veracity/blob/bc3c134e334cf949c08f433272a2aa17a6274f2b" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="heycarsten/email-veracity/blob/bc3c134e334cf949c08f433272a2aa17a6274f2b" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="section docstring readme wikistyle">
  <h1>Email Veracity</h1>

<p>A straight-forward Ruby library for checking the real-world validity of email
addresses.</p>

<h3>It Can</h3>

<ul>
<li>Validate email addresses for proper form against a pattern.</li>
<li>Accept and reject addresses based whitelists and blacklists of domains.</li>
<li>Check an address' domain for MX and/or A records.</li>
<li>Be configured for a variety of use-cases, to be as discerning or as
indiscriminate as you would like.</li>
</ul>


<h3>It Can Not</h3>

<ul>
<li>Validate all possible permutations of addresses to the RFC 2822
specification.</li>
</ul>


<h2>A Note About The ActiveRecord Plugin</h2>

<p><strong>It's dead!</strong> Why? Determining the validity of an email address based on a lookup of its domain is a good idea, but basing it off of one single test done inline with a request is not. A name server might be down, shit happens, and you might be snubbing a totally legitimate person from using your product &mdash; not good.</p>

<p>I feel a better solution is to check the pattern of the email address and perhaps check it against the blacklist on creation. The other tests should be done in the background over the period of many days and be added to a log. A report can then be performed and you can statistically determine the addresses that are most likely false and take appropriate action from that point.</p>

<h2>Using The Gem</h2>

<p>In your project, you must require <code>email_veracity</code> after that you can try it
out, consider the following examples:</p>

<pre class="code"><span class='require identifier id'>require</span> <span class='string val'>'email_veracity'</span>

<span class='address identifier id'>address</span> <span class='assign token'>=</span> <span class='EmailVeracity constant id'>EmailVeracity</span><span class='colon2 op'>::</span><span class='Address constant id'>Address</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'heycarsten@gmail.com'</span><span class='rparen token'>)</span>

<span class='address identifier id'>address</span><span class='dot token'>.</span><span class='valid? fid id'>valid?</span>
<span class='comment val'># =&gt; true</span>

<span class='address identifier id'>address</span><span class='dot token'>.</span><span class='domain identifier id'>domain</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
<span class='comment val'># =&gt; 'gmail.com'</span>

<span class='address identifier id'>address</span><span class='dot token'>.</span><span class='domain identifier id'>domain</span><span class='dot token'>.</span><span class='address_servers identifier id'>address_servers</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='s identifier id'>s</span><span class='bitor op'>|</span> <span class='s identifier id'>s</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='rbrace token'>}</span>
<span class='comment val'># =&gt; [&quot;64.233.171.83&quot;, &quot;64.233.161.83&quot;, &quot;209.85.171.83&quot;]</span>

<span class='address identifier id'>address</span> <span class='assign token'>=</span> <span class='EmailVeracity constant id'>EmailVeracity</span><span class='colon2 op'>::</span><span class='Address constant id'>Address</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'fakey@crazy-z3d9df-domain.com'</span><span class='rparen token'>)</span>

<span class='address identifier id'>address</span><span class='dot token'>.</span><span class='valid? fid id'>valid?</span>
<span class='comment val'># =&gt; false</span>

<span class='address identifier id'>address</span><span class='dot token'>.</span><span class='errors identifier id'>errors</span>
<span class='comment val'># =&gt; [:no_address_servers]</span>
</pre>

<p>As you can see, playing with the core library is pretty fun.  The basic building
blocks are:</p>

<h4>Address</h4>

<p>Responsible for parsing full email addresses and checking for pattern-based
validity.</p>

<h4>Domain</h4>

<p>Contains methods to query the domain for information.</p>

<h4>Resolver</h4>

<p>Abstracts Resolv::DNS into a super-simple single public method, this is where
the timeout error is raised.</p>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>