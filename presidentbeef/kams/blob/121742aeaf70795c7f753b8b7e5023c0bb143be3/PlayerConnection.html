<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>presidentbeef's kams - Module: PlayerConnection - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/presidentbeef/commits/kams/master" rel="alternate" title="Recent Commits to kams:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("presidentbeef", "kams", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("presidentbeef", "kams", "121742aeaf70795c7f753b8b7e5023c0bb143be3", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/presidentbeef/kams/tree/">Source</a></li>
            <li class=""><a href="http://github.com/presidentbeef/kams/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/presidentbeef/kams/network">Network</a></li>            
            <li class=""><a href="http://github.com/presidentbeef/kams/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/presidentbeef/kams">Wiki</a></li>
            <li class=""><a href="http://github.com/presidentbeef/kams/graphs">Graphs</a></li>                    
            <li class="active"><a href="/presidentbeef/kams">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/presidentbeef">presidentbeef</a> / <b><a href="http://github.com/presidentbeef/kams/tree">kams</a></b>        
                <a id="namespaces_button" rel="presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section module PlayerConnection">
  <h1>Module: PlayerConnection</h1>
  <div class="section mixins">
  <h2>Included Modules</h2>
  <p><a href="PlayerConnection/Login.html" title="Login">Login</a>, <a href="PlayerConnection/Editor.html" title="Editor">Editor</a></p>
</div><div class="section docstring">
  <p>
This is the network connection to the Player. Handles all input/output.
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">color_settings</td>
          <td class="readwrite">
            [<span id='color_settings-instance_method'>R</span><span id='color_settings=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>color_settings</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">in_buffer</td>
          <td class="readwrite">
            [<span id='in_buffer-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Input buffer.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">use_color</td>
          <td class="readwrite">
            [<span id='use_color-instance_method'>R</span><span id='use_color=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>use_color</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">word_wrap</td>
          <td class="readwrite">
            [<span id='word_wrap-instance_method'>R</span><span id='word_wrap=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>word_wrap</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#ask-instance_method">#ask</span><span class='args'>(question, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#ask_mccp-instance_method">#ask_mccp</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#ask_menu-instance_method">#ask_menu</span><span class='args'>(options, answers = nil, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#ask_mssp-instance_method">#ask_mssp</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#choose-instance_method">#choose</span><span class='args'>(prompt, *choices)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Choose your pick.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#close-instance_method">#close</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Close the io connection.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#closed-3F-instance_method">#closed?</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Checks if the io connection is nil or closed.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#colorize-instance_method">#colorize</span><span class='args'>(string)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Sets the colors in the string according to the player&#8217;s preferences.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#compress-instance_method">#compress</span><span class='args'>(message)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Use zlib to compress message (for MCCP).
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#decompress-instance_method">#decompress</span><span class='args'>(message)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Use zlib to decompress message (for MCCP).
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#echo_off-instance_method">#echo_off</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Ask the client to stop echoing user input.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#echo_on-instance_method">#echo_on</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Ask the client to start echoing user input.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#expect-instance_method">#expect</span><span class='args'>(&amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
The next input will be passed to the given block.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#line_wrap-instance_method">#line_wrap</span><span class='args'>(message)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Only use if there is no line height.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#more-instance_method">#more</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Next page of paginated output.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#page_height-instance_method">#page_height</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns setting for how long output should be before pagination.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#paginate-instance_method">#paginate</span><span class='args'>(message)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#post_init-instance_method">#post_init</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Set up everything.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#preprocess_input-instance_method">#preprocess_input</span><span class='args'>(string)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Pulled straight out of standard net/telnet lib.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#print-instance_method">#print</span><span class='args'>(message, parse = true, newline = false)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Send message without newline.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#put_list-instance_method">#put_list</span><span class='args'>(*messages)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Output an array of messages.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#puts-instance_method">#puts</span><span class='args'>(message)</span>
        <span class='block'></span>
        
          <span class='alias'>#output</span>
        
          <span class='alias'>#say</span>
        
      </th>
      <td class="docstring">
        <p>
Sends message followed by a newline.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#send_data-instance_method">#send_data</span><span class='args'>(message)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#send_mssp-instance_method">#send_mssp</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#set_fg_color-instance_method">#set_fg_color</span><span class='args'>(code, color)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Sets the foreground color for a given setting.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#show_color_config-instance_method">#show_color_config</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns list of color settings to show the player.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_default-instance_method">#to_default</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Sets colors to defaults.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#unbind-instance_method">#unbind</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Connection closed.
</p>

        
      </td>
    </tr>
  
</table><div class="included">
  
  <div>
    <h2>Public Instance Methods Included from <a href="PlayerConnection/Login.html" title="Login">Login</a></h2>
    <p><span class='name'><a href="Login.html#ask_color-instance_method" title="ask_color">ask_color</a></span>, <span class='name'><a href="Login.html#ask_new_name-instance_method" title="ask_new_name">ask_new_name</a></span>, <span class='name'><a href="Login.html#ask_password-instance_method" title="ask_password">ask_password</a></span>, <span class='name'><a href="Login.html#ask_sex-instance_method" title="ask_sex">ask_sex</a></span>, <span class='name'><a href="Login.html#create_new_player-instance_method" title="create_new_player">create_new_player</a></span>, <span class='name'><a href="Login.html#do_server_menu-instance_method" title="do_server_menu">do_server_menu</a></span>, <span class='name'><a href="Login.html#login_name-instance_method" title="login_name">login_name</a></span>, <span class='name'><a href="Login.html#login_password-instance_method" title="login_password">login_password</a></span>, <span class='name'><a href="Login.html#new_color-instance_method" title="new_color">new_color</a></span>, <span class='name'><a href="Login.html#new_name-instance_method" title="new_name">new_name</a></span>, <span class='name'><a href="Login.html#new_password-instance_method" title="new_password">new_password</a></span>, <span class='name'><a href="Login.html#new_sex-instance_method" title="new_sex">new_sex</a></span>, <span class='name'><a href="Login.html#receive_data-instance_method" title="receive_data">receive_data</a></span>, <span class='name'><a href="Login.html#show_server_menu-instance_method" title="show_server_menu">show_server_menu</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a href="PlayerConnection/Editor.html" title="Editor">Editor</a></h2>
    <p><span class='name'><a href="Editor.html#editor_append-instance_method" title="editor_append">editor_append</a></span>, <span class='name'><a href="Editor.html#editor_clear-instance_method" title="editor_clear">editor_clear</a></span>, <span class='name'><a href="Editor.html#editor_delete-instance_method" title="editor_delete">editor_delete</a></span>, <span class='name'><a href="Editor.html#editor_echo-instance_method" title="editor_echo">editor_echo</a></span>, <span class='name'><a href="Editor.html#editor_go-instance_method" title="editor_go">editor_go</a></span>, <span class='name'><a href="Editor.html#editor_help-instance_method" title="editor_help">editor_help</a></span>, <span class='name'><a href="Editor.html#editor_input-instance_method" title="editor_input">editor_input</a></span>, <span class='name'><a href="Editor.html#editor_out-instance_method" title="editor_out">editor_out</a></span>, <span class='name'><a href="Editor.html#editor_prompt-instance_method" title="editor_prompt">editor_prompt</a></span>, <span class='name'><a href="Editor.html#editor_quit-instance_method" title="editor_quit">editor_quit</a></span>, <span class='name'><a href="Editor.html#editor_really_quit-instance_method" title="editor_really_quit">editor_really_quit</a></span>, <span class='name'><a href="Editor.html#editor_replace-instance_method" title="editor_replace">editor_replace</a></span>, <span class='name'><a href="Editor.html#editor_save-instance_method" title="editor_save">editor_save</a></span>, <span class='name'><a href="Editor.html#fix_player-instance_method" title="fix_player">fix_player</a></span>, <span class='name'><a href="Editor.html#start_editor-instance_method" title="start_editor">start_editor</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>ask</h3>
</div><div id="ask-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>ask</span><span class='args'>(question, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 80</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L80">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">80
81
82
83
84
85</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='ask identifier id'>ask</span> <span class='question identifier id'>question</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='output identifier id'>output</span> <span class='question identifier id'>question</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='expect identifier id'>expect</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='answer identifier id'>answer</span><span class='bitor op'>|</span>
     <span class='block identifier id'>block</span><span class='dot token'>.</span><span class='call identifier id'>call</span> <span class='answer identifier id'>answer</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>ask_mccp</h3>
</div><div id="ask_mccp-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>ask_mccp</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 305</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L305">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">305
306
307</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='ask_mccp identifier id'>ask_mccp</span>
  <span class='send_data identifier id'>send_data</span> <span class='IAC constant id'>IAC</span> <span class='plus op'>+</span> <span class='WILL constant id'>WILL</span> <span class='plus op'>+</span> <span class='OPT_COMPRESS2 constant id'>OPT_COMPRESS2</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>ask_menu</h3>
</div><div id="ask_menu-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>ask_menu</span><span class='args'>(options, answers = nil, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 87</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L87">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">87
88
89
90
91
92
93
94
95
96</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='ask_menu identifier id'>ask_menu</span> <span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='answers identifier id'>answers</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span>
  <span class='@player ivar id'>@player</span><span class='dot token'>.</span><span class='output identifier id'>output</span> <span class='options identifier id'>options</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='expect identifier id'>expect</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='answer identifier id'>answer</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='answers identifier id'>answers</span> <span class='and and kw'>and</span> <span class='not not kw'>not</span> <span class='answers identifier id'>answers</span><span class='dot token'>.</span><span class='include? fid id'>include?</span> <span class='answer identifier id'>answer</span>
      <span class='player identifier id'>player</span><span class='dot token'>.</span><span class='menu identifier id'>menu</span> <span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='answers identifier id'>answers</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span>
    <span class='else else kw'>else</span>
      <span class='block identifier id'>block</span><span class='dot token'>.</span><span class='call identifier id'>call</span> <span class='answer identifier id'>answer</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>ask_mssp</h3>
</div><div id="ask_mssp-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>ask_mssp</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 309</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L309">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">309
310
311</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='ask_mssp identifier id'>ask_mssp</span>
  <span class='send_data identifier id'>send_data</span> <span class='IAC constant id'>IAC</span> <span class='plus op'>+</span> <span class='WILL constant id'>WILL</span> <span class='plus op'>+</span> <span class='OPT_MSSP constant id'>OPT_MSSP</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>choose</h3>
</div><div id="choose-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>choose</span><span class='args'>(prompt, *choices)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Choose your pick
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 159</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L159">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">159
160</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='choose identifier id'>choose</span><span class='lparen token'>(</span><span class='prompt identifier id'>prompt</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='choices identifier id'>choices</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>close</h3>
</div><div id="close-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>close</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Close the io connection
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 289</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L289">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">289
290
291</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='close identifier id'>close</span>
  <span class='close_connection_after_writing identifier id'>close_connection_after_writing</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>closed?</h3>
</div><div id="closed-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>closed?</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Checks if the io connection is nil or closed
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 137</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L137">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">137
138
139</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='closed? fid id'>closed?</span>
  <span class='@closed ivar id'>@closed</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>colorize</h3>
</div><div id="colorize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>colorize</span><span class='args'>(string)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Sets the colors in the string according to the player&#8217;s preferences.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 230</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L230">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">230
231
232
233
234
235
236
237
238
239
240
241
242</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='colorize identifier id'>colorize</span> <span class='string identifier id'>string</span>
  <span class='colors identifier id'>colors</span> <span class='assign token'>=</span> <span class='@color_settings ivar id'>@color_settings</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;|&quot;</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='@use_color ivar id'>@use_color</span>
    <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span><span class='dregexp node'>/&lt;(#{colors})&gt;/i</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='setting identifier id'>setting</span><span class='bitor op'>|</span>
      <span class='@@colors ivar id'>@@colors</span><span class='lbrack token'>[</span><span class='@color_settings ivar id'>@color_settings</span><span class='lbrack token'>[</span><span class='$1 nth_ref id'>$1</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>
    <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span><span class='regexp val'>/&lt;\/([^&gt;]*)&gt;/</span><span class='comma token'>,</span> <span class='@@colors ivar id'>@@colors</span><span class='lbrack token'>[</span><span class='@color_settings ivar id'>@color_settings</span><span class='lbrack token'>[</span><span class='string val'>&quot;regular&quot;</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
    <span class='comment val'>#string.gsub!(/(\&quot;(.*?)&quot;)/, @color_settings[&quot;quote&quot;] + '\1' + @color_settings[&quot;regular&quot;])</span>
  <span class='else else kw'>else</span>
    <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span><span class='dregexp node'>/&lt;(#{colors})&gt;/i</span><span class='comma token'>,</span> <span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span>
    <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span><span class='regexp val'>/&lt;\/([^&gt;]*)&gt;/</span><span class='comma token'>,</span> <span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>compress</h3>
</div><div id="compress-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>compress</span><span class='args'>(message)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Use zlib to compress message (for MCCP)
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 341</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L341">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">341
342
343
344
345
346
347</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='compress identifier id'>compress</span> <span class='message identifier id'>message</span>
  <span class='begin begin kw'>begin</span>
    <span class='@mccp_to_client ivar id'>@mccp_to_client</span><span class='dot token'>.</span><span class='deflate identifier id'>deflate</span> <span class='message identifier id'>message</span><span class='comma token'>,</span> <span class='Zlib constant id'>Zlib</span><span class='colon2 op'>::</span><span class='SYNC_FLUSH constant id'>SYNC_FLUSH</span>
  <span class='rescue rescue kw'>rescue</span> <span class='Zlib constant id'>Zlib</span><span class='colon2 op'>::</span><span class='DataError constant id'>DataError</span>
    <span class='message identifier id'>message</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>decompress</h3>
</div><div id="decompress-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>decompress</span><span class='args'>(message)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Use zlib to decompress message (for MCCP)
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 350</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L350">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">350
351
352
353
354
355
356
357
358
359</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='decompress identifier id'>decompress</span> <span class='message identifier id'>message</span>
  <span class='p identifier id'>p</span> <span class='message identifier id'>message</span>
  <span class='comment val'>#message =  &quot;\x78\x01&quot; + message</span>

  <span class='begin begin kw'>begin</span>
    <span class='Zlib constant id'>Zlib</span><span class='colon2 op'>::</span><span class='Inflate constant id'>Inflate</span><span class='dot token'>.</span><span class='inflate identifier id'>inflate</span> <span class='message identifier id'>message</span>
  <span class='rescue rescue kw'>rescue</span> <span class='Zlib constant id'>Zlib</span><span class='colon2 op'>::</span><span class='DataError constant id'>DataError</span>
    <span class='message identifier id'>message</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>echo_off</h3>
</div><div id="echo_off-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>echo_off</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Ask the client to stop echoing user input. This is typically used for
hiding passwords.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 295</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L295">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">295
296
297</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='echo_off identifier id'>echo_off</span>
  <span class='send_data identifier id'>send_data</span> <span class='IAC constant id'>IAC</span> <span class='plus op'>+</span> <span class='WILL constant id'>WILL</span> <span class='plus op'>+</span> <span class='OPT_ECHO constant id'>OPT_ECHO</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>echo_on</h3>
</div><div id="echo_on-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>echo_on</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Ask the client to start echoing user input. Usually you would want echoing
on.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 301</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L301">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">301
302
303</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='echo_on identifier id'>echo_on</span>
  <span class='send_data identifier id'>send_data</span> <span class='IAC constant id'>IAC</span> <span class='plus op'>+</span> <span class='WONT constant id'>WONT</span> <span class='plus op'>+</span> <span class='OPT_ECHO constant id'>OPT_ECHO</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>expect</h3>
</div><div id="expect-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>expect</span><span class='args'>(&amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
The next input will be passed to the given block.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 76</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L76">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">76
77
78</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='expect identifier id'>expect</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='@expect_callback ivar id'>@expect_callback</span> <span class='assign token'>=</span> <span class='block identifier id'>block</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>line_wrap</h3>
</div><div id="line_wrap-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>line_wrap</span><span class='args'>(message)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Only use if there is no line height
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 212</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L212">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">212
213
214</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='line_wrap identifier id'>line_wrap</span> <span class='message identifier id'>message</span>
  <span class='message identifier id'>message</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='dregexp node'>/(((\e\[\d+m)|.){1,#{@word_wrap}})(\r\n|\n|\s+|\Z)/</span><span class='comma token'>,</span> <span class='string val'>&quot;\\1\r\n&quot;</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>more</h3>
</div><div id="more-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>more</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Next page of paginated output
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 217</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L217">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">217
218
219
220
221
222
223
224
225
226
227</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='more identifier id'>more</span>
  <span class='if if kw'>if</span> <span class='@paginator ivar id'>@paginator</span> <span class='and and kw'>and</span> <span class='@paginator ivar id'>@paginator</span><span class='dot token'>.</span><span class='more? fid id'>more?</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='print identifier id'>print</span><span class='lparen token'>(</span><span class='@paginator ivar id'>@paginator</span><span class='dot token'>.</span><span class='more identifier id'>more</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='not not kw'>not</span> <span class='@paginator ivar id'>@paginator</span><span class='dot token'>.</span><span class='more? fid id'>more?</span>
      <span class='@paginator ivar id'>@paginator</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='@paginator ivar id'>@paginator</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span> <span class='string val'>&quot;There is no more.&quot;</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>  
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>page_height</h3>
</div><div id="page_height-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>page_height</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns setting for how long output should be before pagination.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 71</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L71">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">71
72
73</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='page_height identifier id'>page_height</span>
  <span class='@player ivar id'>@player</span><span class='dot token'>.</span><span class='page_height identifier id'>page_height</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>paginate</h3>
</div><div id="paginate-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>paginate</span><span class='args'>(message)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 183</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L183">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='paginate identifier id'>paginate</span> <span class='message identifier id'>message</span>
  <span class='if if kw'>if</span> <span class='@player ivar id'>@player</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
    <span class='return return kw'>return</span> <span class='line_wrap identifier id'>line_wrap</span><span class='lparen token'>(</span><span class='message identifier id'>message</span><span class='rparen token'>)</span>
  <span class='elsif elsif kw'>elsif</span> <span class='not not kw'>not</span> <span class='@player ivar id'>@player</span><span class='dot token'>.</span><span class='page_height identifier id'>page_height</span>
    <span class='return return kw'>return</span> <span class='line_wrap identifier id'>line_wrap</span><span class='lparen token'>(</span><span class='message identifier id'>message</span><span class='rparen token'>)</span>
  <span class='comment val'>#elsif not @word_wrap</span>
    <span class='comment val'>#return message.gsub(/([^\r]?)\n/, '\1' + &quot;\r\n&quot;)</span>
  <span class='end end kw'>end</span>

  <span class='ph identifier id'>ph</span> <span class='assign token'>=</span> <span class='@player ivar id'>@player</span><span class='dot token'>.</span><span class='page_height identifier id'>page_height</span>

  <span class='out identifier id'>out</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='message identifier id'>message</span><span class='dot token'>.</span><span class='scan identifier id'>scan</span><span class='lparen token'>(</span><span class='dregexp node'>/((((\e\[\d+m)|.){1,#{@word_wrap}})(\r\n|\n|\s+|\Z))|(\r\n|\n)/</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='m identifier id'>m</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='$2 nth_ref id'>$2</span>
      <span class='out identifier id'>out</span> <span class='lshft op'>&lt;&lt;</span> <span class='$2 nth_ref id'>$2</span>
    <span class='else else kw'>else</span>
      <span class='out identifier id'>out</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;&quot;</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='if if kw'>if</span> <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='lt op'>&lt;</span> <span class='ph identifier id'>ph</span>
    <span class='return return kw'>return</span> <span class='out identifier id'>out</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;\r\n&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='@paginator ivar id'>@paginator</span> <span class='assign token'>=</span> <span class='KPaginator constant id'>KPaginator</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='out identifier id'>out</span><span class='rparen token'>)</span>
  <span class='@paginator ivar id'>@paginator</span><span class='dot token'>.</span><span class='more identifier id'>more</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>post_init</h3>
</div><div id="post_init-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>post_init</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Set up everything
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 40</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L40">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='post_init identifier id'>post_init</span>
  <span class='@in_buffer ivar id'>@in_buffer</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@paginator ivar id'>@paginator</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@color_settings ivar id'>@color_settings</span> <span class='assign token'>=</span> <span class='color_settings identifier id'>color_settings</span> <span class='orop op'>||</span> <span class='to_default identifier id'>to_default</span>
  <span class='@use_color ivar id'>@use_color</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
  <span class='@mccp_to_client ivar id'>@mccp_to_client</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
  <span class='@mccp_from_client ivar id'>@mccp_from_client</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
  <span class='@word_wrap ivar id'>@word_wrap</span> <span class='assign token'>=</span> <span class='integer val'>80</span>
  <span class='@closed ivar id'>@closed</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
  <span class='@state ivar id'>@state</span> <span class='assign token'>=</span> <span class='symbol val'>:server_menu</span>
  <span class='@login_name ivar id'>@login_name</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@login_password ivar id'>@login_password</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@password_attempts ivar id'>@password_attempts</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='@player ivar id'>@player</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@expect_callback ivar id'>@expect_callback</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@ip_address ivar id'>@ip_address</span> <span class='assign token'>=</span> <span class='Socket constant id'>Socket</span><span class='dot token'>.</span><span class='unpack_sockaddr_in identifier id'>unpack_sockaddr_in</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='get_peername identifier id'>get_peername</span><span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span>

  <span class='print identifier id'>print</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='read identifier id'>read</span><span class='lparen token'>(</span><span class='Config constant id'>Config</span><span class='dot token'>.</span><span class='intro_file identifier id'>intro_file</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='exist? fid id'>exist?</span> <span class='Config constant id'>Config</span><span class='dot token'>.</span><span class='intro_file identifier id'>intro_file</span>

  <span class='echo_on identifier id'>echo_on</span>

  <span class='ask_mssp identifier id'>ask_mssp</span> <span class='if if_mod kw'>if</span> <span class='Config constant id'>Config</span><span class='lbrack token'>[</span><span class='symbol val'>:mssp</span><span class='rbrack token'>]</span>

  <span class='ask_mccp identifier id'>ask_mccp</span> <span class='if if_mod kw'>if</span> <span class='Config constant id'>Config</span><span class='lbrack token'>[</span><span class='symbol val'>:mccp</span><span class='rbrack token'>]</span>
  
  <span class='show_server_menu identifier id'>show_server_menu</span>

  <span class='log identifier id'>log</span> <span class='dstring node'>&quot;Connection from #{@ip_address}.&quot;</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>preprocess_input</h3>
</div><div id="preprocess_input-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>preprocess_input</span><span class='args'>(string)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Pulled straight out of standard net/telnet lib. Orginal version by Wakou
Aoyama &lt;wakou@ruby-lang.org&gt;
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 363</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L363">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='preprocess_input identifier id'>preprocess_input</span> <span class='string identifier id'>string</span>
  <span class='if if kw'>if</span> <span class='@mccp_from_client ivar id'>@mccp_from_client</span>
    <span class='string identifier id'>string</span> <span class='assign token'>=</span> <span class='decompress identifier id'>decompress</span> <span class='string identifier id'>string</span>
  <span class='end end kw'>end</span>
  <span class='comment val'># combine CR+NULL into CR</span>
  <span class='string identifier id'>string</span> <span class='assign token'>=</span> <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='dregexp node'>/#{CR}#{NULL}/n</span><span class='o identifier id'>o</span><span class='comma token'>,</span> <span class='CR constant id'>CR</span><span class='rparen token'>)</span>

    <span class='comment val'># combine EOL into &quot;\n&quot;</span>
    <span class='string identifier id'>string</span> <span class='assign token'>=</span> <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='dregexp node'>/#{EOL}/n</span><span class='o identifier id'>o</span><span class='comma token'>,</span> <span class='string val'>&quot;\n&quot;</span><span class='rparen token'>)</span> 

    <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span><span class='dregexp node'>/#{IAC}(
      [#{IAC}#{AO}#{AYT}#{DM}#{IP}#{NOP}]|
      [#{DO}#{DONT}#{WILL}#{WONT}]
  [#{OPT_BINARY}-#{OPT_COMPRESS2}#{OPT_EXOPL}]|
  #{SB}[^#{IAC}]*#{IAC}#{SE}
  )/</span><span class='xno identifier id'>xno</span><span class='rparen token'>)</span> <span class='do do kw'>do</span>
    <span class='if if kw'>if</span>    <span class='IAC constant id'>IAC</span> <span class='eq op'>==</span> <span class='$1 nth_ref id'>$1</span>  <span class='comment val'># handle escaped IAC characters</span>
      <span class='IAC constant id'>IAC</span>
    <span class='elsif elsif kw'>elsif</span> <span class='AYT constant id'>AYT</span> <span class='eq op'>==</span> <span class='$1 nth_ref id'>$1</span>  <span class='comment val'># respond to &quot;IAC AYT&quot; (are you there)</span>
      <span class='send_data identifier id'>send_data</span><span class='lparen token'>(</span><span class='string val'>&quot;nobody here but us pigeons&quot;</span> <span class='plus op'>+</span> <span class='EOL constant id'>EOL</span><span class='rparen token'>)</span>
      <span class='string val'>''</span>
    <span class='elsif elsif kw'>elsif</span> <span class='DO constant id'>DO</span> <span class='eq op'>==</span> <span class='$1 nth_ref id'>$1</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span>  <span class='comment val'># respond to &quot;IAC DO x&quot;</span>
      <span class='if if kw'>if</span> <span class='OPT_BINARY constant id'>OPT_BINARY</span> <span class='eq op'>==</span> <span class='$1 nth_ref id'>$1</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
        <span class='send_data identifier id'>send_data</span><span class='lparen token'>(</span><span class='IAC constant id'>IAC</span> <span class='plus op'>+</span> <span class='WILL constant id'>WILL</span> <span class='plus op'>+</span> <span class='OPT_BINARY constant id'>OPT_BINARY</span><span class='rparen token'>)</span>
      <span class='elsif elsif kw'>elsif</span> <span class='OPT_MSSP constant id'>OPT_MSSP</span> <span class='eq op'>==</span> <span class='$1 nth_ref id'>$1</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
        <span class='send_mssp identifier id'>send_mssp</span>
      <span class='elsif elsif kw'>elsif</span> <span class='OPT_COMPRESS2 constant id'>OPT_COMPRESS2</span> <span class='eq op'>==</span> <span class='$1 nth_ref id'>$1</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='and and kw'>and</span> <span class='Config constant id'>Config</span><span class='lbrack token'>[</span><span class='symbol val'>:mccp</span><span class='rbrack token'>]</span>
        <span class='begin begin kw'>begin</span>
          <span class='require identifier id'>require</span> <span class='string val'>'zlib'</span>
          <span class='send_data identifier id'>send_data</span><span class='lparen token'>(</span><span class='IAC constant id'>IAC</span> <span class='plus op'>+</span> <span class='SB constant id'>SB</span> <span class='plus op'>+</span> <span class='OPT_COMPRESS2 constant id'>OPT_COMPRESS2</span> <span class='plus op'>+</span> <span class='IAC constant id'>IAC</span> <span class='plus op'>+</span> <span class='SE constant id'>SE</span><span class='rparen token'>)</span>
          <span class='@mccp_to_client ivar id'>@mccp_to_client</span> <span class='assign token'>=</span> <span class='Zlib constant id'>Zlib</span><span class='colon2 op'>::</span><span class='Deflate constant id'>Deflate</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
        <span class='rescue rescue kw'>rescue</span> <span class='LoadError constant id'>LoadError</span>
          <span class='log identifier id'>log</span> <span class='string val'>&quot;Warning: No zlib - cannot do MCCP&quot;</span>
          <span class='send_data identifier id'>send_data</span><span class='lparen token'>(</span><span class='IAC constant id'>IAC</span> <span class='plus op'>+</span> <span class='WONT constant id'>WONT</span> <span class='plus op'>+</span> <span class='$1 nth_ref id'>$1</span><span class='lbrack token'>[</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
          <span class='return return kw'>return</span>
        <span class='end end kw'>end</span>

      <span class='else else kw'>else</span>
        <span class='comment val'>#send_data(IAC + WONT + $1[1..1])</span>
      <span class='end end kw'>end</span>
      <span class='string val'>''</span>
    <span class='elsif elsif kw'>elsif</span> <span class='DONT constant id'>DONT</span> <span class='eq op'>==</span> <span class='$1 nth_ref id'>$1</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span>  <span class='comment val'># respond to &quot;IAC DON'T x&quot; with &quot;IAC WON'T x&quot;</span>
      <span class='if if kw'>if</span> <span class='OPT_COMPRESS2 constant id'>OPT_COMPRESS2</span> <span class='eq op'>==</span> <span class='$1 nth_ref id'>$1</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
        <span class='@mccp_to_client ivar id'>@mccp_to_client</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
        <span class='send_data identifier id'>send_data</span><span class='lparen token'>(</span><span class='IAC constant id'>IAC</span> <span class='plus op'>+</span> <span class='WONT constant id'>WONT</span> <span class='plus op'>+</span> <span class='$1 nth_ref id'>$1</span><span class='lbrack token'>[</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span> 
      <span class='string val'>''</span>
    <span class='elsif elsif kw'>elsif</span> <span class='WILL constant id'>WILL</span> <span class='eq op'>==</span> <span class='$1 nth_ref id'>$1</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span>  <span class='comment val'># respond to &quot;IAC WILL x&quot;</span>
      <span class='if if kw'>if</span> <span class='OPT_BINARY constant id'>OPT_BINARY</span> <span class='eq op'>==</span> <span class='$1 nth_ref id'>$1</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
        <span class='send_data identifier id'>send_data</span><span class='lparen token'>(</span><span class='IAC constant id'>IAC</span> <span class='plus op'>+</span> <span class='DO constant id'>DO</span> <span class='plus op'>+</span> <span class='OPT_BINARY constant id'>OPT_BINARY</span><span class='rparen token'>)</span>
      <span class='elsif elsif kw'>elsif</span> <span class='OPT_ECHO constant id'>OPT_ECHO</span> <span class='eq op'>==</span> <span class='$1 nth_ref id'>$1</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
        <span class='send_data identifier id'>send_data</span><span class='lparen token'>(</span><span class='IAC constant id'>IAC</span> <span class='plus op'>+</span> <span class='DO constant id'>DO</span> <span class='plus op'>+</span> <span class='OPT_ECHO constant id'>OPT_ECHO</span><span class='rparen token'>)</span>
      <span class='elsif elsif kw'>elsif</span> <span class='OPT_SGA constant id'>OPT_SGA</span>  <span class='eq op'>==</span> <span class='$1 nth_ref id'>$1</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
        <span class='send_data identifier id'>send_data</span><span class='lparen token'>(</span><span class='IAC constant id'>IAC</span> <span class='plus op'>+</span> <span class='DO constant id'>DO</span> <span class='plus op'>+</span> <span class='OPT_SGA constant id'>OPT_SGA</span><span class='rparen token'>)</span>
      <span class='elsif elsif kw'>elsif</span> <span class='OPT_COMPRESS2 constant id'>OPT_COMPRESS2</span> <span class='eq op'>==</span> <span class='$1 nth_ref id'>$1</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
        <span class='send_data identifier id'>send_data</span><span class='lparen token'>(</span><span class='IAC constant id'>IAC</span> <span class='plus op'>+</span> <span class='DONT constant id'>DONT</span> <span class='plus op'>+</span> <span class='OPT_COMPRESS2 constant id'>OPT_COMPRESS2</span><span class='rparen token'>)</span>
      <span class='else else kw'>else</span>
        <span class='send_data identifier id'>send_data</span><span class='lparen token'>(</span><span class='IAC constant id'>IAC</span> <span class='plus op'>+</span> <span class='DONT constant id'>DONT</span> <span class='plus op'>+</span> <span class='$1 nth_ref id'>$1</span><span class='lbrack token'>[</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
      <span class='string val'>''</span>
    <span class='elsif elsif kw'>elsif</span> <span class='WONT constant id'>WONT</span> <span class='eq op'>==</span> <span class='$1 nth_ref id'>$1</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span>  <span class='comment val'># respond to &quot;IAC WON'T x&quot;</span>
      <span class='if if kw'>if</span> <span class='OPT_ECHO constant id'>OPT_ECHO</span> <span class='eq op'>==</span> <span class='$1 nth_ref id'>$1</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
        <span class='send_data identifier id'>send_data</span><span class='lparen token'>(</span><span class='IAC constant id'>IAC</span> <span class='plus op'>+</span> <span class='DONT constant id'>DONT</span> <span class='plus op'>+</span> <span class='OPT_ECHO constant id'>OPT_ECHO</span><span class='rparen token'>)</span>
      <span class='elsif elsif kw'>elsif</span> <span class='OPT_SGA constant id'>OPT_SGA</span>  <span class='eq op'>==</span> <span class='$1 nth_ref id'>$1</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
        <span class='send_data identifier id'>send_data</span><span class='lparen token'>(</span><span class='IAC constant id'>IAC</span> <span class='plus op'>+</span> <span class='DONT constant id'>DONT</span> <span class='plus op'>+</span> <span class='OPT_SGA constant id'>OPT_SGA</span><span class='rparen token'>)</span>
      <span class='elsif elsif kw'>elsif</span> <span class='OPT_COMPRESS2 constant id'>OPT_COMPRESS2</span> <span class='eq op'>==</span> <span class='$1 nth_ref id'>$1</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span>
        <span class='@mccp_from_client ivar id'>@mccp_from_client</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
        <span class='send_data identifier id'>send_data</span><span class='lparen token'>(</span><span class='IAC constant id'>IAC</span> <span class='plus op'>+</span> <span class='DONT constant id'>DONT</span> <span class='plus op'>+</span> <span class='OPT_COMPRESS2 constant id'>OPT_COMPRESS2</span><span class='rparen token'>)</span>
      <span class='else else kw'>else</span>
        <span class='send_data identifier id'>send_data</span><span class='lparen token'>(</span><span class='IAC constant id'>IAC</span> <span class='plus op'>+</span> <span class='DONT constant id'>DONT</span> <span class='plus op'>+</span> <span class='$1 nth_ref id'>$1</span><span class='lbrack token'>[</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
      <span class='string val'>''</span>
    <span class='else else kw'>else</span>
      <span class='string val'>''</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='return return kw'>return</span> <span class='string identifier id'>string</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>print</h3>
</div><div id="print-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>print</span><span class='args'>(message, parse = true, newline = false)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Send message without newline
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 163</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L163">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='print identifier id'>print</span><span class='lparen token'>(</span><span class='message identifier id'>message</span><span class='comma token'>,</span> <span class='parse identifier id'>parse</span> <span class='assign token'>=</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='newline identifier id'>newline</span> <span class='assign token'>=</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='unless unless kw'>unless</span> <span class='closed? fid id'>closed?</span>
    <span class='if if kw'>if</span> <span class='parse identifier id'>parse</span>
      <span class='colorize identifier id'>colorize</span> <span class='message identifier id'>message</span>
      <span class='message identifier id'>message</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span><span class='regexp val'>/\t/</span><span class='comma token'>,</span> <span class='string val'>'     '</span><span class='rparen token'>)</span>
      <span class='message identifier id'>message</span> <span class='assign token'>=</span> <span class='paginate identifier id'>paginate</span><span class='lparen token'>(</span><span class='message identifier id'>message</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='if if kw'>if</span> <span class='newline identifier id'>newline</span> <span class='and and kw'>and</span> <span class='message identifier id'>message</span><span class='lbrack token'>[</span><span class='float val'>-1</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span> <span class='neq op'>!=</span> <span class='string val'>&quot;\n&quot;</span>
      <span class='if if kw'>if</span> <span class='message identifier id'>message</span><span class='lbrack token'>[</span><span class='float val'>-2</span><span class='dot2 op'>..</span><span class='integer val'>-2</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='string val'>&quot;\r&quot;</span>
        <span class='message identifier id'>message</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;\n&quot;</span>
      <span class='else else kw'>else</span>
        <span class='message identifier id'>message</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;\r\n&quot;</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='message identifier id'>message</span> <span class='assign token'>=</span> <span class='@@colors ivar id'>@@colors</span><span class='lbrack token'>[</span><span class='@color_settings ivar id'>@color_settings</span><span class='lbrack token'>[</span><span class='string val'>&quot;regular&quot;</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span> <span class='plus op'>+</span> <span class='message identifier id'>message</span> <span class='plus op'>+</span> <span class='Color constant id'>Color</span><span class='dot token'>.</span><span class='clear identifier id'>clear</span>
    <span class='send_data identifier id'>send_data</span> <span class='message identifier id'>message</span> 
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>put_list</h3>
</div><div id="put_list-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>put_list</span><span class='args'>(*messages)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Output an array of messages
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 154</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L154">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">154
155
156</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='put_list identifier id'>put_list</span> <span class='mult op'>*</span><span class='messages identifier id'>messages</span>
  <span class='messages identifier id'>messages</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='m identifier id'>m</span><span class='bitor op'>|</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span> <span class='m identifier id'>m</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>puts</h3>
</div><div id="puts-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>puts</span><span class='args'>(message)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="output-instance_method">output</tt>
  
    <tt id="say-instance_method">say</tt>
  
</p>
</div><div class="section docstring">
  <p>
Sends message followed by a newline. Also capitalizes the first letter in
the message.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 143</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L143">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">143
144
145
146
147
148</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='puts identifier id'>puts</span> <span class='message identifier id'>message</span>
  <span class='message identifier id'>message</span> <span class='assign token'>=</span> <span class='message identifier id'>message</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
  <span class='first identifier id'>first</span> <span class='assign token'>=</span> <span class='message identifier id'>message</span><span class='dot token'>.</span><span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='regexp val'>/[a-zA-Z]/</span><span class='rparen token'>)</span>
  <span class='message identifier id'>message</span><span class='lbrack token'>[</span><span class='first identifier id'>first</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='message identifier id'>message</span><span class='lbrack token'>[</span><span class='first identifier id'>first</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='capitalize identifier id'>capitalize</span> <span class='unless unless_mod kw'>unless</span> <span class='first identifier id'>first</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='print identifier id'>print</span><span class='lparen token'>(</span><span class='message identifier id'>message</span><span class='comma token'>,</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='true true kw'>true</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>send_data</h3>
</div><div id="send_data-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>send_data</span><span class='args'>(message)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 113</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L113">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">113
114
115
116</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='send_data identifier id'>send_data</span> <span class='message identifier id'>message</span>
  <span class='message identifier id'>message</span> <span class='assign token'>=</span> <span class='compress identifier id'>compress</span> <span class='message identifier id'>message</span> <span class='if if_mod kw'>if</span> <span class='@mccp_to_client ivar id'>@mccp_to_client</span>
  <span class='super super kw'>super</span> <span class='message identifier id'>message</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>send_mssp</h3>
</div><div id="send_mssp-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>send_mssp</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 313</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L313">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='send_mssp identifier id'>send_mssp</span>
  <span class='mssp_options identifier id'>mssp_options</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='IAC constant id'>IAC</span> <span class='plus op'>+</span> <span class='SB constant id'>SB</span> <span class='plus op'>+</span> <span class='OPT_MSSP constant id'>OPT_MSSP</span> 

  <span class='if if kw'>if</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='exist? fid id'>exist?</span> <span class='string val'>&quot;conf/mssp.yaml&quot;</span>
    <span class='File constant id'>File</span><span class='dot token'>.</span><span class='open identifier id'>open</span> <span class='string val'>&quot;conf/mssp.yaml&quot;</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='f identifier id'>f</span><span class='bitor op'>|</span>
      <span class='mssp_options identifier id'>mssp_options</span> <span class='assign token'>=</span> <span class='YAML constant id'>YAML</span><span class='dot token'>.</span><span class='load identifier id'>load</span><span class='lparen token'>(</span><span class='f identifier id'>f</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>

    <span class='mssp_options identifier id'>mssp_options</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span>
      <span class='options identifier id'>options</span> <span class='lshft op'>&lt;&lt;</span> <span class='lparen token'>(</span><span class='MSSP_VAR constant id'>MSSP_VAR</span> <span class='plus op'>+</span> <span class='k identifier id'>k</span> <span class='plus op'>+</span> <span class='MSSP_VAL constant id'>MSSP_VAL</span> <span class='plus op'>+</span> <span class='v identifier id'>v</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='options identifier id'>options</span> <span class='lshft op'>&lt;&lt;</span> <span class='lparen token'>(</span><span class='MSSP_VAR constant id'>MSSP_VAR</span> <span class='plus op'>+</span> <span class='string val'>&quot;PLAYERS&quot;</span> <span class='plus op'>+</span> <span class='MSSP_VAL constant id'>MSSP_VAL</span> <span class='plus op'>+</span> <span class='$manager gvar id'>$manager</span><span class='dot token'>.</span><span class='find_all identifier id'>find_all</span><span class='lparen token'>(</span><span class='string val'>&quot;class&quot;</span><span class='comma token'>,</span> <span class='Player constant id'>Player</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='length identifier id'>length</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
  <span class='options identifier id'>options</span> <span class='lshft op'>&lt;&lt;</span> <span class='lparen token'>(</span><span class='MSSP_VAR constant id'>MSSP_VAR</span> <span class='plus op'>+</span> <span class='string val'>&quot;UPTIME&quot;</span> <span class='plus op'>+</span> <span class='MSSP_VAL constant id'>MSSP_VAL</span> <span class='plus op'>+</span> <span class='$manager gvar id'>$manager</span><span class='dot token'>.</span><span class='uptime identifier id'>uptime</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
  <span class='options identifier id'>options</span> <span class='lshft op'>&lt;&lt;</span> <span class='lparen token'>(</span><span class='MSSP_VAR constant id'>MSSP_VAR</span> <span class='plus op'>+</span> <span class='string val'>&quot;ROOMS&quot;</span> <span class='plus op'>+</span> <span class='MSSP_VAL constant id'>MSSP_VAL</span> <span class='plus op'>+</span> <span class='$manager gvar id'>$manager</span><span class='dot token'>.</span><span class='find_all identifier id'>find_all</span><span class='lparen token'>(</span><span class='string val'>&quot;class&quot;</span><span class='comma token'>,</span> <span class='Room constant id'>Room</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='length identifier id'>length</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
  <span class='options identifier id'>options</span> <span class='lshft op'>&lt;&lt;</span> <span class='lparen token'>(</span><span class='MSSP_VAR constant id'>MSSP_VAR</span> <span class='plus op'>+</span> <span class='string val'>&quot;AREAS&quot;</span> <span class='plus op'>+</span> <span class='MSSP_VAL constant id'>MSSP_VAL</span> <span class='plus op'>+</span> <span class='$manager gvar id'>$manager</span><span class='dot token'>.</span><span class='find_all identifier id'>find_all</span><span class='lparen token'>(</span><span class='string val'>&quot;class&quot;</span><span class='comma token'>,</span> <span class='Area constant id'>Area</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='length identifier id'>length</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span>
  <span class='options identifier id'>options</span> <span class='lshft op'>&lt;&lt;</span> <span class='lparen token'>(</span><span class='MSSP_VAR constant id'>MSSP_VAR</span> <span class='plus op'>+</span> <span class='string val'>&quot;ANSI&quot;</span> <span class='plus op'>+</span> <span class='MSSP_VAL constant id'>MSSP_VAL</span> <span class='plus op'>+</span> <span class='string val'>&quot;1&quot;</span><span class='rparen token'>)</span> 
  <span class='options identifier id'>options</span> <span class='lshft op'>&lt;&lt;</span> <span class='lparen token'>(</span><span class='MSSP_VAR constant id'>MSSP_VAR</span> <span class='plus op'>+</span> <span class='string val'>&quot;FAMILY&quot;</span> <span class='plus op'>+</span> <span class='MSSP_VAL constant id'>MSSP_VAL</span> <span class='plus op'>+</span> <span class='string val'>&quot;CUSTOM&quot;</span><span class='rparen token'>)</span> 
  <span class='options identifier id'>options</span> <span class='lshft op'>&lt;&lt;</span> <span class='lparen token'>(</span><span class='MSSP_VAR constant id'>MSSP_VAR</span> <span class='plus op'>+</span> <span class='string val'>&quot;CODEBASE&quot;</span> <span class='plus op'>+</span> <span class='MSSP_VAL constant id'>MSSP_VAL</span> <span class='plus op'>+</span> <span class='string val'>&quot;KAMS &quot;</span> <span class='plus op'>+</span> <span class='$KAMS_VERSION gvar id'>$KAMS_VERSION</span><span class='rparen token'>)</span>
  <span class='options identifier id'>options</span> <span class='lshft op'>&lt;&lt;</span> <span class='lparen token'>(</span><span class='MSSP_VAR constant id'>MSSP_VAR</span> <span class='plus op'>+</span> <span class='string val'>&quot;PORT&quot;</span> <span class='plus op'>+</span> <span class='MSSP_VAL constant id'>MSSP_VAL</span> <span class='plus op'>+</span> <span class='Config constant id'>Config</span><span class='dot token'>.</span><span class='port identifier id'>port</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span> 
  <span class='options identifier id'>options</span> <span class='lshft op'>&lt;&lt;</span> <span class='lparen token'>(</span><span class='MSSP_VAR constant id'>MSSP_VAR</span> <span class='plus op'>+</span> <span class='string val'>&quot;MCCP&quot;</span> <span class='plus op'>+</span> <span class='MSSP_VAL constant id'>MSSP_VAL</span> <span class='plus op'>+</span> <span class='lparen token'>(</span><span class='Config constant id'>Config</span><span class='lbrack token'>[</span><span class='symbol val'>:mccp</span><span class='rbrack token'>]</span> <span class='question op'>?</span> <span class='string val'>&quot;1&quot;</span> <span class='colon op'>:</span> <span class='string val'>&quot;0&quot;</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='options identifier id'>options</span> <span class='lshft op'>&lt;&lt;</span> <span class='lparen token'>(</span><span class='IAC constant id'>IAC</span> <span class='plus op'>+</span> <span class='SE constant id'>SE</span><span class='rparen token'>)</span>
  <span class='send_data identifier id'>send_data</span> <span class='options identifier id'>options</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>set_fg_color</h3>
</div><div id="set_fg_color-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>set_fg_color</span><span class='args'>(code, color)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Sets the foreground color for a given setting.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 245</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L245">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='set_fg_color identifier id'>set_fg_color</span><span class='lparen token'>(</span><span class='code identifier id'>code</span><span class='comma token'>,</span> <span class='color identifier id'>color</span><span class='rparen token'>)</span>  
  <span class='code identifier id'>code</span><span class='dot token'>.</span><span class='downcase! fid id'>downcase!</span> <span class='unless unless_mod kw'>unless</span> <span class='code identifier id'>code</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
  <span class='color identifier id'>color</span><span class='dot token'>.</span><span class='downcase! fid id'>downcase!</span> <span class='unless unless_mod kw'>unless</span> <span class='color identifier id'>color</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>

  <span class='if if kw'>if</span> <span class='not not kw'>not</span> <span class='@color_settings ivar id'>@color_settings</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span> <span class='code identifier id'>code</span>
    <span class='dstring node'>&quot;No such setting: #{code}&quot;</span>
  <span class='elsif elsif kw'>elsif</span> <span class='not not kw'>not</span> <span class='@@colors ivar id'>@@colors</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span> <span class='color identifier id'>color</span>
    <span class='string val'>&quot;Invalid color.&quot;</span>
  <span class='else else kw'>else</span>
    <span class='if if kw'>if</span> <span class='not not kw'>not</span> <span class='@use_color ivar id'>@use_color</span>
      <span class='@color_settings ivar id'>@color_settings</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='setting identifier id'>setting</span><span class='bitor op'>|</span>
        <span class='@color_settings ivar id'>@color_settings</span><span class='lbrack token'>[</span><span class='setting identifier id'>setting</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='Color constant id'>Color</span><span class='dot token'>.</span><span class='clear identifier id'>clear</span>
      <span class='end end kw'>end</span>
      <span class='@use_color ivar id'>@use_color</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
    <span class='end end kw'>end</span>
    
    <span class='@color_settings ivar id'>@color_settings</span><span class='lbrack token'>[</span><span class='code identifier id'>code</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='color identifier id'>color</span>
    <span class='dstring node'>&quot;Set #{code} to &lt;#{code}&gt;#{color}&lt;/&gt;.&quot;</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>show_color_config</h3>
</div><div id="show_color_config-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>show_color_config</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns list of color settings to show the player
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 267</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L267">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">267
268
269
270</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='show_color_config identifier id'>show_color_config</span>
<span class='string val'>&quot;Colors are currently: \#{@use_color ? \&quot;Enabled\&quot; : \&quot;Disabled\&quot;}\nText                Setting          Color\n-----------------------------------------------\nRoom Title          roomtitle        &lt;roomtitle&gt;\#{@color_settings['roomtitle']}&lt;/roomtitle&gt;\nRoom description    roomdesc         &lt;roomdesc&gt;\#{@color_settings['roomdesc']}&lt;/roomdesc&gt;\nObjects             objects          &lt;objects&gt;\#{@color_settings['objects']}&lt;/objects&gt;\nPeople              people           &lt;people&gt;\#{@color_settings['people']}&lt;/people&gt;\nExits               exits            &lt;exits&gt;\#{@color_settings['exits']}&lt;/exits&gt;\nSay                 say              &lt;say&gt;\#{@color_settings['say']}&lt;/say&gt;\nTell                tell             &lt;tell&gt;\#{@color_settings['tell']}&lt;/tell&gt;\nImportant           important        &lt;important&gt;\#{@color_settings['important']}&lt;/important&gt;\nEditor              editor           &lt;editor&gt;\#{@color_settings['editor']}&lt;/editor&gt;\nNews                news             &lt;news&gt;\#{@color_settings['news']}&lt;/news&gt;\nRegular             regular          \#{@color_settings['regular']}\n&quot;</span>
  
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_default</h3>
</div><div id="to_default-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_default</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Sets colors to defaults
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 119</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L119">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_default identifier id'>to_default</span>
  <span class='@use_color ivar id'>@use_color</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
  <span class='@color_settings ivar id'>@color_settings</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span>
    <span class='string val'>&quot;roomtitle&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;brightcyan&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;roomdesc&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;cyan&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;objects&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;magenta&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;people&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;green&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;exits&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;magenta&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;say&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;brightwhite&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;tell&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;cyan&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;important&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;brightyellow&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;editor&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;cyan&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;news&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;brightcyan&quot;</span><span class='comma token'>,</span>
    <span class='string val'>&quot;regular&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;none&quot;</span>
  <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>unbind</h3>
</div><div id="unbind-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>unbind</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Connection closed
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/playerconnect.rb', line 99</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/presidentbeef/kams/blob/121742aeaf70795c7f753b8b7e5023c0bb143be3/lib/playerconnect.rb#L99">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">99
100
101
102
103
104
105
106
107
108
109
110
111</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='unbind identifier id'>unbind</span>
  <span class='File constant id'>File</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='string val'>&quot;logs/player.log&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;a&quot;</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='f identifier id'>f</span><span class='bitor op'>|</span> <span class='f identifier id'>f</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;#{Time.now} - #{@player ? @player.name : &quot;Someone&quot;} logged out (#{@ip_address}).&quot;</span> <span class='rbrace token'>}</span>
  <span class='log identifier id'>log</span> <span class='dstring node'>&quot;#{@player ? @player.name: &quot;Someone&quot;} logged out (#{@ip_address}).&quot;</span><span class='comma token'>,</span> <span class='Logger constant id'>Logger</span><span class='colon2 op'>::</span><span class='Ultimate constant id'>Ultimate</span> 
  <span class='@closed ivar id'>@closed</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
  <span class='@mccp_to_client ivar id'>@mccp_to_client</span><span class='dot token'>.</span><span class='finish identifier id'>finish</span> <span class='if if_mod kw'>if</span> <span class='@mccp_to_client ivar id'>@mccp_to_client</span>
  <span class='after identifier id'>after</span> <span class='integer val'>3</span> <span class='do do kw'>do</span>
    <span class='if if kw'>if</span> <span class='@player ivar id'>@player</span> <span class='and and kw'>and</span> <span class='$manager gvar id'>$manager</span><span class='dot token'>.</span><span class='object_loaded? fid id'>object_loaded?</span> <span class='@player ivar id'>@player</span><span class='dot token'>.</span><span class='goid identifier id'>goid</span>
      <span class='log identifier id'>log</span> <span class='dstring node'>&quot;Connection broken, forcing manager to drop #{@player and @player.name}.&quot;</span><span class='comma token'>,</span> <span class='Logger constant id'>Logger</span><span class='colon2 op'>::</span><span class='Medium constant id'>Medium</span>
      <span class='$manager gvar id'>$manager</span><span class='dot token'>.</span><span class='drop_player identifier id'>drop_player</span><span class='lparen token'>(</span><span class='@player ivar id'>@player</span><span class='rparen token'>)</span> 
    <span class='end end kw'>end</span>
    <span class='nil nil kw'>nil</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> 2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>