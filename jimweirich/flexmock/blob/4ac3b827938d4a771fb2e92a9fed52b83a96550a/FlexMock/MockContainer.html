<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>jimweirich's flexmock - Module: FlexMock::MockContainer - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/jimweirich/commits/flexmock/master" rel="alternate" title="Recent Commits to flexmock:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("jimweirich", "flexmock", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='jimweirich/flexmock/blob/4ac3b827938d4a771fb2e92a9fed52b83a96550a' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='jimweirich/flexmock/blob/4ac3b827938d4a771fb2e92a9fed52b83a96550a' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("jimweirich", "flexmock", "4ac3b827938d4a771fb2e92a9fed52b83a96550a", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/jimweirich/flexmock/tree/">Source</a></li>
            <li class=""><a href="http://github.com/jimweirich/flexmock/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/jimweirich/flexmock/network">Network</a></li>            
            <li class=""><a href="http://github.com/jimweirich/flexmock/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/jimweirich/flexmock">Wiki</a></li>
            <li class=""><a href="http://github.com/jimweirich/flexmock/graphs">Graphs</a></li>                    
            <li class="active"><a href="/jimweirich/flexmock">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/jimweirich">jimweirich</a> / <b><a href="http://github.com/jimweirich/flexmock/tree">flexmock</a></b>        
                <a id="namespaces_button" rel="jimweirich/flexmock/blob/4ac3b827938d4a771fb2e92a9fed52b83a96550a" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="jimweirich/flexmock/blob/4ac3b827938d4a771fb2e92a9fed52b83a96550a" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section module FlexMock_MockContainer">
  <h1>Module: FlexMock::MockContainer</h1>
  <div class="section mixins">
  <h2>Included Modules</h2>
  <p><a href="MockContainer/Ordering.html" title="FlexMock::Ordering">FlexMock::Ordering</a></p>
</div><div class="section docstring">
  <p>
###################################################################### Mock
container methods
</p>
<p>
Include this module in to get integration with FlexMock. When this module
is included, mocks may be created with a simple call to the
<tt>flexmock</tt> method. Mocks created with via the method call will
automatically be verified in the teardown of the test case.
</p>

</div><div class="section constants">
  
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#flexmock-instance_method">#flexmock</span><span class='args'>(*args)</span>
        <span class='block'></span>
        
          <span class='alias'>#flexstub</span>
        
      </th>
      <td class="docstring">
        <p>
Create a mocking object in the FlexMock framework.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#flexmock_close-instance_method">#flexmock_close</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Close all the mock objects in the container.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#flexmock_remember-instance_method">#flexmock_remember</span><span class='args'>(mocking_object)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Remember the mock object / stub in the mock container.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#flexmock_teardown-instance_method">#flexmock_teardown</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Do the flexmock specific teardown stuff.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#flexmock_verify-instance_method">#flexmock_verify</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Perform verification on all mocks in the container.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#rails_version-instance_method">#rails_version</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#should_render_view-instance_method">#should_render_view</span><span class='args'>(template_name = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Declare that the Rails controller under test should render the named view.
</p>

        
      </td>
    </tr>
  
</table><div class="included">
  
  <div>
    <h2>Public Instance Methods Included from <a href="MockContainer/Ordering.html" title="FlexMock::Ordering">FlexMock::Ordering</a></h2>
    <p><span class='name'><a href="Ordering.html#flexmock_allocate_order-instance_method" title="flexmock_allocate_order">flexmock_allocate_order</a></span>, <span class='name'><a href="Ordering.html#flexmock_current_order-instance_method" title="flexmock_current_order">flexmock_current_order</a></span>, <span class='name'><a href="Ordering.html#flexmock_current_order%3D-instance_method" title="flexmock_current_order=">flexmock_current_order=</a></span>, <span class='name'><a href="Ordering.html#flexmock_groups-instance_method" title="flexmock_groups">flexmock_groups</a></span>, <span class='name'><a href="Ordering.html#flexmock_validate_order-instance_method" title="flexmock_validate_order">flexmock_validate_order</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>flexmock</h3>
</div><div id="flexmock-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>flexmock</span><span class='args'>(*args)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="flexstub-instance_method">flexstub</tt>
  
</p>
</div><div class="section docstring">
  <p>
Create a mocking object in the FlexMock framework. The <tt>flexmock</tt>
method has a number of options available, depending on just what kind of
mocking object your require. Mocks created via <tt>flexmock</tt> will be
automatically verify during the teardown phase of your test framework.
</p>
<p>
:call-seq:
</p>
<pre class="code">
  <span class='flexmock identifier id'>flexmock</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='mock identifier id'>mock</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
  <span class='flexmock identifier id'>flexmock</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='mock identifier id'>mock</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
  <span class='flexmock identifier id'>flexmock</span><span class='lparen token'>(</span><span class='expect_hash identifier id'>expect_hash</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='mock identifier id'>mock</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
  <span class='flexmock identifier id'>flexmock</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='expect_hash identifier id'>expect_hash</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='mock identifier id'>mock</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
  <span class='flexmock identifier id'>flexmock</span><span class='lparen token'>(</span><span class='real_object identifier id'>real_object</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='mock identifier id'>mock</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
  <span class='flexmock identifier id'>flexmock</span><span class='lparen token'>(</span><span class='real_object identifier id'>real_object</span><span class='comma token'>,</span> <span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='mock identifier id'>mock</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
  <span class='flexmock identifier id'>flexmock</span><span class='lparen token'>(</span><span class='real_object identifier id'>real_object</span><span class='comma token'>,</span> <span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='expect_hash identifier id'>expect_hash</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='mock identifier id'>mock</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
  <span class='flexmock identifier id'>flexmock</span><span class='lparen token'>(</span><span class='symbol val'>:base</span><span class='comma token'>,</span> <span class='string identifier id'>string</span><span class='comma token'>,</span> <span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='expect_hash identifier id'>expect_hash</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='mock identifier id'>mock</span><span class='bitor op'>|</span> <span class='dot3 op'>...</span> <span class='rbrace token'>}</span>
</pre>
<p>
<b>Note:</b> A plain flexmock() call without a block will return the mock
object (the object that interprets <tt>should_receive</tt> and its
brethern). A flexmock() call that <em>includes</em> a block will return the
domain objects (the object that will interpret domain messages) since the
mock will be passed to the block for configuration. With regular mocks,
this distinction is unimportant because the mock object and the domain
object are the same object. However, with partial mocks, the mock object is
separation from the domain object. Keep that distinciton in mind.
</p>
<table>
<tr><td valign="top">name :</td><td>Name of the mock object. If no name is given, &quot;unknown&quot; is used
for full mocks and &quot;flexmock(<em>real_object</em>)&quot; is used for
partial mocks.

</td></tr>
<tr><td valign="top">expect_hash :</td><td>Hash table of method names and values. Each method/value pair is used to
setup a simple expectation so that if the mock object receives a message
matching an entry in the table, it returns the associated value. No
argument our call count constraints are added. Using an expect_hash is
identical to calling:

<pre class="code">
    <span class='mock identifier id'>mock</span><span class='dot token'>.</span><span class='should_receive identifier id'>should_receive</span><span class='lparen token'>(</span><span class='method_name identifier id'>method_name</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='and_return identifier id'>and_return</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
</pre>
<p>
for each of the method/value pairs in the hash.
</p>
</td></tr>
<tr><td valign="top">real_object :</td><td>If a real object is given, then a partial mock is constructed using the
real_object as a base. Partial mocks (formally referred to as stubs) behave
as a mock object when an expectation is matched, and otherwise will behave
like the original object. This is useful when you want to use a real object
for testing, but need to mock out just one or two methods.

</td></tr>
<tr><td valign="top">:base :</td><td>Forces the following argument to be used as the base of a partial mock
object. This explicit tag is only needed if you want to use a string or a
symbol as the mock base (string and symbols would normally be interpretted
as the mock name).

</td></tr>
<tr><td valign="top">&amp;block :</td><td>If a block is given, then the mock object is passed to the block and
expectations may be configured within the block. When a block is given for
a partial mock, flexmock will return the domain object rather than the mock
object.

</td></tr>
</table>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="UsageError.html" title="UsageError">UsageError</a></tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/flexmock/mock_container.rb', line 116</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jimweirich/flexmock/blob/4ac3b827938d4a771fb2e92a9fed52b83a96550a/lib/flexmock/mock_container.rb#L116">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='flexmock identifier id'>flexmock</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='quick_defs identifier id'>quick_defs</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='domain_obj identifier id'>domain_obj</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='safe_mode identifier id'>safe_mode</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
  <span class='model_class identifier id'>model_class</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='while while kw'>while</span> <span class='notop op'>!</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
    <span class='case case kw'>case</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
    <span class='when when kw'>when</span> <span class='symbol val'>:base</span><span class='comma token'>,</span> <span class='symbol val'>:safe</span>
      <span class='safe_mode identifier id'>safe_mode</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span> <span class='eq op'>==</span> <span class='symbol val'>:safe</span><span class='rparen token'>)</span>
      <span class='domain_obj identifier id'>domain_obj</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span>
    <span class='when when kw'>when</span> <span class='symbol val'>:model</span>
      <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span>
      <span class='model_class identifier id'>model_class</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span>
    <span class='when when kw'>when</span> <span class='String constant id'>String</span><span class='comma token'>,</span> <span class='Symbol constant id'>Symbol</span>
      <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
    <span class='when when kw'>when</span> <span class='Hash constant id'>Hash</span>
      <span class='quick_defs identifier id'>quick_defs</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span>
    <span class='else else kw'>else</span>
      <span class='domain_obj identifier id'>domain_obj</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='raise identifier id'>raise</span> <span class='UsageError constant id'>UsageError</span><span class='comma token'>,</span> <span class='string val'>&quot;a block is required in safe mode&quot;</span> <span class='if if_mod kw'>if</span> <span class='safe_mode identifier id'>safe_mode</span> <span class='andop op'>&amp;&amp;</span> <span class='notop op'>!</span> <span class='block_given? fid id'>block_given?</span>

  <span class='if if kw'>if</span> <span class='domain_obj identifier id'>domain_obj</span>
    <span class='mock identifier id'>mock</span> <span class='assign token'>=</span> <span class='ContainerHelper constant id'>ContainerHelper</span><span class='dot token'>.</span><span class='make_partial_proxy identifier id'>make_partial_proxy</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='domain_obj identifier id'>domain_obj</span><span class='comma token'>,</span> <span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='safe_mode identifier id'>safe_mode</span><span class='rparen token'>)</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='domain_obj identifier id'>domain_obj</span>
  <span class='elsif elsif kw'>elsif</span> <span class='model_class identifier id'>model_class</span>
    <span class='id identifier id'>id</span> <span class='assign token'>=</span> <span class='ContainerHelper constant id'>ContainerHelper</span><span class='dot token'>.</span><span class='next_id identifier id'>next_id</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span> <span class='assign token'>=</span> <span class='FlexMock constant id'>FlexMock</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{model_class}_#{id}&quot;</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='mock identifier id'>mock</span> <span class='assign token'>=</span> <span class='FlexMock constant id'>FlexMock</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='name identifier id'>name</span> <span class='orop op'>||</span> <span class='string val'>&quot;unknown&quot;</span><span class='comma token'>,</span> <span class='self self kw'>self</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='mock identifier id'>mock</span><span class='dot token'>.</span><span class='should_receive identifier id'>should_receive</span><span class='lparen token'>(</span><span class='quick_defs identifier id'>quick_defs</span><span class='rparen token'>)</span>
  <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='mock identifier id'>mock</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='block_given? fid id'>block_given?</span>
  <span class='flexmock_remember identifier id'>flexmock_remember</span><span class='lparen token'>(</span><span class='mock identifier id'>mock</span><span class='rparen token'>)</span>
  <span class='ContainerHelper constant id'>ContainerHelper</span><span class='dot token'>.</span><span class='add_model_methods identifier id'>add_model_methods</span><span class='lparen token'>(</span><span class='mock identifier id'>mock</span><span class='comma token'>,</span> <span class='model_class identifier id'>model_class</span><span class='comma token'>,</span> <span class='id identifier id'>id</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='model_class identifier id'>model_class</span>
  <span class='result identifier id'>result</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>flexmock_close</h3>
</div><div id="flexmock_close-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>flexmock_close</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Close all the mock objects in the container. Closing a mock object restores
any original behavior that was displaced by the mock.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/flexmock/mock_container.rb', line 47</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jimweirich/flexmock/blob/4ac3b827938d4a771fb2e92a9fed52b83a96550a/lib/flexmock/mock_container.rb#L47">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">47
48
49
50
51
52
53</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='flexmock_close identifier id'>flexmock_close</span>
  <span class='@flexmock_created_mocks ivar id'>@flexmock_created_mocks</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@flexmock_created_mocks ivar id'>@flexmock_created_mocks</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='m identifier id'>m</span><span class='bitor op'>|</span>
    <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='flexmock_teardown identifier id'>flexmock_teardown</span>
  <span class='end end kw'>end</span>
  <span class='@flexmock_created_mocks ivar id'>@flexmock_created_mocks</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>flexmock_remember</h3>
</div><div id="flexmock_remember-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>flexmock_remember</span><span class='args'>(mocking_object)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Remember the mock object / stub in the mock container.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/flexmock/mock_container.rb', line 158</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jimweirich/flexmock/blob/4ac3b827938d4a771fb2e92a9fed52b83a96550a/lib/flexmock/mock_container.rb#L158">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">158
159
160
161
162
163</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='flexmock_remember identifier id'>flexmock_remember</span><span class='lparen token'>(</span><span class='mocking_object identifier id'>mocking_object</span><span class='rparen token'>)</span>
  <span class='@flexmock_created_mocks ivar id'>@flexmock_created_mocks</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@flexmock_created_mocks ivar id'>@flexmock_created_mocks</span> <span class='lshft op'>&lt;&lt;</span> <span class='mocking_object identifier id'>mocking_object</span>
  <span class='mocking_object identifier id'>mocking_object</span><span class='dot token'>.</span><span class='flexmock_container identifier id'>flexmock_container</span> <span class='assign token'>=</span> <span class='self self kw'>self</span>
  <span class='mocking_object identifier id'>mocking_object</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>flexmock_teardown</h3>
</div><div id="flexmock_teardown-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>flexmock_teardown</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Do the flexmock specific teardown stuff. If you need finer control, you can
use either <tt>flexmock_verify</tt> or <tt>flexmock_close</tt>.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/flexmock/mock_container.rb', line 31</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jimweirich/flexmock/blob/4ac3b827938d4a771fb2e92a9fed52b83a96550a/lib/flexmock/mock_container.rb#L31">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">31
32
33
34
35</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='flexmock_teardown identifier id'>flexmock_teardown</span>
  <span class='flexmock_verify identifier id'>flexmock_verify</span> <span class='if if_mod kw'>if</span> <span class='passed? fid id'>passed?</span>
<span class='ensure ensure kw'>ensure</span>
  <span class='flexmock_close identifier id'>flexmock_close</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>flexmock_verify</h3>
</div><div id="flexmock_verify-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>flexmock_verify</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Perform verification on all mocks in the container.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/flexmock/mock_container.rb', line 38</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jimweirich/flexmock/blob/4ac3b827938d4a771fb2e92a9fed52b83a96550a/lib/flexmock/mock_container.rb#L38">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">38
39
40
41
42
43</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='flexmock_verify identifier id'>flexmock_verify</span>
  <span class='@flexmock_created_mocks ivar id'>@flexmock_created_mocks</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@flexmock_created_mocks ivar id'>@flexmock_created_mocks</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='m identifier id'>m</span><span class='bitor op'>|</span>
    <span class='m identifier id'>m</span><span class='dot token'>.</span><span class='flexmock_verify identifier id'>flexmock_verify</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>rails_version</h3>
</div><div id="rails_version-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>rails_version</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/flexmock/rails/view_mocking.rb', line 6</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jimweirich/flexmock/blob/4ac3b827938d4a771fb2e92a9fed52b83a96550a/lib/flexmock/rails/view_mocking.rb#L6">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">6
7
8</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='rails_version identifier id'>rails_version</span>
  <span class='Rails constant id'>Rails</span><span class='colon2 op'>::</span><span class='VERSION constant id'>VERSION</span><span class='colon2 op'>::</span><span class='STRING constant id'>STRING</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>should_render_view</h3>
</div><div id="should_render_view-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>should_render_view</span><span class='args'>(template_name = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Declare that the Rails controller under test should render the named view.
If a view template name is given, it will be an error if the named view is
not rendered during the execution of the contoller action. If no template
name is given, then the any view may be rendered. If no view is actually
rendered, then an assertion failure will occur.
</p>
<pre class="code">
 <span class='def def kw'>def</span> <span class='test_my_action_does_what_it_should identifier id'>test_my_action_does_what_it_should</span>
   <span class='should_render_view identifier id'>should_render_view</span> <span class='string val'>'show'</span>

   <span class='get identifier id'>get</span> <span class='symbol val'>:show</span><span class='comma token'>,</span> <span class='symbol val'>:id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>1</span>

   <span class='assert_response identifier id'>assert_response</span> <span class='symbol val'>:success</span>
 <span class='end end kw'>end</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/flexmock/rails/view_mocking.rb', line 25</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jimweirich/flexmock/blob/4ac3b827938d4a771fb2e92a9fed52b83a96550a/lib/flexmock/rails/view_mocking.rb#L25">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">25
26
27
28
29
30
31
32
33
34
35
36
37</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='should_render_view identifier id'>should_render_view</span><span class='lparen token'>(</span><span class='template_name identifier id'>template_name</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='rails_version identifier id'>rails_version</span> <span class='leq op'>&lt;=</span> <span class='string val'>'1.2.4'</span>
    <span class='should_render_view_prior_version_124 identifier id'>should_render_view_prior_version_124</span><span class='lparen token'>(</span><span class='template_name identifier id'>template_name</span><span class='rparen token'>)</span>
  <span class='elsif elsif kw'>elsif</span> <span class='rails_version identifier id'>rails_version</span> <span class='leq op'>&lt;=</span> <span class='string val'>'2.0.0'</span>
    <span class='should_render_view_after_version_124 identifier id'>should_render_view_after_version_124</span><span class='lparen token'>(</span><span class='template_name identifier id'>template_name</span><span class='rparen token'>)</span>
  <span class='elsif elsif kw'>elsif</span> <span class='rails_version identifier id'>rails_version</span> <span class='lt op'>&lt;</span> <span class='string val'>'2.2'</span>
    <span class='should_render_view_after_version_202 identifier id'>should_render_view_after_version_202</span><span class='lparen token'>(</span><span class='template_name identifier id'>template_name</span><span class='rparen token'>)</span>
  <span class='elsif elsif kw'>elsif</span> <span class='rails_version identifier id'>rails_version</span> <span class='lt op'>&lt;</span> <span class='string val'>'2.3'</span>
    <span class='should_render_view_22x identifier id'>should_render_view_22x</span><span class='lparen token'>(</span><span class='template_name identifier id'>template_name</span><span class='rparen token'>)</span>    
  <span class='else else kw'>else</span>
    <span class='should_render_view_23x identifier id'>should_render_view_23x</span><span class='lparen token'>(</span><span class='template_name identifier id'>template_name</span><span class='rparen token'>)</span>    
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>