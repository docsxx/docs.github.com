<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>jimweirich's rake - Class: Rake::PackageTask - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/jimweirich/commits/rake/master" rel="alternate" title="Recent Commits to rake:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>
    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/jimweirich/rake/tree/">Source</a></li>
            <li class=""><a href="http://github.com/jimweirich/rake/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/jimweirich/rake/network">Network</a></li>            
            <li class=""><a href="http://github.com/jimweirich/rake/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/jimweirich/rake">Wiki</a></li>
            <li class=""><a href="http://github.com/jimweirich/rake/graphs">Graphs</a></li>                    
            <li class="active"><a href="/jimweirich/rake">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/jimweirich">jimweirich</a> / <b><a href="http://github.com/jimweirich/rake/tree">rake</a></b>        
                <a id="namespaces_button" rel="jimweirich/rake" href="#">
                  <img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/>
                </a>
                <a id="methods_button" rel="jimweirich/rake" href="#">
                  <img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/>
                </a>

                <script type="text/javascript">          
                $('#namespaces_button').click(function(){
                  var url="/"+$(this).attr('rel')+"/namespaces/";
                  $.gitbox(url);
                  return false;
                });

                $('#methods_button').click(function(){
                  var url="/"+$(this).attr('rel')+"/methods/";
                  $.gitbox(url);
                  return false;
                });
                </script>
                
              </div>
            </div>
          </div>
                                        
          <div id="content">
            <div class="wikistyle">
  <div class="section class Rake_PackageTask">
  <h1>Class: Rake::PackageTask</h1>
  <div class="section inheritance">
  <ul>
  <li><a href="TaskLib.html" title="Rake::TaskLib">Rake::TaskLib</a></li><ul><li>Rake::PackageTask</li>
  </ul></ul>
</div><div class="section docstring">
  <p>
Create a packaging task that will package the project into distributable
files (e.g zip archive or tar files).
</p>
<p>
The PackageTask will create the following targets:
</p>
<dl>
<dt><b>:package</b></dt><dd>Create all the requested package files.

</dd>
<dt><b>:clobber_package</b></dt><dd>Delete all the package files. This target is automatically added to the
main clobber target.

</dd>
<dt><b>:repackage</b></dt><dd>Rebuild the package files from scratch, even if they are not out of date.

</dd>
<dt><b>&quot;<em>package_dir</em>/<em>name</em>-<em>version</em>.tgz&quot;</b></dt><dd>Create a gzipped tar package (if <em>need_tar</em> is true).

</dd>
<dt><b>&quot;<em>package_dir</em>/<em>name</em>-<em>version</em>.tar.gz&quot;</b></dt><dd>Create a gzipped tar package (if <em>need_tar_gz</em> is true).

</dd>
<dt><b>&quot;<em>package_dir</em>/<em>name</em>-<em>version</em>.tar.bz2&quot;</b></dt><dd>Create a bzip2&#8217;d tar package (if <em>need_tar_bz2</em> is true).

</dd>
<dt><b>&quot;<em>package_dir</em>/<em>name</em>-<em>version</em>.zip&quot;</b></dt><dd>Create a zip package archive (if <em>need_zip</em> is true).

</dd>
</dl>
<p>
Example:
</p>
<pre class="code">
  <span class='Rake constant id'>Rake</span><span class='colon2 op'>::</span><span class='PackageTask constant id'>PackageTask</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>&quot;rake&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;1.2.3&quot;</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='p identifier id'>p</span><span class='bitor op'>|</span>
    <span class='p identifier id'>p</span><span class='dot token'>.</span><span class='need_tar identifier id'>need_tar</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
    <span class='p identifier id'>p</span><span class='dot token'>.</span><span class='package_files identifier id'>package_files</span><span class='dot token'>.</span><span class='include identifier id'>include</span><span class='lparen token'>(</span><span class='string val'>&quot;lib/**/*.rb&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
</pre>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">name</td>
          <td class="readwrite">
            [<span id='name-instance_method'>R</span><span id='name%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Name of the package (from the GEM Spec).
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">need_tar_bz2</td>
          <td class="readwrite">
            [<span id='need_tar_bz2-instance_method'>R</span><span id='need_tar_bz2%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
True if a bzip2&#8217;d tar file (tar.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">need_tar_gz</td>
          <td class="readwrite">
            [<span id='need_tar_gz-instance_method'>R</span><span id='need_tar_gz%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
True if a gzipped tar file (tar.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">need_tar</td>
          <td class="readwrite">
            [<span id='need_tar-instance_method'>R</span><span id='need_tar%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
True if a gzipped tar file (tgz) should be produced (default is false).
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">need_zip</td>
          <td class="readwrite">
            [<span id='need_zip-instance_method'>R</span><span id='need_zip%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
True if a zip file should be produced (default is false).
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">package_dir</td>
          <td class="readwrite">
            [<span id='package_dir-instance_method'>R</span><span id='package_dir%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Directory used to store the package files (default is &#8216;pkg&#8217;).
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">package_files</td>
          <td class="readwrite">
            [<span id='package_files-instance_method'>R</span><span id='package_files%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
List of files to be included in the package.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">tar_command</td>
          <td class="readwrite">
            [<span id='tar_command-instance_method'>R</span><span id='tar_command%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Tar command for gzipped or bzip2ed archives.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">version</td>
          <td class="readwrite">
            [<span id='version-instance_method'>R</span><span id='version%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Version of the package (e.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">zip_command</td>
          <td class="readwrite">
            [<span id='zip_command-instance_method'>R</span><span id='zip_command%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Zip command for zipped archives.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(name = nil, version = nil)</span>
    <span class='block'>{|_self| ... }</span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Create a Package Task with the given name and version.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
  </dl>
</div><div class="yieldparam">
  <h3>Yield Parameters:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="" title="Rake::PackageTask">Rake::PackageTask</a></tt>]</span>
      
      
        <span class='name'>_self</span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
the object that the method was called on
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rake/packagetask.rb', line 78</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jimweirich/rake/blob/master/lib/rake/packagetask.rb#L78">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">78
79
80
81
82</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='version identifier id'>version</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='init identifier id'>init</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='version identifier id'>version</span><span class='rparen token'>)</span>
  <span class='yield yield kw'>yield</span> <span class='self self kw'>self</span> <span class='if if_mod kw'>if</span> <span class='block_given? fid id'>block_given?</span>
  <span class='define identifier id'>define</span> <span class='unless unless_mod kw'>unless</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#define-instance_method">#define</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Create the tasks defined by this task library.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#init-instance_method">#init</span><span class='args'>(name, version)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Initialization that bypasses the &quot;yield self&quot; and
&quot;define&quot; step.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#package_dir_path-instance_method">#package_dir_path</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#package_name-instance_method">#package_name</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#tar_bz2_file-instance_method">#tar_bz2_file</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#tar_gz_file-instance_method">#tar_gz_file</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#tgz_file-instance_method">#tgz_file</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#zip_file-instance_method">#zip_file</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table><div class="inherited">
  
  <div>
    <h2>Public Instance Methods Inherited from <a href="TaskLib.html" title="Rake::TaskLib">Rake::TaskLib</a></h2>
    <p><span class='name'><a href="TaskLib.html#paste-instance_method" title="paste">paste</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>define</h3>
</div><div id="define-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>define</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Create the tasks defined by this task library.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rake/packagetask.rb', line 99</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jimweirich/rake/blob/master/lib/rake/packagetask.rb#L99">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='define identifier id'>define</span>
  <span class='fail identifier id'>fail</span> <span class='string val'>&quot;Version required (or :noversion)&quot;</span> <span class='if if_mod kw'>if</span> <span class='@version ivar id'>@version</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
  <span class='@version ivar id'>@version</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span> <span class='if if_mod kw'>if</span> <span class='symbol val'>:noversion</span> <span class='eq op'>==</span> <span class='@version ivar id'>@version</span>

  <span class='desc identifier id'>desc</span> <span class='string val'>&quot;Build all the packages&quot;</span>
  <span class='task identifier id'>task</span> <span class='symbol val'>:package</span>
  
  <span class='desc identifier id'>desc</span> <span class='string val'>&quot;Force a rebuild of the package files&quot;</span>
  <span class='task identifier id'>task</span> <span class='symbol val'>:repackage</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='symbol val'>:clobber_package</span><span class='comma token'>,</span> <span class='symbol val'>:package</span><span class='rbrack token'>]</span>
  
  <span class='desc identifier id'>desc</span> <span class='string val'>&quot;Remove package products&quot;</span> 
  <span class='task identifier id'>task</span> <span class='symbol val'>:clobber_package</span> <span class='do do kw'>do</span>
    <span class='rm_r identifier id'>rm_r</span> <span class='package_dir identifier id'>package_dir</span> <span class='rescue rescue kw'>rescue</span> <span class='nil nil kw'>nil</span>
  <span class='end end kw'>end</span>

  <span class='task identifier id'>task</span> <span class='symbol val'>:clobber</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='symbol val'>:clobber_package</span><span class='rbrack token'>]</span>

  <span class='lbrack token'>[</span>
    <span class='lbrack token'>[</span><span class='need_tar identifier id'>need_tar</span><span class='comma token'>,</span> <span class='tgz_file identifier id'>tgz_file</span><span class='comma token'>,</span> <span class='string val'>&quot;z&quot;</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
    <span class='lbrack token'>[</span><span class='need_tar_gz identifier id'>need_tar_gz</span><span class='comma token'>,</span> <span class='tar_gz_file identifier id'>tar_gz_file</span><span class='comma token'>,</span> <span class='string val'>&quot;z&quot;</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
    <span class='lbrack token'>[</span><span class='need_tar_bz2 identifier id'>need_tar_bz2</span><span class='comma token'>,</span> <span class='tar_bz2_file identifier id'>tar_bz2_file</span><span class='comma token'>,</span> <span class='string val'>&quot;j&quot;</span><span class='rbrack token'>]</span>
  <span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='lparen token'>(</span><span class='need identifier id'>need</span><span class='comma token'>,</span> <span class='file identifier id'>file</span><span class='comma token'>,</span> <span class='flag identifier id'>flag</span><span class='rparen token'>)</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='need identifier id'>need</span>
      <span class='task identifier id'>task</span> <span class='symbol val'>:package</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='dstring node'>&quot;#{package_dir}/#{file}&quot;</span><span class='rbrack token'>]</span>
      <span class='file identifier id'>file</span> <span class='dstring node'>&quot;#{package_dir}/#{file}&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='package_dir_path identifier id'>package_dir_path</span><span class='rbrack token'>]</span> <span class='plus op'>+</span> <span class='package_files identifier id'>package_files</span> <span class='do do kw'>do</span>
        <span class='chdir identifier id'>chdir</span><span class='lparen token'>(</span><span class='package_dir identifier id'>package_dir</span><span class='rparen token'>)</span> <span class='do do kw'>do</span>
          <span class='sh identifier id'>sh</span> <span class='dstring node'>%{#{@tar_command} #{flag}cvf #{file} #{package_name}}</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  
  <span class='if if kw'>if</span> <span class='need_zip identifier id'>need_zip</span>
    <span class='task identifier id'>task</span> <span class='symbol val'>:package</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='dstring node'>&quot;#{package_dir}/#{zip_file}&quot;</span><span class='rbrack token'>]</span>
    <span class='file identifier id'>file</span> <span class='dstring node'>&quot;#{package_dir}/#{zip_file}&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='package_dir_path identifier id'>package_dir_path</span><span class='rbrack token'>]</span> <span class='plus op'>+</span> <span class='package_files identifier id'>package_files</span> <span class='do do kw'>do</span>
      <span class='chdir identifier id'>chdir</span><span class='lparen token'>(</span><span class='package_dir identifier id'>package_dir</span><span class='rparen token'>)</span> <span class='do do kw'>do</span>
        <span class='sh identifier id'>sh</span> <span class='dstring node'>%{#{@zip_command} -r #{zip_file} #{package_name}}</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='directory identifier id'>directory</span> <span class='package_dir identifier id'>package_dir</span>

  <span class='file identifier id'>file</span> <span class='package_dir_path identifier id'>package_dir_path</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='@package_files ivar id'>@package_files</span> <span class='do do kw'>do</span>
    <span class='mkdir_p identifier id'>mkdir_p</span> <span class='package_dir identifier id'>package_dir</span> <span class='rescue rescue kw'>rescue</span> <span class='nil nil kw'>nil</span>
    <span class='@package_files ivar id'>@package_files</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='fn identifier id'>fn</span><span class='bitor op'>|</span>
      <span class='f identifier id'>f</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='package_dir_path identifier id'>package_dir_path</span><span class='comma token'>,</span> <span class='fn identifier id'>fn</span><span class='rparen token'>)</span>
      <span class='fdir identifier id'>fdir</span> <span class='assign token'>=</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='dirname identifier id'>dirname</span><span class='lparen token'>(</span><span class='f identifier id'>f</span><span class='rparen token'>)</span>
      <span class='mkdir_p identifier id'>mkdir_p</span><span class='lparen token'>(</span><span class='fdir identifier id'>fdir</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='notop op'>!</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='exist? fid id'>exist?</span><span class='lparen token'>(</span><span class='fdir identifier id'>fdir</span><span class='rparen token'>)</span>
      <span class='if if kw'>if</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='directory? fid id'>directory?</span><span class='lparen token'>(</span><span class='fn identifier id'>fn</span><span class='rparen token'>)</span>
        <span class='mkdir_p identifier id'>mkdir_p</span><span class='lparen token'>(</span><span class='f identifier id'>f</span><span class='rparen token'>)</span>
      <span class='else else kw'>else</span>
        <span class='rm_f identifier id'>rm_f</span> <span class='f identifier id'>f</span>
        <span class='safe_ln identifier id'>safe_ln</span><span class='lparen token'>(</span><span class='fn identifier id'>fn</span><span class='comma token'>,</span> <span class='f identifier id'>f</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>init</h3>
</div><div id="init-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>init</span><span class='args'>(name, version)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Initialization that bypasses the &quot;yield self&quot; and
&quot;define&quot; step.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rake/packagetask.rb', line 85</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jimweirich/rake/blob/master/lib/rake/packagetask.rb#L85">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">85
86
87
88
89
90
91
92
93
94
95
96</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='init identifier id'>init</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='version identifier id'>version</span><span class='rparen token'>)</span>
  <span class='@name ivar id'>@name</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span>
  <span class='@version ivar id'>@version</span> <span class='assign token'>=</span> <span class='version identifier id'>version</span>
  <span class='@package_files ivar id'>@package_files</span> <span class='assign token'>=</span> <span class='Rake constant id'>Rake</span><span class='colon2 op'>::</span><span class='FileList constant id'>FileList</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='@package_dir ivar id'>@package_dir</span> <span class='assign token'>=</span> <span class='string val'>'pkg'</span>
  <span class='@need_tar ivar id'>@need_tar</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
  <span class='@need_tar_gz ivar id'>@need_tar_gz</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
  <span class='@need_tar_bz2 ivar id'>@need_tar_bz2</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
  <span class='@need_zip ivar id'>@need_zip</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
  <span class='@tar_command ivar id'>@tar_command</span> <span class='assign token'>=</span> <span class='string val'>'tar'</span>
  <span class='@zip_command ivar id'>@zip_command</span> <span class='assign token'>=</span> <span class='string val'>'zip'</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>package_dir_path</h3>
</div><div id="package_dir_path-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>package_dir_path</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rake/packagetask.rb', line 163</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jimweirich/rake/blob/master/lib/rake/packagetask.rb#L163">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">163
164
165</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='package_dir_path identifier id'>package_dir_path</span>
  <span class='dstring node'>&quot;#{package_dir}/#{package_name}&quot;</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>package_name</h3>
</div><div id="package_name-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>package_name</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rake/packagetask.rb', line 159</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jimweirich/rake/blob/master/lib/rake/packagetask.rb#L159">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">159
160
161</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='package_name identifier id'>package_name</span>
  <span class='@version ivar id'>@version</span> <span class='question op'>?</span> <span class='dstring node'>&quot;#{@name}-#{@version}&quot;</span> <span class='colon op'>:</span> <span class='@name ivar id'>@name</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>tar_bz2_file</h3>
</div><div id="tar_bz2_file-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>tar_bz2_file</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rake/packagetask.rb', line 175</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jimweirich/rake/blob/master/lib/rake/packagetask.rb#L175">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">175
176
177</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='tar_bz2_file identifier id'>tar_bz2_file</span>
  <span class='dstring node'>&quot;#{package_name}.tar.bz2&quot;</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>tar_gz_file</h3>
</div><div id="tar_gz_file-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>tar_gz_file</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rake/packagetask.rb', line 171</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jimweirich/rake/blob/master/lib/rake/packagetask.rb#L171">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">171
172
173</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='tar_gz_file identifier id'>tar_gz_file</span>
  <span class='dstring node'>&quot;#{package_name}.tar.gz&quot;</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>tgz_file</h3>
</div><div id="tgz_file-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>tgz_file</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rake/packagetask.rb', line 167</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jimweirich/rake/blob/master/lib/rake/packagetask.rb#L167">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">167
168
169</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='tgz_file identifier id'>tgz_file</span>
  <span class='dstring node'>&quot;#{package_name}.tgz&quot;</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>zip_file</h3>
</div><div id="zip_file-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>zip_file</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/rake/packagetask.rb', line 179</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jimweirich/rake/blob/master/lib/rake/packagetask.rb#L179">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">179
180
181</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='zip_file identifier id'>zip_file</span>
  <span class='dstring node'>&quot;#{package_name}.zip&quot;</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>