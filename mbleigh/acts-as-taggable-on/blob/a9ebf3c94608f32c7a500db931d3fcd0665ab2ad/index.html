<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>mbleigh's acts-as-taggable-on - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/mbleigh/commits/acts-as-taggable-on/master" rel="alternate" title="Recent Commits to acts-as-taggable-on:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("mbleigh", "acts-as-taggable-on", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='mbleigh/acts-as-taggable-on/blob/a9ebf3c94608f32c7a500db931d3fcd0665ab2ad' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='mbleigh/acts-as-taggable-on/blob/a9ebf3c94608f32c7a500db931d3fcd0665ab2ad' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("mbleigh", "acts-as-taggable-on", "a9ebf3c94608f32c7a500db931d3fcd0665ab2ad", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/mbleigh/acts-as-taggable-on/tree/">Source</a></li>
            <li class=""><a href="http://github.com/mbleigh/acts-as-taggable-on/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/mbleigh/acts-as-taggable-on/network">Network</a></li>            
            <li class=""><a href="http://github.com/mbleigh/acts-as-taggable-on/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/mbleigh/acts-as-taggable-on">Wiki</a></li>
            <li class=""><a href="http://github.com/mbleigh/acts-as-taggable-on/graphs">Graphs</a></li>                    
            <li class="active"><a href="/mbleigh/acts-as-taggable-on">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/mbleigh">mbleigh</a> / <b><a href="http://github.com/mbleigh/acts-as-taggable-on/tree">acts-as-taggable-on</a></b>        
                <a id="namespaces_button" rel="mbleigh/acts-as-taggable-on/blob/a9ebf3c94608f32c7a500db931d3fcd0665ab2ad" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="mbleigh/acts-as-taggable-on/blob/a9ebf3c94608f32c7a500db931d3fcd0665ab2ad" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="section docstring readme wikistyle">
  <p>
ActsAsTaggableOn
</p>
<h6>==========</h6>
<p>
This plugin was originally based on Acts as Taggable on Steroids by
Jonathan Viney. It has evolved substantially since that point, but all
credit goes to him for the initial tagging functionality that so many
people have used.
</p>
<p>
For instance, in a social network, a user might have tags that are called
skills, interests, sports, and more. There is no real way to differentiate
between tags and so an implementation of this type is not possible with
acts as taggable on steroids.
</p>
<p>
Enter Acts as Taggable On. Rather than tying functionality to a specific
keyword (namely &quot;tags&quot;), acts as taggable on allows you to
specify an arbitrary number of tag &quot;contexts&quot; that can be used
locally or in combination in the same way steroids was used.
</p>
<p>
Installation
</p>
<h6>======</h6>
<p>
Plugin
</p>
<hr size="4"></hr><p>
Acts As Taggable On is available both as a gem and as a traditional plugin.
For the traditional plugin you can install like so (Rails 2.1 or later):
</p>
<pre class="code">
  <span class='script identifier id'>script</span><span class='div op'>/</span><span class='plugin identifier id'>plugin</span> <span class='install identifier id'>install</span> <span class='git identifier id'>git</span><span class='symbol val'>:/</span><span class='regexp val'>/github.com/</span><span class='mbleigh identifier id'>mbleigh</span><span class='div op'>/</span><span class='acts identifier id'>acts</span><span class='minus op'>-</span><span class='as identifier id'>as</span><span class='minus op'>-</span><span class='taggable identifier id'>taggable</span><span class='minus op'>-</span><span class='on identifier id'>on</span><span class='dot token'>.</span><span class='git identifier id'>git</span>
</pre>
<p>
For earlier versions:
</p>
<pre class="code">
  <span class='git identifier id'>git</span> <span class='clone identifier id'>clone</span> <span class='git identifier id'>git</span><span class='symbol val'>:/</span><span class='regexp val'>/github.com/</span><span class='mbleigh identifier id'>mbleigh</span><span class='div op'>/</span><span class='acts identifier id'>acts</span><span class='minus op'>-</span><span class='as identifier id'>as</span><span class='minus op'>-</span><span class='taggable identifier id'>taggable</span><span class='minus op'>-</span><span class='on identifier id'>on</span><span class='dot token'>.</span><span class='git identifier id'>git</span> <span class='vendor identifier id'>vendor</span><span class='div op'>/</span><span class='plugins identifier id'>plugins</span><span class='div op'>/</span><span class='acts identifier id'>acts</span><span class='minus op'>-</span><span class='as identifier id'>as</span><span class='minus op'>-</span><span class='taggable identifier id'>taggable</span><span class='minus op'>-</span><span class='on identifier id'>on</span>
</pre>
<p>
GemPlugin
</p>
<hr size="7"></hr><p>
Acts As Taggable On is also available as a gem plugin using Rails
2.1&#8217;s gem dependencies. To install the gem, add this to your
config/environment.rb:
</p>
<pre class="code">
  <span class='config identifier id'>config</span><span class='dot token'>.</span><span class='gem identifier id'>gem</span> <span class='string val'>&quot;mbleigh-acts-as-taggable-on&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:source</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;http://gems.github.com&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:lib</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;acts-as-taggable-on&quot;</span>
</pre>
<p>
After that, you can run &quot;rake gems:install&quot; to install the gem if
you don&#8217;t already have it. See
http://ryandaigle.com/articles/2008/4/1/what-s-new-in-edge-rails-gem-dependencies
for additional details about gem dependencies in Rails.
</p>
<p>
** NOTE ** Some issues have been experienced with &quot;rake
gems:install&quot;. If that doesn&#8217;t work to install the gem, try just
installing it as a normal gem:
</p>
<pre class="code">
  <span class='gem identifier id'>gem</span> <span class='install identifier id'>install</span> <span class='mbleigh identifier id'>mbleigh</span><span class='minus op'>-</span><span class='acts identifier id'>acts</span><span class='minus op'>-</span><span class='as identifier id'>as</span><span class='minus op'>-</span><span class='taggable identifier id'>taggable</span><span class='minus op'>-</span><span class='on identifier id'>on</span> <span class='minus op'>-</span><span class='minus op'>-</span><span class='source identifier id'>source</span> <span class='http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/gems.github.com
</span></pre>
<p>
Post Installation (Rails)
</p>
<hr size="10"></hr><ol>
<li>script/generate acts_as_taggable_on_migration

</li>
<li>rake db:migrate

</li>
</ol>
<p>
Testing
</p>
<h6>=</h6>
<p>
Acts As Taggable On uses RSpec for its test coverage. Inside the plugin
directory, you can run the specs with:
</p>
<p>
rake spec
</p>
<p>
If you already have RSpec on your application, the specs will run while
using:
</p>
<p>
rake spec:plugins
</p>
<p>
Example
</p>
<h6>=</h6>
<p>
class User &lt; ActiveRecord::Base
</p>
<pre class="code">
  <span class='acts_as_taggable_on identifier id'>acts_as_taggable_on</span> <span class='symbol val'>:tags</span><span class='comma token'>,</span> <span class='symbol val'>:skills</span><span class='comma token'>,</span> <span class='symbol val'>:interests</span>
</pre>
<p>
end
</p>
<p>
@user = User.new(:name =&gt; &quot;Bobby&quot;) @user.tag_list =
&quot;awesome, slick, hefty&quot; # this should be familiar
@user.skill_list = &quot;joking, clowning, boxing&quot; # but you can do it
for any context! @user.skill_list # =&gt;
[&quot;joking&quot;,&quot;clowning&quot;,&quot;boxing&quot;] as TagList
@user.save
</p>
<p>
@user.tags # =&gt; [&lt;Tag name:&quot;awesome&quot;&gt;,&lt;Tag
name:&quot;slick&quot;&gt;,&lt;Tag name:&quot;hefty&quot;&gt;] @user.skills
# =&gt; [&lt;Tag name:&quot;joking&quot;&gt;,&lt;Tag
name:&quot;clowning&quot;&gt;,&lt;Tag name:&quot;boxing&quot;&gt;]
</p>
<p>
# The old way User.find_tagged_with(&quot;awesome&quot;, :on =&gt; :tags) #
=&gt; [@user] User.find_tagged_with(&quot;awesome&quot;, :on =&gt; :skills)
# =&gt; []
</p>
<p>
# The better way (utilizes named_scope)
User.tagged_with(&quot;awesome&quot;, :on =&gt; :tags) # =&gt; [@user]
User.tagged_with(&quot;awesome&quot;, :on =&gt; :skills) # =&gt; []
</p>
<p>
@frankie = User.create(:name =&gt; &quot;Frankie&quot;, :skill_list =&gt;
&quot;joking, flying, eating&quot;) User.skill_counts # =&gt; [&lt;Tag
name=&quot;joking&quot; count=2&gt;,&lt;Tag name=&quot;clowning&quot;
count=1&gt;&#8230;] @frankie.skill_counts
</p>
<p>
Finding Tagged Objects
</p>
<h6>================</h6>
<p>
Acts As Taggable On utilizes Rails 2.1&#8217;s named_scope to create an
association for tags. This way you can mix and match to filter down your
results, and it also improves compatibility with the will_paginate gem:
</p>
<p>
class User &lt; ActiveRecord::Base
</p>
<pre class="code">
  <span class='acts_as_taggable_on identifier id'>acts_as_taggable_on</span> <span class='symbol val'>:tags</span>
  <span class='named_scope identifier id'>named_scope</span> <span class='symbol val'>:by_join_date</span><span class='comma token'>,</span> <span class='symbol val'>:order</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;created_at DESC&quot;</span>
</pre>
<p>
end
</p>
<p>
User.tagged_with(&quot;awesome&quot;).by_date
User.tagged_with(&quot;awesome&quot;).by_date.paginate(:page =&gt;
params[:page], :per_page =&gt; 20)
</p>
<p>
Relationships
</p>
<h6>=======</h6>
<p>
You can find objects of the same type based on similar tags on certain
contexts. Also, objects will be returned in descending order based on the
total number of matched tags.
</p>
<p>
@bobby = User.find_by_name(&quot;Bobby&quot;) @bobby.skill_list # =&gt;
[&quot;jogging&quot;, &quot;diving&quot;]
</p>
<p>
@frankie = User.find_by_name(&quot;Frankie&quot;) @frankie.skill_list #
=&gt; [&quot;hacking&quot;]
</p>
<p>
@tom = User.find_by_name(&quot;Tom&quot;) @tom.skill_list # =&gt;
[&quot;hacking&quot;, &quot;jogging&quot;, &quot;diving&quot;]
</p>
<p>
@tom.find_related_skills # =&gt; [&lt;User
name=&quot;Bobby&quot;&gt;,&lt;User name=&quot;Frankie&quot;&gt;]
@bobby.find_related_skills # =&gt; [&lt;User name=&quot;Tom&quot;&gt;]
@frankie.find_related_skills # =&gt; [&lt;User name=&quot;Tom&quot;&gt;]
</p>
<p>
Dynamic Tag Contexts
</p>
<h6>==============</h6>
<p>
In addition to the generated tag contexts in the definition, it is also
possible to allow for dynamic tag contexts (this could be user generated
tag contexts!)
</p>
<p>
@user = User.new(:name =&gt; &quot;Bobby&quot;)
@user.set_tag_list_on(:customs, &quot;same, as, tag, list&quot;)
@user.tag_list_on(:customs) # =&gt;
[&quot;same&quot;,&quot;as&quot;,&quot;tag&quot;,&quot;list&quot;]
@user.save @user.tags_on(:customs) # =&gt; [&lt;Tag
name=&#8217;same&#8217;&gt;,&#8230;] @user.tag_counts_on(:customs)
User.find_tagged_with(&quot;same&quot;, :on =&gt; :customs) # =&gt; [@user]
</p>
<p>
Tag Ownership
</p>
<h6>=======</h6>
<p>
Tags can have owners:
</p>
<p>
class User &lt; ActiveRecord::Base
</p>
<pre class="code">
  <span class='acts_as_tagger identifier id'>acts_as_tagger</span>
</pre>
<p>
end
</p>
<p>
class Photo &lt; ActiveRecord::Base
</p>
<pre class="code">
  <span class='acts_as_taggable_on identifier id'>acts_as_taggable_on</span> <span class='symbol val'>:locations</span>
</pre>
<p>
end
</p>
<p>
@some_user.tag(@some_photo, :with =&gt; &quot;paris, normandy&quot;, :on
=&gt; :locations) @some_user.owned_taggings @some_user.owned_tags
@some_photo.locations_from(@some_user)
</p>
<p>
Caveats, Uncharted Waters
</p>
<h6>===================</h6>
<p>
This plugin is still under active development. Tag caching has not been
thoroughly (or even casually) tested and may not work as expected.
</p>
<p>
Contributors
</p>
<h6>======</h6>
<ul>
<li>Michael Bleigh - Original Author

</li>
<li>Brendan Lim - Related Objects

</li>
<li>Pradeep Elankumaran - Taggers

</li>
<li>Sinclair Bain - Patch King

</li>
</ul>
<p>
Patch Contributors
</p>
<hr size="10"></hr><ul>
<li>tristanzdunn - Related objects of other classes

</li>
<li>azabaj - Fixed migrate down

</li>
<li>Peter Cooper - named_scope fix

</li>
<li>slainer68 - STI fix

</li>
<li>harrylove - migration instructions and fix-ups

</li>
<li>lawrencepit - cached tag work

</li>
</ul>
<p>
Resources
</p>
<h6>===</h6>
<ul>
<li>Acts As Community -
http://www.actsascommunity.com/projects/acts-as-taggable-on

</li>
<li>GitHub - http://github.com/mbleigh/acts-as-taggable-on

</li>
<li>Lighthouse -
http://mbleigh.lighthouseapp.com/projects/10116-acts-as-taggable-on

</li>
</ul>
<p>
Copyright &#169; 2007 Michael Bleigh (http://mbleigh.com/) and Intridea
Inc. (http://intridea.com/), released under the MIT license
</p>

</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>