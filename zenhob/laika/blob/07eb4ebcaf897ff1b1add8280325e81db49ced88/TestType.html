<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>zenhob's laika - Class: TestType - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/zenhob/commits/laika/master" rel="alternate" title="Recent Commits to laika:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("zenhob", "laika", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='zenhob/laika/blob/07eb4ebcaf897ff1b1add8280325e81db49ced88' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='zenhob/laika/blob/07eb4ebcaf897ff1b1add8280325e81db49ced88' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("zenhob", "laika", "07eb4ebcaf897ff1b1add8280325e81db49ced88", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/zenhob/laika/tree/">Source</a></li>
            <li class=""><a href="http://github.com/zenhob/laika/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/zenhob/laika/network">Network</a></li>            
            <li class=""><a href="http://github.com/zenhob/laika/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/zenhob/laika">Wiki</a></li>
            <li class=""><a href="http://github.com/zenhob/laika/graphs">Graphs</a></li>                    
            <li class="active"><a href="/zenhob/laika">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/zenhob">zenhob</a> / <b><a href="http://github.com/zenhob/laika/tree">laika</a></b>        
                <a id="namespaces_button" rel="zenhob/laika/blob/07eb4ebcaf897ff1b1add8280325e81db49ced88" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="zenhob/laika/blob/07eb4ebcaf897ff1b1add8280325e81db49ced88" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class TestType">
  <h1>Class: TestType</h1>
  <div class="section docstring">
  <h2>Test type definitions</h2>
<p>
For each test type, optional callbacks can be specified. Even if no
callbacks are needed, the test name must be registered and it must have a
corresponding database record in the kinds table.
</p>
<p>
The setup callback is the first step for gathering test data, and is
intended to be used to set up a form that registers the test. The setup
callback accepts a single argument: the patient selected by the user for
the test. The return value doesn&#8217;t matter.
</p>
<p>
All other callbacks MUST accept a vendor_test_plan, which should be
returned by the assign callback. The return value doesn&#8217;t matter.
</p>
<p>
All callbacks are currently executed in controller context, so calls like
redirect_to and params work as you&#8217;d expect.
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">callback</td>
          <td class="readwrite">
            [<span id='callback-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>callback</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">execution_paths</td>
          <td class="readwrite">
            [<span id='execution_paths-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>execution_paths</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">name</td>
          <td class="readwrite">
            [<span id='name-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>name</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(name, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/test_type.rb', line 25</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/zenhob/laika/blob/07eb4ebcaf897ff1b1add8280325e81db49ced88/lib/test_type.rb#L25">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">25
26
27
28
29
30</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='@name ivar id'>@name</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span>
  <span class='@callback ivar id'>@callback</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='@execution_paths ivar id'>@execution_paths</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='Registration constant id'>Registration</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div><div class="section methodmissing">
  <h2>Dynamic Method Handling</h2>

  <p class="note">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
  </p>

  <div id="method_missing-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>method_missing</span><span class='args'>(method_name, *args)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Implement accessors for individual callbacks, e.g. assign_cb, setup_cb.
</p>
<p>
Users should not use these callback directly. Instead use <tt>perform</tt>,
<tt>assign</tt> or <tt>setup</tt>.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/test_type.rb', line 40</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/zenhob/laika/blob/07eb4ebcaf897ff1b1add8280325e81db49ced88/lib/test_type.rb#L40">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">40
41
42
43
44
45
46</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='method_missing identifier id'>method_missing</span><span class='lparen token'>(</span><span class='method_name identifier id'>method_name</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='method_name identifier id'>method_name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='match identifier id'>match</span><span class='lparen token'>(</span><span class='regexp val'>/^(\w+)_cb$/</span><span class='rparen token'>)</span>
    <span class='callback identifier id'>callback</span><span class='lbrack token'>[</span><span class='$1 nth_ref id'>$1</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span>
  <span class='else else kw'>else</span>
    <span class='super super kw'>super</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#all-class_method">all</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Get all of the registered test types.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get-class_method">get</span><span class='args'>(type_name)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Get a registered test type given a name.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#global-class_method">global</span><span class='args'>(&amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Define global callbacks by passing a block.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#names-class_method">names</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Get the names of all of the registered test types.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#register-class_method">register</span><span class='args'>(name, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Register a new type type by passing a name and a Registration block.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#shared-class_method">shared</span><span class='args'>(name, &amp;block)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Define shared operations by passing a block.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#assign-instance_method">#assign</span><span class='args'>(opt)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Assign a test, returning a newly created vendor test plan.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#kind-instance_method">#kind</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Return the Kind instance that corresponds to the current test type.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#perform-instance_method">#perform</span><span class='args'>(operation, test_data, opt = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
The perform method can be used to execute callbacks.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#setup-instance_method">#setup</span><span class='args'>(patient, opt = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Execute the setup callback.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_param-instance_method">#to_param</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#with_context-instance_method">#with_context</span><span class='args'>(context)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Return a test type wrapper that automatically uses the included context for
non-global (e.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>all</h3>
</div><div id="all-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>all</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Get all of the registered test types.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/test_type.rb', line 49</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/zenhob/laika/blob/07eb4ebcaf897ff1b1add8280325e81db49ced88/lib/test_type.rb#L49">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">49
50
51</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='all identifier id'>all</span>
  <span class='test_types identifier id'>test_types</span><span class='dot token'>.</span><span class='values identifier id'>values</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get</h3>
</div><div id="get-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get</span><span class='args'>(type_name)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Get a registered test type given a name. If there is no such test
registered, returns nil.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/test_type.rb', line 85</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/zenhob/laika/blob/07eb4ebcaf897ff1b1add8280325e81db49ced88/lib/test_type.rb#L85">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">85
86
87</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='type_name identifier id'>type_name</span><span class='rparen token'>)</span>
  <span class='test_types identifier id'>test_types</span><span class='lbrack token'>[</span> <span class='normalize_name identifier id'>normalize_name</span><span class='lparen token'>(</span><span class='type_name identifier id'>type_name</span><span class='rparen token'>)</span> <span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>global</h3>
</div><div id="global-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>global</span><span class='args'>(&amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Define global callbacks by passing a block.
</p>
<p>
Without a block, returns the currently defined global callback
registration.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/test_type.rb', line 62</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/zenhob/laika/blob/07eb4ebcaf897ff1b1add8280325e81db49ced88/lib/test_type.rb#L62">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">62
63
64
65
66
67
68</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='global identifier id'>global</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='@global_callbacks ivar id'>@global_callbacks</span> <span class='assign token'>=</span> <span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'_global_'</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='@global_callbacks ivar id'>@global_callbacks</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>names</h3>
</div><div id="names-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>names</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Get the names of all of the registered test types.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/test_type.rb', line 54</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/zenhob/laika/blob/07eb4ebcaf897ff1b1add8280325e81db49ced88/lib/test_type.rb#L54">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">54
55
56</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='names identifier id'>names</span>
  <span class='test_types identifier id'>test_types</span><span class='dot token'>.</span><span class='values identifier id'>values</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='symbol val'>:name</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>register</h3>
</div><div id="register-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>register</span><span class='args'>(name, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Register a new type type by passing a name and a Registration block.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/test_type.rb', line 90</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/zenhob/laika/blob/07eb4ebcaf897ff1b1add8280325e81db49ced88/lib/test_type.rb#L90">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">90
91
92</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='register identifier id'>register</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='test_types identifier id'>test_types</span><span class='lbrack token'>[</span> <span class='normalize_name identifier id'>normalize_name</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>shared</h3>
</div><div id="shared-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>shared</span><span class='args'>(name, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Define shared operations by passing a block.
</p>
<p>
You can define execution steps and operations in a shared block and include
them in any test type using +
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/test_type.rb', line 74</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/zenhob/laika/blob/07eb4ebcaf897ff1b1add8280325e81db49ced88/lib/test_type.rb#L74">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">74
75
76
77
78
79
80
81</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='shared identifier id'>shared</span> <span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span>
  <span class='@shared_operations ivar id'>@shared_operations</span> <span class='opasgn op'>||=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='@shared_operations ivar id'>@shared_operations</span><span class='lbrack token'>[</span> <span class='normalize_name identifier id'>normalize_name</span> <span class='name identifier id'>name</span> <span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='block identifier id'>block</span>
  <span class='else else kw'>else</span>
    <span class='@shared_operations ivar id'>@shared_operations</span><span class='lbrack token'>[</span> <span class='normalize_name identifier id'>normalize_name</span> <span class='name identifier id'>name</span> <span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>assign</h3>
</div><div id="assign-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>assign</span><span class='args'>(opt)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Assign a test, returning a newly created vendor test plan.
</p>
<p>
You must pass an options hash, which will be passed to the global assign
callback. Returns the result of that callback.
</p>
<p>
Specify a non-global callback context with the option :cb_context. This
option will not be passed to the global callback.
</p>
<p>
NOTE Rather than pass the context explicitly, you should use with_context
to create a wrapper that automatically passes the context to every
callback.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/test_type.rb', line 128</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/zenhob/laika/blob/07eb4ebcaf897ff1b1add8280325e81db49ced88/lib/test_type.rb#L128">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='assign identifier id'>assign</span><span class='lparen token'>(</span><span class='opt identifier id'>opt</span><span class='rparen token'>)</span>

  <span class='context identifier id'>context</span> <span class='assign token'>=</span> <span class='opt identifier id'>opt</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='symbol val'>:cb_context</span><span class='rparen token'>)</span>
  <span class='vendor_test_plan identifier id'>vendor_test_plan</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>

  <span class='begin begin kw'>begin</span>
    <span class='Patient constant id'>Patient</span><span class='dot token'>.</span><span class='transaction identifier id'>transaction</span> <span class='do do kw'>do</span>
      <span class='comment val'># XXX currently still requires identically-named kinds in the database</span>
      <span class='kind identifier id'>kind</span> <span class='assign token'>=</span> <span class='Kind constant id'>Kind</span><span class='dot token'>.</span><span class='find_by_display_name identifier id'>find_by_display_name</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span> <span class='orop op'>||</span> <span class='raise identifier id'>raise</span><span class='lparen token'>(</span><span class='dstring node'>&quot;No kind named #{name}&quot;</span><span class='rparen token'>)</span>

      <span class='raise identifier id'>raise</span> <span class='AssignFailure constant id'>AssignFailure</span><span class='comma token'>,</span> <span class='string val'>&quot;no global assign callback&quot;</span> <span class='if if_mod kw'>if</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='global identifier id'>global</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>

      <span class='vendor_test_plan identifier id'>vendor_test_plan</span> <span class='assign token'>=</span> <span class='instance_exec identifier id'>instance_exec</span><span class='lparen token'>(</span><span class='opt identifier id'>opt</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='global identifier id'>global</span><span class='dot token'>.</span><span class='assign_cb identifier id'>assign_cb</span><span class='rparen token'>)</span>

      <span class='raise identifier id'>raise</span> <span class='AssignFailure constant id'>AssignFailure</span><span class='comma token'>,</span> <span class='string val'>&quot;global assign returned nil&quot;</span> <span class='if if_mod kw'>if</span> <span class='vendor_test_plan identifier id'>vendor_test_plan</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>

      <span class='if if kw'>if</span> <span class='assign_cb identifier id'>assign_cb</span>
        <span class='if if kw'>if</span> <span class='context identifier id'>context</span>
          <span class='begin begin kw'>begin</span>
            <span class='context identifier id'>context</span><span class='dot token'>.</span><span class='instance_exec identifier id'>instance_exec</span><span class='lparen token'>(</span><span class='vendor_test_plan identifier id'>vendor_test_plan</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='assign_cb identifier id'>assign_cb</span><span class='rparen token'>)</span>
          <span class='rescue rescue kw'>rescue</span> <span class='ActionController constant id'>ActionController</span><span class='colon2 op'>::</span><span class='DoubleRenderError constant id'>DoubleRenderError</span>
            <span class='comment val'># The controller needs to catch this error in case the second render</span>
            <span class='comment val'># happens outside the callback, but this means a double render during</span>
            <span class='comment val'># the callback would be ignored. Raise an AssignFailure instead.</span>
            <span class='comment val'>#</span>
            <span class='comment val'># We're assuming that the passed context is the controller here.</span>
            <span class='raise identifier id'>raise</span> <span class='AssignFailure constant id'>AssignFailure</span><span class='comma token'>,</span> <span class='string val'>&quot;Test assignment failed: double render in callback&quot;</span>
          <span class='end end kw'>end</span>
        <span class='else else kw'>else</span>
          <span class='assign_cb identifier id'>assign_cb</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='vendor_test_plan identifier id'>vendor_test_plan</span><span class='rparen token'>)</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='rescue rescue kw'>rescue</span> <span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='RecordInvalid constant id'>RecordInvalid</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='e identifier id'>e</span>
    <span class='comment val'># FIXME should be using record.class.human_name but</span>
    <span class='comment val'># https://rails.lighthouseapp.com/projects/8994/tickets/2120</span>
    <span class='raise identifier id'>raise</span> <span class='AssignFailure constant id'>AssignFailure</span><span class='comma token'>,</span> <span class='dstring node'>%{
      Failed to create #{e.record.class.name.underscore.humanize}:
      #{e.record.errors.full_messages.join(&quot;\n&quot;)}
    }</span>
  <span class='rescue rescue kw'>rescue</span> <span class='RuntimeError constant id'>RuntimeError</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='e identifier id'>e</span>
    <span class='raise identifier id'>raise</span> <span class='AssignFailure constant id'>AssignFailure</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Test assignment failed: #{e}&quot;</span>
  <span class='end end kw'>end</span>

  <span class='vendor_test_plan identifier id'>vendor_test_plan</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>kind</h3>
</div><div id="kind-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>kind</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Return the Kind instance that corresponds to the current test type. This
accessor is available in global callbacks.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/test_type.rb', line 96</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/zenhob/laika/blob/07eb4ebcaf897ff1b1add8280325e81db49ced88/lib/test_type.rb#L96">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">96
97
98</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='kind identifier id'>kind</span>
  <span class='@kind ivar id'>@kind</span> <span class='opasgn op'>||=</span> <span class='Kind constant id'>Kind</span><span class='dot token'>.</span><span class='find_by_display_name identifier id'>find_by_display_name</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>perform</h3>
</div><div id="perform-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>perform</span><span class='args'>(operation, test_data, opt = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
The perform method can be used to execute callbacks.
</p>
<p>
Specify a callback context with the option :cb_context.
</p>
<p>
NOTE Rather than pass the context explicitly, you should use with_context
to create a wrapper that automatically passes the context to every
callback.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/test_type.rb', line 182</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/zenhob/laika/blob/07eb4ebcaf897ff1b1add8280325e81db49ced88/lib/test_type.rb#L182">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">182
183
184
185
186
187
188
189
190
191
192
193
194
195</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='perform identifier id'>perform</span><span class='lparen token'>(</span><span class='operation identifier id'>operation</span><span class='comma token'>,</span> <span class='test_data identifier id'>test_data</span><span class='comma token'>,</span> <span class='opt identifier id'>opt</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='context identifier id'>context</span> <span class='assign token'>=</span> <span class='opt identifier id'>opt</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='symbol val'>:cb_context</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='callback identifier id'>callback</span><span class='lbrack token'>[</span><span class='operation identifier id'>operation</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span> <span class='andop op'>&amp;&amp;</span> <span class='notop op'>!</span><span class='opt identifier id'>opt</span><span class='lbrack token'>[</span><span class='symbol val'>:dry_run</span><span class='rbrack token'>]</span>
    <span class='if if kw'>if</span> <span class='context identifier id'>context</span>
      <span class='begin begin kw'>begin</span>
        <span class='context identifier id'>context</span><span class='dot token'>.</span><span class='instance_exec identifier id'>instance_exec</span><span class='lparen token'>(</span><span class='test_data identifier id'>test_data</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='callback identifier id'>callback</span><span class='lbrack token'>[</span><span class='operation identifier id'>operation</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
      <span class='rescue rescue kw'>rescue</span> <span class='ActionController constant id'>ActionController</span><span class='colon2 op'>::</span><span class='DoubleRenderError constant id'>DoubleRenderError</span>
        <span class='raise identifier id'>raise</span> <span class='AssignFailure constant id'>AssignFailure</span><span class='comma token'>,</span> <span class='string val'>&quot;Test assignment failed: double render in callback&quot;</span>
      <span class='end end kw'>end</span>
    <span class='else else kw'>else</span>
      <span class='callback identifier id'>callback</span><span class='lbrack token'>[</span><span class='operation identifier id'>operation</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='test_data identifier id'>test_data</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>setup</h3>
</div><div id="setup-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>setup</span><span class='args'>(patient, opt = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Execute the setup callback. Accepts the patient selected by the user for
the test. This is just a wrapper around <tt>perform</tt>.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/test_type.rb', line 113</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/zenhob/laika/blob/07eb4ebcaf897ff1b1add8280325e81db49ced88/lib/test_type.rb#L113">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">113
114
115</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='setup identifier id'>setup</span> <span class='patient identifier id'>patient</span><span class='comma token'>,</span> <span class='opt identifier id'>opt</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='perform identifier id'>perform</span> <span class='symbol val'>:setup</span><span class='comma token'>,</span> <span class='patient identifier id'>patient</span><span class='comma token'>,</span> <span class='opt identifier id'>opt</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>to_param</h3>
</div><div id="to_param-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_param</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/test_type.rb', line 32</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/zenhob/laika/blob/07eb4ebcaf897ff1b1add8280325e81db49ced88/lib/test_type.rb#L32">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">32
33
34</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_param identifier id'>to_param</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='normalize_name identifier id'>normalize_name</span><span class='lparen token'>(</span><span class='@name ivar id'>@name</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='string val'>'-'</span><span class='comma token'>,</span><span class='string val'>'_'</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>with_context</h3>
</div><div id="with_context-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>with_context</span><span class='args'>(context)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Return a test type wrapper that automatically uses the included context for
non-global (e.g., test type-specific) callbacks. Use it like this:
</p>
<pre class="code">
 <span class='test_type identifier id'>test_type</span><span class='dot token'>.</span><span class='with_context identifier id'>with_context</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='setup identifier id'>setup</span><span class='lparen token'>(</span><span class='vendor_test_plan identifier id'>vendor_test_plan</span><span class='rparen token'>)</span>
</pre>
<p>
This is the preferred way to pass the callback context.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/test_type.rb', line 107</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/zenhob/laika/blob/07eb4ebcaf897ff1b1add8280325e81db49ced88/lib/test_type.rb#L107">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">107
108
109</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='with_context identifier id'>with_context</span><span class='lparen token'>(</span><span class='context identifier id'>context</span><span class='rparen token'>)</span>
  <span class='ActiveSupport constant id'>ActiveSupport</span><span class='colon2 op'>::</span><span class='OptionMerger constant id'>OptionMerger</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='symbol val'>:cb_context</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='context identifier id'>context</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>