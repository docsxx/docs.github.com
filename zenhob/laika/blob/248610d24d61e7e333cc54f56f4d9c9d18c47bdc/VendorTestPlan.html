<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>zenhob's laika - Class: VendorTestPlan - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/zenhob/commits/laika/master" rel="alternate" title="Recent Commits to laika:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("zenhob", "laika", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='zenhob/laika/blob/248610d24d61e7e333cc54f56f4d9c9d18c47bdc' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='zenhob/laika/blob/248610d24d61e7e333cc54f56f4d9c9d18c47bdc' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("zenhob", "laika", "248610d24d61e7e333cc54f56f4d9c9d18c47bdc", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/zenhob/laika/tree/">Source</a></li>
            <li class=""><a href="http://github.com/zenhob/laika/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/zenhob/laika/network">Network</a></li>            
            <li class=""><a href="http://github.com/zenhob/laika/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/zenhob/laika">Wiki</a></li>
            <li class=""><a href="http://github.com/zenhob/laika/graphs">Graphs</a></li>                    
            <li class="active"><a href="/zenhob/laika">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/zenhob">zenhob</a> / <b><a href="http://github.com/zenhob/laika/tree">laika</a></b>        
                <a id="namespaces_button" rel="zenhob/laika/blob/248610d24d61e7e333cc54f56f4d9c9d18c47bdc" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="zenhob/laika/blob/248610d24d61e7e333cc54f56f4d9c9d18c47bdc" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class VendorTestPlan">
  <h1>Class: VendorTestPlan</h1>
  <div class="section inheritance">
  <ul>
  <li>ActiveRecord::Base</li><ul><li>VendorTestPlan</li>
  </ul></ul>
</div><div class="section constants">
  
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#export_csv-class_method">export_csv</span><span class='args'>(user)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Build and return a CSV document with the contents of the given user&#8217;s
test plan.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#count_errors_and_warnings-instance_method">#count_errors_and_warnings</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Count the error and warnings respectively, and return the results in a
two-element array.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt>Array&lt;Number></tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#metadata-3D-instance_method">#metadata=</span><span class='args'>(raw_metadata)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Accepts metadata as a string or hash.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#test_type-instance_method">#test_type</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Accessor for the associated <tt><a href="TestType.html" title="TestType">TestType</a></tt> instance.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#validate_clinical_document_content-instance_method">#validate_clinical_document_content</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#validate_xds_provide_and_register-instance_method">#validate_xds_provide_and_register</span><span class='args'>(metadata_of_interest)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Validate against the provided XDS metadata.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>export_csv</h3>
</div><div id="export_csv-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>export_csv</span><span class='args'>(user)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Build and return a CSV document with the contents of the given user&#8217;s
test plan.
</p>
<p>
FIXME this (still) needs to be rewritten
</p>
<p>
XXX also, does anyone use this? the output isn&#8217;t even really CSV
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'app/models/vendor_test_plan.rb', line 90</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/zenhob/laika/blob/248610d24d61e7e333cc54f56f4d9c9d18c47bdc/app/models/vendor_test_plan.rb#L90">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='export_csv identifier id'>export_csv</span><span class='lparen token'>(</span><span class='user identifier id'>user</span><span class='rparen token'>)</span>
  <span class='vendor_test_plans identifier id'>vendor_test_plans</span> <span class='assign token'>=</span> <span class='user identifier id'>user</span><span class='dot token'>.</span><span class='vendor_test_plans identifier id'>vendor_test_plans</span>
  <span class='vendors identifier id'>vendors</span> <span class='assign token'>=</span> <span class='Vendor constant id'>Vendor</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='symbol val'>:all</span><span class='rparen token'>)</span>

  <span class='report identifier id'>report</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{user.first_name} #{user.last_name}'s Inspections:\n&quot;</span>

  <span class='vendors identifier id'>vendors</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='vendor identifier id'>vendor</span><span class='bitor op'>|</span>
    <span class='seen_vendor identifier id'>seen_vendor</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
    <span class='vendor_test_plans identifier id'>vendor_test_plans</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='vendor_test_plan identifier id'>vendor_test_plan</span><span class='bitor op'>|</span>
      <span class='if if kw'>if</span> <span class='vendor_test_plan identifier id'>vendor_test_plan</span><span class='dot token'>.</span><span class='vendor_id identifier id'>vendor_id</span> <span class='eq op'>==</span> <span class='vendor identifier id'>vendor</span><span class='dot token'>.</span><span class='id identifier id'>id</span>
        <span class='if if kw'>if</span> <span class='not not kw'>not</span> <span class='seen_vendor identifier id'>seen_vendor</span>
          <span class='report identifier id'>report</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;Vendor ID:,&quot;</span>
          <span class='report identifier id'>report</span> <span class='lshft op'>&lt;&lt;</span> <span class='vendor identifier id'>vendor</span><span class='dot token'>.</span><span class='public_id identifier id'>public_id</span> <span class='plus op'>+</span> <span class='string val'>&quot;\n\n&quot;</span> 
          <span class='seen_vendor identifier id'>seen_vendor</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
        <span class='end end kw'>end</span> 
        <span class='report identifier id'>report</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;Patient Name:,&quot;</span>
        <span class='report identifier id'>report</span> <span class='lshft op'>&lt;&lt;</span> <span class='vendor_test_plan identifier id'>vendor_test_plan</span><span class='dot token'>.</span><span class='patient identifier id'>patient</span><span class='dot token'>.</span><span class='name identifier id'>name</span> <span class='plus op'>+</span> <span class='string val'>&quot;\n&quot;</span>  
        <span class='report identifier id'>report</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;Inspection Type:,&quot;</span>
        <span class='report identifier id'>report</span> <span class='lshft op'>&lt;&lt;</span> <span class='vendor_test_plan identifier id'>vendor_test_plan</span><span class='dot token'>.</span><span class='kind identifier id'>kind</span><span class='dot token'>.</span><span class='name identifier id'>name</span> <span class='plus op'>+</span> <span class='string val'>&quot;\n&quot;</span>
        <span class='report identifier id'>report</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;Result:,&quot;</span>
        <span class='error_count identifier id'>error_count</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
        <span class='if if kw'>if</span> <span class='vendor_test_plan identifier id'>vendor_test_plan</span><span class='dot token'>.</span><span class='clinical_document identifier id'>clinical_document</span>
          <span class='error_count identifier id'>error_count</span> <span class='assign token'>=</span> <span class='vendor_test_plan identifier id'>vendor_test_plan</span><span class='dot token'>.</span><span class='content_errors identifier id'>content_errors</span><span class='dot token'>.</span><span class='length identifier id'>length</span>                     
          <span class='if if kw'>if</span> <span class='error_count identifier id'>error_count</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>
            <span class='report identifier id'>report</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;failure\n&quot;</span>
            <span class='report identifier id'>report</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;Number of errors:, &quot;</span>
            <span class='report identifier id'>report</span> <span class='lshft op'>&lt;&lt;</span> <span class='error_count identifier id'>error_count</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
            <span class='report identifier id'>report</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;\n&quot;</span>
          <span class='else else kw'>else</span>
            <span class='report identifier id'>report</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;success\n&quot;</span>
            <span class='report identifier id'>report</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;Number of errors:, --\n&quot;</span>
          <span class='end end kw'>end</span>
        <span class='else else kw'>else</span>
          <span class='report identifier id'>report</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;in progress\n&quot;</span>
          <span class='report identifier id'>report</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;Number of errors:, --\n&quot;</span>            
        <span class='end end kw'>end</span>
        <span class='report identifier id'>report</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;Last Modified:,&quot;</span>
        <span class='report identifier id'>report</span> <span class='lshft op'>&lt;&lt;</span> <span class='vendor_test_plan identifier id'>vendor_test_plan</span><span class='dot token'>.</span><span class='updated_at identifier id'>updated_at</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
        <span class='report identifier id'>report</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;\n\n&quot;</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='report identifier id'>report</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div><div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>count_errors_and_warnings</h3>
</div><div id="count_errors_and_warnings-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt>Array&lt;Number></tt></span>
    <span class='name'>count_errors_and_warnings</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Count the error and warnings respectively, and return the results in a
two-element array.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>Array&lt;Number></tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
error and warning counts
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'app/models/vendor_test_plan.rb', line 54</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/zenhob/laika/blob/248610d24d61e7e333cc54f56f4d9c9d18c47bdc/app/models/vendor_test_plan.rb#L54">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">54
55
56
57
58
59</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='count_errors_and_warnings identifier id'>count_errors_and_warnings</span>
  <span class='errors identifier id'>errors</span> <span class='assign token'>=</span> <span class='content_errors identifier id'>content_errors</span><span class='dot token'>.</span><span class='count identifier id'>count</span><span class='lparen token'>(</span><span class='symbol val'>:conditions=</span><span class='gt op'>&gt;</span><span class='lbrack token'>[</span><span class='string val'>&quot;msg_type = 'error' &quot;</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='warnings identifier id'>warnings</span> <span class='assign token'>=</span> <span class='content_errors identifier id'>content_errors</span><span class='dot token'>.</span><span class='count identifier id'>count</span><span class='lparen token'>(</span><span class='symbol val'>:conditions=</span><span class='gt op'>&gt;</span><span class='lbrack token'>[</span><span class='string val'>&quot;msg_type = 'warning' &quot;</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
 
  <span class='return return kw'>return</span> <span class='errors identifier id'>errors</span><span class='comma token'>,</span> <span class='warnings identifier id'>warnings</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>metadata=</h3>
</div><div id="metadata-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>metadata=</span><span class='args'>(raw_metadata)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Accepts metadata as a string or hash.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'app/models/vendor_test_plan.rb', line 20</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/zenhob/laika/blob/248610d24d61e7e333cc54f56f4d9c9d18c47bdc/app/models/vendor_test_plan.rb#L20">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='metadata= identifier id'>metadata=</span><span class='lparen token'>(</span><span class='raw_metadata identifier id'>raw_metadata</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='raw_metadata identifier id'>raw_metadata</span><span class='dot token'>.</span><span class='instance_of? fid id'>instance_of?</span> <span class='XDS constant id'>XDS</span><span class='colon2 op'>::</span><span class='Metadata constant id'>Metadata</span>
    <span class='super super kw'>super</span>
  <span class='elsif elsif kw'>elsif</span> <span class='raw_metadata identifier id'>raw_metadata</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span><span class='lparen token'>(</span><span class='String constant id'>String</span><span class='rparen token'>)</span>
    <span class='super super kw'>super</span> <span class='YAML constant id'>YAML</span><span class='dot token'>.</span><span class='load identifier id'>load</span><span class='lparen token'>(</span><span class='raw_metadata identifier id'>raw_metadata</span><span class='rparen token'>)</span>         
  <span class='else else kw'>else</span>
    <span class='raw_metadata identifier id'>raw_metadata</span><span class='lbrack token'>[</span><span class='symbol val'>:source_patient_info</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='patient identifier id'>patient</span><span class='dot token'>.</span><span class='source_patient_info identifier id'>source_patient_info</span>
    <span class='md identifier id'>md</span> <span class='assign token'>=</span> <span class='XDS constant id'>XDS</span><span class='colon2 op'>::</span><span class='Metadata constant id'>Metadata</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
    <span class='md identifier id'>md</span><span class='dot token'>.</span><span class='from_hash identifier id'>from_hash</span><span class='lparen token'>(</span><span class='raw_metadata identifier id'>raw_metadata</span><span class='comma token'>,</span> <span class='AFFINITY_DOMAIN_CONFIG constant id'>AFFINITY_DOMAIN_CONFIG</span><span class='rparen token'>)</span>
    <span class='md identifier id'>md</span><span class='dot token'>.</span><span class='repository_unique_id identifier id'>repository_unique_id</span> <span class='assign token'>=</span> <span class='Setting constant id'>Setting</span><span class='dot token'>.</span><span class='xds_repository_unique_id identifier id'>xds_repository_unique_id</span>
    <span class='md identifier id'>md</span><span class='dot token'>.</span><span class='patient_id identifier id'>patient_id</span> <span class='assign token'>=</span> <span class='patient identifier id'>patient</span><span class='dot token'>.</span><span class='patient_identifier identifier id'>patient_identifier</span>
    <span class='super super kw'>super</span> <span class='md identifier id'>md</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>test_type</h3>
</div><div id="test_type-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>test_type</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Accessor for the associated <tt><a href="TestType.html" title="TestType">TestType</a></tt> instance.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'app/models/vendor_test_plan.rb', line 15</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/zenhob/laika/blob/248610d24d61e7e333cc54f56f4d9c9d18c47bdc/app/models/vendor_test_plan.rb#L15">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">15
16
17</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='test_type identifier id'>test_type</span>
  <span class='kind identifier id'>kind</span><span class='dot token'>.</span><span class='as_test_type identifier id'>as_test_type</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>validate_clinical_document_content</h3>
</div><div id="validate_clinical_document_content-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>validate_clinical_document_content</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'app/models/vendor_test_plan.rb', line 35</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/zenhob/laika/blob/248610d24d61e7e333cc54f56f4d9c9d18c47bdc/app/models/vendor_test_plan.rb#L35">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">35
36
37
38
39
40
41
42
43
44
45
46
47</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='validate_clinical_document_content identifier id'>validate_clinical_document_content</span>
  <span class='document identifier id'>document</span> <span class='assign token'>=</span> <span class='clinical_document identifier id'>clinical_document</span><span class='dot token'>.</span><span class='as_xml_document identifier id'>as_xml_document</span>
  <span class='validator identifier id'>validator</span> <span class='assign token'>=</span> <span class='Validation constant id'>Validation</span><span class='dot token'>.</span><span class='get_validator identifier id'>get_validator</span><span class='lparen token'>(</span><span class='clinical_document identifier id'>clinical_document</span><span class='dot token'>.</span><span class='doc_type identifier id'>doc_type</span><span class='rparen token'>)</span>

  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='validator identifier id'>validator</span><span class='dot token'>.</span><span class='inspect identifier id'>inspect</span><span class='rparen token'>)</span>
  <span class='errors identifier id'>errors</span> <span class='assign token'>=</span> <span class='validator identifier id'>validator</span><span class='dot token'>.</span><span class='validate identifier id'>validate</span><span class='lparen token'>(</span><span class='patient identifier id'>patient</span><span class='comma token'>,</span> <span class='document identifier id'>document</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='errors identifier id'>errors</span><span class='dot token'>.</span><span class='inspect identifier id'>inspect</span><span class='rparen token'>)</span>
  <span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;PD #{patient}  doc #{document}&quot;</span><span class='rparen token'>)</span>

  <span class='content_errors identifier id'>content_errors</span><span class='dot token'>.</span><span class='clear identifier id'>clear</span>
  <span class='content_errors identifier id'>content_errors</span><span class='dot token'>.</span><span class='concat identifier id'>concat</span> <span class='errors identifier id'>errors</span>
  <span class='content_errors identifier id'>content_errors</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>validate_xds_provide_and_register</h3>
</div><div id="validate_xds_provide_and_register-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>validate_xds_provide_and_register</span><span class='args'>(metadata_of_interest)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Validate against the provided XDS metadata. Assumes the <tt><a href="Kind.html" title="Kind">Kind</a></tt> of the
recieving plan is &quot;XDS Provide and Register&quot;.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>XDS::Metadata</tt>]</span>
        <span class='name'>metadata_of_interest</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
metadata object for comparison.
</p>
</span>
      </dd>
    
  
  </dl>
</div>
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'app/models/vendor_test_plan.rb', line 65</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/zenhob/laika/blob/248610d24d61e7e333cc54f56f4d9c9d18c47bdc/app/models/vendor_test_plan.rb#L65">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='validate_xds_provide_and_register identifier id'>validate_xds_provide_and_register</span><span class='lparen token'>(</span><span class='metadata_of_interest identifier id'>metadata_of_interest</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='metadata_of_interest identifier id'>metadata_of_interest</span>
    <span class='validator identifier id'>validator</span> <span class='assign token'>=</span> <span class='Validators constant id'>Validators</span><span class='colon2 op'>::</span><span class='XdsMetadataValidator constant id'>XdsMetadataValidator</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
    <span class='validation_errors identifier id'>validation_errors</span> <span class='assign token'>=</span> <span class='validator identifier id'>validator</span><span class='dot token'>.</span><span class='validate identifier id'>validate</span><span class='lparen token'>(</span><span class='metadata identifier id'>metadata</span><span class='comma token'>,</span> <span class='metadata_of_interest identifier id'>metadata_of_interest</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='validation_errors identifier id'>validation_errors</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
      <span class='content_errors identifier id'>content_errors</span><span class='dot token'>.</span><span class='clear identifier id'>clear</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='test_result identifier id'>test_result</span> <span class='assign token'>=</span> <span class='TestResult constant id'>TestResult</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:result</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'PASS'</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='content_errors identifier id'>content_errors</span> <span class='lshft op'>&lt;&lt;</span> <span class='validation_errors identifier id'>validation_errors</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='test_result identifier id'>test_result</span> <span class='assign token'>=</span> <span class='TestResult constant id'>TestResult</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:result</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'FAIL'</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='cdoc identifier id'>cdoc</span> <span class='assign token'>=</span> <span class='ClinicalDocument constant id'>ClinicalDocument</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:uploaded_data=</span><span class='gt op'>&gt;</span><span class='XDSUtils constant id'>XDSUtils</span><span class='dot token'>.</span><span class='retrieve_document identifier id'>retrieve_document</span><span class='lparen token'>(</span><span class='metadata_of_interest identifier id'>metadata_of_interest</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='clinical_document identifier id'>clinical_document</span> <span class='assign token'>=</span> <span class='cdoc identifier id'>cdoc</span>
  <span class='else else kw'>else</span>
    <span class='content_errors identifier id'>content_errors</span> <span class='lshft op'>&lt;&lt;</span> <span class='ContentError constant id'>ContentError</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:error_message</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Unable to find metadata in the XDS Registry&quot;</span><span class='comma token'>,</span>
                                       <span class='symbol val'>:validator</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;XDS Metadata Validator&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:inspection_type</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'XDS Provide and Register'</span><span class='rparen token'>)</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='test_result identifier id'>test_result</span> <span class='assign token'>=</span> <span class='TestResult constant id'>TestResult</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:result</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'FAIL'</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>