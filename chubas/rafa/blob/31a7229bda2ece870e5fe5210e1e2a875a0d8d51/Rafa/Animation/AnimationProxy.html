<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>chubas's rafa - Class: Rafa::Animation::AnimationProxy - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/chubas/commits/rafa/master" rel="alternate" title="Recent Commits to rafa:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("chubas", "rafa", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='chubas/rafa/blob/31a7229bda2ece870e5fe5210e1e2a875a0d8d51' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='chubas/rafa/blob/31a7229bda2ece870e5fe5210e1e2a875a0d8d51' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("chubas", "rafa", "31a7229bda2ece870e5fe5210e1e2a875a0d8d51", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/chubas/rafa/tree/">Source</a></li>
            <li class=""><a href="http://github.com/chubas/rafa/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/chubas/rafa/network">Network</a></li>            
            <li class=""><a href="http://github.com/chubas/rafa/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/chubas/rafa">Wiki</a></li>
            <li class=""><a href="http://github.com/chubas/rafa/graphs">Graphs</a></li>                    
            <li class="active"><a href="/chubas/rafa">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/chubas">chubas</a> / <b><a href="http://github.com/chubas/rafa/tree">rafa</a></b>        
                <a id="namespaces_button" rel="chubas/rafa/blob/31a7229bda2ece870e5fe5210e1e2a875a0d8d51" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="chubas/rafa/blob/31a7229bda2ece870e5fe5210e1e2a875a0d8d51" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Rafa_Animation_AnimationProxy">
  <h1>Class: Rafa::Animation::AnimationProxy</h1>
  <div class="section mixins">
  <h2>Included Modules</h2>
  <p><a title="Rafa::Elements::Attributes" href="../Elements/Attributes.html">Rafa::Elements::Attributes</a></p>
</div><div class="section docstring">
  <p>
Represents a proxy method for calling animations within it in an easy way,
as well as chaining animations.
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">callback</td>
          <td class="readwrite">
            [<span id='callback-instance_method'>R</span><span id='callback=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>callback</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">element</td>
          <td class="readwrite">
            [<span id='element-instance_method'>R</span><span id='element=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>element</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">instruction_chain</td>
          <td class="readwrite">
            [<span id='instruction_chain-instance_method'>R</span><span id='instruction_chain=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>instruction_chain</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">rotation</td>
          <td class="readwrite">
            [<span id='rotation-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>rotation</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">scale</td>
          <td class="readwrite">
            [RW] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>scale</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">seconds</td>
          <td class="readwrite">
            [<span id='seconds-instance_method'>R</span><span id='seconds=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>seconds</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">translation</td>
          <td class="readwrite">
            [<span id='translation-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>translation</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  <div class="included">
  
  <div>
    <h2>Constants Included from <a title="Rafa::Elements::Attributes" href="../Elements/Attributes.html">Rafa::Elements::Attributes</a></h2>
    <p><span class='name'><a title="POSSIBLE_ATTRIBUTES" href="../Elements/Attributes.html#POSSIBLE_ATTRIBUTES-constant">POSSIBLE_ATTRIBUTES</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(element, seconds = 0, attributes = {}, callback = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Holds <tt>element</tt> which is going to be animated in <tt>seconds</tt>
seconds, the attributes to animate and the callback
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/animation/animation.rb', line 17</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/chubas/rafa/blob/31a7229bda2ece870e5fe5210e1e2a875a0d8d51/lib/animation/animation.rb#L17">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">17
18
19
20
21
22
23</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='element identifier id'>element</span><span class='comma token'>,</span> <span class='seconds identifier id'>seconds</span> <span class='assign token'>=</span> <span class='integer val'>0</span><span class='comma token'>,</span> <span class='attributes identifier id'>attributes</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='callback identifier id'>callback</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='@element ivar id'>@element</span> <span class='assign token'>=</span> <span class='element identifier id'>element</span>
  <span class='@seconds ivar id'>@seconds</span> <span class='assign token'>=</span> <span class='seconds identifier id'>seconds</span>
  <span class='@callback ivar id'>@callback</span> <span class='assign token'>=</span> <span class='call_when_finished identifier id'>call_when_finished</span><span class='lparen token'>(</span><span class='callback identifier id'>callback</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='callback identifier id'>callback</span>
  <span class='@chained ivar id'>@chained</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@updatable_attributes ivar id'>@updatable_attributes</span> <span class='assign token'>=</span> <span class='attributes identifier id'>attributes</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div><div class="section methodmissing">
  <h2>Dynamic Method Handling</h2>

  <p class="note">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
  </p>

  <div id="method_missing-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>method_missing</span><span class='args'>(name, *args, &amp;block)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Tries to call the <tt>attr</tt> method. If nil, it will continue with
expected behavior.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/animation/animation.rb', line 112</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/chubas/rafa/blob/31a7229bda2ece870e5fe5210e1e2a875a0d8d51/lib/animation/animation.rb#L112">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">112
113
114
115
116
117
118</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='method_missing identifier id'>method_missing</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='attr identifier id'>attr</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='args identifier id'>args</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='self self kw'>self</span>
  <span class='else else kw'>else</span>
    <span class='super super kw'>super</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#-3C-3C-instance_method">#<<</span><span class='args'>(js)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Injects javascript directly to the canvas element.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#attr-instance_method">#attr</span><span class='args'>(attribute, value)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Unlike <tt>BasicShape::attr</tt> method, it does not directly updates the
attribute, rather puts it in a list and then calls all of them as
parameters for the raphael <tt>animate</tt> method.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#call_when_finished-instance_method">#call_when_finished</span><span class='args'>(js)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Sets a custom callback function.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#callback_function-instance_method">#callback_function</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the callback function for the animation.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#chain-instance_method">#chain</span><span class='args'>(seconds, attributes = {}, callback = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Creates a new animation proxy, and concatenates its results to the callback
function.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#function_str-instance_method">#function_str</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the javascript function string without being called.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#output-instance_method">#output</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the function string *and calls it*.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#rotate-instance_method">#rotate</span><span class='args'>(angle)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Alias for <em>rotation</em> animation attribute.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#scale-instance_method">#scale</span><span class='args'>(x, y)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the value of attribute <tt>scale</tt>..
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#translate-instance_method">#translate</span><span class='args'>(dx, dy)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Alias for <em>translation</em> animation attribute.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>&lt;&lt;</h3>
</div><div id="-3C-3C-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'><<</span><span class='args'>(js)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Injects javascript directly to the canvas element
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/animation/animation.rb', line 26</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/chubas/rafa/blob/31a7229bda2ece870e5fe5210e1e2a875a0d8d51/lib/animation/animation.rb#L26">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">26
27
28</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='lshft op'>&lt;&lt;</span> <span class='lparen token'>(</span><span class='js identifier id'>js</span><span class='rparen token'>)</span>
  <span class='@element ivar id'>@element</span><span class='dot token'>.</span><span class='canvas identifier id'>canvas</span> <span class='lshft op'>&lt;&lt;</span> <span class='js identifier id'>js</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>attr</h3>
</div><div id="attr-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>attr</span><span class='args'>(attribute, value)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Unlike <tt>BasicShape::attr</tt> method, it does not directly updates the
attribute, rather puts it in a list and then calls all of them as
parameters for the raphael <tt>animate</tt> method.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/animation/animation.rb', line 86</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/chubas/rafa/blob/31a7229bda2ece870e5fe5210e1e2a875a0d8d51/lib/animation/animation.rb#L86">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">86
87
88
89
90
91
92
93
94</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='attr identifier id'>attr</span><span class='lparen token'>(</span><span class='attribute identifier id'>attribute</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='attribute identifier id'>attribute</span> <span class='assign token'>=</span> <span class='attribute identifier id'>attribute</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/[^a-zA-Z0-9_\-]/</span><span class='comma token'>,</span> <span class='string val'>''</span><span class='rparen token'>)</span>
  <span class='unless unless kw'>unless</span> <span class='POSSIBLE_ATTRIBUTES constant id'>POSSIBLE_ATTRIBUTES</span><span class='dot token'>.</span><span class='include? fid id'>include?</span> <span class='attribute identifier id'>attribute</span>
    <span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;Warning! Attribute #{attribute} not recognized&quot;</span>
    <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span>
  <span class='end end kw'>end</span>
  <span class='@updatable_attributes ivar id'>@updatable_attributes</span><span class='lbrack token'>[</span><span class='attribute identifier id'>attribute</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span>
  <span class='return return kw'>return</span> <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>call_when_finished</h3>
</div><div id="call_when_finished-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>call_when_finished</span><span class='args'>(js)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Sets a custom callback function
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/animation/animation.rb', line 67</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/chubas/rafa/blob/31a7229bda2ece870e5fe5210e1e2a875a0d8d51/lib/animation/animation.rb#L67">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">67
68
69</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='call_when_finished identifier id'>call_when_finished</span><span class='lparen token'>(</span><span class='js identifier id'>js</span><span class='rparen token'>)</span>
  <span class='@callback ivar id'>@callback</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;(function() { #{js} })&quot;</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>callback_function</h3>
</div><div id="callback_function-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>callback_function</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the callback function for the animation. If there is a chained
animation, return its <tt>:function_str</tt>, if there is a defined callback,
returns it, or if there are both, returns them wrapped in another anonymous
function.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/animation/animation.rb', line 53</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/chubas/rafa/blob/31a7229bda2ece870e5fe5210e1e2a875a0d8d51/lib/animation/animation.rb#L53">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">53
54
55
56
57
58
59
60
61
62
63
64</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='callback_function identifier id'>callback_function</span>
  <span class='if if kw'>if</span> <span class='@chained ivar id'>@chained</span> <span class='and and kw'>and</span> <span class='@callback ivar id'>@callback</span>
    <span class='string val'>&quot;(function(){&quot;</span> <span class='plus op'>+</span>
      <span class='dstring node'>&quot;#{@chained.function_str}();&quot;</span> <span class='plus op'>+</span> 
      <span class='dstring node'>&quot;#{@callback}();&quot;</span> <span class='plus op'>+</span>
    <span class='string val'>&quot;})&quot;</span>
  <span class='elsif elsif kw'>elsif</span> <span class='@chained ivar id'>@chained</span>
    <span class='@chained ivar id'>@chained</span><span class='dot token'>.</span><span class='function_str identifier id'>function_str</span>
  <span class='else else kw'>else</span>
    <span class='@callback ivar id'>@callback</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>chain</h3>
</div><div id="chain-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>chain</span><span class='args'>(seconds, attributes = {}, callback = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Creates a new animation proxy, and concatenates its results to the callback
function. That is, after finishing the current animation, a new one is
started. It yields the new animation, just as the current one may be
yielded by the <tt>animate</tt> method. &#8212; Previously named
<tt>after</tt>
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/animation/animation.rb', line 76</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/chubas/rafa/blob/31a7229bda2ece870e5fe5210e1e2a875a0d8d51/lib/animation/animation.rb#L76">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">76
77
78
79
80
81</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='chain identifier id'>chain</span><span class='lparen token'>(</span><span class='seconds identifier id'>seconds</span><span class='comma token'>,</span> <span class='attributes identifier id'>attributes</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='callback identifier id'>callback</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='new_proxy identifier id'>new_proxy</span> <span class='assign token'>=</span> <span class='AnimationProxy constant id'>AnimationProxy</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@element ivar id'>@element</span><span class='comma token'>,</span> <span class='seconds identifier id'>seconds</span><span class='comma token'>,</span> <span class='attributes identifier id'>attributes</span><span class='comma token'>,</span> <span class='callback identifier id'>callback</span><span class='rparen token'>)</span>
  <span class='yield yield kw'>yield</span> <span class='new_proxy identifier id'>new_proxy</span>
  <span class='@chained ivar id'>@chained</span> <span class='assign token'>=</span> <span class='new_proxy identifier id'>new_proxy</span>
  <span class='return return kw'>return</span> <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>function_str</h3>
</div><div id="function_str-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>function_str</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the javascript function string without being called. Wraps it as an
anonymous function object, and return it. It is used internally, but may be
used externally as well for posterior callback.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/animation/animation.rb', line 38</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/chubas/rafa/blob/31a7229bda2ece870e5fe5210e1e2a875a0d8d51/lib/animation/animation.rb#L38">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">38
39
40
41
42
43
44
45
46
47</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='function_str identifier id'>function_str</span>
  <span class='cb identifier id'>cb</span> <span class='assign token'>=</span> <span class='callback_function identifier id'>callback_function</span>
  <span class='string val'>&quot;(function() { &quot;</span> <span class='plus op'>+</span>
    <span class='dstring node'>&quot;#{@element.name}.animate(&quot;</span> <span class='plus op'>+</span>
      <span class='dstring node'>&quot;#{@updatable_attributes.to_json}, &quot;</span> <span class='plus op'>+</span>
      <span class='dstring node'>&quot;#{seconds * 1000} &quot;</span> <span class='plus op'>+</span>
      <span class='lparen token'>(</span><span class='cb identifier id'>cb</span> <span class='integer val'>? </span><span class='string val'>', '</span> <span class='plus op'>+</span> <span class='cb identifier id'>cb</span> <span class='colon op'>:</span> <span class='string val'>''</span><span class='rparen token'>)</span> <span class='plus op'>+</span>
    <span class='string val'>&quot;)&quot;</span> <span class='plus op'>+</span>
  <span class='string val'>&quot;})&quot;</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>output</h3>
</div><div id="output-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>output</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the function string *and calls it*. See <tt>function_str</tt>
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/animation/animation.rb', line 31</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/chubas/rafa/blob/31a7229bda2ece870e5fe5210e1e2a875a0d8d51/lib/animation/animation.rb#L31">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">31
32
33</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='output identifier id'>output</span>
  <span class='function_str identifier id'>function_str</span> <span class='plus op'>+</span> <span class='string val'>&quot;()&quot;</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>rotate</h3>
</div><div id="rotate-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>rotate</span><span class='args'>(angle)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Alias for <em>rotation</em> animation attribute
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/animation/animation.rb', line 107</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/chubas/rafa/blob/31a7229bda2ece870e5fe5210e1e2a875a0d8d51/lib/animation/animation.rb#L107">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">107
108
109</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='rotate identifier id'>rotate</span><span class='lparen token'>(</span><span class='angle identifier id'>angle</span><span class='rparen token'>)</span>
  <span class='attr identifier id'>attr</span><span class='lparen token'>(</span><span class='string val'>'rotation'</span><span class='comma token'>,</span> <span class='angle identifier id'>angle</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>scale</h3>
</div><div id="scale-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>scale</span><span class='args'>(x, y)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the value of attribute <tt>scale</tt>
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/animation/animation.rb', line 102</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/chubas/rafa/blob/31a7229bda2ece870e5fe5210e1e2a875a0d8d51/lib/animation/animation.rb#L102">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">102
103
104</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='scale identifier id'>scale</span><span class='lparen token'>(</span><span class='x identifier id'>x</span><span class='comma token'>,</span> <span class='y identifier id'>y</span><span class='rparen token'>)</span>
  <span class='attr identifier id'>attr</span><span class='lparen token'>(</span><span class='string val'>'scale'</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='x identifier id'>x</span><span class='comma token'>,</span><span class='y identifier id'>y</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>','</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>translate</h3>
</div><div id="translate-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>translate</span><span class='args'>(dx, dy)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Alias for <em>translation</em> animation attribute. Transforms the
coordinates into csv
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/animation/animation.rb', line 97</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/chubas/rafa/blob/31a7229bda2ece870e5fe5210e1e2a875a0d8d51/lib/animation/animation.rb#L97">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">97
98
99</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='translate identifier id'>translate</span><span class='lparen token'>(</span><span class='dx identifier id'>dx</span><span class='comma token'>,</span> <span class='dy identifier id'>dy</span><span class='rparen token'>)</span>
  <span class='attr identifier id'>attr</span><span class='lparen token'>(</span><span class='string val'>'translation'</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='dx identifier id'>dx</span><span class='comma token'>,</span> <span class='dy identifier id'>dy</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>','</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> Â©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>