<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>tenderlove's mechanize - Class: WWW::Mechanize - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/tenderlove/commits/mechanize/master" rel="alternate" title="Recent Commits to mechanize:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("tenderlove", "mechanize", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("tenderlove", "mechanize", "3b75e56c14e4c0e23bd085f46019f6ff881afc10", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/tenderlove/mechanize/tree/">Source</a></li>
            <li class=""><a href="http://github.com/tenderlove/mechanize/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/tenderlove/mechanize/network">Network</a></li>            
            <li class=""><a href="http://github.com/tenderlove/mechanize/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/tenderlove/mechanize">Wiki</a></li>
            <li class=""><a href="http://github.com/tenderlove/mechanize/graphs">Graphs</a></li>                    
            <li class="active"><a href="/tenderlove/mechanize">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/tenderlove">tenderlove</a> / <b><a href="http://github.com/tenderlove/mechanize/tree">mechanize</a></b>        
                <a id="namespaces_button" rel="tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class WWW_Mechanize">
  <h1>Class: WWW::Mechanize</h1>
  <div class="section docstring">
  <p>
:stopdoc:
</p>

</div><div class="section attributes">
  
    <div class="">
      <h2>Class Attributes</h2>
      <table>
      
        <tr>
          <th class="name">html_parser</td>
          <td class="readwrite">
            [<span id='html_parser-class_method'>R</span><span id='html_parser=-class_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>html_parser</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">log</td>
          <td class="readwrite">
            [<span id='log-class_method'>R</span><span id='log=-class_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>log</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">ca_file</td>
          <td class="readwrite">
            [<span id='ca_file-instance_method'>R</span><span id='ca_file=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>ca_file</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">cert</td>
          <td class="readwrite">
            [<span id='cert-instance_method'>R</span><span id='cert=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>cert</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">conditional_requests</td>
          <td class="readwrite">
            [<span id='conditional_requests-instance_method'>R</span><span id='conditional_requests=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>conditional_requests</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">cookie_jar</td>
          <td class="readwrite">
            [<span id='cookie_jar-instance_method'>R</span><span id='cookie_jar=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>cookie_jar</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">follow_meta_refresh</td>
          <td class="readwrite">
            [<span id='follow_meta_refresh-instance_method'>R</span><span id='follow_meta_refresh=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>follow_meta_refresh</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">history_added</td>
          <td class="readwrite">
            [<span id='history_added-instance_method'>R</span><span id='history_added=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>history_added</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">history</td>
          <td class="readwrite">
            [<span id='history-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>history</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">html_parser</td>
          <td class="readwrite">
            [<span id='html_parser-instance_method'>R</span><span id='html_parser=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
The HTML parser to be used when parsing documents.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">keep_alive_time</td>
          <td class="readwrite">
            [<span id='keep_alive_time-instance_method'>R</span><span id='keep_alive_time=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>keep_alive_time</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">keep_alive</td>
          <td class="readwrite">
            [<span id='keep_alive-instance_method'>R</span><span id='keep_alive=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>keep_alive</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">key</td>
          <td class="readwrite">
            [<span id='key-instance_method'>R</span><span id='key=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>key</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">open_timeout</td>
          <td class="readwrite">
            [<span id='open_timeout-instance_method'>R</span><span id='open_timeout=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>open_timeout</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">pass</td>
          <td class="readwrite">
            [<span id='pass-instance_method'>R</span><span id='pass=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>pass</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">pluggable_parser</td>
          <td class="readwrite">
            [<span id='pluggable_parser-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>pluggable_parser</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">read_timeout</td>
          <td class="readwrite">
            [<span id='read_timeout-instance_method'>R</span><span id='read_timeout=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>read_timeout</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">redirect_ok</td>
          <td class="readwrite">
            [<span id='redirect_ok-instance_method'>R</span><span id='redirect_ok=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>redirect_ok</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">redirection_limit</td>
          <td class="readwrite">
            [<span id='redirection_limit-instance_method'>R</span><span id='redirection_limit=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>redirection_limit</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">request_headers</td>
          <td class="readwrite">
            [<span id='request_headers-instance_method'>R</span><span id='request_headers=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
A hash of custom request headers.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">scheme_handlers</td>
          <td class="readwrite">
            [<span id='scheme_handlers-instance_method'>R</span><span id='scheme_handlers=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>scheme_handlers</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">user_agent</td>
          <td class="readwrite">
            [<span id='user_agent-instance_method'>R</span><span id='user_agent=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>user_agent</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">verify_callback</td>
          <td class="readwrite">
            [<span id='verify_callback-instance_method'>R</span><span id='verify_callback=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>verify_callback</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">watch_for_set</td>
          <td class="readwrite">
            [<span id='watch_for_set-instance_method'>R</span><span id='watch_for_set=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>watch_for_set</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="AGENT_ALIASES-constant">AGENT_ALIASES</dt>
      <dd>{
  'Windows IE 6' =&gt; 'Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)',
  'Windows IE 7' =&gt; 'Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; .NET CLR 1.1.4322; .NET CLR 2.0.50727)',
  'Windows Mozilla' =&gt; 'Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4b) Gecko/20030516 Mozilla Firebird/0.6',
  'Mac Safari' =&gt; 'Mozilla/5.0 (Macintosh; U; PPC Mac OS X; en) AppleWebKit/418 (KHTML, like Gecko) Safari/417.9.3',
  'Mac FireFox' =&gt; 'Mozilla/5.0 (Macintosh; U; PPC Mac OS X Mach-O; en-US; rv:1.8.0.3) Gecko/20060426 Firefox/1.5.0.3',
  'Mac Mozilla' =&gt; 'Mozilla/5.0 (Macintosh; U; PPC Mac OS X Mach-O; en-US; rv:1.4a) Gecko/20030401',
  'Linux Mozilla' =&gt; 'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030624',
  'Linux Konqueror' =&gt; 'Mozilla/5.0 (compatible; Konqueror/3; Linux)',
  'iPhone' =&gt; 'Mozilla/5.0 (iPhone; U; CPU like Mac OS X; en) AppleWebKit/420+ (KHTML, like Gecko) Version/3.0 Mobile/1C28 Safari/419.3',
  'Mechanize' =&gt; &quot;WWW-Mechanize/#{VERSION} (http://rubyforge.org/projects/mechanize/)&quot;
}</dd>
    
      <dt id="VERSION-constant">VERSION</dt>
      <dd>'0.9.2'</dd>
    
  </dl>
</div>

</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'></span>
    <span class='block'>{|_self| ... }</span>
  </tt>
</div>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="yieldparam">
  <h3>Yield Parameters:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a title="WWW::Mechanize" href="">WWW::Mechanize</a></tt>]</span>
      
      
        <span class='name'>_self</span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
the object that the method was called on
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 100</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L100">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span>
  <span class='comment val'># attr_accessors</span>
  <span class='@cookie_jar ivar id'>@cookie_jar</span>     <span class='assign token'>=</span> <span class='CookieJar constant id'>CookieJar</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='@log ivar id'>@log</span>            <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@open_timeout ivar id'>@open_timeout</span>   <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@read_timeout ivar id'>@read_timeout</span>   <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@user_agent ivar id'>@user_agent</span>     <span class='assign token'>=</span> <span class='AGENT_ALIASES constant id'>AGENT_ALIASES</span><span class='lbrack token'>[</span><span class='string val'>'Mechanize'</span><span class='rbrack token'>]</span>
  <span class='@watch_for_set ivar id'>@watch_for_set</span>  <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@history_added ivar id'>@history_added</span>  <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@ca_file ivar id'>@ca_file</span>        <span class='assign token'>=</span> <span class='nil nil kw'>nil</span> <span class='comment val'># OpenSSL server certificate file</span>

  <span class='comment val'># callback for OpenSSL errors while verifying the server certificate</span>
  <span class='comment val'># chain, can be used for debugging or to ignore errors by always</span>
  <span class='comment val'># returning _true_</span>
  <span class='@verify_callback ivar id'>@verify_callback</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@cert ivar id'>@cert</span>           <span class='assign token'>=</span> <span class='nil nil kw'>nil</span> <span class='comment val'># OpenSSL Certificate</span>
  <span class='@key ivar id'>@key</span>            <span class='assign token'>=</span> <span class='nil nil kw'>nil</span> <span class='comment val'># OpenSSL Private Key</span>
  <span class='@pass ivar id'>@pass</span>           <span class='assign token'>=</span> <span class='nil nil kw'>nil</span> <span class='comment val'># OpenSSL Password</span>
  <span class='@redirect_ok ivar id'>@redirect_ok</span>    <span class='assign token'>=</span> <span class='true true kw'>true</span> <span class='comment val'># Should we follow redirects?</span>

  <span class='comment val'># attr_readers</span>
  <span class='@history ivar id'>@history</span>        <span class='assign token'>=</span> <span class='WWW constant id'>WWW</span><span class='colon2 op'>::</span><span class='Mechanize constant id'>Mechanize</span><span class='colon2 op'>::</span><span class='History constant id'>History</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='@pluggable_parser ivar id'>@pluggable_parser</span> <span class='assign token'>=</span> <span class='PluggableParser constant id'>PluggableParser</span><span class='dot token'>.</span><span class='new identifier id'>new</span>

  <span class='comment val'># Auth variables</span>
  <span class='@user ivar id'>@user</span>           <span class='assign token'>=</span> <span class='nil nil kw'>nil</span> <span class='comment val'># Auth User</span>
  <span class='@password ivar id'>@password</span>       <span class='assign token'>=</span> <span class='nil nil kw'>nil</span> <span class='comment val'># Auth Password</span>
  <span class='@digest ivar id'>@digest</span>         <span class='assign token'>=</span> <span class='nil nil kw'>nil</span> <span class='comment val'># DigestAuth Digest</span>
  <span class='@auth_hash ivar id'>@auth_hash</span>      <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>  <span class='comment val'># Keep track of urls for sending auth</span>
  <span class='@request_headers ivar id'>@request_headers</span><span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>  <span class='comment val'># A hash of request headers to be used</span>

  <span class='comment val'># Proxy settings</span>
  <span class='@proxy_addr ivar id'>@proxy_addr</span>     <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@proxy_pass ivar id'>@proxy_pass</span>     <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@proxy_port ivar id'>@proxy_port</span>     <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='@proxy_user ivar id'>@proxy_user</span>     <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>

  <span class='@conditional_requests ivar id'>@conditional_requests</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>

  <span class='@follow_meta_refresh ivar id'>@follow_meta_refresh</span>  <span class='assign token'>=</span> <span class='false false kw'>false</span>
  <span class='@redirection_limit ivar id'>@redirection_limit</span>    <span class='assign token'>=</span> <span class='integer val'>20</span>

  <span class='comment val'># Connection Cache &amp; Keep alive</span>
  <span class='@connection_cache ivar id'>@connection_cache</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='@keep_alive_time ivar id'>@keep_alive_time</span>  <span class='assign token'>=</span> <span class='integer val'>300</span>
  <span class='@keep_alive ivar id'>@keep_alive</span>       <span class='assign token'>=</span> <span class='true true kw'>true</span>

  <span class='@scheme_handlers ivar id'>@scheme_handlers</span>  <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='h identifier id'>h</span><span class='comma token'>,</span><span class='k identifier id'>k</span><span class='bitor op'>|</span>
    <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lambda identifier id'>lambda</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='link identifier id'>link</span><span class='comma token'>,</span> <span class='page identifier id'>page</span><span class='bitor op'>|</span>
      <span class='raise identifier id'>raise</span> <span class='UnsupportedSchemeError constant id'>UnsupportedSchemeError</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='rparen token'>)</span>
    <span class='rbrace token'>}</span>
  <span class='rbrace token'>}</span>
  <span class='@scheme_handlers ivar id'>@scheme_handlers</span><span class='lbrack token'>[</span><span class='string val'>'http'</span><span class='rbrack token'>]</span>      <span class='assign token'>=</span> <span class='lambda identifier id'>lambda</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='link identifier id'>link</span><span class='comma token'>,</span> <span class='page identifier id'>page</span><span class='bitor op'>|</span> <span class='link identifier id'>link</span> <span class='rbrace token'>}</span>
  <span class='@scheme_handlers ivar id'>@scheme_handlers</span><span class='lbrack token'>[</span><span class='string val'>'https'</span><span class='rbrack token'>]</span>     <span class='assign token'>=</span> <span class='@scheme_handlers ivar id'>@scheme_handlers</span><span class='lbrack token'>[</span><span class='string val'>'http'</span><span class='rbrack token'>]</span>
  <span class='@scheme_handlers ivar id'>@scheme_handlers</span><span class='lbrack token'>[</span><span class='string val'>'relative'</span><span class='rbrack token'>]</span>  <span class='assign token'>=</span> <span class='@scheme_handlers ivar id'>@scheme_handlers</span><span class='lbrack token'>[</span><span class='string val'>'http'</span><span class='rbrack token'>]</span>
  <span class='@scheme_handlers ivar id'>@scheme_handlers</span><span class='lbrack token'>[</span><span class='string val'>'file'</span><span class='rbrack token'>]</span>      <span class='assign token'>=</span> <span class='@scheme_handlers ivar id'>@scheme_handlers</span><span class='lbrack token'>[</span><span class='string val'>'http'</span><span class='rbrack token'>]</span>

  <span class='@pre_connect_hook ivar id'>@pre_connect_hook</span> <span class='assign token'>=</span> <span class='Chain constant id'>Chain</span><span class='colon2 op'>::</span><span class='PreConnectHook constant id'>PreConnectHook</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='@post_connect_hook ivar id'>@post_connect_hook</span> <span class='assign token'>=</span> <span class='Chain constant id'>Chain</span><span class='colon2 op'>::</span><span class='PostConnectHook constant id'>PostConnectHook</span><span class='dot token'>.</span><span class='new identifier id'>new</span>

  <span class='@html_parser ivar id'>@html_parser</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='html_parser identifier id'>html_parser</span>

  <span class='yield yield kw'>yield</span> <span class='self self kw'>self</span> <span class='if if_mod kw'>if</span> <span class='block_given? fid id'>block_given?</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#auth-instance_method">#auth</span><span class='args'>(user, password)</span>
        <span class='block'></span>
        
          <span class='alias'>#basic_auth</span>
        
      </th>
      <td class="docstring">
        <p>
Sets the user and password to be used for authentication.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#back-instance_method">#back</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Equivalent to the browser back button.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#click-instance_method">#click</span><span class='args'>(link)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Clicks the WWW::Mechanize::Link object passed in and returns the page
fetched.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#cookies-instance_method">#cookies</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a list of cookies stored in the cookie jar.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#current_page-instance_method">#current_page</span><span class='args'></span>
        <span class='block'></span>
        
          <span class='alias'>#page</span>
        
      </th>
      <td class="docstring">
        <p>
Returns the current page loaded by Mechanize.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#delete-instance_method">#delete</span><span class='args'>(url, query_params = {}, options = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
DELETE to <tt>url</tt> with <tt>query_params</tt>, and setting
<tt>options</tt>:.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get-instance_method">#get</span><span class='args'>(options, parameters = [], referer = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Fetches the URL passed in and returns a page.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get_file-instance_method">#get_file</span><span class='args'>(url)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Fetch a file and return the contents of the file.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#head-instance_method">#head</span><span class='args'>(url, query_params = {}, options = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
HEAD to <tt>url</tt> with <tt>query_params</tt>, and setting
<tt>options</tt>:.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#log-instance_method">#log</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#log-3D-instance_method">#log=</span><span class='args'>(l)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#max_history-instance_method">#max_history</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#max_history-3D-instance_method">#max_history=</span><span class='args'>(length)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#post-instance_method">#post</span><span class='args'>(url, query = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Posts to the given URL wht the query parameters passed in.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#post_connect_hooks-instance_method">#post_connect_hooks</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#pre_connect_hooks-instance_method">#pre_connect_hooks</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#pretty_print-instance_method">#pretty_print</span><span class='args'>(q)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#put-instance_method">#put</span><span class='args'>(url, query_params = {}, options = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
PUT to <tt>url</tt> with <tt>query_params</tt>, and setting
<tt>options</tt>:.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#set_proxy-instance_method">#set_proxy</span><span class='args'>(addr, port, user = nil, pass = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Sets the proxy address, port, user, and password <tt>addr</tt> should be a
host, with no &quot;http://&quot;.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#submit-instance_method">#submit</span><span class='args'>(form, button = nil, headers = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Submit a form with an optional button.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#transact-instance_method">#transact</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Runs given block, then resets the page history as it was before.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#user_agent_alias-3D-instance_method">#user_agent_alias=</span><span class='args'>(al)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Set the user agent for the Mechanize object.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#visited-3F-instance_method">#visited?</span><span class='args'>(url)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns whether or not a url has been visited.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#visited_page-instance_method">#visited_page</span><span class='args'>(url)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns a visited page for the url passed in, otherwise nil.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>auth</h3>
</div><div id="auth-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>auth</span><span class='args'>(user, password)</span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="basic_auth-instance_method">basic_auth</tt>
  
</p>
</div><div class="section docstring">
  <p>
Sets the user and password to be used for authentication.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 196</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L196">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">196
197
198
199</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='auth identifier id'>auth</span><span class='lparen token'>(</span><span class='user identifier id'>user</span><span class='comma token'>,</span> <span class='password identifier id'>password</span><span class='rparen token'>)</span>
  <span class='@user ivar id'>@user</span>       <span class='assign token'>=</span> <span class='user identifier id'>user</span>
  <span class='@password ivar id'>@password</span>   <span class='assign token'>=</span> <span class='password identifier id'>password</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>back</h3>
</div><div id="back-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>back</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Equivalent to the browser back button. Returns the most recent page
visited.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 301</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L301">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">301
302
303</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='back identifier id'>back</span>
  <span class='@history ivar id'>@history</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>click</h3>
</div><div id="click-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>click</span><span class='args'>(link)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Clicks the WWW::Mechanize::Link object passed in and returns the page
fetched.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 292</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L292">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">292
293
294
295
296
297</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='click identifier id'>click</span><span class='lparen token'>(</span><span class='link identifier id'>link</span><span class='rparen token'>)</span>
  <span class='referer identifier id'>referer</span> <span class='assign token'>=</span> <span class='link identifier id'>link</span><span class='dot token'>.</span><span class='page identifier id'>page</span> <span class='rescue rescue kw'>rescue</span> <span class='referer identifier id'>referer</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='href identifier id'>href</span> <span class='assign token'>=</span> <span class='link identifier id'>link</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:href</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='link identifier id'>link</span><span class='dot token'>.</span><span class='href identifier id'>href</span> <span class='colon op'>:</span>
    <span class='lparen token'>(</span><span class='link identifier id'>link</span><span class='lbrack token'>[</span><span class='string val'>'href'</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='link identifier id'>link</span><span class='lbrack token'>[</span><span class='string val'>'src'</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='symbol val'>:url</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='href identifier id'>href</span><span class='comma token'>,</span> <span class='symbol val'>:referer</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lparen token'>(</span><span class='referer identifier id'>referer</span> <span class='orop op'>||</span> <span class='current_page identifier id'>current_page</span><span class='lparen token'>(</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>cookies</h3>
</div><div id="cookies-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>cookies</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a list of cookies stored in the cookie jar.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 191</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L191">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">191
192
193</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='cookies identifier id'>cookies</span>
  <span class='@cookie_jar ivar id'>@cookie_jar</span><span class='dot token'>.</span><span class='to_a identifier id'>to_a</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>current_page</h3>
</div><div id="current_page-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>current_page</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="page-instance_method">page</tt>
  
</p>
</div><div class="section docstring">
  <p>
Returns the current page loaded by Mechanize
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 357</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L357">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">357
358
359</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='current_page identifier id'>current_page</span>
  <span class='@history ivar id'>@history</span><span class='dot token'>.</span><span class='last identifier id'>last</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>delete</h3>
</div><div id="delete-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>delete</span><span class='args'>(url, query_params = {}, options = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
DELETE to <tt>url</tt> with <tt>query_params</tt>, and setting
<tt>options</tt>:
</p>
<pre class="code">
  <span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='string val'>'http://tenderlovemaking.com/'</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='string val'>'q'</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'foo'</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='symbol val'>:headers</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 261</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L261">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">261
262
263
264
265</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='url identifier id'>url</span><span class='comma token'>,</span> <span class='query_params identifier id'>query_params</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='page identifier id'>page</span> <span class='assign token'>=</span> <span class='head identifier id'>head</span><span class='lparen token'>(</span><span class='url identifier id'>url</span><span class='comma token'>,</span> <span class='query_params identifier id'>query_params</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:verb</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:delete</span><span class='rbrace token'>}</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='add_to_history identifier id'>add_to_history</span><span class='lparen token'>(</span><span class='page identifier id'>page</span><span class='rparen token'>)</span>
  <span class='page identifier id'>page</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get</h3>
</div><div id="get-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get</span><span class='args'>(options, parameters = [], referer = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Fetches the URL passed in and returns a page.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 203</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L203">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='parameters identifier id'>parameters</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='referer identifier id'>referer</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='unless unless kw'>unless</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span> <span class='Hash constant id'>Hash</span>
    <span class='url identifier id'>url</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span>
    <span class='unless unless kw'>unless</span> <span class='parameters identifier id'>parameters</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:each</span><span class='rparen token'>)</span> <span class='comment val'># FIXME: Remove this in 0.8.0</span>
      <span class='referer identifier id'>referer</span> <span class='assign token'>=</span> <span class='parameters identifier id'>parameters</span>
      <span class='parameters identifier id'>parameters</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>&quot;url must be specified&quot;</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='url identifier id'>url</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:url</span><span class='rbrack token'>]</span>
    <span class='parameters identifier id'>parameters</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:params</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='referer identifier id'>referer</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:referer</span><span class='rbrack token'>]</span>
    <span class='headers identifier id'>headers</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:headers</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>

  <span class='unless unless kw'>unless</span> <span class='referer identifier id'>referer</span>
    <span class='if if kw'>if</span> <span class='url identifier id'>url</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='match op'>=~</span> <span class='regexp val'>/^http/</span>
      <span class='referer identifier id'>referer</span> <span class='assign token'>=</span> <span class='Page constant id'>Page</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='string val'>'content-type'</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='string val'>'text/html'</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='referer identifier id'>referer</span> <span class='assign token'>=</span> <span class='current_page identifier id'>current_page</span> <span class='orop op'>||</span> <span class='Page constant id'>Page</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='string val'>'content-type'</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='string val'>'text/html'</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># FIXME: Huge hack so that using a URI as a referer works.  I need to</span>
  <span class='comment val'># refactor everything to pass around URIs but still support</span>
  <span class='comment val'># WWW::Mechanize::Page#base</span>
  <span class='unless unless kw'>unless</span> <span class='referer identifier id'>referer</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='WWW constant id'>WWW</span><span class='colon2 op'>::</span><span class='Mechanize constant id'>Mechanize</span><span class='colon2 op'>::</span><span class='File constant id'>File</span><span class='rparen token'>)</span>
    <span class='referer identifier id'>referer</span> <span class='assign token'>=</span> <span class='referer identifier id'>referer</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='String constant id'>String</span><span class='rparen token'>)</span> <span class='question op'>?</span>
      <span class='Page constant id'>Page</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='URI constant id'>URI</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='referer identifier id'>referer</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='string val'>'content-type'</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'text/html'</span><span class='rbrace token'>}</span><span class='rparen token'>)</span> <span class='colon op'>:</span>
      <span class='Page constant id'>Page</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='referer identifier id'>referer</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='string val'>'content-type'</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'text/html'</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># fetch the page</span>
  <span class='page identifier id'>page</span> <span class='assign token'>=</span> <span class='fetch_page identifier id'>fetch_page</span><span class='lparen token'>(</span>  <span class='symbol val'>:uri</span>      <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='url identifier id'>url</span><span class='comma token'>,</span>
                      <span class='symbol val'>:referer</span>  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='referer identifier id'>referer</span><span class='comma token'>,</span>
                      <span class='symbol val'>:headers</span>  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='headers identifier id'>headers</span> <span class='orop op'>||</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span>
                      <span class='symbol val'>:params</span>   <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='parameters identifier id'>parameters</span>
                   <span class='rparen token'>)</span>
  <span class='add_to_history identifier id'>add_to_history</span><span class='lparen token'>(</span><span class='page identifier id'>page</span><span class='rparen token'>)</span>
  <span class='yield yield kw'>yield</span> <span class='page identifier id'>page</span> <span class='if if_mod kw'>if</span> <span class='block_given? fid id'>block_given?</span>
  <span class='page identifier id'>page</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_file</h3>
</div><div id="get_file-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_file</span><span class='args'>(url)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Fetch a file and return the contents of the file.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 286</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L286">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">286
287
288</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get_file identifier id'>get_file</span><span class='lparen token'>(</span><span class='url identifier id'>url</span><span class='rparen token'>)</span>
  <span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='url identifier id'>url</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='body identifier id'>body</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>head</h3>
</div><div id="head-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>head</span><span class='args'>(url, query_params = {}, options = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
HEAD to <tt>url</tt> with <tt>query_params</tt>, and setting
<tt>options</tt>:
</p>
<pre class="code">
  <span class='head identifier id'>head</span><span class='lparen token'>(</span><span class='string val'>'http://tenderlovemaking.com/'</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='string val'>'q'</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'foo'</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='symbol val'>:headers</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
</pre>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 272</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L272">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">272
273
274
275
276
277
278
279
280
281
282
283</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='head identifier id'>head</span><span class='lparen token'>(</span><span class='url identifier id'>url</span><span class='comma token'>,</span> <span class='query_params identifier id'>query_params</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span>
    <span class='symbol val'>:uri</span>      <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='url identifier id'>url</span><span class='comma token'>,</span>
    <span class='symbol val'>:headers</span>  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span>
    <span class='symbol val'>:params</span>   <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='query_params identifier id'>query_params</span><span class='comma token'>,</span>
    <span class='symbol val'>:verb</span>     <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:head</span>
  <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='comment val'># fetch the page</span>
  <span class='page identifier id'>page</span> <span class='assign token'>=</span> <span class='fetch_page identifier id'>fetch_page</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='yield yield kw'>yield</span> <span class='page identifier id'>page</span> <span class='if if_mod kw'>if</span> <span class='block_given? fid id'>block_given?</span>
  <span class='page identifier id'>page</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>log</h3>
</div><div id="log-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>log</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 168</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L168">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">168</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='log identifier id'>log</span><span class='semicolon token'>;</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='log identifier id'>log</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>log=</h3>
</div><div id="log-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>log=</span><span class='args'>(l)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 167</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L167">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">167</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='log= identifier id'>log=</span><span class='lparen token'>(</span><span class='l identifier id'>l</span><span class='rparen token'>)</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='log identifier id'>log</span> <span class='assign token'>=</span> <span class='l identifier id'>l</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>max_history</h3>
</div><div id="max_history-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>max_history</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 166</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L166">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">166</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='max_history identifier id'>max_history</span><span class='semicolon token'>;</span> <span class='@history ivar id'>@history</span><span class='dot token'>.</span><span class='max_size identifier id'>max_size</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>max_history=</h3>
</div><div id="max_history-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>max_history=</span><span class='args'>(length)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 165</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L165">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">165</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='max_history= identifier id'>max_history=</span><span class='lparen token'>(</span><span class='length identifier id'>length</span><span class='rparen token'>)</span> <span class='@history ivar id'>@history</span><span class='dot token'>.</span><span class='max_size identifier id'>max_size</span> <span class='assign token'>=</span> <span class='length identifier id'>length</span> <span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>post</h3>
</div><div id="post-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>post</span><span class='args'>(url, query = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Posts to the given URL wht the query parameters passed in. Query parameters
can be passed as a hash, or as an array of arrays. Example:
</p>
<pre class="code">
 <span class='agent identifier id'>agent</span><span class='dot token'>.</span><span class='post identifier id'>post</span><span class='lparen token'>(</span><span class='string val'>'http://example.com/'</span><span class='comma token'>,</span> <span class='string val'>&quot;foo&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;bar&quot;</span><span class='rparen token'>)</span>
</pre>
<p>
or
</p>
<pre class="code">
 <span class='agent identifier id'>agent</span><span class='dot token'>.</span><span class='post identifier id'>post</span><span class='lparen token'>(</span><span class='string val'>'http://example.com/'</span><span class='comma token'>,</span> <span class='lbrack token'>[</span> <span class='lbrack token'>[</span><span class='string val'>&quot;foo&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;bar&quot;</span><span class='rbrack token'>]</span> <span class='rbrack token'>]</span><span class='rparen token'>)</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 311</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L311">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='post identifier id'>post</span><span class='lparen token'>(</span><span class='url identifier id'>url</span><span class='comma token'>,</span> <span class='query identifier id'>query</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='node identifier id'>node</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='comment val'># Create a fake form</span>
  <span class='class class kw'>class</span> <span class='lshft op'>&lt;&lt;</span> <span class='node identifier id'>node</span>
    <span class='def def kw'>def</span> <span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span><span class='semicolon token'>;</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='node identifier id'>node</span><span class='lbrack token'>[</span><span class='string val'>'method'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='string val'>'POST'</span>
  <span class='node identifier id'>node</span><span class='lbrack token'>[</span><span class='string val'>'enctype'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='string val'>'application/x-www-form-urlencoded'</span>

  <span class='form identifier id'>form</span> <span class='assign token'>=</span> <span class='Form constant id'>Form</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='node identifier id'>node</span><span class='rparen token'>)</span>
  <span class='query identifier id'>query</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='v identifier id'>v</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='IO constant id'>IO</span><span class='rparen token'>)</span>
      <span class='form identifier id'>form</span><span class='dot token'>.</span><span class='enctype identifier id'>enctype</span> <span class='assign token'>=</span> <span class='string val'>'multipart/form-data'</span>
      <span class='ul identifier id'>ul</span> <span class='assign token'>=</span> <span class='Form constant id'>Form</span><span class='colon2 op'>::</span><span class='FileUpload constant id'>FileUpload</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='comma token'>,</span><span class='colon3 op'>::</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='basename identifier id'>basename</span><span class='lparen token'>(</span><span class='v identifier id'>v</span><span class='dot token'>.</span><span class='path identifier id'>path</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
      <span class='ul identifier id'>ul</span><span class='dot token'>.</span><span class='file_data identifier id'>file_data</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span><span class='dot token'>.</span><span class='read identifier id'>read</span>
      <span class='form identifier id'>form</span><span class='dot token'>.</span><span class='file_uploads identifier id'>file_uploads</span> <span class='lshft op'>&lt;&lt;</span> <span class='ul identifier id'>ul</span>
    <span class='else else kw'>else</span>
      <span class='form identifier id'>form</span><span class='dot token'>.</span><span class='fields identifier id'>fields</span> <span class='lshft op'>&lt;&lt;</span> <span class='Form constant id'>Form</span><span class='colon2 op'>::</span><span class='Field constant id'>Field</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='rbrace token'>}</span>
  <span class='post_form identifier id'>post_form</span><span class='lparen token'>(</span><span class='url identifier id'>url</span><span class='comma token'>,</span> <span class='form identifier id'>form</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>post_connect_hooks</h3>
</div><div id="post_connect_hooks-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>post_connect_hooks</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 174</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L174">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">174
175
176</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='post_connect_hooks identifier id'>post_connect_hooks</span>
  <span class='@post_connect_hook ivar id'>@post_connect_hook</span><span class='dot token'>.</span><span class='hooks identifier id'>hooks</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>pre_connect_hooks</h3>
</div><div id="pre_connect_hooks-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>pre_connect_hooks</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 170</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L170">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">170
171
172</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='pre_connect_hooks identifier id'>pre_connect_hooks</span>
  <span class='@pre_connect_hook ivar id'>@pre_connect_hook</span><span class='dot token'>.</span><span class='hooks identifier id'>hooks</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>pretty_print</h3>
</div><div id="pretty_print-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>pretty_print</span><span class='args'>(q)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize/inspect.rb', line 6</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize/inspect.rb#L6">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">6
7
8
9
10
11
12
13</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='pretty_print identifier id'>pretty_print</span><span class='lparen token'>(</span><span class='q identifier id'>q</span><span class='rparen token'>)</span>
  <span class='q identifier id'>q</span><span class='dot token'>.</span><span class='object_group identifier id'>object_group</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span>
    <span class='q identifier id'>q</span><span class='dot token'>.</span><span class='breakable identifier id'>breakable</span>
    <span class='q identifier id'>q</span><span class='dot token'>.</span><span class='pp identifier id'>pp</span> <span class='cookie_jar identifier id'>cookie_jar</span>
    <span class='q identifier id'>q</span><span class='dot token'>.</span><span class='breakable identifier id'>breakable</span>
    <span class='q identifier id'>q</span><span class='dot token'>.</span><span class='pp identifier id'>pp</span> <span class='current_page identifier id'>current_page</span>
  <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>put</h3>
</div><div id="put-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>put</span><span class='args'>(url, query_params = {}, options = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
PUT to <tt>url</tt> with <tt>query_params</tt>, and setting
<tt>options</tt>:
</p>
<pre class="code">
  <span class='put identifier id'>put</span><span class='lparen token'>(</span><span class='string val'>'http://tenderlovemaking.com/'</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='string val'>'q'</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'foo'</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='symbol val'>:headers</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 250</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L250">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">250
251
252
253
254</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='put identifier id'>put</span><span class='lparen token'>(</span><span class='url identifier id'>url</span><span class='comma token'>,</span> <span class='query_params identifier id'>query_params</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='page identifier id'>page</span> <span class='assign token'>=</span> <span class='head identifier id'>head</span><span class='lparen token'>(</span><span class='url identifier id'>url</span><span class='comma token'>,</span> <span class='query_params identifier id'>query_params</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:verb</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:put</span><span class='rbrace token'>}</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='add_to_history identifier id'>add_to_history</span><span class='lparen token'>(</span><span class='page identifier id'>page</span><span class='rparen token'>)</span>
  <span class='page identifier id'>page</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>set_proxy</h3>
</div><div id="set_proxy-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>set_proxy</span><span class='args'>(addr, port, user = nil, pass = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Sets the proxy address, port, user, and password <tt>addr</tt> should be a
host, with no &quot;http://&quot;
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 180</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L180">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">180
181
182</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='set_proxy identifier id'>set_proxy</span><span class='lparen token'>(</span><span class='addr identifier id'>addr</span><span class='comma token'>,</span> <span class='port identifier id'>port</span><span class='comma token'>,</span> <span class='user identifier id'>user</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='pass identifier id'>pass</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='@proxy_addr ivar id'>@proxy_addr</span><span class='comma token'>,</span> <span class='@proxy_port ivar id'>@proxy_port</span><span class='comma token'>,</span> <span class='@proxy_user ivar id'>@proxy_user</span><span class='comma token'>,</span> <span class='@proxy_pass ivar id'>@proxy_pass</span> <span class='assign token'>=</span> <span class='addr identifier id'>addr</span><span class='comma token'>,</span> <span class='port identifier id'>port</span><span class='comma token'>,</span> <span class='user identifier id'>user</span><span class='comma token'>,</span> <span class='pass identifier id'>pass</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>submit</h3>
</div><div id="submit-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>submit</span><span class='args'>(form, button = nil, headers = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Submit a form with an optional button. Without a button:
</p>
<pre class="code">
 <span class='page identifier id'>page</span> <span class='assign token'>=</span> <span class='agent identifier id'>agent</span><span class='dot token'>.</span><span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='string val'>'http://example.com'</span><span class='rparen token'>)</span>
 <span class='agent identifier id'>agent</span><span class='dot token'>.</span><span class='submit identifier id'>submit</span><span class='lparen token'>(</span><span class='page identifier id'>page</span><span class='dot token'>.</span><span class='forms identifier id'>forms</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='rparen token'>)</span>
</pre>
<p>
With a button
</p>
<pre class="code">
 <span class='agent identifier id'>agent</span><span class='dot token'>.</span><span class='submit identifier id'>submit</span><span class='lparen token'>(</span><span class='page identifier id'>page</span><span class='dot token'>.</span><span class='forms identifier id'>forms</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='comma token'>,</span> <span class='page identifier id'>page</span><span class='dot token'>.</span><span class='forms identifier id'>forms</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='dot token'>.</span><span class='buttons identifier id'>buttons</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='rparen token'>)</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 340</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L340">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">340
341
342
343
344
345
346
347
348
349
350
351
352
353
354</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='submit identifier id'>submit</span><span class='lparen token'>(</span><span class='form identifier id'>form</span><span class='comma token'>,</span> <span class='button identifier id'>button</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='headers identifier id'>headers</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='form identifier id'>form</span><span class='dot token'>.</span><span class='add_button_to_query identifier id'>add_button_to_query</span><span class='lparen token'>(</span><span class='button identifier id'>button</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='button identifier id'>button</span>
  <span class='case case kw'>case</span> <span class='form identifier id'>form</span><span class='dot token'>.</span><span class='method identifier id'>method</span><span class='dot token'>.</span><span class='upcase identifier id'>upcase</span>
  <span class='when when kw'>when</span> <span class='string val'>'POST'</span>
    <span class='post_form identifier id'>post_form</span><span class='lparen token'>(</span><span class='form identifier id'>form</span><span class='dot token'>.</span><span class='action identifier id'>action</span><span class='comma token'>,</span> <span class='form identifier id'>form</span><span class='comma token'>,</span> <span class='headers identifier id'>headers</span><span class='rparen token'>)</span>
  <span class='when when kw'>when</span> <span class='string val'>'GET'</span>
    <span class='get identifier id'>get</span><span class='lparen token'>(</span>  <span class='symbol val'>:url</span>      <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='form identifier id'>form</span><span class='dot token'>.</span><span class='action identifier id'>action</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/\?[^\?]*$/</span><span class='comma token'>,</span> <span class='string val'>''</span><span class='rparen token'>)</span><span class='comma token'>,</span>
          <span class='symbol val'>:params</span>   <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='form identifier id'>form</span><span class='dot token'>.</span><span class='build_query identifier id'>build_query</span><span class='comma token'>,</span>
          <span class='symbol val'>:headers</span>  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='headers identifier id'>headers</span><span class='comma token'>,</span>
          <span class='symbol val'>:referer</span>  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='form identifier id'>form</span><span class='dot token'>.</span><span class='page identifier id'>page</span>
       <span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;unsupported method: #{form.method.upcase}&quot;</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>transact</h3>
</div><div id="transact-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>transact</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Runs given block, then resets the page history as it was before. self is
given as a parameter to the block. Returns the value of the block.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 376</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L376">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">376
377
378
379
380
381
382
383</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='transact identifier id'>transact</span>
  <span class='history_backup identifier id'>history_backup</span> <span class='assign token'>=</span> <span class='@history ivar id'>@history</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
  <span class='begin begin kw'>begin</span>
    <span class='yield yield kw'>yield</span> <span class='self self kw'>self</span>
  <span class='ensure ensure kw'>ensure</span>
    <span class='@history ivar id'>@history</span> <span class='assign token'>=</span> <span class='history_backup identifier id'>history_backup</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>user_agent_alias=</h3>
</div><div id="user_agent_alias-3D-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>user_agent_alias=</span><span class='args'>(al)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Set the user agent for the Mechanize object. See AGENT_ALIASES
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 186</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L186">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">186
187
188</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='user_agent_alias= identifier id'>user_agent_alias=</span><span class='lparen token'>(</span><span class='al identifier id'>al</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='user_agent identifier id'>user_agent</span> <span class='assign token'>=</span> <span class='AGENT_ALIASES constant id'>AGENT_ALIASES</span><span class='lbrack token'>[</span><span class='al identifier id'>al</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='raise identifier id'>raise</span><span class='lparen token'>(</span><span class='string val'>&quot;unknown agent alias&quot;</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>visited?</h3>
</div><div id="visited-3F-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>visited?</span><span class='args'>(url)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns whether or not a url has been visited
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 362</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L362">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">362
363
364</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='visited? fid id'>visited?</span><span class='lparen token'>(</span><span class='url identifier id'>url</span><span class='rparen token'>)</span>
  <span class='notop op'>!</span> <span class='visited_page identifier id'>visited_page</span><span class='lparen token'>(</span><span class='url identifier id'>url</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>visited_page</h3>
</div><div id="visited_page-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>visited_page</span><span class='args'>(url)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a visited page for the url passed in, otherwise nil
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/www/mechanize.rb', line 367</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/tenderlove/mechanize/blob/3b75e56c14e4c0e23bd085f46019f6ff881afc10/lib/www/mechanize.rb#L367">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">367
368
369
370
371
372</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='visited_page identifier id'>visited_page</span><span class='lparen token'>(</span><span class='url identifier id'>url</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='url identifier id'>url</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span> <span class='colon op'>:</span><span class='href identifier id'>href</span>
    <span class='url identifier id'>url</span> <span class='assign token'>=</span> <span class='url identifier id'>url</span><span class='dot token'>.</span><span class='href identifier id'>href</span>
  <span class='end end kw'>end</span>
  <span class='@history ivar id'>@history</span><span class='dot token'>.</span><span class='visited_page identifier id'>visited_page</span><span class='lparen token'>(</span><span class='resolve identifier id'>resolve</span><span class='lparen token'>(</span><span class='url identifier id'>url</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>