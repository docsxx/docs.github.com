<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>jgoizueta's float-formats - Class: Flt::DPDFormat - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/jgoizueta/commits/float-formats/master" rel="alternate" title="Recent Commits to float-formats:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("jgoizueta", "float-formats", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='jgoizueta/float-formats/blob/c5d2955058bc5dafe3f8bc9a5f6ff474e8d59fce' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='jgoizueta/float-formats/blob/c5d2955058bc5dafe3f8bc9a5f6ff474e8d59fce' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("jgoizueta", "float-formats", "c5d2955058bc5dafe3f8bc9a5f6ff474e8d59fce", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/jgoizueta/float-formats/tree/">Source</a></li>
            <li class=""><a href="http://github.com/jgoizueta/float-formats/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/jgoizueta/float-formats/network">Network</a></li>            
            <li class=""><a href="http://github.com/jgoizueta/float-formats/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/jgoizueta/float-formats">Wiki</a></li>
            <li class=""><a href="http://github.com/jgoizueta/float-formats/graphs">Graphs</a></li>                    
            <li class="active"><a href="/jgoizueta/float-formats">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/jgoizueta">jgoizueta</a> / <b><a href="http://github.com/jgoizueta/float-formats/tree">float-formats</a></b>        
                <a id="namespaces_button" rel="jgoizueta/float-formats/blob/c5d2955058bc5dafe3f8bc9a5f6ff474e8d59fce" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="jgoizueta/float-formats/blob/c5d2955058bc5dafe3f8bc9a5f6ff474e8d59fce" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Flt_DPDFormat">
  <h1>Class: Flt::DPDFormat</h1>
  <div class="section inheritance">
  <ul>
  <li><a href="FormatBase.html" title="Flt::FormatBase">Flt::FormatBase</a></li><ul><li><a href="DecimalFormatBase.html" title="Flt::DecimalFormatBase">Flt::DecimalFormatBase</a></li><ul><li>Flt::DPDFormat</li>
  </ul></ul></ul>
</div><div class="section docstring">
  <p>
DPD (Densely-Packed-Decimal) formats
</p>

</div><div class="section constants">
  <div class="inherited">
  
</div>
<div class="clear"></div>
</div><div class="section constructor">
<h2>Constructor</h2>
  <p class="inherited_msg">
    This class inherits a constructor from <a href="FormatBase.html#initialize-instance_method" title="Flt::FormatBase">Flt::FormatBase</a>.
  </p>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#define-class_method">define</span><span class='args'>(params)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
The field that need to be defined (with lenghts given in decimal digits)
are
</p>
<ul>
<li>:sign

</li>
<li>:combination

</li>
<li>:exponent_continuation

</li>
<li>:significand_continuation.

</li>
</ul>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#pack-class_method">pack</span><span class='args'>(s, m, e)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#pack_fields-class_method">pack_fields</span><span class='args'>(*fields)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#total_bits-class_method">total_bits</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:stopdoc:.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#total_bytes-class_method">total_bytes</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#unpack-class_method">unpack</span><span class='args'>(v)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#unpack_fields-class_method">unpack_fields</span><span class='args'>(v)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table><div class="inherited">
  
  <div>
    <h2>Public Class Methods Inherited from <a href="DecimalFormatBase.html" title="Flt::DecimalFormatBase">Flt::DecimalFormatBase</a></h2>
    <p><span class='name'><a href="DecimalFormatBase.html#decimal_digits_necessary-class_method" title="decimal_digits_necessary">decimal_digits_necessary</a></span>, <span class='name'><a href="DecimalFormatBase.html#decimal_digits_stored-class_method" title="decimal_digits_stored">decimal_digits_stored</a></span>, <span class='name'><a href="DecimalFormatBase.html#decimal_max_exp-class_method" title="decimal_max_exp">decimal_max_exp</a></span>, <span class='name'><a href="DecimalFormatBase.html#decimal_min_exp-class_method" title="decimal_min_exp">decimal_min_exp</a></span>, <span class='name'><a href="DecimalFormatBase.html#radix-class_method" title="radix">radix</a></span>, <span class='name'><a href="DecimalFormatBase.html#radix_log-class_method" title="radix_log">radix_log</a></span>, <span class='name'><a href="DecimalFormatBase.html#radix_log10-class_method" title="radix_log10">radix_log10</a></span>, <span class='name'><a href="DecimalFormatBase.html#radix_power-class_method" title="radix_power">radix_power</a></span></p>
  </div>
  
  <div>
    <h2>Public Class Methods Inherited from <a href="FormatBase.html" title="Flt::FormatBase">Flt::FormatBase</a></h2>
    <p><span class='name'><a href="FormatBase.html#arithmetic-class_method" title="arithmetic">arithmetic</a></span>, <span class='name'><a href="FormatBase.html#arithmetic_type-class_method" title="arithmetic_type">arithmetic_type</a></span>, <span class='name'><a href="FormatBase.html#bias-class_method" title="bias">bias</a></span>, <span class='name'><a href="FormatBase.html#canonicalized-class_method" title="canonicalized">canonicalized</a></span>, <span class='name'><a href="FormatBase.html#context-class_method" title="context">context</a></span>, <span class='name'><a href="FormatBase.html#endianness-class_method" title="endianness">endianness</a></span>, <span class='name'><a href="FormatBase.html#epsilon-class_method" title="epsilon">epsilon</a></span>, <span class='name'><a href="FormatBase.html#from-class_method" title="from">from</a></span>, <span class='name'><a href="FormatBase.html#from_bits-class_method" title="from_bits">from_bits</a></span>, <span class='name'><a href="FormatBase.html#from_bits_text-class_method" title="from_bits_text">from_bits_text</a></span>, <span class='name'><a href="FormatBase.html#from_bytes-class_method" title="from_bytes">from_bytes</a></span>, <span class='name'><a href="FormatBase.html#from_hex-class_method" title="from_hex">from_hex</a></span>, <span class='name'><a href="FormatBase.html#from_number-class_method" title="from_number">from_number</a></span>, <span class='name'><a href="FormatBase.html#from_text-class_method" title="from_text">from_text</a></span>, <span class='name'><a href="FormatBase.html#gradual_underflow%3F-class_method" title="gradual_underflow?">gradual_underflow?</a></span>, <span class='name'><a href="FormatBase.html#half_epsilon-class_method" title="half_epsilon">half_epsilon</a></span>, <span class='name'><a href="FormatBase.html#infinity-class_method" title="infinity">infinity</a></span>, <span class='name'><a href="FormatBase.html#join-class_method" title="join">join</a></span>, <span class='name'><a href="FormatBase.html#max_value-class_method" title="max_value">max_value</a></span>, <span class='name'><a href="FormatBase.html#maximum_integral_significand-class_method" title="maximum_integral_significand">maximum_integral_significand</a></span>, <span class='name'><a href="FormatBase.html#min_normalized_value-class_method" title="min_normalized_value">min_normalized_value</a></span>, <span class='name'><a href="FormatBase.html#min_value-class_method" title="min_value">min_value</a></span>, <span class='name'><a href="FormatBase.html#minimum_normalized_integral_significand-class_method" title="minimum_normalized_integral_significand">minimum_normalized_integral_significand</a></span>, <span class='name'><a href="FormatBase.html#minus_sign_value-class_method" title="minus_sign_value">minus_sign_value</a></span>, <span class='name'><a href="FormatBase.html#nan-class_method" title="nan">nan</a></span>, <span class='name'><a href="FormatBase.html#nio_read_neutral-class_method" title="nio_read_neutral">nio_read_neutral</a></span>, <span class='name'><a href="FormatBase.html#num-class_method" title="num">num</a></span>, <span class='name'><a href="FormatBase.html#num_class-class_method" title="num_class">num_class</a></span>, <span class='name'><a href="FormatBase.html#pack_fields_hash-class_method" title="pack_fields_hash">pack_fields_hash</a></span>, <span class='name'><a href="FormatBase.html#radix_max_exp-class_method" title="radix_max_exp">radix_max_exp</a></span>, <span class='name'><a href="FormatBase.html#radix_min_exp-class_method" title="radix_min_exp">radix_min_exp</a></span>, <span class='name'><a href="FormatBase.html#rounding_mode-class_method" title="rounding_mode">rounding_mode</a></span>, <span class='name'><a href="FormatBase.html#sign_from_unit-class_method" title="sign_from_unit">sign_from_unit</a></span>, <span class='name'><a href="FormatBase.html#sign_to_unit-class_method" title="sign_to_unit">sign_to_unit</a></span>, <span class='name'><a href="FormatBase.html#strict_epsilon-class_method" title="strict_epsilon">strict_epsilon</a></span>, <span class='name'><a href="FormatBase.html#switch_sign_value-class_method" title="switch_sign_value">switch_sign_value</a></span>, <span class='name'><a href="FormatBase.html#unpack_fields_hash-class_method" title="unpack_fields_hash">unpack_fields_hash</a></span>, <span class='name'><a href="FormatBase.html#zero-class_method" title="zero">zero</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
  <div class="section methodsummary">
    <div class="inherited">
  
  <div>
    <h2>Public Instance Methods Inherited from <a href="FormatBase.html" title="Flt::FormatBase">Flt::FormatBase</a></h2>
    <p><span class='name'><a href="FormatBase.html#%3C%3D-instance_method" title="&lt;=">&lt;=</a></span>, <span class='name'><a href="FormatBase.html#convert_to-instance_method" title="convert_to">convert_to</a></span>, <span class='name'><a href="FormatBase.html#form_class-instance_method" title="form_class">form_class</a></span>, <span class='name'><a href="FormatBase.html#fp_format-instance_method" title="fp_format">fp_format</a></span>, <span class='name'><a href="FormatBase.html#infinite%3F-instance_method" title="infinite?">infinite?</a></span>, <span class='name'><a href="FormatBase.html#minus-instance_method" title="minus">minus</a></span>, <span class='name'><a href="FormatBase.html#nan%3F-instance_method" title="nan?">nan?</a></span>, <span class='name'><a href="FormatBase.html#next_minus-instance_method" title="next_minus">next_minus</a></span>, <span class='name'><a href="FormatBase.html#next_plus-instance_method" title="next_plus">next_plus</a></span>, <span class='name'><a href="FormatBase.html#nio_write_neutral-instance_method" title="nio_write_neutral">nio_write_neutral</a></span>, <span class='name'><a href="FormatBase.html#normal%3F-instance_method" title="normal?">normal?</a></span>, <span class='name'><a href="FormatBase.html#split-instance_method" title="split">split</a></span>, <span class='name'><a href="FormatBase.html#subnormal%3F-instance_method" title="subnormal?">subnormal?</a></span>, <span class='name'><a href="FormatBase.html#to-instance_method" title="to">to</a></span>, <span class='name'><a href="FormatBase.html#to_a-instance_method" title="to_a">to_a</a></span>, <span class='name'><a href="FormatBase.html#to_bits-instance_method" title="to_bits">to_bits</a></span>, <span class='name'><a href="FormatBase.html#to_bits_text-instance_method" title="to_bits_text">to_bits_text</a></span>, <span class='name'><a href="FormatBase.html#to_bytes-instance_method" title="to_bytes">to_bytes</a></span>, <span class='name'><a href="FormatBase.html#to_hex-instance_method" title="to_hex">to_hex</a></span>, <span class='name'><a href="FormatBase.html#to_num-instance_method" title="to_num">to_num</a></span>, <span class='name'><a href="FormatBase.html#to_text-instance_method" title="to_text">to_text</a></span>, <span class='name'><a href="FormatBase.html#ulp-instance_method" title="ulp">ulp</a></span>, <span class='name'><a href="FormatBase.html#zero%3F-instance_method" title="zero?">zero?</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>define</h3>
</div><div id="define-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>define</span><span class='args'>(params)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
The field that need to be defined (with lenghts given in decimal digits)
are
</p>
<ul>
<li>:sign

</li>
<li>:combination

</li>
<li>:exponent_continuation

</li>
<li>:significand_continuation

</li>
</ul>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/float-formats/classes.rb', line 1246</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jgoizueta/float-formats/blob/c5d2955058bc5dafe3f8bc9a5f6ff474e8d59fce/lib/float-formats/classes.rb#L1246">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1246
1247
1248
1249
1250
1251
1252
1253
1254
1255
1256
1257
1258
1259
1260
1261
1262
1263
1264
1265
1266
1267
1268
1269
1270
1271
1272
1273
1274
1275
1276
1277
1278
1279</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='define identifier id'>define</span><span class='lparen token'>(</span><span class='params identifier id'>params</span><span class='rparen token'>)</span>

  <span class='@splitted_fields_supported ivar id'>@splitted_fields_supported</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
  <span class='define_fields identifier id'>define_fields</span> <span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:fields</span><span class='rbrack token'>]</span>
  <span class='@internal_field_lengths ivar id'>@internal_field_lengths</span> <span class='assign token'>=</span> <span class='@field_lengths ivar id'>@field_lengths</span>
  <span class='@internal_field_meaning ivar id'>@internal_field_meaning</span> <span class='assign token'>=</span> <span class='@field_meaning ivar id'>@field_meaning</span>
  <span class='@internal_fields ivar id'>@internal_fields</span> <span class='assign token'>=</span> <span class='@fields ivar id'>@fields</span>
  <span class='raise identifier id'>raise</span> <span class='string val'>&quot;Unsupported DPD format&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='@internal_fields ivar id'>@internal_fields</span><span class='lbrack token'>[</span><span class='symbol val'>:combination</span><span class='rbrack token'>]</span><span class='eq op'>==</span><span class='integer val'>5</span> <span class='andop op'>&amp;&amp;</span> <span class='@internal_fields ivar id'>@internal_fields</span><span class='lbrack token'>[</span><span class='symbol val'>:sign</span><span class='rbrack token'>]</span><span class='eq op'>==</span><span class='integer val'>1</span> <span class='andop op'>&amp;&amp;</span> <span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>7</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='@internal_fields ivar id'>@internal_fields</span><span class='lbrack token'>[</span><span class='symbol val'>:significand_continuation</span><span class='rbrack token'>]</span><span class='mod op'>%</span><span class='integer val'>10</span><span class='rparen token'>)</span>


  <span class='@exponent_bits ivar id'>@exponent_bits</span> <span class='assign token'>=</span> <span class='integer val'>2</span> <span class='plus op'>+</span> <span class='@internal_fields ivar id'>@internal_fields</span><span class='lbrack token'>[</span><span class='symbol val'>:exponent_continuation</span><span class='rbrack token'>]</span>

  <span class='extra_bits identifier id'>extra_bits</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='@internal_fields ivar id'>@internal_fields</span><span class='lbrack token'>[</span><span class='symbol val'>:significand_continuation</span><span class='rbrack token'>]</span> <span class='mod op'>%</span> <span class='integer val'>10</span><span class='rparen token'>)</span>
  <span class='extra_digits identifier id'>extra_digits</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='extra_bits identifier id'>extra_bits</span><span class='eq op'>==</span><span class='integer val'>0</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='integer val'>0</span> <span class='colon op'>:</span> <span class='lparen token'>(</span><span class='lparen token'>(</span><span class='extra_bits identifier id'>extra_bits</span><span class='eq op'>==</span><span class='integer val'>4</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='integer val'>1</span> <span class='colon op'>:</span> <span class='integer val'>2</span><span class='rparen token'>)</span>
  <span class='@significand_digits ivar id'>@significand_digits</span> <span class='assign token'>=</span> <span class='integer val'>1</span> <span class='plus op'>+</span> <span class='integer val'>3</span><span class='mult op'>*</span><span class='lparen token'>(</span><span class='@internal_fields ivar id'>@internal_fields</span><span class='lbrack token'>[</span><span class='symbol val'>:significand_continuation</span><span class='rbrack token'>]</span><span class='div op'>/</span><span class='integer val'>10</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='extra_digits identifier id'>extra_digits</span>

  <span class='define_fields identifier id'>define_fields</span> <span class='lbrack token'>[</span><span class='symbol val'>:type</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='symbol val'>:sign</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='symbol val'>:exponent</span><span class='comma token'>,</span><span class='@exponent_bits ivar id'>@exponent_bits</span><span class='comma token'>,</span><span class='symbol val'>:significand</span><span class='comma token'>,</span><span class='@significand_digits ivar id'>@significand_digits</span><span class='rbrack token'>]</span>

  <span class='if if kw'>if</span> <span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:bias</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>

    <span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:bias_mode</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='symbol val'>:scientific_significand</span>

    <span class='@exp_limit ivar id'>@exp_limit</span> <span class='assign token'>=</span> <span class='integer val'>3</span><span class='mult op'>*</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='pow op'>**</span><span class='@internal_fields ivar id'>@internal_fields</span><span class='lbrack token'>[</span><span class='symbol val'>:exponent_continuation</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='minus op'>-</span><span class='integer val'>1</span>

    <span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:max_exp</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='@exp_limit ivar id'>@exp_limit</span><span class='div op'>/</span><span class='integer val'>2</span>
    <span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:min_exp</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='minus op'>-</span><span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:max_exp</span><span class='rbrack token'>]</span>
    <span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:max_exp</span><span class='rbrack token'>]</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='@exp_limit ivar id'>@exp_limit</span><span class='mod op'>%</span><span class='integer val'>2</span><span class='rparen token'>)</span><span class='eq op'>==</span><span class='integer val'>1</span>
    <span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:bias</span><span class='rbrack token'>]</span><span class='assign token'>=</span> <span class='minus op'>-</span><span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:min_exp</span><span class='rbrack token'>]</span>

  <span class='end end kw'>end</span>

  <span class='super super kw'>super</span>  <span class='params identifier id'>params</span>

<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>pack</h3>
</div><div id="pack-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>pack</span><span class='args'>(s, m, e)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/float-formats/classes.rb', line 1392</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jgoizueta/float-formats/blob/c5d2955058bc5dafe3f8bc9a5f6ff474e8d59fce/lib/float-formats/classes.rb#L1392">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1392
1393
1394
1395
1396
1397
1398
1399
1400
1401
1402
1403
1404
1405
1406
1407
1408
1409
1410
1411
1412
1413
1414
1415
1416
1417
1418
1419
1420
1421
1422
1423
1424
1425
1426
1427
1428
1429
1430
1431</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='pack identifier id'>pack</span><span class='lparen token'>(</span><span class='s identifier id'>s</span><span class='comma token'>,</span><span class='m identifier id'>m</span><span class='comma token'>,</span><span class='e identifier id'>e</span><span class='rparen token'>)</span>
  <span class='msb identifier id'>msb</span> <span class='assign token'>=</span> <span class='radix_power identifier id'>radix_power</span><span class='lparen token'>(</span><span class='@significand_digits ivar id'>@significand_digits</span><span class='minus op'>-</span><span class='integer val'>1</span><span class='rparen token'>)</span>
  <span class='t identifier id'>t</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='if if kw'>if</span> <span class='e identifier id'>e</span><span class='eq op'>==</span><span class='symbol val'>:zero</span>
    <span class='e identifier id'>e</span> <span class='assign token'>=</span> <span class='@zero_encoded_exp ivar id'>@zero_encoded_exp</span>
    <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='elsif elsif kw'>elsif</span> <span class='e identifier id'>e</span><span class='eq op'>==</span><span class='symbol val'>:infinity</span>
    <span class='e identifier id'>e</span> <span class='assign token'>=</span> <span class='@infinite_encoded_exp ivar id'>@infinite_encoded_exp</span> <span class='orop op'>||</span> <span class='radix_power identifier id'>radix_power</span><span class='lparen token'>(</span><span class='@fields ivar id'>@fields</span><span class='lbrack token'>[</span><span class='symbol val'>:exponent</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='minus op'>-</span><span class='integer val'>1</span>
    <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
    <span class='t identifier id'>t</span> <span class='assign token'>=</span> <span class='symbol val'>:infinity</span>
  <span class='elsif elsif kw'>elsif</span> <span class='e identifier id'>e</span><span class='eq op'>==</span><span class='symbol val'>:nan</span>
    <span class='t identifier id'>t</span> <span class='assign token'>=</span> <span class='symbol val'>:nan</span>
    <span class='e identifier id'>e</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
    <span class='s identifier id'>s</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
    <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='elsif elsif kw'>elsif</span> <span class='e identifier id'>e</span><span class='eq op'>==</span><span class='symbol val'>:denormal</span>
    <span class='e identifier id'>e</span> <span class='assign token'>=</span> <span class='@denormal_encoded_exp ivar id'>@denormal_encoded_exp</span> <span class='orop op'>||</span> <span class='@zero_encoded_exp ivar id'>@zero_encoded_exp</span>
  <span class='else else kw'>else</span>
    <span class='comment val'># TODO: try to adjust m to keep e in range if out of valid range</span>
    <span class='comment val'># TODO: reduce m and adjust e if m too big</span>

    <span class='min_exp identifier id'>min_exp</span> <span class='assign token'>=</span> <span class='radix_min_exp identifier id'>radix_min_exp</span><span class='lparen token'>(</span><span class='symbol val'>:integral_significand</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='m identifier id'>m</span><span class='gt op'>&gt;</span><span class='integer val'>0</span> <span class='andop op'>&amp;&amp;</span> <span class='false false kw'>false</span>
      <span class='while while kw'>while</span> <span class='m identifier id'>m</span><span class='lt op'>&lt;</span><span class='msb identifier id'>msb</span> <span class='andop op'>&amp;&amp;</span> <span class='e identifier id'>e</span><span class='gt op'>&gt;</span><span class='min_exp identifier id'>min_exp</span>
        <span class='e identifier id'>e</span> <span class='opasgn op'>-=</span> <span class='integer val'>1</span>
        <span class='m identifier id'>m</span> <span class='opasgn op'>*=</span> <span class='radix identifier id'>radix</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='if if kw'>if</span> <span class='m identifier id'>m</span><span class='lt op'>&lt;</span><span class='msb identifier id'>msb</span> <span class='andop op'>&amp;&amp;</span> <span class='@denormal_encoded_exp ivar id'>@denormal_encoded_exp</span> <span class='andop op'>&amp;&amp;</span> <span class='false false kw'>false</span>
      <span class='e identifier id'>e</span> <span class='assign token'>=</span> <span class='@denormal_encoded_exp ivar id'>@denormal_encoded_exp</span>
    <span class='elsif elsif kw'>elsif</span> <span class='m identifier id'>m</span><span class='eq op'>==</span><span class='integer val'>0</span> <span class='comment val'># =&gt; &amp;&amp; @denormal_encoded_exp.nil?</span>
      <span class='e identifier id'>e</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
    <span class='else else kw'>else</span>
      <span class='e identifier id'>e</span> <span class='assign token'>=</span> <span class='encode_exponent identifier id'>encode_exponent</span><span class='lparen token'>(</span><span class='e identifier id'>e</span><span class='comma token'>,</span> <span class='symbol val'>:integral_significand</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='s identifier id'>s</span> <span class='assign token'>=</span> <span class='sign_from_unit identifier id'>sign_from_unit</span><span class='lparen token'>(</span><span class='s identifier id'>s</span><span class='rparen token'>)</span>
  <span class='m identifier id'>m</span><span class='comma token'>,</span><span class='e identifier id'>e</span> <span class='assign token'>=</span> <span class='neg_significand_exponent identifier id'>neg_significand_exponent</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span><span class='m identifier id'>m</span><span class='comma token'>,</span><span class='e identifier id'>e</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='s identifier id'>s</span><span class='mod op'>%</span><span class='integer val'>2</span><span class='eq op'>==</span><span class='integer val'>1</span>
  <span class='pack_fields_hash identifier id'>pack_fields_hash</span> <span class='symbol val'>:sign=</span><span class='gt op'>&gt;</span><span class='s identifier id'>s</span><span class='comma token'>,</span> <span class='symbol val'>:significand=</span><span class='gt op'>&gt;</span><span class='m identifier id'>m</span><span class='comma token'>,</span> <span class='symbol val'>:exponent=</span><span class='gt op'>&gt;</span><span class='e identifier id'>e</span><span class='comma token'>,</span> <span class='symbol val'>:type=</span><span class='gt op'>&gt;</span><span class='t identifier id'>t</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>pack_fields</h3>
</div><div id="pack_fields-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>pack_fields</span><span class='args'>(*fields)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/float-formats/classes.rb', line 1332</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jgoizueta/float-formats/blob/c5d2955058bc5dafe3f8bc9a5f6ff474e8d59fce/lib/float-formats/classes.rb#L1332">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1332
1333
1334
1335
1336
1337
1338
1339
1340
1341
1342
1343
1344
1345
1346
1347
1348
1349
1350
1351
1352
1353
1354
1355
1356
1357
1358
1359
1360
1361
1362
1363
1364
1365</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='pack_fields identifier id'>pack_fields</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='fields identifier id'>fields</span><span class='rparen token'>)</span>
  <span class='fields identifier id'>fields</span> <span class='assign token'>=</span> <span class='fields identifier id'>fields</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='fields identifier id'>fields</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='eq op'>==</span><span class='integer val'>1</span> <span class='and and kw'>and</span> <span class='fields identifier id'>fields</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span><span class='lparen token'>(</span><span class='Array constant id'>Array</span><span class='rparen token'>)</span>
  <span class='handle_fields identifier id'>handle_fields</span> <span class='fields identifier id'>fields</span>
  <span class='type identifier id'>type</span><span class='comma token'>,</span><span class='sign identifier id'>sign</span><span class='comma token'>,</span><span class='exponent identifier id'>exponent</span><span class='comma token'>,</span><span class='significand identifier id'>significand</span> <span class='assign token'>=</span> <span class='fields identifier id'>fields</span>

  <span class='sig_hex identifier id'>sig_hex</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;%0#{@significand_digits-1}d&quot;</span><span class='mod op'>%</span><span class='significand identifier id'>significand</span>
  <span class='sig_cont_bits identifier id'>sig_cont_bits</span> <span class='assign token'>=</span> <span class='integer val'>4</span><span class='mult op'>*</span><span class='lparen token'>(</span><span class='@significand_digits ivar id'>@significand_digits</span><span class='minus op'>-</span><span class='integer val'>1</span><span class='rparen token'>)</span>
  <span class='sig_msd identifier id'>sig_msd</span> <span class='assign token'>=</span> <span class='sig_hex identifier id'>sig_hex</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
  <span class='i_significand_continuation identifier id'>i_significand_continuation</span><span class='comma token'>,</span><span class='bits identifier id'>bits</span> <span class='assign token'>=</span> <span class='hexbcd_to_dpd identifier id'>hexbcd_to_dpd</span><span class='lparen token'>(</span><span class='sig_hex identifier id'>sig_hex</span><span class='lbrack token'>[</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>



  <span class='exp_msb identifier id'>exp_msb</span> <span class='assign token'>=</span> <span class='exponent identifier id'>exponent</span><span class='rshft op'>&gt;&gt;</span><span class='lparen token'>(</span><span class='@exponent_bits ivar id'>@exponent_bits</span><span class='minus op'>-</span><span class='integer val'>2</span><span class='rparen token'>)</span>
  <span class='i_exponent_continuation identifier id'>i_exponent_continuation</span> <span class='assign token'>=</span> <span class='exponent identifier id'>exponent</span><span class='bitand op'>&amp;</span><span class='lparen token'>(</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='lshft op'>&lt;&lt;</span><span class='lparen token'>(</span><span class='@exponent_bits ivar id'>@exponent_bits</span><span class='minus op'>-</span><span class='integer val'>2</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='minus op'>-</span><span class='integer val'>1</span><span class='rparen token'>)</span>

  <span class='i_sign identifier id'>i_sign</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='lparen token'>(</span><span class='sign identifier id'>sign</span><span class='eq op'>==</span><span class='integer val'>0</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='integer val'>0</span> <span class='colon op'>:</span> <span class='integer val'>1</span><span class='rparen token'>)</span>


  <span class='case case kw'>case</span> <span class='type identifier id'>type</span>
  <span class='when when kw'>when</span> <span class='symbol val'>:infinity</span>
    <span class='i_combination identifier id'>i_combination</span> <span class='assign token'>=</span> <span class='integer val'>0x1</span><span class='E constant id'>E</span>
  <span class='when when kw'>when</span> <span class='symbol val'>:nan</span>
    <span class='i_combination identifier id'>i_combination</span> <span class='assign token'>=</span> <span class='integer val'>0x1</span><span class='F constant id'>F</span>
  <span class='else else kw'>else</span>
    <span class='if if kw'>if</span> <span class='sig_msd identifier id'>sig_msd</span><span class='bitand op'>&amp;</span><span class='integer val'>0x8</span><span class='eq op'>==</span><span class='integer val'>0</span>
      <span class='i_combination identifier id'>i_combination</span> <span class='assign token'>=</span> <span class='sig_msd identifier id'>sig_msd</span><span class='bitor op'>|</span><span class='lparen token'>(</span><span class='exp_msb identifier id'>exp_msb</span><span class='lshft op'>&lt;&lt;</span><span class='integer val'>3</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='i_combination identifier id'>i_combination</span> <span class='assign token'>=</span> <span class='sig_msd identifier id'>sig_msd</span><span class='bitor op'>|</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='lshft op'>&lt;&lt;</span><span class='integer val'>4</span><span class='rparen token'>)</span><span class='bitor op'>|</span><span class='lparen token'>(</span><span class='exp_msb identifier id'>exp_msb</span><span class='lshft op'>&lt;&lt;</span><span class='integer val'>1</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:sign=</span><span class='gt op'>&gt;</span><span class='i_sign identifier id'>i_sign</span><span class='comma token'>,</span> <span class='symbol val'>:combination=</span><span class='gt op'>&gt;</span><span class='i_combination identifier id'>i_combination</span><span class='comma token'>,</span> <span class='symbol val'>:exponent_continuation=</span><span class='gt op'>&gt;</span><span class='i_exponent_continuation identifier id'>i_exponent_continuation</span><span class='comma token'>,</span> <span class='symbol val'>:significand_continuation=</span><span class='gt op'>&gt;</span><span class='i_significand_continuation identifier id'>i_significand_continuation</span><span class='rbrace token'>}</span>
  <span class='fields identifier id'>fields</span> <span class='assign token'>=</span>  <span class='@internal_field_meaning ivar id'>@internal_field_meaning</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='f identifier id'>f</span><span class='bitor op'>|</span> <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='f identifier id'>f</span><span class='rbrack token'>]</span><span class='rbrace token'>}</span>
  <span class='Bytes constant id'>Bytes</span><span class='dot token'>.</span><span class='from_bitfields identifier id'>from_bitfields</span><span class='lparen token'>(</span><span class='@internal_field_lengths ivar id'>@internal_field_lengths</span><span class='comma token'>,</span><span class='fields identifier id'>fields</span><span class='comma token'>,</span><span class='@endianness ivar id'>@endianness</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>total_bits</h3>
</div><div id="total_bits-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>total_bits</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:stopdoc:
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/float-formats/classes.rb', line 1282</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jgoizueta/float-formats/blob/c5d2955058bc5dafe3f8bc9a5f6ff474e8d59fce/lib/float-formats/classes.rb#L1282">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1282
1283
1284</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='total_bits identifier id'>total_bits</span>
  <span class='@internal_field_lengths ivar id'>@internal_field_lengths</span><span class='dot token'>.</span><span class='inject identifier id'>inject</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='comma token'>,</span><span class='y identifier id'>y</span><span class='bitor op'>|</span> <span class='x identifier id'>x</span><span class='plus op'>+</span><span class='y identifier id'>y</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>total_bytes</h3>
</div><div id="total_bytes-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>total_bytes</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/float-formats/classes.rb', line 1285</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jgoizueta/float-formats/blob/c5d2955058bc5dafe3f8bc9a5f6ff474e8d59fce/lib/float-formats/classes.rb#L1285">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1285
1286
1287</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='total_bytes identifier id'>total_bytes</span>
  <span class='lparen token'>(</span><span class='total_bits identifier id'>total_bits</span><span class='plus op'>+</span><span class='integer val'>7</span><span class='rparen token'>)</span><span class='div op'>/</span><span class='integer val'>8</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>unpack</h3>
</div><div id="unpack-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>unpack</span><span class='args'>(v)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/float-formats/classes.rb', line 1368</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jgoizueta/float-formats/blob/c5d2955058bc5dafe3f8bc9a5f6ff474e8d59fce/lib/float-formats/classes.rb#L1368">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1368
1369
1370
1371
1372
1373
1374
1375
1376
1377
1378
1379
1380
1381
1382
1383
1384
1385
1386
1387
1388
1389
1390</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='unpack identifier id'>unpack</span><span class='lparen token'>(</span><span class='v identifier id'>v</span><span class='rparen token'>)</span>
  <span class='f identifier id'>f</span> <span class='assign token'>=</span> <span class='unpack_fields_hash identifier id'>unpack_fields_hash</span><span class='lparen token'>(</span><span class='v identifier id'>v</span><span class='rparen token'>)</span>
  <span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='f identifier id'>f</span><span class='lbrack token'>[</span><span class='symbol val'>:significand</span><span class='rbrack token'>]</span>
  <span class='e identifier id'>e</span> <span class='assign token'>=</span> <span class='f identifier id'>f</span><span class='lbrack token'>[</span><span class='symbol val'>:exponent</span><span class='rbrack token'>]</span>
  <span class='s identifier id'>s</span> <span class='assign token'>=</span> <span class='f identifier id'>f</span><span class='lbrack token'>[</span><span class='symbol val'>:sign</span><span class='rbrack token'>]</span>
  <span class='t identifier id'>t</span> <span class='assign token'>=</span> <span class='f identifier id'>f</span><span class='lbrack token'>[</span><span class='symbol val'>:type</span><span class='rbrack token'>]</span>
  <span class='m identifier id'>m</span><span class='comma token'>,</span><span class='e identifier id'>e</span> <span class='assign token'>=</span> <span class='neg_significand_exponent identifier id'>neg_significand_exponent</span><span class='lparen token'>(</span><span class='s identifier id'>s</span><span class='comma token'>,</span><span class='m identifier id'>m</span><span class='comma token'>,</span><span class='e identifier id'>e</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='s identifier id'>s</span><span class='mod op'>%</span><span class='integer val'>2</span><span class='eq op'>==</span><span class='integer val'>1</span>
  <span class='if if kw'>if</span> <span class='m identifier id'>m</span><span class='eq op'>==</span><span class='integer val'>0</span>
    <span class='comment val'># +-zero</span>
    <span class='e identifier id'>e</span> <span class='assign token'>=</span> <span class='symbol val'>:zero</span>
  <span class='elsif elsif kw'>elsif</span> <span class='t identifier id'>t</span><span class='eq op'>==</span><span class='symbol val'>:infinity</span>
    <span class='comment val'># +-inifinity</span>
    <span class='e identifier id'>e</span> <span class='assign token'>=</span> <span class='symbol val'>:infinity</span>
  <span class='elsif elsif kw'>elsif</span> <span class='t identifier id'>t</span><span class='eq op'>==</span><span class='symbol val'>:nan</span>
    <span class='comment val'># NaN</span>
    <span class='e identifier id'>e</span> <span class='assign token'>=</span> <span class='symbol val'>:nan</span>
  <span class='else else kw'>else</span>
    <span class='comment val'># normalized number</span>
     <span class='e identifier id'>e</span> <span class='assign token'>=</span> <span class='decode_exponent identifier id'>decode_exponent</span><span class='lparen token'>(</span><span class='e identifier id'>e</span><span class='comma token'>,</span> <span class='symbol val'>:integral_significand</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='s identifier id'>s</span> <span class='assign token'>=</span> <span class='sign_to_unit identifier id'>sign_to_unit</span><span class='lparen token'>(</span><span class='s identifier id'>s</span><span class='rparen token'>)</span>
  <span class='lbrack token'>[</span><span class='s identifier id'>s</span><span class='comma token'>,</span><span class='m identifier id'>m</span><span class='comma token'>,</span><span class='e identifier id'>e</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>unpack_fields</h3>
</div><div id="unpack_fields-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>unpack_fields</span><span class='args'>(v)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/float-formats/classes.rb', line 1290</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/jgoizueta/float-formats/blob/c5d2955058bc5dafe3f8bc9a5f6ff474e8d59fce/lib/float-formats/classes.rb#L1290">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">1290
1291
1292
1293
1294
1295
1296
1297
1298
1299
1300
1301
1302
1303
1304
1305
1306
1307
1308
1309
1310
1311
1312
1313
1314
1315
1316
1317
1318
1319
1320
1321
1322
1323
1324
1325
1326
1327
1328
1329
1330
1331</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='unpack_fields identifier id'>unpack_fields</span><span class='lparen token'>(</span><span class='v identifier id'>v</span><span class='rparen token'>)</span>
  <span class='comment val'># convert internal binary fields to bcd decoded fields</span>
  <span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='input_bytes identifier id'>input_bytes</span><span class='lparen token'>(</span><span class='v identifier id'>v</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_bitfields identifier id'>to_bitfields</span><span class='lparen token'>(</span><span class='@internal_field_lengths ivar id'>@internal_field_lengths</span><span class='comma token'>,</span><span class='@endianness ivar id'>@endianness</span><span class='rparen token'>)</span>
  <span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='lparen token'>(</span><span class='integer val'>0</span><span class='dot3 op'>...</span><span class='a identifier id'>a</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
    <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='@internal_field_meaning ivar id'>@internal_field_meaning</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='a identifier id'>a</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>

  <span class='i_sign identifier id'>i_sign</span> <span class='assign token'>=</span> <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='symbol val'>:sign</span><span class='rbrack token'>]</span>
  <span class='i_combination identifier id'>i_combination</span> <span class='assign token'>=</span> <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='symbol val'>:combination</span><span class='rbrack token'>]</span>
  <span class='i_exponent_continuation identifier id'>i_exponent_continuation</span> <span class='assign token'>=</span> <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='symbol val'>:exponent_continuation</span><span class='rbrack token'>]</span>
  <span class='i_significand_continuation identifier id'>i_significand_continuation</span> <span class='assign token'>=</span> <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='symbol val'>:significand_continuation</span><span class='rbrack token'>]</span>


  <span class='type identifier id'>type</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='sign identifier id'>sign</span> <span class='assign token'>=</span> <span class='i_sign identifier id'>i_sign</span><span class='eq op'>==</span><span class='integer val'>0</span> <span class='question op'>?</span> <span class='integer val'>0</span> <span class='colon op'>:</span> <span class='integer val'>9</span>

  <span class='a identifier id'>a</span><span class='comma token'>,</span><span class='b identifier id'>b</span><span class='comma token'>,</span><span class='c identifier id'>c</span><span class='comma token'>,</span><span class='d identifier id'>d</span><span class='comma token'>,</span><span class='e identifier id'>e</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='string val'>&quot;%05B&quot;</span><span class='mod op'>%</span><span class='i_combination identifier id'>i_combination</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>''</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='bit identifier id'>bit</span><span class='bitor op'>|</span> <span class='bit identifier id'>bit</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span><span class='rbrace token'>}</span>

  <span class='exp_msb identifier id'>exp_msb</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='sig_msd identifier id'>sig_msd</span> <span class='assign token'>=</span> <span class='integer val'>0</span>

  <span class='if if kw'>if</span> <span class='a identifier id'>a</span><span class='eq op'>==</span><span class='integer val'>0</span> <span class='orop op'>||</span> <span class='b identifier id'>b</span><span class='eq op'>==</span><span class='integer val'>0</span>
    <span class='exp_msb identifier id'>exp_msb</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='a identifier id'>a</span><span class='lshft op'>&lt;&lt;</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='bitor op'>|</span><span class='b identifier id'>b</span>
    <span class='sig_msd identifier id'>sig_msd</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='c identifier id'>c</span><span class='lshft op'>&lt;&lt;</span><span class='integer val'>2</span><span class='rparen token'>)</span><span class='bitor op'>|</span><span class='lparen token'>(</span><span class='d identifier id'>d</span><span class='lshft op'>&lt;&lt;</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='bitor op'>|</span><span class='e identifier id'>e</span>
  <span class='elsif elsif kw'>elsif</span> <span class='c identifier id'>c</span><span class='eq op'>==</span><span class='integer val'>0</span> <span class='orop op'>||</span> <span class='d identifier id'>d</span><span class='eq op'>==</span><span class='integer val'>0</span>
    <span class='exp_msb identifier id'>exp_msb</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='c identifier id'>c</span><span class='lshft op'>&lt;&lt;</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='bitor op'>|</span><span class='d identifier id'>d</span>
    <span class='sig_msd identifier id'>sig_msd</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='integer val'>1</span><span class='lshft op'>&lt;&lt;</span><span class='integer val'>3</span><span class='rparen token'>)</span><span class='bitor op'>|</span><span class='e identifier id'>e</span>
  <span class='elsif elsif kw'>elsif</span> <span class='e identifier id'>e</span><span class='eq op'>==</span><span class='integer val'>0</span>
    <span class='type identifier id'>type</span> <span class='assign token'>=</span> <span class='symbol val'>:infinity</span>
  <span class='else else kw'>else</span>
    <span class='type identifier id'>type</span> <span class='assign token'>=</span> <span class='symbol val'>:nan</span>
  <span class='end end kw'>end</span>


  <span class='hex_sig identifier id'>hex_sig</span> <span class='assign token'>=</span> <span class='sig_msd identifier id'>sig_msd</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
  <span class='hex_sig identifier id'>hex_sig</span> <span class='lshft op'>&lt;&lt;</span> <span class='dpd_to_hexbcd identifier id'>dpd_to_hexbcd</span><span class='lparen token'>(</span><span class='i_significand_continuation identifier id'>i_significand_continuation</span><span class='comma token'>,</span><span class='@internal_fields ivar id'>@internal_fields</span><span class='lbrack token'>[</span><span class='symbol val'>:significand_continuation</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='significand identifier id'>significand</span> <span class='assign token'>=</span> <span class='hex_sig identifier id'>hex_sig</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>

  <span class='exponent identifier id'>exponent</span> <span class='assign token'>=</span> <span class='i_exponent_continuation identifier id'>i_exponent_continuation</span> <span class='bitor op'>|</span> <span class='lparen token'>(</span><span class='exp_msb identifier id'>exp_msb</span> <span class='lshft op'>&lt;&lt;</span> <span class='lparen token'>(</span><span class='@exponent_bits ivar id'>@exponent_bits</span><span class='minus op'>-</span><span class='integer val'>2</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='lbrack token'>[</span><span class='type identifier id'>type</span><span class='comma token'>,</span><span class='sign identifier id'>sign</span><span class='comma token'>,</span><span class='exponent identifier id'>exponent</span><span class='comma token'>,</span><span class='significand identifier id'>significand</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>