<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>squeejee's upcoming-events - Class: Upcoming::Event - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/squeejee/commits/upcoming-events/master" rel="alternate" title="Recent Commits to upcoming-events:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("squeejee", "upcoming-events", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='squeejee/upcoming-events/blob/9e0d10fa763323b57fdd04b869c057780738707e' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='squeejee/upcoming-events/blob/9e0d10fa763323b57fdd04b869c057780738707e' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("squeejee", "upcoming-events", "9e0d10fa763323b57fdd04b869c057780738707e", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/squeejee/upcoming-events/tree/">Source</a></li>
            <li class=""><a href="http://github.com/squeejee/upcoming-events/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/squeejee/upcoming-events/network">Network</a></li>            
            <li class=""><a href="http://github.com/squeejee/upcoming-events/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/squeejee/upcoming-events">Wiki</a></li>
            <li class=""><a href="http://github.com/squeejee/upcoming-events/graphs">Graphs</a></li>                    
            <li class="active"><a href="/squeejee/upcoming-events">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/squeejee">squeejee</a> / <b><a href="http://github.com/squeejee/upcoming-events/tree">upcoming-events</a></b>        
                <a id="namespaces_button" rel="squeejee/upcoming-events/blob/9e0d10fa763323b57fdd04b869c057780738707e" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="squeejee/upcoming-events/blob/9e0d10fa763323b57fdd04b869c057780738707e" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Upcoming_Event">
  <h1>Class: Upcoming::Event</h1>
  <div class="section mixins">
  <h2>Included Modules</h2>
  <p><a title="Upcoming::Defaults" href="Defaults.html">Upcoming::Defaults</a></p>
</div><div class="section constants">
  
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Class Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#add-class_method">add</span><span class='args'>(info, token)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Add a new event to the database.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#add_tags-class_method">add_tags</span><span class='args'>(event_id, token, tags)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Add/Replace the user&#8217;s current tags on an event.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#best_in_place-class_method">best_in_place</span><span class='args'>(query = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Search Upcoming for featured or popular events in a specified place.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#edit-class_method">edit</span><span class='args'>(event, token)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Edit an event in the database.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#groups-class_method">groups</span><span class='args'>(event_id, token)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
For a given event_id, retrieve group information and metadata for public
and private groups that include the event in their group calendar.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#info-class_method">info</span><span class='args'>(event_id, token = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Retrieve event information and metadata for public and private events.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#remove_tag-class_method">remove_tag</span><span class='args'>(event_id, token, tag)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Remove a single tag from an event.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#search-class_method">search</span><span class='args'>(options = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Search Upcoming for public events by multiple facets.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#watch_list-class_method">watch_list</span><span class='args'>(event_id, token)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Get a watchlist for an event.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Class Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>add</h3>
</div><div id="add-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>add</span><span class='args'>(info, token)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Add a new event to the database. This method requires authentication.
</p>
<p>
<tt>token</tt> (Required) <em>An authentication token. </em>
</p>
<p>
<tt>name</tt> (Required) <em>The name of the event.</em>
</p>
<p>
<tt>venue_id</tt> (Numeric, Required) <em>The venue_id of the event. To get
a venue_id, try the venue.* series of functions.</em>
</p>
<p>
<tt>category_id</tt> (Numeric, Required) <em>The category_id of the event.
To get a category_id, try the category.* series of functions.</em>
</p>
<p>
<tt>start_date</tt> (YYYY-MM-DD, Required) <em>The start date of the event,
formatted as YYYY-MM-DD.</em>
</p>
<p>
<tt>end_date</tt> (YYYY-MM-DD, Optional) <em>The end date of the event,
formatted as YYYY-MM-DD.</em>
</p>
<p>
<tt>start_time</tt> (HH:MM:SS, Optional) <em>The start time of the event,
formatted as HH:MM:SS.</em>
</p>
<p>
<tt>end_time</tt> (HH:MM:SS, Optional) <em>The end time of the event,
formatted as HH:MM:SS.</em>
</p>
<p>
<tt>description</tt> (Optional) <em>A textual description of the
event.</em>
</p>
<p>
<tt>url</tt> (Optional) <em>The website URL for the event.</em>
</p>
<p>
<tt>personal</tt> (1 or 0, Optional, Defaults to 0) <em>A flag indicating
whether the event should be public (0), or shown only to your friends
(1).</em>
</p>
<p>
<tt>selfpromotion</tt> (1 or 0, Optional, Defaults to 0) <em>A flag
indicating whether the event should be marked as a normal event (0), or as
a self-promotional event (1).</em>
</p>
<p>
<tt>ticket_url</tt> (Optional) <em>The website URL for purchasing tickets
to the event.</em>
</p>
<p>
<tt>ticket_price</tt> (Optional) <em>The price of a ticket to the
event.</em>
</p>
<p>
<tt>ticket_free</tt> (1 or 0, Optional, Defaults to 0) <em>A flag
indicating if the event is free (1) or not (0).</em>
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/upcoming/event.rb', line 69</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/squeejee/upcoming-events/blob/9e0d10fa763323b57fdd04b869c057780738707e/lib/upcoming/event.rb#L69">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">69
70
71
72
73
74
75
76
77
78
79</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='add identifier id'>add</span><span class='lparen token'>(</span><span class='info identifier id'>info</span><span class='comma token'>,</span> <span class='token identifier id'>token</span><span class='rparen token'>)</span>
  <span class='token identifier id'>token</span> <span class='assign token'>=</span> <span class='Upcoming constant id'>Upcoming</span><span class='colon2 op'>::</span><span class='Auth constant id'>Auth</span><span class='dot token'>.</span><span class='token_code identifier id'>token_code</span><span class='lparen token'>(</span><span class='token identifier id'>token</span><span class='rparen token'>)</span>
  <span class='format identifier id'>format</span> <span class='symbol val'>:xml</span>
  <span class='body identifier id'>body</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:method</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'event.add'</span><span class='rbrace token'>}</span>
  <span class='body identifier id'>body</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:token</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='token identifier id'>token</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='body identifier id'>body</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='info identifier id'>info</span><span class='rparen token'>)</span>
  <span class='body identifier id'>body</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='Upcoming constant id'>Upcoming</span><span class='dot token'>.</span><span class='default_options identifier id'>default_options</span><span class='rparen token'>)</span>
  <span class='body identifier id'>body</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:format</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'xml'</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='event identifier id'>event</span> <span class='assign token'>=</span> <span class='Mash constant id'>Mash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='post identifier id'>post</span><span class='lparen token'>(</span><span class='string val'>'/'</span><span class='comma token'>,</span> <span class='symbol val'>:body</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='body identifier id'>body</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rsp identifier id'>rsp</span><span class='dot token'>.</span><span class='event identifier id'>event</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='info identifier id'>info</span><span class='lparen token'>(</span><span class='event identifier id'>event</span><span class='dot token'>.</span><span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='token identifier id'>token</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>add_tags</h3>
</div><div id="add_tags-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>add_tags</span><span class='args'>(event_id, token, tags)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Add/Replace the user&#8217;s current tags on an event. This method expects
to receive a string with all the tags the user wishes to have on the
object. It will replace the current set of user&#8217;s tags on the event
with the new list. This method requires authentication.
</p>
<p>
<tt>token</tt> (Required) An authentication token.
</p>
<p>
<tt>event_id</tt> (Numeric, Required) The event_id of the event. To get a
event_id, try the event.search function.
</p>
<p>
<tt>tags</tt> (String, Required) A space-separated list of tags. Surround
multi-word tags with quotes.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/upcoming/event.rb', line 155</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/squeejee/upcoming-events/blob/9e0d10fa763323b57fdd04b869c057780738707e/lib/upcoming/event.rb#L155">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">155
156
157
158
159
160
161
162
163
164
165
166</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='add_tags identifier id'>add_tags</span><span class='lparen token'>(</span><span class='event_id identifier id'>event_id</span><span class='comma token'>,</span> <span class='token identifier id'>token</span><span class='comma token'>,</span> <span class='tags identifier id'>tags</span><span class='rparen token'>)</span>
  <span class='token identifier id'>token</span> <span class='assign token'>=</span> <span class='Upcoming constant id'>Upcoming</span><span class='colon2 op'>::</span><span class='Auth constant id'>Auth</span><span class='dot token'>.</span><span class='token_code identifier id'>token_code</span><span class='lparen token'>(</span><span class='token identifier id'>token</span><span class='rparen token'>)</span>
  <span class='format identifier id'>format</span> <span class='symbol val'>:xml</span>
  <span class='body identifier id'>body</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:method</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'event.addTags'</span><span class='rbrace token'>}</span>
  <span class='body identifier id'>body</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:token</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='token identifier id'>token</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='tag_list identifier id'>tag_list</span> <span class='assign token'>=</span> <span class='tags identifier id'>tags</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='t identifier id'>t</span><span class='bitor op'>|</span> <span class='dstring node'>&quot;\&quot;#{t}\&quot;&quot;</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>' '</span><span class='rparen token'>)</span>
  <span class='body identifier id'>body</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:event_id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='event_id identifier id'>event_id</span><span class='comma token'>,</span> <span class='symbol val'>:tags</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='tag_list identifier id'>tag_list</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='body identifier id'>body</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='Upcoming constant id'>Upcoming</span><span class='dot token'>.</span><span class='default_options identifier id'>default_options</span><span class='rparen token'>)</span>
  <span class='body identifier id'>body</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:format</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'xml'</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='event identifier id'>event</span> <span class='assign token'>=</span> <span class='Mash constant id'>Mash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='post identifier id'>post</span><span class='lparen token'>(</span><span class='string val'>'/'</span><span class='comma token'>,</span> <span class='symbol val'>:body</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='body identifier id'>body</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rsp identifier id'>rsp</span><span class='dot token'>.</span><span class='event identifier id'>event</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='info identifier id'>info</span><span class='lparen token'>(</span><span class='event identifier id'>event</span><span class='dot token'>.</span><span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='token identifier id'>token</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>best_in_place</h3>
</div><div id="best_in_place-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>best_in_place</span><span class='args'>(query = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Search Upcoming for featured or popular events in a specified place
</p>
<p>
<tt>location</tt> (Optional) Only for use in proximity search within the
US, the location parameter, if provided, will attempt to restrict search
results to areas near that location. This may either be formatted as a
comma-separated latitude and longitude (i.e. &quot;37.821, -111.179&quot;),
or a fulltext location similar to the following:
</p>
<pre class="code">
    <span class='mult op'>*</span> <span class='City constant id'>City</span><span class='comma token'>,</span> <span class='State constant id'>State</span>
    <span class='mult op'>*</span> <span class='City constant id'>City</span><span class='comma token'>,</span> <span class='State constant id'>State</span><span class='comma token'>,</span> <span class='Zip constant id'>Zip</span>
    <span class='mult op'>*</span> <span class='Zip constant id'>Zip</span>
    <span class='mult op'>*</span> <span class='Street constant id'>Street</span><span class='comma token'>,</span> <span class='City constant id'>City</span><span class='comma token'>,</span> <span class='State constant id'>State</span>
    <span class='mult op'>*</span> <span class='Street constant id'>Street</span><span class='comma token'>,</span> <span class='City constant id'>City</span><span class='comma token'>,</span> <span class='State constant id'>State</span><span class='comma token'>,</span> <span class='Zip constant id'>Zip</span>
    <span class='mult op'>*</span> <span class='Street constant id'>Street</span><span class='comma token'>,</span> <span class='Zip constant id'>Zip</span>
</pre>
<p>
Any search that uses the location parameter will add the additional data
elements &quot;distance&quot; and &quot;distance_units&quot; to the result
set.
</p>
<p>
<tt>radius</tt> (mi) (Optional, Default: 50mi., Max: 100mi.) If location is
specified, then event.search will look for a radius parameter. Otherwise,
it will use 50mi. as the radius of the search.
</p>
<p>
<tt>place_id</tt> (Optional) An string ID like
&#8216;kH8dL0ubBZrvX_YZ&#8217;, denoting a specific named geographical
area. These can be seen in Upcoming &#8216;place&#8217; URLs such as
&lt;http://upcoming.yahoo.com/place/kH8dLOubBZRvX_YZ&gt;, denoting the city
of San Francisco, California, USA. Using a Place ID yields events from the
exact boundaries of the place, and is not affected by the radius parameter.
Eventually, Place IDs will replace the country_id, state_id, and metro_id
parameters used below. However, those parameters are not deprecated yet.
</p>
<p>
<tt>country_id</tt> (Numeric, Optional) The country_id of the event, used
to narrow down the responses. To get a country_id, try the
metro.getCountryList function.
</p>
<p>
<tt>state_id</tt> (Numeric, Optional) The state_id of the event, used to
narrow down the responses. To get a state_id, try the metro.getStateList
function.
</p>
<p>
<tt>metro_id</tt> (Numeric, Optional) The metro_id of the event, used to
narrow down the responses. To get a metro_id, try the metro.getList
function.
</p>
<p>
<tt>woeid</tt> (Optional) The WOEID of the place to which search results
will be restricted.
</p>
<p>
<tt>per_page</tt> (Numeric, Optional, Default = 10) Number of results to
return per page. Max is 10 per page.
</p>
<p>
<tt>sort</tt> (String, Optional) The field and direction on which to sort
the results. Meaningful values:
</p>
<pre class="code">
    <span class='mult op'>*</span> <span class='minus op'>-</span> <span class='score identifier id'>score</span><span class='minus op'>-</span><span class='asc identifier id'>asc</span> <span class='lparen token'>(</span><span class='Relevance constant id'>Relevance</span> <span class='ascending identifier id'>ascending</span><span class='rparen token'>)</span>
    <span class='mult op'>*</span> <span class='minus op'>-</span> <span class='score identifier id'>score</span><span class='minus op'>-</span><span class='desc identifier id'>desc</span> <span class='lparen token'>(</span><span class='Relevance constant id'>Relevance</span> <span class='descending identifier id'>descending</span><span class='rparen token'>)</span>
</pre>
<p>
<tt>filter</tt> (String, Optional, Default = popular) Use this to filter
the search results to get the best type of events in the given place.
Meaningful values:
</p>
<pre class="code">
    <span class='mult op'>*</span> <span class='minus op'>-</span> <span class='popular identifier id'>popular</span> <span class='lparen token'>(</span><span class='Retrieve constant id'>Retrieve</span> <span class='the identifier id'>the</span> <span class='events identifier id'>events</span> <span class='in in kw'>in</span> <span class='my identifier id'>my</span> <span class='area identifier id'>area</span> <span class='that identifier id'>that</span> <span class='others identifier id'>others</span> <span class='in in kw'>in</span> <span class='my identifier id'>my</span> <span class='area identifier id'>area</span> <span class='find identifier id'>find</span> <span class='interesting identifier id'>interesting</span><span class='rparen token'>)</span>
    <span class='mult op'>*</span> <span class='minus op'>-</span> <span class='featured identifier id'>featured</span> <span class='lparen token'>(</span><span class='Retrieve constant id'>Retrieve</span> <span class='the identifier id'>the</span> <span class='events identifier id'>events</span> <span class='in in kw'>in</span> <span class='my identifier id'>my</span> <span class='area identifier id'>area</span> <span class='that identifier id'>that</span> <span class='look identifier id'>look</span> <span class='interesting identifier id'>interesting</span><span class='rparen token'>)</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/upcoming/event.rb', line 374</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/squeejee/upcoming-events/blob/9e0d10fa763323b57fdd04b869c057780738707e/lib/upcoming/event.rb#L374">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">374
375
376</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='best_in_place identifier id'>best_in_place</span><span class='lparen token'>(</span><span class='query identifier id'>query</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='Mash constant id'>Mash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='string val'>'/'</span><span class='comma token'>,</span> <span class='symbol val'>:query</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='symbol val'>:method</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'event.getBestInPlace'</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='Upcoming constant id'>Upcoming</span><span class='dot token'>.</span><span class='default_options identifier id'>default_options</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rsp identifier id'>rsp</span><span class='dot token'>.</span><span class='event identifier id'>event</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>edit</h3>
</div><div id="edit-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>edit</span><span class='args'>(event, token)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Edit an event in the database. Missing parameters will clear out their
corresponding values in the event. You must authenticate as the user who
added the event to do this. This method requires authentication.
</p>
<p>
<tt>token</tt> (Required) An authentication token.
</p>
<p>
<tt>event_id</tt> (Required) The id of the event to edit.
</p>
<p>
<tt>name</tt> (Required) The name of the event.
</p>
<p>
<tt>venue_id</tt> (Numeric, Required) The venue_id of the event. To get a
venue_id, try the venue.* series of functions.
</p>
<p>
<tt>category_id</tt> (Numeric, Required) The category_id of the event. To
get a category_id, try the category.* series of functions.
</p>
<p>
<tt>start_date</tt> (YYYY-MM-DD, Required) The start date of the event,
formatted as YYYY-MM-DD.
</p>
<p>
<tt>end_date</tt> (YYYY-MM-DD, Optional) The end date of the event,
formatted as YYYY-MM-DD.
</p>
<p>
<tt>start_time</tt> (HH:MM:SS, Optional) The start time of the event,
formatted as HH:MM:SS.
</p>
<p>
<tt>end_time</tt> (HH:MM:SS, Optional) The end time of the event, formatted
as HH:MM:SS.
</p>
<p>
<tt>description</tt> (Optional) A textual description of the event.
</p>
<p>
<tt>url</tt> (Optional) The website URL for the event.
</p>
<p>
<tt>personal</tt> (1 or 0, Optional, Defaults to 0) A flag indicating
whether the event should be public (0), or shown only to your friends (1).
</p>
<p>
<tt>selfpromotion</tt> (1 or 0, Optional, Defaults to 0) A flag indicating
whether the event should be marked as a normal event (0), or as a
self-promotional event (1).
</p>
<p>
<tt>ticket_url</tt> (Optional) The website URL for purchasing tickets to
the event.
</p>
<p>
<tt>ticket_price</tt> (Optional) The price of a ticket to the event.
</p>
<p>
<tt>ticket_free</tt> (1 or 0, Optional, Defaults to 0) A flag indicating if
the event is free (1) or not (0).
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/upcoming/event.rb', line 131</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/squeejee/upcoming-events/blob/9e0d10fa763323b57fdd04b869c057780738707e/lib/upcoming/event.rb#L131">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">131
132
133
134
135
136
137
138
139
140
141</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='edit identifier id'>edit</span><span class='lparen token'>(</span><span class='event identifier id'>event</span><span class='comma token'>,</span> <span class='token identifier id'>token</span><span class='rparen token'>)</span>
  <span class='token identifier id'>token</span> <span class='assign token'>=</span> <span class='Upcoming constant id'>Upcoming</span><span class='colon2 op'>::</span><span class='Auth constant id'>Auth</span><span class='dot token'>.</span><span class='token_code identifier id'>token_code</span><span class='lparen token'>(</span><span class='token identifier id'>token</span><span class='rparen token'>)</span>
  <span class='format identifier id'>format</span> <span class='symbol val'>:xml</span>
  <span class='body identifier id'>body</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:method</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'event.edit'</span><span class='rbrace token'>}</span>
  <span class='body identifier id'>body</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:token</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='token identifier id'>token</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='body identifier id'>body</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='event identifier id'>event</span><span class='rparen token'>)</span>
  <span class='body identifier id'>body</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='Upcoming constant id'>Upcoming</span><span class='dot token'>.</span><span class='default_options identifier id'>default_options</span><span class='rparen token'>)</span>
  <span class='body identifier id'>body</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:format</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'xml'</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='event identifier id'>event</span> <span class='assign token'>=</span> <span class='Mash constant id'>Mash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='post identifier id'>post</span><span class='lparen token'>(</span><span class='string val'>'/'</span><span class='comma token'>,</span> <span class='symbol val'>:body</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='body identifier id'>body</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rsp identifier id'>rsp</span><span class='dot token'>.</span><span class='event identifier id'>event</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='info identifier id'>info</span><span class='lparen token'>(</span><span class='event identifier id'>event</span><span class='dot token'>.</span><span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='token identifier id'>token</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>groups</h3>
</div><div id="groups-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>groups</span><span class='args'>(event_id, token)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
For a given event_id, retrieve group information and metadata for public
and private groups that include the event in their group calendar.
</p>
<p>
<tt>event_id</tt> (Required) The id number of the event.
</p>
<p>
<tt>token</tt> (Optional) An authentication token. Pass to see even private
groups.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/upcoming/event.rb', line 319</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/squeejee/upcoming-events/blob/9e0d10fa763323b57fdd04b869c057780738707e/lib/upcoming/event.rb#L319">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">319
320
321
322
323</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='groups identifier id'>groups</span><span class='lparen token'>(</span><span class='event_id identifier id'>event_id</span><span class='comma token'>,</span> <span class='token identifier id'>token</span><span class='rparen token'>)</span>
  <span class='query identifier id'>query</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:method</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'event.getGroups'</span><span class='comma token'>,</span> <span class='symbol val'>:token</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='token identifier id'>token</span><span class='comma token'>,</span> <span class='symbol val'>:event_id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='event_id identifier id'>event_id</span> <span class='rbrace token'>}</span>
  <span class='Mash constant id'>Mash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='string val'>'/'</span><span class='comma token'>,</span> <span class='symbol val'>:query</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='query identifier id'>query</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='Upcoming constant id'>Upcoming</span><span class='dot token'>.</span><span class='default_options identifier id'>default_options</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rsp identifier id'>rsp</span><span class='dot token'>.</span><span class='group identifier id'>group</span>
  
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>info</h3>
</div><div id="info-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>info</span><span class='args'>(event_id, token = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Retrieve event information and metadata for public and private events.
</p>
<p>
<tt>event_id</tt> (Required) <em>The id number of the event. You can also
pass multiple event_id&#8217;s as an array or separated by commas to
getInfo on multiple events.</em>
</p>
<p>
<tt>token</tt> (Optional) <em>An authentication token. Pass to see even
private events.</em>
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/upcoming/event.rb', line 13</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/squeejee/upcoming-events/blob/9e0d10fa763323b57fdd04b869c057780738707e/lib/upcoming/event.rb#L13">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">13
14
15
16
17
18
19
20</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='info identifier id'>info</span><span class='lparen token'>(</span><span class='event_id identifier id'>event_id</span><span class='comma token'>,</span> <span class='token identifier id'>token</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='token identifier id'>token</span> <span class='assign token'>=</span> <span class='token identifier id'>token</span><span class='lbrack token'>[</span><span class='string val'>'token'</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='token identifier id'>token</span> <span class='and and kw'>and</span> <span class='token identifier id'>token</span><span class='lbrack token'>[</span><span class='string val'>'token'</span><span class='rbrack token'>]</span>
  <span class='event_id identifier id'>event_id</span> <span class='assign token'>=</span> <span class='event_id identifier id'>event_id</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>','</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='event_id identifier id'>event_id</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Array constant id'>Array</span><span class='rparen token'>)</span>
  <span class='query identifier id'>query</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:method</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'event.getInfo'</span><span class='comma token'>,</span> <span class='symbol val'>:event_id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='event_id identifier id'>event_id</span><span class='rbrace token'>}</span>
  <span class='query identifier id'>query</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='symbol val'>:token</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='token identifier id'>token</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='token identifier id'>token</span><span class='dot token'>.</span><span class='blank? fid id'>blank?</span>
  <span class='format identifier id'>format</span> <span class='symbol val'>:json</span>
  <span class='Mash constant id'>Mash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='string val'>'/'</span><span class='comma token'>,</span> <span class='symbol val'>:query</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='query identifier id'>query</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='Upcoming constant id'>Upcoming</span><span class='dot token'>.</span><span class='default_options identifier id'>default_options</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rsp identifier id'>rsp</span><span class='dot token'>.</span><span class='event identifier id'>event</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>remove_tag</h3>
</div><div id="remove_tag-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>remove_tag</span><span class='args'>(event_id, token, tag)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Remove a single tag from an event. This method requires authentication.
</p>
<p>
<tt>token</tt> (Required) An authentication token.
</p>
<p>
<tt>event_id</tt> (Numeric, Required) The event_id of the event. To get a
event_id, try the event.search function.
</p>
<p>
<tt>tag</tt> (String, Required) A single &quot;raw&quot; tag to remove. A
raw tag is the original string provided to tag the object with that also
appear in the Event Detail page on Upcoming. These are not the normalized
form used for searches, or returned via the API event.getInfo method. Note:
This might mean that you need to keep track of tags added by users in your
application.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/upcoming/event.rb', line 180</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/squeejee/upcoming-events/blob/9e0d10fa763323b57fdd04b869c057780738707e/lib/upcoming/event.rb#L180">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">180
181
182
183
184
185
186
187
188
189
190</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='remove_tag identifier id'>remove_tag</span><span class='lparen token'>(</span><span class='event_id identifier id'>event_id</span><span class='comma token'>,</span> <span class='token identifier id'>token</span><span class='comma token'>,</span> <span class='tag identifier id'>tag</span><span class='rparen token'>)</span>
  <span class='token identifier id'>token</span> <span class='assign token'>=</span> <span class='Upcoming constant id'>Upcoming</span><span class='colon2 op'>::</span><span class='Auth constant id'>Auth</span><span class='dot token'>.</span><span class='token_code identifier id'>token_code</span><span class='lparen token'>(</span><span class='token identifier id'>token</span><span class='rparen token'>)</span>
  <span class='format identifier id'>format</span> <span class='symbol val'>:xml</span>
  <span class='body identifier id'>body</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:method</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'event.removeTag'</span><span class='rbrace token'>}</span>
  <span class='body identifier id'>body</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:token</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='token identifier id'>token</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='body identifier id'>body</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:event_id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='event_id identifier id'>event_id</span><span class='comma token'>,</span> <span class='symbol val'>:tag</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='tag identifier id'>tag</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='body identifier id'>body</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='Upcoming constant id'>Upcoming</span><span class='dot token'>.</span><span class='default_options identifier id'>default_options</span><span class='rparen token'>)</span>
  <span class='body identifier id'>body</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:format</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'xml'</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='event identifier id'>event</span> <span class='assign token'>=</span> <span class='Mash constant id'>Mash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='post identifier id'>post</span><span class='lparen token'>(</span><span class='string val'>'/'</span><span class='comma token'>,</span> <span class='symbol val'>:body</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='body identifier id'>body</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rsp identifier id'>rsp</span><span class='dot token'>.</span><span class='event identifier id'>event</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='info identifier id'>info</span><span class='lparen token'>(</span><span class='event identifier id'>event</span><span class='dot token'>.</span><span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='token identifier id'>token</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>search</h3>
</div><div id="search-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>search</span><span class='args'>(options = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Search Upcoming for public events by multiple facets. If optional
authentication is provided, event.search also searches private events.
</p>
<p>
<tt>search_text</tt> (Optional) The search terms to be used to look for
events. To collect all events with other filters applied, do not pass a
search_text.
</p>
<p>
<tt>location</tt> (Optional) Only for use in proximity search within the
US, the location parameter, if provided, will attempt to restrict search
results to areas near that location. This may either be formatted as a
comma-separated latitude and longitude (i.e. &quot;37.821, -111.179&quot;),
or a fulltext location similar to the following:
</p>
<pre class="code">
    <span class='mult op'>*</span> <span class='City constant id'>City</span><span class='comma token'>,</span> <span class='State constant id'>State</span>
    <span class='mult op'>*</span> <span class='City constant id'>City</span><span class='comma token'>,</span> <span class='State constant id'>State</span><span class='comma token'>,</span> <span class='Zip constant id'>Zip</span>
    <span class='mult op'>*</span> <span class='Zip constant id'>Zip</span>
    <span class='mult op'>*</span> <span class='Street constant id'>Street</span><span class='comma token'>,</span> <span class='City constant id'>City</span><span class='comma token'>,</span> <span class='State constant id'>State</span>
    <span class='mult op'>*</span> <span class='Street constant id'>Street</span><span class='comma token'>,</span> <span class='City constant id'>City</span><span class='comma token'>,</span> <span class='State constant id'>State</span><span class='comma token'>,</span> <span class='Zip constant id'>Zip</span>
    <span class='mult op'>*</span> <span class='Street constant id'>Street</span><span class='comma token'>,</span> <span class='Zip constant id'>Zip</span>
</pre>
<p>
Any search that uses the location parameter will add the additional data
elements &quot;distance&quot; and &quot;distance_units&quot; to the result
set.
</p>
<p>
<tt>radius</tt> (mi) (Optional, Default: 50mi., Max: 100mi.) If location is
specified, then event.search will look for a radius parameter. Otherwise,
it will use 50mi. as the radius of the search.
</p>
<p>
<tt>place_id</tt> (Optional) An string ID like
&#8216;kH8dL0ubBZrvX_YZ&#8217;, denoting a specific named geographical
area. These can be seen in Upcoming &#8216;place&#8217; URLs such as
&lt;http://upcoming.yahoo.com/place/kH8dLOubBZRvX_YZ&gt;, denoting the city
of San Francisco, California, USA. Using a Place ID yields events from the
exact boundaries of the place, and is not affected by the radius parameter.
Eventually, Place IDs will replace the country_id, state_id, and metro_id
parameters used below. However, those parameters are not deprecated yet.
</p>
<p>
<tt>country_id</tt> (Numeric, Optional) The country_id of the event, used
to narrow down the responses. To get a country_id, try the
metro.getCountryList function.
</p>
<p>
<tt>state_id</tt> (Numeric, Optional) The state_id of the event, used to
narrow down the responses. To get a state_id, try the metro.getStateList
function.
</p>
<p>
<tt>metro_id</tt> (Numeric, Optional) The metro_id of the event, used to
narrow down the responses. To get a metro_id, try the metro.getList
function.
</p>
<p>
<tt>venue_id</tt> (Numeric, Optional) A venue_id to search within. To get a
venue_id, try the venue.* series of functions.
</p>
<p>
<tt>woeid</tt> (Optional) The WOEID of the place to which search results
will be restricted.
</p>
<p>
<tt>category_id</tt> (CSV Numeric, Optional) A category_id integer or
comma-separated list of category ids to search within. To get a
category_id, try the category.getList function.
</p>
<p>
<tt>min_date</tt> (YYYY-MM-DD, Optional) Search all events after this date,
formatted as YYYY-MM-DD.
</p>
<p>
<tt>max_date</tt> (YYYY-MM-DD, Optional) Search all events before this
date, formatted as YYYY-MM-DD.
</p>
<p>
<tt>tags</tt> (Optional) A comma-separated list of tags. Events that have
been tagged with any of the tags passed will be returned. 20 tags max.
</p>
<p>
<tt>per_page</tt> (Numeric, Optional, Default = 100) Number of results to
return per page. Max is 100 per page.
</p>
<p>
<tt>page</tt> (Numeric, Optional, Default = 1) The page number of results
to return.
</p>
<p>
<tt>sort</tt> (String, Optional, Default = start-date-asc) The field and
direction on which to sort the results. Distance sorts must ONLY be used if
location is specified. Meaningful values:
</p>
<pre class="code">
    <span class='mult op'>*</span> <span class='minus op'>-</span> <span class='distance identifier id'>distance</span><span class='minus op'>-</span><span class='asc identifier id'>asc</span> <span class='lparen token'>(</span><span class='Distance constant id'>Distance</span> <span class='from identifier id'>from</span> <span class='provided identifier id'>provided</span> <span class='location identifier id'>location</span><span class='comma token'>,</span> <span class='ascending identifier id'>ascending</span><span class='rparen token'>)</span>
    <span class='mult op'>*</span> <span class='minus op'>-</span> <span class='name identifier id'>name</span><span class='minus op'>-</span><span class='asc identifier id'>asc</span> <span class='lparen token'>(</span><span class='Event constant id'>Event</span> <span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='descending identifier id'>descending</span> <span class='alphabetically identifier id'>alphabetically</span><span class='rparen token'>)</span>
    <span class='mult op'>*</span> <span class='minus op'>-</span> <span class='name identifier id'>name</span><span class='minus op'>-</span><span class='desc identifier id'>desc</span> <span class='lparen token'>(</span><span class='Event constant id'>Event</span> <span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='ascending identifier id'>ascending</span> <span class='alphabetically identifier id'>alphabetically</span><span class='rparen token'>)</span>
    <span class='mult op'>*</span> <span class='minus op'>-</span> <span class='start identifier id'>start</span><span class='minus op'>-</span><span class='date identifier id'>date</span><span class='minus op'>-</span><span class='asc identifier id'>asc</span> <span class='lparen token'>(</span><span class='Event constant id'>Event</span><span class='string val'>'s start date, in chronological order)
    * - start-date-desc (Event'</span><span class='s identifier id'>s</span> <span class='start identifier id'>start</span> <span class='date identifier id'>date</span><span class='comma token'>,</span> <span class='in in kw'>in</span> <span class='reverse identifier id'>reverse</span> <span class='chronological identifier id'>chronological</span> <span class='order identifier id'>order</span><span class='rparen token'>)</span>
    <span class='mult op'>*</span> <span class='minus op'>-</span> <span class='posted identifier id'>posted</span><span class='minus op'>-</span><span class='date identifier id'>date</span><span class='minus op'>-</span><span class='asc identifier id'>asc</span> <span class='lparen token'>(</span><span class='The constant id'>The</span> <span class='date identifier id'>date</span> <span class='the identifier id'>the</span> <span class='event identifier id'>event</span> <span class='was identifier id'>was</span> <span class='added identifier id'>added</span> <span class='to identifier id'>to</span> <span class='Upcoming constant id'>Upcoming</span><span class='comma token'>,</span> <span class='in in kw'>in</span> <span class='chronological identifier id'>chronological</span> <span class='order identifier id'>order</span><span class='rparen token'>)</span>
    <span class='mult op'>*</span> <span class='minus op'>-</span> <span class='posted identifier id'>posted</span><span class='minus op'>-</span><span class='date identifier id'>date</span><span class='minus op'>-</span><span class='desc identifier id'>desc</span> <span class='lparen token'>(</span><span class='The constant id'>The</span> <span class='date identifier id'>date</span> <span class='the identifier id'>the</span> <span class='event identifier id'>event</span> <span class='was identifier id'>was</span> <span class='added identifier id'>added</span> <span class='to identifier id'>to</span> <span class='Upcoming constant id'>Upcoming</span><span class='comma token'>,</span> <span class='in in kw'>in</span> <span class='reverse identifier id'>reverse</span> <span class='chronological identifier id'>chronological</span> <span class='order identifier id'>order</span><span class='rparen token'>)</span>
</pre>
<p>
<tt>backfill</tt> (String, Optional) If the first page of results returned
has fewer than per_page results, try expanding the search. Meaningful
values:
</p>
<pre class="code">
    <span class='mult op'>*</span> <span class='minus op'>-</span> <span class='later identifier id'>later</span> <span class='lparen token'>(</span><span class='Remove constant id'>Remove</span> <span class='any identifier id'>any</span> <span class='limits identifier id'>limits</span> <span class='on identifier id'>on</span> <span class='maximum identifier id'>maximum</span> <span class='starting identifier id'>starting</span> <span class='date identifier id'>date</span><span class='rparen token'>)</span>
    <span class='mult op'>*</span> <span class='minus op'>-</span> <span class='further identifier id'>further</span> <span class='lparen token'>(</span><span class='Double constant id'>Double</span> <span class='the identifier id'>the</span> <span class='existing identifier id'>existing</span> <span class='search identifier id'>search</span> <span class='radius identifier id'>radius</span><span class='comma token'>,</span> <span class='up identifier id'>up</span> <span class='to identifier id'>to</span> <span class='integer val'>200</span> <span class='miles identifier id'>miles</span><span class='rparen token'>)</span>
</pre>
<p>
<tt>variety</tt> (Boolean, Optional) Attempt to provide more varied
results. Currently, this is implemented as not showing more than one event
of each category. This will greatly reduce the amount of results returned.
This feature is intended for situations where you want to show a great
diversity of results in a small space. Meaningful values:
</p>
<pre class="code">
    <span class='mult op'>*</span> <span class='minus op'>-</span> <span class='integer val'>1</span> <span class='lparen token'>(</span><span class='that identifier id'>that</span> <span class='is identifier id'>is</span><span class='comma token'>,</span> <span class='use identifier id'>use</span> <span class='parameter identifier id'>parameter</span> <span class='in in kw'>in</span> <span class='URL constant id'>URL</span> <span class='as identifier id'>as</span> <span class='string val'>'variety=1'</span><span class='rparen token'>)</span>
</pre>
<p>
<tt>rollup</tt> (String, Optional) Used to display all future events of an
event. By default only the last event of an event is displayed. This option
provides the mechanism to override that behavior. Meaningful values:
</p>
<pre class="code">
    <span class='mult op'>*</span> <span class='minus op'>-</span> <span class='none identifier id'>none</span> <span class='lparen token'>(</span><span class='Display constant id'>Display</span> <span class='all identifier id'>all</span> <span class='future identifier id'>future</span> <span class='events identifier id'>events</span> <span class='of identifier id'>of</span> <span class='an identifier id'>an</span> <span class='event identifier id'>event</span><span class='rparen token'>)</span>
</pre>
<p>
<tt>token</tt> (Optional) An authentication token.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/upcoming/event.rb', line 291</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/squeejee/upcoming-events/blob/9e0d10fa763323b57fdd04b869c057780738707e/lib/upcoming/event.rb#L291">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">291
292
293</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='search identifier id'>search</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='Mash constant id'>Mash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='string val'>'/'</span><span class='comma token'>,</span> <span class='symbol val'>:query</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='symbol val'>:method</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'event.search'</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='Upcoming constant id'>Upcoming</span><span class='dot token'>.</span><span class='default_options identifier id'>default_options</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rsp identifier id'>rsp</span><span class='dot token'>.</span><span class='event identifier id'>event</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>watch_list</h3>
</div><div id="watch_list-class_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>watch_list</span><span class='args'>(event_id, token)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Get a watchlist for an event. You must pass authentication parameters for
this function. You will only be shown your own private events plus those of
people who have marked you as a friend. Returns user nodes for each user on
the watchlist. Returns either status=&quot;attend&quot; or
status=&quot;watch&quot;
</p>
<p>
<tt>token</tt> (Required) An authentication token.
</p>
<p>
<tt>event_id</tt> (Required) The id of the event.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/upcoming/event.rb', line 305</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/squeejee/upcoming-events/blob/9e0d10fa763323b57fdd04b869c057780738707e/lib/upcoming/event.rb#L305">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">305
306
307
308</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='watch_list identifier id'>watch_list</span><span class='lparen token'>(</span><span class='event_id identifier id'>event_id</span><span class='comma token'>,</span> <span class='token identifier id'>token</span><span class='rparen token'>)</span>
  <span class='query identifier id'>query</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:method</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'event.getWatchList'</span><span class='comma token'>,</span> <span class='symbol val'>:token</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='token identifier id'>token</span><span class='comma token'>,</span> <span class='symbol val'>:event_id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='event_id identifier id'>event_id</span> <span class='rbrace token'>}</span>
  <span class='Mash constant id'>Mash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='string val'>'/'</span><span class='comma token'>,</span> <span class='symbol val'>:query</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='query identifier id'>query</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='Upcoming constant id'>Upcoming</span><span class='dot token'>.</span><span class='default_options identifier id'>default_options</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rsp identifier id'>rsp</span><span class='dot token'>.</span><span class='user identifier id'>user</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>