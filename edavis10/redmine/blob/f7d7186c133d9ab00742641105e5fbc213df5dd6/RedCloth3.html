<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>edavis10's redmine - Class: RedCloth3 - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/edavis10/commits/redmine/master" rel="alternate" title="Recent Commits to redmine:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("edavis10", "redmine", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='edavis10/redmine/blob/f7d7186c133d9ab00742641105e5fbc213df5dd6' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='edavis10/redmine/blob/f7d7186c133d9ab00742641105e5fbc213df5dd6' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("edavis10", "redmine", "f7d7186c133d9ab00742641105e5fbc213df5dd6", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/edavis10/redmine/tree/">Source</a></li>
            <li class=""><a href="http://github.com/edavis10/redmine/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/edavis10/redmine/network">Network</a></li>            
            <li class=""><a href="http://github.com/edavis10/redmine/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/edavis10/redmine">Wiki</a></li>
            <li class=""><a href="http://github.com/edavis10/redmine/graphs">Graphs</a></li>                    
            <li class="active"><a href="/edavis10/redmine">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/edavis10">edavis10</a> / <b><a href="http://github.com/edavis10/redmine/tree">redmine</a></b>        
                <a id="namespaces_button" rel="edavis10/redmine/blob/f7d7186c133d9ab00742641105e5fbc213df5dd6" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="edavis10/redmine/blob/f7d7186c133d9ab00742641105e5fbc213df5dd6" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class RedCloth3">
  <h1>Class: RedCloth3</h1>
  <div class="section inheritance">
  <ul>
  <li><a title="String" href="String.html">String</a></li><ul><li>RedCloth3</li>
  </ul></ul>
</div><div class="section docstring">
  <p>
RedCloth is a Ruby library for converting Textile and/or Markdown into
HTML. You can use either format, intermingled or separately. You can also
extend RedCloth to honor your own custom text stylings.
</p>
<p>
RedCloth users are encouraged to use Textile if they are generating HTML
and to use Markdown if others will be viewing the plain text.
</p>
<h2>What is Textile?</h2>
<p>
Textile is a simple formatting style for text documents, loosely based on
some HTML conventions.
</p>
<h2>Sample Textile Text</h2>
<pre class="code">
 <span class='h2 identifier id'>h2</span><span class='dot token'>.</span> <span class='This constant id'>This</span> <span class='is identifier id'>is</span> <span class='a identifier id'>a</span> <span class='title identifier id'>title</span>

 <span class='h3 identifier id'>h3</span><span class='dot token'>.</span> <span class='This constant id'>This</span> <span class='is identifier id'>is</span> <span class='a identifier id'>a</span> <span class='subhead identifier id'>subhead</span>

 <span class='This constant id'>This</span> <span class='is identifier id'>is</span> <span class='a identifier id'>a</span> <span class='bit identifier id'>bit</span> <span class='of identifier id'>of</span> <span class='paragraph identifier id'>paragraph</span><span class='dot token'>.</span>

 <span class='bq identifier id'>bq</span><span class='dot token'>.</span> <span class='This constant id'>This</span> <span class='is identifier id'>is</span> <span class='a identifier id'>a</span> <span class='blockquote identifier id'>blockquote</span><span class='dot token'>.</span>
</pre>
<h1>Writing Textile</h1>
<p>
A Textile document consists of paragraphs. Paragraphs can be specially
formatted by adding a small instruction to the beginning of the paragraph.
</p>
<pre class="code">
 <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='n identifier id'>n</span><span class='rbrack token'>]</span><span class='dot token'>.</span>   <span class='Header constant id'>Header</span> <span class='of identifier id'>of</span> <span class='size identifier id'>size</span> <span class='lbrack token'>[</span><span class='n identifier id'>n</span><span class='rbrack token'>]</span><span class='dot token'>.</span>
 <span class='bq identifier id'>bq</span><span class='dot token'>.</span>     <span class='Blockquote constant id'>Blockquote</span><span class='dot token'>.</span>
 <span class='comment val'>#       Numeric list.</span>
 <span class='mult op'>*</span>       <span class='Bulleted constant id'>Bulleted</span> <span class='list identifier id'>list</span><span class='dot token'>.</span>
</pre>
<h2>Quick Phrase Modifiers</h2>
<p>
Quick phrase modifiers are also included, to allow formatting of small
portions of text within a paragraph.
</p>
<pre class="code">
 \<span class='_emphasis identifier id'>_emphasis</span>\<span class='_ identifier id'>_</span>
 \<span class='_ identifier id'>_</span>\<span class='_italicized identifier id'>_italicized</span>\<span class='_ identifier id'>_</span>\<span class='_ identifier id'>_</span>
 \<span class='mult op'>*</span><span class='strong identifier id'>strong</span>\<span class='mult op'>*</span>
 \<span class='mult op'>*</span>\<span class='mult op'>*</span><span class='bold identifier id'>bold</span>\<span class='mult op'>*</span>\<span class='mult op'>*</span>
 <span class='integer val'>??</span><span class='citation? fid id'>citation?</span><span class='question op'>?</span>
 <span class='minus op'>-</span><span class='deleted identifier id'>deleted</span> <span class='text identifier id'>text</span><span class='minus op'>-</span>
 <span class='lt op'>&lt;</span><span class='tt identifier id'>tt</span><span class='gt op'>&gt;</span><span class='inserted identifier id'>inserted</span> <span class='text identifier id'>text</span><span class='lt op'>&lt;</span><span class='regexp val'>/tt&gt;
 ^superscript^
 ~subscript~
 @code@
 %(classname)span%

 ==notextile== (leave text alone)
</span></pre>
<h2>Links</h2>
<p>
To make a hypertext link, put the link text in &quot;quotation marks&quot;
followed immediately by a colon and the URL of the link.
</p>
<p>
Optional: text in (parentheses) following the link text, but before the
closing quotation mark, will become a Title attribute for the link, visible
as a tool tip when a cursor is above it.
</p>
<p>
Example:
</p>
<pre class="code">
 <span class='string val'>&quot;This is a link (This is a title) &quot;</span><span class='symbol val'>:http</span><span class='symbol val'>:/</span><span class='regexp val'>/www.textism.com
</span></pre>
<p>
Will become:
</p>
<pre class="code">
 <span class='lt op'>&lt;</span><span class='a identifier id'>a</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;http://www.textism.com&quot;</span> <span class='title identifier id'>title</span><span class='assign token'>=</span><span class='string val'>&quot;This is a title&quot;</span><span class='gt op'>&gt;</span><span class='This constant id'>This</span> <span class='is identifier id'>is</span> <span class='a identifier id'>a</span> <span class='link identifier id'>link</span><span class='lt op'>&lt;</span><span class='regexp val'>/a&gt;
</span></pre>
<h2>Images</h2>
<p>
To insert an image, put the URL for the image inside exclamation marks.
</p>
<p>
Optional: text that immediately follows the URL in (parentheses) will be
used as the Alt text for the image. Images on the web should always have
descriptive Alt text for the benefit of readers using non-graphical
browsers.
</p>
<p>
Optional: place a colon followed by a URL immediately after the closing !
to make the image into a link.
</p>
<p>
Example:
</p>
<pre class="code">
 <span class='notop op'>!</span><span class='http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/www.textism.com/</span><span class='common identifier id'>common</span><span class='div op'>/</span><span class='textist identifier id'>textist</span><span class='dot token'>.</span><span class='gif identifier id'>gif</span><span class='lparen token'>(</span><span class='Textist constant id'>Textist</span><span class='rparen token'>)</span><span class='notop op'>!</span>
</pre>
<p>
Will become:
</p>
<pre class="code">
 <span class='lt op'>&lt;</span><span class='img identifier id'>img</span> <span class='src identifier id'>src</span><span class='assign token'>=</span><span class='string val'>&quot;http://www.textism.com/common/textist.gif&quot;</span> <span class='alt identifier id'>alt</span><span class='assign token'>=</span><span class='string val'>&quot;Textist&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span>
</pre>
<p>
With a link:
</p>
<pre class="code">
 <span class='notop op'>!</span><span class='regexp val'>/common/</span><span class='textist identifier id'>textist</span><span class='dot token'>.</span><span class='gif identifier id'>gif</span><span class='lparen token'>(</span><span class='Textist constant id'>Textist</span><span class='rparen token'>)</span><span class='notop op'>!</span><span class='symbol val'>:http</span><span class='symbol val'>:/</span><span class='regexp val'>/textism.com
</span></pre>
<p>
Will become:
</p>
<pre class="code">
 <span class='lt op'>&lt;</span><span class='a identifier id'>a</span> <span class='href identifier id'>href</span><span class='assign token'>=</span><span class='string val'>&quot;http://textism.com&quot;</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='img identifier id'>img</span> <span class='src identifier id'>src</span><span class='assign token'>=</span><span class='string val'>&quot;/common/textist.gif&quot;</span> <span class='alt identifier id'>alt</span><span class='assign token'>=</span><span class='string val'>&quot;Textist&quot;</span> <span class='div op'>/</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='regexp val'>/a&gt;
</span></pre>
<h2>Defining Acronyms</h2>
<p>
HTML allows authors to define acronyms via the tag. The definition appears
as a tool tip when a cursor hovers over the acronym. A crucial aid to clear
writing, this should be used at least once for each acronym in documents
where they appear.
</p>
<p>
To quickly define an acronym in Textile, place the full text in
(parentheses) immediately following the acronym.
</p>
<p>
Example:
</p>
<pre class="code">
 <span class='ACLU constant id'>ACLU</span><span class='lparen token'>(</span><span class='American constant id'>American</span> <span class='Civil constant id'>Civil</span> <span class='Liberties constant id'>Liberties</span> <span class='Union constant id'>Union</span><span class='rparen token'>)</span>
</pre>
<p>
Will become:
</p>
<pre class="code">
 <span class='lt op'>&lt;</span><span class='acronym identifier id'>acronym</span> <span class='title identifier id'>title</span><span class='assign token'>=</span><span class='string val'>&quot;American Civil Liberties Union&quot;</span><span class='gt op'>&gt;</span><span class='ACLU constant id'>ACLU</span><span class='lt op'>&lt;</span><span class='regexp val'>/acronym&gt;
</span></pre>
<h2>Adding Tables</h2>
<p>
In Textile, simple tables can be added by seperating each column by a pipe.
</p>
<pre class="code">
    <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span><span class='simple identifier id'>simple</span><span class='bitor op'>|</span><span class='table identifier id'>table</span><span class='bitor op'>|</span><span class='row identifier id'>row</span><span class='bitor op'>|</span>
    <span class='bitor op'>|</span><span class='And constant id'>And</span><span class='bitor op'>|</span><span class='Another constant id'>Another</span><span class='bitor op'>|</span><span class='table identifier id'>table</span><span class='bitor op'>|</span><span class='row identifier id'>row</span><span class='bitor op'>|</span>
</pre>
<p>
Attributes are defined by style definitions in parentheses.
</p>
<pre class="code">
    <span class='table identifier id'>table</span><span class='lparen token'>(</span><span class='border identifier id'>border</span><span class='symbol val'>:1</span><span class='px identifier id'>px</span> <span class='solid identifier id'>solid</span> <span class='black identifier id'>black</span><span class='rparen token'>)</span><span class='dot token'>.</span>
    <span class='lparen token'>(</span><span class='background identifier id'>background</span><span class='symbol val'>:#ddd;color:red). |{}| | | |</span>
</pre>
<h2>Using RedCloth</h2>
<p>
RedCloth is simply an extension of the String class, which can handle
Textile formatting. Use it like a String and output HTML with its
RedCloth#to_html method.
</p>
<pre class="code">
 <span class='doc identifier id'>doc</span> <span class='assign token'>=</span> <span class='RedCloth constant id'>RedCloth</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='string val'>&quot;

 h2. Test document

 Just a simple test.&quot;</span>

 <span class='puts identifier id'>puts</span> <span class='doc identifier id'>doc</span><span class='dot token'>.</span><span class='to_html identifier id'>to_html</span>
</pre>
<p>
By default, RedCloth uses both Textile and Markdown formatting, with
Textile formatting taking precedence. If you want to turn off Markdown
formatting, to boost speed and limit the processor:
</p>
<pre class="code">
 <span class='class class kw'>class</span> <span class='RedCloth constant id'>RedCloth</span><span class='colon2 op'>::</span><span class='Textile constant id'>Textile</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span> <span class='str identifier id'>str</span> <span class='rparen token'>)</span>
</pre>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">filter_html</td>
          <td class="readwrite">
            [<span id='filter_html-instance_method'>R</span><span id='filter_html%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Two accessor for setting security restrictions.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">filter_styles</td>
          <td class="readwrite">
            [<span id='filter_styles-instance_method'>R</span><span id='filter_styles%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Two accessor for setting security restrictions.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">hard_breaks</td>
          <td class="readwrite">
            [<span id='hard_breaks-instance_method'>R</span><span id='hard_breaks%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Accessor for toggling hard breaks.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">lite_mode</td>
          <td class="readwrite">
            [<span id='lite_mode-instance_method'>R</span><span id='lite_mode%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Accessor for toggling lite mode.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">no_span_caps</td>
          <td class="readwrite">
            [<span id='no_span_caps-instance_method'>R</span><span id='no_span_caps%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Accessor for toggling span caps.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">rules</td>
          <td class="readwrite">
            [<span id='rules-instance_method'>R</span><span id='rules%3D-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Establishes the markup predence.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="DEFAULT_RULES-constant">DEFAULT_RULES</dt>
      <dd>[:textile, :markdown]</dd>
    
      <dt id="VERSION-constant">VERSION</dt>
      <dd>'3.0.4'</dd>
    
  </dl>
</div>

</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(string, restrictions = [])</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns a new RedCloth object, based on <em>string</em> and enforcing all
the included <em>restrictions</em>.
</p>
<pre class="code">
  <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='RedCloth constant id'>RedCloth</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span> <span class='string val'>&quot;h1. A &lt;b&gt;bold&lt;/b&gt; man&quot;</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:filter_html</span><span class='rbrack token'>]</span> <span class='rparen token'>)</span>
  <span class='r identifier id'>r</span><span class='dot token'>.</span><span class='to_html identifier id'>to_html</span>
    <span class='comment val'>#=&gt;&quot;&lt;h1&gt;A &amp;lt;b&amp;gt;bold&amp;lt;/b&amp;gt; man&lt;/h1&gt;&quot;</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/redcloth3.rb', line 254</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/edavis10/redmine/blob/f7d7186c133d9ab00742641105e5fbc213df5dd6/lib/redcloth3.rb#L254">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">254
255
256
257</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span> <span class='string identifier id'>string</span><span class='comma token'>,</span> <span class='restrictions identifier id'>restrictions</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span> <span class='rparen token'>)</span>
    <span class='restrictions identifier id'>restrictions</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='r identifier id'>r</span><span class='bitor op'>|</span> <span class='method identifier id'>method</span><span class='lparen token'>(</span> <span class='dstring node'>&quot;#{ r }=&quot;</span> <span class='rparen token'>)</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span> <span class='true true kw'>true</span> <span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='super super kw'>super</span><span class='lparen token'>(</span> <span class='string identifier id'>string</span> <span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#to_html-instance_method">#to_html</span><span class='args'>(*rules)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Generates HTML from the Textile contents.
</p>

        
      </td>
    </tr>
  
</table><div class="inherited">
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>to_html</h3>
</div><div id="to_html-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>to_html</span><span class='args'>(*rules)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Generates HTML from the Textile contents.
</p>
<pre class="code">
  <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='RedCloth constant id'>RedCloth</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span> <span class='string val'>&quot;And then? She *fell*!&quot;</span> <span class='rparen token'>)</span>
  <span class='r identifier id'>r</span><span class='dot token'>.</span><span class='to_html identifier id'>to_html</span><span class='lparen token'>(</span> <span class='true true kw'>true</span> <span class='rparen token'>)</span>
    <span class='comment val'>#=&gt;&quot;And then? She &lt;strong&gt;fell&lt;/strong&gt;!&quot;</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/redcloth3.rb', line 266</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/edavis10/redmine/blob/f7d7186c133d9ab00742641105e5fbc213df5dd6/lib/redcloth3.rb#L266">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='to_html identifier id'>to_html</span><span class='lparen token'>(</span> <span class='mult op'>*</span><span class='rules identifier id'>rules</span> <span class='rparen token'>)</span>
    <span class='rules identifier id'>rules</span> <span class='assign token'>=</span> <span class='DEFAULT_RULES constant id'>DEFAULT_RULES</span> <span class='if if_mod kw'>if</span> <span class='rules identifier id'>rules</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
    <span class='comment val'># make our working copy</span>
    <span class='text identifier id'>text</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
    
    <span class='@urlrefs ivar id'>@urlrefs</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
    <span class='@shelf ivar id'>@shelf</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='textile_rules identifier id'>textile_rules</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='symbol val'>:refs_textile</span><span class='comma token'>,</span> <span class='symbol val'>:block_textile_table</span><span class='comma token'>,</span> <span class='symbol val'>:block_textile_lists</span><span class='comma token'>,</span>
                     <span class='symbol val'>:block_textile_prefix</span><span class='comma token'>,</span> <span class='symbol val'>:inline_textile_image</span><span class='comma token'>,</span> <span class='symbol val'>:inline_textile_link</span><span class='comma token'>,</span>
                     <span class='symbol val'>:inline_textile_code</span><span class='comma token'>,</span> <span class='symbol val'>:inline_textile_span</span><span class='comma token'>,</span> <span class='symbol val'>:glyphs_textile</span><span class='rbrack token'>]</span>
    <span class='markdown_rules identifier id'>markdown_rules</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='symbol val'>:refs_markdown</span><span class='comma token'>,</span> <span class='symbol val'>:block_markdown_setext</span><span class='comma token'>,</span> <span class='symbol val'>:block_markdown_atx</span><span class='comma token'>,</span> <span class='symbol val'>:block_markdown_rule</span><span class='comma token'>,</span>
                      <span class='symbol val'>:block_markdown_bq</span><span class='comma token'>,</span> <span class='symbol val'>:block_markdown_lists</span><span class='comma token'>,</span> 
                      <span class='symbol val'>:inline_markdown_reflink</span><span class='comma token'>,</span> <span class='symbol val'>:inline_markdown_link</span><span class='rbrack token'>]</span>
    <span class='@rules ivar id'>@rules</span> <span class='assign token'>=</span> <span class='rules identifier id'>rules</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='rule identifier id'>rule</span><span class='bitor op'>|</span>
        <span class='case case kw'>case</span> <span class='rule identifier id'>rule</span>
        <span class='when when kw'>when</span> <span class='symbol val'>:markdown</span>
            <span class='markdown_rules identifier id'>markdown_rules</span>
        <span class='when when kw'>when</span> <span class='symbol val'>:textile</span>
            <span class='textile_rules identifier id'>textile_rules</span>
        <span class='else else kw'>else</span>
            <span class='rule identifier id'>rule</span>
        <span class='end end kw'>end</span>
    <span class='end end kw'>end</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span>

    <span class='comment val'># standard clean up</span>
    <span class='incoming_entities identifier id'>incoming_entities</span> <span class='text identifier id'>text</span> 
    <span class='clean_white_space identifier id'>clean_white_space</span> <span class='text identifier id'>text</span> 

    <span class='comment val'># start processor</span>
    <span class='@pre_list ivar id'>@pre_list</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='rip_offtags identifier id'>rip_offtags</span> <span class='text identifier id'>text</span>
    <span class='no_textile identifier id'>no_textile</span> <span class='text identifier id'>text</span>
    <span class='escape_html_tags identifier id'>escape_html_tags</span> <span class='text identifier id'>text</span>
    <span class='hard_break identifier id'>hard_break</span> <span class='text identifier id'>text</span> 
    <span class='unless unless kw'>unless</span> <span class='@lite_mode ivar id'>@lite_mode</span>
        <span class='refs identifier id'>refs</span> <span class='text identifier id'>text</span>
        <span class='comment val'># need to do this before text is split by #blocks</span>
        <span class='block_textile_quotes identifier id'>block_textile_quotes</span> <span class='text identifier id'>text</span>
        <span class='blocks identifier id'>blocks</span> <span class='text identifier id'>text</span>
    <span class='end end kw'>end</span>
    <span class='inline identifier id'>inline</span> <span class='text identifier id'>text</span>
    <span class='smooth_offtags identifier id'>smooth_offtags</span> <span class='text identifier id'>text</span>

    <span class='retrieve identifier id'>retrieve</span> <span class='text identifier id'>text</span>

    <span class='text identifier id'>text</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span> <span class='regexp val'>/&lt;\/?notextile&gt;/</span><span class='comma token'>,</span> <span class='string val'>''</span> <span class='rparen token'>)</span>
    <span class='text identifier id'>text</span><span class='dot token'>.</span><span class='gsub! fid id'>gsub!</span><span class='lparen token'>(</span> <span class='regexp val'>/x%x%/</span><span class='comma token'>,</span> <span class='string val'>'&amp;#38;'</span> <span class='rparen token'>)</span>
    <span class='clean_html identifier id'>clean_html</span> <span class='text identifier id'>text</span> <span class='if if_mod kw'>if</span> <span class='filter_html identifier id'>filter_html</span>
    <span class='text identifier id'>text</span><span class='dot token'>.</span><span class='strip! fid id'>strip!</span>
    <span class='text identifier id'>text</span>

<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>