<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>justinfrench's formtastic - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/justinfrench/commits/formtastic/master" rel="alternate" title="Recent Commits to formtastic:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("justinfrench", "formtastic", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='justinfrench/formtastic/blob/6ef705431bc42f96031c8a26f7aaf813d76e2cb5' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='justinfrench/formtastic/blob/6ef705431bc42f96031c8a26f7aaf813d76e2cb5' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("justinfrench", "formtastic", "6ef705431bc42f96031c8a26f7aaf813d76e2cb5", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/justinfrench/formtastic/tree/">Source</a></li>
            <li class=""><a href="http://github.com/justinfrench/formtastic/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/justinfrench/formtastic/network">Network</a></li>            
            <li class=""><a href="http://github.com/justinfrench/formtastic/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/justinfrench/formtastic">Wiki</a></li>
            <li class=""><a href="http://github.com/justinfrench/formtastic/graphs">Graphs</a></li>                    
            <li class="active"><a href="/justinfrench/formtastic">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/justinfrench">justinfrench</a> / <b><a href="http://github.com/justinfrench/formtastic/tree">formtastic</a></b>        
                <a id="namespaces_button" rel="justinfrench/formtastic/blob/6ef705431bc42f96031c8a26f7aaf813d76e2cb5" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="justinfrench/formtastic/blob/6ef705431bc42f96031c8a26f7aaf813d76e2cb5" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="section docstring readme wikistyle">
  <h1>Formtastic</h1>
<p>Formtastic is a Rails FormBuilder <span class="caps">DSL</span> (with some other goodies) to make it far easier to create beautiful, semantically rich, syntactically awesome, readily stylable and wonderfully accessible <span class="caps">HTML</span> forms in your Rails applications.</p>
<h2>The Story</h2>
<p>One day, I finally had enough, so I opened up my text editor, and wrote a <span class="caps">DSL</span> for how I&#8217;d like to author forms:</p>
<pre class="code">
  <span class='lt op'>&lt;</span><span class='string val'>% semantic_form_for </span><span class='@article ivar id'>@article</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='form identifier id'>form</span><span class='bitor op'>|</span> <span class='string val'>%&gt;

    &lt;% form.inputs :name =&gt;</span> <span class='string val'>&quot;Basic&quot;</span> <span class='do do kw'>do</span> <span class='string val'>%&gt;
      &lt;%= form.input :title %&gt;</span>
      <span class='lt op'>&lt;</span><span class='string val'>%= form.input :body %&gt;
      &lt;%=</span> <span class='form identifier id'>form</span><span class='dot token'>.</span><span class='input identifier id'>input</span> <span class='symbol val'>:section</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
      <span class='lt op'>&lt;</span><span class='string val'>%= form.input :publication_state, :as =</span><span class='gt op'>&gt;</span> <span class='symbol val'>:radio</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
      <span class='lt op'>&lt;</span><span class='string val'>%= form.input :category %&gt;
      &lt;%=</span> <span class='form identifier id'>form</span><span class='dot token'>.</span><span class='input identifier id'>input</span> <span class='symbol val'>:allow_comments</span><span class='comma token'>,</span> <span class='symbol val'>:label</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Allow commenting on this article&quot;</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='string val'>% end </span><span class='mod op'>%</span><span class='gt op'>&gt;</span>

    <span class='lt op'>&lt;</span><span class='string val'>% form.inputs </span><span class='symbol val'>:name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Advanced&quot;</span> <span class='do do kw'>do</span> <span class='string val'>%&gt;
      &lt;%= form.input :keywords, :required =&gt;</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='symbol val'>:hint</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Example: ruby, rails, forms&quot;</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
      <span class='lt op'>&lt;</span><span class='string val'>%= form.input :extract, :required =</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
      <span class='lt op'>&lt;</span><span class='string val'>%= form.input :description, :required =</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
      <span class='lt op'>&lt;</span><span class='string val'>%= form.input :url_title, :required =</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='string val'>% end </span><span class='mod op'>%</span><span class='gt op'>&gt;</span>

    <span class='lt op'>&lt;</span><span class='string val'>% form.inputs </span><span class='symbol val'>:name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Author&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:for</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:author</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='author_form identifier id'>author_form</span><span class='bitor op'>|</span> <span class='string val'>%&gt;
      &lt;%= author_form.input :first_name %&gt;</span>
      <span class='lt op'>&lt;</span><span class='string val'>%= author_form.input :last_name %&gt;
    &lt;% end %&gt;

    &lt;% form.buttons do %&gt;
      &lt;%=</span> <span class='form identifier id'>form</span><span class='dot token'>.</span><span class='commit_button identifier id'>commit_button</span> <span class='string val'>%&gt;
    &lt;% end %&gt;</span>

  <span class='lt op'>&lt;</span><span class='string val'>% end </span><span class='mod op'>%</span><span class='gt op'>&gt;</span>
</pre>
<p>I also wrote the accompanying <span class="caps">HTML</span> output I expected, favoring something very similar to the fieldsets, lists and other semantic elements Aaron Gustafson presented in <a href="http://www.slideshare.net/AaronGustafson/learning-to-love-forms-web-directions-south-07">Learning to Love Forms</a>, hacking together enough Ruby to prove it could be done.</p>
<h2>It&#8217;s better than <em>SomeOtherFormBuilder</em> because&#8230;</h2>
<ul>
	<li>it can handle <code>belongs_to</code> associations (like Post belongs_to :author), rendering a select or set of radio inputs with choices from the parent model</li>
	<li>it can handle <code>has_many</code> and <code>has_and_belongs_to_many</code> associations (like Post has_many :tags), rendering a multi-select with choices from the child models</li>
	<li>it&#8217;s Rails 2.3-ready (including nested forms)</li>
	<li>it has internationalization (I18n)!</li>
	<li>it&#8217;s <em>really</em> quick to get started with a basic form in place (4 lines), then go back to add in more detail if you need it</li>
	<li>there&#8217;s heaps of elements, id and class attributes for you to hook in your <span class="caps">CSS</span> and JS</li>
	<li>it handles real world stuff like inline hints, inline error messages &amp; help text</li>
	<li>it doesn&#8217;t hijack or change any of the standard Rails form inputs, so you can still use them as expected (even mix and match)</li>
	<li>it&#8217;s got absolutely awesome spec coverage</li>
	<li>there&#8217;s a bunch of people using and working on it (it&#8217;s not just one developer building half a solution)</li>
</ul>
<h2>Why?</h2>
<ul>
	<li>web apps = lots of forms</li>
	<li>forms are so friggin&#8217; boring to code</li>
	<li>semantically rich &amp; accessible forms really are possible</li>
	<li>the &#8220;V&#8221; is way behind the &#8220;M&#8221; and &#8220;C&#8221; in Rails&#8217; <span class="caps">MVC</span> – it&#8217;s the ugly sibling</li>
	<li>best practices and common patterns have to start somewhere</li>
	<li>i need a challenge</li>
</ul>
<h2>Opinions</h2>
<ul>
	<li>it should be easier to do things the right way than the wrong way</li>
	<li>sometimes <em>more mark-up</em> is better</li>
	<li>elements and attribute hooks are <em>gold</em> for stylesheet authors</li>
	<li>make the common things we do easy, yet still ensure uncommon things are still possible</li>
</ul>
<h2>Documentation</h2>
<p>RDoc documentation <em>should</em> be automatically generated after each commit and made available on the <a href="http://rdoc.info/projects/justinfrench/formtastic">rdoc.info website</a>.</p>
<h2>Installation</h2>
<p>You can (and should) get it as a gem:</p>
<pre class="code">
  <span class='gem identifier id'>gem</span> <span class='install identifier id'>install</span> <span class='justinfrench identifier id'>justinfrench</span><span class='minus op'>-</span><span class='formtastic identifier id'>formtastic</span>
</pre>
<p>And then add it as a dependency in your environment.rb file:</p>
<pre class="code">
  <span class='config identifier id'>config</span><span class='dot token'>.</span><span class='gem identifier id'>gem</span> <span class='string val'>&quot;justinfrench-formtastic&quot;</span><span class='comma token'>,</span> 
    <span class='symbol val'>:lib</span>     <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'formtastic'</span><span class='comma token'>,</span> 
    <span class='symbol val'>:source</span>  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'http://gems.github.com'</span>
</pre>
<p>If you&#8217;re a little more old school, install it as a plugin:</p>
<pre class="code">
  <span class='dot token'>.</span><span class='div op'>/</span><span class='script identifier id'>script</span><span class='div op'>/</span><span class='plugin identifier id'>plugin</span> <span class='install identifier id'>install</span> <span class='git identifier id'>git</span><span class='symbol val'>:/</span><span class='regexp val'>/github.com/</span><span class='justinfrench identifier id'>justinfrench</span><span class='div op'>/</span><span class='formtastic identifier id'>formtastic</span><span class='dot token'>.</span><span class='git identifier id'>git</span>
</pre>
<h2>Usage</h2>
<p>Forms are really boring to code&#8230; you want to get onto the good stuff as fast as possible.</p>
<p>This renders a set of inputs (one for <em>most</em> columns in the database table, and one for each ActiveRecord belongs_to association), followed by a submit button:</p>
<pre class="code">
  <span class='lt op'>&lt;</span><span class='string val'>% semantic_form_for </span><span class='@user ivar id'>@user</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='form identifier id'>form</span><span class='bitor op'>|</span> <span class='string val'>%&gt;
    &lt;%= form.inputs %&gt;</span>
    <span class='lt op'>&lt;</span><span class='string val'>%= form.buttons %&gt;
  &lt;% end %&gt;
</span></pre>
<p>If you want to specify the order of the fields, skip some of the fields or even add in fields that Formtastic couldn&#8217;t detect, you can pass in a list of field names to <code>inputs</code> and list of button names to <code>buttons</code>:</p>
<pre class="code">
  <span class='lt op'>&lt;</span><span class='string val'>% semantic_form_for </span><span class='@user ivar id'>@user</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='form identifier id'>form</span><span class='bitor op'>|</span> <span class='string val'>%&gt;
    &lt;%= form.inputs :title, :body, :section, :categories, :created_at %&gt;</span>
    <span class='lt op'>&lt;</span><span class='string val'>%= form.buttons :commit %&gt;
  &lt;% end %&gt;
</span></pre>
<p>If you want control over the input type Formtastic uses for each field, you can expand the <code>inputs</code> and <code>buttons</code> blocks.  This specifies the :section input should be a set of radio buttons (rather than the default select box), and that the :created_at field should be a string (rather than the default datetime selects):</p>
<pre class="code">
  <span class='lt op'>&lt;</span><span class='string val'>% semantic_form_for </span><span class='@post ivar id'>@post</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='form identifier id'>form</span><span class='bitor op'>|</span> <span class='string val'>%&gt;
    &lt;% form.inputs do %&gt;</span>
      <span class='lt op'>&lt;</span><span class='string val'>%= form.input :title %&gt;
      &lt;%=</span> <span class='form identifier id'>form</span><span class='dot token'>.</span><span class='input identifier id'>input</span> <span class='symbol val'>:body</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
      <span class='lt op'>&lt;</span><span class='string val'>%= form.input :section, :as =</span><span class='gt op'>&gt;</span> <span class='symbol val'>:radio</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
      <span class='lt op'>&lt;</span><span class='string val'>%= form.input :categories %&gt;
      &lt;%=</span> <span class='form identifier id'>form</span><span class='dot token'>.</span><span class='input identifier id'>input</span> <span class='symbol val'>:created_at</span><span class='comma token'>,</span> <span class='symbol val'>:as</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:string</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='string val'>% end </span><span class='mod op'>%</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='string val'>% form.buttons </span><span class='do do kw'>do</span> <span class='string val'>%&gt;
      &lt;%= form.commit_button %&gt;</span>
    <span class='lt op'>&lt;</span><span class='string val'>% end </span><span class='mod op'>%</span><span class='gt op'>&gt;</span>
  <span class='lt op'>&lt;</span><span class='string val'>% end </span><span class='mod op'>%</span><span class='gt op'>&gt;</span>
</pre>
<p>If you want to customize the label text, or render some hint text below the field, specify which fields are required/optional, or break the form into two fieldsets, the <span class="caps">DSL</span> is pretty comprehensive:</p>
<pre class="code">
  <span class='lt op'>&lt;</span><span class='string val'>% semantic_form_for </span><span class='@post ivar id'>@post</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='form identifier id'>form</span><span class='bitor op'>|</span> <span class='string val'>%&gt;
    &lt;% form.inputs :name =&gt;</span> <span class='string val'>&quot;Basic&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;basic&quot;</span> <span class='do do kw'>do</span> <span class='string val'>%&gt;
      &lt;%= form.input :title %&gt;</span>
      <span class='lt op'>&lt;</span><span class='string val'>%= form.input :body %&gt;
    &lt;% end %&gt;
    &lt;% form.inputs :name =</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Advanced Options&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;advanced&quot;</span> <span class='do do kw'>do</span> <span class='string val'>%&gt;
      &lt;%= form.input :slug, :label =&gt;</span> <span class='string val'>&quot;URL Title&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:hint</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Created automatically if left blank&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:required</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
      <span class='lt op'>&lt;</span><span class='string val'>%= form.input :section, :as =</span><span class='gt op'>&gt;</span> <span class='symbol val'>:radio</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
      <span class='lt op'>&lt;</span><span class='string val'>%= form.input :user, :label =</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Author&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:label_method</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:full_name</span><span class='comma token'>,</span>  <span class='string val'>%&gt;
      &lt;%= form.input :categories, :required =&gt;</span> <span class='false false kw'>false</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
      <span class='lt op'>&lt;</span><span class='string val'>%= form.input :created_at, :as =</span><span class='gt op'>&gt;</span> <span class='symbol val'>:string</span><span class='comma token'>,</span> <span class='symbol val'>:label</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Publication Date&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:required</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='string val'>% end </span><span class='mod op'>%</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='string val'>% form.buttons </span><span class='do do kw'>do</span> <span class='string val'>%&gt;
      &lt;%= form.commit_button %&gt;</span>
    <span class='lt op'>&lt;</span><span class='string val'>% end </span><span class='mod op'>%</span><span class='gt op'>&gt;</span>
  <span class='lt op'>&lt;</span><span class='string val'>% end </span><span class='mod op'>%</span><span class='gt op'>&gt;</span>
</pre>
<p>Nested forms (Rails 2.3) are also supported. You can do it in the Rails way:</p>
<pre class="code">
  <span class='lt op'>&lt;</span><span class='string val'>% semantic_form_for </span><span class='@post ivar id'>@post</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='form identifier id'>form</span><span class='bitor op'>|</span> <span class='string val'>%&gt;
    &lt;%= form.inputs :title, :body, :created_at %&gt;</span>
    <span class='lt op'>&lt;</span><span class='string val'>% form.semantic_fields_for </span><span class='symbol val'>:author</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='author identifier id'>author</span><span class='bitor op'>|</span> <span class='string val'>%&gt;
      &lt;%= author.inputs :first_name, :last_name, :name =&gt;</span> <span class='string val'>'Author'</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='string val'>% end </span><span class='mod op'>%</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='string val'>%= form.buttons %&gt;
  &lt;% end %&gt;
</span></pre>
<p>Or the Formtastic way with the <code>:for</code> option:</p>
<pre class="code">
  <span class='lt op'>&lt;</span><span class='string val'>% semantic_form_for </span><span class='@post ivar id'>@post</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='form identifier id'>form</span><span class='bitor op'>|</span> <span class='string val'>%&gt;
    &lt;%= form.inputs :title, :body, :created_at %&gt;</span>
    <span class='lt op'>&lt;</span><span class='string val'>%= form.inputs :first_name, :last_name, :for =</span><span class='gt op'>&gt;</span> <span class='symbol val'>:author</span><span class='comma token'>,</span> <span class='symbol val'>:name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Author&quot;</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='string val'>%= form.buttons %&gt;
  &lt;% end %&gt;
</span></pre>
<p>When working in has many association, you can even supply &#8220;%i&#8221; in your fieldset name that it will be properly interpolated with the child index. For example:</p>
<pre class="code">
  <span class='lt op'>&lt;</span><span class='string val'>% semantic_form_for </span><span class='@post ivar id'>@post</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='form identifier id'>form</span><span class='bitor op'>|</span> <span class='string val'>%&gt;
    &lt;%= form.inputs %&gt;</span>
    <span class='lt op'>&lt;</span><span class='string val'>%= form.inputs :name =</span><span class='gt op'>&gt;</span> <span class='string val'>'Category #%i'</span><span class='comma token'>,</span> <span class='symbol val'>:for</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:categories</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='string val'>%= form.buttons %&gt;
  &lt;% end %&gt;
</span></pre>
<p>Customize <span class="caps">HTML</span> attributes for any input using the <code>:input_html</code> option.  Typically his is used to disable the input, change the size of a text field, change the rows in a textarea, or even to add a special class to an input to attach special behavior like <a href="http://plugins.jquery.com/project/autogrow">autogrow</a> textareas:</p>
<pre class="code">
  <span class='lt op'>&lt;</span><span class='string val'>% semantic_form_for </span><span class='@post ivar id'>@post</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='form identifier id'>form</span><span class='bitor op'>|</span> <span class='string val'>%&gt;
    &lt;%= form.input :title,      :input_html =&gt;</span> <span class='lbrace token'>{</span> <span class='symbol val'>:size</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>60</span> <span class='rbrace token'>}</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='string val'>%= form.input :body,       :input_html =</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span> <span class='symbol val'>:class</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'autogrow'</span> <span class='rbrace token'>}</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='string val'>%= form.input :created_at, :input_html =</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span> <span class='symbol val'>:disabled</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span> <span class='rbrace token'>}</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='string val'>%= form.buttons %&gt;
  &lt;% end %&gt;
</span></pre>
<p>The same can be done for buttons with the <code>:button_html</code> option:</p>
<pre class="code">
  <span class='lt op'>&lt;</span><span class='string val'>% semantic_form_for </span><span class='@post ivar id'>@post</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='form identifier id'>form</span><span class='bitor op'>|</span> <span class='string val'>%&gt;
    ...
    &lt;% form.buttons do %&gt;</span>
      <span class='lt op'>&lt;</span><span class='string val'>%= form.commit_button :button_html =</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span> <span class='symbol val'>:class</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;primary&quot;</span> <span class='rbrace token'>}</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='string val'>% end </span><span class='mod op'>%</span><span class='gt op'>&gt;</span>
  <span class='lt op'>&lt;</span><span class='string val'>% end </span><span class='mod op'>%</span><span class='gt op'>&gt;</span>
</pre>
<p>Customize the <span class="caps">HTML</span> attributes for the <code>&lt;li&gt;</code> wrapper around every input with the <code>:wrapper_html</code> option hash.  There&#8217;s one special key in the hash (:class), which will actually <em>append</em> your string of classes to the existing classes provided by Formtastic (like &#8220;required string error&#8221;)<br />
  <br />
<pre class="code"><span class='lt op'>&lt;</span><span class='br identifier id'>br</span> <span class='regexp val'>/&gt;
  &lt;% semantic_form_for @post do |form| &lt;span&gt;&gt;&lt;br /</span><span class='gt op'>&gt;</span>
    <span class='lshft op'>&lt;&lt;</span><span class='regexp val'>/span&gt;= form.input :title, :wrapper_html =&gt; { :class =&gt; &amp;#8220;important&amp;#8221; } &lt;span&gt;&gt;&lt;br /</span><span class='gt op'>&gt;</span>
    <span class='lshft op'>&lt;&lt;</span><span class='regexp val'>/span&gt;= form.input :body &lt;span&gt;&gt;&lt;br /</span><span class='gt op'>&gt;</span>
    <span class='lshft op'>&lt;&lt;</span><span class='regexp val'>/span&gt;= form.input :description, :wrapper_html =&gt; { :style =&gt; &amp;#8220;display:none;&amp;#8221; } &lt;span&gt;&gt;&lt;br /</span><span class='gt op'>&gt;</span>
    <span class='bitand op'>&amp;</span><span class='comment val'>#8230;&lt;br /&gt;</span>
  <span class='lshft op'>&lt;&lt;</span><span class='regexp val'>/span&gt; end %&gt;&lt;br /</span><span class='gt op'>&gt;</span>
</pre></p>
<h2>The Available Inputs</h2>
<ul>
	<li>:select (a select menu) &#8211; default for ActiveRecord associations (belongs_to, has_many, has_and_belongs_to_many)</li>
	<li>:check_boxes (a set of check_box inputs) &#8211; alternative to :select has_many and has_and_belongs_to_many associations</li>
	<li>:radio (a set of radio inputs) &#8211; alternative to :select for ActiveRecord belongs_to associations</li>
	<li>:time_zone (a select input) &#8211; default for :string column types with &#8216;time_zone&#8217; in the method name</li>
	<li>:password (a password input) &#8211; default for :string column types with &#8216;password&#8217; in the method name</li>
	<li>:text (a textarea) &#8211; default for :text column types</li>
	<li>:date (a date select) &#8211; default for :date column types</li>
	<li>:datetime (a date and time select) &#8211; default for :datetime and :timestamp column types</li>
	<li>:time (a time select) &#8211; default for :time column types</li>
	<li>:boolean (a checkbox) &#8211; default for :boolean column types</li>
	<li>:string (a text field) &#8211; default for :string column types</li>
	<li>:numeric (a text field, like string) &#8211; default for :integer, :float and :decimal column types</li>
	<li>:file (a file field) &#8211; default for paperclip or attachment_fu attributes</li>
	<li>:country (a select menu of country names) &#8211; default for :string columns named &#8220;country&#8221;, requires a country_select plugin to be installed</li>
	<li>:hidden (a hidden field) &#8211; creates a hidden field (added for compatibility)</li>
</ul>
<p>The documentation is pretty good for each of these (what it does, what the output is, what the options are, etc) so go check it out.</p>
<h2>Configuration</h2>
<p>If you wish, put something like this in config/initializers/formtastic_config.rb:</p>
<pre class="code">
  <span class='comment val'># Set the default text field size when input is a string. Default is 50</span>
  <span class='Formtastic constant id'>Formtastic</span><span class='colon2 op'>::</span><span class='SemanticFormBuilder constant id'>SemanticFormBuilder</span><span class='dot token'>.</span><span class='default_text_field_size identifier id'>default_text_field_size</span> <span class='assign token'>=</span> <span class='integer val'>30</span>

  <span class='comment val'># Should all fields be considered &quot;required&quot; by default</span>
  <span class='comment val'># Defaults to true, see ValidationReflection notes below</span>
  <span class='Formtastic constant id'>Formtastic</span><span class='colon2 op'>::</span><span class='SemanticFormBuilder constant id'>SemanticFormBuilder</span><span class='dot token'>.</span><span class='all_fields_required_by_default identifier id'>all_fields_required_by_default</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
  
  <span class='comment val'># Set the string that will be appended to the labels/fieldsets which are required</span>
  <span class='comment val'># It accepts string or procs and the default is a localized version of</span>
  <span class='comment val'># '&lt;abbr title=&quot;required&quot;&gt;*&lt;/abbr&gt;'. In other words, if you configure formtastic.required</span>
  <span class='comment val'># in your locale, it will replace the abbr title properly. But if you don't want to use</span>
  <span class='comment val'># abbr tag, you can simply give a string as below</span>
  <span class='Formtastic constant id'>Formtastic</span><span class='colon2 op'>::</span><span class='SemanticFormBuilder constant id'>SemanticFormBuilder</span><span class='dot token'>.</span><span class='required_string identifier id'>required_string</span> <span class='assign token'>=</span> <span class='string val'>&quot;(required)&quot;</span>
  
  <span class='comment val'># Set the string that will be appended to the labels/fieldsets which are optional</span>
  <span class='comment val'># Defaults to an empty string (&quot;&quot;) and also accepts procs (see required_string above)</span>
  <span class='Formtastic constant id'>Formtastic</span><span class='colon2 op'>::</span><span class='SemanticFormBuilder constant id'>SemanticFormBuilder</span><span class='dot token'>.</span><span class='optional_string identifier id'>optional_string</span> <span class='assign token'>=</span> <span class='string val'>&quot;(optional)&quot;</span>

  <span class='comment val'># Set the way inline errors will be displayed.</span>
  <span class='comment val'># Defaults to :sentence, valid options are :sentence, :list and :none</span>
  <span class='Formtastic constant id'>Formtastic</span><span class='colon2 op'>::</span><span class='SemanticFormBuilder constant id'>SemanticFormBuilder</span><span class='dot token'>.</span><span class='inline_errors identifier id'>inline_errors</span> <span class='assign token'>=</span> <span class='symbol val'>:list</span>

  <span class='comment val'># Set the method to call on label text to transform or format it for human-friendly</span>
  <span class='comment val'># reading when formtastic is user without object. Defaults to :humanize.</span>
  <span class='Formtastic constant id'>Formtastic</span><span class='colon2 op'>::</span><span class='SemanticFormBuilder constant id'>SemanticFormBuilder</span><span class='dot token'>.</span><span class='label_str_method identifier id'>label_str_method</span> <span class='assign token'>=</span> <span class='symbol val'>:titleize</span>

  <span class='comment val'># Set the array of methods to try calling on parent objects in :select and :radio inputs</span>
  <span class='comment val'># for the text inside each @&lt;option&gt;@ tag or alongside each radio @&lt;input&gt;@.  The first method</span>
  <span class='comment val'># that is found on the object will be used.</span>
  <span class='comment val'># Defaults to [&quot;to_label&quot;, &quot;display_name&quot;, &quot;full_name&quot;, &quot;name&quot;, &quot;title&quot;, &quot;username&quot;, &quot;login&quot;, &quot;value&quot;, &quot;to_s&quot;]</span>
  <span class='Formtastic constant id'>Formtastic</span><span class='colon2 op'>::</span><span class='SemanticFormBuilder constant id'>SemanticFormBuilder</span><span class='dot token'>.</span><span class='collection_label_methods identifier id'>collection_label_methods</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='string val'>&quot;title_and_author&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;display_name&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;login&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;to_s&quot;</span><span class='rbrack token'>]</span>

  <span class='comment val'># Formtastic by default renders inside li tags the input, hints and then</span>
  <span class='comment val'># errors messages. Sometimes you want the hints to be rendered first than</span>
  <span class='comment val'># the input, in the following order: hints, input and errors. You can</span>
  <span class='comment val'># customize it doing just as below:</span>
  <span class='Formtastic constant id'>Formtastic</span><span class='colon2 op'>::</span><span class='SemanticFormBuilder constant id'>SemanticFormBuilder</span><span class='dot token'>.</span><span class='inline_order identifier id'>inline_order</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='symbol val'>:hints</span><span class='comma token'>,</span> <span class='symbol val'>:input</span><span class='comma token'>,</span> <span class='symbol val'>:errors</span><span class='rbrack token'>]</span>
  
  <span class='comment val'># Set the default &quot;priority countries&quot; to suit your user base when using :as =&gt; :country</span>
  <span class='Formtastic constant id'>Formtastic</span><span class='colon2 op'>::</span><span class='SemanticFormBuilder constant id'>SemanticFormBuilder</span><span class='dot token'>.</span><span class='priority_countries identifier id'>priority_countries</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='string val'>&quot;Australia&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;New Zealand&quot;</span><span class='rbrack token'>]</span>
</pre>
<h2>Internationalization (I18n)</h2>
<p>Supports I18n! ActiveRecord object names and attributes are, by default, taken from calling @object.human_name and @object.human_attribute_name(attr) respectively. There are a few words specific to Formtastic that can be translated.  See lib/locale/en.yml for more information.</p>
<h2>ValidationReflection plugin</h2>
<p>If you have the <a href="http://github.com/redinger/validation_reflection">ValidationReflection</a> plugin installed, you won&#8217;t have to specify the :required option (it checks the validations on the model instead).</p>
<h2>Status</h2>
<p><strong><span class="caps">THINGS</span> <span class="caps">ARE</span> <span class="caps">GOING</span> TO <span class="caps">CHANGE</span> A <span class="caps">BIT</span> <span class="caps">BEFORE</span> WE <span class="caps">HIT</span> 1.0.</strong></p>
<p>It&#8217;s a work in progress and a bit rough around the edges still, but I hope you try it and offer some suggestions and improvements anyway.</p>
<p>On the plus side, it has a comprehensive spec suite and contributions from at least ten independent developers.</p>
<p><a href="http://wiki.github.com/justinfrench/formtastic/wishlist">Wishlist</a> on the wiki is serving as pretty good documentation for the roadmap to 1.0 and beyond right now, but I&#8217;ll work on getting a real tracking system or something happening soon.</p>
<h2>Dependencies</h2>
<p>There are none, but&#8230;</p>
<ul>
	<li>if you have the <a href="http://github.com/redinger/validation_reflection">ValidationReflection</a> plugin is installed, you won&#8217;t have to specify the :required option (it checks the validations on the model instead)</li>
	<li>if you want to use the :country input, you&#8217;ll need to install the <a href="http://github.com/rails/iso-3166-country-select">iso-3166-country-select plugin</a> (or any other country_select plugin with the same <span class="caps">API</span>)</li>
	<li>rspec, rspec_hpricot_matchers and rcov gems (plus any of their own dependencies) are required for the test suite</li>
</ul>
<h2>Compatibility</h2>
<p>I&#8217;m only testing Formtastic with the latest Rails 2.2.x stable release, and it should be fine under Rails 2.3 as well (including nested forms).  Patches are welcome to allow backwards compatibility, but I don&#8217;t have the energy!</p>
<h2>What about Stylesheets?</h2>
<p>A proof-of-concept (very much a work-in-progress) stylesheet is provided which you can include in your layout.  Customization is best achieved by overriding these styles in an additional stylesheet so that the Formtastic styles can be updated without clobbering your changes.</p>
<p>1. Use the generator to copy the formtastic.css and formtastic_changes.css into your public directory</p>
<pre class="code">
<span class='dot token'>.</span><span class='div op'>/</span><span class='script identifier id'>script</span><span class='div op'>/</span><span class='generate identifier id'>generate</span> <span class='formtastic_stylesheets identifier id'>formtastic_stylesheets</span>
</pre>
<p>2. Add both formtastic.css and formtastic_changes.css to your layout:</p>
<pre class="code">
<span class='lt op'>&lt;</span><span class='string val'>%= stylesheet_link_tag &quot;formtastic&quot; %&gt;
&lt;%=</span> <span class='stylesheet_link_tag identifier id'>stylesheet_link_tag</span> <span class='string val'>&quot;formtastic_changes&quot;</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
</pre>
<h2>Contributors</h2>
<p>Formtastic is maintained by <a href="http://justinfrench.com">Justin French</a> and <a href="http://github.com/josevalim">José Valim</a>, but it wouldn&#8217;t be as awesome as it is today if it weren&#8217;t for the wonderful contributions of these fine, fine coders.</p>
<ul>
	<li><a href="http://github.com/sprsquish">Jeff Smick</a></li>
	<li><a href="http://github.com/tiendung">Tien Dung</a></li>
	<li><a href="http://stateofflux.com">Mark Mansour</a></li>
	<li><a href="http://github.com/andypearson">Andy Pearson</a></li>
	<li><a href="http://github.com/negonicrac">negonicrac</a></li>
	<li><a href="http://rhnh.net">Xavier Shay</a></li>
	<li><a href="http://github.com/freelancing-god">Pat Allan</a></li>
	<li><a href="http://github.com/quamen">Gareth Townsend</a></li>
	<li><a href="http://github.com/mitnal">Sascha Hoellger</a></li>
	<li><a href="http://github.com/andrewcarpenter">Andrew Carpenter</a></li>
	<li><a href="http://github.com/jackdempsey/">Jack Dempsey</a></li>
	<li><a href="http://github.com/gregf/">Greg Fitzgerald</a></li>
	<li><a href="http://github.com/hectoregm">Hector E. Gomez Morales</a></li>
	<li><a href="http://blog.benhamill.com/">Ben Hamill</a></li>
	<li><a href="http://github.com/tolatomeow">Simon Chiu</a></li>
	<li><a href="http://github.com/dongbin">Bin Dong</a></li>
</ul>
<h2>Hey, join the Google group!</h2>
<p>Please join the <a href="http://groups.google.com.au/group/formtastic">Formtastic Google Group</a>, especially if you&#8217;d like to talk about a new feature, or report a bug.</p>
<h2>Project Info</h2>
<p>Formtastic is hosted on Github: http://github.com/justinfrench/formtastic/, where your contributions, forkings, comments and feedback are greatly welcomed.</p>
<p>Copyright &#169; 2007-2008 Justin French, released under the <span class="caps">MIT</span> license.</p>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>