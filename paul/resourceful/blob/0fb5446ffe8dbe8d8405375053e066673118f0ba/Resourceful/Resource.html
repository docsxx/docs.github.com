<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>paul's resourceful - Class: Resourceful::Resource - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/paul/commits/resourceful/master" rel="alternate" title="Recent Commits to resourceful:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("paul", "resourceful", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='paul/resourceful/blob/0fb5446ffe8dbe8d8405375053e066673118f0ba' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='paul/resourceful/blob/0fb5446ffe8dbe8d8405375053e066673118f0ba' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("paul", "resourceful", "0fb5446ffe8dbe8d8405375053e066673118f0ba", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/paul/resourceful/tree/">Source</a></li>
            <li class=""><a href="http://github.com/paul/resourceful/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/paul/resourceful/network">Network</a></li>            
            <li class=""><a href="http://github.com/paul/resourceful/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/paul/resourceful">Wiki</a></li>
            <li class=""><a href="http://github.com/paul/resourceful/graphs">Graphs</a></li>                    
            <li class="active"><a href="/paul/resourceful">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/paul">paul</a> / <b><a href="http://github.com/paul/resourceful/tree">resourceful</a></b>        
                <a id="namespaces_button" rel="paul/resourceful/blob/0fb5446ffe8dbe8d8405375053e066673118f0ba" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="paul/resourceful/blob/0fb5446ffe8dbe8d8405375053e066673118f0ba" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Resourceful_Resource">
  <h1>Class: Resourceful::Resource</h1>
  <div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">accessor</td>
          <td class="readwrite">
            [<span id='accessor-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>accessor</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">default_header</td>
          <td class="readwrite">
            [<span id='default_header-instance_method'>R</span><span id='default_header=-instance_method'>W</span>] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Sets the attribute <tt>default_header</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(accessor, uri, default_header = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Build a new resource for a uri
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt><a href="HttpAccessor.html" title="HttpAccessor">HttpAccessor</a></tt>]</span>
        <span class='name'>accessor</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
The parent http accessor
</p>
</span>
      </dd>
    
  
    
      <dt>
        <span class='type'>[<tt>String</tt>, <tt><a href="../Addressable/URI.html" title="Addressable::URI">Addressable::URI</a></tt>]</span>
        <span class='name'>uri</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
The uri for the location of the resource
</p>
</span>
      </dd>
    
  
  </dl>
</div>
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/resourceful/resource.rb', line 16</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/paul/resourceful/blob/0fb5446ffe8dbe8d8405375053e066673118f0ba/lib/resourceful/resource.rb#L16">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">16
17
18
19
20</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='accessor identifier id'>accessor</span><span class='comma token'>,</span> <span class='uri identifier id'>uri</span><span class='comma token'>,</span> <span class='default_header identifier id'>default_header</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='@accessor ivar id'>@accessor</span><span class='comma token'>,</span> <span class='@uris ivar id'>@uris</span> <span class='assign token'>=</span> <span class='accessor identifier id'>accessor</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='uri identifier id'>uri</span><span class='rbrack token'>]</span>
  <span class='@default_header ivar id'>@default_header</span> <span class='assign token'>=</span> <span class='Resourceful constant id'>Resourceful</span><span class='colon2 op'>::</span><span class='Header constant id'>Header</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='string val'>'User-Agent'</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Resourceful constant id'>Resourceful</span><span class='colon2 op'>::</span><span class='RESOURCEFUL_USER_AGENT_TOKEN constant id'>RESOURCEFUL_USER_AGENT_TOKEN</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='default_header identifier id'>default_header</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='@on_redirect ivar id'>@on_redirect</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#delete-instance_method">#delete</span><span class='args'>(header = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Performs a DELETE on the resource, following redirects as neccessary.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt><a href="Response.html" title="Response">Response</a></tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#effective_uri-instance_method">#effective_uri</span><span class='args'></span>
        <span class='block'></span>
        
          <span class='alias'>#uri</span>
        
      </th>
      <td class="docstring">
        <p>
The uri used to identify this resource.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#get-instance_method">#get</span><span class='args'>(header = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Performs a GET on the resource, following redirects as neccessary, and
retriving it from the local cache if its available and valid.
</p>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt><a href="Response.html" title="Response">Response</a></tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#host-instance_method">#host</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns the host for this Resource&#8217;s current uri.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#logger-instance_method">#logger</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#on_redirect-instance_method">#on_redirect</span><span class='args'>(&amp;callback)</span>
        <span class='block'>{|callback| ... }</span>
        
      </th>
      <td class="docstring">
        <p>
When performing a redirect, this callback will be executed first.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#post-instance_method">#post</span><span class='args'>(data = nil, header = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='post identifier id'>post</span><span class='lparen token'>(</span><span class='data identifier id'>data</span> <span class='assign token'>=</span> <span class='string val'>&quot;&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:content_type</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='mime_type identifier id'>mime_type</span><span class='rparen token'>)</span><span class='dot token'>.</span>
</pre>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt><a href="Response.html" title="Response">Response</a></tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#put-instance_method">#put</span><span class='args'>(data, header = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
:call-seq:
</p>
<pre class="code">
  <span class='put identifier id'>put</span><span class='lparen token'>(</span><span class='data identifier id'>data</span> <span class='assign token'>=</span> <span class='string val'>&quot;&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:content_type</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='mime_type identifier id'>mime_type</span><span class='rparen token'>)</span><span class='dot token'>.</span>
</pre>

        
          <p class='returns'>
            Returns: 
              <span class='return_types'>
                 <tt><a href="Response.html" title="Response">Response</a></tt>
              </span>
          </p>
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#update_uri-instance_method">#update_uri</span><span class='args'>(uri)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Updates the effective uri after following a permanent redirect.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>delete</h3>
</div><div id="delete-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt><a href="Response.html" title="Response">Response</a></tt></span>
    <span class='name'>delete</span><span class='args'>(header = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Performs a DELETE on the resource, following redirects as neccessary.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="Response.html" title="Response">Response</a></tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'></span>
    </dd>
  
  </dl>
</div>
<div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="UnsuccessfulHttpRequestError.html" title="UnsuccessfulHttpRequestError">UnsuccessfulHttpRequestError</a></tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
unless the request is a success, ie the final request returned a 2xx
response code
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/resourceful/resource.rb', line 126</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/paul/resourceful/blob/0fb5446ffe8dbe8d8405375053e066673118f0ba/lib/resourceful/resource.rb#L126">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">126
127
128</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='header identifier id'>header</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='request identifier id'>request</span><span class='lparen token'>(</span><span class='symbol val'>:delete</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='header identifier id'>header</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>effective_uri</h3>
</div><div id="effective_uri-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>effective_uri</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="uri-instance_method">uri</tt>
  
</p>
</div><div class="section docstring">
  <p>
The uri used to identify this resource. This is almost always the uri used
to create the resource, but in the case of a permanent redirect, this will
always reflect the lastest uri.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="../Object.html" title="Object">Object</a></tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
Addressable::URI The current uri of the resource
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/resourceful/resource.rb', line 28</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/paul/resourceful/blob/0fb5446ffe8dbe8d8405375053e066673118f0ba/lib/resourceful/resource.rb#L28">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">28
29
30</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='effective_uri identifier id'>effective_uri</span>
  <span class='@uris ivar id'>@uris</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get</h3>
</div><div id="get-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt><a href="Response.html" title="Response">Response</a></tt></span>
    <span class='name'>get</span><span class='args'>(header = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Performs a GET on the resource, following redirects as neccessary, and
retriving it from the local cache if its available and valid.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="Response.html" title="Response">Response</a></tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
The Response to the final request made.
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="UnsuccessfulHttpRequestError.html" title="UnsuccessfulHttpRequestError">UnsuccessfulHttpRequestError</a></tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
unless the request is a success, ie the final request returned a 2xx
response code
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/resourceful/resource.rb', line 74</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/paul/resourceful/blob/0fb5446ffe8dbe8d8405375053e066673118f0ba/lib/resourceful/resource.rb#L74">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">74
75
76</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='header identifier id'>header</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='request identifier id'>request</span><span class='lparen token'>(</span><span class='symbol val'>:get</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='header identifier id'>header</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>host</h3>
</div><div id="host-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>host</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns the host for this Resource&#8217;s current uri
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/resourceful/resource.rb', line 34</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/paul/resourceful/blob/0fb5446ffe8dbe8d8405375053e066673118f0ba/lib/resourceful/resource.rb#L34">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">34
35
36</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='host identifier id'>host</span>
  <span class='Addressable constant id'>Addressable</span><span class='colon2 op'>::</span><span class='URI constant id'>URI</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='uri identifier id'>uri</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='host identifier id'>host</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>logger</h3>
</div><div id="logger-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>logger</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/resourceful/resource.rb', line 130</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/paul/resourceful/blob/0fb5446ffe8dbe8d8405375053e066673118f0ba/lib/resourceful/resource.rb#L130">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">130
131
132</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='logger identifier id'>logger</span>
  <span class='accessor identifier id'>accessor</span><span class='dot token'>.</span><span class='logger identifier id'>logger</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>on_redirect</h3>
</div><div id="on_redirect-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>on_redirect</span><span class='args'>(&amp;callback)</span>
    <span class='block'>{|callback| ... }</span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
When performing a redirect, this callback will be executed first. If the
callback returns true, then the redirect is followed, otherwise it is not.
The request that triggered the redirect and the response will be passed
into the block. This can be used to update any links on the client side.
</p>
<p>
Example:
</p>
<pre class="code">
  <span class='author_resource identifier id'>author_resource</span><span class='dot token'>.</span><span class='on_redirect identifier id'>on_redirect</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='req identifier id'>req</span><span class='comma token'>,</span> <span class='resp identifier id'>resp</span><span class='bitor op'>|</span>
    <span class='post identifier id'>post</span><span class='dot token'>.</span><span class='author_uri identifier id'>author_uri</span> <span class='assign token'>=</span> <span class='resp identifier id'>resp</span><span class='dot token'>.</span><span class='header identifier id'>header</span><span class='lbrack token'>[</span><span class='string val'>'Location'</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>
</pre>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="yieldparam">
  <h3>Yield Parameters:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>request</tt>, <tt>response</tt>]</span>
      
      
        <span class='name'>callback</span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
The action to be executed when a request results in a redirect. Yields the
current request and result objects to the callback.
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="../Object.html" title="Object">Object</a></tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
ArgumentError if called without a block
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/resourceful/resource.rb', line 59</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/paul/resourceful/blob/0fb5446ffe8dbe8d8405375053e066673118f0ba/lib/resourceful/resource.rb#L59">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">59
60
61
62
63
64
65</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='on_redirect identifier id'>on_redirect</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='callback identifier id'>callback</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='@on_redirect ivar id'>@on_redirect</span> <span class='assign token'>=</span> <span class='callback identifier id'>callback</span>
  <span class='else else kw'>else</span>
    <span class='@on_redirect ivar id'>@on_redirect</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>post</h3>
</div><div id="post-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt><a href="Response.html" title="Response">Response</a></tt></span>
    <span class='name'>post</span><span class='args'>(data = nil, header = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='post identifier id'>post</span><span class='lparen token'>(</span><span class='data identifier id'>data</span> <span class='assign token'>=</span> <span class='string val'>&quot;&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:content_type</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='mime_type identifier id'>mime_type</span><span class='rparen token'>)</span>
</pre>
<p>
Performs a POST with the given data to the resource, following redirects as
neccessary.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>String</tt>]</span>
        <span class='name'>data</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
The body of the data to be posted
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="Response.html" title="Response">Response</a></tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
The Response to the final request that was made.
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>ArgumentError</tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
unless :content-type is specified in options
</p>
</span>
    </dd>
  
    <dt>
      
        <span class='type'>[<tt><a href="UnsuccessfulHttpRequestError.html" title="UnsuccessfulHttpRequestError">UnsuccessfulHttpRequestError</a></tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
unless the request is a success, ie the final request returned a 2xx
response code
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/resourceful/resource.rb', line 94</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/paul/resourceful/blob/0fb5446ffe8dbe8d8405375053e066673118f0ba/lib/resourceful/resource.rb#L94">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">94
95
96
97</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='post identifier id'>post</span><span class='lparen token'>(</span><span class='data identifier id'>data</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='header identifier id'>header</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='check_content_type_exists identifier id'>check_content_type_exists</span><span class='lparen token'>(</span><span class='data identifier id'>data</span><span class='comma token'>,</span> <span class='header identifier id'>header</span><span class='rparen token'>)</span>
  <span class='request identifier id'>request</span><span class='lparen token'>(</span><span class='symbol val'>:post</span><span class='comma token'>,</span> <span class='data identifier id'>data</span><span class='comma token'>,</span> <span class='header identifier id'>header</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>put</h3>
</div><div id="put-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'><tt><a href="Response.html" title="Response">Response</a></tt></span>
    <span class='name'>put</span><span class='args'>(data, header = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
:call-seq:
</p>
<pre class="code">
  <span class='put identifier id'>put</span><span class='lparen token'>(</span><span class='data identifier id'>data</span> <span class='assign token'>=</span> <span class='string val'>&quot;&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:content_type</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='mime_type identifier id'>mime_type</span><span class='rparen token'>)</span>
</pre>
<p>
Performs a PUT with the given data to the resource, following redirects as
neccessary.
</p>

</div><div class="section tags">
  <h2>Meta Tags</h2>
  <div class="param">
  <h3>Parameters:</h3>
  <dl>
  
    
      <dt>
        <span class='type'>[<tt>String</tt>]</span>
        <span class='name'>data</span>
        
      </dt>
      <dd>
        <span class='desc'><p>
The body of the data to be posted
</p>
</span>
      </dd>
    
  
  </dl>
</div><div class="return">
  <h3>Returns:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt><a href="Response.html" title="Response">Response</a></tt>]</span>
      
      
        <span class='name'></span>
      
      
    </dt>
    <dd>
      <span class='desc'><p>
The response to the final request made.
</p>
</span>
    </dd>
  
  </dl>
</div>
<div class="raise">
  <h3>Raises:</h3>
  <dl>
  
    <dt>
      
        <span class='type'>[<tt>ArgumentError</tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
unless :content-type is specified in options
</p>
</span>
    </dd>
  
    <dt>
      
        <span class='type'>[<tt><a href="UnsuccessfulHttpRequestError.html" title="UnsuccessfulHttpRequestError">UnsuccessfulHttpRequestError</a></tt>]</span>
      
      
      
    </dt>
    <dd>
      <span class='desc'><p>
unless the request is a success, ie the final request returned a 2xx
response code
</p>
</span>
    </dd>
  
  </dl>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/resourceful/resource.rb', line 115</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/paul/resourceful/blob/0fb5446ffe8dbe8d8405375053e066673118f0ba/lib/resourceful/resource.rb#L115">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">115
116
117
118</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='put identifier id'>put</span><span class='lparen token'>(</span><span class='data identifier id'>data</span><span class='comma token'>,</span> <span class='header identifier id'>header</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='check_content_type_exists identifier id'>check_content_type_exists</span><span class='lparen token'>(</span><span class='data identifier id'>data</span><span class='comma token'>,</span> <span class='header identifier id'>header</span><span class='rparen token'>)</span>
  <span class='request identifier id'>request</span><span class='lparen token'>(</span><span class='symbol val'>:put</span><span class='comma token'>,</span> <span class='data identifier id'>data</span><span class='comma token'>,</span> <span class='header identifier id'>header</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>update_uri</h3>
</div><div id="update_uri-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>update_uri</span><span class='args'>(uri)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Updates the effective uri after following a permanent redirect
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/resourceful/resource.rb', line 39</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/paul/resourceful/blob/0fb5446ffe8dbe8d8405375053e066673118f0ba/lib/resourceful/resource.rb#L39">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">39
40
41</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='update_uri identifier id'>update_uri</span><span class='lparen token'>(</span><span class='uri identifier id'>uri</span><span class='rparen token'>)</span>
  <span class='@uris ivar id'>@uris</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span><span class='lparen token'>(</span><span class='uri identifier id'>uri</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>