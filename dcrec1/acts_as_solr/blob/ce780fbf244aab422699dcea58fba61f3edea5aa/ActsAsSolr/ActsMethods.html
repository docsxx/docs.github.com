<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>dcrec1's acts_as_solr - Module: ActsAsSolr::ActsMethods - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/dcrec1/commits/acts_as_solr/master" rel="alternate" title="Recent Commits to acts_as_solr:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("dcrec1", "acts_as_solr", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='dcrec1/acts_as_solr/blob/ce780fbf244aab422699dcea58fba61f3edea5aa' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='dcrec1/acts_as_solr/blob/ce780fbf244aab422699dcea58fba61f3edea5aa' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("dcrec1", "acts_as_solr", "ce780fbf244aab422699dcea58fba61f3edea5aa", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/dcrec1/acts_as_solr/tree/">Source</a></li>
            <li class=""><a href="http://github.com/dcrec1/acts_as_solr/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/dcrec1/acts_as_solr/network">Network</a></li>            
            <li class=""><a href="http://github.com/dcrec1/acts_as_solr/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/dcrec1/acts_as_solr">Wiki</a></li>
            <li class=""><a href="http://github.com/dcrec1/acts_as_solr/graphs">Graphs</a></li>                    
            <li class="active"><a href="/dcrec1/acts_as_solr">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/dcrec1">dcrec1</a> / <b><a href="http://github.com/dcrec1/acts_as_solr/tree">acts_as_solr</a></b>        
                <a id="namespaces_button" rel="dcrec1/acts_as_solr/blob/ce780fbf244aab422699dcea58fba61f3edea5aa" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="dcrec1/acts_as_solr/blob/ce780fbf244aab422699dcea58fba61f3edea5aa" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section module ActsAsSolr_ActsMethods">
  <h1>Module: ActsAsSolr::ActsMethods</h1>
  <div class="section mixins">
  <h2>Included Modules</h2>
  <p><a title="ActsAsSolr::ClassMethods" href="ActsMethods/ClassMethods.html">ActsAsSolr::ClassMethods</a>, <a title="ActsAsSolr::InstanceMethods" href="ActsMethods/InstanceMethods.html">ActsAsSolr::InstanceMethods</a>, <a title="ActsAsSolr::CommonMethods" href="ActsMethods/CommonMethods.html">ActsAsSolr::CommonMethods</a>, <a title="ActsAsSolr::ParserMethods" href="ActsMethods/ParserMethods.html">ActsAsSolr::ParserMethods</a></p>
</div><div class="section mixins">
  <h2>Included Modules</h2>
  <p><a title="ActsAsSolr::ClassMethods" href="ActsMethods/ClassMethods.html">ActsAsSolr::ClassMethods</a>, <a title="ActsAsSolr::InstanceMethods" href="ActsMethods/InstanceMethods.html">ActsAsSolr::InstanceMethods</a>, <a title="ActsAsSolr::CommonMethods" href="ActsMethods/CommonMethods.html">ActsAsSolr::CommonMethods</a>, <a title="ActsAsSolr::ParserMethods" href="ActsMethods/ParserMethods.html">ActsAsSolr::ParserMethods</a></p>
</div><div class="section constants">
  
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <div class="included">
  
  <div>
    <h2>Public Class Methods Included from <a title="ActsAsSolr::ClassMethods" href="ActsMethods/ClassMethods.html">ActsAsSolr::ClassMethods</a></h2>
    <p><span class='name'><a title="count_by_solr" href="ClassMethods.html#count_by_solr-instance_method">count_by_solr</a></span>, <span class='name'><a title="find_by_solr" href="ClassMethods.html#find_by_solr-instance_method">find_by_solr</a></span>, <span class='name'><a title="find_id_by_solr" href="ClassMethods.html#find_id_by_solr-instance_method">find_id_by_solr</a></span>, <span class='name'><a title="find_multi_search_objects" href="ClassMethods.html#find_multi_search_objects-instance_method">find_multi_search_objects</a></span>, <span class='name'><a title="find_with_facet" href="ClassMethods.html#find_with_facet-instance_method">find_with_facet</a></span>, <span class='name'><a title="multi_model_suffix" href="ClassMethods.html#multi_model_suffix-instance_method">multi_model_suffix</a></span>, <span class='name'><a title="multi_solr_search" href="ClassMethods.html#multi_solr_search-instance_method">multi_solr_search</a></span>, <span class='name'><a title="rebuild_solr_index" href="ClassMethods.html#rebuild_solr_index-instance_method">rebuild_solr_index</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
  <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#acts_as_solr-instance_method">#acts_as_solr</span><span class='args'>(options = {}, solr_options = {}, &amp;deferred_solr_configuration)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
declares a class as solr-searchable.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#define_solr_configuration_methods-instance_method">#define_solr_configuration_methods</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#process_acts_as_solr-instance_method">#process_acts_as_solr</span><span class='args'>(options, solr_options)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#process_deferred_solr_configuration-instance_method">#process_deferred_solr_configuration</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#process_solr_options-instance_method">#process_solr_options</span><span class='args'>(options = {}, solr_options = {})</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table><div class="included">
  
  <div>
    <h2>Public Instance Methods Included from <a title="ActsAsSolr::InstanceMethods" href="ActsMethods/InstanceMethods.html">ActsAsSolr::InstanceMethods</a></h2>
    <p><span class='name'><a title="indexing_disabled?" href="InstanceMethods.html#indexing_disabled%3F-instance_method">indexing_disabled?</a></span>, <span class='name'><a title="solr_destroy" href="InstanceMethods.html#solr_destroy-instance_method">solr_destroy</a></span>, <span class='name'><a title="solr_id" href="InstanceMethods.html#solr_id-instance_method">solr_id</a></span>, <span class='name'><a title="solr_save" href="InstanceMethods.html#solr_save-instance_method">solr_save</a></span>, <span class='name'><a title="to_solr_doc" href="InstanceMethods.html#to_solr_doc-instance_method">to_solr_doc</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a title="ActsAsSolr::CommonMethods" href="ActsMethods/CommonMethods.html">ActsAsSolr::CommonMethods</a></h2>
    <p><span class='name'><a title="get_solr_field_type" href="CommonMethods.html#get_solr_field_type-instance_method">get_solr_field_type</a></span>, <span class='name'><a title="record_id" href="CommonMethods.html#record_id-instance_method">record_id</a></span>, <span class='name'><a title="set_value_if_nil" href="CommonMethods.html#set_value_if_nil-instance_method">set_value_if_nil</a></span>, <span class='name'><a title="solr_add" href="CommonMethods.html#solr_add-instance_method">solr_add</a></span>, <span class='name'><a title="solr_commit" href="CommonMethods.html#solr_commit-instance_method">solr_commit</a></span>, <span class='name'><a title="solr_delete" href="CommonMethods.html#solr_delete-instance_method">solr_delete</a></span>, <span class='name'><a title="solr_optimize" href="CommonMethods.html#solr_optimize-instance_method">solr_optimize</a></span></p>
  </div>
  
  <div>
    <h2>Public Instance Methods Included from <a title="ActsAsSolr::ParserMethods" href="ActsMethods/ParserMethods.html">ActsAsSolr::ParserMethods</a></h2>
    <p><span class='name'><a title="add_scores" href="ParserMethods.html#add_scores-instance_method">add_scores</a></span>, <span class='name'><a title="find_objects" href="ParserMethods.html#find_objects-instance_method">find_objects</a></span>, <span class='name'><a title="parse_query" href="ParserMethods.html#parse_query-instance_method">parse_query</a></span>, <span class='name'><a title="parse_results" href="ParserMethods.html#parse_results-instance_method">parse_results</a></span>, <span class='name'><a title="reorder" href="ParserMethods.html#reorder-instance_method">reorder</a></span>, <span class='name'><a title="replace_types" href="ParserMethods.html#replace_types-instance_method">replace_types</a></span>, <span class='name'><a title="scorable_record?" href="ParserMethods.html#scorable_record%3F-instance_method">scorable_record?</a></span>, <span class='name'><a title="solr_type_condition" href="ParserMethods.html#solr_type_condition-instance_method">solr_type_condition</a></span>, <span class='name'><a title="validate_date_facet_other_options" href="ParserMethods.html#validate_date_facet_other_options-instance_method">validate_date_facet_other_options</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>acts_as_solr</h3>
</div><div id="acts_as_solr-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>acts_as_solr</span><span class='args'>(options = {}, solr_options = {}, &amp;deferred_solr_configuration)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
declares a class as solr-searchable
</p>
<h4>options:</h4>
<table>
<tr><td valign="top">fields:</td><td>This option can be used to specify only the fields you&#8217;d like to
index. If not given, all the attributes from the class will be indexed. You
can also use this option to include methods that should be indexed as
fields

<pre class="code">
 <span class='class class kw'>class</span> <span class='Movie constant id'>Movie</span> <span class='lt op'>&lt;</span> <span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
   <span class='acts_as_solr identifier id'>acts_as_solr</span> <span class='symbol val'>:fields</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='symbol val'>:name</span><span class='comma token'>,</span> <span class='symbol val'>:description</span><span class='comma token'>,</span> <span class='symbol val'>:current_time</span><span class='rbrack token'>]</span>
   <span class='def def kw'>def</span> <span class='current_time identifier id'>current_time</span>
     <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='now identifier id'>now</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
   <span class='end end kw'>end</span>
 <span class='end end kw'>end</span>
</pre>
<p>
Each field passed can also be a hash with the value being a field type
</p>
<pre class="code">
 <span class='class class kw'>class</span> <span class='Electronic constant id'>Electronic</span> <span class='lt op'>&lt;</span> <span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
   <span class='acts_as_solr identifier id'>acts_as_solr</span> <span class='symbol val'>:fields</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span><span class='symbol val'>:price</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:range_float</span><span class='rbrace token'>}</span><span class='rbrack token'>]</span>
   <span class='def def kw'>def</span> <span class='current_time identifier id'>current_time</span>
     <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='now identifier id'>now</span>
   <span class='end end kw'>end</span>
 <span class='end end kw'>end</span>
</pre>
<p>
The field types accepted are:
</p>
<table>
<tr><td valign="top">:float:</td><td>Index the field value as a float (ie.: 12.87)

</td></tr>
<tr><td valign="top">:integer:</td><td>Index the field value as an integer (ie.: 31)

</td></tr>
<tr><td valign="top">:boolean:</td><td>Index the field value as a boolean (ie.: true/false)

</td></tr>
<tr><td valign="top">:date:</td><td>Index the field value as a date (ie.: Wed Nov 15 23:13:03 PST 2006)

</td></tr>
<tr><td valign="top">:string:</td><td>Index the field value as a text string, not applying the same indexing
filters as a regular text field

</td></tr>
<tr><td valign="top">:range_integer:</td><td>Index the field value for integer range queries (ie.:[5 TO 20])

</td></tr>
<tr><td valign="top">:range_float:</td><td>Index the field value for float range queries (ie.:[14.56 TO 19.99])

</td></tr>
</table>
<p>
Setting the field type preserves its original type when indexed
</p>
<p>
The field may also be passed with a hash value containing options
</p>
<p>
class Author &lt; ActiveRecord::Base
</p>
<pre class="code">
  <span class='acts_as_solr identifier id'>acts_as_solr</span> <span class='symbol val'>:fields</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span><span class='symbol val'>:full_name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='symbol val'>:type</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:text</span><span class='comma token'>,</span> <span class='symbol val'>:as</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:name</span><span class='rbrace token'>}</span><span class='rbrace token'>}</span><span class='rbrack token'>]</span>
  <span class='def def kw'>def</span> <span class='full_name identifier id'>full_name</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='first_name identifier id'>first_name</span> <span class='plus op'>+</span> <span class='string val'>' '</span> <span class='plus op'>+</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='last_name identifier id'>last_name</span>
  <span class='end end kw'>end</span>
</pre>
<p>
end
</p>
<p>
The options accepted are:
</p>
<table>
<tr><td valign="top">:type:</td><td>Index the field using the specified type

</td></tr>
<tr><td valign="top">:as:</td><td>Index the field using the specified field name

</td></tr>
</table>
</td></tr>
<tr><td valign="top">additional_fields:</td><td>This option takes fields to be include in the index in addition to those
derived from the database. You can also use this option to include custom
fields derived from methods you define. This option will be ignored if the
:fields option is given. It also accepts the same field types as the option
above

<pre class="code">
 <span class='class class kw'>class</span> <span class='Movie constant id'>Movie</span> <span class='lt op'>&lt;</span> <span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
  <span class='acts_as_solr identifier id'>acts_as_solr</span> <span class='symbol val'>:additional_fields</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='symbol val'>:current_time</span><span class='rbrack token'>]</span>
  <span class='def def kw'>def</span> <span class='current_time identifier id'>current_time</span>
    <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='now identifier id'>now</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
  <span class='end end kw'>end</span>
 <span class='end end kw'>end</span>
</pre>
</td></tr>
<tr><td valign="top">exclude_fields:</td><td>This option taks an array of fields that should be ignored from indexing:

<pre class="code">
  <span class='class class kw'>class</span> <span class='User constant id'>User</span> <span class='lt op'>&lt;</span> <span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='acts_as_solr identifier id'>acts_as_solr</span> <span class='symbol val'>:exclude_fields</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='symbol val'>:password</span><span class='comma token'>,</span> <span class='symbol val'>:login</span><span class='comma token'>,</span> <span class='symbol val'>:credit_card_number</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>
</pre>
</td></tr>
<tr><td valign="top">include:</td><td>This option can be used for association indexing, which means you can
include any :has_one, :has_many, :belongs_to and :has_and_belongs_to_many
association to be indexed:

<pre class="code">
 <span class='class class kw'>class</span> <span class='Category constant id'>Category</span> <span class='lt op'>&lt;</span> <span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
   <span class='has_many identifier id'>has_many</span> <span class='symbol val'>:books</span>
   <span class='acts_as_solr identifier id'>acts_as_solr</span> <span class='symbol val'>:include</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='symbol val'>:books</span><span class='rbrack token'>]</span>
 <span class='end end kw'>end</span>
</pre>
<p>
Each association may also be specified as a hash with an option hash as a
value
</p>
<p>
class Book &lt; ActiveRecord::Base
</p>
<pre class="code">
  <span class='belongs_to identifier id'>belongs_to</span> <span class='symbol val'>:author</span>
  <span class='has_many identifier id'>has_many</span> <span class='symbol val'>:distribution_companies</span>
  <span class='has_many identifier id'>has_many</span> <span class='symbol val'>:copyright_dates</span>
  <span class='has_many identifier id'>has_many</span> <span class='symbol val'>:media_types</span>
  <span class='acts_as_solr identifier id'>acts_as_solr</span><span class='lparen token'>(</span>
    <span class='symbol val'>:fields</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='symbol val'>:name</span><span class='comma token'>,</span> <span class='symbol val'>:description</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
    <span class='symbol val'>:include</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span>
      <span class='lbrace token'>{</span><span class='symbol val'>:author</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='symbol val'>:using</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:fullname</span><span class='comma token'>,</span> <span class='symbol val'>:as</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:name</span><span class='rbrace token'>}</span><span class='rbrace token'>}</span><span class='comma token'>,</span>
      <span class='lbrace token'>{</span><span class='symbol val'>:media_types</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='symbol val'>:using</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lambda identifier id'>lambda</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='media identifier id'>media</span><span class='bitor op'>|</span> <span class='type_lookup identifier id'>type_lookup</span><span class='lparen token'>(</span><span class='media identifier id'>media</span><span class='dot token'>.</span><span class='id identifier id'>id</span><span class='rparen token'>)</span><span class='rbrace token'>}</span><span class='rbrace token'>}</span><span class='rbrace token'>}</span>
      <span class='lbrace token'>{</span><span class='symbol val'>:distribution_companies</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='symbol val'>:as</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:distributor</span><span class='comma token'>,</span> <span class='symbol val'>:multivalued</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='rbrace token'>}</span><span class='rbrace token'>}</span><span class='comma token'>,</span>
      <span class='lbrace token'>{</span><span class='symbol val'>:copyright_dates</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='symbol val'>:as</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:copyright</span><span class='comma token'>,</span> <span class='symbol val'>:type</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:date</span><span class='rbrace token'>}</span><span class='rbrace token'>}</span>
    <span class='rbrack token'>]</span>
  <span class='rbrack token'>]</span>
</pre>
<p>
The options accepted are:
</p>
<table>
<tr><td valign="top">:type:</td><td>Index the associated objects using the specified type

</td></tr>
<tr><td valign="top">:as:</td><td>Index the associated objects using the specified field name

</td></tr>
<tr><td valign="top">:using:</td><td>Index the associated objects using the value returned by the specified
method or proc. If a method symbol is supplied, it will be sent to each
object to look up the value to index; if a proc is supplied, it will be
called once for each object with the object as the only argument

</td></tr>
<tr><td valign="top">:multivalued:</td><td>Index the associated objects using one field for each object rather than
joining them all into a single field

</td></tr>
</table>
</td></tr>
<tr><td valign="top">facets:</td><td>This option can be used to specify the fields you&#8217;d like to index as
facet fields

<pre class="code">
 <span class='class class kw'>class</span> <span class='Electronic constant id'>Electronic</span> <span class='lt op'>&lt;</span> <span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
   <span class='acts_as_solr identifier id'>acts_as_solr</span> <span class='symbol val'>:facets</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='symbol val'>:category</span><span class='comma token'>,</span> <span class='symbol val'>:manufacturer</span><span class='rbrack token'>]</span>
 <span class='end end kw'>end</span>
</pre>
</td></tr>
<tr><td valign="top">boost:</td><td>You can pass a boost (float) value that will be used to boost the document
and/or a field. To specify a more boost for the document, you can either
pass a block or a symbol. The block will be called with the record as an
argument, a symbol will result in the according method being called:

<pre class="code">
  <span class='class class kw'>class</span> <span class='Electronic constant id'>Electronic</span> <span class='lt op'>&lt;</span> <span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='acts_as_solr identifier id'>acts_as_solr</span> <span class='symbol val'>:fields</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span><span class='symbol val'>:price</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='symbol val'>:boost</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='float val'>5.0</span><span class='rbrace token'>}</span><span class='rbrace token'>}</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:boost</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='float val'>10.0</span>
  <span class='end end kw'>end</span>

  <span class='class class kw'>class</span> <span class='Electronic constant id'>Electronic</span> <span class='lt op'>&lt;</span> <span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='acts_as_solr identifier id'>acts_as_solr</span> <span class='symbol val'>:fields</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span><span class='symbol val'>:price</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='symbol val'>:boost</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='float val'>5.0</span><span class='rbrace token'>}</span><span class='rbrace token'>}</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:boost</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='proc identifier id'>proc</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='record identifier id'>record</span><span class='bitor op'>|</span> <span class='record identifier id'>record</span><span class='dot token'>.</span><span class='id identifier id'>id</span> <span class='plus op'>+</span> <span class='integer val'>120</span><span class='mult op'>*</span><span class='integer val'>37</span><span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>

  <span class='class class kw'>class</span> <span class='Electronic constant id'>Electronic</span> <span class='lt op'>&lt;</span> <span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='acts_as_solr identifier id'>acts_as_solr</span> <span class='symbol val'>:fields</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span><span class='symbol val'>:price</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='symbol val'>:boost</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:price_rating</span><span class='rbrace token'>}</span><span class='rbrace token'>}</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:boost</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='float val'>10.0</span>
  <span class='end end kw'>end</span>
</pre>
</td></tr>
<tr><td valign="top">if:</td><td>Only indexes the record if the condition evaluated is true. The argument
has to be either a symbol, string (to be eval&#8217;ed), proc/method, or
class implementing a static validation method. It behaves the same way as
ActiveRecord&#8217;s :if option.

<pre class="code">
  <span class='class class kw'>class</span> <span class='Electronic constant id'>Electronic</span> <span class='lt op'>&lt;</span> <span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='acts_as_solr identifier id'>acts_as_solr</span> <span class='symbol val'>:if</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='proc identifier id'>proc</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='record identifier id'>record</span><span class='bitor op'>|</span> <span class='record identifier id'>record</span><span class='dot token'>.</span><span class='is_active? fid id'>is_active?</span><span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
</pre>
</td></tr>
<tr><td valign="top">offline:</td><td>Assumes that your using an outside mechanism to explicitly trigger indexing
records, e.g. you only want to update your index through some asynchronous
mechanism. Will accept either a boolean or a block that will be evaluated
before actually contacting the index for saving or destroying a document.
Defaults to false. It doesn&#8217;t refer to the mechanism of an offline
index in general, but just to get a centralized point where you can control
indexing. Note: This is only enabled for saving records. acts_as_solr
doesn&#8217;t always like it, if you have a different number of results
coming from the database and the index. This might be rectified in another
patch to support lazy loading.

<pre class="code">
  <span class='class class kw'>class</span> <span class='Electronic constant id'>Electronic</span> <span class='lt op'>&lt;</span> <span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='acts_as_solr identifier id'>acts_as_solr</span> <span class='symbol val'>:offline</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='proc identifier id'>proc</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='record identifier id'>record</span><span class='bitor op'>|</span> <span class='record identifier id'>record</span><span class='dot token'>.</span><span class='automatic_indexing_disabled? fid id'>automatic_indexing_disabled?</span><span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
</pre>
</td></tr>
<tr><td valign="top">auto_commit:</td><td>The commit command will be sent to Solr only if its value is set to true:

<pre class="code">
  <span class='class class kw'>class</span> <span class='Author constant id'>Author</span> <span class='lt op'>&lt;</span> <span class='ActiveRecord constant id'>ActiveRecord</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
    <span class='acts_as_solr identifier id'>acts_as_solr</span> <span class='symbol val'>:auto_commit</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span>
  <span class='end end kw'>end</span>
</pre>
</td></tr>
</table>
<p>
dynamic_attributes: Default false. When true, requires a has_many
relationship to a DynamicAttribute
</p>
<pre class="code">
                    <span class='lparen token'>(</span><span class='symbol val'>:name</span><span class='comma token'>,</span> <span class='symbol val'>:value</span><span class='rparen token'>)</span> <span class='model identifier id'>model</span><span class='dot token'>.</span> <span class='Then constant id'>Then</span><span class='comma token'>,</span> <span class='all identifier id'>all</span> <span class='dynamic identifier id'>dynamic</span> <span class='attributes identifier id'>attributes</span> <span class='will identifier id'>will</span> <span class='be identifier id'>be</span> <span class='mapped identifier id'>mapped</span> <span class='as identifier id'>as</span> <span class='normal identifier id'>normal</span> <span class='attributes identifier id'>attributes</span>
                   <span class='in in kw'>in</span> <span class='Solr constant id'>Solr</span><span class='comma token'>,</span> <span class='so identifier id'>so</span> <span class='you identifier id'>you</span> <span class='can identifier id'>can</span> <span class='filter identifier id'>filter</span> <span class='like identifier id'>like</span> <span class='this identifier id'>this</span><span class='colon op'>:</span> <span class='Model constant id'>Model</span><span class='dot token'>.</span><span class='find_by_solr identifier id'>find_by_solr</span> <span class='dstring node'>&quot;#{dynamic_attribute.name}:Lorem&quot;</span>
</pre>
<p>
taggable: Default false. When true, indexes tags with field name tag. Tags
are taken from taggings.tag spatial: Default false. When true, indexes
model.local.latitude and model.local.longitude as coordinates.
</p>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/acts_as_solr/acts_methods.rb', line 166</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dcrec1/acts_as_solr/blob/ce780fbf244aab422699dcea58fba61f3edea5aa/lib/acts_as_solr/acts_methods.rb#L166">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='acts_as_solr identifier id'>acts_as_solr</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='solr_options identifier id'>solr_options</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='deferred_solr_configuration identifier id'>deferred_solr_configuration</span><span class='rparen token'>)</span>

  <span class='extend identifier id'>extend</span> <span class='ClassMethods constant id'>ClassMethods</span>
  <span class='include identifier id'>include</span> <span class='InstanceMethods constant id'>InstanceMethods</span>
  <span class='include identifier id'>include</span> <span class='CommonMethods constant id'>CommonMethods</span>
  <span class='include identifier id'>include</span> <span class='ParserMethods constant id'>ParserMethods</span>

  <span class='define_solr_configuration_methods identifier id'>define_solr_configuration_methods</span>

  <span class='after_save identifier id'>after_save</span>    <span class='symbol val'>:solr_save</span>
  <span class='after_destroy identifier id'>after_destroy</span> <span class='symbol val'>:solr_destroy</span>

  <span class='if if kw'>if</span> <span class='deferred_solr_configuration identifier id'>deferred_solr_configuration</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='deferred_solr_configuration identifier id'>deferred_solr_configuration</span> <span class='assign token'>=</span> <span class='deferred_solr_configuration identifier id'>deferred_solr_configuration</span>
  <span class='else else kw'>else</span>
    <span class='process_acts_as_solr identifier id'>process_acts_as_solr</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='solr_options identifier id'>solr_options</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>define_solr_configuration_methods</h3>
</div><div id="define_solr_configuration_methods-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>define_solr_configuration_methods</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/acts_as_solr/acts_methods.rb', line 189</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dcrec1/acts_as_solr/blob/ce780fbf244aab422699dcea58fba61f3edea5aa/lib/acts_as_solr/acts_methods.rb#L189">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">189
190
191
192
193</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='define_solr_configuration_methods identifier id'>define_solr_configuration_methods</span>
  <span class='comment val'># I'd like to use cattr_accessor, but it does not support lazy loaders and delegation to the class in the instance methods.</span>
  <span class='comment val'># TODO: Reconcile with cattr_accessor, or a more appropriate method.</span>
  <span class='class_eval identifier id'>class_eval</span><span class='lparen token'>(</span><span class='string val'>&quot;@@configuration = nil unless defined?(@@configuration)\n@@solr_configuration = nil unless defined?(@@solr_configuration)\n@@deferred_solr_configuration = nil unless defined?(@@deferred_solr_configuration)\n\ndef self.configuration\nreturn @@configuration if @@configuration\nprocess_deferred_solr_configuration\n@@configuration\nend\ndef configuration\nself.class.configuration\nend\ndef self.configuration=(value)\n@@configuration = value\nend\ndef configuration=(value)\nself.class.configuration = value\nend\n\ndef self.solr_configuration\nreturn @@solr_configuration if @@solr_configuration\nprocess_deferred_solr_configuration\n@@solr_configuration\nend\ndef solr_configuration\nself.class.solr_configuration\nend\ndef self.solr_configuration=(value)\n@@solr_configuration = value\nend\ndef solr_configuration=(value)\nself.class.solr_configuration = value\nend\n\ndef self.deferred_solr_configuration\nreturn @@deferred_solr_configuration if @@deferred_solr_configuration\n@@deferred_solr_configuration\nend\ndef deferred_solr_configuration\nself.class.deferred_solr_configuration\nend\ndef self.deferred_solr_configuration=(value)\n@@deferred_solr_configuration = value\nend\ndef deferred_solr_configuration=(value)\nself.class.deferred_solr_configuration = value\nend\n&quot;</span><span class='comma token'>,</span> <span class='__FILE__ __file__ kw'>__FILE__</span><span class='comma token'>,</span> <span class='__LINE__ __line__ kw'>__LINE__</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>process_acts_as_solr</h3>
</div><div id="process_acts_as_solr-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>process_acts_as_solr</span><span class='args'>(options, solr_options)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/acts_as_solr/acts_methods.rb', line 185</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dcrec1/acts_as_solr/blob/ce780fbf244aab422699dcea58fba61f3edea5aa/lib/acts_as_solr/acts_methods.rb#L185">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">185
186
187</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='process_acts_as_solr identifier id'>process_acts_as_solr</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='solr_options identifier id'>solr_options</span><span class='rparen token'>)</span>
  <span class='process_solr_options identifier id'>process_solr_options</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='solr_options identifier id'>solr_options</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>process_deferred_solr_configuration</h3>
</div><div id="process_deferred_solr_configuration-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>process_deferred_solr_configuration</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/acts_as_solr/acts_methods.rb', line 244</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dcrec1/acts_as_solr/blob/ce780fbf244aab422699dcea58fba61f3edea5aa/lib/acts_as_solr/acts_methods.rb#L244">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">244
245
246
247
248
249</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='process_deferred_solr_configuration identifier id'>process_deferred_solr_configuration</span>
  <span class='return return kw'>return</span> <span class='unless unless_mod kw'>unless</span> <span class='deferred_solr_configuration identifier id'>deferred_solr_configuration</span>
  <span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='solr_options identifier id'>solr_options</span> <span class='assign token'>=</span> <span class='deferred_solr_configuration identifier id'>deferred_solr_configuration</span><span class='dot token'>.</span><span class='call identifier id'>call</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='deferred_solr_configuration identifier id'>deferred_solr_configuration</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='process_solr_options identifier id'>process_solr_options</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='solr_options identifier id'>solr_options</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>process_solr_options</h3>
</div><div id="process_solr_options-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>process_solr_options</span><span class='args'>(options = {}, solr_options = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/acts_as_solr/acts_methods.rb', line 251</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/dcrec1/acts_as_solr/blob/ce780fbf244aab422699dcea58fba61f3edea5aa/lib/acts_as_solr/acts_methods.rb#L251">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='process_solr_options identifier id'>process_solr_options</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='solr_options identifier id'>solr_options</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='configuration identifier id'>configuration</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span>
    <span class='symbol val'>:fields</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span>
    <span class='symbol val'>:additional_fields</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span>
    <span class='symbol val'>:dynamic_attributes</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span><span class='comma token'>,</span>
    <span class='symbol val'>:exclude_fields</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
    <span class='symbol val'>:auto_commit</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span>
    <span class='symbol val'>:include</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span>
    <span class='symbol val'>:facets</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span>
    <span class='symbol val'>:boost</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span>
    <span class='symbol val'>:if</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;true&quot;</span><span class='comma token'>,</span>
    <span class='symbol val'>:offline</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span><span class='comma token'>,</span>
    <span class='symbol val'>:spatial</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span>
  <span class='rbrace token'>}</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='solr_configuration identifier id'>solr_configuration</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span>
    <span class='symbol val'>:type_field</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;type_s&quot;</span><span class='comma token'>,</span>
    <span class='symbol val'>:primary_key_field</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;pk_i&quot;</span><span class='comma token'>,</span>
    <span class='symbol val'>:default_boost</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='float val'>1.0</span>
  <span class='rbrace token'>}</span>

  <span class='configuration identifier id'>configuration</span><span class='dot token'>.</span><span class='update identifier id'>update</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='rparen token'>)</span>
  <span class='solr_configuration identifier id'>solr_configuration</span><span class='dot token'>.</span><span class='update identifier id'>update</span><span class='lparen token'>(</span><span class='solr_options identifier id'>solr_options</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='solr_options identifier id'>solr_options</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='rparen token'>)</span>
  <span class='Deprecation constant id'>Deprecation</span><span class='dot token'>.</span><span class='validate_index identifier id'>validate_index</span><span class='lparen token'>(</span><span class='configuration identifier id'>configuration</span><span class='rparen token'>)</span>

  <span class='configuration identifier id'>configuration</span><span class='lbrack token'>[</span><span class='symbol val'>:solr_fields</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='configuration identifier id'>configuration</span><span class='lbrack token'>[</span><span class='symbol val'>:solr_includes</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>

  <span class='if if kw'>if</span> <span class='configuration identifier id'>configuration</span><span class='lbrack token'>[</span><span class='symbol val'>:fields</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:each</span><span class='rparen token'>)</span>
    <span class='process_fields identifier id'>process_fields</span><span class='lparen token'>(</span><span class='configuration identifier id'>configuration</span><span class='lbrack token'>[</span><span class='symbol val'>:fields</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='process_fields identifier id'>process_fields</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='dot token'>.</span><span class='attributes identifier id'>attributes</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='bitor op'>|</span> <span class='k identifier id'>k</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span> <span class='rbrace token'>}</span><span class='rparen token'>)</span>
    <span class='process_fields identifier id'>process_fields</span><span class='lparen token'>(</span><span class='configuration identifier id'>configuration</span><span class='lbrack token'>[</span><span class='symbol val'>:additional_fields</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='if if kw'>if</span> <span class='configuration identifier id'>configuration</span><span class='lbrack token'>[</span><span class='symbol val'>:include</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:each</span><span class='rparen token'>)</span>
    <span class='process_includes identifier id'>process_includes</span><span class='lparen token'>(</span><span class='configuration identifier id'>configuration</span><span class='lbrack token'>[</span><span class='symbol val'>:include</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>