<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>wycats's thor - Class: Thor::Options - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/wycats/commits/thor/master" rel="alternate" title="Recent Commits to thor:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    GitHubRepo.init("wycats", "thor", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='wycats/thor/blob/52b4759a8e21c95a3f432efc8460c86be198ac7a' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='wycats/thor/blob/52b4759a8e21c95a3f432efc8460c86be198ac7a' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("wycats", "thor", "52b4759a8e21c95a3f432efc8460c86be198ac7a", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/wycats/thor/tree/">Source</a></li>
            <li class=""><a href="http://github.com/wycats/thor/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/wycats/thor/network">Network</a></li>            
            <li class=""><a href="http://github.com/wycats/thor/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/wycats/thor">Wiki</a></li>
            <li class=""><a href="http://github.com/wycats/thor/graphs">Graphs</a></li>                    
            <li class="active"><a href="/wycats/thor">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/wycats">wycats</a> / <b><a href="http://github.com/wycats/thor/tree">thor</a></b>        
                <a id="namespaces_button" rel="wycats/thor/blob/52b4759a8e21c95a3f432efc8460c86be198ac7a" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="wycats/thor/blob/52b4759a8e21c95a3f432efc8460c86be198ac7a" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class Thor_Options">
  <h1>Class: Thor::Options</h1>
  <div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">leading_non_opts</td>
          <td class="readwrite">
            [<span id='leading_non_opts-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>leading_non_opts</tt>.
</p>

            
          </td>
        </tr>
      
        <tr>
          <th class="name">trailing_non_opts</td>
          <td class="readwrite">
            [<span id='trailing_non_opts-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>trailing_non_opts</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  <div class="thisclass">
  <h2>Constants</h2>
  <dl>
    
      <dt id="EQ_RE-constant">EQ_RE</dt>
      <dd>/^(--\w+[-\w+]*|-[a-z])=(.*)$/i</dd>
    
      <dt id="LONG_RE-constant">LONG_RE</dt>
      <dd>/^(--\w+[-\w+]*)$/</dd>
    
      <dt id="NUMERIC-constant">NUMERIC</dt>
      <dd>/(\d*\.\d+|\d+)/</dd>
    
      <dt id="SHORT_NUM-constant">SHORT_NUM</dt>
      <dd>/^(-[a-z])#{NUMERIC}$/i</dd>
    
      <dt id="SHORT_RE-constant">SHORT_RE</dt>
      <dd>/^(-[a-z])$/i</dd>
    
      <dt id="SHORT_SQ_RE-constant">SHORT_SQ_RE</dt>
      <dd>/^-([a-z]{2,})$/i </dd>
    
  </dl>
</div>

</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(switches)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Takes an array of switches. Each array consists of up to three elements
that indicate the name and type of switch. Returns a hash containing each
switch name, minus the &#8217;-&#8217;, as a key. The value for each key
depends on the type of switch and/or the value provided by the user.
</p>
<p>
The long switch <em>must</em> be provided. The short switch defaults to the
first letter of the short switch. The default type is :boolean.
</p>
<p>
Example:
</p>
<pre class="code">
  <span class='opts identifier id'>opts</span> <span class='assign token'>=</span> <span class='Thor constant id'>Thor</span><span class='colon2 op'>::</span><span class='Options constant id'>Options</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span>
     <span class='string val'>&quot;--debug&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span>
     <span class='lbrack token'>[</span><span class='string val'>&quot;--verbose&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;-v&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span>
     <span class='lbrack token'>[</span><span class='string val'>&quot;--level&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;-l&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:numeric</span>
  <span class='rparen token'>)</span><span class='dot token'>.</span><span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/thor/options.rb', line 72</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wycats/thor/blob/master/lib/thor/options.rb#L72">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='switches identifier id'>switches</span><span class='rparen token'>)</span>
  <span class='@defaults ivar id'>@defaults</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='@shorts ivar id'>@shorts</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  
  <span class='@leading_non_opts ivar id'>@leading_non_opts</span><span class='comma token'>,</span> <span class='@trailing_non_opts ivar id'>@trailing_non_opts</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>

  <span class='@switches ivar id'>@switches</span> <span class='assign token'>=</span> <span class='switches identifier id'>switches</span><span class='dot token'>.</span><span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='mem identifier id'>mem</span><span class='comma token'>,</span> <span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='type identifier id'>type</span><span class='rparen token'>)</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Array constant id'>Array</span><span class='rparen token'>)</span>
      <span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='shorts identifier id'>shorts</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span>
    <span class='else else kw'>else</span>
      <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
      <span class='shorts identifier id'>shorts</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>
    <span class='comment val'># we need both nice and dasherized form of switch name</span>
    <span class='if if kw'>if</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='string val'>'-'</span><span class='rparen token'>)</span> <span class='eq op'>==</span> <span class='integer val'>0</span>
      <span class='nice_name identifier id'>nice_name</span> <span class='assign token'>=</span> <span class='undasherize identifier id'>undasherize</span> <span class='name identifier id'>name</span>
    <span class='else else kw'>else</span>
      <span class='nice_name identifier id'>nice_name</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span>
      <span class='name identifier id'>name</span> <span class='assign token'>=</span> <span class='dasherize identifier id'>dasherize</span> <span class='name identifier id'>name</span>
    <span class='end end kw'>end</span>
    <span class='comment val'># if there are no shortcuts specified, generate one using the first character</span>
    <span class='shorts identifier id'>shorts</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&quot;-&quot;</span> <span class='plus op'>+</span> <span class='nice_name identifier id'>nice_name</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='shorts identifier id'>shorts</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span> <span class='and and kw'>and</span> <span class='nice_name identifier id'>nice_name</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='gt op'>&gt;</span> <span class='integer val'>1</span>
    <span class='shorts identifier id'>shorts</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='short identifier id'>short</span><span class='bitor op'>|</span> <span class='@shorts ivar id'>@shorts</span><span class='lbrack token'>[</span><span class='short identifier id'>short</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='name identifier id'>name</span> <span class='rbrace token'>}</span>
    
    <span class='comment val'># normalize type</span>
    <span class='case case kw'>case</span> <span class='type identifier id'>type</span>
    <span class='when when kw'>when</span> <span class='TrueClass constant id'>TrueClass</span>
      <span class='@defaults ivar id'>@defaults</span><span class='lbrack token'>[</span><span class='nice_name identifier id'>nice_name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
      <span class='type identifier id'>type</span> <span class='assign token'>=</span> <span class='symbol val'>:boolean</span>
    <span class='when when kw'>when</span> <span class='FalseClass constant id'>FalseClass</span>
      <span class='@defaults ivar id'>@defaults</span><span class='lbrack token'>[</span><span class='nice_name identifier id'>nice_name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
      <span class='type identifier id'>type</span> <span class='assign token'>=</span> <span class='symbol val'>:boolean</span>
    <span class='when when kw'>when</span> <span class='String constant id'>String</span>
      <span class='@defaults ivar id'>@defaults</span><span class='lbrack token'>[</span><span class='nice_name identifier id'>nice_name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='type identifier id'>type</span>
      <span class='type identifier id'>type</span> <span class='assign token'>=</span> <span class='symbol val'>:optional</span>
    <span class='when when kw'>when</span> <span class='Numeric constant id'>Numeric</span>
      <span class='@defaults ivar id'>@defaults</span><span class='lbrack token'>[</span><span class='nice_name identifier id'>nice_name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='type identifier id'>type</span>
      <span class='type identifier id'>type</span> <span class='assign token'>=</span> <span class='symbol val'>:numeric</span>
    <span class='end end kw'>end</span>
    
    <span class='mem identifier id'>mem</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='type identifier id'>type</span>
    <span class='mem identifier id'>mem</span>
  <span class='end end kw'>end</span>
  
  <span class='comment val'># remove shortcuts that happen to coincide with any of the main switches</span>
  <span class='@shorts ivar id'>@shorts</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='short identifier id'>short</span><span class='bitor op'>|</span>
    <span class='@shorts ivar id'>@shorts</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='short identifier id'>short</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='@switches ivar id'>@switches</span><span class='dot token'>.</span><span class='key? fid id'>key?</span><span class='lparen token'>(</span><span class='short identifier id'>short</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#formatted_usage-instance_method">#formatted_usage</span><span class='args'></span>
        <span class='block'></span>
        
          <span class='alias'>#to_s</span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#non_opts-instance_method">#non_opts</span><span class='args'></span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#parse-instance_method">#parse</span><span class='args'>(args, skip_leading_non_opts = true)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>formatted_usage</h3>
</div><div id="formatted_usage-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>formatted_usage</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>
<p class="aliases">
  <span class="aka">Also known as:</span>
  
    <tt id="to_s-instance_method">to_s</tt>
  
</p>
</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/thor/options.rb', line 178</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wycats/thor/blob/master/lib/thor/options.rb#L178">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='formatted_usage identifier id'>formatted_usage</span>
  <span class='return return kw'>return</span> <span class='string val'>&quot;&quot;</span> <span class='if if_mod kw'>if</span> <span class='@switches ivar id'>@switches</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
  <span class='@switches ivar id'>@switches</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='opt identifier id'>opt</span><span class='comma token'>,</span> <span class='type identifier id'>type</span><span class='bitor op'>|</span>
    <span class='case case kw'>case</span> <span class='type identifier id'>type</span>
    <span class='when when kw'>when</span> <span class='symbol val'>:boolean</span>
      <span class='dstring node'>&quot;[#{opt}]&quot;</span>
    <span class='when when kw'>when</span> <span class='symbol val'>:required</span>
      <span class='opt identifier id'>opt</span> <span class='plus op'>+</span> <span class='string val'>&quot;=&quot;</span> <span class='plus op'>+</span> <span class='opt identifier id'>opt</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/\-/</span><span class='comma token'>,</span> <span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='upcase identifier id'>upcase</span>
    <span class='else else kw'>else</span>
      <span class='sample identifier id'>sample</span> <span class='assign token'>=</span> <span class='@defaults ivar id'>@defaults</span><span class='lbrack token'>[</span><span class='undasherize identifier id'>undasherize</span><span class='lparen token'>(</span><span class='opt identifier id'>opt</span><span class='rparen token'>)</span><span class='rbrack token'>]</span>
      <span class='sample identifier id'>sample</span> <span class='opasgn op'>||=</span> <span class='case case kw'>case</span> <span class='type identifier id'>type</span>
        <span class='when when kw'>when</span> <span class='symbol val'>:optional</span> <span class='then then kw'>then</span> <span class='undasherize identifier id'>undasherize</span><span class='lparen token'>(</span><span class='opt identifier id'>opt</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/\-/</span><span class='comma token'>,</span> <span class='string val'>&quot;_&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='upcase identifier id'>upcase</span>
        <span class='when when kw'>when</span> <span class='symbol val'>:numeric</span>  <span class='then then kw'>then</span> <span class='string val'>&quot;N&quot;</span>
        <span class='end end kw'>end</span>
      <span class='string val'>&quot;[&quot;</span> <span class='plus op'>+</span> <span class='opt identifier id'>opt</span> <span class='plus op'>+</span> <span class='string val'>&quot;=&quot;</span> <span class='plus op'>+</span> <span class='sample identifier id'>sample</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='plus op'>+</span> <span class='string val'>&quot;]&quot;</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot; &quot;</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>non_opts</h3>
</div><div id="non_opts-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>non_opts</span><span class='args'></span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/thor/options.rb', line 51</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wycats/thor/blob/master/lib/thor/options.rb#L51">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">51
52
53</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='non_opts identifier id'>non_opts</span>
  <span class='leading_non_opts identifier id'>leading_non_opts</span> <span class='plus op'>+</span> <span class='trailing_non_opts identifier id'>trailing_non_opts</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>parse</h3>
</div><div id="parse-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>parse</span><span class='args'>(args, skip_leading_non_opts = true)</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/thor/options.rb', line 122</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/wycats/thor/blob/master/lib/thor/options.rb#L122">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='parse identifier id'>parse</span><span class='lparen token'>(</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='skip_leading_non_opts identifier id'>skip_leading_non_opts</span> <span class='assign token'>=</span> <span class='true true kw'>true</span><span class='rparen token'>)</span>
  <span class='@args ivar id'>@args</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span>
  <span class='comment val'># start with Thor::Options::Hash pre-filled with defaults</span>
  <span class='hash identifier id'>hash</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='@defaults ivar id'>@defaults</span>
  
  <span class='@leading_non_opts ivar id'>@leading_non_opts</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='if if kw'>if</span> <span class='skip_leading_non_opts identifier id'>skip_leading_non_opts</span>
    <span class='@leading_non_opts ivar id'>@leading_non_opts</span> <span class='lshft op'>&lt;&lt;</span> <span class='shift identifier id'>shift</span> <span class='until until_mod kw'>until</span> <span class='current_is_option? fid id'>current_is_option?</span> <span class='orop op'>||</span> <span class='@args ivar id'>@args</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
  <span class='end end kw'>end</span>

  <span class='while while kw'>while</span> <span class='current_is_option? fid id'>current_is_option?</span>
    <span class='case case kw'>case</span> <span class='shift identifier id'>shift</span>
    <span class='when when kw'>when</span> <span class='SHORT_SQ_RE constant id'>SHORT_SQ_RE</span>
      <span class='unshift identifier id'>unshift</span> <span class='$1 nth_ref id'>$1</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>''</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='f identifier id'>f</span><span class='bitor op'>|</span> <span class='dstring node'>&quot;-#{f}&quot;</span> <span class='rbrace token'>}</span>
      <span class='next next kw'>next</span>
    <span class='when when kw'>when</span> <span class='EQ_RE constant id'>EQ_RE</span><span class='comma token'>,</span> <span class='SHORT_NUM constant id'>SHORT_NUM</span>
      <span class='unshift identifier id'>unshift</span> <span class='$2 nth_ref id'>$2</span>
      <span class='switch identifier id'>switch</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span>
    <span class='when when kw'>when</span> <span class='LONG_RE constant id'>LONG_RE</span><span class='comma token'>,</span> <span class='SHORT_RE constant id'>SHORT_RE</span>
      <span class='switch identifier id'>switch</span> <span class='assign token'>=</span> <span class='$1 nth_ref id'>$1</span>
    <span class='end end kw'>end</span>
    
    <span class='switch identifier id'>switch</span>    <span class='assign token'>=</span> <span class='normalize_switch identifier id'>normalize_switch</span><span class='lparen token'>(</span><span class='switch identifier id'>switch</span><span class='rparen token'>)</span>
    <span class='nice_name identifier id'>nice_name</span> <span class='assign token'>=</span> <span class='undasherize identifier id'>undasherize</span><span class='lparen token'>(</span><span class='switch identifier id'>switch</span><span class='rparen token'>)</span>
    <span class='type identifier id'>type</span>      <span class='assign token'>=</span> <span class='switch_type identifier id'>switch_type</span><span class='lparen token'>(</span><span class='switch identifier id'>switch</span><span class='rparen token'>)</span>
    
    <span class='case case kw'>case</span> <span class='type identifier id'>type</span>
    <span class='when when kw'>when</span> <span class='symbol val'>:required</span>
      <span class='assert_value! fid id'>assert_value!</span><span class='lparen token'>(</span><span class='switch identifier id'>switch</span><span class='rparen token'>)</span>
      <span class='raise identifier id'>raise</span> <span class='Error constant id'>Error</span><span class='comma token'>,</span> <span class='dstring node'>&quot;cannot pass switch '#{peek}' as an argument&quot;</span> <span class='if if_mod kw'>if</span> <span class='valid? fid id'>valid?</span><span class='lparen token'>(</span><span class='peek identifier id'>peek</span><span class='rparen token'>)</span>
      <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='nice_name identifier id'>nice_name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='shift identifier id'>shift</span>
    <span class='when when kw'>when</span> <span class='symbol val'>:optional</span>
      <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='nice_name identifier id'>nice_name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='peek identifier id'>peek</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span> <span class='orop op'>||</span> <span class='valid? fid id'>valid?</span><span class='lparen token'>(</span><span class='peek identifier id'>peek</span><span class='rparen token'>)</span> <span class='orop op'>||</span> <span class='shift identifier id'>shift</span>
    <span class='when when kw'>when</span> <span class='symbol val'>:boolean</span>
      <span class='if if kw'>if</span> <span class='notop op'>!</span><span class='@switches ivar id'>@switches</span><span class='dot token'>.</span><span class='key? fid id'>key?</span><span class='lparen token'>(</span><span class='switch identifier id'>switch</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='nice_name identifier id'>nice_name</span> <span class='match op'>=~</span> <span class='regexp val'>/^no-(\w+)$/</span>
        <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='$1 nth_ref id'>$1</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>
      <span class='else else kw'>else</span>
        <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='nice_name identifier id'>nice_name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
      <span class='end end kw'>end</span>
      
    <span class='when when kw'>when</span> <span class='symbol val'>:numeric</span>
      <span class='assert_value! fid id'>assert_value!</span><span class='lparen token'>(</span><span class='switch identifier id'>switch</span><span class='rparen token'>)</span>
      <span class='unless unless kw'>unless</span> <span class='peek identifier id'>peek</span> <span class='match op'>=~</span> <span class='NUMERIC constant id'>NUMERIC</span> <span class='and and kw'>and</span> <span class='$&amp; back_ref id'>$&amp;</span> <span class='eq op'>==</span> <span class='peek identifier id'>peek</span>
        <span class='raise identifier id'>raise</span> <span class='Error constant id'>Error</span><span class='comma token'>,</span> <span class='dstring node'>&quot;expected numeric value for '#{switch}'; got #{peek.inspect}&quot;</span>
      <span class='end end kw'>end</span>
      <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='nice_name identifier id'>nice_name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='$&amp; back_ref id'>$&amp;</span><span class='dot token'>.</span><span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='string val'>'.'</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='shift identifier id'>shift</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span> <span class='colon op'>:</span> <span class='shift identifier id'>shift</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  
  <span class='@trailing_non_opts ivar id'>@trailing_non_opts</span> <span class='assign token'>=</span> <span class='@args ivar id'>@args</span>

  <span class='check_required! fid id'>check_required!</span> <span class='hash identifier id'>hash</span>
  <span class='hash identifier id'>hash</span><span class='dot token'>.</span><span class='freeze identifier id'>freeze</span>
  <span class='hash identifier id'>hash</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> Â©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>