<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="syntax_highlight.css" type="text/css" charset="utf-8" />

    <title>README</title>
  </head>
  <body>
    <div id="content">
      <div class="section docstring readme">
        <p>
thor
</p>
<h4></h4>
<p>
Map options to a class. Simply create a class with the appropriate
annotations, and have options automatically map to functions and
parameters.
</p>
<p>
Example:
</p>
<pre class="code">
    <span class='class class kw'>class</span> <span class='MyApp constant id'>MyApp</span> <span class='lt op'>&lt;</span> <span class='Thor constant id'>Thor</span>                                                <span class='comment val'># [1]</span>
      <span class='map identifier id'>map</span> <span class='string val'>&quot;-L&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:list</span>                                               <span class='comment val'># [2]</span>

      <span class='desc identifier id'>desc</span> <span class='string val'>&quot;install APP_NAME&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;install one of the available apps&quot;</span>    <span class='comment val'># [3]</span>
      <span class='method_options identifier id'>method_options</span> <span class='symbol val'>:force</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:boolean</span><span class='comma token'>,</span> <span class='symbol val'>:alias</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:optional</span>          <span class='comment val'># [4]</span>
      <span class='def def kw'>def</span> <span class='install identifier id'>install</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
        <span class='user_alias identifier id'>user_alias</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:alias</span><span class='rbrack token'>]</span>
        <span class='if if kw'>if</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='force? fid id'>force?</span>
          <span class='comment val'># do something</span>
        <span class='end end kw'>end</span>
        <span class='comment val'># ... other code ...</span>
      <span class='end end kw'>end</span>

      <span class='desc identifier id'>desc</span> <span class='string val'>&quot;list [SEARCH]&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;list all of the available apps, limited by SEARCH&quot;</span>
      <span class='def def kw'>def</span> <span class='list identifier id'>list</span><span class='lparen token'>(</span><span class='search identifier id'>search</span> <span class='assign token'>=</span> <span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span>
        <span class='comment val'># list everything</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
</pre>
<p>
Thor automatically maps commands as such:
</p>
<pre class="code">
    <span class='app identifier id'>app</span> <span class='install identifier id'>install</span> <span class='myname identifier id'>myname</span> <span class='minus op'>-</span><span class='minus op'>-</span><span class='force identifier id'>force</span>
</pre>
<p>
That gets converted to:
</p>
<pre class="code">
    <span class='MyApp constant id'>MyApp</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='dot token'>.</span><span class='install identifier id'>install</span><span class='lparen token'>(</span><span class='string val'>&quot;myname&quot;</span><span class='rparen token'>)</span>
    <span class='comment val'># with {'force' =&gt; true} as options hash</span>
</pre>
<ol>
<li>Inherit from Thor to turn a class into an option mapper

</li>
<li>Map additional non-valid identifiers to specific methods. In this case,
convert -L to :list

</li>
<li>Describe the method immediately below. The first parameter is the usage
information, and the second parameter is the description.

</li>
<li>Provide any additional options. These will be marshaled from `&#8212;` and
`-` params. In this case, a `&#8212;force` and a `-f` option is added.

</li>
</ol>
<p>
Types for `method_options`
</p>
<hr size="10"></hr><p>
&lt;dl&gt;
</p>
<pre class="code">
  <span class='lt op'>&lt;</span><span class='dt identifier id'>dt</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='code identifier id'>code</span><span class='gt op'>&gt;</span><span class='symbol val'>:boolean</span><span class='lt op'>&lt;</span><span class='regexp val'>/code&gt;&lt;/</span><span class='dt identifier id'>dt</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='dd identifier id'>dd</span><span class='gt op'>&gt;</span><span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='the identifier id'>the</span> <span class='option identifier id'>option</span> <span class='is identifier id'>is</span> <span class='passed identifier id'>passed</span><span class='lt op'>&lt;</span><span class='regexp val'>/dd&gt;
  &lt;dt&gt;&lt;code&gt;true or false&lt;/</span><span class='code identifier id'>code</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='regexp val'>/dt&gt;
    &lt;dd&gt;same as &lt;code&gt;:boolean&lt;/</span><span class='code identifier id'>code</span><span class='gt op'>&gt;</span><span class='comma token'>,</span> <span class='but identifier id'>but</span> <span class='fall identifier id'>fall</span> <span class='back identifier id'>back</span> <span class='to identifier id'>to</span> <span class='given identifier id'>given</span> <span class='boolean identifier id'>boolean</span> <span class='as identifier id'>as</span> <span class='default identifier id'>default</span> <span class='value identifier id'>value</span><span class='lt op'>&lt;</span><span class='regexp val'>/dd&gt;
  &lt;dt&gt;&lt;code&gt;:required&lt;/</span><span class='code identifier id'>code</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='regexp val'>/dt&gt;
    &lt;dd&gt;the value for this option MUST be provided&lt;/</span><span class='dd identifier id'>dd</span><span class='gt op'>&gt;</span>
  <span class='lt op'>&lt;</span><span class='dt identifier id'>dt</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='code identifier id'>code</span><span class='gt op'>&gt;</span><span class='symbol val'>:optional</span><span class='lt op'>&lt;</span><span class='regexp val'>/code&gt;&lt;/</span><span class='dt identifier id'>dt</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='dd identifier id'>dd</span><span class='gt op'>&gt;</span><span class='the identifier id'>the</span> <span class='value identifier id'>value</span> <span class='for for kw'>for</span> <span class='this identifier id'>this</span> <span class='option identifier id'>option</span> <span class='MAY constant id'>MAY</span> <span class='be identifier id'>be</span> <span class='provided identifier id'>provided</span><span class='lt op'>&lt;</span><span class='regexp val'>/dd&gt;
  &lt;dt&gt;&lt;code&gt;:numeric&lt;/</span><span class='code identifier id'>code</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='regexp val'>/dt&gt;
    &lt;dd&gt;the value MAY be provided, but MUST be in numeric form&lt;/</span><span class='dd identifier id'>dd</span><span class='gt op'>&gt;</span>
  <span class='lt op'>&lt;</span><span class='dt identifier id'>dt</span><span class='gt op'>&gt;</span><span class='a identifier id'>a</span> <span class='String constant id'>String</span> <span class='or or kw'>or</span> <span class='Numeric constant id'>Numeric</span><span class='lt op'>&lt;</span><span class='regexp val'>/dt&gt;
    &lt;dd&gt;same as &lt;code&gt;:optional&lt;/</span><span class='code identifier id'>code</span><span class='gt op'>&gt;</span><span class='comma token'>,</span> <span class='but identifier id'>but</span> <span class='fall identifier id'>fall</span> <span class='back identifier id'>back</span> <span class='to identifier id'>to</span> <span class='the identifier id'>the</span> <span class='given identifier id'>given</span> <span class='object identifier id'>object</span> <span class='as identifier id'>as</span> <span class='default identifier id'>default</span> <span class='value identifier id'>value</span><span class='lt op'>&lt;</span><span class='regexp val'>/dd&gt;
</span></pre>
<p>
&lt;/dl&gt;
</p>
<p>
In case of unsatisfied requirements, `Thor::Options::Error` is raised.
</p>
<p>
Examples of option parsing:
</p>
<pre class="code">
    <span class='comment val'># let's say this is how we defined options for a method:</span>
    <span class='method_options identifier id'>method_options</span><span class='lparen token'>(</span><span class='symbol val'>:force</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:boolean</span><span class='comma token'>,</span> <span class='symbol val'>:retries</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:numeric</span><span class='rparen token'>)</span>

    <span class='comment val'># here is how the following command-line invocations would be parsed:</span>

    <span class='command identifier id'>command</span> <span class='minus op'>-</span><span class='f identifier id'>f</span> <span class='minus op'>-</span><span class='minus op'>-</span><span class='retries identifier id'>retries</span> <span class='integer val'>5</span>    <span class='comment val'># =&gt; {'force' =&gt; true, 'retries' =&gt; 5}</span>
    <span class='command identifier id'>command</span> <span class='minus op'>-</span><span class='minus op'>-</span><span class='force identifier id'>force</span> <span class='minus op'>-</span><span class='r identifier id'>r</span><span class='assign token'>=</span><span class='integer val'>5</span>      <span class='comment val'># =&gt; {'force' =&gt; true, 'retries' =&gt; 5}</span>
    <span class='command identifier id'>command</span> <span class='minus op'>-</span><span class='fr identifier id'>fr</span> <span class='integer val'>5</span>             <span class='comment val'># =&gt; {'force' =&gt; true, 'retries' =&gt; 5}</span>
    <span class='command identifier id'>command</span> <span class='minus op'>-</span><span class='minus op'>-</span><span class='retries identifier id'>retries</span><span class='assign token'>=</span><span class='integer val'>5</span>       <span class='comment val'># =&gt; {'retries' =&gt; 5}</span>
    <span class='command identifier id'>command</span> <span class='minus op'>-</span><span class='r5 identifier id'>r5</span>               <span class='comment val'># =&gt; {'retries' =&gt; 5}</span>
</pre>

      </div>
    </div>
  </body>
</html>