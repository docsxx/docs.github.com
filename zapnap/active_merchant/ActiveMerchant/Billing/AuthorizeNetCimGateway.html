<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../../style.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="../../syntax_highlight.css" type="text/css" charset="utf-8" />

    <script src="../../jquery.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../app.js" type="text/javascript" charset="utf-8"></script>
    <title>Class: ActiveMerchant::Billing::AuthorizeNetCimGateway</title>
  </head>
  <body>
    <div id="content">
      <div class="section class ActiveMerchant_Billing_AuthorizeNetCimGateway">
  <h1 class="title">Class: ActiveMerchant::Billing::AuthorizeNetCimGateway</h1>
  <div class="section inheritance">
  <ul>
  <li><a href='Gateway.html' title='ActiveMerchant::Billing::Gateway'>ActiveMerchant::Billing::Gateway</a></li><ul><li>ActiveMerchant::Billing::AuthorizeNetCimGateway</li>
  </ul></ul>
</div><div class="section docstring">
  <h4>Custotmer Information Manager (CIM)</h4>
<p>
The Authorize.Net Customer Information Manager (CIM) is an optional
additional service that allows you to store sensitive payment information
on Authorize.Net&#8217;s servers, simplifying payments for returning
customers and recurring transactions. It can also help with Payment Card
Industry (PCI) Data Security Standard compliance, since customer data is no
longer stored locally.
</p>
<p>
To use the AuthorizeNetCimGateway CIM must be enabled for your account.
</p>
<p>
Information about CIM is available on the {Authorize.Net
website}[http://www.authorize.net/solutions/merchantsolutions/merchantservices/cim/].
Information about the CIM API is available at the {Authorize.Net
Integration Center}[http://developer.authorize.net/]
</p>
<h4>Login and Password</h4>
<p>
The login and password are not the username and password you use to login
to the Authorize.Net Merchant Interface. Instead, you will use the API
Login ID as the login and Transaction Key as the password.
</p>
<h4>How to Get Your API Login ID and Transaction Key</h4>
<ol>
<li>Log into the Merchant Interface

</li>
<li>Select Settings from the Main Menu

</li>
<li>Click on API Login ID and Transaction Key in the Security section

</li>
<li>Type in the answer to the secret question configured on setup

</li>
<li>Click Submit

</li>
</ol>

</div><div class="section constants">
  <div class="thisclass">
  <h1>Constants</h1>
  <dl>
    
      <dt id="AUTHORIZE_NET_CIM_NAMESPACE-constant">AUTHORIZE_NET_CIM_NAMESPACE</dt>
      <dd>'AnetApi/xml/v1/schema/AnetApiSchema.xsd'</dd>
    
      <dt id="BANK_ACCOUNT_TYPES-constant">BANK_ACCOUNT_TYPES</dt>
      <dd>{        :checking =&gt; 'checking',        :savings =&gt; 'savings',        :business_checking =&gt; 'businessChecking'      }</dd>
    
      <dt id="CIM_ACTIONS-constant">CIM_ACTIONS</dt>
      <dd>{        :create_customer_profile =&gt; 'createCustomerProfile',        :create_customer_payment_profile =&gt; 'createCustomerPaymentProfile',        :create_customer_shipping_address =&gt; 'createCustomerShippingAddress',        :get_customer_profile =&gt; 'getCustomerProfile',        :get_customer_payment_profile =&gt; 'getCustomerPaymentProfile',        :get_customer_shipping_address =&gt; 'getCustomerShippingAddress',        :delete_customer_profile =&gt; 'deleteCustomerProfile',        :delete_customer_payment_profile =&gt; 'deleteCustomerPaymentProfile',        :delete_customer_shipping_address =&gt; 'deleteCustomerShippingAddress',        :update_customer_profile =&gt; 'updateCustomerProfile',        :update_customer_payment_profile =&gt; 'updateCustomerPaymentProfile',        :update_customer_shipping_address =&gt; 'updateCustomerShippingAddress',        :create_customer_profile_transaction =&gt; 'createCustomerProfileTransaction',        :validate_customer_payment_profile =&gt; 'validateCustomerPaymentProfile'      }</dd>
    
      <dt id="CIM_TRANSACTION_TYPES-constant">CIM_TRANSACTION_TYPES</dt>
      <dd>{        :auth_capture =&gt; 'profileTransAuthCapture',        :auth_only =&gt; 'profileTransAuthOnly',        :capture_only =&gt; 'profileTransCaptureOnly'      }</dd>
    
      <dt id="CIM_VALIDATION_MODES-constant">CIM_VALIDATION_MODES</dt>
      <dd>{        :none =&gt; 'none',        :test =&gt; 'testMode',        :live =&gt; 'liveMode'      }</dd>
    
      <dt id="ECHECK_TYPES-constant">ECHECK_TYPES</dt>
      <dd>{        :ccd =&gt; 'CCD',        :ppd =&gt; 'PPD'      }</dd>
    
  </dl>
</div>
<div class="inherited">
  
  <div>
    <h1>Constants Inherited from <a href='Gateway.html' title='ActiveMerchant::Billing::Gateway'>ActiveMerchant::Billing::Gateway</a></h1>
    <p><span class='name'><a href='Gateway.html#DEBIT_CARDS-constant' title='DEBIT_CARDS'>DEBIT_CARDS</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
</div><div class="section constructor">
<h1>Constructor Summary</h1>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(options = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Creates a new AuthorizeNetCimGateway
</p>
<p>
The gateway requires that a valid API Login ID and Transaction Key be
passed in the <tt>options</tt> hash.
</p>
<h4>Options</h4>
<ul>
<li><tt>:login</tt> &#8212; The Authorize.Net API Login ID (REQUIRED)

</li>
<li><tt>:password</tt> &#8212; The Authorize.Net Transaction Key. (REQUIRED)

</li>
<li><tt>:test</tt> &#8212; <tt>true</tt> or <tt>false</tt>. If true, perform
transactions against the test server. Otherwise, perform transactions
against the production server.

</li>
</ul>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


93
94
95
96
97</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/active_merchant/billing/gateways/authorize_net_cim.rb', line 93</span>

<span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='symbol val'>:login</span><span class='comma token'>,</span> <span class='symbol val'>:password</span><span class='rparen token'>)</span>
  <span class='@options ivar id'>@options</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span>
  <span class='super super kw'>super</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
</div>  <div class="section visibilitygroup public">
    <h1>Public Visibility</h1>
      <div class="section methodsummary class public">
    <div class="inherited">
  
  <div>
    <h1>Public Class Methods Inherited from <a href='Gateway.html' title='ActiveMerchant::Billing::Gateway'>ActiveMerchant::Billing::Gateway</a></h1>
    <p><span class='name'><a href='Gateway.html#card_brand-class_method' title='card_brand'>card_brand</a></span>, <span class='name'><a href='Gateway.html#inherited-class_method' title='inherited'>inherited</a></span>, <span class='name'><a href='Gateway.html#supports%3F-class_method' title='supports?'>supports?</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
  <div class="section methodsummary instance public">
    <h1>Public Instance Method Summary</h1>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#create_customer_payment_profile-instance_method' title='#create_customer_payment_profile'>#create_customer_payment_profile</a></span><span class='args'>(options)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Creates a new customer payment profile for an existing customer profile.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#create_customer_profile-instance_method' title='#create_customer_profile'>#create_customer_profile</a></span><span class='args'>(options)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Creates a new customer profile along with any customer payment profiles and
customer shipping addresses for the customer profile.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#create_customer_profile_transaction-instance_method' title='#create_customer_profile_transaction'>#create_customer_profile_transaction</a></span><span class='args'>(options)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Creates a new payment transaction from an existing customer profile.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#create_customer_shipping_address-instance_method' title='#create_customer_shipping_address'>#create_customer_shipping_address</a></span><span class='args'>(options)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Creates a new customer shipping address for an existing customer profile.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#delete_customer_payment_profile-instance_method' title='#delete_customer_payment_profile'>#delete_customer_payment_profile</a></span><span class='args'>(options)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Deletes a customer payment profile from an existing customer profile.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#delete_customer_profile-instance_method' title='#delete_customer_profile'>#delete_customer_profile</a></span><span class='args'>(options)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Deletes an existing customer profile along with all associated customer
payment profiles and customer shipping addresses.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#delete_customer_shipping_address-instance_method' title='#delete_customer_shipping_address'>#delete_customer_shipping_address</a></span><span class='args'>(options)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Deletes a customer shipping address from an existing customer profile.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#get_customer_payment_profile-instance_method' title='#get_customer_payment_profile'>#get_customer_payment_profile</a></span><span class='args'>(options)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Retrieve a customer payment profile for an existing customer profile.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#get_customer_profile-instance_method' title='#get_customer_profile'>#get_customer_profile</a></span><span class='args'>(options)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Retrieves an existing customer profile along with all the associated
customer payment profiles and customer shipping addresses.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#get_customer_shipping_address-instance_method' title='#get_customer_shipping_address'>#get_customer_shipping_address</a></span><span class='args'>(options)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Retrieve a customer shipping address for an existing customer profile.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#update_customer_payment_profile-instance_method' title='#update_customer_payment_profile'>#update_customer_payment_profile</a></span><span class='args'>(options)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Updates a customer payment profile for an existing customer profile.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#update_customer_profile-instance_method' title='#update_customer_profile'>#update_customer_profile</a></span><span class='args'>(options)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Updates an existing customer profile.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#update_customer_shipping_address-instance_method' title='#update_customer_shipping_address'>#update_customer_shipping_address</a></span><span class='args'>(options)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Updates a customer shipping address for an existing customer profile.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href='#validate_customer_payment_profile-instance_method' title='#validate_customer_payment_profile'>#validate_customer_payment_profile</a></span><span class='args'>(options)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Verifies an existing customer payment profile by generating a test
transaction.
</p>

        
      </td>
    </tr>
  
</table><div class="inherited">
  
  <div>
    <h1>Public Instance Methods Inherited from <a href='Gateway.html' title='ActiveMerchant::Billing::Gateway'>ActiveMerchant::Billing::Gateway</a></h1>
    <p><span class='name'><a href='Gateway.html#amount-instance_method' title='amount'>amount</a></span>, <span class='name'><a href='Gateway.html#card_brand-instance_method' title='card_brand'>card_brand</a></span>, <span class='name'><a href='Gateway.html#currency-instance_method' title='currency'>currency</a></span>, <span class='name'><a href='Gateway.html#name-instance_method' title='name'>name</a></span>, <span class='name'><a href='Gateway.html#requires_start_date_or_issue_number%3F-instance_method' title='requires_start_date_or_issue_number?'>requires_start_date_or_issue_number?</a></span>, <span class='name'><a href='Gateway.html#test%3F-instance_method' title='test?'>test?</a></span></p>
  </div>
  
</div>
<div class="clear"></div>
  </div>
<div class="section methoddetails instance public">
  <h1>Public Instance Method Details</h1>
  
    <div class="method">
      <div class="method_header">
  <h3>create_customer_payment_profile</h3>
</div><div id="create_customer_payment_profile-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>create_customer_payment_profile</span><span class='args'>(options)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Creates a new customer payment profile for an existing customer profile.
</p>
<h4>Options</h4>
<ul>
<li><tt>:customer_profile_id</tt> &#8212; The Customer Profile ID of the
customer the payment profile will be added to. (REQUIRED)

</li>
<li><tt>:payment_profile</tt> &#8212; A hash containing the elements of the new
payment profile (REQUIRED)

</li>
</ul>
<h4>Payment Profile</h4>
<ul>
<li><tt>:payment</tt> &#8212; A hash containing information on payment. Either
:credit_card or :bank_account (REQUIRED)

</li>
</ul>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


125
126
127
128
129
130
131
132</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/active_merchant/billing/gateways/authorize_net_cim.rb', line 125</span>

<span class='def def kw'>def</span> <span class='create_customer_payment_profile identifier id'>create_customer_payment_profile</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='symbol val'>:customer_profile_id</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='symbol val'>:payment_profile</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:payment_profile</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:payment</span><span class='rparen token'>)</span>
  
  <span class='request identifier id'>request</span> <span class='assign token'>=</span> <span class='build_request identifier id'>build_request</span><span class='lparen token'>(</span><span class='symbol val'>:create_customer_payment_profile</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='commit identifier id'>commit</span><span class='lparen token'>(</span><span class='symbol val'>:create_customer_payment_profile</span><span class='comma token'>,</span> <span class='request identifier id'>request</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>create_customer_profile</h3>
</div><div id="create_customer_profile-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>create_customer_profile</span><span class='args'>(options)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Creates a new customer profile along with any customer payment profiles and
customer shipping addresses for the customer profile.
</p>
<p>
Returns a Response with the Customer Profile ID of the new customer profile
in the authorization field. It is <b>CRITICAL</b> that you save this ID.
There is no way to retrieve this through the API. You will not be able to
create another Customer Profile with the same information.
</p>
<h4>Options</h4>
<p>
TODO
</p>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


109
110
111
112
113</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/active_merchant/billing/gateways/authorize_net_cim.rb', line 109</span>

<span class='def def kw'>def</span> <span class='create_customer_profile identifier id'>create_customer_profile</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='comment val'># TODO Add requires</span>
  <span class='request identifier id'>request</span> <span class='assign token'>=</span> <span class='build_request identifier id'>build_request</span><span class='lparen token'>(</span><span class='symbol val'>:create_customer_profile</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='commit identifier id'>commit</span><span class='lparen token'>(</span><span class='symbol val'>:create_customer_profile</span><span class='comma token'>,</span> <span class='request identifier id'>request</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>create_customer_profile_transaction</h3>
</div><div id="create_customer_profile_transaction-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>create_customer_profile_transaction</span><span class='args'>(options)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Creates a new payment transaction from an existing customer profile
</p>
<p>
This is what is used to charge a customer whose information you have stored
in a Customer Profile.
</p>
<p>
Returns a Response object that contains the result of the transaction in
<tt>params[&#8216;direct_response&#8217;]</tt>
</p>
<h4>Options</h4>
<ul>
<li><tt>:transaction</tt> &#8212; A hash containing information on the
transaction that is being requested. (REQUIRED)

</li>
</ul>
<h4>Transaction</h4>
<ul>
<li><tt>:type</tt> &#8212; The type of transaction. Can be either
<tt>:auth_only</tt>, <tt>:capture_only</tt>, or <tt>:auth_capture</tt>.
(REQUIRED)

</li>
<li><tt>:amount</tt> &#8212; The amount for the tranaction. Formatted with a
decimal. For example &quot;4.95&quot; (REQUIRED)

</li>
<li><tt>:customer_profile_id</tt> &#8212; The Customer Profile ID of the
customer to use in this transaction. (REQUIRED)

</li>
<li><tt>:customer_payment_profile_id</tt> &#8212; The Customer Payment Profile
ID of the Customer Payment Profile to use in this transaction. (REQUIRED)

</li>
</ul>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


316
317
318
319
320
321
322</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/active_merchant/billing/gateways/authorize_net_cim.rb', line 316</span>

<span class='def def kw'>def</span> <span class='create_customer_profile_transaction identifier id'>create_customer_profile_transaction</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='symbol val'>:transaction</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:transaction</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:type</span><span class='comma token'>,</span> <span class='symbol val'>:amount</span><span class='comma token'>,</span> <span class='symbol val'>:customer_profile_id</span><span class='comma token'>,</span> <span class='symbol val'>:customer_payment_profile_id</span><span class='rparen token'>)</span>

  <span class='request identifier id'>request</span> <span class='assign token'>=</span> <span class='build_request identifier id'>build_request</span><span class='lparen token'>(</span><span class='symbol val'>:create_customer_profile_transaction</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='commit identifier id'>commit</span><span class='lparen token'>(</span><span class='symbol val'>:create_customer_profile_transaction</span><span class='comma token'>,</span> <span class='request identifier id'>request</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>create_customer_shipping_address</h3>
</div><div id="create_customer_shipping_address-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>create_customer_shipping_address</span><span class='args'>(options)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Creates a new customer shipping address for an existing customer profile.
</p>
<h4>Options</h4>
<ul>
<li><tt>:customer_profile_id</tt> &#8212; The Customer Profile ID of the
customer the payment profile will be added to. (REQUIRED)

</li>
<li><tt>:address</tt> &#8212; A hash containing the elements of the shipping
address (REQUIRED)

</li>
</ul>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


140
141
142
143
144
145
146</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/active_merchant/billing/gateways/authorize_net_cim.rb', line 140</span>

<span class='def def kw'>def</span> <span class='create_customer_shipping_address identifier id'>create_customer_shipping_address</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='symbol val'>:customer_profile_id</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='symbol val'>:address</span><span class='rparen token'>)</span>
  
  <span class='request identifier id'>request</span> <span class='assign token'>=</span> <span class='build_request identifier id'>build_request</span><span class='lparen token'>(</span><span class='symbol val'>:create_customer_shipping_address</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='commit identifier id'>commit</span><span class='lparen token'>(</span><span class='symbol val'>:create_customer_shipping_address</span><span class='comma token'>,</span> <span class='request identifier id'>request</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>delete_customer_payment_profile</h3>
</div><div id="delete_customer_payment_profile-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>delete_customer_payment_profile</span><span class='args'>(options)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Deletes a customer payment profile from an existing customer profile.
</p>
<h4>Options</h4>
<ul>
<li><tt>:customer_profile_id</tt> &#8212; The Customer Profile ID of the
customer with the payment profile to be deleted. (REQUIRED)

</li>
<li><tt>:customer_payment_profile_id</tt> &#8212; The Payment Profile ID of the
payment profile to be deleted. (REQUIRED)

</li>
</ul>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


166
167
168
169
170
171
172</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/active_merchant/billing/gateways/authorize_net_cim.rb', line 166</span>

<span class='def def kw'>def</span> <span class='delete_customer_payment_profile identifier id'>delete_customer_payment_profile</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='symbol val'>:customer_profile_id</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='symbol val'>:customer_payment_profile_id</span><span class='rparen token'>)</span>

  <span class='request identifier id'>request</span> <span class='assign token'>=</span> <span class='build_request identifier id'>build_request</span><span class='lparen token'>(</span><span class='symbol val'>:delete_customer_payment_profile</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='commit identifier id'>commit</span><span class='lparen token'>(</span><span class='symbol val'>:delete_customer_payment_profile</span><span class='comma token'>,</span> <span class='request identifier id'>request</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>delete_customer_profile</h3>
</div><div id="delete_customer_profile-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>delete_customer_profile</span><span class='args'>(options)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Deletes an existing customer profile along with all associated customer
payment profiles and customer shipping addresses.
</p>
<h4>Options</h4>
<ul>
<li><tt>:customer_profile_id</tt> &#8212; The Customer Profile ID of the
customer to be deleted. (REQUIRED)

</li>
</ul>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


153
154
155
156
157
158</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/active_merchant/billing/gateways/authorize_net_cim.rb', line 153</span>

<span class='def def kw'>def</span> <span class='delete_customer_profile identifier id'>delete_customer_profile</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='symbol val'>:customer_profile_id</span><span class='rparen token'>)</span>

  <span class='request identifier id'>request</span> <span class='assign token'>=</span> <span class='build_request identifier id'>build_request</span><span class='lparen token'>(</span><span class='symbol val'>:delete_customer_profile</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='commit identifier id'>commit</span><span class='lparen token'>(</span><span class='symbol val'>:delete_customer_profile</span><span class='comma token'>,</span> <span class='request identifier id'>request</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>delete_customer_shipping_address</h3>
</div><div id="delete_customer_shipping_address-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>delete_customer_shipping_address</span><span class='args'>(options)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Deletes a customer shipping address from an existing customer profile.
</p>
<h4>Options</h4>
<ul>
<li><tt>:customer_profile_id</tt> &#8212; The Customer Profile ID of the
customer with the payment profile to be deleted. (REQUIRED)

</li>
<li><tt>:customer_address_id</tt> &#8212; The Shipping Address ID of the
shipping address to be deleted. (REQUIRED)

</li>
</ul>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


180
181
182
183
184
185
186</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/active_merchant/billing/gateways/authorize_net_cim.rb', line 180</span>

<span class='def def kw'>def</span> <span class='delete_customer_shipping_address identifier id'>delete_customer_shipping_address</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='symbol val'>:customer_profile_id</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='symbol val'>:customer_address_id</span><span class='rparen token'>)</span>

  <span class='request identifier id'>request</span> <span class='assign token'>=</span> <span class='build_request identifier id'>build_request</span><span class='lparen token'>(</span><span class='symbol val'>:delete_customer_shipping_address</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='commit identifier id'>commit</span><span class='lparen token'>(</span><span class='symbol val'>:delete_customer_shipping_address</span><span class='comma token'>,</span> <span class='request identifier id'>request</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_customer_payment_profile</h3>
</div><div id="get_customer_payment_profile-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_customer_payment_profile</span><span class='args'>(options)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Retrieve a customer payment profile for an existing customer profile.
</p>
<p>
Returns a Response whose params hash contains all the payment profile
information. Sensitive information such as credit card numbers will be
masked.
</p>
<h4>Options</h4>
<ul>
<li><tt>:customer_profile_id</tt> &#8212; The Customer Profile ID of the
customer with the payment profile to be retrieved. (REQUIRED)

</li>
<li><tt>:customer_payment_profile_id</tt> &#8212; The Payment Profile ID of the
payment profile to be retrieved. (REQUIRED)

</li>
</ul>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


211
212
213
214
215
216
217</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/active_merchant/billing/gateways/authorize_net_cim.rb', line 211</span>

<span class='def def kw'>def</span> <span class='get_customer_payment_profile identifier id'>get_customer_payment_profile</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='symbol val'>:customer_profile_id</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='symbol val'>:customer_payment_profile_id</span><span class='rparen token'>)</span>

  <span class='request identifier id'>request</span> <span class='assign token'>=</span> <span class='build_request identifier id'>build_request</span><span class='lparen token'>(</span><span class='symbol val'>:get_customer_payment_profile</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='commit identifier id'>commit</span><span class='lparen token'>(</span><span class='symbol val'>:get_customer_payment_profile</span><span class='comma token'>,</span> <span class='request identifier id'>request</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_customer_profile</h3>
</div><div id="get_customer_profile-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_customer_profile</span><span class='args'>(options)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Retrieves an existing customer profile along with all the associated
customer payment profiles and customer shipping addresses.
</p>
<p>
Returns a Response whose params hash contains all the profile information.
</p>
<h4>Options</h4>
<ul>
<li><tt>:customer_profile_id</tt> &#8212; The Customer Profile ID of the
customer to retrieve. (REQUIRED)

</li>
</ul>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


195
196
197
198
199
200</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/active_merchant/billing/gateways/authorize_net_cim.rb', line 195</span>

<span class='def def kw'>def</span> <span class='get_customer_profile identifier id'>get_customer_profile</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='symbol val'>:customer_profile_id</span><span class='rparen token'>)</span>

  <span class='request identifier id'>request</span> <span class='assign token'>=</span> <span class='build_request identifier id'>build_request</span><span class='lparen token'>(</span><span class='symbol val'>:get_customer_profile</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='commit identifier id'>commit</span><span class='lparen token'>(</span><span class='symbol val'>:get_customer_profile</span><span class='comma token'>,</span> <span class='request identifier id'>request</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>get_customer_shipping_address</h3>
</div><div id="get_customer_shipping_address-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>get_customer_shipping_address</span><span class='args'>(options)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Retrieve a customer shipping address for an existing customer profile.
</p>
<p>
Returns a Response whose params hash contains all the shipping address
information.
</p>
<h4>Options</h4>
<ul>
<li><tt>:customer_profile_id</tt> &#8212; The Customer Profile ID of the
customer with the payment profile to be retrieved. (REQUIRED)

</li>
<li><tt>:customer_address_id</tt> &#8212; The Shipping Address ID of the
shipping address to be retrieved. (REQUIRED)

</li>
</ul>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


227
228
229
230
231
232
233</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/active_merchant/billing/gateways/authorize_net_cim.rb', line 227</span>

<span class='def def kw'>def</span> <span class='get_customer_shipping_address identifier id'>get_customer_shipping_address</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='symbol val'>:customer_profile_id</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='symbol val'>:customer_address_id</span><span class='rparen token'>)</span>

  <span class='request identifier id'>request</span> <span class='assign token'>=</span> <span class='build_request identifier id'>build_request</span><span class='lparen token'>(</span><span class='symbol val'>:get_customer_shipping_address</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='commit identifier id'>commit</span><span class='lparen token'>(</span><span class='symbol val'>:get_customer_shipping_address</span><span class='comma token'>,</span> <span class='request identifier id'>request</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>update_customer_payment_profile</h3>
</div><div id="update_customer_payment_profile-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>update_customer_payment_profile</span><span class='args'>(options)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Updates a customer payment profile for an existing customer profile.
</p>
<p>
Warning: if you do not provide a parameter in the <tt>:payment_profile</tt>
hash, it is automatically set to nil at Authorize.Net. You will most likely
want to first get the profile hash using get_customer_payment_profile and
then only change the elements you wish to change.
</p>
<h4>Options</h4>
<ul>
<li><tt>:customer_profile_id</tt> &#8212; The Customer Profile ID of the
customer with the payment profile to be updated. (REQUIRED)

</li>
<li><tt>:payment_profile</tt> &#8212; A hash containing the values the Customer
Payment Profile should be updated to. (REQUIRED)

</li>
</ul>
<h4>Payment Profile</h4>
<ul>
<li><tt>:customer_payment_profile_id</tt> &#8212; The Customer Payment Profile
ID of the Customer Payment Profile to update. (REQUIRED)

</li>
</ul>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


270
271
272
273
274
275
276</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/active_merchant/billing/gateways/authorize_net_cim.rb', line 270</span>

<span class='def def kw'>def</span> <span class='update_customer_payment_profile identifier id'>update_customer_payment_profile</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='symbol val'>:customer_profile_id</span><span class='comma token'>,</span> <span class='symbol val'>:payment_profile</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:payment_profile</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:customer_payment_profile_id</span><span class='rparen token'>)</span>

  <span class='request identifier id'>request</span> <span class='assign token'>=</span> <span class='build_request identifier id'>build_request</span><span class='lparen token'>(</span><span class='symbol val'>:update_customer_payment_profile</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='commit identifier id'>commit</span><span class='lparen token'>(</span><span class='symbol val'>:update_customer_payment_profile</span><span class='comma token'>,</span> <span class='request identifier id'>request</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>update_customer_profile</h3>
</div><div id="update_customer_profile-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>update_customer_profile</span><span class='args'>(options)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Updates an existing customer profile.
</p>
<p>
Warning: if you do not provide a parameter in the <tt>:payment_profile</tt>
hash, it is automatically set to nil at Authorize.Net. You will most likely
want to first get the profile hash using get_customer_profile and then only
change the elements you wish to change.
</p>
<h4>Options</h4>
<ul>
<li><tt>:profile</tt> &#8212; A hash containing the values the Customer Profile
should be updated to. (REQUIRED)

</li>
</ul>
<h4>Profile</h4>
<ul>
<li><tt>:customer_profile_id</tt> &#8212; The Customer Profile ID of the
customer profile to update. (REQUIRED)

</li>
</ul>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


248
249
250
251
252
253
254</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/active_merchant/billing/gateways/authorize_net_cim.rb', line 248</span>

<span class='def def kw'>def</span> <span class='update_customer_profile identifier id'>update_customer_profile</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='symbol val'>:profile</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:profile</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:customer_profile_id</span><span class='rparen token'>)</span>

  <span class='request identifier id'>request</span> <span class='assign token'>=</span> <span class='build_request identifier id'>build_request</span><span class='lparen token'>(</span><span class='symbol val'>:update_customer_profile</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='commit identifier id'>commit</span><span class='lparen token'>(</span><span class='symbol val'>:update_customer_profile</span><span class='comma token'>,</span> <span class='request identifier id'>request</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>update_customer_shipping_address</h3>
</div><div id="update_customer_shipping_address-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>update_customer_shipping_address</span><span class='args'>(options)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Updates a customer shipping address for an existing customer profile.
</p>
<p>
Warning: if you do not provide a parameter in the <tt>:address</tt> hash,
it is automatically set to nil at Authorize.Net. You will most likely want
to first get the profile hash using get_customer_shipping_address and then
only change the elements you wish to change.
</p>
<h4>Options</h4>
<ul>
<li><tt>:customer_profile_id</tt> &#8212; The Customer Profile ID of the
customer with the payment profile to be updated. (REQUIRED)

</li>
<li><tt>:address</tt> &#8212; A hash containing the values the Customer
Shipping Address should be updated to. (REQUIRED)

</li>
</ul>
<h4>Address</h4>
<ul>
<li><tt>:customer_address_id</tt> &#8212; The Customer Address ID of the
Customer Payment Profile to update. (REQUIRED)

</li>
</ul>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


292
293
294
295
296
297
298</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/active_merchant/billing/gateways/authorize_net_cim.rb', line 292</span>

<span class='def def kw'>def</span> <span class='update_customer_shipping_address identifier id'>update_customer_shipping_address</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='symbol val'>:customer_profile_id</span><span class='comma token'>,</span> <span class='symbol val'>:address</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:address</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:customer_address_id</span><span class='rparen token'>)</span>

  <span class='request identifier id'>request</span> <span class='assign token'>=</span> <span class='build_request identifier id'>build_request</span><span class='lparen token'>(</span><span class='symbol val'>:update_customer_shipping_address</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='commit identifier id'>commit</span><span class='lparen token'>(</span><span class='symbol val'>:update_customer_shipping_address</span><span class='comma token'>,</span> <span class='request identifier id'>request</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>validate_customer_payment_profile</h3>
</div><div id="validate_customer_payment_profile-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>validate_customer_payment_profile</span><span class='args'>(options)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Verifies an existing customer payment profile by generating a test
transaction
</p>
<p>
Returns a Response object that contains the result of the transaction in
<tt>params[&#8216;direct_response&#8217;]</tt>
</p>
<h4>Options</h4>
<ul>
<li><tt>:customer_profile_id</tt> &#8212; The Customer Profile ID of the
customer to use in this transaction. (REQUIRED)

</li>
<li><tt>:customer_payment_profile_id</tt> &#8212; The Customer Payment Profile
ID of the Customer Payment Profile to be verified. (REQUIRED)

</li>
<li><tt>:customer_address_id</tt> &#8212; The Customer Address ID of the
Customer Shipping Address to be verified.

</li>
<li><tt>:validation_mode</tt> &#8212; <tt>:live</tt> or <tt>:test</tt> In Test
Mode, only field validation is performed. In Live Mode, a transaction is
generated and submitted to the processor with the amount of $0.01. If
successful, the transaction is immediately voided. (REQUIRED)

</li>
</ul>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


335
336
337
338
339
340</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/active_merchant/billing/gateways/authorize_net_cim.rb', line 335</span>

<span class='def def kw'>def</span> <span class='validate_customer_payment_profile identifier id'>validate_customer_payment_profile</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='requires! fid id'>requires!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='symbol val'>:customer_profile_id</span><span class='comma token'>,</span> <span class='symbol val'>:customer_payment_profile_id</span><span class='comma token'>,</span> <span class='symbol val'>:validation_mode</span><span class='rparen token'>)</span>

  <span class='request identifier id'>request</span> <span class='assign token'>=</span> <span class='build_request identifier id'>build_request</span><span class='lparen token'>(</span><span class='symbol val'>:validate_customer_payment_profile</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='commit identifier id'>commit</span><span class='lparen token'>(</span><span class='symbol val'>:validate_customer_payment_profile</span><span class='comma token'>,</span> <span class='request identifier id'>request</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
</div>
  </div>

</div>
    </div>
  </body>
</html>