<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>ahoward's helene - Class: RightAws::Sqs - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/ahoward/commits/helene/master" rel="alternate" title="Recent Commits to helene:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="../app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("ahoward", "helene", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='ahoward/helene/blob/ae407b60b0d282acdacd024861f002a58ab5d446' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='ahoward/helene/blob/ae407b60b0d282acdacd024861f002a58ab5d446' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("ahoward", "helene", "ae407b60b0d282acdacd024861f002a58ab5d446", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="../style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/ahoward/helene/tree/">Source</a></li>
            <li class=""><a href="http://github.com/ahoward/helene/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/ahoward/helene/network">Network</a></li>            
            <li class=""><a href="http://github.com/ahoward/helene/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/ahoward/helene">Wiki</a></li>
            <li class=""><a href="http://github.com/ahoward/helene/graphs">Graphs</a></li>                    
            <li class="active"><a href="/ahoward/helene">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/ahoward">ahoward</a> / <b><a href="http://github.com/ahoward/helene/tree">helene</a></b>        
                <a id="namespaces_button" rel="ahoward/helene/blob/ae407b60b0d282acdacd024861f002a58ab5d446" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="ahoward/helene/blob/ae407b60b0d282acdacd024861f002a58ab5d446" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="wikistyle">
  <div class="section class RightAws_Sqs">
  <h1>Class: RightAws::Sqs</h1>
  <div class="section docstring">
  <p>
&#8212; This file was orginally right_sqs_gen2.rb and the main class was
similarly named SqsGen2. Under the hood it made use of SqsGen2Interface,
but that too has been renamed and this code has changed accordingly. These
changes are to replace the old obsolete interface. ++
</p>
<p>
RightAws::SqsGen2 &#8212; RightScale&#8217;s Amazon SQS interface, API
version 2008-01-01 and later. The RightAws::SqsGen2 class provides a
complete interface to the second generation of Amazon&#8217;s Simple Queue
Service. For explanations of the semantics of each call, please refer to
Amazon&#8217;s documentation at
http://developer.amazonwebservices.com/connect/kbcategory.jspa?categoryID=31
</p>
<p>
RightAws::SqsGen2 is built atop RightAws::SqsGen2Interface, a lower-level
procedural API that may be appropriate for certain programs.
</p>
<p>
Error handling: all operations raise an RightAws::AwsError in case of
problems. Note that transient errors are automatically retried.
</p>
<pre class="code">
 <span class='sqs identifier id'>sqs</span>    <span class='assign token'>=</span> <span class='RightAws constant id'>RightAws</span><span class='colon2 op'>::</span><span class='SqsGen2 constant id'>SqsGen2</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='aws_access_key_id identifier id'>aws_access_key_id</span><span class='comma token'>,</span> <span class='aws_secret_access_key identifier id'>aws_secret_access_key</span><span class='rparen token'>)</span>
 <span class='queue1 identifier id'>queue1</span> <span class='assign token'>=</span> <span class='sqs identifier id'>sqs</span><span class='dot token'>.</span><span class='queue identifier id'>queue</span><span class='lparen token'>(</span><span class='string val'>'my_awesome_queue'</span><span class='rparen token'>)</span>
  <span class='dot3 op'>...</span>
 <span class='queue2 identifier id'>queue2</span> <span class='assign token'>=</span> <span class='RightAws constant id'>RightAws</span><span class='colon2 op'>::</span><span class='SqsGen2 constant id'>SqsGen2</span><span class='colon2 op'>::</span><span class='Queue constant id'>Queue</span><span class='dot token'>.</span><span class='create identifier id'>create</span><span class='lparen token'>(</span><span class='sqs identifier id'>sqs</span><span class='comma token'>,</span> <span class='string val'>'my_cool_queue'</span><span class='comma token'>,</span> <span class='true true kw'>true</span><span class='rparen token'>)</span>
 <span class='puts identifier id'>puts</span> <span class='queue2 identifier id'>queue2</span><span class='dot token'>.</span><span class='size identifier id'>size</span>
  <span class='dot3 op'>...</span>
 <span class='message1 identifier id'>message1</span> <span class='assign token'>=</span> <span class='queue2 identifier id'>queue2</span><span class='dot token'>.</span><span class='receive identifier id'>receive</span>
 <span class='message1 identifier id'>message1</span><span class='dot token'>.</span><span class='visibility identifier id'>visibility</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
 <span class='puts identifier id'>puts</span> <span class='message1 identifier id'>message1</span>
  <span class='dot3 op'>...</span>
 <span class='queue2 identifier id'>queue2</span><span class='dot token'>.</span><span class='clear identifier id'>clear</span><span class='lparen token'>(</span><span class='true true kw'>true</span><span class='rparen token'>)</span>
 <span class='queue2 identifier id'>queue2</span><span class='dot token'>.</span><span class='send_message identifier id'>send_message</span><span class='lparen token'>(</span><span class='string val'>'Ola-la!'</span><span class='rparen token'>)</span>
 <span class='message2 identifier id'>message2</span> <span class='assign token'>=</span> <span class='queue2 identifier id'>queue2</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span>
  <span class='dot3 op'>...</span>
</pre>
<p>
NB: Second-generation SQS has eliminated the entire access grant mechanism
present in Gen 1.
</p>
<p>
Params is a hash:
</p>
<pre class="code">
   <span class='lbrace token'>{</span><span class='symbol val'>:server</span>       <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'queue.amazonaws.com'</span> <span class='comment val'># Amazon service host: 'queue.amazonaws.com' (default)</span>
    <span class='symbol val'>:port</span>         <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>443</span>                   <span class='comment val'># Amazon service port: 80 or 443 (default)</span>
    <span class='symbol val'>:multi_thread</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='bitor op'>|</span><span class='false false kw'>false</span>            <span class='comment val'># Multi-threaded (connection per each thread): true or false (default)</span>
    <span class='symbol val'>:signature_version</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'0'</span>              <span class='comment val'># The signature version : '0' or '1'(default)</span>
    <span class='symbol val'>:logger</span>       <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Logger constant id'>Logger</span> <span class='Object constant id'>Object</span><span class='rbrace token'>}</span>        <span class='comment val'># Logger instance: logs to STDOUT if omitted }</span>
</pre>

</div><div class="section attributes">
  
    <div class="">
      <h2>Instance Attributes</h2>
      <table>
      
        <tr>
          <th class="name">interface</td>
          <td class="readwrite">
            [<span id='interface-instance_method'>R</span>W] 
          </td>
          <td class="visibility">
            public
          </td>
          <td class="docstring">
            <p>
Returns the value of attribute <tt>interface</tt>.
</p>

            
          </td>
        </tr>
      
      </table>
    </div>
  
</div><div class="section constants">
  
</div><div class="section constructor">
<h2>Constructor</h2>
  <div id="initialize-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>initialize</span><span class='args'>(aws_access_key_id = nil, aws_secret_access_key = nil, params = {})</span>
    <span class='block'></span>
  </tt>
</div>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/helene/rightscale/sqs/right_sqs.rb', line 76</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/ahoward/helene/blob/ae407b60b0d282acdacd024861f002a58ab5d446/lib/helene/rightscale/sqs/right_sqs.rb#L76">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">76
77
78</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='aws_access_key_id identifier id'>aws_access_key_id</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='aws_secret_access_key identifier id'>aws_secret_access_key</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='@interface ivar id'>@interface</span> <span class='assign token'>=</span> <span class='SqsInterface constant id'>SqsInterface</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='aws_access_key_id identifier id'>aws_access_key_id</span><span class='comma token'>,</span> <span class='aws_secret_access_key identifier id'>aws_secret_access_key</span><span class='comma token'>,</span> <span class='params identifier id'>params</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
</div>  <div class="section visibilitygroup">
      <div class="section methodsummary">
    <h2>Public Instance Method Summary</h2>
<table class="summary">
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#queue-instance_method">#queue</span><span class='args'>(queue_name, create = true, visibility = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Returns Queue instance by queue name.
</p>

        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        <span class='name'><a href="#queues-instance_method">#queues</span><span class='args'>(prefix = nil)</span>
        <span class='block'></span>
        
      </th>
      <td class="docstring">
        <p>
Retrieves a list of queues.
</p>

        
      </td>
    </tr>
  
</table>
  </div>
<div class="section methoddetails">
  <h2>Public Instance Method Details</h2>
  
    <div class="method">
      <div class="method_header">
  <h3>queue</h3>
</div><div id="queue-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>queue</span><span class='args'>(queue_name, create = true, visibility = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Returns Queue instance by queue name. If the queue does not exist at Amazon
SQS and <tt>create</tt> is true, the method creates it.
</p>
<pre class="code">
 <span class='RightAws constant id'>RightAws</span><span class='colon2 op'>::</span><span class='SqsGen2 constant id'>SqsGen2</span><span class='dot token'>.</span><span class='queue identifier id'>queue</span><span class='lparen token'>(</span><span class='string val'>'my_awesome_queue'</span><span class='rparen token'>)</span> <span class='comment val'>#=&gt; #&lt;RightAws::SqsGen2::Queue:0xb7b626e4 ... &gt;</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/helene/rightscale/sqs/right_sqs.rb', line 96</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/ahoward/helene/blob/ae407b60b0d282acdacd024861f002a58ab5d446/lib/helene/rightscale/sqs/right_sqs.rb#L96">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">96
97
98
99
100</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='queue identifier id'>queue</span><span class='lparen token'>(</span><span class='queue_name identifier id'>queue_name</span><span class='comma token'>,</span> <span class='create identifier id'>create</span><span class='assign token'>=</span><span class='true true kw'>true</span><span class='comma token'>,</span> <span class='visibility identifier id'>visibility</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='url identifier id'>url</span> <span class='assign token'>=</span> <span class='@interface ivar id'>@interface</span><span class='dot token'>.</span><span class='queue_url_by_name identifier id'>queue_url_by_name</span><span class='lparen token'>(</span><span class='queue_name identifier id'>queue_name</span><span class='rparen token'>)</span>
  <span class='url identifier id'>url</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='create identifier id'>create</span> <span class='integer val'>? </span><span class='@interface ivar id'>@interface</span><span class='dot token'>.</span><span class='create_queue identifier id'>create_queue</span><span class='lparen token'>(</span><span class='queue_name identifier id'>queue_name</span><span class='comma token'>,</span> <span class='visibility identifier id'>visibility</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='nil nil kw'>nil</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='url identifier id'>url</span>
  <span class='url identifier id'>url</span> <span class='integer val'>? </span><span class='Queue constant id'>Queue</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='url identifier id'>url</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='nil nil kw'>nil</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>queues</h3>
</div><div id="queues-instance_method" class="section method">
  <div class="details_title">
  <div class='section methodsignature'>
  <tt class='def'>
    <span class='visibility'>public</span>
    <span class='return_types'></span>
    <span class='name'>queues</span><span class='args'>(prefix = nil)</span>
    <span class='block'></span>
  </tt>
</div>

</div><div class="section docstring">
  <p>
Retrieves a list of queues. Returns an <tt>array</tt> of <tt>Queue</tt>
instances.
</p>
<pre class="code">
 <span class='RightAws constant id'>RightAws</span><span class='colon2 op'>::</span><span class='Sqs constant id'>Sqs</span><span class='dot token'>.</span><span class='queues identifier id'>queues</span> <span class='comment val'>#=&gt; array of queues</span>
</pre>

</div></div>
<div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="files" style="display:none">
    <div class="file">
      <div class="meta">
        <div class="info">
          <span>File 'lib/helene/rightscale/sqs/right_sqs.rb', line 85</span>
        </div>
        <div class="actions">      
          <a id="raw-url" href="http://github.com/ahoward/helene/blob/ae407b60b0d282acdacd024861f002a58ab5d446/lib/helene/rightscale/sqs/right_sqs.rb#L85">raw</a>      
        </div>
      </div>
            
      <div class="data syntax">    
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td>            
                <pre class="line_numbers">85
86
87
88
89</pre>
              </td>
              <td width="100%">                    
                <div class="highlight"><pre class="code"><span class='def def kw'>def</span> <span class='queues identifier id'>queues</span><span class='lparen token'>(</span><span class='prefix identifier id'>prefix</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='@interface ivar id'>@interface</span><span class='dot token'>.</span><span class='list_queues identifier id'>list_queues</span><span class='lparen token'>(</span><span class='prefix identifier id'>prefix</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='url identifier id'>url</span><span class='bitor op'>|</span>
    <span class='Queue constant id'>Queue</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='url identifier id'>url</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre></div>          
              </td>
            </tr>
          </tbody>
        </table>    
      </div>
    </div>  
  </div>
</div>
<div>
</div>
    </div>
  
</div>
  </div>

</div>
</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>