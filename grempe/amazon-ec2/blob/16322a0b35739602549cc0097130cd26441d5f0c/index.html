<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>grempe's amazon-ec2 - GitHub Documentation</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="">

<link rel="search" type="application/opensearchdescription+xml" href="http://github.com/opensearch.xml" title="GitHub">
<link rel="fluid-icon" href="http://github.com/fluidicon.png" title="GitHub">
<link href="http://assets0.github.com/stylesheets/bundle.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://github.com/feeds/grempe/commits/amazon-ec2/master" rel="alternate" title="Recent Commits to amazon-ec2:master" type="application/atom+xml">

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://assets3.github.com/javascripts/bundle.js"></script>              
<script src="app.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="http://docs.github.com/javascripts/md5.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/repos.js"></script>
<script type="text/javascript" src="http://docs.github.com/javascripts/commits.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    if (typeof skipHeaders != 'undefined') return;
    
    GitHubRepo.init("grempe", "amazon-ec2", function(){ 
      GitHubRepo.links = " <a id='namespaces_button' rel='grempe/amazon-ec2/blob/16322a0b35739602549cc0097130cd26441d5f0c' href='#'><img class='button' src='http://docs.github.com/namespaces_button.png' alt='Modules and Classes'/></a> ";
      GitHubRepo.links += " <a id='methods_button' rel='grempe/amazon-ec2/blob/16322a0b35739602549cc0097130cd26441d5f0c' href='#'><img class='button' src='http://docs.github.com/methods_button.png' alt='Methods'/></a> ";
      $("#repo").html(GitHubRepo.content());
      $('#namespaces_button').click(function(){
        var url="/"+$(this).attr('rel')+"/namespaces/";
        $.gitbox(url);
        return false;
      });    
      $('#methods_button').click(function(){
        var url="/"+$(this).attr('rel')+"/methods/";
        $.gitbox(url);
        return false;
      });        
    });
    GitHubCommit.init("grempe", "amazon-ec2", "16322a0b35739602549cc0097130cd26441d5f0c", function(){ 
      $("#commit").html(GitHubCommit.content());
    });
  });
</script>

    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8" />
  </head>
  <body>    
    
    
        <div id="main" style="padding-bottom:8em;">
      <div id="header">
        <div class="site">
          <div class="logo">
            <a href="http://github.com/"><img src="http://github.com/images/modules/header/logov3.png" alt="github"></a>
          </div>          
          <div class="topsearch">
            <form action="http://github.com/search" id="top_search_form" method="get">
              <input class="search" name="q" type="search"> <input value="Search" type="submit">
            </form>
            <div class="links">
              <a href="http://github.com/repositories">Browse</a> | <a href="http://github.com/guides">Guides</a> | <a href="http://github.com/search">Advanced</a>
            </div>
          </div>
          <div class="actions">
            <a href="http://github.com">Home</a>
            <a href="http://github.com/plans"><b><u>Pricing and Signup</u></b></a>
            <a href="http://docs.github.com/">Documentation</a>
            <a href="https://github.com/login">Login</a>
          </div>                  
        </div>
      </div>    
                                                  
      <div id="repo_menu">
        <div class="site">
          <ul>          
            <li class=""><a href="http://github.com/grempe/amazon-ec2/tree/">Source</a></li>
            <li class=""><a href="http://github.com/grempe/amazon-ec2/commits/">Commits</a></li>            
            <li class=""><a href="http://github.com/grempe/amazon-ec2/network">Network</a></li>            
            <li class=""><a href="http://github.com/grempe/amazon-ec2/issues">Issues</a></li>
            <li class=""><a href="http://wiki.github.com/grempe/amazon-ec2">Wiki</a></li>
            <li class=""><a href="http://github.com/grempe/amazon-ec2/graphs">Graphs</a></li>                    
            <li class="active"><a href="/grempe/amazon-ec2">Documentation</a></li>
          </ul>
        </div>
      </div>

      <div id="repo_sub_menu">
        <div class="site">
          <div class="joiner"></div>      
        </div>
      </div>

      <div class="site">  
        <div id="repos">
          <div id="repo" class="repo public">
            <div class="title">
              <div class="path">
                <a href="http://github.com/grempe">grempe</a> / <b><a href="http://github.com/grempe/amazon-ec2/tree">amazon-ec2</a></b>        
                <a id="namespaces_button" rel="grempe/amazon-ec2/blob/16322a0b35739602549cc0097130cd26441d5f0c" href="#"><img class="button" src="http://docs.github.com/namespaces_button.png" alt="Modules and Classes"/></a>
                <a id="methods_button" rel="grempe/amazon-ec2/blob/16322a0b35739602549cc0097130cd26441d5f0c" href="#"><img class="button" src="http://docs.github.com/methods_button.png" alt="Methods"/></a>
              </div>
            </div>            
          </div>
          <div id="commit">
          </div> 
          <br/>                                       
          <div id="content">
            <div class="section docstring readme wikistyle">
  <h1>Amazon Web Services Elastic Compute Cloud (EC2) Ruby Gem</h1>
<h2>About amazon-ec2</h2>
<p>
Amazon Web Services offers a compute power on demand capability known as
the Elastic Compute Cloud (EC2). The server resources in the cloud can be
provisioned on demand by making HTTP Query API calls to EC2.
</p>
<p>
This &#8216;amazon-ec2&#8217; Ruby Gem is an interface library that can be
used to interact with the Amazon EC2 system and control server resources on
demand from your Ruby scripts, or from applications written in your Ruby
framework of choice (Ruby on Rails, Merb, etc.).
</p>
<p>
For the most complete and up-to date README information please visit the
project homepage at:
</p>
<p>
http://github.com/grempe/amazon-ec2/tree/master
</p>
<p>
or the EC2 website at http://aws.amazon.com/ec2
</p>
<h2>Installation</h2>
<p>
This gem follows the standard conventions for installation on any system
with Ruby and RubyGems installed. If you have worked with gems before this
will look very familiar.
</p>
<h3>Get an AWS account</h3>
<p>
Before you can make use of this gem you will need an Amazon Web Services
developer account which you can sign up for at
https://aws-portal.amazon.com/gp/aws/developer/registration/index.html.
This account must also be specifically enabled for Amazon EC2 usage. AWS
will provide you with an &#8216;AWS Access Key ID&#8217; and a
&#8216;Secret Access Key&#8217; which will allow you to authenticate any
API calls you make and ensure correct billing to you for usage of the
service. Take note of these (and keep them secret!).
</p>
<h3>Install required gem pre-requisites</h3>
<p>
The following gems should be installed automatically as part of your
install of amazon-ec2. Most of them are needed for testing build
dependencies but they should be painless to install even if you don&#8217;t
plan on running the tests or building this gem manually on your own.
</p>
<pre class="code">
  <span class='XmlSimple constant id'>XmlSimple</span> <span class='lparen token'>(</span><span class='required identifier id'>required</span><span class='rparen token'>)</span>
  <span class='Mocha constant id'>Mocha</span> <span class='lparen token'>(</span><span class='optional identifier id'>optional</span> <span class='for for kw'>for</span> <span class='testing identifier id'>testing</span><span class='rparen token'>)</span>
  <span class='Rcov constant id'>Rcov</span> <span class='lparen token'>(</span><span class='optional identifier id'>optional</span> <span class='for for kw'>for</span> <span class='testing identifier id'>testing</span><span class='rparen token'>)</span>
  <span class='Test constant id'>Test</span><span class='minus op'>-</span><span class='Spec constant id'>Spec</span> <span class='lparen token'>(</span><span class='optional identifier id'>optional</span> <span class='for for kw'>for</span> <span class='testing identifier id'>testing</span><span class='rparen token'>)</span>
</pre>
<h3>Install the amazon-ec2 gem</h3>
<pre class="code">
  <span class='comment val'># ONE TIME ONLY</span>
  <span class='comment val'># Execute this on each machine where you install gems to add GitHub as a gem source</span>
  <span class='comment val'># Do this only once or you'll end up with multiple entries in 'gem sources'</span>
  <span class='gem identifier id'>gem</span> <span class='sources identifier id'>sources</span> <span class='minus op'>-</span><span class='a identifier id'>a</span> <span class='http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/gems.github.com/</span>

  <span class='comment val'># Install the stable release gem from RubyForge</span>
  <span class='sudo identifier id'>sudo</span> <span class='gem identifier id'>gem</span> <span class='install identifier id'>install</span> <span class='amazon identifier id'>amazon</span><span class='minus op'>-</span><span class='ec2 identifier id'>ec2</span>

  <span class='comment val'># OR</span>

  <span class='comment val'># Install the gem from the GitHub bleeding edge as a normal runtime install</span>
  <span class='sudo identifier id'>sudo</span> <span class='gem identifier id'>gem</span> <span class='install identifier id'>install</span> <span class='grempe identifier id'>grempe</span><span class='minus op'>-</span><span class='amazon identifier id'>amazon</span><span class='minus op'>-</span><span class='ec2 identifier id'>ec2</span>

  <span class='comment val'># OR</span>

  <span class='comment val'># Install the gem from the GitHub bleeding edge with all developer dependencies</span>
  <span class='sudo identifier id'>sudo</span> <span class='gem identifier id'>gem</span> <span class='install identifier id'>install</span> <span class='grempe identifier id'>grempe</span><span class='minus op'>-</span><span class='amazon identifier id'>amazon</span><span class='minus op'>-</span><span class='ec2 identifier id'>ec2</span> <span class='minus op'>-</span><span class='minus op'>-</span><span class='development identifier id'>development</span>

  <span class='comment val'># OR</span>

  <span class='comment val'># Install using Rip (hellorip.com) instead of RubyGems</span>
  <span class='rip identifier id'>rip</span> <span class='install identifier id'>install</span> <span class='git identifier id'>git</span><span class='symbol val'>:/</span><span class='regexp val'>/github.com/</span><span class='grempe identifier id'>grempe</span><span class='div op'>/</span><span class='amazon identifier id'>amazon</span><span class='minus op'>-</span><span class='ec2 identifier id'>ec2</span><span class='dot token'>.</span><span class='git identifier id'>git</span>
</pre>
<h2>Using amazon-ec2</h2>
<p>
The library exposes one main interface class EC2::Base. It is through an
instance of this class that you will perform all the operations for using
the EC2 service including query string header signing.
</p>
<p>
The public methods on EC2::Base closely mirror the EC2 Query API, and as
such the Query API Reference in the EC2 Developer Guide (
http://developer.amazonwebservices.com/connect/kbcategory.jspa?categoryID=84
) will prove helpful.
</p>
<h3>Setting up</h3>
<p>
The &#8216;ec2sh&#8217; and &#8216;ec2-gem-example.rb&#8217; scripts which
will be introduced to you shortly expect your AWS EC2 credentials to be
stored as shell environment variables which are accessible to those
scripts. This makes them convenient to use whenever you need to do a quick
query to see what images you have available to you, what&#8217;s running
now, or to start or stop an instance on EC2. You&#8217;ll find
&#8216;ec2sh&#8217; to be a very handy tool. I&#8217;ll describe only the
OS X route for setting up (of course the setup steps will vary depending on
your particular system and preferred shell). If you don&#8217;t want to do
it this way, feel free to copy these scripts from the gem dir to any
location where you can run them from and modify them directly to include
your credentials.
</p>
<p>
Edit the file ~/.bash_login and add the following to the existing contents:
</p>
<pre class="code">
  <span class='export identifier id'>export</span> <span class='RUBYOPT constant id'>RUBYOPT</span><span class='assign token'>=</span><span class='string val'>&quot;rubygems&quot;</span>

  <span class='Why constant id'>Why</span> <span class='string val'>'export RUBYOPT'</span><span class='question op'>?</span> <span class='Because constant id'>Because</span> <span class='we identifier id'>we</span> <span class='leave identifier id'>leave</span> <span class='loading identifier id'>loading</span> <span class='libs identifier id'>libs</span> <span class='up identifier id'>up</span> <span class='to identifier id'>to</span> <span class='you identifier id'>you</span><span class='dot3 op'>...</span> <span class='See constant id'>See</span> <span class='colon op'>:</span> <span class='http identifier id'>http</span><span class='symbol val'>:/</span><span class='regexp val'>/gist.github.com/</span><span class='integer val'>54177</span>

  <span class='comment val'># For amazon-ec2 and amazon s3 ruby gems</span>
  <span class='export identifier id'>export</span> <span class='AMAZON_ACCESS_KEY_ID constant id'>AMAZON_ACCESS_KEY_ID</span><span class='assign token'>=</span><span class='string val'>&quot;YOUR_ACCESS_KEY_ID&quot;</span>
  <span class='export identifier id'>export</span> <span class='AMAZON_SECRET_ACCESS_KEY constant id'>AMAZON_SECRET_ACCESS_KEY</span><span class='assign token'>=</span><span class='string val'>&quot;YOUR_SECRET_ACCESS_KEY_ID&quot;</span>
</pre>
<p>
If you are using EC2 in the EU region, make sure you also set:
</p>
<pre class="code">
  <span class='export identifier id'>export</span> <span class='EC2_URL constant id'>EC2_URL</span><span class='assign token'>=</span><span class='string val'>&quot;https://eu-west-1.ec2.amazonaws.com&quot;</span>
</pre>
<p>
(which you have already if you configured standard EC2 command line tools
to work with this region).
</p>
<p>
Once you save the file you should close and re-open your terminal so the
new variables are made available. You&#8217;ll need to do this
close/re-open step for each terminal window you have open (or issue the
&#8216;source ~/.bash_login&#8217; command in each). Make sure that this
file is only readable by your user so you don&#8217;t inadvertently expose
your credentials to other users on your system.
</p>
<p>
You can verify that this setup is complete by running the &#8216;set&#8217;
in a command window and seeing that your credentials are in the list of
shell variables.
</p>
<h3>The basics</h3>
<p>
The library exposes one main interface module
</p>
<pre class="code">
  <span class='EC2 constant id'>EC2</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span>
</pre>
<p>
This method requires arguments which include your AWS credentials and it
will return an object that you can use to make method calls directly
against EC2. All the operations for using the EC2 service, including query
string header signing, are handled automatically for you. The connection
string will look something like this:
</p>
<pre class="code">
  <span class='@ec2 ivar id'>@ec2</span> <span class='assign token'>=</span> <span class='EC2 constant id'>EC2</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:access_key_id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='ACCESS_KEY_ID constant id'>ACCESS_KEY_ID</span><span class='comma token'>,</span> <span class='symbol val'>:secret_access_key</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='SECRET_ACCESS_KEY constant id'>SECRET_ACCESS_KEY</span><span class='rparen token'>)</span>
</pre>
<p>
I&#8217;ve tried to keep the public methods on &#8216;amazon-ec2&#8217; as
close as possible to the AWS EC2 Query API. This similarity allows you to
reference the Query API Reference in the EC2 Developer Guide and be able to
get started right away. In most cases the methods names only differ in how
they are presented. e.g. &#8216;DescribeImages&#8217; becomes
&#8217;#describe_images()&#8217; in Ruby. Feel free to browse the full RDoc
documentation for all classes and methods of &#8216;amazon-ec2&#8217; if
you want more details.
</p>
<h3>Examples</h3>
<p>
The best way to become familiar with &#8216;amazon-ec2&#8217; is to take it
for a test drive. We have provided a few simple ways to get you started.
There is also some sample code below that should help out in using
&#8216;amazon-ec2&#8217; with a plain Ruby script, or as part of a Ruby on
Rails application.
</p>
<h4>Using the &#8216;ec2-gem-example.rb&#8217; sample test script</h4>
<p>
An example Ruby script which exercises the library a bit more is installed
for you to check out when you install this gem. You can run this script to
verify that everything is setup and working correctly in your environment.
Consult the file which is installed at :
</p>
<pre class="code">
  <span class='lbrack token'>[</span><span class='your identifier id'>your</span> <span class='amazon identifier id'>amazon</span><span class='minus op'>-</span><span class='ec2 identifier id'>ec2</span> <span class='gem identifier id'>gem</span> <span class='dir identifier id'>dir</span><span class='rbrack token'>]</span><span class='div op'>/</span><span class='examples identifier id'>examples</span><span class='div op'>/</span><span class='ec2 identifier id'>ec2</span><span class='minus op'>-</span><span class='example identifier id'>example</span><span class='dot token'>.</span><span class='rb identifier id'>rb</span>
</pre>
<p>
Since we also package this sample file in the gem&#8217;s bin/ dir you
should also be able to run it from anywhere on your shell path (once you
have set your environment variables as described above).
</p>
<h4>Using the &#8216;ec2sh&#8217; command shell</h4>
<p>
The &#8216;ec2sh&#8217; command shell is actually a standard
&#8216;irb&#8217; Ruby shell, with the main difference being we read your
AWS credentials from your environment and pre-configure a connection string
for you. This lets you run any EC2 command very simply. This has proven to
be a valuable tool during the development of this gem and you should try it
out. Since we install this tool in your system path as part of the
installation of this gem, you should be able to simply run
&#8216;ec2sh&#8217; from any terminal command prompt on your local system.
You&#8217;ll see some basic instructions for use, and a few examples when
you start &#8216;ec2sh&#8217;. Go ahead and try it out now. We&#8217;ll
wait&#8230;
</p>
<p>
If you&#8217;re not in front of a terminal shell now (perhaps you&#8217;re
browsing this site on your iPhone) this is what you would see:
</p>
<pre class="code">
  <span class='hostname identifier id'>hostname</span><span class='symbol val'>:/</span><span class='tmp identifier id'>tmp</span><span class='div op'>/</span><span class='rails identifier id'>rails</span><span class='div op'>/</span><span class='amazon_test identifier id'>amazon_test</span> <span class='glenn identifier id'>glenn</span>$ <span class='ec2sh identifier id'>ec2sh</span>

    <span class='string val'>'ec2sh'</span> <span class='usage identifier id'>usage</span> <span class='colon op'>:</span>
    <span class='This constant id'>This</span> <span class='is identifier id'>is</span> <span class='an identifier id'>an</span> <span class='interactive identifier id'>interactive</span> <span class='string val'>'irb'</span> <span class='command identifier id'>command</span> <span class='shell identifier id'>shell</span> <span class='that identifier id'>that</span> <span class='allows identifier id'>allows</span> <span class='you identifier id'>you</span> <span class='to identifier id'>to</span> <span class='use identifier id'>use</span> <span class='all identifier id'>all</span>
    <span class='commands identifier id'>commands</span> <span class='available identifier id'>available</span> <span class='to identifier id'>to</span> <span class='the identifier id'>the</span> <span class='amazon identifier id'>amazon</span><span class='minus op'>-</span><span class='ec2 identifier id'>ec2</span> <span class='gem identifier id'>gem</span><span class='dot token'>.</span>  <span class='You constant id'>You</span><span class='string val'>'ll find this to be a
    great tool to help you debug issues and practice running commands
    against the live EC2 servers prior to putting them in your code.

    The EC2 connection is wired to the class instance '</span><span class='@ec2 ivar id'>@ec2</span><span class='string val'>'.  Make method calls
    on this to execute commands on EC2.  Adding a #to_s
    at the end of any command should give you a full String representation of the
    response.  The #xml data is available for each response
    which allows you to view the full and complete XML response returned by
    EC2 without any parsing applied.  This is useful for viewing the
    hierarchy of an entire response in a friendly way (if XML is friendly
    to you!).  Understanding the hierarchy of the XML response is critical
    to making effective use of this library.

      Examples to try:

        returns : all ec2 public methods
        &gt;&gt; @ec2.methods.sort

        returns : a string representation of ALL images
        &gt;&gt; @ec2.describe_images.to_s

        returns : an Array of EC2::Response objects, each an EC2 image and its data
        &gt;&gt; @ec2.describe_images.imagesSet.item
        &gt;&gt; @ec2.describe_images.imagesSet.item[0] (a hash representing a single item in that array)
        &gt;&gt; @ec2.describe_images.imagesSet.item[0].to_s (a String representation of that item)

  &gt;&gt; @ec2.describe_images.imagesSet.item[0].to_s
  =&gt; &quot;#&lt;EC2::Response:0x100A465B4 imageId=\&quot;ami-018e6b68\&quot; imageLocation=\&quot;rbuilder-online/phonehome-1.5.6-x86_10132.img.manifest.xml\&quot; imageOwnerId=\&quot;099034111737\&quot; imageState=\&quot;available\&quot; isPublic=\&quot;true\&quot; parent=#&lt;EC2::Response:0x100A469A6 ...&gt;&gt;&quot;
</span></pre>
<h3>Ruby script usage example:</h3>
<p>
Try out the following bit of code. This should walk through each image
returned by a call to #describe_images and print out its key data. Note in
the example below that you cannot walk through the results of the
#describe_images call with the &#8217;.each&#8217; iterator (You&#8217;ll
get errors if you try). You need to instead walk through the Array of items
which are in the &#8216;imagesSet&#8217; embedded in the response. This
reflects exactly the XML hierarchy of data returned from EC2 which we parse
to Ruby OpenStruct objects (EC2::Response).
</p>
<pre class="code">
  <span class='comment val'>#!/usr/bin/env ruby</span>

  <span class='require identifier id'>require</span> <span class='string val'>'rubygems'</span>
  <span class='require identifier id'>require</span> <span class='string val'>'EC2'</span>

  <span class='ACCESS_KEY_ID constant id'>ACCESS_KEY_ID</span> <span class='assign token'>=</span> <span class='string val'>'--YOUR AWS ACCESS KEY ID--'</span>
  <span class='SECRET_ACCESS_KEY constant id'>SECRET_ACCESS_KEY</span> <span class='assign token'>=</span> <span class='string val'>'--YOUR AWS SECRET ACCESS KEY--'</span>

  <span class='ec2 identifier id'>ec2</span> <span class='assign token'>=</span> <span class='EC2 constant id'>EC2</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:access_key_id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='ACCESS_KEY_ID constant id'>ACCESS_KEY_ID</span><span class='comma token'>,</span> <span class='symbol val'>:secret_access_key</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='SECRET_ACCESS_KEY constant id'>SECRET_ACCESS_KEY</span><span class='rparen token'>)</span>

  <span class='puts identifier id'>puts</span> <span class='string val'>&quot;----- listing images owned by 'amazon' -----&quot;</span>
  <span class='ec2 identifier id'>ec2</span><span class='dot token'>.</span><span class='describe_images identifier id'>describe_images</span><span class='lparen token'>(</span><span class='symbol val'>:owner_id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;amazon&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='imagesSet identifier id'>imagesSet</span><span class='dot token'>.</span><span class='item identifier id'>item</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='image identifier id'>image</span><span class='bitor op'>|</span>
    <span class='comment val'># OpenStruct objects have members!</span>
    <span class='image identifier id'>image</span><span class='dot token'>.</span><span class='members identifier id'>members</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='member identifier id'>member</span><span class='bitor op'>|</span>
      <span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;#{member} =&gt; #{image[member]}&quot;</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
</pre>
<h3>Ruby on Rails usage example:</h3>
<p>
<b>config/environment.rb</b>
</p>
<pre class="code">
  <span class='Rails constant id'>Rails</span><span class='colon2 op'>::</span><span class='Initializer constant id'>Initializer</span><span class='dot token'>.</span><span class='run identifier id'>run</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='config identifier id'>config</span><span class='bitor op'>|</span>
   <span class='dot3 op'>...</span>
   <span class='comment val'># INSERT THIS LINE IN YOUR CONFIG</span>
   <span class='config identifier id'>config</span><span class='dot token'>.</span><span class='gem identifier id'>gem</span> <span class='string val'>&quot;amazon-ec2&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:lib</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;EC2&quot;</span>
   <span class='dot3 op'>...</span>
  <span class='end end kw'>end</span>
</pre>
<p>
<b>app/controllers/my_controller.rb</b>
</p>
<pre class="code">
  <span class='lbrack token'>[</span><span class='some identifier id'>some</span> <span class='controller identifier id'>controller</span> <span class='code identifier id'>code</span> <span class='dot3 op'>...</span><span class='rbrack token'>]</span>

  <span class='ec2 identifier id'>ec2</span> <span class='assign token'>=</span> <span class='EC2 constant id'>EC2</span><span class='colon2 op'>::</span><span class='Base constant id'>Base</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:access_key_id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;YOUR_AWS_ACCESS_KEY_ID&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:secret_access_key</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;YOUR_AWS_SECRET_ACCESS_KEY&quot;</span><span class='rparen token'>)</span>

  <span class='comment val'># get ALL public images</span>
  <span class='@ec2_images ivar id'>@ec2_images</span> <span class='assign token'>=</span> <span class='ec2 identifier id'>ec2</span><span class='dot token'>.</span><span class='describe_images identifier id'>describe_images</span><span class='lparen token'>(</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='imagesSet identifier id'>imagesSet</span><span class='dot token'>.</span><span class='item identifier id'>item</span>

  <span class='comment val'># Get info on all public EC2 images created by the Amazon EC2 team.</span>
  <span class='@ec2_images_amazon ivar id'>@ec2_images_amazon</span> <span class='assign token'>=</span> <span class='ec2 identifier id'>ec2</span><span class='dot token'>.</span><span class='describe_images identifier id'>describe_images</span><span class='lparen token'>(</span><span class='symbol val'>:owner_id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;amazon&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='imagesSet identifier id'>imagesSet</span><span class='dot token'>.</span><span class='item identifier id'>item</span>

  <span class='lbrack token'>[</span><span class='some identifier id'>some</span> <span class='more identifier id'>more</span> <span class='controller identifier id'>controller</span> <span class='code identifier id'>code</span> <span class='dot3 op'>...</span><span class='rbrack token'>]</span>
</pre>
<p>
<b>app/views/my/index.rhtml</b>
</p>
<pre class="code">
  <span class='lt op'>&lt;</span><span class='h1 identifier id'>h1</span><span class='gt op'>&gt;</span><span class='EC2 constant id'>EC2</span> <span class='Test constant id'>Test</span><span class='comment val'>#index&lt;/h1&gt;</span>

  <span class='lt op'>&lt;</span><span class='h1 identifier id'>h1</span><span class='gt op'>&gt;</span><span class='Sample constant id'>Sample</span> <span class='integer val'>1</span> <span class='minus op'>-</span> <span class='debug identifier id'>debug</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='view identifier id'>view</span><span class='lt op'>&lt;</span><span class='regexp val'>/h1&gt;

  &lt;%= debug(@ec2_images_amazon) %&gt;

  &lt;h1&gt;Sample 2 - Build a table&lt;/</span><span class='h1 identifier id'>h1</span><span class='gt op'>&gt;</span>

  <span class='lt op'>&lt;</span><span class='table identifier id'>table</span> <span class='border identifier id'>border</span><span class='assign token'>=</span><span class='string val'>'1'</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='tr identifier id'>tr</span><span class='gt op'>&gt;</span>
      <span class='lt op'>&lt;</span><span class='th identifier id'>th</span><span class='gt op'>&gt;</span><span class='image identifier id'>image</span><span class='dot token'>.</span><span class='imageId identifier id'>imageId</span><span class='lt op'>&lt;</span><span class='regexp val'>/th&gt;
      &lt;th&gt;image.imageLocation&lt;/</span><span class='th identifier id'>th</span><span class='gt op'>&gt;</span>
      <span class='lt op'>&lt;</span><span class='th identifier id'>th</span><span class='gt op'>&gt;</span><span class='image identifier id'>image</span><span class='dot token'>.</span><span class='imageOwnerId identifier id'>imageOwnerId</span><span class='lt op'>&lt;</span><span class='regexp val'>/th&gt;
      &lt;th&gt;image.imageState&lt;/</span><span class='th identifier id'>th</span><span class='gt op'>&gt;</span>
      <span class='lt op'>&lt;</span><span class='th identifier id'>th</span><span class='gt op'>&gt;</span><span class='image identifier id'>image</span><span class='dot token'>.</span><span class='isPublic identifier id'>isPublic</span><span class='lt op'>&lt;</span><span class='regexp val'>/th&gt;
    &lt;/</span><span class='tr identifier id'>tr</span><span class='gt op'>&gt;</span>

    <span class='lt op'>&lt;</span><span class='string val'>% for </span><span class='image identifier id'>image</span> <span class='in in kw'>in</span> <span class='@ec2_images_amazon ivar id'>@ec2_images_amazon</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
      <span class='lt op'>&lt;</span><span class='tr identifier id'>tr</span><span class='gt op'>&gt;</span>
        <span class='lt op'>&lt;</span><span class='td identifier id'>td</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='string val'>%=h image.imageId %&gt;&lt;/td&gt;
        &lt;td&gt;&lt;%=</span><span class='h identifier id'>h</span> <span class='image identifier id'>image</span><span class='dot token'>.</span><span class='imageLocation identifier id'>imageLocation</span> <span class='string val'>%&gt;&lt;/td&gt;</span>
        <span class='lt op'>&lt;</span><span class='td identifier id'>td</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='string val'>%=h image.imageOwnerId %&gt;&lt;/td&gt;
        &lt;td&gt;&lt;%=</span><span class='h identifier id'>h</span> <span class='image identifier id'>image</span><span class='dot token'>.</span><span class='imageState identifier id'>imageState</span> <span class='string val'>%&gt;&lt;/td&gt;</span>
        <span class='lt op'>&lt;</span><span class='td identifier id'>td</span><span class='gt op'>&gt;</span><span class='lt op'>&lt;</span><span class='string val'>%=h image.isPublic %&gt;&lt;/td&gt;
      &lt;/tr&gt;
    &lt;% end %&gt;
  &lt;/table&gt;

  &lt;h1&gt;Sample 3 - Iterate&lt;/h1&gt;

  &lt;% @ec2_images_amazon.each do |image| %&gt;
    &lt;% image.each_pair do |key, value| %&gt;
      &lt;% unless key =</span><span class='assign token'>=</span> <span class='string val'>'parent'</span> <span class='mod op'>%</span><span class='gt op'>&gt;</span>
        <span class='lt op'>&lt;</span><span class='dstring node'>%= &quot;#{key} =</span><span class='gt op'>&gt;</span> <span class='comment val'>#{value}&quot; %&gt;&lt;br /&gt;</span>
      <span class='lt op'>&lt;</span><span class='string val'>% end </span><span class='mod op'>%</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='string val'>% end </span><span class='mod op'>%</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='br identifier id'>br</span> <span class='regexp val'>/&gt;
  &lt;% end %&gt;
</span></pre>
<h3>Important notes regarding the structure of EC2::Response Objects</h3>
<p>
One of the key benefits of this new version of the library is that all
responses from EC2 are bundled up in a real data structure and no longer
require parsing of text. The hash returned is populated directly from the
XML given to us by EC2 in response to any command we issue. This means that
future changes to the API and what is returned by EC2 will be handled
transparently by the gem. This is a huge benefit. What this means though,
is that you may have to do a little homework on what actually gets returned
by EC2 as XML. For example, when you make a #describe_images call in
&#8216;ec2sh&#8217; what AWS returns behind the scenes looks like:
</p>
<pre class="code">
  <span class='lt op'>&lt;</span><span class='integer val'>?x</span><span class='ml identifier id'>ml</span> <span class='version identifier id'>version</span><span class='assign token'>=</span><span class='string val'>&quot;1.0&quot;</span><span class='question op'>?</span><span class='gt op'>&gt;</span>
  <span class='lt op'>&lt;</span><span class='DescribeImagesResponse constant id'>DescribeImagesResponse</span> <span class='xmlns identifier id'>xmlns</span><span class='assign token'>=</span><span class='string val'>&quot;http://ec2.amazonaws.com/doc/2007-01-19/&quot;</span><span class='gt op'>&gt;</span>
      <span class='lt op'>&lt;</span><span class='imagesSet identifier id'>imagesSet</span><span class='gt op'>&gt;</span>
          <span class='lt op'>&lt;</span><span class='item identifier id'>item</span><span class='gt op'>&gt;</span>
              <span class='lt op'>&lt;</span><span class='imageId identifier id'>imageId</span><span class='gt op'>&gt;</span><span class='ami identifier id'>ami</span><span class='minus op'>-</span><span class='integer val'>20</span><span class='b65349 identifier id'>b65349</span><span class='lt op'>&lt;</span><span class='regexp val'>/imageId&gt;
              &lt;imageLocation&gt;ec2-public-images/</span><span class='fedora identifier id'>fedora</span><span class='minus op'>-</span><span class='core4 identifier id'>core4</span><span class='minus op'>-</span><span class='base identifier id'>base</span><span class='dot token'>.</span><span class='manifest identifier id'>manifest</span><span class='dot token'>.</span><span class='xml identifier id'>xml</span><span class='lt op'>&lt;</span><span class='regexp val'>/imageLocation&gt;
              &lt;imageState&gt;available&lt;/i</span><span class='mageState identifier id'>mageState</span><span class='gt op'>&gt;</span>
              <span class='lt op'>&lt;</span><span class='imageOwnerId identifier id'>imageOwnerId</span><span class='gt op'>&gt;</span><span class='amazon identifier id'>amazon</span><span class='lt op'>&lt;</span><span class='regexp val'>/imageOwnerId&gt;
              &lt;isPublic&gt;true&lt;/i</span><span class='sPublic identifier id'>sPublic</span><span class='gt op'>&gt;</span>
          <span class='lt op'>&lt;</span><span class='regexp val'>/item&gt;
          &lt;item&gt;
              &lt;imageId&gt;ami-22b6534b&lt;/i</span><span class='mageId identifier id'>mageId</span><span class='gt op'>&gt;</span>
              <span class='lt op'>&lt;</span><span class='imageLocation identifier id'>imageLocation</span><span class='gt op'>&gt;</span><span class='ec2 identifier id'>ec2</span><span class='minus op'>-</span><span class='public identifier id'>public</span><span class='minus op'>-</span><span class='images identifier id'>images</span><span class='div op'>/</span><span class='fedora identifier id'>fedora</span><span class='minus op'>-</span><span class='core4 identifier id'>core4</span><span class='minus op'>-</span><span class='mysql identifier id'>mysql</span><span class='dot token'>.</span><span class='manifest identifier id'>manifest</span><span class='dot token'>.</span><span class='xml identifier id'>xml</span><span class='lt op'>&lt;</span><span class='regexp val'>/imageLocation&gt;
              &lt;imageState&gt;available&lt;/i</span><span class='mageState identifier id'>mageState</span><span class='gt op'>&gt;</span>
              <span class='lt op'>&lt;</span><span class='imageOwnerId identifier id'>imageOwnerId</span><span class='gt op'>&gt;</span><span class='amazon identifier id'>amazon</span><span class='lt op'>&lt;</span><span class='regexp val'>/imageOwnerId&gt;
              &lt;isPublic&gt;true&lt;/i</span><span class='sPublic identifier id'>sPublic</span><span class='gt op'>&gt;</span>
          <span class='lt op'>&lt;</span><span class='regexp val'>/item&gt;
          &lt;item&gt;
              &lt;imageId&gt;ami-23b6534a&lt;/i</span><span class='mageId identifier id'>mageId</span><span class='gt op'>&gt;</span>
              <span class='lt op'>&lt;</span><span class='imageLocation identifier id'>imageLocation</span><span class='gt op'>&gt;</span><span class='ec2 identifier id'>ec2</span><span class='minus op'>-</span><span class='public identifier id'>public</span><span class='minus op'>-</span><span class='images identifier id'>images</span><span class='div op'>/</span><span class='fedora identifier id'>fedora</span><span class='minus op'>-</span><span class='core4 identifier id'>core4</span><span class='minus op'>-</span><span class='apache identifier id'>apache</span><span class='dot token'>.</span><span class='manifest identifier id'>manifest</span><span class='dot token'>.</span><span class='xml identifier id'>xml</span><span class='lt op'>&lt;</span><span class='regexp val'>/imageLocation&gt;
              &lt;imageState&gt;available&lt;/i</span><span class='mageState identifier id'>mageState</span><span class='gt op'>&gt;</span>
              <span class='lt op'>&lt;</span><span class='imageOwnerId identifier id'>imageOwnerId</span><span class='gt op'>&gt;</span><span class='amazon identifier id'>amazon</span><span class='lt op'>&lt;</span><span class='regexp val'>/imageOwnerId&gt;
              &lt;isPublic&gt;true&lt;/i</span><span class='sPublic identifier id'>sPublic</span><span class='gt op'>&gt;</span>
          <span class='lt op'>&lt;</span><span class='regexp val'>/item&gt;
          &lt;item&gt;
              &lt;imageId&gt;ami-25b6534c&lt;/i</span><span class='mageId identifier id'>mageId</span><span class='gt op'>&gt;</span>
              <span class='lt op'>&lt;</span><span class='imageLocation identifier id'>imageLocation</span><span class='gt op'>&gt;</span><span class='ec2 identifier id'>ec2</span><span class='minus op'>-</span><span class='public identifier id'>public</span><span class='minus op'>-</span><span class='images identifier id'>images</span><span class='div op'>/</span><span class='fedora identifier id'>fedora</span><span class='minus op'>-</span><span class='core4 identifier id'>core4</span><span class='minus op'>-</span><span class='apache identifier id'>apache</span><span class='minus op'>-</span><span class='mysql identifier id'>mysql</span><span class='dot token'>.</span><span class='manifest identifier id'>manifest</span><span class='dot token'>.</span><span class='xml identifier id'>xml</span><span class='lt op'>&lt;</span><span class='regexp val'>/imageLocation&gt;
              &lt;imageState&gt;available&lt;/i</span><span class='mageState identifier id'>mageState</span><span class='gt op'>&gt;</span>
              <span class='lt op'>&lt;</span><span class='imageOwnerId identifier id'>imageOwnerId</span><span class='gt op'>&gt;</span><span class='amazon identifier id'>amazon</span><span class='lt op'>&lt;</span><span class='regexp val'>/imageOwnerId&gt;
              &lt;isPublic&gt;true&lt;/i</span><span class='sPublic identifier id'>sPublic</span><span class='gt op'>&gt;</span>
          <span class='lt op'>&lt;</span><span class='regexp val'>/item&gt;
          &lt;item&gt;
              &lt;imageId&gt;ami-26b6534f&lt;/i</span><span class='mageId identifier id'>mageId</span><span class='gt op'>&gt;</span>
              <span class='lt op'>&lt;</span><span class='imageLocation identifier id'>imageLocation</span><span class='gt op'>&gt;</span><span class='ec2 identifier id'>ec2</span><span class='minus op'>-</span><span class='public identifier id'>public</span><span class='minus op'>-</span><span class='images identifier id'>images</span><span class='div op'>/</span><span class='developer identifier id'>developer</span><span class='minus op'>-</span><span class='image identifier id'>image</span><span class='dot token'>.</span><span class='manifest identifier id'>manifest</span><span class='dot token'>.</span><span class='xml identifier id'>xml</span><span class='lt op'>&lt;</span><span class='regexp val'>/imageLocation&gt;
              &lt;imageState&gt;available&lt;/i</span><span class='mageState identifier id'>mageState</span><span class='gt op'>&gt;</span>
              <span class='lt op'>&lt;</span><span class='imageOwnerId identifier id'>imageOwnerId</span><span class='gt op'>&gt;</span><span class='amazon identifier id'>amazon</span><span class='lt op'>&lt;</span><span class='regexp val'>/imageOwnerId&gt;
              &lt;isPublic&gt;true&lt;/i</span><span class='sPublic identifier id'>sPublic</span><span class='gt op'>&gt;</span>
          <span class='lt op'>&lt;</span><span class='regexp val'>/item&gt;
          &lt;item&gt;
              &lt;imageId&gt;ami-2bb65342&lt;/i</span><span class='mageId identifier id'>mageId</span><span class='gt op'>&gt;</span>
              <span class='lt op'>&lt;</span><span class='imageLocation identifier id'>imageLocation</span><span class='gt op'>&gt;</span><span class='ec2 identifier id'>ec2</span><span class='minus op'>-</span><span class='public identifier id'>public</span><span class='minus op'>-</span><span class='images identifier id'>images</span><span class='div op'>/</span><span class='getting identifier id'>getting</span><span class='minus op'>-</span><span class='started identifier id'>started</span><span class='dot token'>.</span><span class='manifest identifier id'>manifest</span><span class='dot token'>.</span><span class='xml identifier id'>xml</span><span class='lt op'>&lt;</span><span class='regexp val'>/imageLocation&gt;
              &lt;imageState&gt;available&lt;/i</span><span class='mageState identifier id'>mageState</span><span class='gt op'>&gt;</span>
              <span class='lt op'>&lt;</span><span class='imageOwnerId identifier id'>imageOwnerId</span><span class='gt op'>&gt;</span><span class='amazon identifier id'>amazon</span><span class='lt op'>&lt;</span><span class='regexp val'>/imageOwnerId&gt;
              &lt;isPublic&gt;true&lt;/i</span><span class='sPublic identifier id'>sPublic</span><span class='gt op'>&gt;</span>
          <span class='lt op'>&lt;</span><span class='regexp val'>/item&gt;
      &lt;/i</span><span class='magesSet identifier id'>magesSet</span><span class='gt op'>&gt;</span>
  <span class='lt op'>&lt;</span><span class='regexp val'>/DescribeImagesResponse&gt;
</span></pre>
<p>
You can see here the XML the structure that you will need to follow when
constructing queries for information and parsing responses from EC2.
</p>
<p>
So, for example, if you wanted to get the image ID of the third image
listed in the response above you would need to do:
</p>
<pre class="code">
  <span class='rshft op'>&gt;&gt;</span> <span class='puts identifier id'>puts</span> <span class='@ec2 ivar id'>@ec2</span><span class='dot token'>.</span><span class='describe_images identifier id'>describe_images</span><span class='lparen token'>(</span><span class='symbol val'>:owner_id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'amazon'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='imagesSet identifier id'>imagesSet</span><span class='dot token'>.</span><span class='item identifier id'>item</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='imageId identifier id'>imageId</span>
  <span class='ami identifier id'>ami</span><span class='minus op'>-</span><span class='integer val'>23</span><span class='b6534a identifier id'>b6534a</span>
</pre>
<p>
EC2 will typically return sets of things (imagesSet, reservationSet, etc.)
which we map to ruby Arrays (.imagesSet.item in the example above). If you
want to iterate over a response set you will need to iterate over this
array. The Arrays will typically contain additional EC2::Response objects
that represent each individual item. You&#8217;ll find that you can use the
&#8216;ec2sh&#8217; to help you understand the structure more completely if
you try issuing commands there as a way to practice seeing what will be
returned and making sure you get exactly what you want.
</p>
<h2>Additional Resources</h2>
<h3>Project Websites</h3>
<ul>
<li>Project Home : http://github.com/grempe/amazon-ec2/tree/master

</li>
<li>Discussion Group : http://groups.google.com/group/amazon-ec2

</li>
<li>Report Bugs / Request Features : http://github.com/grempe/amazon-ec2/issues

</li>
<li>Amazon Web Services : http://aws.amazon.com

</li>
</ul>
<h2>Credits</h2>
<p>
The original code for this library was provided by Amazon Web Services, LLC
as sample code. Thanks to them for providing all of us with something to
get us started.
</p>
<h2>Contact</h2>
<p>
Comments, patches, Git pull requests and bug reports are welcome. Send an
email to mailto:glenn@rempe.us or use the Google Groups forum for this
project.
</p>
<p>
Enjoy!
</p>
<p>
Glenn Rempe
</p>

</div>
          </div>
        </div>
      </div>                    
    </div>

    <div id="footer">
      <div class="site">
        <div class="info">
          <div class="links">
            <a href="http://github.com/blog/148-github-shirts-now-available">Shirts</a> |
            <a href="http://github.com/blog">Blog</a> |
            <a href="http://support.github.com/">Support</a> |
            <a href="http://github.com/training">Training</a> |
            <a href="http://github.com/contact">Contact</a> |
            <a href="http://groups.google.com/group/github/">Google Group</a> |
            <a href="http://develop.github.com/">API</a> |
            <a href="http://twitter.com/github">Status</a>
          </div>
          <div class="company">
            <span id="_rrt" title="0.64509s from xc88-s00039">GitHub</span>
            is <a href="http://logicalawesome.com/">Logical Awesome</a> ©2009 | <a href="http://github.com/site/terms">Terms of Service</a> | <a href="http://github.com/site/privacy">Privacy Policy</a>
          </div>
        </div>
        <div class="sponsor">
          <a href="http://engineyard.com/"><img src="http://github.com/images/modules/footer/engine_yard_logo.png" alt="Engine Yard"></a>
          <div>
            Hosting provided by our<br> partners at Engine Yard
          </div>
        </div>
      </div>
    </div>
    
    <div id="coming_soon" style="display: none;">
      This feature is coming soon.  Sit tight!
    </div>

    <div id="facebox" style="display: none;">       
      <div class="popup">         
        <table>           
          <tbody>             
            <tr>               
              <td class="tl"></td>
              <td class="b"></td>
              <td class="tr"></td>             
            </tr>             
          <tr>               
            <td class="b"></td>               
            <td class="body">                 
              <div class="content"></div>                 
              <div class="footer">                   
                <a href="#" class="close"><img src="http://github.com/facebox/closelabel.gif" title="close" class="close_image"></a>                 
              </div>               
            </td>               
            <td class="b"></td>             
          </tr>             
          <tr>               
            <td class="bl"></td>
            <td class="b"></td>
            <td class="br"></td>             
          </tr>           
        </tbody>         
      </table>       
    </div>     


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-8689483-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

  </body>
</html>